
<!doctype html>
<!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension -->
<!-- saved from url=(0021)https://tiddlywiki.com -->
<html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<!--~~ Raw markup for the top of the head section ~~-->

<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<meta name="application-name" content="TiddlyWiki" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.24-prerelease" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no" />
<meta name="copyright" content="TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)

Copyright (c) 2004-2007, Jeremy Ruston
Copyright (c) 2007-2021, UnaMesa Association
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the copyright holder nor the names of its
  contributors may be used to endorse or promote products derived from
  this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE." />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>My TiddlyWiki

— Manuals in github
</title>
<!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~-->

<!--~~ Raw markup ~~-->



</head>
<body class="tc-body">
<!--~~ Raw markup for the top of the body section ~~-->

<!--~~ Static styles ~~-->
<div id="styleArea">
<style data-tiddler-title="$:/boot/boot.css" data-tiddler-type="text/css" type="text/css">/*
Basic styles used before we boot up the parsing engine
*/

/*
Error message and password prompt
*/

.tc-error-form {
	font-family: sans-serif;
	color: #fff;
	z-index: 20000;
	position: fixed;
	background-color: rgb(255, 75, 75);
	border: 8px solid rgb(255, 0, 0);
	border-radius: 8px;
	width: 50%;
	margin-left: 25%;
	margin-top: 4em;
	padding: 0 2em 1em 2em;
}

.tc-error-form h1 {
	text-align: center;
}

.tc-error-prompt {
	text-align: center;
	color: #000;
}

.tc-error-message {
	overflow: auto;
	max-height: 40em;
	padding-right: 1em;
	margin: 1em 0;
	white-space: pre-line;
}

.tc-password-wrapper {
    font-family: sans-serif;
	z-index: 20000;
	position: fixed;
	text-align: center;
	width: 200px;
	top: 4em;
	left: 50%;
	margin-left: -144px; /* - width/2 - paddingHorz/2 - border */
	padding: 16px 16px 16px 16px;
	border-radius: 8px;
}

.tc-password-wrapper {
	color: #000;
	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
	background-color: rgb(197, 235, 183);
	border: 8px solid rgb(164, 197, 152);
}

.tc-password-wrapper form {
	text-align: left;
}

.tc-password-wrapper h1 {
	font-size: 16px;
	line-height: 20px;
	padding-bottom: 16px;
}

.tc-password-wrapper input {
	width: 100%;
}
</style>
</div>
<!--~~ Static content for Google and browsers without JavaScript ~~-->
<noscript>
<div id="splashArea">


<p>This <a class="tc-tiddlylink-external" href="https://tiddlywiki.com" rel="noopener noreferrer" target="_blank">TiddlyWiki</a> contains the following tiddlers:</p><p><ul>

<li>.ost outlool fix</li>

<li>/etc/rc.local x96 backup v2</li>

<li>$:/config/OfficialPluginLibrary</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import</li>

<li>$:/config/RelinkOnRename</li>

<li>$:/config/TimestampDisable</li>

<li>$:/core</li>

<li>$:/DefaultTiddlers</li>

<li>$:/GitHub/Branch</li>

<li>$:/GitHub/Filename</li>

<li>$:/GitHub/Path</li>

<li>$:/GitHub/Repo</li>

<li>$:/GitHub/ServerURL</li>

<li>$:/GitHub/Username</li>

<li>$:/isEncrypted</li>

<li>$:/SiteSubtitle</li>

<li>$:/state/image-picker/system--1365487189</li>

<li>$:/state/search-list/selected-item--874113614</li>

<li>$:/state/showeditpreview</li>

<li>$:/state/sidebar</li>

<li>$:/state/tab-1749438307</li>

<li>$:/state/tab-2065006209</li>

<li>$:/state/tab/sidebar--595412856</li>

<li>$:/status/RequireReloadDueToPluginChange</li>

<li>$:/StoryList</li>

<li>$:/theme</li>

<li>$:/themes/tiddlywiki/snowwhite</li>

<li>$:/themes/tiddlywiki/vanilla</li>

<li>1</li>

<li>15th April 2021</li>

<li>86box emulator old windows 98/xp emulation v1</li>

<li>AC3 codec windows 11</li>

<li>Account Lockout Event ID</li>

<li>add Linux command to unraid ex. ncdu and yazi v3</li>

<li>add route to unraid from x96</li>

<li>AdGuard change password v4</li>

<li>Adguard home on openwrt r4s klever1988 v2</li>

<li>adguard lists</li>

<li>Aggregate ethernet ports windows NAS working</li>

<li>AI chat duckduckgo</li>

<li>AI generate 3d models for 3d printer</li>

<li>ai studio guidance on shared screen</li>

<li>Ajazz AKS068 Keyboard manual</li>

<li>Alldocube iplay 50 mini pro tablet mode v3</li>

<li>allow ssh connection from specific country only working v5</li>

<li>Allow web admin on WAN (Lede,OpenWRT) v2</li>

<li>Alt app installer - Installing Microsoft store apps without store</li>

<li>Amuse self hosted AI image generation windows AMD Radeon support v4</li>

<li>android in docker arm64 and x86 work in progress  v5</li>

<li>android on windows 11 including google play and sideload</li>

<li>android subsystem on windows v6</li>

<li>Android switch to tablet mode</li>

<li>antivirus forensics</li>

<li>Antiviruses for windows one time scan</li>

<li>anydesk without license with remote control</li>

<li>aria2 torrent native and OpenWRT v3</li>

<li>Aria2_AriaNG_GUI_Docker_with_mapping_manual_v3</li>

<li>aria2c optimize disk writes</li>

<li>Ariang native (no docker aria2c) v4</li>

<li>ARM, SOFTWARE  Install ARM64 Windows 11 on ARM64 QEMU System working v4</li>

<li>armbian backup v1</li>

<li>Armbian for x96plus and other android tv v3</li>

<li>Armbian resize root partition v1</li>

<li>ASCII screensavers terminal</li>

<li>ASCII video player tplay v3</li>

<li>Asus keyboard hot key lock FN Zephyrus gx701 v2</li>

<li>atop task manager for linux for debugging io and loads</li>

<li>Auto enable Bluetooth on boot</li>

<li>Awaken OS ROM Beryllium Poco F1 Miatoll Note 9s v5</li>

<li>Backup armbian using ddbr x96</li>

<li>backup rebuild EFI boot partition</li>

<li>Backup Restore proxmox v3</li>

<li>Batocera Addons</li>

<li>Batocera chromium</li>

<li>batocera containers v7</li>

<li>batocera install packages with JuNest v2</li>

<li>Batocera Installation guide Emulator v6</li>

<li>Batocera multi monitor setup</li>

<li>Batocera pro custom packages v3</li>

<li>bcache guide (ssd caching in linux) v1</li>

<li>bcache SSD read cache for HDD v3</li>

<li>BlissOS android x86</li>

<li>Bluetooth commands v1</li>

<li>Bluetooth disappeared fix</li>

<li>Bluetooth Linux v2</li>

<li>boot from wim (strelec)</li>

<li>Boot to UEFI shortcut</li>

<li>bpytop htop alternative (x86 and arm64)</li>

<li>Brave browser with TOR for rutracker.org access</li>

<li>brew - Homebrew package management for Linux v3</li>

<li>bt trackers for aria torrent</li>

<li>BTRFS defragment v3</li>

<li>Bypass TPM windows 11 install</li>

<li>caching network drives on windows client (like primocache)</li>

<li>Capture card 4k gaming</li>

<li>Carbonyl/Browsh ASCII based text browser v3</li>

<li>casaos selfhost docker based alternative to yunohost inc. WLS2 systemd enablement v9</li>

<li>Certificate install (yunohost dyndns)</li>

<li>Change HyperV default VM location</li>

<li>Chatbot selfhosted v5</li>

<li>cheat engine url link</li>

<li>Check compression ratio on BTRFS volume v2</li>

<li>Check HW acceleration GPU acceleration in browser</li>

<li>Check Intel GPU iGPU usage in Linux</li>

<li>Check multiple iso images in current directory using 7zip</li>

<li>Check NTFS disk in Linux</li>

<li>Check remote port opened with netcat</li>

<li>chrome browser in docker v9</li>

<li>ClamAV antivirus on arm64 v12</li>

<li>clean edge data cache</li>

<li>clean teams cache v2</li>

<li>Clean temporary cache in windows</li>

<li>Clear video graphics memory buffer in windows</li>

<li>cloud commander - web based file access (filestash alternative) v5</li>

<li>cockpit web interface for Linux administration v2</li>

<li>Code generator AI engines</li>

<li>collabora docker without ssl</li>

<li>Compare two folders windows v2</li>

<li>Compress windows c: with lzx v3</li>

<li>Consoles bioses for emulators: ps nintendo sega xbox etc</li>

<li>convert ext (ext4) to btrfs for best performance v2</li>

<li>Convert google keep to Evernote v1</li>

<li>Convert google keep to text v3</li>

<li>convert vmdk to vhd for ventoy linux boot v2</li>

<li>cp progress in Linux v2</li>

<li>CPU history Windows process monitor to find miners v2</li>

<li>crdroid 10 updates android 14</li>

<li>crdroid microphone fix</li>

<li>crdroid on xiaomi note 9s v21</li>

<li>Create efi partition for WinNTSetup v3</li>

<li>create ext4 partition</li>

<li>create torrent and seed it in Linux terminal v2</li>

<li>crontab backup and restore</li>

<li>crontab periodical commands x96 backup v15</li>

<li>Crystal dock - cairo nad OSX dock alternative</li>

<li>curl samba and other options</li>

<li>Custom temp folder for executable</li>

<li>Customize sandbox</li>

<li>dangbei u1 projector restore after update/reset</li>

<li>Dark mode shortcut and task scheduler</li>

<li>dav2fs mount yandex</li>

<li>ddns no-ip settings for OpenWrt ImmortalWrt</li>

<li>debug rclone</li>

<li>defragment vhd contig sysinternals</li>

<li>delete directory recursively windows command</li>

<li>Delete NLTmpMnt (1) folder</li>

<li>delete on reboot</li>

<li>DesktopNow remote access pc in browser over html5</li>

<li>DHCP server and NAT Linux and r5s benchmark</li>

<li>Differential vhd native boot windows v4</li>

<li>dimmer - brightness lower than minimal windows</li>

<li>DIR tree HDD content</li>

<li>disable miner virus running while idle - maintenance.exe</li>

<li>Disable windows core isolation for better performance and comaptibility</li>

<li>Disable windows lockout network share and remote access</li>

<li>Disk health monitoring v2</li>

<li>Disk info</li>

<li>dmesg</li>

<li>Docker apps v4</li>

<li>Docker change storage location on OpenWRT v4</li>

<li>Docker commands and migration v2</li>

<li>docker compose commands</li>

<li>Docker container running on unraid n5105</li>

<li>docker enter container shell example</li>

<li>docker fixing overlay - no space left on device</li>

<li>docker get logs of specific container - fixes qbittorrent temp password</li>

<li>docker get to shell (bash into running docker)</li>

<li>Docker install on debian</li>

<li>docker remove unused images v2</li>

<li>docker rename container</li>

<li>Docker swamp HA cluster</li>

<li>Docker usage commands v1</li>

<li>docker-android using qemu working</li>

<li>Dolphin emulator ultra-wide 21:9 aspect v1</li>

<li>Download link</li>

<li>Download Microsoft Store app for offline use</li>

<li>Download Microsoft Store app locally v2</li>

<li>download site from webarchive v2</li>

<li>Draft of 'New Tiddler'</li>

<li>dropit multiple archive file extractor</li>

<li>dual channel windows RAM check</li>

<li>dual monitor linux</li>

<li>Dual monitor Linux v2</li>

<li>Duckstation PS1 emulator covers</li>

<li>dufs - web based file access (filestash alternative) v4</li>

<li>Edge edit autofill</li>

<li>edge enhanced video</li>

<li>edge pdf edit Hebrew disappearing fix</li>

<li>emulatorjs web based rom emulation v2</li>

<li>enable disable audio device windows powershell</li>

<li>enable powershell scripts in windows</li>

<li>Enable root login over SSH:</li>

<li>Enable wazuh modules Virustotal example v2</li>

<li>enter flatpak filesystem in the container</li>

<li>ExactFile CRC disk file creator comparison</li>

<li>exchanging ssh keys between Unraid and x96 v4</li>

<li>execute command in running container v2</li>

<li>Experimental not working</li>

<li>Expose docker to wan (working)</li>

<li>Extract .xz image</li>

<li>Extract archive files from current directory and delete if successful</li>

<li>extract/compress each file to separate zip v7</li>

<li>fail2ban Ban an IP after multiple failed SSH login attempts v8</li>

<li>fastboot AMD ryzen fix (also works for intel)</li>

<li>FastCopy alternative to SyncFolders for copying small files in windows v2</li>

<li>Fastest mirror debian v1</li>

<li>Filestash build arm64 v5</li>

<li>Filestash in Unraid v2</li>

<li>filestash native (arm64) (like nextcloud web files over ssh) v7</li>

<li>Filestash web file browser docker (OnlyOffice only x86)</li>

<li>Filestash with OnlyOffice working v13</li>

<li>Find idle tasks in task manager to delete miners viruses v3</li>

<li>fisx samba in immortalWrt OpenWrt v2</li>

<li>Fix 0.0.0.0 in portainer 2.11</li>

<li>fix amd radeon adrenaline not opening</li>

<li>fix android auto error 22 with magisk and systemizer works in adnroid 14 v8</li>

<li>fix dns name resolution in terminal</li>

<li>Fix grey question marks on all proxmox VMs</li>

<li>Fix internet sharing in windows 11 - not working</li>

<li>fix mortal kombat 11 xbox gamepad issue</li>

<li>Fix No Sound Through HDMI In External Monitor In Ubuntu Linux</li>

<li>Fix proxmox management IP v2</li>

<li>Fix windows file sharing lockout errors 4740 1909</li>

<li>Fix windows machine cannot receive ping</li>

<li>Fixing NetworkManager Bond Interface Configuration</li>

<li>Format disk 4k in windows</li>

<li>FPS frame limiter RTSS v4</li>

<li>Free space in Linux</li>

<li>Free undelete/recovery tools for windows</li>

<li>Free wallpaper collections 4k v3</li>

<li>FreshRSS 403 error fix</li>

<li>FreshRSS add feed direct link</li>

<li>FriendlyRSS v2</li>

<li>fsck check EXT4 BTRFS disk v12</li>

<li>Full log fix x96 /var/log</li>

<li>Fusion openwrt torrentserver v1</li>

<li>fusionwrt docker fix network v1</li>

<li>FusionWRT v9</li>

<li>Game launcher html chat.deepseek.com AI generated</li>

<li>GameLauncher Deepseek creates html with game library v.9.1</li>

<li>Gamevault  self hosting games server like steam</li>

<li>gapps android 12</li>

<li>Generate github token, setup TiddlyWiki on github</li>

<li>Get external ip (wan) from terminal console</li>

<li>get latest file from specific type for scripting</li>

<li>Get linux version in terminal</li>

<li>gitlab on openwrt not working</li>

<li>glances alternative to htop atop showing external IP dockers and temperatures v7</li>

<li>gmail attachments to google drive (gdrive)</li>

<li>google backup security keys generation</li>

<li>Google fastboot driver</li>

<li>Google photos export to zip direct link</li>

<li>Gparted ISO remaster</li>

<li>GPU partitioning: sharing GPU v7</li>

<li>Gpu Passthrough on system with one gpu : r/unRAID v9</li>

<li>GPU passthrough topics v1</li>

<li>Graceful shutdown on low battery v4</li>

<li>Guacamole http web based RDP VNC server v4</li>

<li>h5ai docker installation r4s arm v2</li>

<li>hackintosh ventura beta v1</li>

<li>HDR shortcut windows 11 v2</li>

<li>hide partition remove drive letter in windows terminal v2</li>

<li>Hisense tips</li>

<li>Home Assistant smart home self hosted v6</li>

<li>Home Assistant with Olama AI and voice assistant in docker v8</li>

<li>Hostname change linux</li>

<li>How to Check/Show/Set/Change/Modify current disk caching values (vm.dirty_ratio, vm.dirty_background_ratio etc.) on Linux/Debian/Ubuntu/Kali Linux/Fedora/RedHat/Rocky Linux etc. &gt; Blog-D without Nonsense</li>

<li>How To Disable Web Search Results On Windows 11</li>

<li>How to Turn Off Windows Defender (Permanently) v3</li>

<li>Hyper-v windows 11 guest settings v3</li>

<li>ics internet connection sharing fix</li>

<li>immich - best self hosted google photos alternative with android app and sync v19</li>

<li>immich synchronization between dockers v5</li>

<li>immich-go script for google takeout import to immich v1</li>

<li>ImmortalWRT nanopi R4S v1</li>

<li>Import delimited csv text to excel 365</li>

<li>Install 7zip in linux (arm64)</li>

<li>install apps without windows store</li>

<li>install optional features in windows</li>

<li>install osx mac os on not supported legacy macs</li>

<li>Install proton in ubuntu</li>

<li>Install Ventoy to HDD</li>

<li>install wetty on armbian arm v8</li>

<li>install windows without internet</li>

<li>Install WSL2 in Windows 10 v2</li>

<li>Install/Update AdGuard home native - OpenWrt v4</li>

<li>Installing Android Auto separately from recovery</li>

<li>Integrate AI into bash, ChatGPT embedded in Linux</li>

<li>investigate iowait v2</li>

<li>Invoke AI image generator self-hosted v3</li>

<li>iostat alternative to iotop v2</li>

<li>iostat iowait</li>

<li>iowait fix to check</li>

<li>ip commands</li>

<li>iperf3 speed test v2</li>

<li>iptables Forward port traffic to another PC in Linux v3</li>

<li>isd systemd management</li>

<li>iventoy in proxmox host v7</li>

<li>jan.ai change data folder for models</li>

<li>Jan.ai pdf and other documents support (knowledge retrieval) v3</li>

<li>Jdownloader ARM headless v7</li>

<li>Jellyfin docker (emby alternative) v4</li>

<li>Jellyfin on Proxmox with GPU acceleration transcoding v12</li>

<li>Jellyfin transcode cleanup script</li>

<li>jinn2usb usb with strelec v2</li>

<li>Kasm desktop in docker arm64/x86 with GPU passthrough v17</li>

<li>kasmvncserver web-based html VNC server for Linux v3</li>

<li>KDE fix no GUI terminal on start</li>

<li>kill zombie process</li>

<li>Killercoda manual v2</li>

<li>KodExplorer KodBox file browser web access synology alternative v9</li>

<li>kvm installation on Arch Linux (HoloISO)</li>

<li>Lancache DNS and proxy cache for games v1</li>

<li>Launchbox demul run dreamcast gdi from zip and xenia XBLA from rar v7</li>

<li>Launcher</li>

<li>LeedRSS self hosted like FreshRSS v1</li>

<li>Links v39</li>

<li>linux emergency reboot shutdown</li>

<li>linux file system integrity periodical checks aide</li>

<li>Linux find duplicate files v3</li>

<li>Linux logs</li>

<li>Linux processes and services</li>

<li>Linux programs on android termux (nextcloud example)</li>

<li>Linux show number of files in folder v2</li>

<li>Linux Single GPU Passthrough guide</li>

<li>Linux Swap setup v5</li>

<li>linux systemd fix btrfs (x96 example) v7</li>

<li>Linux touch to click v1</li>

<li>LinuxDir2HTML Snap2HTML clone for Linux v4</li>

<li>LMStudio AI DeepSeek localhosted with AMD Radeon GPU support v6</li>

<li>Local user with no password windows 11</li>

<li>Log2RAM</li>

<li>Log2RAM v3</li>

<li>Login history linux</li>

<li>LXC GUI manual</li>

<li>lxc install on openwrt friendlyelec v13</li>

<li>MacOS in Hyper-V</li>

<li>MacOS OSX NTFS write support Monterey v2</li>

<li>Mail Outlook gmail backup pst ost v2</li>

<li>Make_WinPE - Boot and Make PE WIM File from x64 Windows ISO v1</li>

<li>Make_WinPE original readme</li>

<li>Manage windows from web WindowsAdminCenter</li>

<li>Manjaro lxd lxc v10</li>

<li>Manjaro network hints</li>

<li>Memory diagnostic in windows memtest</li>

<li>mergefs volume aggregation mount disk together v2</li>

<li>metric prioritizing network interface in windows v3</li>

<li>midjourney ai generate pictures discord v4</li>

<li>Migrate container docker export</li>

<li>mikrotik proxmox v2</li>

<li>Mikrotik RouterOS on Unraid</li>

<li>Mini WinPE (64bit) no network 260MB</li>

<li>miniflux rss reader linux like freshrss native v7</li>

<li>Minimal windows 10 as NAS in Proxmox v3</li>

<li>mirror one monitor and extend other</li>

<li>Monitor switch force on windows 11</li>

<li>Monitorian v3</li>

<li>Mount ext4 in windows wsl</li>

<li>mount samba (SMB) in linux working v7</li>

<li>mount unmount to proxmox lxc container</li>

<li>move window to specific monitor v2</li>

<li>move with sync between the files only nonexistent verbose files for loop for SMR disks freezing v3</li>

<li>mpv video player with 4k enhancement v2</li>

<li>msconfig change boot order BCD manipulation</li>

<li>Multiboot wim create USB (ventoy alternative) v1</li>

<li>MyAsus without MS store manual install</li>

<li>n5105 gpu passthrough video v4</li>

<li>n5105 passthrough v1</li>

<li>nala package manager v2</li>

<li>nanopi r4s opensense opnsense pfsense v2</li>

<li>Nanopi R4S original OpenWRT</li>

<li>NAS server useful programs (n5105) v5</li>

<li>ncdu gdu export to browsable file snap2html/LinuxDir2HTML alternative v4</li>

<li>ncdu gdu show consumed disk usage utilization</li>

<li>netdata -live monitoring with web view v6</li>

<li>Netdata monitoring on OpenWRT v2</li>

<li>Netlink bandwidth monitor openwrt show traffic by IP</li>

<li>New android apps to install v7</li>

<li>New TiddlerUsing Termux on Android for Self Hosting? Yes, really.</li>

<li>Nextcloud arm64 in docker nextcloudpi</li>

<li>Nextcloud too many requests troubleshooting</li>

<li>nextcloud untrusted domain fix</li>

<li>nginx proxy fix google alerting as dangerous site</li>

<li>Nginx Proxy Manager https SSL certificate install on local network duck dns reverse proxy nginx proxy server v16</li>

<li>nload - Real time network traffic monitor for the text console</li>

<li>no sign in after sleep</li>

<li>nobara linux gaming proton setup v4</li>

<li>Nobara linux gaming proton steam v4</li>

<li>Nobara linux smb on filesystem when connected in dolphin</li>

<li>nobara mount nfs to unraid v4</li>

<li>Nobara network bond in broadcast mode 3 interfaces v3</li>

<li>noip free alternative static hostname</li>

<li>Normalize sound windows</li>

<li>npm nvm package manager v5</li>

<li>NSSM Run any exe as service in Windows</li>

<li>Offline files windows local SSD cache for NAS</li>

<li>OhMyZsh ZSH alternative to bash shell v3</li>

<li>OMV OpenMediaVault - Fix samba error on execution of exe v2</li>

<li>onboard on screen keyboard Linux</li>

<li>oneclick macos install in KVM inc. WSL2</li>

<li>onlyoffice integration plugins</li>

<li>OnlyOffice server docker supports arm64 v6</li>

<li>OnlyOffice windows server manual v1</li>

<li>open ports OpenWrt ImmortalWrt</li>

<li>OpenMediaVault OMV v4</li>

<li>OpenWRT (original ext4) resize partition on the fly v5</li>

<li>OpenWRT AP wireless access point guide</li>

<li>OpenWRT BTRFS v4</li>

<li>OpenWRT custom DNS</li>

<li>OpenWRT custom image generator R4S v2</li>

<li>openwrt docker fix</li>

<li>OpenWRT docker host network working v2</li>

<li>openwrt enable wan access (administration from internet)</li>

<li>openwrt file browsers v4</li>

<li>OpenWRT format disk in GUI (BTRFS) v2</li>

<li>OpenWRT generate x86 64bit image v1</li>

<li>OpenWRT ImmortalWRT expose docker to internent WAN</li>

<li>OpenWrt ImmortalWrt samba v1</li>

<li>OpenWRT in Unraid v12</li>

<li>openwrt in unraid vm</li>

<li>OpenWRT in virtualbox v1</li>

<li>openwrt kvm host</li>

<li>OpenWRT KVM server</li>

<li>OpenWRT Live USB x86 and net commands v14</li>

<li>Openwrt r4s klever1988 samba</li>

<li>openwrt resize partition on the fly with docker v7</li>

<li>Openwrt set DNS</li>

<li>openwrt wifi ax210 MT7922</li>

<li>OpenWRT x86 custom image build v9</li>

<li>opkg upgrade all packages openwrt v2</li>

<li>opnsense adguard home installation v1</li>

<li>opnsense resize partition v2</li>

<li>opnsense speedtest install v1</li>

<li>OSX hackintosh in UNRAID v2</li>

<li>OSX in docker</li>

<li>Overclocking and benchmarking CPU v5</li>

<li>Overlay HUD AMD alternative</li>

<li>owncloud commands</li>

<li>Pair bluetooth speaker to google nest</li>

<li>parsec install on linux (client only) using flatpak</li>

<li>Parsec remote Linux acceleration fix</li>

<li>parsec web access</li>

<li>Partition types GUID</li>

<li>Passthrough USB device to LXC keeping the path /dev/bus/usb/00x/00y</li>

<li>PCSX2 PS2 emulator download covers</li>

<li>PDFGear pdf convertor translator with AI</li>

<li>PhotoPrism self hosted Google Photos replacement</li>

<li>pi-hole (pihole) AgGuardHome alternative v14</li>

<li>pialert pi alert shows online devices with port scanner v2</li>

<li>Pigallery 2 google photo replacement best</li>

<li>pihole docker v3</li>

<li>PiKVM enable VNC v3</li>

<li>PiKVM manual v8</li>

<li>pikvm mass storage v1</li>

<li>pikvm mount image as writable flash v4</li>

<li>pikvm networking ethernet gadget v5</li>

<li>Pikvm raspberry pi zero 2w manual v1</li>

<li>pikvm restart pikvm os without reboot</li>

<li>pikvm start on boot v3</li>

<li>pikvm tailscale</li>

<li>pikvm USB CD switch without reboot windows</li>

<li>PiKVM with KVM switch - remote switch</li>

<li>Piwigo google photos replacement</li>

<li>Play ps2 games in web browser online</li>

<li>PLoP boot manager VMWare boot from USB</li>

<li>podman commands</li>

<li>Port scanning</li>

<li>Portable VirtualBox and other portable apps</li>

<li>portainer r4s immortalwrt v2</li>

<li>Porteus kiosk changelog v8</li>

<li>Porteus kiosk changelog v9</li>

<li>Porteus kiosk chrome extensions v3</li>

<li>porteus kiosk module mastering (tilda example)</li>

<li>Porteus_Kiosk_remastering v8</li>

<li>power off shutdown windows from remote desktop session</li>

<li>Powertoys -  open window where the mouse is</li>

<li>progress for rsync tqdm and pv v5</li>

<li>project elixir miatoll redmi note 9s v2</li>

<li>Proxmox AMD Radeon fix</li>

<li>Proxmox BIOS, secure boot, boot order, ISO mount</li>

<li>proxmox change IP to DHCI v2</li>

<li>proxmox cli commands</li>

<li>Proxmox disk commands and performance tweaks v3</li>

<li>proxmox fix realtek rtl8152 usb 2.5gbps network adapter</li>

<li>Proxmox GPU passthrough short version working v7</li>

<li>Proxmox GPU passthrough v2</li>

<li>Proxmox GPU Passthrough working v2</li>

<li>Proxmox GUI on host X11 not working</li>

<li>Proxmox host connect to samba share</li>

<li>Proxmox iGPU Intel 630 gpu passthrough v3 not working</li>

<li>Proxmox install Openwrt v11</li>

<li>Proxmox install windows VM NAS v3</li>

<li>Proxmox LXC container resize volume disk v3</li>

<li>Proxmox LXC containers v1</li>

<li>Proxmox LXC create service for autostart v1</li>

<li>proxmox lxc docker</li>

<li>Proxmox LXC docker and GPU passthrough</li>

<li>Proxmox on arm64 raspberry pi 4 v4</li>

<li>Proxmox on raspberry pi 4 linux vm working</li>

<li>Proxmox on raspberry pi4 network fix</li>

<li>Proxmox onboard devices passthrough crashes host</li>

<li>Proxmox passthrough disk</li>

<li>Proxmox repositories fix v1</li>

<li>proxmox show VM image disk info on the host</li>

<li>Proxmox storage types for snapshots</li>

<li>proxmox temperature monitoring on status screen - Not workingv1</li>

<li>proxmox temperatures in terminal v1</li>

<li>proxmox upload large ISOs using scp</li>

<li>Proxmox USB passthrough optimization</li>

<li>Proxmox useful scripts</li>

<li>proxomox ZFS NAS v5</li>

<li>proxy server for old browsers (IE 5, windows NT)</li>

<li>PSX and Duckstaion covers downloader</li>

<li>Put games into vhd containers and mount from SMB network for faster move v5</li>

<li>PXE boot and DHCP server windows</li>

<li>pydio arm64 collabora v3</li>

<li>qbittorrent dark theme</li>

<li>qbittorrent link adder chrome extension add magnet on right click v2</li>

<li>Qbittorrent with Jdownloader in LXC container on Proxmox v8</li>

<li>R4S apps used 14GB yunohost</li>

<li>R4S Yunohost installation from scratch</li>

<li>R4S Yunohost installation from scratch v12</li>

<li>R4S Yunohost installation from scratch v9</li>

<li>RAM cache</li>

<li>Raspberry boot from USB and GUI raspbian lite</li>

<li>Raspberry Pi4 wifi auto connect</li>

<li>raspbery nextcloud distro nextcloudpi v1</li>

<li>rclone config file move to another computer</li>

<li>rclone install/update v2</li>

<li>rclone mailru setup cloud.mail.ru v3</li>

<li>re-negotiate network speed linux</li>

<li>Realtek 8152 USB Ethernet network adapter OpenWRT v1</li>

<li>Realtek RTL8125 USB 2.5Gbps windows drivers 10.72 official with RSS support v3</li>

<li>redmi twrp v6</li>

<li>remmina vnc html</li>

<li>Remote desktop win 11</li>

<li>Remote desktop without password (blank empty password)</li>

<li>Remote PC monitoring on android</li>

<li>remote restart windows PC over powershell</li>

<li>remount as write to fix ext4 fsck v3</li>

<li>Remove managed by your organization Edge policies v2</li>

<li>Remove or reinstall docker and network from OpenWRT v6</li>

<li>Remove restore notification from Edge</li>

<li>Rename Wazuh agent</li>

<li>renew IP from dhcp one line</li>

<li>renew release ip address in linux dhclient</li>

<li>repair or copy bcd from running windows to another partition</li>

<li>reset disk smart s.m.a.r.t. health status in hard disk sentinel</li>

<li>Reset Portainer password (user admin)</li>

<li>Reset windows login password v2</li>

<li>resize microSD openwrt v2</li>

<li>RetroArch allow accessing smb in nobara</li>

<li>Retroarch update core (dolphin example) v2</li>

<li>robocopy v2</li>

<li>Route all traffic (passthrough) from one port to another on unraid v7</li>

<li>RPCS3 game updates download link</li>

<li>Rsync automatic on change inotifywait</li>

<li>rsync delete source files after sync</li>

<li>rsync move files</li>

<li>rsync over ssh</li>

<li>rsync v4</li>

<li>run history delete windows 11/10 v2</li>

<li>run wetty in docker once</li>

<li>running vhd created in WinNTSetup in hyperv</li>

<li>rustdesk remote desktop - self hosted anydesk/teamviewer alternative v3</li>

<li>Samba tuning RAM and cache v2</li>

<li>SAMBA tuning UNRAID v2</li>

<li>SAMBA v6</li>

<li>scan all open ports in local network and show protocols</li>

<li>Scan LAN and get Windows host names</li>

<li>scrcpy android phone show in windows v8</li>

<li>scrcpy docker v3</li>

<li>scrcpy in docker (Arch linux) v2</li>

<li>Screen command v3</li>

<li>Script backup</li>

<li>Scripts v16</li>

<li>Scripts v2</li>

<li>Scripts v9</li>

<li>security tools v1</li>

<li>selfhost r4s useful programs</li>

<li>Selfhosted list</li>

<li>Serveo.Net and dataplicity access local ports from remote server</li>

<li>Set MTU in windows (tailscale) OpenWRT and Realtek 2.5 Gbps USB Jumbo Frames tuning</li>

<li>set permission in command prompt windows</li>

<li>set power button to put pc to sleep mode</li>

<li>share clipboard for collaborative work updating in real-time</li>

<li>share several disks in one folder windows v1</li>

<li>Share text and scripts in github like pastebin</li>

<li>Sharicov Essential fresh boot tools 11/23 iso</li>

<li>show all connected users in linux</li>

<li>Show all installed packages in linux (yunohost)</li>

<li>show all lines that are not hashed (#)</li>

<li>Show container size and location with container name</li>

<li>show open ports Linux v2</li>

<li>show open ssh sessions</li>

<li>show set routing table in windows v2</li>

<li>Show tray on non main monitor windows 10/11</li>

<li>shutdown host from docker</li>

<li>SMB performance tuning</li>

<li>SMR check by serial number</li>

<li>SMR tests in linux</li>

<li>snapshot vm unraid</li>

<li>speed test internet netspeed in terminal v4</li>

<li>SSH android phone (ssh server) v1</li>

<li>ssh autologin RSA v2</li>

<li>ssh rsa key auto login OpenWrt ImmortalWrt</li>

<li>ssh server and run mc in single line</li>

<li>Steam Library on network drive</li>

<li>Steam Linux windows game install</li>

<li>sunshine for linux (parsec alternative)</li>

<li>Swappiness swap tuning v3</li>

<li>sync android phone photos over ssh (filestash) v2</li>

<li>sync.sh x96 backup v6</li>

<li>Syncfolders fast syncronize folders in Windows with scheduler</li>

<li>Syncthing v11</li>

<li>systemd commands failed degraded services v3</li>

<li>Tailscale access to home subnets Unraid or 96 v5</li>

<li>tailscale fix windows</li>

<li>tailscale install armbian x96</li>

<li>Tailscale integration into docker container v2</li>

<li>tailscale on openwrt fusionwrt v12</li>

<li>Temperature monitoring Linux terminal v11</li>

<li>Terminal messages disable Linux</li>

<li>test</li>

<li>Test disk speed</li>

<li>TiddlyWiki on Github manual v3</li>

<li>timestamp to a file</li>

<li>tiny11 tiny10 windows 10GB</li>

<li>tinycore_2021_v1</li>

<li>To monitor each interface of bond0 in real time</li>

<li>Top AI sites of 2023</li>

<li>TPlink revert to original firmware (stripping) v1</li>

<li>Troubleshooting proxmox no VMs after power shutdown</li>

<li>TrueNAS tips v2</li>

<li>Try Winaero Twеaker now!  Desktop gadgets and sidebar for Windows 10/11</li>

<li>Turn On or Off &quot;Always show all icons and notifications on the taskbar&quot; in Control Panel</li>

<li>Twinkle tray brightness control fix KVM switch refresh v2</li>

<li>ubuntu clean old snaps versions</li>

<li>ubuntu release upgrade</li>

<li>ultrawide youtube v2</li>

<li>unattend-generator for winntsetup</li>

<li>uninstall docker in linux</li>

<li>unraid 7 clean-empty disk using mover</li>

<li>unraid add disk with data</li>

<li>unraid aria2 fix download permissions</li>

<li>unraid backup configuration v2</li>

<li>Unraid backup scripts v3</li>

<li>UNRAID benchmark Physical vs Virtual</li>

<li>Unraid BTRFS disk check</li>

<li>UNRAID btrfs unmountable fix v4</li>

<li>unraid change ssd nvme in cache</li>

<li>Unraid check read speed of disk</li>

<li>Unraid check set WCE buffered writes v2</li>

<li>Unraid connect to VM for remote desktop or samba</li>

<li>Unraid crack 6.11.1 v18</li>

<li>unraid crystal mark benchmark 1pass 512MB Seq</li>

<li>unraid dhcp server</li>

<li>unraid docker fix</li>

<li>Unraid docker operations in CLI</li>

<li>Unraid exclusive share and delete folders forecefuly</li>

<li>unraid fdupes - duplicates find across disks</li>

<li>Unraid find duplicate files fdupes and file integrityv2</li>

<li>Unraid fine tuning v4</li>

<li>Unraid fix 	VM Autostart disabled due to vfio-bind error</li>

<li>Unraid fix boot menu</li>

<li>Unraid fix docker image being corrupted</li>

<li>Unraid fix mover not cleaning cache</li>

<li>unraid fix network eth0 does not exist v3</li>

<li>UNRAID fix permission qbittorrent jdownloader running in docker (UID/PUID) v2</li>

<li>Unraid fix permissions</li>

<li>Unraid fix Realtek USB 2.5Gbpe r8152 r8156 v2</li>

<li>unraid fix samba mount in linux</li>

<li>unraid fix screen error v2</li>

<li>Unraid fix unraid retry unmounting user shares v4</li>

<li>UNRAID GUI from CLI</li>

<li>Unraid hombrew custom images v7</li>

<li>Unraid in VMWare working v4</li>

<li>Unraid initial tasks v6</li>

<li>Unraid install custom docker containers from dockerHub</li>

<li>unraid kvm auto connect usb keyboard and mouse</li>

<li>Unraid link aggregation - bond v2</li>

<li>unraid lsof show open files</li>

<li>unraid monitoring load (SMR write)</li>

<li>Unraid move data between disks v6</li>

<li>Unraid mover customization v1</li>

<li>Unraid mover run manually v2</li>

<li>Unraid n100 igpu passthrough without HDMI checked on clean 7.0.1</li>

<li>UNRAID ncdu iotop</li>

<li>Unraid network adapter reset fix - not tested</li>

<li>Unraid network terminal commands</li>

<li>unraid pass gpu notes v5</li>

<li>unraid passthrough nvme</li>

<li>Unraid passthrough nvme disk</li>

<li>unraid remove 15 min lock on wrong password in WebGUI</li>

<li>unraid reset root pasword to empty v2</li>

<li>unraid restart web GUI v3</li>

<li>Unraid root share v2</li>

<li>Unraid rsync with screen custom script example v2</li>

<li>Unraid set zfs arc size</li>

<li>unraid shared folder for VM v5</li>

<li>Unraid SMR fix v3</li>

<li>Unraid stop mover</li>

<li>Unraid switch VMs script</li>

<li>unraid tailscale or any custom linux v6</li>

<li>Unraid terminal commands install packages v11</li>

<li>Unraid trim mounted SSD pool</li>

<li>unraid vm network settings v3</li>

<li>Unraid write to specific disk</li>

<li>unraid zfs check compression ratio</li>

<li>Unraid ZFS creation and move data on running system v2</li>

<li>unrar extract overwriting updated files only</li>

<li>Untitled</li>

<li>Update portainer v10</li>

<li>Upgrade debian 11 to 12 on x96 max plus v3</li>

<li>uptime kuma monitor uptime of servers</li>

<li>USB 2.5Gbps for unraid r8152</li>

<li>USB disk mount (fstab) v7</li>

<li>usb disk uasp protocol</li>

<li>USB over IP sharing killercoda v2</li>

<li>USB speed in linux</li>

<li>USB tree and power consumption linux</li>

<li>usbmount</li>

<li>Used disks prices</li>

<li>useful containers</li>

<li>Useful Linux commands v1</li>

<li>Useful proxmox command for VMs and LXC container manipulation v2</li>

<li>useful qm proxmox CLI commands and Ubuntu 24.04 on raspberry proxmox arm64</li>

<li>Useful Unraid plugins v23</li>

<li>v86 virtual machine in browser</li>

<li>Ventoy create image in Linux also for pikvm v3</li>

<li>virtio iso download for unraid and proxmox</li>

<li>Virtual USB in VMWare v6</li>

<li>VM tools for VMWare with Vista support</li>

<li>VMWare scsi controllers types</li>

<li>VMWare workstation/fusion free download</li>

<li>vsftpd FTP server v4</li>

<li>Wake on Lan v6</li>

<li>Wake on Lan WoL Sleep on Lan SoL on unraid v5</li>

<li>Wakelock disable/ignore Android</li>

<li>watch your lan on proxmox</li>

<li>wazuh agent on proxmox host</li>

<li>Wazuh appdata and Save Games monitoring for game saves changes v2</li>

<li>wazuh linux and windows file monitor integrity check in realtime using auditd v4</li>

<li>wazuh security dashboard server x86 only v17</li>

<li>wazuh time zone change</li>

<li>wazuh troubleshooting</li>

<li>wazuh troubleshooting file monitoring</li>

<li>wazuh windows startup monitoring</li>

<li>Web browser benchmarks</li>

<li>web terminals v2</li>

<li>webmin web based monitoring and management</li>

<li>webtop web gui linuxes in docker sandbox using guacamole v7</li>

<li>wget opera windows version</li>

<li>whatsapp link to chat (api and web)</li>

<li>whosinmylan watchyourlan alternative v2</li>

<li>wifi speed test android analyzer v1</li>

<li>Window server core add explorer device manager and other</li>

<li>Windows 10 interface improvement add blur v3</li>

<li>Windows 10 low RAM memory script win10debloat.ps1 v2</li>

<li>windows 11 fix ping not working between windows machines</li>

<li>Windows 11 link aggregation in PowerShell</li>

<li>windows 11 live subtitles captions</li>

<li>windows center any window multi monitor</li>

<li>windows cursor shadow and other effects</li>

<li>windows datacenter server 2022 tips</li>

<li>Windows drivers search on MS site</li>

<li>windows eth port bonding aggregating virtual switch v3</li>

<li>Windows firewalls</li>

<li>Windows games in Linux - Bottle</li>

<li>windows in docker v4</li>

<li>windows insider iso download official</li>

<li>windows sandbox customization v7</li>

<li>windows server 2022 ati drivers</li>

<li>Windows Server 2022 settings v1</li>

<li>windows server programs and tips v1</li>

<li>Windows shortcuts v1</li>

<li>Windows startup folder</li>

<li>windows switch to safe mode</li>

<li>WinNTSetup multiboot from WIM fix</li>

<li>Wireless display (Miracast) Windows 10/11 server projection server v7</li>

<li>Wolcen Lords of Mayhem fix screen resolution</li>

<li>Write cache topic WD</li>

<li>Write image to SSD</li>

<li>WSL directx</li>

<li>x96 /etc/rc.local v6</li>

<li>x96 dockers and ports</li>

<li>x96max-plus2 v8</li>

<li>xenia fix forza horizon xbox 360 emulator crash v5</li>

<li>xpra html web server for x11 forwarding x windows - not workingv1</li>

<li>Yazi - terminal file browser Linux/Windows v10</li>

<li>yunohost avalable and requested apps</li>

<li>yunohost buster lxc tailscale</li>

<li>yunohost cli commands v2</li>

<li>yunohost in wsl windows in separate wsl instance v5</li>

<li>yunohost raspberry disk system samba yandex screen rsync ssh v17</li>

<li>yunohost raspberry general v5</li>

<li>zfs debian manual</li>

<li>ZFS SMR sync=disabled for better performance WIP v2</li>

</ul>
</p>



<style>
.tc-remove-when-wiki-loaded {display: none;}
</style>

</div>
</noscript>
<!--~~ Ordinary tiddlers ~~-->

<div id="storeArea" style="display:none;">
<div tags="" title=".ost outlool fix">
<pre>stop outlook

delete drive:\Users\user\AppData\Local\Microsoft\Outlook\*.ost

start outlook</pre>
</div>
<div tags="" title="/etc/rc.local x96 backup v2">
<pre>17.2.24


```
cat /etc/rc.local
```


```
bash /etc/custom_service/start_service.sh &amp;
aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -D --conf-path=/root/aria2.conf &amp;
python3 -m http.server 7777 -d /root &amp;
/usr/bin/miniflux -c /etc/miniflux.conf &amp;
#ran in docker# /root/filestash/filestash &amp;
java -jar /root/JDownloader.jar &amp;
netdata &amp;
/root/TorrServer-linux-arm64 -d /media/usb &amp;

echo 1 &gt;/proc/sys/net/ipv4/ip_forward

iptables -t nat -A PREROUTING -p tcp --dport 8080 -j DNAT --to-destination 192.168.3.5 #torrent server on n5105
iptables -t nat -A PREROUTING -p tcp --dport 3389 -j DNAT --to-destination 192.168.3.5 #RDP on n5105
iptables -t nat -A POSTROUTING -j MASQUERADE 

#nvm install 16.0.0 &amp;
#yarn global add wetty &amp;
#wetty &amp;
armbian-openvfd 99 &amp;
exit 0
```


!!cat  /etc/custom_service/start_service.sh

```

#!/bin/bash

# Customize the startup script, adding content as needed
echo "[$(date +"%Y.%m.%d.%H%M")] Hello World..." &gt;/tmp/ophub_start_service.log
```

!!cat /root/aria2.conf


```
dir=/media/usb/Downloads
max-overall-upload-limit=100K
disk-cache=200M
#file-allocation=trunc
file-allocation=falloc
seed-time=0
check-integrity=true
realtime-chunk-checksum=true
always-resume=true
auto-file-renaming=false
continue=true
remote-time=true
#daemon
#log=/media/aria2c.log
#log-level=error
bt-exclude-tracker="*"
```


!!cat  /etc/miniflux.conf


```
# See https://miniflux.app/docs/configuration.html

RUN_MIGRATIONS=1
LISTEN_ADDR=0.0.0.0:80
DATABASE_URL=user=miniflux password=miniflux dbname=miniflux sslmode=disable
```

Dockers running on x96:


```
# docker image ls
```



```
REPOSITORY                                   TAG                IMAGE ID       CREATED         SIZE
ghcr.io/immich-app/immich-server             release            9f804858bc31   2 weeks ago     861MB
ghcr.io/immich-app/immich-machine-learning   release            c4e5aa4d2ff0   2 weeks ago     698MB
ghcr.io/immich-app/immich-server             &lt;none&gt;             478ff4b188dd   4 weeks ago     860MB
ghcr.io/immich-app/immich-machine-learning   &lt;none&gt;             93f13fe5090f   4 weeks ago     1.19GB
linuxserver/homeassistant                    latest             65e5f5531b0f   5 weeks ago     1.62GB
lscr.io/linuxserver/emulatorjs               latest             9ba9128c35c7   5 weeks ago     845MB
sigoden/dufs                                 latest             9b9428fe42fb   5 weeks ago     3.51MB
lscr.io/linuxserver/webtop                   arch-xfce          33f3763bb98e   7 weeks ago     2.92GB
coderaiser/cloudcmd                          latest             78a26d606e03   2 months ago    1.4GB
redis                                        &lt;none&gt;             b4c496103957   2 months ago    30.7MB
portainer/portainer-ce                       latest             f12f1fd2694d   2 months ago    284MB
jellyfin/jellyfin                            latest             ca404505fe6f   2 months ago    398MB
tensorchord/pgvecto-rs                       &lt;none&gt;             3642aa378cce   2 months ago    512MB
linuxserver/remmina                          1.4.2              ac6df4a4b9c3   3 months ago    1.67GB
onlyoffice/documentserver                    latest             eedfab5bab44   3 months ago    3.15GB
portainer/agent                              latest             a81165a2b318   5 months ago    204MB
emby/embyserver_arm64v8                      latest             3ff01be871ce   5 months ago    272MB
linuxserver/libreoffice                      7.5.3              62af42d57894   7 months ago    1.52GB
linuxserver/chromium                         version-bc070a76   e524fecaccc3   7 months ago    1.21GB
nextcloud                                    27.0.0             8b23a1de2415   7 months ago    988MB
machines/filestash                           latest             e80c7b140e6e   8 months ago    240MB
adguard/adguardhome                          v0.107.32          a88b9956ce21   8 months ago    65MB
wettyoss/wetty                               latest             88a037bc5b60   16 months ago   422MB
```
</pre>
</div>
<div caption="{{$:/language/OfficialPluginLibrary}} (Prerelease)" tags="$:/tags/PluginLibrary" title="$:/config/OfficialPluginLibrary" url="https://tiddlywiki.com/prerelease/library/v5.1.24/index.html">
<pre>The prerelease version of the official ~TiddlyWiki plugin library at tiddlywiki.com. Plugins, themes and language packs are maintained by the core team.
</pre>
</div>
<div created="20210511065532450" modified="20210511065532450" title="$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page">
<pre>show</pre>
</div>
<div created="20210419180948603" modified="20210419180948603" title="$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import">
<pre>show</pre>
</div>
<div created="20210419130106501" modified="20210419130106501" title="$:/config/RelinkOnRename">
<pre>yes</pre>
</div>
<div created="20210615161924252" modified="20210615161924252" title="$:/config/TimestampDisable">
<pre>yes</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="TiddlyWiki5 core" list="readme" name="Core" plugin-priority="0" plugin-type="plugin" title="$:/core" type="application/json" version="5.1.24-prerelease">
<pre>{
    "tiddlers": {
        "$:/Acknowledgements": {
            "title": "$:/Acknowledgements",
            "text": "TiddlyWiki incorporates code from these fine OpenSource projects:\n\n* [[The Stanford Javascript Crypto Library|http://bitwiseshiftleft.github.io/sjcl/]]\n* [[The Jasmine JavaScript Test Framework|http://pivotal.github.io/jasmine/]]\n* [[Normalize.css by Nicolas Gallagher|http://necolas.github.io/normalize.css/]]\n\nAnd media from these projects:\n\n* World flag icons from [[Wikipedia|http://commons.wikimedia.org/wiki/Category:SVG_flags_by_country]]\n"
        },
        "$:/core/copyright.txt": {
            "title": "$:/core/copyright.txt",
            "type": "text/plain",
            "text": "TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright (c) 2004-2007, Jeremy Ruston\nCopyright (c) 2007-2021, UnaMesa Association\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE."
        },
        "$:/core/icon": {
            "title": "$:/core/icon",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M64 0l54.56 32v64L64 128 9.44 96V32L64 0zm21.127 95.408c-3.578-.103-5.15-.094-6.974-3.152l-1.42.042c-1.653-.075-.964-.04-2.067-.097-1.844-.07-1.548-1.86-1.873-2.8-.52-3.202.687-6.43.65-9.632-.014-1.14-1.593-5.17-2.157-6.61-1.768.34-3.546.406-5.34.497-4.134-.01-8.24-.527-12.317-1.183-.8 3.35-3.16 8.036-1.21 11.44 2.37 3.52 4.03 4.495 6.61 4.707 2.572.212 3.16 3.18 2.53 4.242-.55.73-1.52.864-2.346 1.04l-1.65.08c-1.296-.046-2.455-.404-3.61-.955-1.93-1.097-3.925-3.383-5.406-5.024.345.658.55 1.938.24 2.53-.878 1.27-4.665 1.26-6.4.47-1.97-.89-6.73-7.162-7.468-11.86 1.96-3.78 4.812-7.07 6.255-11.186-3.146-2.05-4.83-5.384-4.61-9.16l.08-.44c-3.097.59-1.49.37-4.82.628-10.608-.032-19.935-7.37-14.68-18.774.34-.673.664-1.287 1.243-.994.466.237.4 1.18.166 2.227-3.005 13.627 11.67 13.732 20.69 11.21.89-.25 2.67-1.936 3.905-2.495 2.016-.91 4.205-1.282 6.376-1.55 5.4-.63 11.893 2.276 15.19 2.37 3.3.096 7.99-.805 10.87-.615 2.09.098 4.143.483 6.16 1.03 1.306-6.49 1.4-11.27 4.492-12.38 1.814.293 3.213 2.818 4.25 4.167 2.112-.086 4.12.46 6.115 1.066 3.61-.522 6.642-2.593 9.833-4.203-3.234 2.69-3.673 7.075-3.303 11.127.138 2.103-.444 4.386-1.164 6.54-1.348 3.507-3.95 7.204-6.97 7.014-1.14-.036-1.805-.695-2.653-1.4-.164 1.427-.81 2.7-1.434 3.96-1.44 2.797-5.203 4.03-8.687 7.016-3.484 2.985 1.114 13.65 2.23 15.594 1.114 1.94 4.226 2.652 3.02 4.406-.37.58-.936.785-1.54 1.01l-.82.11zm-40.097-8.85l.553.14c.694-.27 2.09.15 2.83.353-1.363-1.31-3.417-3.24-4.897-4.46-.485-1.47-.278-2.96-.174-4.46l.02-.123c-.582 1.205-1.322 2.376-1.72 3.645-.465 1.71 2.07 3.557 3.052 4.615l.336.3z\" fill-rule=\"evenodd\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/add-comment": {
            "title": "$:/core/images/add-comment",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-add-comment tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M56 56H36a8 8 0 100 16h20v20a8 8 0 1016 0V72h20a8 8 0 100-16H72V36a8 8 0 10-16 0v20zm-12.595 58.362c-6.683 7.659-20.297 12.903-36.006 12.903-2.196 0-4.35-.102-6.451-.3 9.652-3.836 17.356-12.24 21.01-22.874C8.516 94.28 0 79.734 0 63.5 0 33.953 28.206 10 63 10s63 23.953 63 53.5S97.794 117 63 117c-6.841 0-13.428-.926-19.595-2.638z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/advanced-search-button": {
            "title": "$:/core/images/advanced-search-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-advanced-search-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M74.565 87.985A47.776 47.776 0 0148 96C21.49 96 0 74.51 0 48S21.49 0 48 0s48 21.49 48 48c0 9.854-2.97 19.015-8.062 26.636l34.347 34.347a9.443 9.443 0 010 13.36 9.446 9.446 0 01-13.36 0l-34.36-34.358zM48 80c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32z\"/&gt;&lt;circle cx=\"48\" cy=\"48\" r=\"8\"/&gt;&lt;circle cx=\"28\" cy=\"48\" r=\"8\"/&gt;&lt;circle cx=\"68\" cy=\"48\" r=\"8\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/auto-height": {
            "title": "$:/core/images/auto-height",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-auto-height tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M67.987 114.356l-.029-14.477a4 4 0 00-2.067-3.494l-15.966-8.813-1.933 7.502H79.9c4.222 0 5.564-5.693 1.786-7.58L49.797 71.572 48.01 79.15h31.982c4.217 0 5.564-5.682 1.795-7.575L49.805 55.517l-1.795 7.575h31.982c4.212 0 5.563-5.67 1.805-7.57l-16.034-8.105 2.195 3.57V35.614l9.214 9.213a4 4 0 105.656-5.656l-16-16a4 4 0 00-5.656 0l-16 16a4 4 0 105.656 5.656l9.13-9.13v15.288a4 4 0 002.195 3.57l16.035 8.106 1.804-7.57H48.01c-4.217 0-5.564 5.682-1.795 7.574l31.982 16.059 1.795-7.575H48.01c-4.222 0-5.564 5.693-1.787 7.579l31.89 15.923 1.787-7.578H47.992c-4.133 0-5.552 5.504-1.933 7.501l15.966 8.813-2.067-3.494.029 14.436-9.159-9.158a4 4 0 00-5.656 5.656l16 16a4 4 0 005.656 0l16-16a4 4 0 10-5.656-5.656l-9.185 9.184zM16 20h96a4 4 0 100-8H16a4 4 0 100 8z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/blank": {
            "title": "$:/core/images/blank",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-blank tc-image-button\" viewBox=\"0 0 128 128\"/&gt;"
        },
        "$:/core/images/bold": {
            "title": "$:/core/images/bold",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-bold tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M41.146 51.81V21.87h26.353c2.51 0 4.93.21 7.26.628 2.33.418 4.392 1.165 6.185 2.24 1.793 1.076 3.227 2.57 4.302 4.482 1.076 1.913 1.614 4.363 1.614 7.35 0 5.379-1.613 9.263-4.84 11.653-3.227 2.39-7.35 3.586-12.37 3.586H41.146zM13 0v128h62.028a65.45 65.45 0 0016.762-2.151c5.438-1.434 10.278-3.645 14.52-6.633 4.244-2.988 7.62-6.842 10.13-11.563 2.51-4.721 3.764-10.308 3.764-16.762 0-8.008-1.942-14.85-5.826-20.527-3.884-5.677-9.77-9.65-17.658-11.921 5.737-2.75 10.069-6.275 12.997-10.577 2.928-4.303 4.392-9.681 4.392-16.135 0-5.976-.986-10.995-2.958-15.059-1.972-4.063-4.75-7.32-8.336-9.77-3.585-2.45-7.888-4.213-12.907-5.289C84.888.538 79.33 0 73.235 0H13zm28.146 106.129V70.992H71.8c6.095 0 10.995 1.404 14.7 4.212 3.705 2.81 5.558 7.5 5.558 14.073 0 3.347-.568 6.096-1.703 8.247-1.136 2.151-2.66 3.854-4.572 5.11-1.912 1.254-4.123 2.15-6.633 2.688-2.51.538-5.139.807-7.888.807H41.146z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/cancel-button": {
            "title": "$:/core/images/cancel-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-cancel-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M64 76.314l-16.97 16.97a7.999 7.999 0 01-11.314 0c-3.118-3.118-3.124-8.19 0-11.313L52.686 65l-16.97-16.97a7.999 7.999 0 010-11.314c3.118-3.118 8.19-3.124 11.313 0L64 53.686l16.97-16.97a7.999 7.999 0 0111.314 0c3.118 3.118 3.124 8.19 0 11.313L75.314 65l16.97 16.97a7.999 7.999 0 010 11.314c-3.118 3.118-8.19 3.124-11.313 0L64 76.314zM64 129c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 1 0 29.654 0 65c0 35.346 28.654 64 64 64zm0-16c26.51 0 48-21.49 48-48S90.51 17 64 17 16 38.49 16 65s21.49 48 48 48z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/chevron-down": {
            "title": "$:/core/images/chevron-down",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-chevron-down tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M64.053 85.456a7.889 7.889 0 01-5.6-2.316L2.473 27.16a7.92 7.92 0 010-11.196c3.086-3.085 8.105-3.092 11.196 0L64.05 66.344l50.382-50.382a7.92 7.92 0 0111.195 0c3.085 3.086 3.092 8.105 0 11.196l-55.98 55.98a7.892 7.892 0 01-5.595 2.317z\"/&gt;&lt;path d=\"M64.053 124.069a7.889 7.889 0 01-5.6-2.316l-55.98-55.98a7.92 7.92 0 010-11.196c3.086-3.085 8.105-3.092 11.196 0l50.382 50.382 50.382-50.382a7.92 7.92 0 0111.195 0c3.085 3.086 3.092 8.104 0 11.196l-55.98 55.98a7.892 7.892 0 01-5.595 2.316z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/chevron-left": {
            "title": "$:/core/images/chevron-left",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-chevron-left tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M47.544 64.053c0-2.027.77-4.054 2.316-5.6l55.98-55.98a7.92 7.92 0 0111.196 0c3.085 3.086 3.092 8.105 0 11.196L66.656 64.05l50.382 50.382a7.92 7.92 0 010 11.195c-3.086 3.085-8.105 3.092-11.196 0l-55.98-55.98a7.892 7.892 0 01-2.317-5.595z\"/&gt;&lt;path d=\"M8.931 64.053c0-2.027.77-4.054 2.316-5.6l55.98-55.98a7.92 7.92 0 0111.196 0c3.085 3.086 3.092 8.105 0 11.196L28.041 64.05l50.382 50.382a7.92 7.92 0 010 11.195c-3.086 3.085-8.104 3.092-11.196 0l-55.98-55.98a7.892 7.892 0 01-2.316-5.595z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/chevron-right": {
            "title": "$:/core/images/chevron-right",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-chevron-right tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M83.456 63.947c0 2.027-.77 4.054-2.316 5.6l-55.98 55.98a7.92 7.92 0 01-11.196 0c-3.085-3.086-3.092-8.105 0-11.196L64.344 63.95 13.963 13.567a7.92 7.92 0 010-11.195c3.086-3.085 8.105-3.092 11.196 0l55.98 55.98a7.892 7.892 0 012.317 5.595z\"/&gt;&lt;path d=\"M122.069 63.947c0 2.027-.77 4.054-2.316 5.6l-55.98 55.98a7.92 7.92 0 01-11.196 0c-3.085-3.086-3.092-8.105 0-11.196l50.382-50.382-50.382-50.382a7.92 7.92 0 010-11.195c3.086-3.085 8.104-3.092 11.196 0l55.98 55.98a7.892 7.892 0 012.316 5.595z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/chevron-up": {
            "title": "$:/core/images/chevron-up",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-chevron-up tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M63.947 44.544c2.027 0 4.054.77 5.6 2.316l55.98 55.98a7.92 7.92 0 010 11.196c-3.086 3.085-8.105 3.092-11.196 0L63.95 63.656l-50.382 50.382a7.92 7.92 0 01-11.195 0c-3.085-3.086-3.092-8.105 0-11.196l55.98-55.98a7.892 7.892 0 015.595-2.317z\"/&gt;&lt;path d=\"M63.947 5.931c2.027 0 4.054.77 5.6 2.316l55.98 55.98a7.92 7.92 0 010 11.196c-3.086 3.085-8.105 3.092-11.196 0L63.95 25.041 13.567 75.423a7.92 7.92 0 01-11.195 0c-3.085-3.086-3.092-8.104 0-11.196l55.98-55.98a7.892 7.892 0 015.595-2.316z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/clone-button": {
            "title": "$:/core/images/clone-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-clone-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M32.265 96v24.002A7.996 7.996 0 0040.263 128h79.74a7.996 7.996 0 007.997-7.998v-79.74a7.996 7.996 0 00-7.998-7.997H96V48h12.859a2.99 2.99 0 012.994 2.994v57.865a2.99 2.99 0 01-2.994 2.994H50.994A2.99 2.99 0 0148 108.859V96H32.265z\"/&gt;&lt;path d=\"M40 56h-7.993C27.588 56 24 52.418 24 48c0-4.41 3.585-8 8.007-8H40v-7.993C40 27.588 43.582 24 48 24c4.41 0 8 3.585 8 8.007V40h7.993C68.412 40 72 43.582 72 48c0 4.41-3.585 8-8.007 8H56v7.993C56 68.412 52.418 72 48 72c-4.41 0-8-3.585-8-8.007V56zM8 0C3.58 0 0 3.588 0 8v80c0 4.419 3.588 8 8 8h80c4.419 0 8-3.588 8-8V8c0-4.419-3.588-8-8-8H8zM19 16A2.997 2.997 0 0016 19.001v57.998A2.997 2.997 0 0019.001 80h57.998A2.997 2.997 0 0080 76.999V19.001A2.997 2.997 0 0076.999 16H19.001z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/close-all-button": {
            "title": "$:/core/images/close-all-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-close-all-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M28 111.314l-14.144 14.143a8 8 0 01-11.313-11.313L16.686 100 2.543 85.856a8 8 0 0111.313-11.313L28 88.686l14.144-14.143a8 8 0 0111.313 11.313L39.314 100l14.143 14.144a8 8 0 01-11.313 11.313L28 111.314zM28 39.314L13.856 53.457A8 8 0 012.543 42.144L16.686 28 2.543 13.856A8 8 0 0113.856 2.543L28 16.686 42.144 2.543a8 8 0 0111.313 11.313L39.314 28l14.143 14.144a8 8 0 01-11.313 11.313L28 39.314zM100 39.314L85.856 53.457a8 8 0 01-11.313-11.313L88.686 28 74.543 13.856A8 8 0 0185.856 2.543L100 16.686l14.144-14.143a8 8 0 0111.313 11.313L111.314 28l14.143 14.144a8 8 0 01-11.313 11.313L100 39.314zM100 111.314l-14.144 14.143a8 8 0 01-11.313-11.313L88.686 100 74.543 85.856a8 8 0 0111.313-11.313L100 88.686l14.144-14.143a8 8 0 0111.313 11.313L111.314 100l14.143 14.144a8 8 0 01-11.313 11.313L100 111.314z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/close-button": {
            "title": "$:/core/images/close-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-close-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M65.086 75.41l-50.113 50.113c-3.121 3.121-8.192 3.126-11.316.002-3.118-3.118-3.123-8.19.002-11.316l50.114-50.114L3.659 13.982C.538 10.86.533 5.79 3.657 2.666c3.118-3.118 8.19-3.123 11.316.002l50.113 50.114L115.2 2.668c3.121-3.121 8.192-3.126 11.316-.002 3.118 3.118 3.123 8.19-.002 11.316L76.4 64.095l50.114 50.114c3.121 3.121 3.126 8.192.002 11.316-3.118 3.118-8.19 3.123-11.316-.002L65.086 75.409z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/close-others-button": {
            "title": "$:/core/images/close-others-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-close-others-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M64 128c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64c0 35.346 28.654 64 64 64zm0-16c26.51 0 48-21.49 48-48S90.51 16 64 16 16 37.49 16 64s21.49 48 48 48zm0-16c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32zm0-16c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/copy-clipboard": {
            "title": "$:/core/images/copy-clipboard",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-copy-clipboard tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;rect width=\"33\" height=\"8\" x=\"40\" y=\"40\" rx=\"4\"/&gt;&lt;rect width=\"17\" height=\"8\" x=\"40\" y=\"82\" rx=\"4\"/&gt;&lt;rect width=\"17\" height=\"8\" x=\"40\" y=\"54\" rx=\"4\"/&gt;&lt;rect width=\"33\" height=\"8\" x=\"40\" y=\"96\" rx=\"4\"/&gt;&lt;rect width=\"12\" height=\"8\" x=\"40\" y=\"68\" rx=\"4\"/&gt;&lt;path d=\"M40 16H24c-4.419 0-8 3.59-8 8a8.031 8.031 0 000 .01v95.98a8.03 8.03 0 000 .01c0 4.41 3.581 8 8 8h80a7.975 7.975 0 005.652-2.34 7.958 7.958 0 002.348-5.652v-16.016c0-4.414-3.582-7.992-8-7.992-4.41 0-8 3.578-8 7.992V112H32V32h64v8.008C96 44.422 99.582 48 104 48c4.41 0 8-3.578 8-7.992V23.992a7.963 7.963 0 00-2.343-5.651A7.995 7.995 0 00104.001 16H88c0-4.41-3.585-8-8.007-8H48.007C43.588 8 40 11.582 40 16zm4-1.004A4.001 4.001 0 0148 11h32c2.21 0 4 1.797 4 3.996v4.008A4.001 4.001 0 0180 23H48c-2.21 0-4-1.797-4-3.996v-4.008z\"/&gt;&lt;rect width=\"66\" height=\"16\" x=\"62\" y=\"64\" rx=\"8\"/&gt;&lt;path d=\"M84.657 82.343l-16-16v11.314l16-16a8 8 0 10-11.314-11.314l-16 16a8 8 0 000 11.314l16 16a8 8 0 1011.314-11.314z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/delete-button": {
            "title": "$:/core/images/delete-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-delete-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\" transform=\"translate(12)\"&gt;&lt;rect width=\"105\" height=\"16\" y=\"11\" rx=\"8\"/&gt;&lt;rect width=\"48\" height=\"16\" x=\"28\" rx=\"8\"/&gt;&lt;rect width=\"16\" height=\"112\" x=\"8\" y=\"16\" rx=\"8\"/&gt;&lt;rect width=\"88\" height=\"16\" x=\"8\" y=\"112\" rx=\"8\"/&gt;&lt;rect width=\"16\" height=\"112\" x=\"80\" y=\"16\" rx=\"8\"/&gt;&lt;rect width=\"16\" height=\"112\" x=\"56\" y=\"16\" rx=\"8\"/&gt;&lt;rect width=\"16\" height=\"112\" x=\"32\" y=\"16\" rx=\"8\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/done-button": {
            "title": "$:/core/images/done-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-done-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M42.26 111.032c-2.051.001-4.103-.78-5.668-2.345L2.662 74.758a8 8 0 01-.005-11.32c3.118-3.117 8.192-3.12 11.32.007l28.278 28.278 72.124-72.124a8.002 8.002 0 0111.314-.001c3.118 3.118 3.124 8.19 0 11.315l-77.78 77.78a7.978 7.978 0 01-5.658 2.343z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/down-arrow": {
            "title": "$:/core/images/down-arrow",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-down-arrow tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M64.177 100.069a7.889 7.889 0 01-5.6-2.316l-55.98-55.98a7.92 7.92 0 010-11.196c3.086-3.085 8.105-3.092 11.196 0l50.382 50.382 50.382-50.382a7.92 7.92 0 0111.195 0c3.086 3.086 3.092 8.104 0 11.196l-55.98 55.98a7.892 7.892 0 01-5.595 2.316z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/download-button": {
            "title": "$:/core/images/download-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-download-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M64 128c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64c0 35.346 28.654 64 64 64zm0-16c26.51 0 48-21.49 48-48S90.51 16 64 16 16 37.49 16 64s21.49 48 48 48z\" class=\"tc-image-download-button-ring\"/&gt;&lt;path d=\"M34.35 66.43l26.892 27.205a4.57 4.57 0 006.516 0L94.65 66.43a4.7 4.7 0 000-6.593 4.581 4.581 0 00-3.258-1.365h-8.46c-2.545 0-4.608-2.087-4.608-4.661v-15.15c0-2.575-2.063-4.662-4.608-4.662H55.284c-2.545 0-4.608 2.087-4.608 4.662v15.15c0 2.574-2.063 4.661-4.608 4.661h-8.46c-2.545 0-4.608 2.087-4.608 4.662a4.69 4.69 0 001.35 3.296z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/edit-button": {
            "title": "$:/core/images/edit-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-edit-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M95.627 10.059l-5.656 5.657 11.313 11.313 5.657-5.656-11.314-11.314zm5.657-5.657l1.966-1.966c3.123-3.122 8.194-3.129 11.319-.005 3.117 3.118 3.122 8.192-.005 11.32l-1.966 1.965-11.314-11.314zm-16.97 16.97l-60.25 60.25a8.12 8.12 0 00-.322.342c-.1.087-.198.179-.295.275-5.735 5.735-10.702 22.016-10.702 22.016s16.405-5.09 22.016-10.702c.095-.096.186-.193.272-.292a8.12 8.12 0 00.345-.325l60.25-60.25-11.314-11.313zM35.171 124.19c6.788-.577 13.898-2.272 23.689-5.348 1.825-.573 3.57-1.136 6.336-2.04 16-5.226 21.877-6.807 28.745-7.146 8.358-.413 13.854 2.13 17.58 8.699a4 4 0 006.959-3.946c-5.334-9.406-13.745-13.296-24.933-12.744-7.875.39-14.057 2.052-30.835 7.533-2.739.894-4.46 1.45-6.25 2.012-19.46 6.112-30.77 7.072-39.597 1.747a4 4 0 10-4.132 6.85c6.333 3.82 13.754 5.12 22.438 4.383z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/erase": {
            "title": "$:/core/images/erase",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-erase tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M60.087 127.996l63.015-63.015c6.535-6.535 6.528-17.115-.003-23.646L99.466 17.702c-6.539-6.538-17.117-6.532-23.646-.003L4.898 88.62c-6.535 6.534-6.528 17.115.003 23.646l15.73 15.73h39.456zm-34.95-7.313l-14.324-14.325c-3.267-3.268-3.268-8.564-.008-11.824L46.269 59.07l35.462 35.462-26.15 26.15H25.137z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/excise": {
            "title": "$:/core/images/excise",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-excise tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M56 107.314l-2.343 2.343a8 8 0 11-11.314-11.314l16-16a8 8 0 0111.314 0l16 16a8 8 0 11-11.314 11.314L72 107.314v14.284c0 3.536-3.582 6.402-8 6.402s-8-2.866-8-6.402v-14.284zM0 40.007C0 35.585 3.59 32 8 32c4.418 0 8 3.588 8 8.007v31.986C16 76.415 12.41 80 8 80c-4.418 0-8-3.588-8-8.007V40.007zm32 0C32 35.585 35.59 32 40 32c4.418 0 8 3.588 8 8.007v31.986C48 76.415 44.41 80 40 80c-4.418 0-8-3.588-8-8.007V40.007zm48 0C80 35.585 83.59 32 88 32c4.418 0 8 3.588 8 8.007v31.986C96 76.415 92.41 80 88 80c-4.418 0-8-3.588-8-8.007V40.007zm-24-32C56 3.585 59.59 0 64 0c4.418 0 8 3.588 8 8.007v31.986C72 44.415 68.41 48 64 48c-4.418 0-8-3.588-8-8.007V8.007zm56 32c0-4.422 3.59-8.007 8-8.007 4.418 0 8 3.588 8 8.007v31.986c0 4.422-3.59 8.007-8 8.007-4.418 0-8-3.588-8-8.007V40.007z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/export-button": {
            "title": "$:/core/images/export-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-export-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M8.003 128H119.993a7.984 7.984 0 005.664-2.349v.007A7.975 7.975 0 00128 120V56c0-4.418-3.59-8-8-8-4.418 0-8 3.58-8 8v56H16V56c0-4.418-3.59-8-8-8-4.418 0-8 3.58-8 8v64c0 4.418 3.59 8 8 8h.003zm48.62-100.689l-8.965 8.966c-3.125 3.125-8.195 3.13-11.319.005-3.118-3.118-3.122-8.192.005-11.319L58.962 2.346A7.986 7.986 0 0164.625 0l-.006.002c2.05-.001 4.102.78 5.666 2.344l22.618 22.617c3.124 3.125 3.129 8.195.005 11.319-3.118 3.118-8.192 3.122-11.319-.005l-8.965-8.966v61.256c0 4.411-3.582 8-8 8-4.41 0-8-3.582-8-8V27.311z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/file": {
            "title": "$:/core/images/file",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-file tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M111.968 30.5H112V120a8 8 0 01-8 8H24a8 8 0 01-8-8V8a8 8 0 018-8h57v.02a7.978 7.978 0 015.998 2.337l22.627 22.627a7.975 7.975 0 012.343 5.516zM81 8H24v112h80V30.5H89c-4.418 0-8-3.578-8-8V8z\"/&gt;&lt;rect width=\"64\" height=\"8\" x=\"32\" y=\"36\" rx=\"4\"/&gt;&lt;rect width=\"64\" height=\"8\" x=\"32\" y=\"52\" rx=\"4\"/&gt;&lt;rect width=\"64\" height=\"8\" x=\"32\" y=\"68\" rx=\"4\"/&gt;&lt;rect width=\"64\" height=\"8\" x=\"32\" y=\"84\" rx=\"4\"/&gt;&lt;rect width=\"64\" height=\"8\" x=\"32\" y=\"100\" rx=\"4\"/&gt;&lt;rect width=\"40\" height=\"8\" x=\"32\" y=\"20\" rx=\"4\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/fixed-height": {
            "title": "$:/core/images/fixed-height",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-fixed-height tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M60 35.657l-9.172 9.171a4 4 0 11-5.656-5.656l16-16a4 4 0 015.656 0l16 16a4 4 0 01-5.656 5.656L68 35.657v57.686l9.172-9.171a4 4 0 115.656 5.656l-16 16a4 4 0 01-5.656 0l-16-16a4 4 0 115.656-5.656L60 93.343V35.657zM16 116h96a4 4 0 100-8H16a4 4 0 100 8zm0-96h96a4 4 0 100-8H16a4 4 0 100 8z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/fold-all-button": {
            "title": "$:/core/images/fold-all-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-fold-all tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;rect width=\"128\" height=\"16\" rx=\"8\"/&gt;&lt;rect width=\"128\" height=\"16\" y=\"64\" rx=\"8\"/&gt;&lt;path d=\"M64.03 20.004c-2.05 0-4.102.78-5.667 2.344L35.746 44.966c-3.125 3.124-3.13 8.194-.005 11.318 3.118 3.118 8.192 3.122 11.319-.005l16.965-16.965 16.966 16.965c3.124 3.125 8.194 3.13 11.318.005 3.118-3.118 3.122-8.191-.005-11.318L69.687 22.348a7.986 7.986 0 00-5.663-2.346zM64.03 85.002c-2.05-.001-4.102.78-5.667 2.344l-22.617 22.617c-3.125 3.125-3.13 8.195-.005 11.319 3.118 3.118 8.192 3.122 11.319-.005l16.965-16.966 16.966 16.966c3.124 3.125 8.194 3.13 11.318.005 3.118-3.118 3.122-8.192-.005-11.319L69.687 87.346A7.986 7.986 0 0064.024 85z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/fold-button": {
            "title": "$:/core/images/fold-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-fold tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;rect width=\"128\" height=\"16\" rx=\"8\"/&gt;&lt;path d=\"M64.03 25.004c-2.05 0-4.102.78-5.667 2.344L35.746 49.966c-3.125 3.124-3.13 8.194-.005 11.318 3.118 3.118 8.192 3.122 11.319-.005l16.965-16.965 16.966 16.965c3.124 3.125 8.194 3.13 11.318.005 3.118-3.118 3.122-8.191-.005-11.318L69.687 27.348a7.986 7.986 0 00-5.663-2.346zM64.005 67.379c-2.05 0-4.102.78-5.666 2.344L35.722 92.34c-3.125 3.125-3.13 8.195-.006 11.32 3.118 3.117 8.192 3.121 11.32-.006L64 86.69l16.965 16.965c3.125 3.125 8.195 3.13 11.319.005 3.118-3.118 3.122-8.192-.005-11.319L69.663 69.723A7.986 7.986 0 0064 67.377z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/fold-others-button": {
            "title": "$:/core/images/fold-others-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-fold-others tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;rect width=\"128\" height=\"16\" y=\"56.031\" rx=\"8\"/&gt;&lt;path d=\"M86.632 79.976c-2.05 0-4.102.78-5.666 2.345L64 99.286 47.034 82.321a7.986 7.986 0 00-5.662-2.346l.005.001c-2.05 0-4.102.78-5.666 2.345l-22.618 22.617c-3.124 3.125-3.129 8.195-.005 11.319 3.118 3.118 8.192 3.122 11.319-.005l16.966-16.966 16.965 16.966a7.986 7.986 0 005.663 2.346l-.005-.002c2.05 0 4.102-.78 5.666-2.344l16.965-16.966 16.966 16.966c3.125 3.124 8.194 3.129 11.319.005 3.118-3.118 3.122-8.192-.005-11.319L92.289 82.321a7.986 7.986 0 00-5.663-2.346zM86.7 48.024c-2.05 0-4.102-.78-5.666-2.345L64.07 28.714 47.103 45.679a7.986 7.986 0 01-5.663 2.346l.005-.001c-2.05 0-4.101-.78-5.666-2.345L13.162 23.062c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L41.44 28.714l16.966-16.966a7.986 7.986 0 015.662-2.346l-.005.002c2.05 0 4.102.78 5.666 2.344l16.966 16.966 16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L92.358 45.679a7.986 7.986 0 01-5.663 2.346z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/folder": {
            "title": "$:/core/images/folder",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-folder tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M55.694 128H8C3.58 128 0 124.414 0 119.996V48.004C0 43.584 3.584 40 7.999 40H16v-8c0-4.418 3.578-8 8-8h32a8 8 0 018 8v8h40.001c4.418 0 7.999 3.586 7.999 8.004V59.83l-8-.082v-7.749A4 4 0 0099.997 48H56V36c0-2.21-1.793-4-4.004-4H28.004A4 4 0 0024 36v12H12.003A4 4 0 008 52v64a4 4 0 004.003 4h46.76l-3.069 8z\"/&gt;&lt;path d=\"M23.873 55.5h96.003c4.417 0 7.004 4.053 5.774 9.063l-13.344 54.374c-1.228 5.005-5.808 9.063-10.223 9.063H6.08c-4.417 0-7.003-4.053-5.774-9.063L13.65 64.563c1.228-5.005 5.808-9.063 10.223-9.063zm1.78 8.5h87.994c2.211 0 3.504 2.093 2.891 4.666l-11.12 46.668c-.614 2.577-2.902 4.666-5.115 4.666H12.31c-2.211 0-3.504-2.093-2.891-4.666l11.12-46.668C21.152 66.09 23.44 64 25.653 64z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/full-screen-button": {
            "title": "$:/core/images/full-screen-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-full-screen-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M0 8a8 8 0 018-8h32a8 8 0 110 16H16v24a8 8 0 11-16 0V8zM128 120a8 8 0 01-8 8H88a8 8 0 110-16h24V88a8 8 0 1116 0v32zM8 128a8 8 0 01-8-8V88a8 8 0 1116 0v24h24a8 8 0 110 16H8zM120 0a8 8 0 018 8v32a8 8 0 11-16 0V16H88a8 8 0 110-16h32z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/github": {
            "title": "$:/core/images/github",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-github tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M63.938 1.607c-35.336 0-63.994 28.69-63.994 64.084 0 28.312 18.336 52.329 43.768 60.802 3.202.59 4.37-1.388 4.37-3.088 0-1.518-.056-5.55-.087-10.897-17.802 3.871-21.558-8.591-21.558-8.591-2.911-7.404-7.108-9.375-7.108-9.375-5.81-3.973.44-3.895.44-3.895 6.424.453 9.803 6.606 9.803 6.606 5.709 9.791 14.981 6.963 18.627 5.322.582-4.138 2.236-6.963 4.063-8.564-14.211-1.617-29.153-7.117-29.153-31.672 0-6.995 2.495-12.718 6.589-17.195-.66-1.621-2.856-8.14.629-16.96 0 0 5.37-1.722 17.597 6.57 5.104-1.424 10.58-2.132 16.022-2.16 5.438.028 10.91.736 16.022 2.16 12.22-8.292 17.582-6.57 17.582-6.57 3.493 8.82 1.297 15.339.64 16.96 4.102 4.477 6.578 10.2 6.578 17.195 0 24.618-14.966 30.035-29.22 31.62 2.295 1.98 4.342 5.89 4.342 11.87 0 8.564-.079 15.476-.079 17.576 0 1.715 1.155 3.71 4.4 3.084 25.413-8.493 43.733-32.494 43.733-60.798 0-35.394-28.657-64.084-64.006-64.084\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/gitter": {
            "title": "$:/core/images/gitter",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-gitter tc-image-button\" viewBox=\"0 0 18 25\"&gt;&lt;path d=\"M15 5h2v10h-2zM10 5h2v20h-2zM5 5h2v20H5zM0 0h2v15H0z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/globe": {
            "title": "$:/core/images/globe",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-globe tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M72.811 37.128v2.554c0 2.196.978 6.881 0 8.832-1.466 2.928-4.65 3.54-6.394 5.867-1.182 1.577-4.618 10.601-3.69 12.92 3.969 9.922 11.534 3.187 17.962 9.293.864.821 2.887 2.273 3.296 3.296 3.29 8.223-7.576 15.009 3.757 26.3 1.245 1.24 3.813-3.817 4.079-4.614.852-2.563 6.725-5.45 9.088-7.053 2.02-1.37 4.873-2.667 6.328-4.745 2.27-3.244 1.48-7.514 3.098-10.745 2.139-4.274 3.828-9.635 5.998-13.966 3.898-7.781 4.721 2.093 5.067 2.439.358.357 1.011 0 1.517 0 .094 0 1.447.099 1.516 0 .65-.935-1.043-17.92-1.318-19.297-1.404-7.01-6.944-15.781-11.865-20.5-6.274-6.015-7.09-16.197-18.259-14.954-.204.022-5.084 10.148-7.777 13.512-3.728 4.657-2.47-4.153-6.526-4.153-.081 0-1.183-.103-1.253 0-.586.88-1.44 3.896-2.306 4.417-.265.16-1.722-.239-1.846 0-2.243 4.3 8.256 2.212 5.792 7.952-2.352 5.481-6.328-1.997-6.328 8.56M44.467 7.01c9.685 6.13.682 12.198 2.694 16.215 1.655 3.303 4.241 5.395 1.714 9.814-2.063 3.608-6.87 3.966-9.623 6.723-3.04 3.044-5.464 8.94-6.79 12.911-1.617 4.843 14.547 6.866 12.063 11.008-1.386 2.311-6.746 1.466-8.437.198-1.165-.873-3.593-.546-4.417-1.78-2.613-3.915-2.26-8.023-3.625-12.128-.938-2.822-6.313-2.12-7.844-.593-.523.522-.33 1.792-.33 2.505 0 5.285 7.12 3.316 7.12 6.46 0 14.636 3.927 6.534 11.14 11.336 10.036 6.683 7.844 7.303 14.946 14.404 3.673 3.673 7.741 3.686 9.425 9.294 1.602 5.331-9.327 5.339-11.716 7.448-1.123.991-2.813 4.146-4.219 4.615-1.792.598-3.234.496-4.944 1.78-2.427 1.82-3.9 4.932-4.02 4.81-2.148-2.147-3.52-15.479-3.89-18.257-.588-4.42-5.59-5.54-6.986-9.03-1.57-3.927 1.524-9.52-1.129-13.761-6.52-10.424-11.821-14.5-15.35-26.292-.942-3.148 3.342-6.529 4.877-8.833 1.877-2.816 2.662-5.854 4.746-8.635C22.147 24.19 40.855 9.461 43.857 8.635l.61-1.625z\"/&gt;&lt;path d=\"M64 126c34.242 0 62-27.758 62-62 0-34.242-27.758-62-62-62C29.758 2 2 29.758 2 64c0 34.242 27.758 62 62 62zm0-6c30.928 0 56-25.072 56-56S94.928 8 64 8 8 33.072 8 64s25.072 56 56 56z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/heading-1": {
            "title": "$:/core/images/heading-1",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-heading-1 tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M14 30h13.25v30.104H61.7V30h13.25v75.684H61.7V71.552H27.25v34.132H14V30zm70.335 13.78c2.544 0 5.017-.212 7.42-.636 2.403-.424 4.576-1.13 6.52-2.12 1.942-.99 3.603-2.261 4.981-3.816 1.378-1.555 2.28-3.463 2.703-5.724h9.858v74.2h-13.25V53.32H84.335v-9.54z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/heading-2": {
            "title": "$:/core/images/heading-2",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-heading-2 tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M6 30h13.25v30.104H53.7V30h13.25v75.684H53.7V71.552H19.25v34.132H6V30zm119.52 75.684H74.85c.07-6.148 1.555-11.519 4.452-16.112 2.897-4.593 6.855-8.586 11.872-11.978a133.725 133.725 0 017.526-5.141 59.6 59.6 0 007.208-5.353c2.19-1.908 3.993-3.975 5.406-6.201 1.413-2.226 2.155-4.788 2.226-7.685 0-1.343-.159-2.774-.477-4.293a11.357 11.357 0 00-1.855-4.24c-.919-1.307-2.19-2.403-3.816-3.286-1.625-.883-3.745-1.325-6.36-1.325-2.403 0-4.399.477-5.989 1.431-1.59.954-2.862 2.261-3.816 3.922-.954 1.66-1.66 3.622-2.12 5.883-.46 2.261-.724 4.7-.795 7.314H76.23c0-4.099.548-7.897 1.643-11.395 1.095-3.498 2.738-6.519 4.93-9.063 2.19-2.544 4.857-4.54 8.002-5.989C93.95 30.724 97.606 30 101.775 30c4.523 0 8.303.742 11.342 2.226 3.039 1.484 5.494 3.357 7.367 5.618 1.873 2.261 3.198 4.717 3.975 7.367.777 2.65 1.166 5.176 1.166 7.579 0 2.968-.46 5.653-1.378 8.056a25.942 25.942 0 01-3.71 6.625 37.5 37.5 0 01-5.3 5.565 79.468 79.468 0 01-6.148 4.77 165.627 165.627 0 01-6.36 4.24 94.28 94.28 0 00-5.883 4.028c-1.802 1.343-3.374 2.738-4.717 4.187-1.343 1.449-2.261 2.986-2.756 4.611h36.146v10.812z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/heading-3": {
            "title": "$:/core/images/heading-3",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-heading-3 tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M6 30h13.25v30.104H53.7V30h13.25v75.684H53.7V71.552H19.25v34.132H6V30zm88.885 32.224c1.979.07 3.957-.07 5.936-.424 1.979-.353 3.745-.972 5.3-1.855a10.365 10.365 0 003.763-3.657c.954-1.555 1.431-3.463 1.431-5.724 0-3.18-1.078-5.724-3.233-7.632-2.155-1.908-4.929-2.862-8.32-2.862-2.12 0-3.958.424-5.513 1.272a11.318 11.318 0 00-3.869 3.445c-1.025 1.449-1.784 3.074-2.279 4.876a18.335 18.335 0 00-.636 5.565H75.381c.141-3.604.813-6.943 2.014-10.017 1.201-3.074 2.844-5.742 4.93-8.003 2.084-2.261 4.61-4.028 7.578-5.3C92.871 30.636 96.228 30 99.973 30a29.2 29.2 0 018.533 1.272c2.791.848 5.3 2.085 7.526 3.71s4.01 3.692 5.353 6.201c1.343 2.509 2.014 5.388 2.014 8.639 0 3.745-.848 7.014-2.544 9.805-1.696 2.791-4.346 4.823-7.95 6.095v.212c4.24.848 7.544 2.95 9.911 6.307s3.551 7.438 3.551 12.243c0 3.533-.707 6.696-2.12 9.487a21.538 21.538 0 01-5.724 7.102c-2.403 1.943-5.194 3.445-8.374 4.505-3.18 1.06-6.537 1.59-10.07 1.59-4.31 0-8.074-.618-11.289-1.855s-5.9-2.986-8.056-5.247c-2.155-2.261-3.798-4.982-4.929-8.162-1.13-3.18-1.731-6.713-1.802-10.6h12.084c-.141 4.523.972 8.286 3.34 11.289 2.366 3.003 5.917 4.505 10.652 4.505 4.028 0 7.402-1.148 10.123-3.445 2.72-2.297 4.081-5.565 4.081-9.805 0-2.897-.565-5.194-1.696-6.89a10.97 10.97 0 00-4.452-3.869c-1.837-.883-3.904-1.431-6.2-1.643a58.067 58.067 0 00-7.05-.212v-9.01z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/heading-4": {
            "title": "$:/core/images/heading-4",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-heading-4 tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M8 30h13.25v30.104H55.7V30h13.25v75.684H55.7V71.552H21.25v34.132H8V30zm76.59 48.548h22.471V45.9h-.212L84.59 78.548zm43.46 9.54h-9.54v17.596H107.06V88.088h-31.8V76.11l31.8-44.626h11.448v47.064h9.54v9.54z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/heading-5": {
            "title": "$:/core/images/heading-5",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-heading-5 tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M6 30h13.25v30.104H53.7V30h13.25v75.684H53.7V71.552H19.25v34.132H6V30zm77.755 1.484h38.372v10.812H92.765L88.95 61.164l.212.212c1.625-1.837 3.692-3.233 6.201-4.187 2.509-.954 5-1.431 7.473-1.431 3.675 0 6.96.618 9.858 1.855 2.897 1.237 5.335 2.968 7.314 5.194s3.48 4.858 4.505 7.897c1.025 3.039 1.537 6.325 1.537 9.858 0 2.968-.477 6.024-1.43 9.169a25.161 25.161 0 01-4.559 8.586c-2.085 2.58-4.752 4.7-8.003 6.36-3.25 1.66-7.137 2.491-11.66 2.491-3.604 0-6.943-.477-10.017-1.431-3.074-.954-5.777-2.385-8.109-4.293-2.332-1.908-4.187-4.258-5.565-7.049-1.378-2.791-2.138-6.06-2.279-9.805h12.084c.353 4.028 1.731 7.12 4.134 9.275 2.403 2.155 5.583 3.233 9.54 3.233 2.544 0 4.7-.424 6.466-1.272 1.767-.848 3.198-2.014 4.293-3.498 1.095-1.484 1.873-3.215 2.332-5.194.46-1.979.69-4.099.69-6.36 0-2.05-.284-4.01-.849-5.883-.565-1.873-1.413-3.516-2.544-4.929-1.13-1.413-2.597-2.544-4.399-3.392-1.802-.848-3.904-1.272-6.307-1.272-2.544 0-4.929.477-7.155 1.431-2.226.954-3.834 2.738-4.823 5.353H75.805l7.95-40.598z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/heading-6": {
            "title": "$:/core/images/heading-6",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-heading-6 tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M6 30h13.25v30.104H53.7V30h13.25v75.684H53.7V71.552H19.25v34.132H6V30zm106.587 20.246c-.283-3.039-1.36-5.494-3.233-7.367-1.873-1.873-4.399-2.809-7.579-2.809-2.19 0-4.08.406-5.67 1.219a12.435 12.435 0 00-4.029 3.233c-1.095 1.343-1.979 2.88-2.65 4.611a37.696 37.696 0 00-1.643 5.459 46.08 46.08 0 00-.9 5.671 722.213 722.213 0 00-.478 5.247l.212.212c1.625-2.968 3.87-5.176 6.731-6.625 2.862-1.449 5.954-2.173 9.275-2.173 3.675 0 6.96.636 9.858 1.908 2.897 1.272 5.353 3.021 7.367 5.247 2.014 2.226 3.551 4.858 4.611 7.897 1.06 3.039 1.59 6.325 1.59 9.858 0 3.604-.583 6.943-1.749 10.017-1.166 3.074-2.844 5.76-5.035 8.056-2.19 2.297-4.805 4.081-7.844 5.353-3.039 1.272-6.395 1.908-10.07 1.908-5.441 0-9.91-1.007-13.409-3.021-3.498-2.014-6.254-4.77-8.268-8.268-2.014-3.498-3.41-7.597-4.187-12.296-.777-4.7-1.166-9.77-1.166-15.211 0-4.452.477-8.94 1.431-13.462.954-4.523 2.526-8.639 4.717-12.349 2.19-3.71 5.07-6.731 8.64-9.063C92.676 31.166 97.075 30 102.304 30c2.968 0 5.76.495 8.374 1.484 2.615.99 4.93 2.367 6.943 4.134 2.014 1.767 3.657 3.887 4.93 6.36 1.271 2.473 1.978 5.23 2.12 8.268h-12.085zm-11.66 46.852c2.19 0 4.099-.442 5.724-1.325a12.869 12.869 0 004.081-3.445c1.095-1.413 1.908-3.056 2.438-4.929.53-1.873.795-3.798.795-5.777s-.265-3.887-.795-5.724c-.53-1.837-1.343-3.445-2.438-4.823-1.095-1.378-2.456-2.491-4.08-3.339-1.626-.848-3.534-1.272-5.725-1.272-2.19 0-4.116.406-5.777 1.219-1.66.813-3.056 1.908-4.187 3.286-1.13 1.378-1.979 2.986-2.544 4.823-.565 1.837-.848 3.78-.848 5.83 0 2.05.283 3.993.848 5.83.565 1.837 1.413 3.48 2.544 4.929a12.39 12.39 0 004.187 3.445c1.66.848 3.586 1.272 5.777 1.272z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/help": {
            "title": "$:/core/images/help",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-help tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M36.055 111.441c-5.24 4.396-15.168 7.362-26.555 7.362-1.635 0-3.24-.06-4.806-.179 7.919-2.64 14.062-8.6 16.367-16.014C8.747 92.845 1.05 78.936 1.05 63.5c0-29.547 28.206-53.5 63-53.5s63 23.953 63 53.5-28.206 53.5-63 53.5c-10.055 0-19.56-2-27.994-5.559zm35.35-33.843a536.471 536.471 0 00.018-4.682 199.02 199.02 0 00-.023-3.042c.008-1.357.595-2.087 3.727-4.235.112-.077 1.085-.74 1.386-.948 3.093-2.133 5.022-3.786 6.762-6.187 2.34-3.228 3.558-7.077 3.558-11.649 0-13.292-9.86-21.952-21.455-21.952-11.103 0-22.499 9.609-24.066 22.295a6.023 6.023 0 1011.956 1.477c.806-6.527 6.972-11.726 12.11-11.726 5.265 0 9.408 3.64 9.408 9.906 0 3.634-1.1 5.153-5.111 7.919l-1.362.93c-2.682 1.84-4.227 3.1-5.7 4.931-2.109 2.62-3.242 5.717-3.258 9.314.013.892.02 1.86.022 2.981a470.766 470.766 0 01-.022 4.943 6.023 6.023 0 1012.046.12l.003-.395zm-6.027 24.499a7.529 7.529 0 100-15.058 7.529 7.529 0 000 15.058z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/home-button": {
            "title": "$:/core/images/home-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-home-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M112.985 119.502c.01-.165.015-.331.015-.499V67.568c3.137 2.948 8.076 2.884 11.134-.174a7.999 7.999 0 00-.002-11.316L70.396 2.343A7.978 7.978 0 0064.734 0a7.957 7.957 0 00-5.656 2.343L33 28.42V8.007C33 3.585 29.41 0 25 0c-4.418 0-8 3.59-8 8.007V44.42L5.342 56.078c-3.125 3.125-3.12 8.198-.002 11.316a7.999 7.999 0 0011.316-.003l.344-.343v52.945a8.11 8.11 0 000 .007c0 4.418 3.588 8 8 8h80c4.419 0 8-3.59 8-8a8.11 8.11 0 00-.015-.498zM97 112V51.574L64.737 19.31 33 51.048V112h64z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/import-button": {
            "title": "$:/core/images/import-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-import-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M114.832 60.436s3.235-3.27 6.921.417c3.686 3.686.231 7.14.231 7.14l-42.153 42.92s-30.765 32.367-58.798 4.333C-7 87.213 24.59 55.623 24.59 55.623L67.363 12.85s22.725-24.6 43.587-3.738c20.862 20.862-3.96 43.09-3.96 43.09l-35.04 35.04S49.903 112.546 36.426 99.07c-13.476-13.477 11.83-35.523 11.83-35.523l35.04-35.04s3.902-3.902 7.78-.023c3.879 3.878.118 7.921.118 7.921l-35.04 35.04s-13.212 13.212-8.872 17.551c4.34 4.34 16.77-9.653 16.77-9.653l35.04-35.04s16.668-14.598 3.966-27.3c-13.893-13.892-27.565 3.702-27.565 3.702l-42.91 42.91s-23.698 23.698-3.658 43.738 43.012-4.385 43.012-4.385l42.895-42.533z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/info-button": {
            "title": "$:/core/images/info-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-info-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\" transform=\"translate(.05)\"&gt;&lt;path d=\"M64 128c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64c0 35.346 28.654 64 64 64zm0-16c26.51 0 48-21.49 48-48S90.51 16 64 16 16 37.49 16 64s21.49 48 48 48z\"/&gt;&lt;circle cx=\"64\" cy=\"32\" r=\"8\"/&gt;&lt;rect width=\"16\" height=\"56\" x=\"56\" y=\"48\" rx=\"8\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/italic": {
            "title": "$:/core/images/italic",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-italic tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M66.711 0h22.41L62.408 128H40z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/left-arrow": {
            "title": "$:/core/images/left-arrow",
            "created": "20150315234410875",
            "modified": "20150315235324760",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-left-arrow tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M0 64.177c0-2.026.771-4.054 2.317-5.6l55.98-55.98a7.92 7.92 0 0111.195.001c3.086 3.085 3.092 8.104.001 11.195L19.111 64.175l50.382 50.382a7.92 7.92 0 010 11.195c-3.086 3.086-8.105 3.092-11.196.001l-55.98-55.98A7.892 7.892 0 010 64.177z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/line-width": {
            "title": "$:/core/images/line-width",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-line-width tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M16 18h96a2 2 0 000-4H16a2 2 0 100 4zm0 17h96a4 4 0 100-8H16a4 4 0 100 8zm0 21h96a6 6 0 000-12H16a6 6 0 100 12zm0 29h96c5.523 0 10-4.477 10-10s-4.477-10-10-10H16c-5.523 0-10 4.477-10 10s4.477 10 10 10zm0 43h96c8.837 0 16-7.163 16-16s-7.163-16-16-16H16c-8.837 0-16 7.163-16 16s7.163 16 16 16z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/link": {
            "title": "$:/core/images/link",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-link tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M42.263 69.38a31.919 31.919 0 006.841 10.13c12.5 12.5 32.758 12.496 45.255 0l22.627-22.628c12.502-12.501 12.497-32.758 0-45.255-12.5-12.5-32.758-12.496-45.254 0L49.104 34.255a32.333 32.333 0 00-2.666 3.019 36.156 36.156 0 0121.94.334l14.663-14.663c6.25-6.25 16.382-6.254 22.632-.004 6.248 6.249 6.254 16.373-.004 22.631l-22.62 22.62c-6.25 6.25-16.381 6.254-22.631.004a15.93 15.93 0 01-4.428-8.433 11.948 11.948 0 00-7.59 3.48l-6.137 6.137z\"/&gt;&lt;path d=\"M86.35 59.234a31.919 31.919 0 00-6.84-10.13c-12.5-12.5-32.758-12.497-45.255 0L11.627 71.732c-12.501 12.5-12.496 32.758 0 45.254 12.5 12.5 32.758 12.497 45.255 0L79.51 94.36a32.333 32.333 0 002.665-3.02 36.156 36.156 0 01-21.94-.333l-14.663 14.663c-6.25 6.25-16.381 6.253-22.63.004-6.25-6.249-6.255-16.374.003-22.632l22.62-22.62c6.25-6.25 16.381-6.253 22.631-.003a15.93 15.93 0 014.428 8.432 11.948 11.948 0 007.59-3.48l6.137-6.136z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/linkify": {
            "title": "$:/core/images/linkify",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-linkify-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M17.031 31.919H9.048V96.85h7.983v6.92H0V25h17.031v6.919zm24.66 0h-7.983V96.85h7.983v6.92H24.66V25h17.03v6.919zM67.77 56.422l11.975-3.903 2.306 7.096-12.063 3.903 7.628 10.379-6.12 4.435-7.63-10.467-7.45 10.2-5.943-4.523L58.1 63.518 45.95 59.35l2.306-7.096 12.064 4.17V43.825h7.45v12.596zM86.31 96.85h7.982V31.92H86.31V25h17.031v78.77H86.31v-6.92zm24.659 0h7.983V31.92h-7.983V25H128v78.77h-17.031v-6.92z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/list-bullet": {
            "title": "$:/core/images/list-bullet",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-list-bullet tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M11.636 40.273c6.427 0 11.637-5.21 11.637-11.637C23.273 22.21 18.063 17 11.636 17 5.21 17 0 22.21 0 28.636c0 6.427 5.21 11.637 11.636 11.637zm0 34.909c6.427 0 11.637-5.21 11.637-11.637 0-6.426-5.21-11.636-11.637-11.636C5.21 51.91 0 57.12 0 63.545c0 6.427 5.21 11.637 11.636 11.637zm0 34.909c6.427 0 11.637-5.21 11.637-11.636 0-6.427-5.21-11.637-11.637-11.637C5.21 86.818 0 92.028 0 98.455c0 6.426 5.21 11.636 11.636 11.636zM34.91 22.818H128v11.637H34.91V22.818zm0 34.91H128v11.636H34.91V57.727zm0 34.908H128v11.637H34.91V92.636z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/list-number": {
            "title": "$:/core/images/list-number",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-list-number tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M33.84 22.356H128v11.77H33.84v-11.77zm0 35.31H128v11.77H33.84v-11.77zm0 35.311H128v11.77H33.84v-11.77zM.38 42.631v-2.223h.998c.826 0 1.445-.14 1.858-.42.413-.28.619-.948.619-2.002V22.769c0-1.442-.193-2.336-.58-2.683-.385-.347-1.477-.52-3.275-.52v-2.143c3.502-.147 6.252-.955 8.25-2.423h2.117v22.865c0 .921.15 1.575.449 1.963.3.387.949.58 1.948.58h.998v2.223H.38zm-.3 35.356v-1.902c7.19-6.554 10.786-12.58 10.786-18.08 0-1.562-.326-2.81-.979-3.744-.652-.934-1.524-1.402-2.616-1.402-.893 0-1.655.317-2.287.952-.633.634-.95 1.364-.95 2.192 0 .974.247 1.829.74 2.563.106.16.16.28.16.36 0 .147-.16.28-.48.4-.213.08-.752.308-1.618.681-.839.374-1.358.561-1.558.561-.24 0-.512-.37-.819-1.111A6.2 6.2 0 010 57.064c0-1.949.849-3.544 2.547-4.785 1.698-1.242 3.798-1.862 6.302-1.862 2.463 0 4.53.67 6.202 2.012 1.67 1.341 2.506 3.093 2.506 5.256a8.644 8.644 0 01-.849 3.724c-.566 1.201-1.92 3.053-4.064 5.556a165.471 165.471 0 01-6.272 6.938h11.445l-1.019 5.726h-2.117c.08-.28.12-.534.12-.76 0-.388-.1-.631-.3-.731-.2-.1-.599-.15-1.198-.15H.08zm12.124 19.207c1.745.04 3.236.637 4.474 1.792 1.239 1.154 1.858 2.773 1.858 4.855 0 2.99-1.132 5.393-3.396 7.208-2.263 1.815-5 2.723-8.209 2.723-2.01 0-3.669-.384-4.974-1.151C.652 111.853 0 110.849 0 109.607c0-.774.27-1.398.809-1.872.54-.474 1.128-.71 1.768-.71.639 0 1.162.2 1.568.6.406.4.782 1.055 1.128 1.962.466 1.268 1.239 1.902 2.317 1.902 1.265 0 2.287-.477 3.066-1.431.78-.955 1.169-2.686 1.169-5.196 0-1.709-.12-3.023-.36-3.944-.24-.921-.792-1.382-1.658-1.382-.586 0-1.185.307-1.797.921-.493.494-.932.741-1.319.741-.333 0-.602-.147-.809-.44-.206-.294-.31-.574-.31-.841 0-.32.104-.594.31-.821.207-.227.69-.594 1.449-1.102 2.876-1.922 4.314-4.017 4.314-6.287 0-1.188-.306-2.092-.919-2.713a3.001 3.001 0 00-2.217-.93c-.799 0-1.525.263-2.177.79-.653.528-.979 1.158-.979 1.892 0 .641.253 1.235.76 1.782.172.2.259.367.259.5 0 .121-.57.428-1.708.922-1.139.494-1.854.74-2.147.74-.413 0-.75-.333-1.009-1-.26-.668-.39-1.282-.39-1.842 0-1.749.93-3.224 2.787-4.425 1.858-1.202 3.965-1.802 6.322-1.802 2.064 0 3.851.447 5.363 1.341 1.511.895 2.267 2.116 2.267 3.664 0 1.362-.57 2.623-1.708 3.784a13.387 13.387 0 01-3.945 2.784z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/list": {
            "title": "$:/core/images/list",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-list tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M87.748 128H23.999c-4.418 0-7.999-3.59-7.999-8.007V8.007C16 3.585 19.588 0 24 0h80c4.419 0 8 3.59 8 8.007V104H91.25c-.965 0-1.84.392-2.473 1.025a3.476 3.476 0 00-1.029 2.476V128zm8-.12l15.88-15.88h-15.88v15.88zM40 15.508A3.502 3.502 0 0143.5 12h55c1.933 0 3.5 1.561 3.5 3.509v.982A3.502 3.502 0 0198.5 20h-55a3.498 3.498 0 01-3.5-3.509v-.982zM32 22a6 6 0 100-12 6 6 0 000 12zm8 9.509A3.502 3.502 0 0143.5 28h55c1.933 0 3.5 1.561 3.5 3.509v.982A3.502 3.502 0 0198.5 36h-55a3.498 3.498 0 01-3.5-3.509v-.982zm0 16A3.502 3.502 0 0143.5 44h55c1.933 0 3.5 1.561 3.5 3.509v.982A3.502 3.502 0 0198.5 52h-55a3.498 3.498 0 01-3.5-3.509v-.982zm0 16A3.502 3.502 0 0143.5 60h55c1.933 0 3.5 1.561 3.5 3.509v.982A3.502 3.502 0 0198.5 68h-55a3.498 3.498 0 01-3.5-3.509v-.982zm0 16A3.502 3.502 0 0143.5 76h55c1.933 0 3.5 1.561 3.5 3.509v.982A3.502 3.502 0 0198.5 84h-55a3.498 3.498 0 01-3.5-3.509v-.982zm0 16A3.502 3.502 0 0143.5 92h55c1.933 0 3.5 1.561 3.5 3.509v.982A3.502 3.502 0 0198.5 100h-55a3.498 3.498 0 01-3.5-3.509v-.982zm0 16A3.505 3.505 0 0143.497 108h33.006A3.497 3.497 0 0180 111.509v.982A3.505 3.505 0 0176.503 116H43.497A3.497 3.497 0 0140 112.491v-.982zM32 38a6 6 0 100-12 6 6 0 000 12zm0 16a6 6 0 100-12 6 6 0 000 12zm0 16a6 6 0 100-12 6 6 0 000 12zm0 16a6 6 0 100-12 6 6 0 000 12zm0 16a6 6 0 100-12 6 6 0 000 12zm0 16a6 6 0 100-12 6 6 0 000 12z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/locked-padlock": {
            "title": "$:/core/images/locked-padlock",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-locked-padlock tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M96.472 64H105v32.01C105 113.674 90.674 128 73.001 128H56C38.318 128 24 113.677 24 96.01V64h8c.003-15.723.303-47.731 32.16-47.731 31.794 0 32.305 32.057 32.312 47.731zm-15.897 0H48.44c.002-16.287.142-32 15.719-32 15.684 0 16.977 16.136 16.415 32zM67.732 92.364A8.503 8.503 0 0064.5 76a8.5 8.5 0 00-3.498 16.25l-5.095 22.77H72.8l-5.07-22.656z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/mail": {
            "title": "$:/core/images/mail",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-mail tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M122.827 104.894a7.986 7.986 0 01-2.834.516H8.007c-.812 0-1.597-.12-2.335-.345l34.163-34.163 20.842 20.842a3.998 3.998 0 003.418 1.134 4.003 4.003 0 003.395-1.134L88.594 70.64c.075.09.155.176.24.26l33.993 33.994zm5.076-6.237c.064-.406.097-.823.097-1.247v-64c0-.669-.082-1.318-.237-1.94L94.23 65.006c.09.075.177.154.261.239l33.413 33.413zm-127.698.56A8.023 8.023 0 010 97.41v-64c0-.716.094-1.41.271-2.071l33.907 33.906L.205 99.218zM5.93 25.684a8.012 8.012 0 012.078-.273h111.986c.766 0 1.507.108 2.209.308L64.083 83.837 5.93 25.683z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/menu-button": {
            "title": "$:/core/images/menu-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-menu-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;rect width=\"128\" height=\"16\" y=\"16\" rx=\"8\"/&gt;&lt;rect width=\"128\" height=\"16\" y=\"56\" rx=\"8\"/&gt;&lt;rect width=\"128\" height=\"16\" y=\"96\" rx=\"8\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/minus-button": {
            "title": "$:/core/images/minus-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-minus-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M64 0c35.346 0 64 28.654 64 64 0 35.346-28.654 64-64 64-35.346 0-64-28.654-64-64C0 28.654 28.654 0 64 0zm.332 16c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z\"/&gt;&lt;rect width=\"80\" height=\"16\" x=\"24\" y=\"56\" rx=\"8\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/mono-block": {
            "title": "$:/core/images/mono-block",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-mono-block tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M23.965 32.967h.357c.755 0 1.328.192 1.72.577.39.384.586.947.586 1.688 0 .824-.206 1.418-.618 1.782-.413.363-1.094.545-2.045.545h-6.31c-.965 0-1.65-.178-2.056-.535-.405-.356-.608-.954-.608-1.792 0-.811.203-1.391.608-1.74.406-.35 1.09-.525 2.055-.525h.734l-.86-2.453H8.471l-.902 2.453h.734c.95 0 1.632.178 2.044.535.413.356.619.933.619 1.73 0 .824-.206 1.418-.619 1.782-.412.363-1.094.545-2.044.545h-5.41c-.964 0-1.649-.182-2.054-.545-.406-.364-.608-.958-.608-1.782 0-.741.195-1.304.587-1.688.391-.385.964-.577 1.719-.577h.356l5.62-15.641H6.835c-.95 0-1.632-.182-2.044-.546-.412-.363-.619-.95-.619-1.76 0-.825.207-1.42.619-1.783.412-.363 1.094-.545 2.044-.545h7.863c1.244 0 2.118.67 2.62 2.013v.063l6.647 18.2zM12.98 17.326l-3.04 8.848h6.08l-3.04-8.848zm22.402 9.372v6.395h3.145c2.223 0 3.788-.245 4.697-.734.908-.49 1.362-1.307 1.362-2.453 0-1.16-.433-1.985-1.3-2.474-.866-.49-2.383-.734-4.55-.734h-3.354zm10.693-2.327c1.524.559 2.642 1.324 3.355 2.295.713.972 1.07 2.212 1.07 3.722 0 1.272-.308 2.432-.923 3.48-.615 1.049-1.496 1.909-2.642 2.58a7.499 7.499 0 01-2.254.849c-.832.174-2.01.262-3.533.262H30.202c-.922 0-1.583-.182-1.981-.545-.399-.364-.598-.958-.598-1.782 0-.741.189-1.304.566-1.688.378-.385.93-.577 1.657-.577h.356V17.326h-.356c-.727 0-1.28-.196-1.657-.587-.377-.392-.566-.965-.566-1.72 0-.81.203-1.401.608-1.771.406-.37 1.062-.556 1.971-.556h9.645c2.95 0 5.19.573 6.72 1.72 1.53 1.145 2.296 2.823 2.296 5.031 0 1.09-.234 2.052-.703 2.883-.468.832-1.163 1.513-2.086 2.045zM35.381 17.2v5.284h2.83c1.72 0 2.932-.203 3.638-.609.706-.405 1.06-1.09 1.06-2.054 0-.909-.319-1.573-.955-1.992-.636-.42-1.667-.63-3.093-.63h-3.48zm35.863-3.816c.28-.503.566-.86.86-1.07.293-.21.664-.314 1.111-.314.685 0 1.17.182 1.457.545.287.364.43.986.43 1.866l.042 5.452c0 .964-.157 1.614-.472 1.95-.314.335-.884.503-1.709.503-.587 0-1.037-.14-1.352-.42-.314-.28-.584-.796-.807-1.551-.364-1.328-.944-2.282-1.74-2.862-.797-.58-1.901-.87-3.313-.87-2.153 0-3.802.727-4.948 2.18-1.147 1.454-1.72 3.558-1.72 6.311 0 2.74.58 4.844 1.74 6.311 1.16 1.468 2.817 2.202 4.97 2.202 1.467 0 3.085-.49 4.854-1.468 1.768-.978 2.883-1.467 3.344-1.467.545 0 1.003.23 1.373.692.37.46.556 1.034.556 1.719 0 1.23-1.084 2.39-3.25 3.48-2.167 1.09-4.606 1.636-7.318 1.636-3.662 0-6.625-1.21-8.89-3.627-2.264-2.419-3.396-5.578-3.396-9.478 0-3.76 1.146-6.884 3.438-9.372 2.293-2.488 5.2-3.732 8.723-3.732.992 0 1.97.112 2.935.335.964.224 1.992.574 3.082 1.049zm10.22 19.583V17.326h-.356c-.755 0-1.328-.196-1.72-.587-.39-.392-.586-.965-.586-1.72 0-.81.21-1.401.629-1.771.42-.37 1.097-.556 2.034-.556h5.178c2.922 0 5.06.126 6.416.377 1.356.252 2.51.671 3.46 1.258 1.691 1.007 2.988 2.443 3.89 4.31.9 1.865 1.352 4.021 1.352 6.467 0 2.586-.514 4.847-1.541 6.783-1.028 1.936-2.485 3.4-4.372 4.393-.853.447-1.852.772-2.998.975-1.147.203-2.852.304-5.116.304h-6.269c-.965 0-1.65-.178-2.055-.535-.406-.356-.608-.954-.608-1.792 0-.741.195-1.304.587-1.688.391-.385.964-.577 1.72-.577h.356zm5.41-15.725v15.725h1.195c2.642 0 4.592-.646 5.85-1.94 1.258-1.292 1.887-3.28 1.887-5.965 0-2.641-.64-4.612-1.918-5.912-1.28-1.3-3.205-1.95-5.777-1.95-.335 0-.59.003-.765.01a7.992 7.992 0 00-.472.032zm35.067-.126h-9.75v5.368h3.69v-.252c0-.797.175-1.39.524-1.782.35-.392.88-.587 1.594-.587.629 0 1.142.178 1.54.534.4.357.598.808.598 1.353 0 .028.007.118.021.272.014.154.021.308.021.462v4.34c0 .936-.167 1.607-.503 2.013-.335.405-.88.608-1.635.608-.713 0-1.251-.19-1.615-.567-.363-.377-.545-.936-.545-1.677v-.377h-3.69v6.269h9.75v-2.495c0-.937.178-1.608.534-2.013.357-.405.94-.608 1.75-.608.798 0 1.367.2 1.71.597.342.399.513 1.073.513 2.024v5.074c0 .755-.146 1.258-.44 1.51-.293.251-.873.377-1.74.377h-17.172c-.923 0-1.583-.182-1.982-.545-.398-.364-.597-.958-.597-1.782 0-.741.189-1.304.566-1.688.377-.385.93-.577 1.656-.577h.357V17.326h-.357c-.712 0-1.261-.2-1.646-.598-.384-.398-.576-.968-.576-1.709 0-.81.203-1.401.608-1.771.405-.37 1.062-.556 1.97-.556h17.173c.853 0 1.43.13 1.73.388.3.258.45.772.45 1.54v4.698c0 .95-.174 1.631-.524 2.044-.35.412-.915.618-1.698.618-.81 0-1.394-.21-1.75-.629-.357-.419-.535-1.097-.535-2.033v-2.202zM19.77 47.641c.267-.504.55-.86.85-1.07.3-.21.675-.314 1.122-.314.685 0 1.17.181 1.457.545.287.363.43.985.43 1.866l.042 5.451c0 .965-.157 1.615-.472 1.95-.314.336-.891.504-1.73.504-.587 0-1.045-.144-1.373-.43-.329-.287-.598-.8-.807-1.541-.378-1.342-.958-2.3-1.74-2.873-.783-.573-1.88-.86-3.292-.86-2.153 0-3.799.727-4.938 2.181-1.14 1.454-1.709 3.557-1.709 6.311s.598 4.882 1.793 6.385C10.599 67.248 12.294 68 14.488 68c.503 0 1.077-.06 1.72-.179a23.809 23.809 0 002.264-.555v-3.313h-2.37c-.95 0-1.624-.175-2.023-.524-.398-.35-.597-.93-.597-1.74 0-.84.199-1.437.597-1.793.399-.357 1.073-.535 2.024-.535h7.569c.978 0 1.667.175 2.065.524.398.35.598.937.598 1.762 0 .74-.2 1.31-.598 1.708-.398.399-.975.598-1.73.598h-.335v5.242c0 .447-.05.758-.147.933-.098.174-.293.353-.587.534-.797.476-2.062.895-3.795 1.258a25.576 25.576 0 01-5.263.546c-3.662 0-6.625-1.21-8.89-3.628-2.264-2.418-3.397-5.577-3.397-9.477 0-3.76 1.147-6.884 3.44-9.372 2.292-2.488 5.199-3.732 8.721-3.732.979 0 1.954.112 2.925.335.972.224 2.003.573 3.093 1.049zm15.84 3.941v4.823h6.857v-4.823h-.336c-.754 0-1.331-.195-1.73-.587-.398-.391-.597-.964-.597-1.719 0-.825.206-1.419.619-1.782.412-.364 1.093-.545 2.044-.545h5.41c.95 0 1.624.181 2.023.545.398.363.597.957.597 1.782 0 .755-.192 1.328-.576 1.72-.385.39-.947.586-1.688.586h-.357v15.642h.357c.755 0 1.328.192 1.719.576.391.385.587.947.587 1.688 0 .825-.203 1.419-.608 1.782-.405.364-1.09.546-2.055.546h-5.41c-.964 0-1.649-.179-2.054-.535-.405-.357-.608-.954-.608-1.793 0-.74.2-1.303.598-1.688.398-.384.975-.576 1.73-.576h.335v-6.186h-6.856v6.186h.335c.755 0 1.331.192 1.73.576.398.385.597.947.597 1.688 0 .825-.206 1.419-.618 1.782-.412.364-1.094.546-2.044.546h-5.41c-.964 0-1.65-.179-2.055-.535-.405-.357-.608-.954-.608-1.793 0-.74.196-1.303.587-1.688.392-.384.965-.576 1.72-.576h.356V51.582h-.356c-.741 0-1.304-.195-1.688-.587-.385-.391-.577-.964-.577-1.719 0-.825.2-1.419.598-1.782.398-.364 1.073-.545 2.023-.545h5.41c.936 0 1.614.181 2.033.545.42.363.63.957.63 1.782 0 .755-.2 1.328-.598 1.72-.399.39-.975.586-1.73.586h-.335zm31.754 0v15.642h3.523c.95 0 1.632.178 2.044.534.412.357.618.933.618 1.73 0 .811-.21 1.402-.629 1.772-.419.37-1.097.556-2.033.556H58.433c-.95 0-1.632-.182-2.044-.546-.412-.363-.619-.957-.619-1.782 0-.81.203-1.39.608-1.74.406-.35 1.09-.524 2.055-.524h3.523V51.582h-3.523c-.95 0-1.632-.181-2.044-.545-.412-.363-.619-.95-.619-1.761 0-.825.203-1.412.608-1.761.406-.35 1.09-.524 2.055-.524h12.455c.992 0 1.684.174 2.075.524.392.35.587.936.587 1.761 0 .81-.202 1.398-.608 1.761-.405.364-1.09.545-2.054.545h-3.523zm30.496 0v11.994c0 1.873-.122 3.228-.367 4.067a5.876 5.876 0 01-1.227 2.244c-.74.852-1.768 1.495-3.082 1.929-1.314.433-2.893.65-4.738.65-1.3 0-2.555-.126-3.764-.378a16.843 16.843 0 01-3.491-1.132c-.615-.28-1.017-.643-1.206-1.09-.188-.448-.283-1.175-.283-2.18v-4.32c0-1.202.175-2.04.525-2.516.349-.475.957-.713 1.824-.713 1.244 0 1.929.915 2.054 2.747.014.321.035.566.063.733.168 1.622.545 2.73 1.133 3.324.587.594 1.523.89 2.81.89 1.593 0 2.714-.422 3.364-1.268.65-.845.975-2.386.975-4.623V51.582H88.93c-.95 0-1.632-.181-2.044-.545-.413-.363-.619-.95-.619-1.761 0-.825.2-1.412.598-1.761.398-.35 1.086-.524 2.065-.524h10.693c.979 0 1.667.174 2.065.524.399.35.598.936.598 1.761 0 .81-.206 1.398-.619 1.761-.412.364-1.093.545-2.044.545h-1.761zm14.644 0v6.353l6.48-6.478c-.728-.084-1.238-.29-1.531-.619-.294-.328-.44-.85-.44-1.562 0-.825.198-1.419.597-1.782.398-.364 1.073-.545 2.023-.545h5.137c.95 0 1.625.181 2.023.545.399.363.598.957.598 1.782 0 .769-.2 1.345-.598 1.73-.398.384-.982.576-1.75.576h-.483l-6.101 6.06c1.132.839 2.167 1.94 3.103 3.302.937 1.363 2.034 3.456 3.292 6.28h.692c.825 0 1.44.188 1.845.566.405.377.608.943.608 1.698 0 .825-.206 1.419-.619 1.782-.412.364-1.093.546-2.044.546h-2.579c-1.132 0-2.048-.762-2.746-2.286-.126-.28-.224-.503-.294-.67-.923-1.958-1.768-3.467-2.537-4.53a16.616 16.616 0 00-2.705-2.914l-1.97 1.887v3.92h.335c.755 0 1.331.193 1.73.577.398.385.597.947.597 1.688 0 .825-.206 1.419-.618 1.782-.413.364-1.094.546-2.045.546h-5.41c-.964 0-1.649-.179-2.054-.535-.405-.357-.608-.954-.608-1.793 0-.74.196-1.303.587-1.688.391-.384.965-.576 1.72-.576h.356V51.582h-.357c-.74 0-1.303-.195-1.687-.587-.385-.391-.577-.964-.577-1.719 0-.825.2-1.419.598-1.782.398-.364 1.072-.545 2.023-.545h5.41c.936 0 1.614.181 2.033.545.42.363.63.957.63 1.782 0 .755-.2 1.328-.598 1.72-.399.39-.975.586-1.73.586h-.336zM13.44 96.326l4.005-11.889c.251-.782.6-1.352 1.048-1.709.447-.356 1.041-.534 1.782-.534h3.271c.95 0 1.632.182 2.044.545.413.363.619.957.619 1.782 0 .755-.2 1.328-.598 1.72-.398.39-.975.587-1.73.587h-.335l.587 15.641h.357c.754 0 1.32.192 1.698.577.377.384.566.947.566 1.687 0 .825-.2 1.42-.598 1.783-.398.363-1.072.545-2.023.545h-4.718c-.95 0-1.624-.178-2.023-.535-.398-.356-.597-.954-.597-1.793 0-.74.192-1.303.576-1.687.385-.385.954-.577 1.709-.577h.335l-.293-12.79-3.061 9.52c-.224.712-.542 1.226-.954 1.54-.413.315-.982.472-1.709.472-.727 0-1.303-.157-1.73-.472-.426-.314-.751-.828-.975-1.54l-3.04-9.52-.294 12.79h.336c.755 0 1.324.192 1.709.577.384.384.576.947.576 1.687 0 .825-.202 1.42-.608 1.783-.405.363-1.076.545-2.013.545H2.621c-.937 0-1.608-.182-2.013-.545-.405-.364-.608-.958-.608-1.783 0-.74.192-1.303.577-1.687.384-.385.954-.577 1.708-.577h.336l.608-15.641h-.336c-.754 0-1.331-.196-1.73-.588-.398-.39-.597-.964-.597-1.719 0-.825.206-1.419.619-1.782.412-.363 1.093-.545 2.044-.545h3.27c.728 0 1.311.175 1.752.524.44.35.8.923 1.08 1.72l4.109 11.888zm30.454 2.054V86.828H42.74c-.922 0-1.583-.182-1.981-.546-.398-.363-.598-.95-.598-1.76 0-.812.2-1.402.598-1.773.398-.37 1.059-.555 1.981-.555h5.955c.909 0 1.566.185 1.97.555.406.37.609.961.609 1.772 0 .741-.192 1.31-.577 1.709-.384.398-.933.598-1.646.598h-.356v19.038c0 .657-.07 1.069-.21 1.237-.14.167-.454.251-.943.251h-2.097c-.67 0-1.143-.07-1.415-.21-.273-.14-.507-.384-.703-.733l-8.722-15.327v11.385h1.216c.909 0 1.559.175 1.95.524.392.35.587.93.587 1.74 0 .825-.199 1.42-.597 1.783-.399.363-1.045.545-1.94.545h-6.017c-.909 0-1.566-.182-1.971-.545-.406-.364-.608-.958-.608-1.783 0-.74.188-1.303.566-1.687.377-.385.936-.577 1.677-.577h.336V86.828h-.336c-.713 0-1.265-.2-1.656-.598-.392-.398-.587-.968-.587-1.709 0-.81.206-1.401.618-1.772.413-.37 1.066-.555 1.96-.555h3.44c.824 0 1.383.108 1.677.325.293.216.622.653.985 1.31l7.989 14.551zM64.66 86.366c-1.803 0-3.218.727-4.245 2.18-1.028 1.455-1.541 3.474-1.541 6.06 0 2.586.517 4.613 1.551 6.08 1.034 1.468 2.446 2.202 4.235 2.202 1.804 0 3.222-.73 4.257-2.19 1.034-1.461 1.551-3.492 1.551-6.092 0-2.586-.513-4.605-1.54-6.06-1.028-1.453-2.45-2.18-4.268-2.18zm0-4.864c3.44 0 6.27 1.23 8.492 3.69 2.223 2.46 3.334 5.598 3.334 9.414 0 3.844-1.104 6.99-3.313 9.436-2.208 2.446-5.046 3.669-8.513 3.669-3.424 0-6.255-1.234-8.491-3.701-2.237-2.467-3.355-5.602-3.355-9.404 0-3.83 1.108-6.971 3.323-9.424 2.216-2.454 5.057-3.68 8.523-3.68zM87.461 98.17v4.298h2.16c.908 0 1.555.175 1.94.524.384.35.576.93.576 1.74 0 .825-.196 1.42-.587 1.783-.392.363-1.035.545-1.93.545h-7.254c-.922 0-1.583-.182-1.981-.545-.399-.364-.598-.958-.598-1.783 0-.74.189-1.303.566-1.687.378-.385.93-.577 1.657-.577h.356V86.828h-.356c-.713 0-1.262-.2-1.646-.598-.385-.398-.577-.968-.577-1.709 0-.81.203-1.401.608-1.772.406-.37 1.063-.555 1.971-.555h8.66c3.424 0 6.014.657 7.768 1.97 1.754 1.315 2.631 3.25 2.631 5.809 0 2.697-.873 4.738-2.62 6.122-1.748 1.384-4.34 2.076-7.78 2.076h-3.564zm0-11.343v6.625h2.977c1.65 0 2.89-.28 3.722-.839.832-.559 1.248-1.397 1.248-2.516 0-1.048-.43-1.855-1.29-2.421-.86-.566-2.086-.85-3.68-.85h-2.977zm27.267 20.568l-1.636 1.636a12.37 12.37 0 011.772-.44c.58-.098 1.15-.147 1.709-.147 1.104 0 2.268.164 3.491.492 1.223.329 1.967.493 2.233.493.447 0 1.03-.15 1.75-.45.72-.301 1.206-.452 1.458-.452.517 0 .947.2 1.29.598.342.398.513.898.513 1.5 0 .796-.472 1.474-1.415 2.033-.944.56-2.1.839-3.47.839-.937 0-2.139-.22-3.607-.66-1.467-.441-2.53-.661-3.187-.661-.992 0-2.11.272-3.354.817-1.244.546-2.013.818-2.307.818a2.14 2.14 0 01-1.53-.597c-.42-.399-.63-.878-.63-1.437 0-.391.134-.807.4-1.247.265-.44.733-1.01 1.404-1.709l2.118-2.139c-2.335-.852-4.194-2.386-5.578-4.602-1.384-2.215-2.075-4.763-2.075-7.642 0-3.802 1.104-6.909 3.312-9.32 2.209-2.411 5.053-3.617 8.534-3.617 3.467 0 6.304 1.209 8.513 3.627 2.208 2.418 3.312 5.522 3.312 9.31 0 3.774-1.097 6.884-3.291 9.33-2.195 2.446-4.977 3.67-8.345 3.67a22.5 22.5 0 01-1.384-.043zm1.195-21.03c-1.803 0-3.218.727-4.246 2.18-1.027 1.455-1.54 3.474-1.54 6.06 0 2.586.516 4.613 1.55 6.08 1.035 1.468 2.447 2.202 4.236 2.202 1.803 0 3.222-.73 4.256-2.19 1.035-1.461 1.552-3.492 1.552-6.092 0-2.586-.514-4.605-1.541-6.06-1.028-1.453-2.45-2.18-4.267-2.18z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/mono-line": {
            "title": "$:/core/images/mono-line",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-mono-line tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M60.437 84.523h.908c1.922 0 3.381.489 4.378 1.468.997.979 1.495 2.411 1.495 4.298 0 2.1-.525 3.612-1.575 4.538-1.05.925-2.785 1.388-5.206 1.388h-16.07c-2.456 0-4.2-.454-5.232-1.361-1.032-.908-1.548-2.43-1.548-4.565 0-2.065.516-3.542 1.548-4.432 1.032-.89 2.776-1.334 5.232-1.334h1.869l-2.19-6.247H20.983l-2.296 6.247h1.87c2.42 0 4.155.453 5.205 1.361 1.05.908 1.575 2.376 1.575 4.405 0 2.1-.525 3.612-1.575 4.538-1.05.925-2.785 1.388-5.206 1.388H6.781c-2.456 0-4.2-.463-5.233-1.388C.516 93.9 0 92.389 0 90.289c0-1.887.498-3.32 1.495-4.298.997-.979 2.456-1.468 4.378-1.468h.908l14.308-39.83h-4.271c-2.42 0-4.156-.462-5.206-1.387-1.05-.926-1.575-2.42-1.575-4.485 0-2.1.525-3.613 1.575-4.538 1.05-.926 2.785-1.388 5.206-1.388h20.021c3.168 0 5.392 1.708 6.674 5.125v.16l16.924 46.343zm-27.976-39.83L24.72 67.225h15.483l-7.742-22.53zM89.506 68.56v16.284h8.008c5.66 0 9.646-.623 11.96-1.869 2.313-1.245 3.47-3.328 3.47-6.246 0-2.955-1.103-5.055-3.31-6.3-2.207-1.246-6.069-1.869-11.586-1.869h-8.542zm27.229-5.926c3.88 1.423 6.727 3.372 8.542 5.846 1.815 2.474 2.723 5.633 2.723 9.477 0 3.239-.783 6.193-2.35 8.862-1.565 2.67-3.808 4.859-6.726 6.567-1.709.997-3.622 1.718-5.74 2.163-2.118.445-5.116.667-8.996.667h-27.87c-2.349 0-4.03-.463-5.045-1.388-1.014-.926-1.521-2.438-1.521-4.538 0-1.887.48-3.32 1.441-4.298.961-.979 2.367-1.468 4.218-1.468h.907v-39.83h-.907c-1.851 0-3.257-.498-4.218-1.494-.961-.997-1.441-2.456-1.441-4.378 0-2.065.516-3.568 1.548-4.512 1.032-.943 2.705-1.414 5.018-1.414h24.56c7.51 0 13.214 1.459 17.111 4.377 3.898 2.92 5.847 7.19 5.847 12.814 0 2.776-.597 5.223-1.789 7.341-1.192 2.118-2.963 3.853-5.312 5.206zm-27.23-18.26v13.455h7.208c4.378 0 7.466-.516 9.264-1.549 1.797-1.032 2.696-2.776 2.696-5.232 0-2.313-.81-4.004-2.43-5.072-1.619-1.068-4.244-1.602-7.874-1.602h-8.863z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/new-button": {
            "title": "$:/core/images/new-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-new-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M56 72H8.007C3.591 72 0 68.418 0 64c0-4.41 3.585-8 8.007-8H56V8.007C56 3.591 59.582 0 64 0c4.41 0 8 3.585 8 8.007V56h47.993c4.416 0 8.007 3.582 8.007 8 0 4.41-3.585 8-8.007 8H72v47.993c0 4.416-3.582 8.007-8 8.007-4.41 0-8-3.585-8-8.007V72z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/new-here-button": {
            "title": "$:/core/images/new-here-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-new-here-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M55.838 20.935l-3.572.938c-3.688.968-8.23 4.43-10.136 7.731L3.37 96.738c-1.905 3.3-.771 7.524 2.534 9.432l33.717 19.466c3.297 1.904 7.53.78 9.435-2.521l38.76-67.134c1.905-3.3 2.632-8.963 1.623-12.646L83.285 20.88c-1.009-3.68-4.821-5.884-8.513-4.915l-7.603 1.995.043.287c.524 3.394 2.053 7.498 4.18 11.55.418.163.829.36 1.23.59a8.864 8.864 0 014.438 8.169c.104.132.21.264.316.395l-.386.318a8.663 8.663 0 01-1.082 3.137c-2.42 4.192-7.816 5.608-12.051 3.163-4.12-2.379-5.624-7.534-3.476-11.671-2.177-4.394-3.788-8.874-4.543-12.964z\"/&gt;&lt;path d=\"M69.554 44.76c-5.944-7.476-10.74-17.196-11.955-25.059-1.68-10.875 3.503-18.216 15.082-18.04 10.407.158 19.975 5.851 24.728 13.785 5.208 8.695 2.95 17.868-6.855 20.496l-2.037-7.601c4.232-1.134 4.999-4.248 2.24-8.853-3.37-5.626-10.465-9.848-18.146-9.965-6.392-.097-8.31 2.62-7.323 9.01.999 6.465 5.318 15.138 10.582 21.65l-.072.06c.559 1.553-4.17 6.44-5.938 4.888l-.005.004-.028-.034a1.323 1.323 0 01-.124-.135 2.618 2.618 0 01-.149-.205z\"/&gt;&lt;rect width=\"16\" height=\"48\" x=\"96\" y=\"80\" rx=\"8\"/&gt;&lt;rect width=\"48\" height=\"16\" x=\"80\" y=\"96\" rx=\"8\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/new-image-button": {
            "title": "$:/core/images/new-image-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-new-image-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M81.362 73.627l15.826-27.41a2.626 2.626 0 00-.962-3.59l-50.01-28.872a2.626 2.626 0 00-3.588.961L30.058 36.49l10.04-5.261c3.042-1.595 6.771.114 7.55 3.46l3.607 17.702 9.88.85a5.25 5.25 0 014.571 3.77c.034.115.1.344.199.671.165.553.353 1.172.562 1.843.595 1.914 1.23 3.85 1.872 5.678.207.588.412 1.156.614 1.701.625 1.685 1.209 3.114 1.725 4.207.255.54.485.977.726 1.427.214.212.547.425 1.011.622 1.141.482 2.784.74 4.657.758.864.008 1.71-.034 2.492-.11.448-.043.753-.085.871-.104.315-.053.625-.077.927-.076zM37.47 2.649A5.257 5.257 0 0144.649.725l63.645 36.746a5.257 5.257 0 011.923 7.178L73.47 108.294a5.257 5.257 0 01-7.177 1.923L2.649 73.47a5.257 5.257 0 01-1.924-7.177L37.471 2.649zm42.837 50.49a5.25 5.25 0 105.25-9.092 5.25 5.25 0 00-5.25 9.093zM96 112h-7.993c-4.419 0-8.007-3.582-8.007-8 0-4.41 3.585-8 8.007-8H96v-7.993C96 83.588 99.582 80 104 80c4.41 0 8 3.585 8 8.007V96h7.993c4.419 0 8.007 3.582 8.007 8 0 4.41-3.585 8-8.007 8H112v7.993c0 4.419-3.582 8.007-8 8.007-4.41 0-8-3.585-8-8.007V112zM33.347 51.791c7.428 7.948 9.01 10.69 7.449 13.394-1.56 2.703-13.838-2.328-16.094 1.58-2.256 3.908-.907 3.258-2.437 5.908l19.73 11.39s-5.605-8.255-4.235-10.628c2.515-4.356 8.77-1.256 10.365-4.019 2.414-4.181-5.103-9.639-14.778-17.625z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/new-journal-button": {
            "title": "$:/core/images/new-journal-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-new-journal-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M102.545 112.818v11.818c0 1.306 1.086 2.364 2.425 2.364h6.06c1.34 0 2.425-1.058 2.425-2.364v-11.818h12.12c1.34 0 2.425-1.058 2.425-2.363v-5.91c0-1.305-1.085-2.363-2.424-2.363h-12.121V90.364c0-1.306-1.086-2.364-2.425-2.364h-6.06c-1.34 0-2.425 1.058-2.425 2.364v11.818h-12.12c-1.34 0-2.425 1.058-2.425 2.363v5.91c0 1.305 1.085 2.363 2.424 2.363h12.121zM60.016 4.965c-4.781-2.76-10.897-1.118-13.656 3.66L5.553 79.305A9.993 9.993 0 009.21 92.963l51.04 29.468c4.78 2.76 10.897 1.118 13.655-3.66l40.808-70.681a9.993 9.993 0 00-3.658-13.656L60.016 4.965zm-3.567 27.963a6 6 0 106-10.393 6 6 0 00-6 10.393zm31.697 17.928a6 6 0 106-10.392 6 6 0 00-6 10.392z\"/&gt;&lt;text class=\"tc-fill-background\" font-family=\"Helvetica\" font-size=\"47.172\" font-weight=\"bold\" transform=\"rotate(30 25.742 95.82)\"&gt;&lt;tspan x=\"42\" y=\"77.485\" text-anchor=\"middle\"&gt;&lt;&lt;now \"DD\"&gt;&gt;&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/opacity": {
            "title": "$:/core/images/opacity",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-opacity tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M102.362 65a51.595 51.595 0 01-1.942 6H82.584a35.867 35.867 0 002.997-6h16.78zm.472-2c.423-1.961.734-3.963.929-6H87.656a35.78 35.78 0 01-1.368 6h16.546zm-3.249 10a51.847 51.847 0 01-3.135 6H75.812a36.205 36.205 0 005.432-6h18.341zm-4.416 8c-1.424 2.116-3 4.12-4.71 6H60.46a35.843 35.843 0 0012.874-6h21.834zm-7.513-34h16.107C101.247 20.627 79.033 0 52 0 23.281 0 0 23.281 0 52c0 25.228 17.965 46.26 41.8 51h20.4a51.66 51.66 0 0015.875-6H39v-2h42.25a52.257 52.257 0 007.288-6H39v-2h4.539C27.739 83.194 16 68.968 16 52c0-19.882 16.118-36 36-36 18.186 0 33.222 13.484 35.656 31zm.22 2h16.039a52.823 52.823 0 010 6H87.877a36.483 36.483 0 000-6z\"/&gt;&lt;path d=\"M76 128c28.719 0 52-23.281 52-52s-23.281-52-52-52-52 23.281-52 52 23.281 52 52 52zm0-16c19.882 0 36-16.118 36-36S95.882 40 76 40 40 56.118 40 76s16.118 36 36 36z\"/&gt;&lt;path d=\"M37 58h53v4H37v-4zm3-8h53v4H40v-4zm0-8h53v4H40v-4zm-8 24h53v4H32v-4zm-2 8h53v4H30v-4zm-3 8h53v4H27v-4z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/open-window": {
            "title": "$:/core/images/open-window",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-open-window tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M16 112h88.994c3.87 0 7.006 3.59 7.006 8 0 4.418-3.142 8-7.006 8H7.006C3.136 128 0 124.41 0 120a9.321 9.321 0 010-.01V24.01C0 19.586 3.59 16 8 16c4.418 0 8 3.584 8 8.01V112z\"/&gt;&lt;path d=\"M96 43.196V56a8 8 0 1016 0V24c0-4.41-3.585-8-8.007-8H72.007C67.588 16 64 19.582 64 24c0 4.41 3.585 8 8.007 8H84.57l-36.3 36.299a8 8 0 00-.001 11.316c3.117 3.117 8.19 3.123 11.316-.003L96 43.196zM32 7.999C32 3.581 35.588 0 40 0h80c4.419 0 8 3.588 8 8v80c0 4.419-3.588 8-8 8H40c-4.419 0-8-3.588-8-8V8z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/options-button": {
            "title": "$:/core/images/options-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-options-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M110.488 76a47.712 47.712 0 01-5.134 12.384l6.724 6.724c3.123 3.123 3.132 8.192.011 11.313l-5.668 5.668c-3.12 3.12-8.186 3.117-11.313-.01l-6.724-6.725c-3.82 2.258-7.98 4-12.384 5.134v9.505c0 4.417-3.578 8.007-7.992 8.007h-8.016C55.58 128 52 124.415 52 119.993v-9.505a47.712 47.712 0 01-12.384-5.134l-6.724 6.725c-3.123 3.122-8.192 3.131-11.313.01l-5.668-5.668c-3.12-3.12-3.116-8.186.01-11.313l6.725-6.724c-2.257-3.82-4-7.98-5.134-12.384H8.007C3.591 76 0 72.422 0 68.01v-8.017C0 55.58 3.585 52 8.007 52h9.505a47.712 47.712 0 015.134-12.383l-6.724-6.725c-3.123-3.122-3.132-8.191-.011-11.312l5.668-5.669c3.12-3.12 8.186-3.116 11.313.01l6.724 6.725c3.82-2.257 7.98-4 12.384-5.134V8.007C52 3.591 55.578 0 59.992 0h8.016C72.42 0 76 3.585 76 8.007v9.505a47.712 47.712 0 0112.384 5.134l6.724-6.724c3.123-3.123 8.192-3.132 11.313-.01l5.668 5.668c3.12 3.12 3.116 8.186-.01 11.312l-6.725 6.725c2.257 3.82 4 7.979 5.134 12.383h9.505c4.416 0 8.007 3.578 8.007 7.992v8.017c0 4.411-3.585 7.991-8.007 7.991h-9.505zM64 96c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/paint": {
            "title": "$:/core/images/paint",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-paint tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M83.527 76.19C90.43 69.287 91.892 59 87.91 50.665l37.903-37.902c2.919-2.92 2.913-7.659 0-10.572a7.474 7.474 0 00-10.572 0L77.338 40.093c-8.335-3.982-18.622-2.521-25.526 4.383l31.715 31.715zm-2.643 2.644L49.169 47.119S8.506 81.243 0 80.282c0 0 3.782 5.592 6.827 8.039 14.024-5.69 37.326-24.6 37.326-24.6l.661.66S19.45 90.222 9.18 92.047c1.222 1.44 4.354 4.053 6.247 5.776 5.417-1.488 34.733-28.57 34.733-28.57l.661.66-32.407 31.022 5.285 5.286L56.106 75.2l.662.66s-27.864 30.536-28.684 32.432c0 0 6.032 6.853 7.569 7.824.702-2.836 27.884-33.485 27.884-33.485l.661.66s-20.597 23.755-24.964 36.732c3.21 3.549 7.5 5.137 10.926 6.298-2.19-11.817 30.724-47.487 30.724-47.487z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/palette": {
            "title": "$:/core/images/palette",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-palette tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M80.247 39.182a93.52 93.52 0 00-16.228-1.4C28.662 37.781 0 57.131 0 81.002c0 9.642 4.676 18.546 12.58 25.735C23.504 91.19 26.34 72.395 36.89 63.562c15.183-12.713 26.538-7.828 26.538-7.828l16.82-16.552zm26.535 9.655c13.049 7.913 21.257 19.392 21.257 32.166 0 9.35.519 17.411-11.874 25.08-10.797 6.681-3.824-6.536-11.844-10.898s-19.946 1.308-18.213 7.906c3.2 12.181 19.422 11.455 6.314 16.658-13.107 5.202-18.202 4.476-28.403 4.476-7.821 0-15.315-.947-22.243-2.68 9.844-4.197 27.88-12.539 33.354-19.456C82.788 92.409 87.37 80 83.324 72.484c-.194-.359 11.215-11.668 23.458-23.647zM1.134 123.867l-.66.002c33.479-14.94 22.161-64.226 58.818-64.226.317 1.418.644 2.944 1.062 4.494-25.907-4.166-23.567 48.031-59.22 59.73zm.713-.007c38.872-.506 78.152-22.347 78.152-44.813-9.27 0-14.073-3.48-16.816-7.942-16.597-7.003-30.365 45.715-61.336 52.755zm65.351-64.008c-4.45 4.115 4.886 16.433 11.318 11.318l45.27-45.27c11.317-11.318 0-22.635-11.318-11.318-11.317 11.318-33.518 34.405-45.27 45.27z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/permalink-button": {
            "title": "$:/core/images/permalink-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-permalink-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M80.483 48l-7.387 32h-25.58l7.388-32h25.58zm3.694-16l5.624-24.358c.993-4.303 5.29-6.996 9.596-6.002 4.296.992 6.988 5.293 5.994 9.602L100.598 32h3.403c4.41 0 7.999 3.582 7.999 8 0 4.41-3.581 8-8 8h-7.096l-7.387 32H104c4.41 0 7.999 3.582 7.999 8 0 4.41-3.581 8-8 8H85.824l-5.624 24.358c-.993 4.303-5.29 6.996-9.596 6.002-4.296-.992-6.988-5.293-5.994-9.602L69.402 96h-25.58L38.2 120.358c-.993 4.303-5.29 6.996-9.596 6.002-4.296-.992-6.988-5.293-5.994-9.602L27.402 96h-3.403C19.59 96 16 92.418 16 88c0-4.41 3.581-8 8-8h7.096l7.387-32H24C19.59 48 16 44.418 16 40c0-4.41 3.581-8 8-8h18.177l5.624-24.358c.993-4.303 5.29-6.996 9.596-6.002 4.296.992 6.988 5.293 5.994 9.602L58.598 32h25.58z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/permaview-button": {
            "title": "$:/core/images/permaview-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-permaview-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M81.483 48l-1.846 8h-5.58l1.847-8h5.58zm3.694-16l5.624-24.358c.993-4.303 5.29-6.996 9.596-6.002 4.296.992 6.988 5.293 5.994 9.602L101.598 32h2.403c4.41 0 7.999 3.582 7.999 8 0 4.41-3.581 8-8 8h-6.096l-1.847 8h7.944c4.41 0 7.999 3.582 7.999 8 0 4.41-3.581 8-8 8H92.364l-1.846 8H104c4.41 0 7.999 3.582 7.999 8 0 4.41-3.581 8-8 8H86.824l-5.624 24.358c-.993 4.303-5.29 6.996-9.596 6.002-4.296-.992-6.988-5.293-5.994-9.602L70.402 96h-5.58L59.2 120.358c-.993 4.303-5.29 6.996-9.596 6.002-4.296-.992-6.988-5.293-5.994-9.602L48.402 96h-5.58L37.2 120.358c-.993 4.303-5.29 6.996-9.596 6.002-4.296-.992-6.988-5.293-5.994-9.602L26.402 96h-2.403C19.59 96 16 92.418 16 88c0-4.41 3.581-8 8-8h6.096l1.847-8h-7.944C19.59 72 16 68.418 16 64c0-4.41 3.581-8 8-8h11.637l1.846-8H24C19.59 48 16 44.418 16 40c0-4.41 3.581-8 8-8h17.177l5.624-24.358c.993-4.303 5.29-6.996 9.596-6.002 4.296.992 6.988 5.293 5.994 9.602L57.598 32h5.58L68.8 7.642c.993-4.303 5.29-6.996 9.596-6.002 4.296.992 6.988 5.293 5.994 9.602L79.598 32h5.58zM53.904 48l-1.847 8h5.58l1.846-8h-5.579zm22.039 24l-1.847 8h-5.58l1.847-8h5.58zm-27.58 0l-1.846 8h5.579l1.847-8h-5.58z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/picture": {
            "title": "$:/core/images/picture",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-picture tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M112 68.233v-48.23A4.001 4.001 0 00107.997 16H20.003A4.001 4.001 0 0016 20.003v38.31l9.241-14.593c2.8-4.422 9.023-5.008 12.6-1.186l18.247 20.613 13.687-6.407a8 8 0 018.903 1.492 264.97 264.97 0 002.92 2.739 249.44 249.44 0 006.798 6.066 166.5 166.5 0 002.106 1.778c2.108 1.747 3.967 3.188 5.482 4.237.748.518 1.383.92 2.044 1.33.444.117 1.046.144 1.809.05 1.873-.233 4.238-1.144 6.723-2.547a36.016 36.016 0 003.205-2.044c.558-.4.93-.686 1.07-.802.376-.31.765-.577 1.165-.806zM0 8.007A8.01 8.01 0 018.007 0h111.986A8.01 8.01 0 01128 8.007v111.986a8.01 8.01 0 01-8.007 8.007H8.007A8.01 8.01 0 010 119.993V8.007zM95 42a8 8 0 100-16 8 8 0 000 16zM32 76c15.859 4.83 20.035 7.244 20.035 12S32 95.471 32 102.347c0 6.876 1.285 4.99 1.285 9.653H68s-13.685-6.625-13.685-10.8c0-7.665 10.615-8.34 10.615-13.2 0-7.357-14.078-8.833-32.93-12z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/plugin-generic-language": {
            "title": "$:/core/images/plugin-generic-language",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" class=\"tc-image-plugin-generic-language tc-image-button\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M61.207 68.137c-4.324 2.795-6.999 6.656-6.999 10.921 0 7.906 9.19 14.424 21.042 15.336 2.162 3.902 8.598 6.785 16.318 7.01-5.126-1.125-9.117-3.742-10.62-7.01C92.805 93.487 102 86.967 102 79.059c0-8.53-10.699-15.445-23.896-15.445-6.599 0-12.572 1.729-16.897 4.524zm12.794-14.158c-4.324 2.795-10.298 4.524-16.897 4.524-2.619 0-5.14-.272-7.497-.775-3.312 2.25-8.383 3.69-14.067 3.69l-.255-.002c4.119-.892 7.511-2.747 9.478-5.13-6.925-2.704-11.555-7.617-11.555-13.228 0-8.53 10.699-15.445 23.896-15.445C70.301 27.613 81 34.528 81 43.058c0 4.265-2.675 8.126-6.999 10.921zM64 0l54.56 32v64L64 128 9.44 96V32L64 0z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/plugin-generic-plugin": {
            "title": "$:/core/images/plugin-generic-plugin",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" class=\"tc-image-plugin-generic-plugin tc-image-button\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M40.397 76.446V95.34h14.12l-.001-.005a6.912 6.912 0 005.364-11.593l.046-.023a6.912 6.912 0 119.979.526l.086.055a6.914 6.914 0 004.408 10.948l-.023.092h21.32V75.568l-.15.038a6.912 6.912 0 00-11.593-5.364l-.022-.046a6.912 6.912 0 11.526-9.979l.055-.086a6.914 6.914 0 0010.948-4.408c.079.018.158.038.236.059v-15.74h-21.32l.023-.094a6.914 6.914 0 01-4.408-10.947 10.23 10.23 0 00-.086-.055 6.912 6.912 0 10-9.979-.526l-.046.023a6.912 6.912 0 01-5.364 11.593l.001.005h-14.12v12.847A6.912 6.912 0 0129.5 59.843l-.054.086a6.912 6.912 0 10-.526 9.979l.023.046a6.912 6.912 0 0111.455 6.492zM64 0l54.56 32v64L64 128 9.44 96V32L64 0z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/plugin-generic-theme": {
            "title": "$:/core/images/plugin-generic-theme",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" class=\"tc-image-plugin-generic-theme tc-image-button\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M29.408 91.472L51.469 69.41l-.004-.005a2.22 2.22 0 01.004-3.146c.87-.87 2.281-.872 3.147-.005l9.465 9.464a2.22 2.22 0 01-.005 3.147c-.87.87-2.28.871-3.147.005l-.005-.005-22.061 22.062a6.686 6.686 0 11-9.455-9.455zM60.802 66.38c-2.436-2.704-4.465-5.091-5.817-6.869-6.855-9.014-10.313-4.268-14.226 0-3.913 4.268 1.03 7.726-2.683 10.741-3.713 3.015-3.484 4.06-9.752-1.455-6.267-5.516-6.7-7.034-3.823-10.181 2.877-3.147 5.281 1.808 11.159-3.785 5.877-5.593.94-10.55.94-10.55s12.237-25.014 28.588-23.167c16.351 1.848-6.186-2.392-11.792 17.226-2.4 8.4.447 6.42 4.998 9.968 1.394 1.086 6.03 4.401 11.794 8.685l20.677-20.676 1.615-4.766 7.84-4.689 3.151 3.152-4.688 7.84-4.766 1.615-20.224 20.223c12.663 9.547 28.312 22.146 28.312 26.709 0 7.217-3.071 11.526-9.535 9.164-4.693-1.715-18.768-15.192-28.753-25.897l-2.893 2.893-3.151-3.152 3.029-3.029zM63.953 0l54.56 32v64l-54.56 32-54.56-32V32l54.56-32z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/plus-button": {
            "title": "$:/core/images/plus-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-plus-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M64-.333c35.346 0 64 28.654 64 64 0 35.346-28.654 64-64 64-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64zM64 16c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z\"/&gt;&lt;rect width=\"80\" height=\"16\" x=\"24\" y=\"56\" rx=\"8\"/&gt;&lt;rect width=\"16\" height=\"80\" x=\"56\" y=\"24\" rx=\"8\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/preview-closed": {
            "title": "$:/core/images/preview-closed",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-preview-closed tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M.088 64a7.144 7.144 0 001.378 5.458C16.246 88.818 39.17 100.414 64 100.414c24.83 0 47.753-11.596 62.534-30.956A7.144 7.144 0 00127.912 64C110.582 78.416 88.304 87.086 64 87.086 39.696 87.086 17.418 78.416.088 64z\"/&gt;&lt;rect width=\"4\" height=\"16\" x=\"62\" y=\"96\" rx=\"4\"/&gt;&lt;rect width=\"4\" height=\"16\" x=\"78\" y=\"93\" rx=\"4\" transform=\"rotate(-5 80 101)\"/&gt;&lt;rect width=\"4\" height=\"16\" x=\"46\" y=\"93\" rx=\"4\" transform=\"rotate(5 48 101)\"/&gt;&lt;rect width=\"4\" height=\"16\" x=\"30\" y=\"88\" rx=\"4\" transform=\"rotate(10 32 96)\"/&gt;&lt;rect width=\"4\" height=\"16\" x=\"94\" y=\"88\" rx=\"4\" transform=\"rotate(-10 96 96)\"/&gt;&lt;rect width=\"4\" height=\"16\" x=\"110\" y=\"80\" rx=\"4\" transform=\"rotate(-20 112 88)\"/&gt;&lt;rect width=\"4\" height=\"16\" x=\"14\" y=\"80\" rx=\"4\" transform=\"rotate(20 16 88)\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/preview-open": {
            "title": "$:/core/images/preview-open",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-preview-open tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M64.11 99.588c-24.83 0-47.754-11.596-62.534-30.957a7.148 7.148 0 010-8.675C16.356 40.596 39.28 29 64.11 29c24.83 0 47.753 11.596 62.534 30.956a7.148 7.148 0 010 8.675c-14.78 19.36-37.703 30.957-62.534 30.957zm46.104-32.007c1.44-1.524 1.44-3.638 0-5.162C99.326 50.9 82.439 44 64.147 44S28.968 50.9 18.08 62.42c-1.44 1.523-1.44 3.637 0 5.16C28.968 79.1 45.855 86 64.147 86s35.179-6.9 46.067-18.42z\"/&gt;&lt;path d=\"M63.5 88C76.479 88 87 77.479 87 64.5S76.479 41 63.5 41 40 51.521 40 64.5 50.521 88 63.5 88z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/print-button": {
            "title": "$:/core/images/print-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-print-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M112 71V30.5h-.032c-.035-2-.816-3.99-2.343-5.516L86.998 2.357A7.978 7.978 0 0081 .02V0H24a8 8 0 00-8 8v63h8V8h57v14.5c0 4.422 3.582 8 8 8h15V71h8z\"/&gt;&lt;rect width=\"64\" height=\"8\" x=\"32\" y=\"36\" rx=\"4\"/&gt;&lt;rect width=\"64\" height=\"8\" x=\"32\" y=\"52\" rx=\"4\"/&gt;&lt;rect width=\"40\" height=\"8\" x=\"32\" y=\"20\" rx=\"4\"/&gt;&lt;path d=\"M0 80.005C0 71.165 7.156 64 16 64h96c8.836 0 16 7.155 16 16.005v31.99c0 8.84-7.156 16.005-16 16.005H16c-8.836 0-16-7.155-16-16.005v-31.99zM104 96a8 8 0 100-16 8 8 0 000 16z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/quote": {
            "title": "$:/core/images/quote",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-quote tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M51.219 117.713V62.199H27.427c0-8.891 1.683-16.401 5.047-22.53 3.365-6.127 9.613-10.754 18.745-13.878V2c-7.45.961-14.36 3.184-20.728 6.669-6.368 3.484-11.835 7.87-16.401 13.157C9.524 27.113 5.98 33.241 3.456 40.21.933 47.18-.21 54.63.03 62.56v55.153H51.22zm76.781 0V62.199h-23.791c0-8.891 1.682-16.401 5.046-22.53 3.365-6.127 9.613-10.754 18.745-13.878V2c-7.45.961-14.359 3.184-20.727 6.669-6.369 3.484-11.836 7.87-16.402 13.157-4.566 5.287-8.11 11.415-10.634 18.384-2.523 6.97-3.665 14.42-3.424 22.35v55.153H128z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/refresh-button": {
            "title": "$:/core/images/refresh-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-refresh-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M106.369 39.433c10.16 20.879 6.57 46.764-10.771 64.106-21.87 21.87-57.327 21.87-79.196 0-21.87-21.87-21.87-57.326 0-79.196a8 8 0 1111.314 11.314c-15.621 15.62-15.621 40.947 0 56.568 15.62 15.621 40.947 15.621 56.568 0C97.72 78.79 99.6 58.175 89.924 42.73l-6.44 12.264a8 8 0 11-14.166-7.437L84.435 18.76a8 8 0 0110.838-3.345l28.873 15.345a8 8 0 11-7.51 14.129l-10.267-5.457zm-8.222-12.368c-.167-.19-.336-.38-.506-.57l.96-.296-.454.866z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/right-arrow": {
            "title": "$:/core/images/right-arrow",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-right-arrow tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M99.069 64.173c0 2.027-.77 4.054-2.316 5.6l-55.98 55.98a7.92 7.92 0 01-11.196 0c-3.085-3.086-3.092-8.105 0-11.196l50.382-50.382-50.382-50.382a7.92 7.92 0 010-11.195c3.086-3.085 8.104-3.092 11.196 0l55.98 55.98a7.892 7.892 0 012.316 5.595z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/rotate-left": {
            "title": "$:/core/images/rotate-left",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-rotate-left tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;rect width=\"32\" height=\"80\" rx=\"8\"/&gt;&lt;rect width=\"80\" height=\"32\" x=\"48\" y=\"96\" rx=\"8\"/&gt;&lt;path d=\"M61.32 36.65c19.743 2.45 35.023 19.287 35.023 39.693a4 4 0 01-8 0c0-15.663-11.254-28.698-26.117-31.46l3.916 3.916a4 4 0 11-5.657 5.657L49.172 43.142a4 4 0 010-5.657l11.313-11.313a4 4 0 115.657 5.656l-4.821 4.822z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/save-button": {
            "title": "$:/core/images/save-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-save-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M120.783 34.33c4.641 8.862 7.266 18.948 7.266 29.646 0 35.347-28.653 64-64 64-35.346 0-64-28.653-64-64 0-35.346 28.654-64 64-64 18.808 0 35.72 8.113 47.43 21.03l2.68-2.68c3.13-3.13 8.197-3.132 11.321-.008 3.118 3.118 3.121 8.193-.007 11.32l-4.69 4.691zm-12.058 12.058a47.876 47.876 0 013.324 17.588c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48c14.39 0 27.3 6.332 36.098 16.362L58.941 73.544 41.976 56.578c-3.127-3.127-8.201-3.123-11.32-.005-3.123 3.124-3.119 8.194.006 11.319l22.617 22.617a7.992 7.992 0 005.659 2.347c2.05 0 4.101-.783 5.667-2.349l44.12-44.12z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/size": {
            "title": "$:/core/images/size",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-size tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M92.343 26l-9.171 9.172a4 4 0 105.656 5.656l16-16a4 4 0 000-5.656l-16-16a4 4 0 10-5.656 5.656L92.343 18H22a4 4 0 00-4 4v70.343l-9.172-9.171a4 4 0 10-5.656 5.656l16 16a4 4 0 005.656 0l16-16a4 4 0 10-5.656-5.656L26 92.343V22l-4 4h70.343zM112 52v64l4-4H52a4 4 0 100 8h64a4 4 0 004-4V52a4 4 0 10-8 0z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/spiral": {
            "title": "$:/core/images/spiral",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-spiral tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M64.534 68.348c3.39 0 6.097-2.62 6.476-5.968l-4.755-.538 4.75.583c.377-3.07-1.194-6.054-3.89-7.78-2.757-1.773-6.34-2.01-9.566-.7-3.46 1.403-6.14 4.392-7.35 8.148l-.01.026c-1.3 4.08-.72 8.64 1.58 12.52 2.5 4.2 6.77 7.2 11.76 8.27 5.37 1.15 11.11-.05 15.83-3.31 5.04-3.51 8.46-9.02 9.45-15.3 1.05-6.7-.72-13.63-4.92-19.19l.02.02c-4.42-5.93-11.2-9.82-18.78-10.78-7.96-1.01-16.13 1.31-22.59 6.43-6.81 5.39-11.18 13.41-12.11 22.26-.98 9.27 1.87 18.65 7.93 26.02 6.32 7.69 15.6 12.56 25.74 13.48 10.54.96 21.15-2.42 29.45-9.4l.01-.01c8.58-7.25 13.94-17.78 14.86-29.21.94-11.84-2.96-23.69-10.86-32.9-8.19-9.5-19.95-15.36-32.69-16.27-13.16-.94-26.24 3.49-36.34 12.34l.01-.01c-10.41 9.08-16.78 22.1-17.68 36.15-.93 14.44 4.03 28.77 13.79 39.78 10.03 11.32 24.28 18.2 39.6 19.09 15.73.92 31.31-4.56 43.24-15.234 12.23-10.954 19.61-26.44 20.5-43.074a4.785 4.785 0 00-4.52-5.03 4.778 4.778 0 00-5.03 4.52c-.75 14.1-7 27.2-17.33 36.45-10.03 8.98-23.11 13.58-36.3 12.81-12.79-.75-24.67-6.48-33-15.89-8.07-9.11-12.17-20.94-11.41-32.827.74-11.52 5.942-22.15 14.43-29.54l.01-.01c8.18-7.17 18.74-10.75 29.35-9.998 10.21.726 19.6 5.41 26.11 12.96 6.24 7.273 9.32 16.61 8.573 25.894-.718 8.9-4.88 17.064-11.504 22.66l.01-.007c-6.36 5.342-14.44 7.92-22.425 7.19-7.604-.68-14.52-4.314-19.21-10.027-4.44-5.4-6.517-12.23-5.806-18.94.67-6.3 3.76-11.977 8.54-15.766 4.46-3.54 10.05-5.128 15.44-4.44 5.03.63 9.46 3.18 12.32 7.01l.02.024c2.65 3.5 3.75 7.814 3.1 11.92-.59 3.71-2.58 6.925-5.45 8.924-2.56 1.767-5.61 2.403-8.38 1.81-2.42-.516-4.42-1.92-5.53-3.79-.93-1.56-1.15-3.3-.69-4.75l-4.56-1.446L59.325 65c.36-1.12 1.068-1.905 1.84-2.22.25-.103.48-.14.668-.13.06.006.11.015.14.025.01 0 .01 0-.01-.01a1.047 1.047 0 01-.264-.332c-.15-.29-.23-.678-.18-1.11l-.005.04c.15-1.332 1.38-2.523 3.035-2.523-2.65 0-4.79 2.144-4.79 4.787s2.14 4.785 4.78 4.785z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/stamp": {
            "title": "$:/core/images/stamp",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-stamp tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M49.733 64H16.01C11.584 64 8 67.583 8 72.003V97h112V72.003A8 8 0 00111.99 64H78.267A22.813 22.813 0 0175.5 53.077c0-6.475 2.687-12.324 7.009-16.497A22.818 22.818 0 0087 22.952C87 10.276 76.703 0 64 0S41 10.276 41 22.952c0 5.103 1.669 9.817 4.491 13.628 4.322 4.173 7.009 10.022 7.009 16.497 0 3.954-1.002 7.675-2.767 10.923zM8 104h112v8H8v-8z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/star-filled": {
            "title": "$:/core/images/star-filled",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-star-filled tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M61.836 96.823l37.327 27.287c2.72 1.99 6.379-.69 5.343-3.912L90.29 75.988l-1.26 3.91 37.285-27.345c2.718-1.993 1.32-6.327-2.041-6.33l-46.113-.036 3.3 2.416L67.176 4.416c-1.04-3.221-5.563-3.221-6.604 0L46.29 48.603l3.3-2.416-46.113.036c-3.362.003-4.759 4.337-2.04 6.33L38.72 79.898l-1.26-3.91-14.216 44.21c-1.036 3.223 2.622 5.901 5.343 3.912l37.326-27.287h-4.078z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/storyview-classic": {
            "title": "$:/core/images/storyview-classic",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-storyview-classic tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M8.007 0A8.01 8.01 0 000 8.007v111.986A8.01 8.01 0 008.007 128h111.986a8.01 8.01 0 008.007-8.007V8.007A8.01 8.01 0 00119.993 0H8.007zm15.992 16C19.581 16 16 19.578 16 23.992v16.016C16 44.422 19.588 48 24 48h80c4.419 0 8-3.578 8-7.992V23.992c0-4.414-3.588-7.992-8-7.992H24zm0 48C19.581 64 16 67.59 16 72c0 4.418 3.588 8 8 8h80c4.419 0 8-3.59 8-8 0-4.418-3.588-8-8-8H24zm0 32C19.581 96 16 99.59 16 104c0 4.418 3.588 8 8 8h80c4.419 0 8-3.59 8-8 0-4.418-3.588-8-8-8H24z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/storyview-pop": {
            "title": "$:/core/images/storyview-pop",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-storyview-pop tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M8.007 0A8.01 8.01 0 000 8.007v111.986A8.01 8.01 0 008.007 128h111.986a8.01 8.01 0 008.007-8.007V8.007A8.01 8.01 0 00119.993 0H8.007zm15.992 16C19.581 16 16 19.578 16 23.992v16.016C16 44.422 19.588 48 24 48h80c4.419 0 8-3.578 8-7.992V23.992c0-4.414-3.588-7.992-8-7.992H24zm-7.99 40C11.587 56 8 59.578 8 63.992v16.016C8 84.422 11.584 88 16.01 88h95.98c4.424 0 8.01-3.578 8.01-7.992V63.992c0-4.414-3.584-7.992-8.01-7.992H16.01zM24 96C19.581 96 16 99.59 16 104c0 4.418 3.588 8 8 8h80c4.419 0 8-3.59 8-8 0-4.418-3.588-8-8-8H24zm0-32C19.581 64 16 67.59 16 72c0 4.418 3.588 8 8 8h80c4.419 0 8-3.59 8-8 0-4.418-3.588-8-8-8H24z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/storyview-zoomin": {
            "title": "$:/core/images/storyview-zoomin",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-storyview-zoomin tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M8.007 0A8.01 8.01 0 000 8.007v111.986A8.01 8.01 0 008.007 128h111.986a8.01 8.01 0 008.007-8.007V8.007A8.01 8.01 0 00119.993 0H8.007zm15.992 16A8 8 0 0016 24.009V71.99C16 76.414 19.588 80 24 80h80a8 8 0 008-8.009V24.01c0-4.423-3.588-8.009-8-8.009H24z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/strikethrough": {
            "title": "$:/core/images/strikethrough",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-strikethrough tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M92.794 38.726h15.422c-.229-6.74-1.514-12.538-3.856-17.393-2.342-4.855-5.54-8.881-9.596-12.08-4.055-3.199-8.767-5.54-14.136-7.025C75.258.743 69.433 0 63.15 0a62.76 62.76 0 00-16.364 2.142C41.474 3.57 36.733 5.74 32.564 8.653c-4.17 2.913-7.511 6.626-10.025 11.138-2.513 4.512-3.77 9.853-3.77 16.022 0 5.597 1.115 10.252 3.342 13.965 2.228 3.712 5.198 6.74 8.91 9.081 3.713 2.342 7.911 4.227 12.595 5.655a194.641 194.641 0 0014.308 3.77c4.855 1.085 9.624 2.142 14.308 3.17 4.683 1.028 8.881 2.37 12.594 4.027 3.713 1.656 6.683 3.798 8.91 6.425 2.228 2.628 3.342 6.055 3.342 10.281 0 4.456-.914 8.111-2.742 10.967a19.953 19.953 0 01-7.197 6.768c-2.97 1.657-6.311 2.828-10.024 3.513a60.771 60.771 0 01-11.052 1.028c-4.57 0-9.025-.571-13.366-1.713-4.34-1.143-8.139-2.913-11.394-5.312-3.256-2.4-5.884-5.455-7.883-9.168-1.999-3.712-2.998-8.139-2.998-13.28H15c0 7.426 1.342 13.852 4.027 19.278 2.684 5.426 6.34 9.881 10.966 13.365 4.627 3.484 9.996 6.083 16.107 7.797 6.112 1.713 12.595 2.57 19.449 2.57 5.597 0 11.223-.657 16.878-1.97 5.655-1.314 10.767-3.428 15.336-6.34 4.57-2.914 8.31-6.683 11.224-11.31 2.913-4.626 4.37-10.195 4.37-16.707 0-6.054-1.115-11.08-3.342-15.079-2.228-3.998-5.198-7.31-8.91-9.938-3.713-2.627-7.911-4.712-12.595-6.254a170.83 170.83 0 00-14.308-4.027 549.669 549.669 0 00-14.308-3.17c-4.683-.971-8.881-2.2-12.594-3.684-3.713-1.485-6.683-3.399-8.91-5.74-2.228-2.342-3.342-5.398-3.342-9.168 0-3.998.771-7.34 2.313-10.024 1.543-2.685 3.599-4.826 6.17-6.426 2.57-1.599 5.51-2.741 8.824-3.427a49.767 49.767 0 0110.11-1.028c8.453 0 15.393 1.97 20.819 5.912 5.426 3.94 8.596 10.31 9.51 19.106z\"/&gt;&lt;path d=\"M5 54h118v16H5z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/subscript": {
            "title": "$:/core/images/subscript",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-subscript tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M2.272 16h19.91l21.649 33.675L66.414 16h18.708L53.585 61.969l33.809 49.443H67.082L43.296 74.93l-24.187 36.48H0L33.808 61.97 2.272 16zM127.91 128.412H85.328c.059-5.168 1.306-9.681 3.741-13.542 2.435-3.86 5.761-7.216 9.978-10.066a112.388 112.388 0 016.325-4.321 50.09 50.09 0 006.058-4.499c1.841-1.603 3.356-3.34 4.543-5.211 1.188-1.871 1.812-4.024 1.871-6.46 0-1.128-.133-2.33-.4-3.607a9.545 9.545 0 00-1.56-3.564c-.772-1.098-1.84-2.019-3.207-2.761-1.366-.743-3.148-1.114-5.345-1.114-2.02 0-3.697.4-5.033 1.203-1.337.801-2.406 1.9-3.208 3.296-.801 1.396-1.395 3.044-1.781 4.944-.386 1.9-.609 3.95-.668 6.147H86.486c0-3.445.46-6.637 1.38-9.577.921-2.94 2.302-5.478 4.143-7.617 1.841-2.138 4.083-3.815 6.726-5.033 2.643-1.217 5.716-1.826 9.22-1.826 3.802 0 6.979.623 9.533 1.87 2.554 1.248 4.617 2.822 6.191 4.722 1.574 1.9 2.688 3.965 3.341 6.192.653 2.227.98 4.35.98 6.37 0 2.494-.386 4.75-1.158 6.77a21.803 21.803 0 01-3.118 5.568 31.516 31.516 0 01-4.454 4.677 66.788 66.788 0 01-5.167 4.009 139.198 139.198 0 01-5.346 3.563 79.237 79.237 0 00-4.944 3.386c-1.514 1.128-2.836 2.3-3.964 3.518-1.129 1.218-1.9 2.51-2.317 3.876h30.379v9.087z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/superscript": {
            "title": "$:/core/images/superscript",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-superscript tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M2.272 16h19.91l21.649 33.675L66.414 16h18.708L53.585 61.969l33.809 49.443H67.082L43.296 74.93l-24.187 36.48H0L33.808 61.97 2.272 16zM127.91 63.412H85.328c.059-5.168 1.306-9.681 3.741-13.542 2.435-3.86 5.761-7.216 9.978-10.066a112.388 112.388 0 016.325-4.321 50.09 50.09 0 006.058-4.499c1.841-1.603 3.356-3.34 4.543-5.211 1.188-1.871 1.812-4.024 1.871-6.46 0-1.128-.133-2.33-.4-3.607a9.545 9.545 0 00-1.56-3.564c-.772-1.098-1.84-2.019-3.207-2.761-1.366-.743-3.148-1.114-5.345-1.114-2.02 0-3.697.4-5.033 1.203-1.337.801-2.406 1.9-3.208 3.296-.801 1.396-1.395 3.044-1.781 4.944-.386 1.9-.609 3.95-.668 6.147H86.486c0-3.445.46-6.637 1.38-9.577.921-2.94 2.302-5.478 4.143-7.617 1.841-2.138 4.083-3.815 6.726-5.033 2.643-1.217 5.716-1.826 9.22-1.826 3.802 0 6.979.623 9.533 1.87 2.554 1.248 4.617 2.822 6.191 4.722 1.574 1.9 2.688 3.965 3.341 6.192.653 2.227.98 4.35.98 6.37 0 2.494-.386 4.75-1.158 6.77a21.803 21.803 0 01-3.118 5.568 31.516 31.516 0 01-4.454 4.677 66.788 66.788 0 01-5.167 4.009 139.198 139.198 0 01-5.346 3.563 79.237 79.237 0 00-4.944 3.386c-1.514 1.128-2.836 2.3-3.964 3.518-1.129 1.218-1.9 2.51-2.317 3.876h30.379v9.087z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/tag-button": {
            "title": "$:/core/images/tag-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-tag-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M18.164 47.66l.004 4.105c.003 3.823 2.19 9.097 4.885 11.792l61.85 61.85c2.697 2.697 7.068 2.69 9.769-.01L125.767 94.3a6.903 6.903 0 00.01-9.77L63.928 22.683c-2.697-2.697-7.976-4.88-11.796-4.881l-27.076-.007a6.902 6.902 0 00-6.91 6.91l.008 9.96.287.033c3.73.411 8.489-.044 13.365-1.153a9.702 9.702 0 0111.14-3.662l.291-.13.128.285a9.7 9.7 0 013.3 2.17c3.796 3.796 3.801 9.945.012 13.734-3.618 3.618-9.386 3.777-13.204.482-5.365 1.122-10.674 1.596-15.309 1.237z\"/&gt;&lt;path d=\"M47.633 39.532l.023.051c-9.689 4.356-21.584 6.799-30.396 5.828C5.273 44.089-1.028 36.43 2.443 24.078 5.562 12.976 14.3 4.361 24.047 1.548c10.68-3.083 19.749 1.968 19.749 13.225h-8.623c0-4.859-3.078-6.573-8.735-4.94-6.91 1.995-13.392 8.383-15.694 16.577-1.915 6.818.417 9.653 7.46 10.43 7.126.785 17.531-1.352 25.917-5.121l.027.06.036-.017c1.76-.758 6.266 6.549 3.524 7.74a2.8 2.8 0 01-.075.03z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/theme-button": {
            "title": "$:/core/images/theme-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-theme-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M55.854 66.945a122.626 122.626 0 01-3.9-4.819c-11.064-14.548-16.645-6.888-22.96 0-6.315 6.888 1.664 12.47-4.33 17.335-5.993 4.866-5.623 6.552-15.737-2.35-10.115-8.9-10.815-11.351-6.172-16.43 4.644-5.08 8.524 2.918 18.01-6.108 9.485-9.026 1.517-17.026 1.517-17.026S42.03-2.824 68.42.157c26.39 2.982-9.984-3.86-19.031 27.801-3.874 13.556.72 10.362 8.066 16.087 1.707 1.33 6.428 4.732 12.671 9.318-6.129 5.879-11.157 10.669-14.273 13.582zm11.641 12.947c16.013 17.036 37.742 37.726 45.117 40.42 10.432 3.813 15.388-3.141 15.388-14.79 0-7.151-23.83-26.542-43.924-41.769-7.408 7.156-13.376 12.953-16.58 16.139z\"/&gt;&lt;path d=\"M11.069 109.828L46.31 74.587a3.56 3.56 0 115.037-5.032l15.098 15.098a3.56 3.56 0 11-5.032 5.037l-35.24 35.241c-4.171 4.17-10.933 4.17-15.104 0-4.17-4.17-4.17-10.933 0-15.103zM124.344 6.622l5.034 5.034-7.49 12.524-7.613 2.58L61.413 79.62l-5.034-5.034 52.861-52.862 2.58-7.614 12.524-7.49z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/timestamp-off": {
            "title": "$:/core/images/timestamp-off",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-timestamp-off tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M58.25 11C26.08 11 0 37.082 0 69.25s26.08 58.25 58.25 58.25c32.175 0 58.25-26.082 58.25-58.25S90.425 11 58.25 11zm0 100.5C34.914 111.5 16 92.586 16 69.25 16 45.92 34.914 27 58.25 27s42.25 18.92 42.25 42.25c0 23.336-18.914 42.25-42.25 42.25zM49.704 10a5 5 0 010-10H66.69a5 5 0 015 5c.006 2.757-2.238 5-5 5H49.705z\"/&gt;&lt;path d=\"M58.25 35.88c-18.777 0-33.998 15.224-33.998 33.998 0 18.773 15.22 34.002 33.998 34.002 18.784 0 34.002-15.23 34.002-34.002 0-18.774-15.218-33.998-34.002-33.998zm-3.03 50.123H44.196v-34H55.22v34zm16.976 0H61.17v-34h11.025v34z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/timestamp-on": {
            "title": "$:/core/images/timestamp-on",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-timestamp-on tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;path d=\"M58.25 11C26.08 11 0 37.082 0 69.25s26.08 58.25 58.25 58.25c32.175 0 58.25-26.082 58.25-58.25S90.425 11 58.25 11zm0 100.5C34.914 111.5 16 92.586 16 69.25 16 45.92 34.914 27 58.25 27s42.25 18.92 42.25 42.25c0 23.336-18.914 42.25-42.25 42.25zM49.704 10a5 5 0 010-10H66.69a5 5 0 015 5c.006 2.757-2.238 5-5 5H49.705z\"/&gt;&lt;path d=\"M13.41 27.178a5.005 5.005 0 01-7.045-.613 5.008 5.008 0 01.616-7.047l9.95-8.348a5 5 0 016.429 7.661l-9.95 8.348zm89.573 0a5.005 5.005 0 007.045-.613 5.008 5.008 0 00-.616-7.047l-9.95-8.348a5 5 0 00-6.428 7.661l9.95 8.348zM65.097 71.072c0 3.826-3.09 6.928-6.897 6.928-3.804.006-6.9-3.102-6.903-6.928 0 0 4.76-39.072 6.903-39.072s6.897 39.072 6.897 39.072z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/tip": {
            "title": "$:/core/images/tip",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-tip tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M64 128.242c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64-35.346 0-64 28.654-64 64 0 35.346 28.654 64 64 64zm11.936-36.789c-.624 4.129-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349C54.33 94.05 58.824 95.82 64 95.82c5.175 0 9.67-1.769 11.936-4.366zm0 4.492c-.624 4.13-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349 2.266 2.597 6.76 4.366 11.936 4.366 5.175 0 9.67-1.769 11.936-4.366zm0 4.456c-.624 4.129-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349 2.266 2.597 6.76 4.366 11.936 4.366 5.175 0 9.67-1.769 11.936-4.366zm0 4.492c-.624 4.13-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349 2.266 2.597 6.76 4.366 11.936 4.366 5.175 0 9.67-1.769 11.936-4.366zM64.3 24.242c11.618 0 23.699 7.82 23.699 24.2S75.92 71.754 75.92 83.576c0 5.873-5.868 9.26-11.92 9.26s-12.027-3.006-12.027-9.26C51.973 71.147 40 65.47 40 48.442s12.683-24.2 24.301-24.2z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/transcludify": {
            "title": "$:/core/images/transcludify",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-transcludify-button tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M0 59.482c.591 0 1.36-.089 2.306-.266a10.417 10.417 0 002.75-.932 6.762 6.762 0 002.306-1.907c.651-.828.976-1.863.976-3.104V35.709c0-2.01.414-3.74 1.242-5.19.828-1.448 1.833-2.66 3.016-3.636s2.425-1.7 3.726-2.173c1.3-.473 2.424-.71 3.37-.71h8.073v7.451h-4.88c-1.241 0-2.232.207-2.97.621-.74.414-1.302.932-1.686 1.552a4.909 4.909 0 00-.71 1.996c-.089.71-.133 1.39-.133 2.04v16.677c0 1.715-.325 3.134-.976 4.258-.65 1.123-1.434 2.025-2.35 2.705-.917.68-1.863 1.168-2.839 1.464-.976.296-1.818.473-2.528.532v.178c.71.059 1.552.207 2.528.443.976.237 1.922.68 2.839 1.33.916.651 1.7 1.583 2.35 2.795.65 1.212.976 2.853.976 4.923v16.144c0 .65.044 1.33.133 2.04.089.71.325 1.375.71 1.996.384.621.946 1.139 1.685 1.553.74.414 1.73.62 2.972.62h4.879v7.452h-8.073c-.946 0-2.07-.237-3.37-.71-1.301-.473-2.543-1.197-3.726-2.173-1.183-.976-2.188-2.188-3.016-3.637-.828-1.449-1.242-3.179-1.242-5.19V74.119c0-1.42-.325-2.572-.976-3.46-.65-.886-1.419-1.581-2.306-2.084a8.868 8.868 0 00-2.75-1.02C1.36 67.377.591 67.288 0 67.288v-7.806zm24.66 0c.591 0 1.36-.089 2.306-.266a10.417 10.417 0 002.75-.932 6.762 6.762 0 002.306-1.907c.65-.828.976-1.863.976-3.104V35.709c0-2.01.414-3.74 1.242-5.19.828-1.448 1.833-2.66 3.016-3.636s2.425-1.7 3.726-2.173c1.3-.473 2.424-.71 3.37-.71h8.073v7.451h-4.88c-1.241 0-2.232.207-2.97.621-.74.414-1.302.932-1.686 1.552a4.909 4.909 0 00-.71 1.996c-.089.71-.133 1.39-.133 2.04v16.677c0 1.715-.325 3.134-.976 4.258-.65 1.123-1.434 2.025-2.35 2.705-.917.68-1.863 1.168-2.839 1.464-.976.296-1.818.473-2.528.532v.178c.71.059 1.552.207 2.528.443.976.237 1.922.68 2.839 1.33.916.651 1.7 1.583 2.35 2.795.65 1.212.976 2.853.976 4.923v16.144c0 .65.044 1.33.133 2.04.089.71.325 1.375.71 1.996.384.621.946 1.139 1.685 1.553.74.414 1.73.62 2.972.62h4.879v7.452h-8.073c-.946 0-2.07-.237-3.37-.71-1.301-.473-2.543-1.197-3.726-2.173-1.183-.976-2.188-2.188-3.016-3.637-.828-1.449-1.242-3.179-1.242-5.19V74.119c0-1.42-.325-2.572-.976-3.46-.65-.886-1.419-1.581-2.306-2.084a8.868 8.868 0 00-2.75-1.02c-.946-.177-1.715-.266-2.306-.266v-7.806zm43.965-3.538L80.6 52.041l2.306 7.097-12.063 3.903 7.628 10.378-6.12 4.435-7.63-10.467-7.45 10.201-5.943-4.524 7.628-10.023-12.152-4.17 2.306-7.096 12.064 4.17V43.347h7.451v12.596zm34.425 11.344c-.65 0-1.449.089-2.395.266-.946.177-1.863.488-2.75.931a6.356 6.356 0 00-2.262 1.908c-.62.828-.931 1.862-.931 3.104v17.564c0 2.01-.414 3.74-1.242 5.189-.828 1.449-1.833 2.661-3.016 3.637s-2.425 1.7-3.726 2.173c-1.3.473-2.424.71-3.37.71h-8.073v-7.451h4.88c1.241 0 2.232-.207 2.97-.621.74-.414 1.302-.932 1.686-1.553a4.9 4.9 0 00.71-1.995c.089-.71.133-1.39.133-2.04V72.432c0-1.715.325-3.134.976-4.258.65-1.124 1.434-2.01 2.35-2.661.917-.65 1.863-1.124 2.839-1.42.976-.295 1.818-.502 2.528-.62v-.178c-.71-.059-1.552-.207-2.528-.443-.976-.237-1.922-.68-2.839-1.33-.916-.651-1.7-1.583-2.35-2.795-.65-1.212-.976-2.853-.976-4.923V37.66c0-.651-.044-1.331-.133-2.04a4.909 4.909 0 00-.71-1.997c-.384-.62-.946-1.138-1.685-1.552-.74-.414-1.73-.62-2.972-.62h-4.879V24h8.073c.946 0 2.07.237 3.37.71 1.301.473 2.543 1.197 3.726 2.173 1.183.976 2.188 2.188 3.016 3.637.828 1.449 1.242 3.178 1.242 5.189v16.943c0 1.419.31 2.572.931 3.46a6.897 6.897 0 002.262 2.084 8.868 8.868 0 002.75 1.02c.946.177 1.745.266 2.395.266v7.806zm24.66 0c-.65 0-1.449.089-2.395.266-.946.177-1.863.488-2.75.931a6.356 6.356 0 00-2.262 1.908c-.62.828-.931 1.862-.931 3.104v17.564c0 2.01-.414 3.74-1.242 5.189-.828 1.449-1.833 2.661-3.016 3.637s-2.425 1.7-3.726 2.173c-1.3.473-2.424.71-3.37.71h-8.073v-7.451h4.88c1.241 0 2.232-.207 2.97-.621.74-.414 1.302-.932 1.686-1.553a4.9 4.9 0 00.71-1.995c.089-.71.133-1.39.133-2.04V72.432c0-1.715.325-3.134.976-4.258.65-1.124 1.434-2.01 2.35-2.661.917-.65 1.863-1.124 2.839-1.42.976-.295 1.818-.502 2.528-.62v-.178c-.71-.059-1.552-.207-2.528-.443-.976-.237-1.922-.68-2.839-1.33-.916-.651-1.7-1.583-2.35-2.795-.65-1.212-.976-2.853-.976-4.923V37.66c0-.651-.044-1.331-.133-2.04a4.909 4.909 0 00-.71-1.997c-.384-.62-.946-1.138-1.685-1.552-.74-.414-1.73-.62-2.972-.62h-4.879V24h8.073c.946 0 2.07.237 3.37.71 1.301.473 2.543 1.197 3.726 2.173 1.183.976 2.188 2.188 3.016 3.637.828 1.449 1.242 3.178 1.242 5.189v16.943c0 1.419.31 2.572.931 3.46a6.897 6.897 0 002.262 2.084 8.868 8.868 0 002.75 1.02c.946.177 1.745.266 2.395.266v7.806z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/twitter": {
            "title": "$:/core/images/twitter",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-twitter tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M41.626 115.803A73.376 73.376 0 012 104.235c2.022.238 4.08.36 6.166.36 12.111 0 23.258-4.117 32.105-11.023-11.312-.208-20.859-7.653-24.148-17.883a25.98 25.98 0 0011.674-.441C15.971 72.881 7.061 62.474 7.061 49.997c0-.108 0-.216.002-.323a25.824 25.824 0 0011.709 3.22c-6.936-4.617-11.5-12.5-11.5-21.433 0-4.719 1.274-9.142 3.5-12.945 12.75 15.579 31.797 25.83 53.281 26.904-.44-1.884-.67-3.85-.67-5.868 0-14.22 11.575-25.75 25.852-25.75a25.865 25.865 0 0118.869 8.132 51.892 51.892 0 0016.415-6.248c-1.93 6.012-6.029 11.059-11.366 14.246A51.844 51.844 0 00128 25.878a52.428 52.428 0 01-12.9 13.33c.05 1.104.075 2.214.075 3.33 0 34.028-26 73.265-73.549 73.265\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/underline": {
            "title": "$:/core/images/underline",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-underline tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M7 117.421h114.248V128H7v-10.579zm97.871-18.525V0h-16.26v55.856c0 4.463-.605 8.576-1.816 12.338-1.212 3.762-3.03 7.046-5.452 9.851-2.423 2.806-5.452 4.974-9.086 6.504-3.635 1.53-7.939 2.296-12.912 2.296-6.25 0-11.159-1.786-14.73-5.356-3.57-3.571-5.356-8.417-5.356-14.538V0H23v65.038c0 5.356.542 10.234 1.626 14.633 1.084 4.4 2.965 8.194 5.643 11.382 2.678 3.188 6.185 5.643 10.52 7.365 4.337 1.721 9.756 2.582 16.26 2.582 7.27 0 13.582-1.435 18.938-4.304 5.356-2.87 9.755-7.365 13.199-13.486h.382v15.686h15.303z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/unfold-all-button": {
            "title": "$:/core/images/unfold-all-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-unfold-all tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;rect width=\"128\" height=\"16\" rx=\"8\"/&gt;&lt;rect width=\"128\" height=\"16\" y=\"64\" rx=\"8\"/&gt;&lt;path d=\"M63.945 60.624c-2.05 0-4.101-.78-5.666-2.345L35.662 35.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 41.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 58.279a7.986 7.986 0 01-5.663 2.346zM64.004 124.565c-2.05 0-4.102-.78-5.666-2.345L35.721 99.603c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 105.255l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.662 122.22a7.986 7.986 0 01-5.663 2.346z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/unfold-button": {
            "title": "$:/core/images/unfold-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-unfold tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;g fill-rule=\"evenodd\"&gt;&lt;rect width=\"128\" height=\"16\" rx=\"8\"/&gt;&lt;path d=\"M63.945 63.624c-2.05 0-4.101-.78-5.666-2.345L35.662 38.662c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.192-3.122 11.319.005L63.94 44.314l16.966-16.966c3.124-3.124 8.194-3.129 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319L69.603 61.279a7.986 7.986 0 01-5.663 2.346zM64.004 105.682c-2.05.001-4.102-.78-5.666-2.344L35.721 80.721c-3.125-3.125-3.13-8.195-.005-11.319 3.118-3.118 8.191-3.122 11.318.005L64 86.373l16.966-16.966c3.124-3.125 8.194-3.13 11.318-.005 3.118 3.118 3.122 8.192-.005 11.319l-22.617 22.617a7.986 7.986 0 01-5.663 2.346z\"/&gt;&lt;/g&gt;&lt;/svg&gt;"
        },
        "$:/core/images/unlocked-padlock": {
            "title": "$:/core/images/unlocked-padlock",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-unlocked-padlock tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M48.627 64H105v32.01C105 113.674 90.674 128 73.001 128H56C38.318 128 24 113.677 24 96.01V64h6.136c-10.455-12.651-27.364-35.788-4.3-55.142 24.636-20.672 45.835 4.353 55.777 16.201 9.943 11.85-2.676 22.437-12.457 9.892-9.78-12.545-21.167-24.146-33.207-14.043-12.041 10.104-1.757 22.36 8.813 34.958 2.467 2.94 3.641 5.732 3.865 8.134zm19.105 28.364A8.503 8.503 0 0064.5 76a8.5 8.5 0 00-3.498 16.25l-5.095 22.77H72.8l-5.07-22.656z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/up-arrow": {
            "title": "$:/core/images/up-arrow",
            "created": "20150316000544368",
            "modified": "20150316000831867",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-up-arrow tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M63.892.281c2.027 0 4.054.77 5.6 2.316l55.98 55.98a7.92 7.92 0 010 11.196c-3.086 3.085-8.104 3.092-11.196 0L63.894 19.393 13.513 69.774a7.92 7.92 0 01-11.196 0c-3.085-3.086-3.092-8.105 0-11.196l55.98-55.98A7.892 7.892 0 0163.893.28z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/video": {
            "title": "$:/core/images/video",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-video tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M64 12c-34.91 0-55.273 2.917-58.182 5.833C2.91 20.75 0 41.167 0 64.5c0 23.333 2.91 43.75 5.818 46.667C8.728 114.083 29.091 117 64 117c34.91 0 55.273-2.917 58.182-5.833C125.09 108.25 128 87.833 128 64.5c0-23.333-2.91-43.75-5.818-46.667C119.272 14.917 98.909 12 64 12zm-9.084 32.618c-3.813-2.542-6.905-.879-6.905 3.698v31.368c0 4.585 3.099 6.235 6.905 3.698l22.168-14.779c3.813-2.542 3.806-6.669 0-9.206L54.916 44.618z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/warning": {
            "title": "$:/core/images/warning",
            "tags": "$:/tags/Image",
            "text": "&lt;svg width=\"22pt\" height=\"22pt\" class=\"tc-image-warning tc-image-button\" viewBox=\"0 0 128 128\"&gt;&lt;path fill-rule=\"evenodd\" d=\"M57.072 11c3.079-5.333 10.777-5.333 13.856 0l55.426 96c3.079 5.333-.77 12-6.928 12H8.574c-6.158 0-10.007-6.667-6.928-12l55.426-96zM64 37c-4.418 0-8 3.582-8 7.994v28.012C56 77.421 59.59 81 64 81c4.418 0 8-3.582 8-7.994V44.994C72 40.579 68.41 37 64 37zm0 67a8 8 0 100-16 8 8 0 000 16z\"/&gt;&lt;/svg&gt;"
        },
        "$:/language/Buttons/AdvancedSearch/Caption": {
            "title": "$:/language/Buttons/AdvancedSearch/Caption",
            "text": "advanced search"
        },
        "$:/language/Buttons/AdvancedSearch/Hint": {
            "title": "$:/language/Buttons/AdvancedSearch/Hint",
            "text": "Advanced search"
        },
        "$:/language/Buttons/Cancel/Caption": {
            "title": "$:/language/Buttons/Cancel/Caption",
            "text": "cancel"
        },
        "$:/language/Buttons/Cancel/Hint": {
            "title": "$:/language/Buttons/Cancel/Hint",
            "text": "Discard changes to this tiddler"
        },
        "$:/language/Buttons/Clone/Caption": {
            "title": "$:/language/Buttons/Clone/Caption",
            "text": "clone"
        },
        "$:/language/Buttons/Clone/Hint": {
            "title": "$:/language/Buttons/Clone/Hint",
            "text": "Clone this tiddler"
        },
        "$:/language/Buttons/Close/Caption": {
            "title": "$:/language/Buttons/Close/Caption",
            "text": "close"
        },
        "$:/language/Buttons/Close/Hint": {
            "title": "$:/language/Buttons/Close/Hint",
            "text": "Close this tiddler"
        },
        "$:/language/Buttons/CloseAll/Caption": {
            "title": "$:/language/Buttons/CloseAll/Caption",
            "text": "close all"
        },
        "$:/language/Buttons/CloseAll/Hint": {
            "title": "$:/language/Buttons/CloseAll/Hint",
            "text": "Close all tiddlers"
        },
        "$:/language/Buttons/CloseOthers/Caption": {
            "title": "$:/language/Buttons/CloseOthers/Caption",
            "text": "close others"
        },
        "$:/language/Buttons/CloseOthers/Hint": {
            "title": "$:/language/Buttons/CloseOthers/Hint",
            "text": "Close other tiddlers"
        },
        "$:/language/Buttons/ControlPanel/Caption": {
            "title": "$:/language/Buttons/ControlPanel/Caption",
            "text": "control panel"
        },
        "$:/language/Buttons/ControlPanel/Hint": {
            "title": "$:/language/Buttons/ControlPanel/Hint",
            "text": "Open control panel"
        },
        "$:/language/Buttons/CopyToClipboard/Caption": {
            "title": "$:/language/Buttons/CopyToClipboard/Caption",
            "text": "copy to clipboard"
        },
        "$:/language/Buttons/CopyToClipboard/Hint": {
            "title": "$:/language/Buttons/CopyToClipboard/Hint",
            "text": "Copy this text to the clipboard"
        },
        "$:/language/Buttons/Delete/Caption": {
            "title": "$:/language/Buttons/Delete/Caption",
            "text": "delete"
        },
        "$:/language/Buttons/Delete/Hint": {
            "title": "$:/language/Buttons/Delete/Hint",
            "text": "Delete this tiddler"
        },
        "$:/language/Buttons/Edit/Caption": {
            "title": "$:/language/Buttons/Edit/Caption",
            "text": "edit"
        },
        "$:/language/Buttons/Edit/Hint": {
            "title": "$:/language/Buttons/Edit/Hint",
            "text": "Edit this tiddler"
        },
        "$:/language/Buttons/Encryption/Caption": {
            "title": "$:/language/Buttons/Encryption/Caption",
            "text": "encryption"
        },
        "$:/language/Buttons/Encryption/Hint": {
            "title": "$:/language/Buttons/Encryption/Hint",
            "text": "Set or clear a password for saving this wiki"
        },
        "$:/language/Buttons/Encryption/ClearPassword/Caption": {
            "title": "$:/language/Buttons/Encryption/ClearPassword/Caption",
            "text": "clear password"
        },
        "$:/language/Buttons/Encryption/ClearPassword/Hint": {
            "title": "$:/language/Buttons/Encryption/ClearPassword/Hint",
            "text": "Clear the password and save this wiki without encryption"
        },
        "$:/language/Buttons/Encryption/SetPassword/Caption": {
            "title": "$:/language/Buttons/Encryption/SetPassword/Caption",
            "text": "set password"
        },
        "$:/language/Buttons/Encryption/SetPassword/Hint": {
            "title": "$:/language/Buttons/Encryption/SetPassword/Hint",
            "text": "Set a password for saving this wiki with encryption"
        },
        "$:/language/Buttons/ExportPage/Caption": {
            "title": "$:/language/Buttons/ExportPage/Caption",
            "text": "export all"
        },
        "$:/language/Buttons/ExportPage/Hint": {
            "title": "$:/language/Buttons/ExportPage/Hint",
            "text": "Export all tiddlers"
        },
        "$:/language/Buttons/ExportTiddler/Caption": {
            "title": "$:/language/Buttons/ExportTiddler/Caption",
            "text": "export tiddler"
        },
        "$:/language/Buttons/ExportTiddler/Hint": {
            "title": "$:/language/Buttons/ExportTiddler/Hint",
            "text": "Export tiddler"
        },
        "$:/language/Buttons/ExportTiddlers/Caption": {
            "title": "$:/language/Buttons/ExportTiddlers/Caption",
            "text": "export tiddlers"
        },
        "$:/language/Buttons/ExportTiddlers/Hint": {
            "title": "$:/language/Buttons/ExportTiddlers/Hint",
            "text": "Export tiddlers"
        },
        "$:/language/Buttons/SidebarSearch/Hint": {
            "title": "$:/language/Buttons/SidebarSearch/Hint",
            "text": "Select the sidebar search field"
        },
        "$:/language/Buttons/Fold/Caption": {
            "title": "$:/language/Buttons/Fold/Caption",
            "text": "fold tiddler"
        },
        "$:/language/Buttons/Fold/Hint": {
            "title": "$:/language/Buttons/Fold/Hint",
            "text": "Fold the body of this tiddler"
        },
        "$:/language/Buttons/Fold/FoldBar/Caption": {
            "title": "$:/language/Buttons/Fold/FoldBar/Caption",
            "text": "fold-bar"
        },
        "$:/language/Buttons/Fold/FoldBar/Hint": {
            "title": "$:/language/Buttons/Fold/FoldBar/Hint",
            "text": "Optional bars to fold and unfold tiddlers"
        },
        "$:/language/Buttons/Unfold/Caption": {
            "title": "$:/language/Buttons/Unfold/Caption",
            "text": "unfold tiddler"
        },
        "$:/language/Buttons/Unfold/Hint": {
            "title": "$:/language/Buttons/Unfold/Hint",
            "text": "Unfold the body of this tiddler"
        },
        "$:/language/Buttons/FoldOthers/Caption": {
            "title": "$:/language/Buttons/FoldOthers/Caption",
            "text": "fold other tiddlers"
        },
        "$:/language/Buttons/FoldOthers/Hint": {
            "title": "$:/language/Buttons/FoldOthers/Hint",
            "text": "Fold the bodies of other opened tiddlers"
        },
        "$:/language/Buttons/FoldAll/Caption": {
            "title": "$:/language/Buttons/FoldAll/Caption",
            "text": "fold all tiddlers"
        },
        "$:/language/Buttons/FoldAll/Hint": {
            "title": "$:/language/Buttons/FoldAll/Hint",
            "text": "Fold the bodies of all opened tiddlers"
        },
        "$:/language/Buttons/UnfoldAll/Caption": {
            "title": "$:/language/Buttons/UnfoldAll/Caption",
            "text": "unfold all tiddlers"
        },
        "$:/language/Buttons/UnfoldAll/Hint": {
            "title": "$:/language/Buttons/UnfoldAll/Hint",
            "text": "Unfold the bodies of all opened tiddlers"
        },
        "$:/language/Buttons/FullScreen/Caption": {
            "title": "$:/language/Buttons/FullScreen/Caption",
            "text": "full-screen"
        },
        "$:/language/Buttons/FullScreen/Hint": {
            "title": "$:/language/Buttons/FullScreen/Hint",
            "text": "Enter or leave full-screen mode"
        },
        "$:/language/Buttons/Help/Caption": {
            "title": "$:/language/Buttons/Help/Caption",
            "text": "help"
        },
        "$:/language/Buttons/Help/Hint": {
            "title": "$:/language/Buttons/Help/Hint",
            "text": "Show help panel"
        },
        "$:/language/Buttons/Import/Caption": {
            "title": "$:/language/Buttons/Import/Caption",
            "text": "import"
        },
        "$:/language/Buttons/Import/Hint": {
            "title": "$:/language/Buttons/Import/Hint",
            "text": "Import many types of file including text, image, TiddlyWiki or JSON"
        },
        "$:/language/Buttons/Info/Caption": {
            "title": "$:/language/Buttons/Info/Caption",
            "text": "info"
        },
        "$:/language/Buttons/Info/Hint": {
            "title": "$:/language/Buttons/Info/Hint",
            "text": "Show information for this tiddler"
        },
        "$:/language/Buttons/Home/Caption": {
            "title": "$:/language/Buttons/Home/Caption",
            "text": "home"
        },
        "$:/language/Buttons/Home/Hint": {
            "title": "$:/language/Buttons/Home/Hint",
            "text": "Open the default tiddlers"
        },
        "$:/language/Buttons/Language/Caption": {
            "title": "$:/language/Buttons/Language/Caption",
            "text": "language"
        },
        "$:/language/Buttons/Language/Hint": {
            "title": "$:/language/Buttons/Language/Hint",
            "text": "Choose the user interface language"
        },
        "$:/language/Buttons/Manager/Caption": {
            "title": "$:/language/Buttons/Manager/Caption",
            "text": "tiddler manager"
        },
        "$:/language/Buttons/Manager/Hint": {
            "title": "$:/language/Buttons/Manager/Hint",
            "text": "Open tiddler manager"
        },
        "$:/language/Buttons/More/Caption": {
            "title": "$:/language/Buttons/More/Caption",
            "text": "more"
        },
        "$:/language/Buttons/More/Hint": {
            "title": "$:/language/Buttons/More/Hint",
            "text": "More actions"
        },
        "$:/language/Buttons/NewHere/Caption": {
            "title": "$:/language/Buttons/NewHere/Caption",
            "text": "new here"
        },
        "$:/language/Buttons/NewHere/Hint": {
            "title": "$:/language/Buttons/NewHere/Hint",
            "text": "Create a new tiddler tagged with this one"
        },
        "$:/language/Buttons/NewJournal/Caption": {
            "title": "$:/language/Buttons/NewJournal/Caption",
            "text": "new journal"
        },
        "$:/language/Buttons/NewJournal/Hint": {
            "title": "$:/language/Buttons/NewJournal/Hint",
            "text": "Create a new journal tiddler"
        },
        "$:/language/Buttons/NewJournalHere/Caption": {
            "title": "$:/language/Buttons/NewJournalHere/Caption",
            "text": "new journal here"
        },
        "$:/language/Buttons/NewJournalHere/Hint": {
            "title": "$:/language/Buttons/NewJournalHere/Hint",
            "text": "Create a new journal tiddler tagged with this one"
        },
        "$:/language/Buttons/NewImage/Caption": {
            "title": "$:/language/Buttons/NewImage/Caption",
            "text": "new image"
        },
        "$:/language/Buttons/NewImage/Hint": {
            "title": "$:/language/Buttons/NewImage/Hint",
            "text": "Create a new image tiddler"
        },
        "$:/language/Buttons/NewMarkdown/Caption": {
            "title": "$:/language/Buttons/NewMarkdown/Caption",
            "text": "new Markdown tiddler"
        },
        "$:/language/Buttons/NewMarkdown/Hint": {
            "title": "$:/language/Buttons/NewMarkdown/Hint",
            "text": "Create a new Markdown tiddler"
        },
        "$:/language/Buttons/NewTiddler/Caption": {
            "title": "$:/language/Buttons/NewTiddler/Caption",
            "text": "new tiddler"
        },
        "$:/language/Buttons/NewTiddler/Hint": {
            "title": "$:/language/Buttons/NewTiddler/Hint",
            "text": "Create a new tiddler"
        },
        "$:/language/Buttons/OpenWindow/Caption": {
            "title": "$:/language/Buttons/OpenWindow/Caption",
            "text": "open in new window"
        },
        "$:/language/Buttons/OpenWindow/Hint": {
            "title": "$:/language/Buttons/OpenWindow/Hint",
            "text": "Open tiddler in new window"
        },
        "$:/language/Buttons/Palette/Caption": {
            "title": "$:/language/Buttons/Palette/Caption",
            "text": "palette"
        },
        "$:/language/Buttons/Palette/Hint": {
            "title": "$:/language/Buttons/Palette/Hint",
            "text": "Choose the colour palette"
        },
        "$:/language/Buttons/Permalink/Caption": {
            "title": "$:/language/Buttons/Permalink/Caption",
            "text": "permalink"
        },
        "$:/language/Buttons/Permalink/Hint": {
            "title": "$:/language/Buttons/Permalink/Hint",
            "text": "Set browser address bar to a direct link to this tiddler"
        },
        "$:/language/Buttons/Permaview/Caption": {
            "title": "$:/language/Buttons/Permaview/Caption",
            "text": "permaview"
        },
        "$:/language/Buttons/Permaview/Hint": {
            "title": "$:/language/Buttons/Permaview/Hint",
            "text": "Set browser address bar to a direct link to all the tiddlers in this story"
        },
        "$:/language/Buttons/Print/Caption": {
            "title": "$:/language/Buttons/Print/Caption",
            "text": "print page"
        },
        "$:/language/Buttons/Print/Hint": {
            "title": "$:/language/Buttons/Print/Hint",
            "text": "Print the current page"
        },
        "$:/language/Buttons/Refresh/Caption": {
            "title": "$:/language/Buttons/Refresh/Caption",
            "text": "refresh"
        },
        "$:/language/Buttons/Refresh/Hint": {
            "title": "$:/language/Buttons/Refresh/Hint",
            "text": "Perform a full refresh of the wiki"
        },
        "$:/language/Buttons/Save/Caption": {
            "title": "$:/language/Buttons/Save/Caption",
            "text": "ok"
        },
        "$:/language/Buttons/Save/Hint": {
            "title": "$:/language/Buttons/Save/Hint",
            "text": "Confirm changes to this tiddler"
        },
        "$:/language/Buttons/SaveWiki/Caption": {
            "title": "$:/language/Buttons/SaveWiki/Caption",
            "text": "save changes"
        },
        "$:/language/Buttons/SaveWiki/Hint": {
            "title": "$:/language/Buttons/SaveWiki/Hint",
            "text": "Save changes"
        },
        "$:/language/Buttons/StoryView/Caption": {
            "title": "$:/language/Buttons/StoryView/Caption",
            "text": "storyview"
        },
        "$:/language/Buttons/StoryView/Hint": {
            "title": "$:/language/Buttons/StoryView/Hint",
            "text": "Choose the story visualisation"
        },
        "$:/language/Buttons/HideSideBar/Caption": {
            "title": "$:/language/Buttons/HideSideBar/Caption",
            "text": "hide sidebar"
        },
        "$:/language/Buttons/HideSideBar/Hint": {
            "title": "$:/language/Buttons/HideSideBar/Hint",
            "text": "Hide sidebar"
        },
        "$:/language/Buttons/ShowSideBar/Caption": {
            "title": "$:/language/Buttons/ShowSideBar/Caption",
            "text": "show sidebar"
        },
        "$:/language/Buttons/ShowSideBar/Hint": {
            "title": "$:/language/Buttons/ShowSideBar/Hint",
            "text": "Show sidebar"
        },
        "$:/language/Buttons/TagManager/Caption": {
            "title": "$:/language/Buttons/TagManager/Caption",
            "text": "tag manager"
        },
        "$:/language/Buttons/TagManager/Hint": {
            "title": "$:/language/Buttons/TagManager/Hint",
            "text": "Open tag manager"
        },
        "$:/language/Buttons/Timestamp/Caption": {
            "title": "$:/language/Buttons/Timestamp/Caption",
            "text": "timestamps"
        },
        "$:/language/Buttons/Timestamp/Hint": {
            "title": "$:/language/Buttons/Timestamp/Hint",
            "text": "Choose whether modifications update timestamps"
        },
        "$:/language/Buttons/Timestamp/On/Caption": {
            "title": "$:/language/Buttons/Timestamp/On/Caption",
            "text": "timestamps are on"
        },
        "$:/language/Buttons/Timestamp/On/Hint": {
            "title": "$:/language/Buttons/Timestamp/On/Hint",
            "text": "Update timestamps when tiddlers are modified"
        },
        "$:/language/Buttons/Timestamp/Off/Caption": {
            "title": "$:/language/Buttons/Timestamp/Off/Caption",
            "text": "timestamps are off"
        },
        "$:/language/Buttons/Timestamp/Off/Hint": {
            "title": "$:/language/Buttons/Timestamp/Off/Hint",
            "text": "Don't update timestamps when tiddlers are modified"
        },
        "$:/language/Buttons/Theme/Caption": {
            "title": "$:/language/Buttons/Theme/Caption",
            "text": "theme"
        },
        "$:/language/Buttons/Theme/Hint": {
            "title": "$:/language/Buttons/Theme/Hint",
            "text": "Choose the display theme"
        },
        "$:/language/Buttons/Bold/Caption": {
            "title": "$:/language/Buttons/Bold/Caption",
            "text": "bold"
        },
        "$:/language/Buttons/Bold/Hint": {
            "title": "$:/language/Buttons/Bold/Hint",
            "text": "Apply bold formatting to selection"
        },
        "$:/language/Buttons/Clear/Caption": {
            "title": "$:/language/Buttons/Clear/Caption",
            "text": "clear"
        },
        "$:/language/Buttons/Clear/Hint": {
            "title": "$:/language/Buttons/Clear/Hint",
            "text": "Clear image to solid colour"
        },
        "$:/language/Buttons/EditorHeight/Caption": {
            "title": "$:/language/Buttons/EditorHeight/Caption",
            "text": "editor height"
        },
        "$:/language/Buttons/EditorHeight/Caption/Auto": {
            "title": "$:/language/Buttons/EditorHeight/Caption/Auto",
            "text": "Automatically adjust height to fit content"
        },
        "$:/language/Buttons/EditorHeight/Caption/Fixed": {
            "title": "$:/language/Buttons/EditorHeight/Caption/Fixed",
            "text": "Fixed height:"
        },
        "$:/language/Buttons/EditorHeight/Hint": {
            "title": "$:/language/Buttons/EditorHeight/Hint",
            "text": "Choose the height of the text editor"
        },
        "$:/language/Buttons/Excise/Caption": {
            "title": "$:/language/Buttons/Excise/Caption",
            "text": "excise"
        },
        "$:/language/Buttons/Excise/Caption/Excise": {
            "title": "$:/language/Buttons/Excise/Caption/Excise",
            "text": "Perform excision"
        },
        "$:/language/Buttons/Excise/Caption/MacroName": {
            "title": "$:/language/Buttons/Excise/Caption/MacroName",
            "text": "Macro name:"
        },
        "$:/language/Buttons/Excise/Caption/NewTitle": {
            "title": "$:/language/Buttons/Excise/Caption/NewTitle",
            "text": "Title of new tiddler:"
        },
        "$:/language/Buttons/Excise/Caption/Replace": {
            "title": "$:/language/Buttons/Excise/Caption/Replace",
            "text": "Replace excised text with:"
        },
        "$:/language/Buttons/Excise/Caption/Replace/Macro": {
            "title": "$:/language/Buttons/Excise/Caption/Replace/Macro",
            "text": "macro"
        },
        "$:/language/Buttons/Excise/Caption/Replace/Link": {
            "title": "$:/language/Buttons/Excise/Caption/Replace/Link",
            "text": "link"
        },
        "$:/language/Buttons/Excise/Caption/Replace/Transclusion": {
            "title": "$:/language/Buttons/Excise/Caption/Replace/Transclusion",
            "text": "transclusion"
        },
        "$:/language/Buttons/Excise/Caption/Tag": {
            "title": "$:/language/Buttons/Excise/Caption/Tag",
            "text": "Tag new tiddler with the title of this tiddler"
        },
        "$:/language/Buttons/Excise/Caption/TiddlerExists": {
            "title": "$:/language/Buttons/Excise/Caption/TiddlerExists",
            "text": "Warning: tiddler already exists"
        },
        "$:/language/Buttons/Excise/Hint": {
            "title": "$:/language/Buttons/Excise/Hint",
            "text": "Excise the selected text into a new tiddler"
        },
        "$:/language/Buttons/Heading1/Caption": {
            "title": "$:/language/Buttons/Heading1/Caption",
            "text": "heading 1"
        },
        "$:/language/Buttons/Heading1/Hint": {
            "title": "$:/language/Buttons/Heading1/Hint",
            "text": "Apply heading level 1 formatting to lines containing selection"
        },
        "$:/language/Buttons/Heading2/Caption": {
            "title": "$:/language/Buttons/Heading2/Caption",
            "text": "heading 2"
        },
        "$:/language/Buttons/Heading2/Hint": {
            "title": "$:/language/Buttons/Heading2/Hint",
            "text": "Apply heading level 2 formatting to lines containing selection"
        },
        "$:/language/Buttons/Heading3/Caption": {
            "title": "$:/language/Buttons/Heading3/Caption",
            "text": "heading 3"
        },
        "$:/language/Buttons/Heading3/Hint": {
            "title": "$:/language/Buttons/Heading3/Hint",
            "text": "Apply heading level 3 formatting to lines containing selection"
        },
        "$:/language/Buttons/Heading4/Caption": {
            "title": "$:/language/Buttons/Heading4/Caption",
            "text": "heading 4"
        },
        "$:/language/Buttons/Heading4/Hint": {
            "title": "$:/language/Buttons/Heading4/Hint",
            "text": "Apply heading level 4 formatting to lines containing selection"
        },
        "$:/language/Buttons/Heading5/Caption": {
            "title": "$:/language/Buttons/Heading5/Caption",
            "text": "heading 5"
        },
        "$:/language/Buttons/Heading5/Hint": {
            "title": "$:/language/Buttons/Heading5/Hint",
            "text": "Apply heading level 5 formatting to lines containing selection"
        },
        "$:/language/Buttons/Heading6/Caption": {
            "title": "$:/language/Buttons/Heading6/Caption",
            "text": "heading 6"
        },
        "$:/language/Buttons/Heading6/Hint": {
            "title": "$:/language/Buttons/Heading6/Hint",
            "text": "Apply heading level 6 formatting to lines containing selection"
        },
        "$:/language/Buttons/Italic/Caption": {
            "title": "$:/language/Buttons/Italic/Caption",
            "text": "italic"
        },
        "$:/language/Buttons/Italic/Hint": {
            "title": "$:/language/Buttons/Italic/Hint",
            "text": "Apply italic formatting to selection"
        },
        "$:/language/Buttons/LineWidth/Caption": {
            "title": "$:/language/Buttons/LineWidth/Caption",
            "text": "line width"
        },
        "$:/language/Buttons/LineWidth/Hint": {
            "title": "$:/language/Buttons/LineWidth/Hint",
            "text": "Set line width for painting"
        },
        "$:/language/Buttons/Link/Caption": {
            "title": "$:/language/Buttons/Link/Caption",
            "text": "link"
        },
        "$:/language/Buttons/Link/Hint": {
            "title": "$:/language/Buttons/Link/Hint",
            "text": "Create wikitext link"
        },
        "$:/language/Buttons/Linkify/Caption": {
            "title": "$:/language/Buttons/Linkify/Caption",
            "text": "wikilink"
        },
        "$:/language/Buttons/Linkify/Hint": {
            "title": "$:/language/Buttons/Linkify/Hint",
            "text": "Wrap selection in square brackets"
        },
        "$:/language/Buttons/ListBullet/Caption": {
            "title": "$:/language/Buttons/ListBullet/Caption",
            "text": "bulleted list"
        },
        "$:/language/Buttons/ListBullet/Hint": {
            "title": "$:/language/Buttons/ListBullet/Hint",
            "text": "Apply bulleted list formatting to lines containing selection"
        },
        "$:/language/Buttons/ListNumber/Caption": {
            "title": "$:/language/Buttons/ListNumber/Caption",
            "text": "numbered list"
        },
        "$:/language/Buttons/ListNumber/Hint": {
            "title": "$:/language/Buttons/ListNumber/Hint",
            "text": "Apply numbered list formatting to lines containing selection"
        },
        "$:/language/Buttons/MonoBlock/Caption": {
            "title": "$:/language/Buttons/MonoBlock/Caption",
            "text": "monospaced block"
        },
        "$:/language/Buttons/MonoBlock/Hint": {
            "title": "$:/language/Buttons/MonoBlock/Hint",
            "text": "Apply monospaced block formatting to lines containing selection"
        },
        "$:/language/Buttons/MonoLine/Caption": {
            "title": "$:/language/Buttons/MonoLine/Caption",
            "text": "monospaced"
        },
        "$:/language/Buttons/MonoLine/Hint": {
            "title": "$:/language/Buttons/MonoLine/Hint",
            "text": "Apply monospaced character formatting to selection"
        },
        "$:/language/Buttons/Opacity/Caption": {
            "title": "$:/language/Buttons/Opacity/Caption",
            "text": "opacity"
        },
        "$:/language/Buttons/Opacity/Hint": {
            "title": "$:/language/Buttons/Opacity/Hint",
            "text": "Set painting opacity"
        },
        "$:/language/Buttons/Paint/Caption": {
            "title": "$:/language/Buttons/Paint/Caption",
            "text": "paint colour"
        },
        "$:/language/Buttons/Paint/Hint": {
            "title": "$:/language/Buttons/Paint/Hint",
            "text": "Set painting colour"
        },
        "$:/language/Buttons/Picture/Caption": {
            "title": "$:/language/Buttons/Picture/Caption",
            "text": "picture"
        },
        "$:/language/Buttons/Picture/Hint": {
            "title": "$:/language/Buttons/Picture/Hint",
            "text": "Insert picture"
        },
        "$:/language/Buttons/Preview/Caption": {
            "title": "$:/language/Buttons/Preview/Caption",
            "text": "preview"
        },
        "$:/language/Buttons/Preview/Hint": {
            "title": "$:/language/Buttons/Preview/Hint",
            "text": "Show preview pane"
        },
        "$:/language/Buttons/PreviewType/Caption": {
            "title": "$:/language/Buttons/PreviewType/Caption",
            "text": "preview type"
        },
        "$:/language/Buttons/PreviewType/Hint": {
            "title": "$:/language/Buttons/PreviewType/Hint",
            "text": "Choose preview type"
        },
        "$:/language/Buttons/Quote/Caption": {
            "title": "$:/language/Buttons/Quote/Caption",
            "text": "quote"
        },
        "$:/language/Buttons/Quote/Hint": {
            "title": "$:/language/Buttons/Quote/Hint",
            "text": "Apply quoted text formatting to lines containing selection"
        },
        "$:/language/Buttons/RotateLeft/Caption": {
            "title": "$:/language/Buttons/RotateLeft/Caption",
            "text": "rotate left"
        },
        "$:/language/Buttons/RotateLeft/Hint": {
            "title": "$:/language/Buttons/RotateLeft/Hint",
            "text": "Rotate image left by 90 degrees"
        },
        "$:/language/Buttons/Size/Caption": {
            "title": "$:/language/Buttons/Size/Caption",
            "text": "image size"
        },
        "$:/language/Buttons/Size/Caption/Height": {
            "title": "$:/language/Buttons/Size/Caption/Height",
            "text": "Height:"
        },
        "$:/language/Buttons/Size/Caption/Resize": {
            "title": "$:/language/Buttons/Size/Caption/Resize",
            "text": "Resize image"
        },
        "$:/language/Buttons/Size/Caption/Width": {
            "title": "$:/language/Buttons/Size/Caption/Width",
            "text": "Width:"
        },
        "$:/language/Buttons/Size/Hint": {
            "title": "$:/language/Buttons/Size/Hint",
            "text": "Set image size"
        },
        "$:/language/Buttons/Stamp/Caption": {
            "title": "$:/language/Buttons/Stamp/Caption",
            "text": "stamp"
        },
        "$:/language/Buttons/Stamp/Caption/New": {
            "title": "$:/language/Buttons/Stamp/Caption/New",
            "text": "Add your own"
        },
        "$:/language/Buttons/Stamp/Hint": {
            "title": "$:/language/Buttons/Stamp/Hint",
            "text": "Insert a preconfigured snippet of text"
        },
        "$:/language/Buttons/Stamp/New/Title": {
            "title": "$:/language/Buttons/Stamp/New/Title",
            "text": "Name as shown in menu"
        },
        "$:/language/Buttons/Stamp/New/Text": {
            "title": "$:/language/Buttons/Stamp/New/Text",
            "text": "Text of snippet. (Remember to add a descriptive title in the caption field)."
        },
        "$:/language/Buttons/Strikethrough/Caption": {
            "title": "$:/language/Buttons/Strikethrough/Caption",
            "text": "strikethrough"
        },
        "$:/language/Buttons/Strikethrough/Hint": {
            "title": "$:/language/Buttons/Strikethrough/Hint",
            "text": "Apply strikethrough formatting to selection"
        },
        "$:/language/Buttons/Subscript/Caption": {
            "title": "$:/language/Buttons/Subscript/Caption",
            "text": "subscript"
        },
        "$:/language/Buttons/Subscript/Hint": {
            "title": "$:/language/Buttons/Subscript/Hint",
            "text": "Apply subscript formatting to selection"
        },
        "$:/language/Buttons/Superscript/Caption": {
            "title": "$:/language/Buttons/Superscript/Caption",
            "text": "superscript"
        },
        "$:/language/Buttons/Superscript/Hint": {
            "title": "$:/language/Buttons/Superscript/Hint",
            "text": "Apply superscript formatting to selection"
        },
        "$:/language/Buttons/ToggleSidebar/Hint": {
            "title": "$:/language/Buttons/ToggleSidebar/Hint",
            "text": "Toggle the sidebar visibility"
        },
        "$:/language/Buttons/Transcludify/Caption": {
            "title": "$:/language/Buttons/Transcludify/Caption",
            "text": "transclusion"
        },
        "$:/language/Buttons/Transcludify/Hint": {
            "title": "$:/language/Buttons/Transcludify/Hint",
            "text": "Wrap selection in curly brackets"
        },
        "$:/language/Buttons/Underline/Caption": {
            "title": "$:/language/Buttons/Underline/Caption",
            "text": "underline"
        },
        "$:/language/Buttons/Underline/Hint": {
            "title": "$:/language/Buttons/Underline/Hint",
            "text": "Apply underline formatting to selection"
        },
        "$:/language/ControlPanel/Advanced/Caption": {
            "title": "$:/language/ControlPanel/Advanced/Caption",
            "text": "Advanced"
        },
        "$:/language/ControlPanel/Advanced/Hint": {
            "title": "$:/language/ControlPanel/Advanced/Hint",
            "text": "Internal information about this TiddlyWiki"
        },
        "$:/language/ControlPanel/Appearance/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Caption",
            "text": "Appearance"
        },
        "$:/language/ControlPanel/Appearance/Hint": {
            "title": "$:/language/ControlPanel/Appearance/Hint",
            "text": "Ways to customise the appearance of your TiddlyWiki."
        },
        "$:/language/ControlPanel/Basics/AnimDuration/Prompt": {
            "title": "$:/language/ControlPanel/Basics/AnimDuration/Prompt",
            "text": "Animation duration"
        },
        "$:/language/ControlPanel/Basics/AutoFocus/Prompt": {
            "title": "$:/language/ControlPanel/Basics/AutoFocus/Prompt",
            "text": "Default focus field for new tiddlers"
        },
        "$:/language/ControlPanel/Basics/Caption": {
            "title": "$:/language/ControlPanel/Basics/Caption",
            "text": "Basics"
        },
        "$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint": {
            "title": "$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint",
            "text": "Use &amp;#91;&amp;#91;double square brackets&amp;#93;&amp;#93; for titles with spaces. Or you can choose to &lt;$button set=\"$:/DefaultTiddlers\" setTo=\"[list[$:/StoryList]]\"&gt;retain story ordering&lt;/$button&gt;"
        },
        "$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt",
            "text": "Default tiddlers"
        },
        "$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint": {
            "title": "$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint",
            "text": "Choose which tiddlers are displayed at startup"
        },
        "$:/language/ControlPanel/Basics/Language/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Language/Prompt",
            "text": "Hello! Current language:"
        },
        "$:/language/ControlPanel/Basics/NewJournal/Title/Prompt": {
            "title": "$:/language/ControlPanel/Basics/NewJournal/Title/Prompt",
            "text": "Title of new journal tiddlers"
        },
        "$:/language/ControlPanel/Basics/NewJournal/Text/Prompt": {
            "title": "$:/language/ControlPanel/Basics/NewJournal/Text/Prompt",
            "text": "Text for new journal tiddlers"
        },
        "$:/language/ControlPanel/Basics/NewJournal/Tags/Prompt": {
            "title": "$:/language/ControlPanel/Basics/NewJournal/Tags/Prompt",
            "text": "Tags for new journal tiddlers"
        },
        "$:/language/ControlPanel/Basics/NewTiddler/Title/Prompt": {
            "title": "$:/language/ControlPanel/Basics/NewTiddler/Title/Prompt",
            "text": "Title of new tiddlers"
        },
        "$:/language/ControlPanel/Basics/NewTiddler/Tags/Prompt": {
            "title": "$:/language/ControlPanel/Basics/NewTiddler/Tags/Prompt",
            "text": "Tags for new tiddlers"
        },
        "$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt",
            "text": "Number of overridden shadow tiddlers"
        },
        "$:/language/ControlPanel/Basics/RemoveTags": {
            "title": "$:/language/ControlPanel/Basics/RemoveTags",
            "text": "Update to current format"
        },
        "$:/language/ControlPanel/Basics/RemoveTags/Hint": {
            "title": "$:/language/ControlPanel/Basics/RemoveTags/Hint",
            "text": "Update the tags configuration to the latest format"
        },
        "$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt",
            "text": "Number of shadow tiddlers"
        },
        "$:/language/ControlPanel/Basics/Subtitle/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Subtitle/Prompt",
            "text": "Subtitle"
        },
        "$:/language/ControlPanel/Basics/SystemTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/SystemTiddlers/Prompt",
            "text": "Number of system tiddlers"
        },
        "$:/language/ControlPanel/Basics/Tags/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Tags/Prompt",
            "text": "Number of tags"
        },
        "$:/language/ControlPanel/Basics/Tiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Tiddlers/Prompt",
            "text": "Number of tiddlers"
        },
        "$:/language/ControlPanel/Basics/Title/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Title/Prompt",
            "text": "Title of this ~TiddlyWiki"
        },
        "$:/language/ControlPanel/Basics/Username/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Username/Prompt",
            "text": "Username for signing edits"
        },
        "$:/language/ControlPanel/Basics/Version/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Version/Prompt",
            "text": "~TiddlyWiki version"
        },
        "$:/language/ControlPanel/EditorTypes/Caption": {
            "title": "$:/language/ControlPanel/EditorTypes/Caption",
            "text": "Editor Types"
        },
        "$:/language/ControlPanel/EditorTypes/Editor/Caption": {
            "title": "$:/language/ControlPanel/EditorTypes/Editor/Caption",
            "text": "Editor"
        },
        "$:/language/ControlPanel/EditorTypes/Hint": {
            "title": "$:/language/ControlPanel/EditorTypes/Hint",
            "text": "These tiddlers determine which editor is used to edit specific tiddler types."
        },
        "$:/language/ControlPanel/EditorTypes/Type/Caption": {
            "title": "$:/language/ControlPanel/EditorTypes/Type/Caption",
            "text": "Type"
        },
        "$:/language/ControlPanel/Info/Caption": {
            "title": "$:/language/ControlPanel/Info/Caption",
            "text": "Info"
        },
        "$:/language/ControlPanel/Info/Hint": {
            "title": "$:/language/ControlPanel/Info/Hint",
            "text": "Information about this TiddlyWiki"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Add/Prompt": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Add/Prompt",
            "text": "Type shortcut here"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Add/Caption": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Add/Caption",
            "text": "add shortcut"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Caption": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Caption",
            "text": "Keyboard Shortcuts"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Hint": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Hint",
            "text": "Manage keyboard shortcut assignments"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/NoShortcuts/Caption": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/NoShortcuts/Caption",
            "text": "No keyboard shortcuts assigned"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Remove/Hint": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Remove/Hint",
            "text": "remove keyboard shortcut"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Platform/All": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Platform/All",
            "text": "All platforms"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Platform/Mac": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Platform/Mac",
            "text": "Macintosh platform only"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Platform/NonMac": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Platform/NonMac",
            "text": "Non-Macintosh platforms only"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Platform/Linux": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Platform/Linux",
            "text": "Linux platform only"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Platform/NonLinux": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Platform/NonLinux",
            "text": "Non-Linux platforms only"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Platform/Windows": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Platform/Windows",
            "text": "Windows platform only"
        },
        "$:/language/ControlPanel/KeyboardShortcuts/Platform/NonWindows": {
            "title": "$:/language/ControlPanel/KeyboardShortcuts/Platform/NonWindows",
            "text": "Non-Windows platforms only"
        },
        "$:/language/ControlPanel/LayoutSwitcher/Caption": {
            "title": "$:/language/ControlPanel/LayoutSwitcher/Caption",
            "text": "Layout"
        },
        "$:/language/ControlPanel/LoadedModules/Caption": {
            "title": "$:/language/ControlPanel/LoadedModules/Caption",
            "text": "Loaded Modules"
        },
        "$:/language/ControlPanel/LoadedModules/Hint": {
            "title": "$:/language/ControlPanel/LoadedModules/Hint",
            "text": "These are the currently loaded tiddler modules linked to their source tiddlers. Any italicised modules lack a source tiddler, typically because they were setup during the boot process."
        },
        "$:/language/ControlPanel/Palette/Caption": {
            "title": "$:/language/ControlPanel/Palette/Caption",
            "text": "Palette"
        },
        "$:/language/ControlPanel/Palette/Editor/Clone/Caption": {
            "title": "$:/language/ControlPanel/Palette/Editor/Clone/Caption",
            "text": "clone"
        },
        "$:/language/ControlPanel/Palette/Editor/Clone/Prompt": {
            "title": "$:/language/ControlPanel/Palette/Editor/Clone/Prompt",
            "text": "It is recommended that you clone this shadow palette before editing it"
        },
        "$:/language/ControlPanel/Palette/Editor/Delete/Hint": {
            "title": "$:/language/ControlPanel/Palette/Editor/Delete/Hint",
            "text": "delete this entry from the current palette"
        },
        "$:/language/ControlPanel/Palette/Editor/Names/External/Show": {
            "title": "$:/language/ControlPanel/Palette/Editor/Names/External/Show",
            "text": "Show color names that are not part of the current palette"
        },
        "$:/language/ControlPanel/Palette/Editor/Prompt/Modified": {
            "title": "$:/language/ControlPanel/Palette/Editor/Prompt/Modified",
            "text": "This shadow palette has been modified"
        },
        "$:/language/ControlPanel/Palette/Editor/Prompt": {
            "title": "$:/language/ControlPanel/Palette/Editor/Prompt",
            "text": "Editing"
        },
        "$:/language/ControlPanel/Palette/Editor/Reset/Caption": {
            "title": "$:/language/ControlPanel/Palette/Editor/Reset/Caption",
            "text": "reset"
        },
        "$:/language/ControlPanel/Palette/HideEditor/Caption": {
            "title": "$:/language/ControlPanel/Palette/HideEditor/Caption",
            "text": "hide editor"
        },
        "$:/language/ControlPanel/Palette/Prompt": {
            "title": "$:/language/ControlPanel/Palette/Prompt",
            "text": "Current palette:"
        },
        "$:/language/ControlPanel/Palette/ShowEditor/Caption": {
            "title": "$:/language/ControlPanel/Palette/ShowEditor/Caption",
            "text": "show editor"
        },
        "$:/language/ControlPanel/Parsing/Caption": {
            "title": "$:/language/ControlPanel/Parsing/Caption",
            "text": "Parsing"
        },
        "$:/language/ControlPanel/Parsing/Hint": {
            "title": "$:/language/ControlPanel/Parsing/Hint",
            "text": "Here you can globally disable/enable wiki parser rules. For changes to take effect, save and reload your wiki. Disabling certain parser rules can prevent &lt;$text text=\"TiddlyWiki\"/&gt; from functioning correctly. Use [[safe mode|https://tiddlywiki.com/#SafeMode]] to restore normal operation."
        },
        "$:/language/ControlPanel/Parsing/Block/Caption": {
            "title": "$:/language/ControlPanel/Parsing/Block/Caption",
            "text": "Block Parse Rules"
        },
        "$:/language/ControlPanel/Parsing/Inline/Caption": {
            "title": "$:/language/ControlPanel/Parsing/Inline/Caption",
            "text": "Inline Parse Rules"
        },
        "$:/language/ControlPanel/Parsing/Pragma/Caption": {
            "title": "$:/language/ControlPanel/Parsing/Pragma/Caption",
            "text": "Pragma Parse Rules"
        },
        "$:/language/ControlPanel/Plugins/Add/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Add/Caption",
            "text": "Get more plugins"
        },
        "$:/language/ControlPanel/Plugins/Add/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Add/Hint",
            "text": "Install plugins from the official library"
        },
        "$:/language/ControlPanel/Plugins/AlreadyInstalled/Hint": {
            "title": "$:/language/ControlPanel/Plugins/AlreadyInstalled/Hint",
            "text": "This plugin is already installed at version &lt;$text text=&lt;&lt;installedVersion&gt;&gt;/&gt;"
        },
        "$:/language/ControlPanel/Plugins/AlsoRequires": {
            "title": "$:/language/ControlPanel/Plugins/AlsoRequires",
            "text": "Also requires:"
        },
        "$:/language/ControlPanel/Plugins/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Caption",
            "text": "Plugins"
        },
        "$:/language/ControlPanel/Plugins/Disable/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Disable/Caption",
            "text": "disable"
        },
        "$:/language/ControlPanel/Plugins/Disable/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Disable/Hint",
            "text": "Disable this plugin when reloading page"
        },
        "$:/language/ControlPanel/Plugins/Disabled/Status": {
            "title": "$:/language/ControlPanel/Plugins/Disabled/Status",
            "text": "(disabled)"
        },
        "$:/language/ControlPanel/Plugins/Downgrade/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Downgrade/Caption",
            "text": "downgrade"
        },
        "$:/language/ControlPanel/Plugins/Empty/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Empty/Hint",
            "text": "None"
        },
        "$:/language/ControlPanel/Plugins/Enable/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Enable/Caption",
            "text": "enable"
        },
        "$:/language/ControlPanel/Plugins/Enable/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Enable/Hint",
            "text": "Enable this plugin when reloading page"
        },
        "$:/language/ControlPanel/Plugins/Install/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Install/Caption",
            "text": "install"
        },
        "$:/language/ControlPanel/Plugins/Installed/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Installed/Hint",
            "text": "Currently installed plugins:"
        },
        "$:/language/ControlPanel/Plugins/Languages/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Languages/Caption",
            "text": "Languages"
        },
        "$:/language/ControlPanel/Plugins/Languages/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Languages/Hint",
            "text": "Language pack plugins"
        },
        "$:/language/ControlPanel/Plugins/NoInfoFound/Hint": {
            "title": "$:/language/ControlPanel/Plugins/NoInfoFound/Hint",
            "text": "No ''\"&lt;$text text=&lt;&lt;currentTab&gt;&gt;/&gt;\"'' found"
        },
        "$:/language/ControlPanel/Plugins/NotInstalled/Hint": {
            "title": "$:/language/ControlPanel/Plugins/NotInstalled/Hint",
            "text": "This plugin is not currently installed"
        },
        "$:/language/ControlPanel/Plugins/OpenPluginLibrary": {
            "title": "$:/language/ControlPanel/Plugins/OpenPluginLibrary",
            "text": "open plugin library"
        },
        "$:/language/ControlPanel/Plugins/ClosePluginLibrary": {
            "title": "$:/language/ControlPanel/Plugins/ClosePluginLibrary",
            "text": "close plugin library"
        },
        "$:/language/ControlPanel/Plugins/PluginWillRequireReload": {
            "title": "$:/language/ControlPanel/Plugins/PluginWillRequireReload",
            "text": "(requires reload)"
        },
        "$:/language/ControlPanel/Plugins/Plugins/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Plugins/Caption",
            "text": "Plugins"
        },
        "$:/language/ControlPanel/Plugins/Plugins/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Plugins/Hint",
            "text": "Plugins"
        },
        "$:/language/ControlPanel/Plugins/Reinstall/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Reinstall/Caption",
            "text": "reinstall"
        },
        "$:/language/ControlPanel/Plugins/Themes/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Themes/Caption",
            "text": "Themes"
        },
        "$:/language/ControlPanel/Plugins/Themes/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Themes/Hint",
            "text": "Theme plugins"
        },
        "$:/language/ControlPanel/Plugins/Update/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Update/Caption",
            "text": "update"
        },
        "$:/language/ControlPanel/Plugins/Updates/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Updates/Caption",
            "text": "Updates"
        },
        "$:/language/ControlPanel/Plugins/Updates/Hint": {
            "title": "$:/language/ControlPanel/Plugins/Updates/Hint",
            "text": "Available updates to installed plugins"
        },
        "$:/language/ControlPanel/Plugins/Updates/UpdateAll/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Updates/UpdateAll/Caption",
            "text": "Update &lt;&lt;update-count&gt;&gt; plugins"
        },
        "$:/language/ControlPanel/Plugins/SubPluginPrompt": {
            "title": "$:/language/ControlPanel/Plugins/SubPluginPrompt",
            "text": "With &lt;&lt;count&gt;&gt; sub-plugins available"
        },
        "$:/language/ControlPanel/Saving/Caption": {
            "title": "$:/language/ControlPanel/Saving/Caption",
            "text": "Saving"
        },
        "$:/language/ControlPanel/Saving/DownloadSaver/AutoSave/Description": {
            "title": "$:/language/ControlPanel/Saving/DownloadSaver/AutoSave/Description",
            "text": "Permit automatic saving for the download saver"
        },
        "$:/language/ControlPanel/Saving/DownloadSaver/AutoSave/Hint": {
            "title": "$:/language/ControlPanel/Saving/DownloadSaver/AutoSave/Hint",
            "text": "Enable Autosave for Download Saver"
        },
        "$:/language/ControlPanel/Saving/DownloadSaver/Caption": {
            "title": "$:/language/ControlPanel/Saving/DownloadSaver/Caption",
            "text": "Download Saver"
        },
        "$:/language/ControlPanel/Saving/DownloadSaver/Hint": {
            "title": "$:/language/ControlPanel/Saving/DownloadSaver/Hint",
            "text": "These settings apply to the HTML5-compatible download saver"
        },
        "$:/language/ControlPanel/Saving/General/Caption": {
            "title": "$:/language/ControlPanel/Saving/General/Caption",
            "text": "General"
        },
        "$:/language/ControlPanel/Saving/General/Hint": {
            "title": "$:/language/ControlPanel/Saving/General/Hint",
            "text": "These settings apply to all the loaded savers"
        },
        "$:/language/ControlPanel/Saving/Hint": {
            "title": "$:/language/ControlPanel/Saving/Hint",
            "text": "Settings used for saving the entire TiddlyWiki as a single file via a saver module"
        },
        "$:/language/ControlPanel/Saving/GitService/Branch": {
            "title": "$:/language/ControlPanel/Saving/GitService/Branch",
            "text": "Target branch for saving"
        },
        "$:/language/ControlPanel/Saving/GitService/CommitMessage": {
            "title": "$:/language/ControlPanel/Saving/GitService/CommitMessage",
            "text": "Saved by TiddlyWiki"
        },
        "$:/language/ControlPanel/Saving/GitService/Description": {
            "title": "$:/language/ControlPanel/Saving/GitService/Description",
            "text": "These settings are only used when saving to &lt;&lt;service-name&gt;&gt;"
        },
        "$:/language/ControlPanel/Saving/GitService/Filename": {
            "title": "$:/language/ControlPanel/Saving/GitService/Filename",
            "text": "Filename of target file (e.g. `index.html`)"
        },
        "$:/language/ControlPanel/Saving/GitService/Path": {
            "title": "$:/language/ControlPanel/Saving/GitService/Path",
            "text": "Path to target file (e.g. `/wiki/`)"
        },
        "$:/language/ControlPanel/Saving/GitService/Repo": {
            "title": "$:/language/ControlPanel/Saving/GitService/Repo",
            "text": "Target repository (e.g. `Jermolene/TiddlyWiki5`)"
        },
        "$:/language/ControlPanel/Saving/GitService/ServerURL": {
            "title": "$:/language/ControlPanel/Saving/GitService/ServerURL",
            "text": "Server API URL"
        },
        "$:/language/ControlPanel/Saving/GitService/UserName": {
            "title": "$:/language/ControlPanel/Saving/GitService/UserName",
            "text": "Username"
        },
        "$:/language/ControlPanel/Saving/GitService/GitHub/Caption": {
            "title": "$:/language/ControlPanel/Saving/GitService/GitHub/Caption",
            "text": "~GitHub Saver"
        },
        "$:/language/ControlPanel/Saving/GitService/GitHub/Password": {
            "title": "$:/language/ControlPanel/Saving/GitService/GitHub/Password",
            "text": "Password, OAUTH token, or personal access token (see [[GitHub help page|https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line]] for details)"
        },
        "$:/language/ControlPanel/Saving/GitService/GitLab/Caption": {
            "title": "$:/language/ControlPanel/Saving/GitService/GitLab/Caption",
            "text": "~GitLab Saver"
        },
        "$:/language/ControlPanel/Saving/GitService/GitLab/Password": {
            "title": "$:/language/ControlPanel/Saving/GitService/GitLab/Password",
            "text": "Personal access token for API (see [[GitLab help page|https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html]] for details)"
        },
        "$:/language/ControlPanel/Saving/GitService/Gitea/Caption": {
            "title": "$:/language/ControlPanel/Saving/GitService/Gitea/Caption",
            "text": "Gitea Saver"
        },
        "$:/language/ControlPanel/Saving/GitService/Gitea/Password": {
            "title": "$:/language/ControlPanel/Saving/GitService/Gitea/Password",
            "text": "Personal access token for API (via Gitea’s web interface: `Settings | Applications | Generate New Token`)"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading",
            "text": "Advanced Settings"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/BackupDir": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/BackupDir",
            "text": "Backup Directory"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/ControlPanel": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/ControlPanel",
            "text": "~TiddlySpot Control Panel"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Backups": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Backups",
            "text": "Backups"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Caption": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Caption",
            "text": "~TiddlySpot Saver"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Description": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Description",
            "text": "These settings are only used when saving to http://tiddlyspot.com or a compatible remote server"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Filename": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Filename",
            "text": "Upload Filename"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Heading": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Heading",
            "text": "~TiddlySpot"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Hint": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Hint",
            "text": "//The server URL defaults to `http://&lt;wikiname&gt;.tiddlyspot.com/store.cgi` and can be changed to use a custom server address, e.g. `http://example.com/store.php`.//"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Password": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Password",
            "text": "Password"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/ReadOnly": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/ReadOnly",
            "text": "The ~TiddlySpot service is currently only available in read-only form. Please see http://tiddlyspot.com/ for the latest details. The ~TiddlySpot saver can still be used to save to compatible servers."
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/ServerURL": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/ServerURL",
            "text": "Server URL"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/UploadDir": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/UploadDir",
            "text": "Upload Directory"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/UserName": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/UserName",
            "text": "Wiki Name"
        },
        "$:/language/ControlPanel/Settings/AutoSave/Caption": {
            "title": "$:/language/ControlPanel/Settings/AutoSave/Caption",
            "text": "Autosave"
        },
        "$:/language/ControlPanel/Settings/AutoSave/Disabled/Description": {
            "title": "$:/language/ControlPanel/Settings/AutoSave/Disabled/Description",
            "text": "Do not save changes automatically"
        },
        "$:/language/ControlPanel/Settings/AutoSave/Enabled/Description": {
            "title": "$:/language/ControlPanel/Settings/AutoSave/Enabled/Description",
            "text": "Save changes automatically"
        },
        "$:/language/ControlPanel/Settings/AutoSave/Hint": {
            "title": "$:/language/ControlPanel/Settings/AutoSave/Hint",
            "text": "Attempt to automatically save changes during editing when using a supporting saver"
        },
        "$:/language/ControlPanel/Settings/CamelCase/Caption": {
            "title": "$:/language/ControlPanel/Settings/CamelCase/Caption",
            "text": "Camel Case Wiki Links"
        },
        "$:/language/ControlPanel/Settings/CamelCase/Hint": {
            "title": "$:/language/ControlPanel/Settings/CamelCase/Hint",
            "text": "You can globally disable automatic linking of ~CamelCase phrases. Requires reload to take effect"
        },
        "$:/language/ControlPanel/Settings/CamelCase/Description": {
            "title": "$:/language/ControlPanel/Settings/CamelCase/Description",
            "text": "Enable automatic ~CamelCase linking"
        },
        "$:/language/ControlPanel/Settings/Caption": {
            "title": "$:/language/ControlPanel/Settings/Caption",
            "text": "Settings"
        },
        "$:/language/ControlPanel/Settings/EditorToolbar/Caption": {
            "title": "$:/language/ControlPanel/Settings/EditorToolbar/Caption",
            "text": "Editor Toolbar"
        },
        "$:/language/ControlPanel/Settings/EditorToolbar/Hint": {
            "title": "$:/language/ControlPanel/Settings/EditorToolbar/Hint",
            "text": "Enable or disable the editor toolbar:"
        },
        "$:/language/ControlPanel/Settings/EditorToolbar/Description": {
            "title": "$:/language/ControlPanel/Settings/EditorToolbar/Description",
            "text": "Show editor toolbar"
        },
        "$:/language/ControlPanel/Settings/InfoPanelMode/Caption": {
            "title": "$:/language/ControlPanel/Settings/InfoPanelMode/Caption",
            "text": "Tiddler Info Panel Mode"
        },
        "$:/language/ControlPanel/Settings/InfoPanelMode/Hint": {
            "title": "$:/language/ControlPanel/Settings/InfoPanelMode/Hint",
            "text": "Control when the tiddler info panel closes:"
        },
        "$:/language/ControlPanel/Settings/InfoPanelMode/Popup/Description": {
            "title": "$:/language/ControlPanel/Settings/InfoPanelMode/Popup/Description",
            "text": "Tiddler info panel closes automatically"
        },
        "$:/language/ControlPanel/Settings/InfoPanelMode/Sticky/Description": {
            "title": "$:/language/ControlPanel/Settings/InfoPanelMode/Sticky/Description",
            "text": "Tiddler info panel stays open until explicitly closed"
        },
        "$:/language/ControlPanel/Settings/Hint": {
            "title": "$:/language/ControlPanel/Settings/Hint",
            "text": "These settings let you customise the behaviour of TiddlyWiki."
        },
        "$:/language/ControlPanel/Settings/NavigationAddressBar/Caption": {
            "title": "$:/language/ControlPanel/Settings/NavigationAddressBar/Caption",
            "text": "Navigation Address Bar"
        },
        "$:/language/ControlPanel/Settings/NavigationAddressBar/Hint": {
            "title": "$:/language/ControlPanel/Settings/NavigationAddressBar/Hint",
            "text": "Behaviour of the browser address bar when navigating to a tiddler:"
        },
        "$:/language/ControlPanel/Settings/NavigationAddressBar/No/Description": {
            "title": "$:/language/ControlPanel/Settings/NavigationAddressBar/No/Description",
            "text": "Do not update the address bar"
        },
        "$:/language/ControlPanel/Settings/NavigationAddressBar/Permalink/Description": {
            "title": "$:/language/ControlPanel/Settings/NavigationAddressBar/Permalink/Description",
            "text": "Include the target tiddler"
        },
        "$:/language/ControlPanel/Settings/NavigationAddressBar/Permaview/Description": {
            "title": "$:/language/ControlPanel/Settings/NavigationAddressBar/Permaview/Description",
            "text": "Include the target tiddler and the current story sequence"
        },
        "$:/language/ControlPanel/Settings/NavigationHistory/Caption": {
            "title": "$:/language/ControlPanel/Settings/NavigationHistory/Caption",
            "text": "Navigation History"
        },
        "$:/language/ControlPanel/Settings/NavigationHistory/Hint": {
            "title": "$:/language/ControlPanel/Settings/NavigationHistory/Hint",
            "text": "Update browser history when navigating to a tiddler:"
        },
        "$:/language/ControlPanel/Settings/NavigationHistory/No/Description": {
            "title": "$:/language/ControlPanel/Settings/NavigationHistory/No/Description",
            "text": "Do not update history"
        },
        "$:/language/ControlPanel/Settings/NavigationHistory/Yes/Description": {
            "title": "$:/language/ControlPanel/Settings/NavigationHistory/Yes/Description",
            "text": "Update history"
        },
        "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/Caption": {
            "title": "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/Caption",
            "text": "Permalink/permaview Mode"
        },
        "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/Hint": {
            "title": "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/Hint",
            "text": "Choose how permalink/permaview is handled:"
        },
        "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/CopyToClipboard/Description": {
            "title": "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/CopyToClipboard/Description",
            "text": "Copy permalink/permaview URL to clipboard"
        },
        "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/UpdateAddressBar/Description": {
            "title": "$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/UpdateAddressBar/Description",
            "text": "Update address bar with permalink/permaview URL"
        },
        "$:/language/ControlPanel/Settings/PerformanceInstrumentation/Caption": {
            "title": "$:/language/ControlPanel/Settings/PerformanceInstrumentation/Caption",
            "text": "Performance Instrumentation"
        },
        "$:/language/ControlPanel/Settings/PerformanceInstrumentation/Hint": {
            "title": "$:/language/ControlPanel/Settings/PerformanceInstrumentation/Hint",
            "text": "Displays performance statistics in the browser developer console. Requires reload to take effect"
        },
        "$:/language/ControlPanel/Settings/PerformanceInstrumentation/Description": {
            "title": "$:/language/ControlPanel/Settings/PerformanceInstrumentation/Description",
            "text": "Enable performance instrumentation"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Caption": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Caption",
            "text": "Toolbar Button Style"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Hint": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Hint",
            "text": "Choose the style for toolbar buttons:"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Borderless": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Borderless",
            "text": "Borderless"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Boxed": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Boxed",
            "text": "Boxed"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Rounded": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Rounded",
            "text": "Rounded"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtons/Caption": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtons/Caption",
            "text": "Toolbar Buttons"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtons/Hint": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtons/Hint",
            "text": "Default toolbar button appearance:"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtons/Icons/Description": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtons/Icons/Description",
            "text": "Include icon"
        },
        "$:/language/ControlPanel/Settings/ToolbarButtons/Text/Description": {
            "title": "$:/language/ControlPanel/Settings/ToolbarButtons/Text/Description",
            "text": "Include text"
        },
        "$:/language/ControlPanel/Settings/DefaultSidebarTab/Caption": {
            "title": "$:/language/ControlPanel/Settings/DefaultSidebarTab/Caption",
            "text": "Default Sidebar Tab"
        },
        "$:/language/ControlPanel/Settings/DefaultSidebarTab/Hint": {
            "title": "$:/language/ControlPanel/Settings/DefaultSidebarTab/Hint",
            "text": "Specify which sidebar tab is displayed by default"
        },
        "$:/language/ControlPanel/Settings/DefaultMoreSidebarTab/Caption": {
            "title": "$:/language/ControlPanel/Settings/DefaultMoreSidebarTab/Caption",
            "text": "Default More Sidebar Tab"
        },
        "$:/language/ControlPanel/Settings/DefaultMoreSidebarTab/Hint": {
            "title": "$:/language/ControlPanel/Settings/DefaultMoreSidebarTab/Hint",
            "text": "Specify which More sidebar tab is displayed by default"
        },
        "$:/language/ControlPanel/Settings/LinkToBehaviour/Caption": {
            "title": "$:/language/ControlPanel/Settings/LinkToBehaviour/Caption",
            "text": "Tiddler Opening Behaviour"
        },
        "$:/language/ControlPanel/Settings/LinkToBehaviour/InsideRiver/Hint": {
            "title": "$:/language/ControlPanel/Settings/LinkToBehaviour/InsideRiver/Hint",
            "text": "Navigation from //within// the story river"
        },
        "$:/language/ControlPanel/Settings/LinkToBehaviour/OutsideRiver/Hint": {
            "title": "$:/language/ControlPanel/Settings/LinkToBehaviour/OutsideRiver/Hint",
            "text": "Navigation from //outside// the story river"
        },
        "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAbove": {
            "title": "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAbove",
            "text": "Open above the current tiddler"
        },
        "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenBelow": {
            "title": "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenBelow",
            "text": "Open below the current tiddler"
        },
        "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtTop": {
            "title": "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtTop",
            "text": "Open at the top of the story river"
        },
        "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtBottom": {
            "title": "$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtBottom",
            "text": "Open at the bottom of the story river"
        },
        "$:/language/ControlPanel/Settings/TitleLinks/Caption": {
            "title": "$:/language/ControlPanel/Settings/TitleLinks/Caption",
            "text": "Tiddler Titles"
        },
        "$:/language/ControlPanel/Settings/TitleLinks/Hint": {
            "title": "$:/language/ControlPanel/Settings/TitleLinks/Hint",
            "text": "Optionally display tiddler titles as links"
        },
        "$:/language/ControlPanel/Settings/TitleLinks/No/Description": {
            "title": "$:/language/ControlPanel/Settings/TitleLinks/No/Description",
            "text": "Do not display tiddler titles as links"
        },
        "$:/language/ControlPanel/Settings/TitleLinks/Yes/Description": {
            "title": "$:/language/ControlPanel/Settings/TitleLinks/Yes/Description",
            "text": "Display tiddler titles as links"
        },
        "$:/language/ControlPanel/Settings/MissingLinks/Caption": {
            "title": "$:/language/ControlPanel/Settings/MissingLinks/Caption",
            "text": "Wiki Links"
        },
        "$:/language/ControlPanel/Settings/MissingLinks/Hint": {
            "title": "$:/language/ControlPanel/Settings/MissingLinks/Hint",
            "text": "Choose whether to link to tiddlers that do not exist yet"
        },
        "$:/language/ControlPanel/Settings/MissingLinks/Description": {
            "title": "$:/language/ControlPanel/Settings/MissingLinks/Description",
            "text": "Enable links to missing tiddlers"
        },
        "$:/language/ControlPanel/StoryView/Caption": {
            "title": "$:/language/ControlPanel/StoryView/Caption",
            "text": "Story View"
        },
        "$:/language/ControlPanel/StoryView/Prompt": {
            "title": "$:/language/ControlPanel/StoryView/Prompt",
            "text": "Current view:"
        },
        "$:/language/ControlPanel/Stylesheets/Caption": {
            "title": "$:/language/ControlPanel/Stylesheets/Caption",
            "text": "Stylesheets"
        },
        "$:/language/ControlPanel/Stylesheets/Expand/Caption": {
            "title": "$:/language/ControlPanel/Stylesheets/Expand/Caption",
            "text": "Expand All"
        },
        "$:/language/ControlPanel/Stylesheets/Hint": {
            "title": "$:/language/ControlPanel/Stylesheets/Hint",
            "text": "This is the rendered CSS of the current stylesheet tiddlers tagged with &lt;&lt;tag \"$:/tags/Stylesheet\"&gt;&gt;"
        },
        "$:/language/ControlPanel/Stylesheets/Restore/Caption": {
            "title": "$:/language/ControlPanel/Stylesheets/Restore/Caption",
            "text": "Restore"
        },
        "$:/language/ControlPanel/Theme/Caption": {
            "title": "$:/language/ControlPanel/Theme/Caption",
            "text": "Theme"
        },
        "$:/language/ControlPanel/Theme/Prompt": {
            "title": "$:/language/ControlPanel/Theme/Prompt",
            "text": "Current theme:"
        },
        "$:/language/ControlPanel/TiddlerFields/Caption": {
            "title": "$:/language/ControlPanel/TiddlerFields/Caption",
            "text": "Tiddler Fields"
        },
        "$:/language/ControlPanel/TiddlerFields/Hint": {
            "title": "$:/language/ControlPanel/TiddlerFields/Hint",
            "text": "This is the full set of TiddlerFields in use in this wiki (including system tiddlers but excluding shadow tiddlers)."
        },
        "$:/language/ControlPanel/Toolbars/Caption": {
            "title": "$:/language/ControlPanel/Toolbars/Caption",
            "text": "Toolbars"
        },
        "$:/language/ControlPanel/Toolbars/EditToolbar/Caption": {
            "title": "$:/language/ControlPanel/Toolbars/EditToolbar/Caption",
            "text": "Edit Toolbar"
        },
        "$:/language/ControlPanel/Toolbars/EditToolbar/Hint": {
            "title": "$:/language/ControlPanel/Toolbars/EditToolbar/Hint",
            "text": "Choose which buttons are displayed for tiddlers in edit mode. Drag and drop to change the ordering"
        },
        "$:/language/ControlPanel/Toolbars/Hint": {
            "title": "$:/language/ControlPanel/Toolbars/Hint",
            "text": "Select which toolbar buttons are displayed"
        },
        "$:/language/ControlPanel/Toolbars/PageControls/Caption": {
            "title": "$:/language/ControlPanel/Toolbars/PageControls/Caption",
            "text": "Page Toolbar"
        },
        "$:/language/ControlPanel/Toolbars/PageControls/Hint": {
            "title": "$:/language/ControlPanel/Toolbars/PageControls/Hint",
            "text": "Choose which buttons are displayed on the main page toolbar. Drag and drop to change the ordering"
        },
        "$:/language/ControlPanel/Toolbars/EditorToolbar/Caption": {
            "title": "$:/language/ControlPanel/Toolbars/EditorToolbar/Caption",
            "text": "Editor Toolbar"
        },
        "$:/language/ControlPanel/Toolbars/EditorToolbar/Hint": {
            "title": "$:/language/ControlPanel/Toolbars/EditorToolbar/Hint",
            "text": "Choose which buttons are displayed in the editor toolbar. Note that some buttons will only appear when editing tiddlers of a certain type. Drag and drop to change the ordering"
        },
        "$:/language/ControlPanel/Toolbars/ViewToolbar/Caption": {
            "title": "$:/language/ControlPanel/Toolbars/ViewToolbar/Caption",
            "text": "View Toolbar"
        },
        "$:/language/ControlPanel/Toolbars/ViewToolbar/Hint": {
            "title": "$:/language/ControlPanel/Toolbars/ViewToolbar/Hint",
            "text": "Choose which buttons are displayed for tiddlers in view mode. Drag and drop to change the ordering"
        },
        "$:/language/ControlPanel/Tools/Download/Full/Caption": {
            "title": "$:/language/ControlPanel/Tools/Download/Full/Caption",
            "text": "Download full wiki"
        },
        "$:/language/Date/DaySuffix/1": {
            "title": "$:/language/Date/DaySuffix/1",
            "text": "st"
        },
        "$:/language/Date/DaySuffix/2": {
            "title": "$:/language/Date/DaySuffix/2",
            "text": "nd"
        },
        "$:/language/Date/DaySuffix/3": {
            "title": "$:/language/Date/DaySuffix/3",
            "text": "rd"
        },
        "$:/language/Date/DaySuffix/4": {
            "title": "$:/language/Date/DaySuffix/4",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/5": {
            "title": "$:/language/Date/DaySuffix/5",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/6": {
            "title": "$:/language/Date/DaySuffix/6",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/7": {
            "title": "$:/language/Date/DaySuffix/7",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/8": {
            "title": "$:/language/Date/DaySuffix/8",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/9": {
            "title": "$:/language/Date/DaySuffix/9",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/10": {
            "title": "$:/language/Date/DaySuffix/10",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/11": {
            "title": "$:/language/Date/DaySuffix/11",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/12": {
            "title": "$:/language/Date/DaySuffix/12",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/13": {
            "title": "$:/language/Date/DaySuffix/13",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/14": {
            "title": "$:/language/Date/DaySuffix/14",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/15": {
            "title": "$:/language/Date/DaySuffix/15",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/16": {
            "title": "$:/language/Date/DaySuffix/16",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/17": {
            "title": "$:/language/Date/DaySuffix/17",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/18": {
            "title": "$:/language/Date/DaySuffix/18",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/19": {
            "title": "$:/language/Date/DaySuffix/19",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/20": {
            "title": "$:/language/Date/DaySuffix/20",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/21": {
            "title": "$:/language/Date/DaySuffix/21",
            "text": "st"
        },
        "$:/language/Date/DaySuffix/22": {
            "title": "$:/language/Date/DaySuffix/22",
            "text": "nd"
        },
        "$:/language/Date/DaySuffix/23": {
            "title": "$:/language/Date/DaySuffix/23",
            "text": "rd"
        },
        "$:/language/Date/DaySuffix/24": {
            "title": "$:/language/Date/DaySuffix/24",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/25": {
            "title": "$:/language/Date/DaySuffix/25",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/26": {
            "title": "$:/language/Date/DaySuffix/26",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/27": {
            "title": "$:/language/Date/DaySuffix/27",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/28": {
            "title": "$:/language/Date/DaySuffix/28",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/29": {
            "title": "$:/language/Date/DaySuffix/29",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/30": {
            "title": "$:/language/Date/DaySuffix/30",
            "text": "th"
        },
        "$:/language/Date/DaySuffix/31": {
            "title": "$:/language/Date/DaySuffix/31",
            "text": "st"
        },
        "$:/language/Date/Long/Day/0": {
            "title": "$:/language/Date/Long/Day/0",
            "text": "Sunday"
        },
        "$:/language/Date/Long/Day/1": {
            "title": "$:/language/Date/Long/Day/1",
            "text": "Monday"
        },
        "$:/language/Date/Long/Day/2": {
            "title": "$:/language/Date/Long/Day/2",
            "text": "Tuesday"
        },
        "$:/language/Date/Long/Day/3": {
            "title": "$:/language/Date/Long/Day/3",
            "text": "Wednesday"
        },
        "$:/language/Date/Long/Day/4": {
            "title": "$:/language/Date/Long/Day/4",
            "text": "Thursday"
        },
        "$:/language/Date/Long/Day/5": {
            "title": "$:/language/Date/Long/Day/5",
            "text": "Friday"
        },
        "$:/language/Date/Long/Day/6": {
            "title": "$:/language/Date/Long/Day/6",
            "text": "Saturday"
        },
        "$:/language/Date/Long/Month/1": {
            "title": "$:/language/Date/Long/Month/1",
            "text": "January"
        },
        "$:/language/Date/Long/Month/2": {
            "title": "$:/language/Date/Long/Month/2",
            "text": "February"
        },
        "$:/language/Date/Long/Month/3": {
            "title": "$:/language/Date/Long/Month/3",
            "text": "March"
        },
        "$:/language/Date/Long/Month/4": {
            "title": "$:/language/Date/Long/Month/4",
            "text": "April"
        },
        "$:/language/Date/Long/Month/5": {
            "title": "$:/language/Date/Long/Month/5",
            "text": "May"
        },
        "$:/language/Date/Long/Month/6": {
            "title": "$:/language/Date/Long/Month/6",
            "text": "June"
        },
        "$:/language/Date/Long/Month/7": {
            "title": "$:/language/Date/Long/Month/7",
            "text": "July"
        },
        "$:/language/Date/Long/Month/8": {
            "title": "$:/language/Date/Long/Month/8",
            "text": "August"
        },
        "$:/language/Date/Long/Month/9": {
            "title": "$:/language/Date/Long/Month/9",
            "text": "September"
        },
        "$:/language/Date/Long/Month/10": {
            "title": "$:/language/Date/Long/Month/10",
            "text": "October"
        },
        "$:/language/Date/Long/Month/11": {
            "title": "$:/language/Date/Long/Month/11",
            "text": "November"
        },
        "$:/language/Date/Long/Month/12": {
            "title": "$:/language/Date/Long/Month/12",
            "text": "December"
        },
        "$:/language/Date/Period/am": {
            "title": "$:/language/Date/Period/am",
            "text": "am"
        },
        "$:/language/Date/Period/pm": {
            "title": "$:/language/Date/Period/pm",
            "text": "pm"
        },
        "$:/language/Date/Short/Day/0": {
            "title": "$:/language/Date/Short/Day/0",
            "text": "Sun"
        },
        "$:/language/Date/Short/Day/1": {
            "title": "$:/language/Date/Short/Day/1",
            "text": "Mon"
        },
        "$:/language/Date/Short/Day/2": {
            "title": "$:/language/Date/Short/Day/2",
            "text": "Tue"
        },
        "$:/language/Date/Short/Day/3": {
            "title": "$:/language/Date/Short/Day/3",
            "text": "Wed"
        },
        "$:/language/Date/Short/Day/4": {
            "title": "$:/language/Date/Short/Day/4",
            "text": "Thu"
        },
        "$:/language/Date/Short/Day/5": {
            "title": "$:/language/Date/Short/Day/5",
            "text": "Fri"
        },
        "$:/language/Date/Short/Day/6": {
            "title": "$:/language/Date/Short/Day/6",
            "text": "Sat"
        },
        "$:/language/Date/Short/Month/1": {
            "title": "$:/language/Date/Short/Month/1",
            "text": "Jan"
        },
        "$:/language/Date/Short/Month/2": {
            "title": "$:/language/Date/Short/Month/2",
            "text": "Feb"
        },
        "$:/language/Date/Short/Month/3": {
            "title": "$:/language/Date/Short/Month/3",
            "text": "Mar"
        },
        "$:/language/Date/Short/Month/4": {
            "title": "$:/language/Date/Short/Month/4",
            "text": "Apr"
        },
        "$:/language/Date/Short/Month/5": {
            "title": "$:/language/Date/Short/Month/5",
            "text": "May"
        },
        "$:/language/Date/Short/Month/6": {
            "title": "$:/language/Date/Short/Month/6",
            "text": "Jun"
        },
        "$:/language/Date/Short/Month/7": {
            "title": "$:/language/Date/Short/Month/7",
            "text": "Jul"
        },
        "$:/language/Date/Short/Month/8": {
            "title": "$:/language/Date/Short/Month/8",
            "text": "Aug"
        },
        "$:/language/Date/Short/Month/9": {
            "title": "$:/language/Date/Short/Month/9",
            "text": "Sep"
        },
        "$:/language/Date/Short/Month/10": {
            "title": "$:/language/Date/Short/Month/10",
            "text": "Oct"
        },
        "$:/language/Date/Short/Month/11": {
            "title": "$:/language/Date/Short/Month/11",
            "text": "Nov"
        },
        "$:/language/Date/Short/Month/12": {
            "title": "$:/language/Date/Short/Month/12",
            "text": "Dec"
        },
        "$:/language/RelativeDate/Future/Days": {
            "title": "$:/language/RelativeDate/Future/Days",
            "text": "&lt;&lt;period&gt;&gt; days from now"
        },
        "$:/language/RelativeDate/Future/Hours": {
            "title": "$:/language/RelativeDate/Future/Hours",
            "text": "&lt;&lt;period&gt;&gt; hours from now"
        },
        "$:/language/RelativeDate/Future/Minutes": {
            "title": "$:/language/RelativeDate/Future/Minutes",
            "text": "&lt;&lt;period&gt;&gt; minutes from now"
        },
        "$:/language/RelativeDate/Future/Months": {
            "title": "$:/language/RelativeDate/Future/Months",
            "text": "&lt;&lt;period&gt;&gt; months from now"
        },
        "$:/language/RelativeDate/Future/Second": {
            "title": "$:/language/RelativeDate/Future/Second",
            "text": "1 second from now"
        },
        "$:/language/RelativeDate/Future/Seconds": {
            "title": "$:/language/RelativeDate/Future/Seconds",
            "text": "&lt;&lt;period&gt;&gt; seconds from now"
        },
        "$:/language/RelativeDate/Future/Years": {
            "title": "$:/language/RelativeDate/Future/Years",
            "text": "&lt;&lt;period&gt;&gt; years from now"
        },
        "$:/language/RelativeDate/Past/Days": {
            "title": "$:/language/RelativeDate/Past/Days",
            "text": "&lt;&lt;period&gt;&gt; days ago"
        },
        "$:/language/RelativeDate/Past/Hours": {
            "title": "$:/language/RelativeDate/Past/Hours",
            "text": "&lt;&lt;period&gt;&gt; hours ago"
        },
        "$:/language/RelativeDate/Past/Minutes": {
            "title": "$:/language/RelativeDate/Past/Minutes",
            "text": "&lt;&lt;period&gt;&gt; minutes ago"
        },
        "$:/language/RelativeDate/Past/Months": {
            "title": "$:/language/RelativeDate/Past/Months",
            "text": "&lt;&lt;period&gt;&gt; months ago"
        },
        "$:/language/RelativeDate/Past/Second": {
            "title": "$:/language/RelativeDate/Past/Second",
            "text": "1 second ago"
        },
        "$:/language/RelativeDate/Past/Seconds": {
            "title": "$:/language/RelativeDate/Past/Seconds",
            "text": "&lt;&lt;period&gt;&gt; seconds ago"
        },
        "$:/language/RelativeDate/Past/Years": {
            "title": "$:/language/RelativeDate/Past/Years",
            "text": "&lt;&lt;period&gt;&gt; years ago"
        },
        "$:/language/Docs/ModuleTypes/allfilteroperator": {
            "title": "$:/language/Docs/ModuleTypes/allfilteroperator",
            "text": "A sub-operator for the ''all'' filter operator."
        },
        "$:/language/Docs/ModuleTypes/animation": {
            "title": "$:/language/Docs/ModuleTypes/animation",
            "text": "Animations that may be used with the RevealWidget."
        },
        "$:/language/Docs/ModuleTypes/authenticator": {
            "title": "$:/language/Docs/ModuleTypes/authenticator",
            "text": "Defines how requests are authenticated by the built-in HTTP server."
        },
        "$:/language/Docs/ModuleTypes/bitmapeditoroperation": {
            "title": "$:/language/Docs/ModuleTypes/bitmapeditoroperation",
            "text": "A bitmap editor toolbar operation."
        },
        "$:/language/Docs/ModuleTypes/command": {
            "title": "$:/language/Docs/ModuleTypes/command",
            "text": "Commands that can be executed under Node.js."
        },
        "$:/language/Docs/ModuleTypes/config": {
            "title": "$:/language/Docs/ModuleTypes/config",
            "text": "Data to be inserted into `$tw.config`."
        },
        "$:/language/Docs/ModuleTypes/filteroperator": {
            "title": "$:/language/Docs/ModuleTypes/filteroperator",
            "text": "Individual filter operator methods."
        },
        "$:/language/Docs/ModuleTypes/global": {
            "title": "$:/language/Docs/ModuleTypes/global",
            "text": "Global data to be inserted into `$tw`."
        },
        "$:/language/Docs/ModuleTypes/info": {
            "title": "$:/language/Docs/ModuleTypes/info",
            "text": "Publishes system information via the [[$:/temp/info-plugin]] pseudo-plugin."
        },
        "$:/language/Docs/ModuleTypes/isfilteroperator": {
            "title": "$:/language/Docs/ModuleTypes/isfilteroperator",
            "text": "Operands for the ''is'' filter operator."
        },
        "$:/language/Docs/ModuleTypes/library": {
            "title": "$:/language/Docs/ModuleTypes/library",
            "text": "Generic module type for general purpose JavaScript modules."
        },
        "$:/language/Docs/ModuleTypes/macro": {
            "title": "$:/language/Docs/ModuleTypes/macro",
            "text": "JavaScript macro definitions."
        },
        "$:/language/Docs/ModuleTypes/parser": {
            "title": "$:/language/Docs/ModuleTypes/parser",
            "text": "Parsers for different content types."
        },
        "$:/language/Docs/ModuleTypes/route": {
            "title": "$:/language/Docs/ModuleTypes/route",
            "text": "Defines how individual URL patterns are handled by the built-in HTTP server."
        },
        "$:/language/Docs/ModuleTypes/saver": {
            "title": "$:/language/Docs/ModuleTypes/saver",
            "text": "Savers handle different methods for saving files from the browser."
        },
        "$:/language/Docs/ModuleTypes/startup": {
            "title": "$:/language/Docs/ModuleTypes/startup",
            "text": "Startup functions."
        },
        "$:/language/Docs/ModuleTypes/storyview": {
            "title": "$:/language/Docs/ModuleTypes/storyview",
            "text": "Story views customise the animation and behaviour of list widgets."
        },
        "$:/language/Docs/ModuleTypes/texteditoroperation": {
            "title": "$:/language/Docs/ModuleTypes/texteditoroperation",
            "text": "A text editor toolbar operation."
        },
        "$:/language/Docs/ModuleTypes/tiddlerdeserializer": {
            "title": "$:/language/Docs/ModuleTypes/tiddlerdeserializer",
            "text": "Converts different content types into tiddlers."
        },
        "$:/language/Docs/ModuleTypes/tiddlerfield": {
            "title": "$:/language/Docs/ModuleTypes/tiddlerfield",
            "text": "Defines the behaviour of an individual tiddler field."
        },
        "$:/language/Docs/ModuleTypes/tiddlermethod": {
            "title": "$:/language/Docs/ModuleTypes/tiddlermethod",
            "text": "Adds methods to the `$tw.Tiddler` prototype."
        },
        "$:/language/Docs/ModuleTypes/upgrader": {
            "title": "$:/language/Docs/ModuleTypes/upgrader",
            "text": "Applies upgrade processing to tiddlers during an upgrade/import."
        },
        "$:/language/Docs/ModuleTypes/utils": {
            "title": "$:/language/Docs/ModuleTypes/utils",
            "text": "Adds methods to `$tw.utils`."
        },
        "$:/language/Docs/ModuleTypes/utils-browser": {
            "title": "$:/language/Docs/ModuleTypes/utils-browser",
            "text": "Adds browser-specific methods to `$tw.utils`."
        },
        "$:/language/Docs/ModuleTypes/utils-node": {
            "title": "$:/language/Docs/ModuleTypes/utils-node",
            "text": "Adds Node.js-specific methods to `$tw.utils`."
        },
        "$:/language/Docs/ModuleTypes/widget": {
            "title": "$:/language/Docs/ModuleTypes/widget",
            "text": "Widgets encapsulate DOM rendering and refreshing."
        },
        "$:/language/Docs/ModuleTypes/wikimethod": {
            "title": "$:/language/Docs/ModuleTypes/wikimethod",
            "text": "Adds methods to `$tw.Wiki`."
        },
        "$:/language/Docs/ModuleTypes/wikirule": {
            "title": "$:/language/Docs/ModuleTypes/wikirule",
            "text": "Individual parser rules for the main WikiText parser."
        },
        "$:/language/Docs/PaletteColours/alert-background": {
            "title": "$:/language/Docs/PaletteColours/alert-background",
            "text": "Alert background"
        },
        "$:/language/Docs/PaletteColours/alert-border": {
            "title": "$:/language/Docs/PaletteColours/alert-border",
            "text": "Alert border"
        },
        "$:/language/Docs/PaletteColours/alert-highlight": {
            "title": "$:/language/Docs/PaletteColours/alert-highlight",
            "text": "Alert highlight"
        },
        "$:/language/Docs/PaletteColours/alert-muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/alert-muted-foreground",
            "text": "Alert muted foreground"
        },
        "$:/language/Docs/PaletteColours/background": {
            "title": "$:/language/Docs/PaletteColours/background",
            "text": "General background"
        },
        "$:/language/Docs/PaletteColours/blockquote-bar": {
            "title": "$:/language/Docs/PaletteColours/blockquote-bar",
            "text": "Blockquote bar"
        },
        "$:/language/Docs/PaletteColours/button-background": {
            "title": "$:/language/Docs/PaletteColours/button-background",
            "text": "Default button background"
        },
        "$:/language/Docs/PaletteColours/button-border": {
            "title": "$:/language/Docs/PaletteColours/button-border",
            "text": "Default button border"
        },
        "$:/language/Docs/PaletteColours/button-foreground": {
            "title": "$:/language/Docs/PaletteColours/button-foreground",
            "text": "Default button foreground"
        },
        "$:/language/Docs/PaletteColours/dirty-indicator": {
            "title": "$:/language/Docs/PaletteColours/dirty-indicator",
            "text": "Unsaved changes indicator"
        },
        "$:/language/Docs/PaletteColours/code-background": {
            "title": "$:/language/Docs/PaletteColours/code-background",
            "text": "Code background"
        },
        "$:/language/Docs/PaletteColours/code-border": {
            "title": "$:/language/Docs/PaletteColours/code-border",
            "text": "Code border"
        },
        "$:/language/Docs/PaletteColours/code-foreground": {
            "title": "$:/language/Docs/PaletteColours/code-foreground",
            "text": "Code foreground"
        },
        "$:/language/Docs/PaletteColours/download-background": {
            "title": "$:/language/Docs/PaletteColours/download-background",
            "text": "Download button background"
        },
        "$:/language/Docs/PaletteColours/download-foreground": {
            "title": "$:/language/Docs/PaletteColours/download-foreground",
            "text": "Download button foreground"
        },
        "$:/language/Docs/PaletteColours/dragger-background": {
            "title": "$:/language/Docs/PaletteColours/dragger-background",
            "text": "Dragger background"
        },
        "$:/language/Docs/PaletteColours/dragger-foreground": {
            "title": "$:/language/Docs/PaletteColours/dragger-foreground",
            "text": "Dragger foreground"
        },
        "$:/language/Docs/PaletteColours/dropdown-background": {
            "title": "$:/language/Docs/PaletteColours/dropdown-background",
            "text": "Dropdown background"
        },
        "$:/language/Docs/PaletteColours/dropdown-border": {
            "title": "$:/language/Docs/PaletteColours/dropdown-border",
            "text": "Dropdown border"
        },
        "$:/language/Docs/PaletteColours/dropdown-tab-background-selected": {
            "title": "$:/language/Docs/PaletteColours/dropdown-tab-background-selected",
            "text": "Dropdown tab background for selected tabs"
        },
        "$:/language/Docs/PaletteColours/dropdown-tab-background": {
            "title": "$:/language/Docs/PaletteColours/dropdown-tab-background",
            "text": "Dropdown tab background"
        },
        "$:/language/Docs/PaletteColours/dropzone-background": {
            "title": "$:/language/Docs/PaletteColours/dropzone-background",
            "text": "Dropzone background"
        },
        "$:/language/Docs/PaletteColours/external-link-background-hover": {
            "title": "$:/language/Docs/PaletteColours/external-link-background-hover",
            "text": "External link background hover"
        },
        "$:/language/Docs/PaletteColours/external-link-background-visited": {
            "title": "$:/language/Docs/PaletteColours/external-link-background-visited",
            "text": "External link background visited"
        },
        "$:/language/Docs/PaletteColours/external-link-background": {
            "title": "$:/language/Docs/PaletteColours/external-link-background",
            "text": "External link background"
        },
        "$:/language/Docs/PaletteColours/external-link-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/external-link-foreground-hover",
            "text": "External link foreground hover"
        },
        "$:/language/Docs/PaletteColours/external-link-foreground-visited": {
            "title": "$:/language/Docs/PaletteColours/external-link-foreground-visited",
            "text": "External link foreground visited"
        },
        "$:/language/Docs/PaletteColours/external-link-foreground": {
            "title": "$:/language/Docs/PaletteColours/external-link-foreground",
            "text": "External link foreground"
        },
        "$:/language/Docs/PaletteColours/foreground": {
            "title": "$:/language/Docs/PaletteColours/foreground",
            "text": "General foreground"
        },
        "$:/language/Docs/PaletteColours/menubar-background": {
            "title": "$:/language/Docs/PaletteColours/menubar-background",
            "text": "Menu bar background"
        },
        "$:/language/Docs/PaletteColours/menubar-foreground": {
            "title": "$:/language/Docs/PaletteColours/menubar-foreground",
            "text": "Menu bar foreground"
        },
        "$:/language/Docs/PaletteColours/message-background": {
            "title": "$:/language/Docs/PaletteColours/message-background",
            "text": "Message box background"
        },
        "$:/language/Docs/PaletteColours/message-border": {
            "title": "$:/language/Docs/PaletteColours/message-border",
            "text": "Message box border"
        },
        "$:/language/Docs/PaletteColours/message-foreground": {
            "title": "$:/language/Docs/PaletteColours/message-foreground",
            "text": "Message box foreground"
        },
        "$:/language/Docs/PaletteColours/modal-backdrop": {
            "title": "$:/language/Docs/PaletteColours/modal-backdrop",
            "text": "Modal backdrop"
        },
        "$:/language/Docs/PaletteColours/modal-background": {
            "title": "$:/language/Docs/PaletteColours/modal-background",
            "text": "Modal background"
        },
        "$:/language/Docs/PaletteColours/modal-border": {
            "title": "$:/language/Docs/PaletteColours/modal-border",
            "text": "Modal border"
        },
        "$:/language/Docs/PaletteColours/modal-footer-background": {
            "title": "$:/language/Docs/PaletteColours/modal-footer-background",
            "text": "Modal footer background"
        },
        "$:/language/Docs/PaletteColours/modal-footer-border": {
            "title": "$:/language/Docs/PaletteColours/modal-footer-border",
            "text": "Modal footer border"
        },
        "$:/language/Docs/PaletteColours/modal-header-border": {
            "title": "$:/language/Docs/PaletteColours/modal-header-border",
            "text": "Modal header border"
        },
        "$:/language/Docs/PaletteColours/muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/muted-foreground",
            "text": "General muted foreground"
        },
        "$:/language/Docs/PaletteColours/notification-background": {
            "title": "$:/language/Docs/PaletteColours/notification-background",
            "text": "Notification background"
        },
        "$:/language/Docs/PaletteColours/notification-border": {
            "title": "$:/language/Docs/PaletteColours/notification-border",
            "text": "Notification border"
        },
        "$:/language/Docs/PaletteColours/page-background": {
            "title": "$:/language/Docs/PaletteColours/page-background",
            "text": "Page background"
        },
        "$:/language/Docs/PaletteColours/pre-background": {
            "title": "$:/language/Docs/PaletteColours/pre-background",
            "text": "Preformatted code background"
        },
        "$:/language/Docs/PaletteColours/pre-border": {
            "title": "$:/language/Docs/PaletteColours/pre-border",
            "text": "Preformatted code border"
        },
        "$:/language/Docs/PaletteColours/primary": {
            "title": "$:/language/Docs/PaletteColours/primary",
            "text": "General primary"
        },
        "$:/language/Docs/PaletteColours/select-tag-background": {
            "title": "$:/language/Docs/PaletteColours/select-tag-background",
            "text": "`&lt;select&gt;` element background"
        },
        "$:/language/Docs/PaletteColours/select-tag-foreground": {
            "title": "$:/language/Docs/PaletteColours/select-tag-foreground",
            "text": "`&lt;select&gt;` element text"
        },
        "$:/language/Docs/PaletteColours/sidebar-button-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-button-foreground",
            "text": "Sidebar button foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover",
            "text": "Sidebar controls foreground hover"
        },
        "$:/language/Docs/PaletteColours/sidebar-controls-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-controls-foreground",
            "text": "Sidebar controls foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-foreground-shadow": {
            "title": "$:/language/Docs/PaletteColours/sidebar-foreground-shadow",
            "text": "Sidebar foreground shadow"
        },
        "$:/language/Docs/PaletteColours/sidebar-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-foreground",
            "text": "Sidebar foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover",
            "text": "Sidebar muted foreground hover"
        },
        "$:/language/Docs/PaletteColours/sidebar-muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-muted-foreground",
            "text": "Sidebar muted foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-background-selected": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-background-selected",
            "text": "Sidebar tab background for selected tabs"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-background": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-background",
            "text": "Sidebar tab background"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-border-selected": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-border-selected",
            "text": "Sidebar tab border for selected tabs"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-border": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-border",
            "text": "Sidebar tab border"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-divider": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-divider",
            "text": "Sidebar tab divider"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected",
            "text": "Sidebar tab foreground for selected tabs"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-foreground",
            "text": "Sidebar tab foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover",
            "text": "Sidebar tiddler link foreground hover"
        },
        "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground",
            "text": "Sidebar tiddler link foreground"
        },
        "$:/language/Docs/PaletteColours/site-title-foreground": {
            "title": "$:/language/Docs/PaletteColours/site-title-foreground",
            "text": "Site title foreground"
        },
        "$:/language/Docs/PaletteColours/static-alert-foreground": {
            "title": "$:/language/Docs/PaletteColours/static-alert-foreground",
            "text": "Static alert foreground"
        },
        "$:/language/Docs/PaletteColours/tab-background-selected": {
            "title": "$:/language/Docs/PaletteColours/tab-background-selected",
            "text": "Tab background for selected tabs"
        },
        "$:/language/Docs/PaletteColours/tab-background": {
            "title": "$:/language/Docs/PaletteColours/tab-background",
            "text": "Tab background"
        },
        "$:/language/Docs/PaletteColours/tab-border-selected": {
            "title": "$:/language/Docs/PaletteColours/tab-border-selected",
            "text": "Tab border for selected tabs"
        },
        "$:/language/Docs/PaletteColours/tab-border": {
            "title": "$:/language/Docs/PaletteColours/tab-border",
            "text": "Tab border"
        },
        "$:/language/Docs/PaletteColours/tab-divider": {
            "title": "$:/language/Docs/PaletteColours/tab-divider",
            "text": "Tab divider"
        },
        "$:/language/Docs/PaletteColours/tab-foreground-selected": {
            "title": "$:/language/Docs/PaletteColours/tab-foreground-selected",
            "text": "Tab foreground for selected tabs"
        },
        "$:/language/Docs/PaletteColours/tab-foreground": {
            "title": "$:/language/Docs/PaletteColours/tab-foreground",
            "text": "Tab foreground"
        },
        "$:/language/Docs/PaletteColours/table-border": {
            "title": "$:/language/Docs/PaletteColours/table-border",
            "text": "Table border"
        },
        "$:/language/Docs/PaletteColours/table-footer-background": {
            "title": "$:/language/Docs/PaletteColours/table-footer-background",
            "text": "Table footer background"
        },
        "$:/language/Docs/PaletteColours/table-header-background": {
            "title": "$:/language/Docs/PaletteColours/table-header-background",
            "text": "Table header background"
        },
        "$:/language/Docs/PaletteColours/tag-background": {
            "title": "$:/language/Docs/PaletteColours/tag-background",
            "text": "Tag background"
        },
        "$:/language/Docs/PaletteColours/tag-foreground": {
            "title": "$:/language/Docs/PaletteColours/tag-foreground",
            "text": "Tag foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-background",
            "text": "Tiddler background"
        },
        "$:/language/Docs/PaletteColours/tiddler-border": {
            "title": "$:/language/Docs/PaletteColours/tiddler-border",
            "text": "Tiddler border"
        },
        "$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover",
            "text": "Tiddler controls foreground hover"
        },
        "$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected": {
            "title": "$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected",
            "text": "Tiddler controls foreground for selected controls"
        },
        "$:/language/Docs/PaletteColours/tiddler-controls-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-controls-foreground",
            "text": "Tiddler controls foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-background",
            "text": "Tiddler editor background"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-border-image": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-border-image",
            "text": "Tiddler editor border image"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-border": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-border",
            "text": "Tiddler editor border"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-fields-even": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-fields-even",
            "text": "Tiddler editor background for even fields"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-fields-odd": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-fields-odd",
            "text": "Tiddler editor background for odd fields"
        },
        "$:/language/Docs/PaletteColours/tiddler-info-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-info-background",
            "text": "Tiddler info panel background"
        },
        "$:/language/Docs/PaletteColours/tiddler-info-border": {
            "title": "$:/language/Docs/PaletteColours/tiddler-info-border",
            "text": "Tiddler info panel border"
        },
        "$:/language/Docs/PaletteColours/tiddler-info-tab-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-info-tab-background",
            "text": "Tiddler info panel tab background"
        },
        "$:/language/Docs/PaletteColours/tiddler-link-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-link-background",
            "text": "Tiddler link background"
        },
        "$:/language/Docs/PaletteColours/tiddler-link-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-link-foreground",
            "text": "Tiddler link foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-subtitle-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-subtitle-foreground",
            "text": "Tiddler subtitle foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-title-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-title-foreground",
            "text": "Tiddler title foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-new-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-new-button",
            "text": "Toolbar 'new tiddler' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-options-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-options-button",
            "text": "Toolbar 'options' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-save-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-save-button",
            "text": "Toolbar 'save' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-info-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-info-button",
            "text": "Toolbar 'info' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-edit-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-edit-button",
            "text": "Toolbar 'edit' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-close-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-close-button",
            "text": "Toolbar 'close' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-delete-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-delete-button",
            "text": "Toolbar 'delete' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-cancel-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-cancel-button",
            "text": "Toolbar 'cancel' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-done-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-done-button",
            "text": "Toolbar 'done' button foreground"
        },
        "$:/language/Docs/PaletteColours/untagged-background": {
            "title": "$:/language/Docs/PaletteColours/untagged-background",
            "text": "Untagged pill background"
        },
        "$:/language/Docs/PaletteColours/very-muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/very-muted-foreground",
            "text": "Very muted foreground"
        },
        "$:/language/EditTemplate/Body/External/Hint": {
            "title": "$:/language/EditTemplate/Body/External/Hint",
            "text": "This tiddler shows content stored outside of the main TiddlyWiki file. You can edit the tags and fields but cannot directly edit the content itself"
        },
        "$:/language/EditTemplate/Body/Placeholder": {
            "title": "$:/language/EditTemplate/Body/Placeholder",
            "text": "Type the text for this tiddler"
        },
        "$:/language/EditTemplate/Body/Preview/Type/Output": {
            "title": "$:/language/EditTemplate/Body/Preview/Type/Output",
            "text": "output"
        },
        "$:/language/EditTemplate/Field/Remove/Caption": {
            "title": "$:/language/EditTemplate/Field/Remove/Caption",
            "text": "remove field"
        },
        "$:/language/EditTemplate/Field/Remove/Hint": {
            "title": "$:/language/EditTemplate/Field/Remove/Hint",
            "text": "Remove field"
        },
        "$:/language/EditTemplate/Field/Dropdown/Caption": {
            "title": "$:/language/EditTemplate/Field/Dropdown/Caption",
            "text": "field list"
        },
        "$:/language/EditTemplate/Field/Dropdown/Hint": {
            "title": "$:/language/EditTemplate/Field/Dropdown/Hint",
            "text": "Show field list"
        },
        "$:/language/EditTemplate/Fields/Add/Button": {
            "title": "$:/language/EditTemplate/Fields/Add/Button",
            "text": "add"
        },
        "$:/language/EditTemplate/Fields/Add/Button/Hint": {
            "title": "$:/language/EditTemplate/Fields/Add/Button/Hint",
            "text": "Add the new field to the tiddler"
        },
        "$:/language/EditTemplate/Fields/Add/Name/Placeholder": {
            "title": "$:/language/EditTemplate/Fields/Add/Name/Placeholder",
            "text": "field name"
        },
        "$:/language/EditTemplate/Fields/Add/Prompt": {
            "title": "$:/language/EditTemplate/Fields/Add/Prompt",
            "text": "Add a new field:"
        },
        "$:/language/EditTemplate/Fields/Add/Value/Placeholder": {
            "title": "$:/language/EditTemplate/Fields/Add/Value/Placeholder",
            "text": "field value"
        },
        "$:/language/EditTemplate/Fields/Add/Dropdown/System": {
            "title": "$:/language/EditTemplate/Fields/Add/Dropdown/System",
            "text": "System fields"
        },
        "$:/language/EditTemplate/Fields/Add/Dropdown/User": {
            "title": "$:/language/EditTemplate/Fields/Add/Dropdown/User",
            "text": "User fields"
        },
        "$:/language/EditTemplate/Shadow/Warning": {
            "title": "$:/language/EditTemplate/Shadow/Warning",
            "text": "This is a shadow tiddler. Any changes you make will override the default version from the plugin &lt;&lt;pluginLink&gt;&gt;"
        },
        "$:/language/EditTemplate/Shadow/OverriddenWarning": {
            "title": "$:/language/EditTemplate/Shadow/OverriddenWarning",
            "text": "This is a modified shadow tiddler. You can revert to the default version in the plugin &lt;&lt;pluginLink&gt;&gt; by deleting this tiddler"
        },
        "$:/language/EditTemplate/Tags/Add/Button": {
            "title": "$:/language/EditTemplate/Tags/Add/Button",
            "text": "add"
        },
        "$:/language/EditTemplate/Tags/Add/Button/Hint": {
            "title": "$:/language/EditTemplate/Tags/Add/Button/Hint",
            "text": "add tag"
        },
        "$:/language/EditTemplate/Tags/Add/Placeholder": {
            "title": "$:/language/EditTemplate/Tags/Add/Placeholder",
            "text": "tag name"
        },
        "$:/language/EditTemplate/Tags/ClearInput/Caption": {
            "title": "$:/language/EditTemplate/Tags/ClearInput/Caption",
            "text": "clear input"
        },
        "$:/language/EditTemplate/Tags/ClearInput/Hint": {
            "title": "$:/language/EditTemplate/Tags/ClearInput/Hint",
            "text": "Clear tag input"
        },
        "$:/language/EditTemplate/Tags/Dropdown/Caption": {
            "title": "$:/language/EditTemplate/Tags/Dropdown/Caption",
            "text": "tag list"
        },
        "$:/language/EditTemplate/Tags/Dropdown/Hint": {
            "title": "$:/language/EditTemplate/Tags/Dropdown/Hint",
            "text": "Show tag list"
        },
        "$:/language/EditTemplate/Title/BadCharacterWarning": {
            "title": "$:/language/EditTemplate/Title/BadCharacterWarning",
            "text": "Warning: avoid using any of the characters &lt;&lt;bad-chars&gt;&gt; in tiddler titles"
        },
        "$:/language/EditTemplate/Title/Exists/Prompt": {
            "title": "$:/language/EditTemplate/Title/Exists/Prompt",
            "text": "Target tiddler already exists"
        },
        "$:/language/EditTemplate/Title/Relink/Prompt": {
            "title": "$:/language/EditTemplate/Title/Relink/Prompt",
            "text": "Update ''&lt;$text text=&lt;&lt;fromTitle&gt;&gt;/&gt;'' to ''&lt;$text text=&lt;&lt;toTitle&gt;&gt;/&gt;'' in the //tags// and //list// fields of other tiddlers"
        },
        "$:/language/EditTemplate/Title/References/Prompt": {
            "title": "$:/language/EditTemplate/Title/References/Prompt",
            "text": "The following references to this tiddler will not be automatically updated:"
        },
        "$:/language/EditTemplate/Type/Dropdown/Caption": {
            "title": "$:/language/EditTemplate/Type/Dropdown/Caption",
            "text": "content type list"
        },
        "$:/language/EditTemplate/Type/Dropdown/Hint": {
            "title": "$:/language/EditTemplate/Type/Dropdown/Hint",
            "text": "Show content type list"
        },
        "$:/language/EditTemplate/Type/Delete/Caption": {
            "title": "$:/language/EditTemplate/Type/Delete/Caption",
            "text": "delete content type"
        },
        "$:/language/EditTemplate/Type/Delete/Hint": {
            "title": "$:/language/EditTemplate/Type/Delete/Hint",
            "text": "Delete content type"
        },
        "$:/language/EditTemplate/Type/Placeholder": {
            "title": "$:/language/EditTemplate/Type/Placeholder",
            "text": "content type"
        },
        "$:/language/EditTemplate/Type/Prompt": {
            "title": "$:/language/EditTemplate/Type/Prompt",
            "text": "Type:"
        },
        "$:/language/Exporters/StaticRiver": {
            "title": "$:/language/Exporters/StaticRiver",
            "text": "Static HTML"
        },
        "$:/language/Exporters/JsonFile": {
            "title": "$:/language/Exporters/JsonFile",
            "text": "JSON file"
        },
        "$:/language/Exporters/CsvFile": {
            "title": "$:/language/Exporters/CsvFile",
            "text": "CSV file"
        },
        "$:/language/Exporters/TidFile": {
            "title": "$:/language/Exporters/TidFile",
            "text": "\".tid\" file"
        },
        "$:/language/Docs/Fields/_canonical_uri": {
            "title": "$:/language/Docs/Fields/_canonical_uri",
            "text": "The full URI of an external image tiddler"
        },
        "$:/language/Docs/Fields/bag": {
            "title": "$:/language/Docs/Fields/bag",
            "text": "The name of the bag from which a tiddler came"
        },
        "$:/language/Docs/Fields/caption": {
            "title": "$:/language/Docs/Fields/caption",
            "text": "The text to be displayed on a tab or button"
        },
        "$:/language/Docs/Fields/color": {
            "title": "$:/language/Docs/Fields/color",
            "text": "The CSS color value associated with a tiddler"
        },
        "$:/language/Docs/Fields/component": {
            "title": "$:/language/Docs/Fields/component",
            "text": "The name of the component responsible for an [[alert tiddler|AlertMechanism]]"
        },
        "$:/language/Docs/Fields/current-tiddler": {
            "title": "$:/language/Docs/Fields/current-tiddler",
            "text": "Used to cache the top tiddler in a [[history list|HistoryMechanism]]"
        },
        "$:/language/Docs/Fields/created": {
            "title": "$:/language/Docs/Fields/created",
            "text": "The date a tiddler was created"
        },
        "$:/language/Docs/Fields/creator": {
            "title": "$:/language/Docs/Fields/creator",
            "text": "The name of the person who created a tiddler"
        },
        "$:/language/Docs/Fields/dependents": {
            "title": "$:/language/Docs/Fields/dependents",
            "text": "For a plugin, lists the dependent plugin titles"
        },
        "$:/language/Docs/Fields/description": {
            "title": "$:/language/Docs/Fields/description",
            "text": "The descriptive text for a plugin, or a modal dialogue"
        },
        "$:/language/Docs/Fields/draft.of": {
            "title": "$:/language/Docs/Fields/draft.of",
            "text": "For draft tiddlers, contains the title of the tiddler of which this is a draft"
        },
        "$:/language/Docs/Fields/draft.title": {
            "title": "$:/language/Docs/Fields/draft.title",
            "text": "For draft tiddlers, contains the proposed new title of the tiddler"
        },
        "$:/language/Docs/Fields/footer": {
            "title": "$:/language/Docs/Fields/footer",
            "text": "The footer text for a wizard"
        },
        "$:/language/Docs/Fields/hide-body": {
            "title": "$:/language/Docs/Fields/hide-body",
            "text": "The view template will hide bodies of tiddlers if set to: ''yes''"
        },
        "$:/language/Docs/Fields/icon": {
            "title": "$:/language/Docs/Fields/icon",
            "text": "The title of the tiddler containing the icon associated with a tiddler"
        },
        "$:/language/Docs/Fields/library": {
            "title": "$:/language/Docs/Fields/library",
            "text": "Indicates that a tiddler should be saved as a JavaScript library if set to: ''yes''"
        },
        "$:/language/Docs/Fields/list": {
            "title": "$:/language/Docs/Fields/list",
            "text": "An ordered list of tiddler titles associated with a tiddler"
        },
        "$:/language/Docs/Fields/list-before": {
            "title": "$:/language/Docs/Fields/list-before",
            "text": "If set, the title of a tiddler before which this tiddler should be added to the ordered list of tiddler titles, or at the start of the list if this field is present but empty"
        },
        "$:/language/Docs/Fields/list-after": {
            "title": "$:/language/Docs/Fields/list-after",
            "text": "If set, the title of the tiddler after which this tiddler should be added to the ordered list of tiddler titles, or at the end of the list if this field is present but empty"
        },
        "$:/language/Docs/Fields/modified": {
            "title": "$:/language/Docs/Fields/modified",
            "text": "The date and time at which a tiddler was last modified"
        },
        "$:/language/Docs/Fields/modifier": {
            "title": "$:/language/Docs/Fields/modifier",
            "text": "The tiddler title associated with the person who last modified a tiddler"
        },
        "$:/language/Docs/Fields/name": {
            "title": "$:/language/Docs/Fields/name",
            "text": "The human readable name associated with a plugin tiddler"
        },
        "$:/language/Docs/Fields/plugin-priority": {
            "title": "$:/language/Docs/Fields/plugin-priority",
            "text": "A numerical value indicating the priority of a plugin tiddler"
        },
        "$:/language/Docs/Fields/plugin-type": {
            "title": "$:/language/Docs/Fields/plugin-type",
            "text": "The type of plugin in a plugin tiddler"
        },
        "$:/language/Docs/Fields/revision": {
            "title": "$:/language/Docs/Fields/revision",
            "text": "The revision of the tiddler held at the server"
        },
        "$:/language/Docs/Fields/released": {
            "title": "$:/language/Docs/Fields/released",
            "text": "Date of a TiddlyWiki release"
        },
        "$:/language/Docs/Fields/source": {
            "title": "$:/language/Docs/Fields/source",
            "text": "The source URL associated with a tiddler"
        },
        "$:/language/Docs/Fields/subtitle": {
            "title": "$:/language/Docs/Fields/subtitle",
            "text": "The subtitle text for a wizard"
        },
        "$:/language/Docs/Fields/tags": {
            "title": "$:/language/Docs/Fields/tags",
            "text": "A list of tags associated with a tiddler"
        },
        "$:/language/Docs/Fields/text": {
            "title": "$:/language/Docs/Fields/text",
            "text": "The body text of a tiddler"
        },
        "$:/language/Docs/Fields/throttle.refresh": {
            "title": "$:/language/Docs/Fields/throttle.refresh",
            "text": "If present, throttles refreshes of this tiddler"
        },
        "$:/language/Docs/Fields/title": {
            "title": "$:/language/Docs/Fields/title",
            "text": "The unique name of a tiddler"
        },
        "$:/language/Docs/Fields/toc-link": {
            "title": "$:/language/Docs/Fields/toc-link",
            "text": "Suppresses the tiddler's link in a Table of Contents tree if set to: ''no''"
        },
        "$:/language/Docs/Fields/type": {
            "title": "$:/language/Docs/Fields/type",
            "text": "The content type of a tiddler"
        },
        "$:/language/Docs/Fields/version": {
            "title": "$:/language/Docs/Fields/version",
            "text": "Version information for a plugin"
        },
        "$:/language/Docs/Fields/_is_skinny": {
            "title": "$:/language/Docs/Fields/_is_skinny",
            "text": "If present, indicates that the tiddler text field must be loaded from the server"
        },
        "$:/language/Filters/AllTiddlers": {
            "title": "$:/language/Filters/AllTiddlers",
            "text": "All tiddlers except system tiddlers"
        },
        "$:/language/Filters/RecentSystemTiddlers": {
            "title": "$:/language/Filters/RecentSystemTiddlers",
            "text": "Recently modified tiddlers, including system tiddlers"
        },
        "$:/language/Filters/RecentTiddlers": {
            "title": "$:/language/Filters/RecentTiddlers",
            "text": "Recently modified tiddlers"
        },
        "$:/language/Filters/AllTags": {
            "title": "$:/language/Filters/AllTags",
            "text": "All tags except system tags"
        },
        "$:/language/Filters/Missing": {
            "title": "$:/language/Filters/Missing",
            "text": "Missing tiddlers"
        },
        "$:/language/Filters/Drafts": {
            "title": "$:/language/Filters/Drafts",
            "text": "Draft tiddlers"
        },
        "$:/language/Filters/Orphans": {
            "title": "$:/language/Filters/Orphans",
            "text": "Orphan tiddlers"
        },
        "$:/language/Filters/SystemTiddlers": {
            "title": "$:/language/Filters/SystemTiddlers",
            "text": "System tiddlers"
        },
        "$:/language/Filters/ShadowTiddlers": {
            "title": "$:/language/Filters/ShadowTiddlers",
            "text": "Shadow tiddlers"
        },
        "$:/language/Filters/OverriddenShadowTiddlers": {
            "title": "$:/language/Filters/OverriddenShadowTiddlers",
            "text": "Overridden shadow tiddlers"
        },
        "$:/language/Filters/SessionTiddlers": {
            "title": "$:/language/Filters/SessionTiddlers",
            "text": "Tiddlers modified since the wiki was loaded"
        },
        "$:/language/Filters/SystemTags": {
            "title": "$:/language/Filters/SystemTags",
            "text": "System tags"
        },
        "$:/language/Filters/StoryList": {
            "title": "$:/language/Filters/StoryList",
            "text": "Tiddlers in the story river, excluding &lt;$text text=\"$:/AdvancedSearch\"/&gt;"
        },
        "$:/language/Filters/TypedTiddlers": {
            "title": "$:/language/Filters/TypedTiddlers",
            "text": "Non wiki-text tiddlers"
        },
        "GettingStarted": {
            "title": "GettingStarted",
            "text": "\\define lingo-base() $:/language/ControlPanel/Basics/\nWelcome to ~TiddlyWiki and the ~TiddlyWiki community\n\nBefore you start storing important information in ~TiddlyWiki it is vital to make sure that you can reliably save changes. See https://tiddlywiki.com/#GettingStarted for details\n\n!! Set up this ~TiddlyWiki\n\n&lt;div class=\"tc-control-panel\"&gt;\n\n|&lt;$link to=\"$:/SiteTitle\"&gt;&lt;&lt;lingo Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/SiteTitle\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/SiteSubtitle\"&gt;&lt;&lt;lingo Subtitle/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/SiteSubtitle\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/DefaultTiddlers\"&gt;&lt;&lt;lingo DefaultTiddlers/Prompt&gt;&gt;&lt;/$link&gt; |&lt;&lt;lingo DefaultTiddlers/TopHint&gt;&gt;&lt;br&gt; &lt;$edit tag=\"textarea\" tiddler=\"$:/DefaultTiddlers\"/&gt;&lt;br&gt;//&lt;&lt;lingo DefaultTiddlers/BottomHint&gt;&gt;// |\n&lt;/div&gt;\n\nSee the [[control panel|$:/ControlPanel]] for more options.\n"
        },
        "$:/language/Help/build": {
            "title": "$:/language/Help/build",
            "description": "Automatically run configured commands",
            "text": "Build the specified build targets for the current wiki. If no build targets are specified then all available targets will be built.\n\n```\n--build &lt;target&gt; [&lt;target&gt; ...]\n```\n\nBuild targets are defined in the `tiddlywiki.info` file of a wiki folder.\n\n"
        },
        "$:/language/Help/clearpassword": {
            "title": "$:/language/Help/clearpassword",
            "description": "Clear a password for subsequent crypto operations",
            "text": "Clear the password for subsequent crypto operations\n\n```\n--clearpassword\n```\n"
        },
        "$:/language/Help/default": {
            "title": "$:/language/Help/default",
            "text": "\\define commandTitle()\n$:/language/Help/$(command)$\n\\end\n```\nusage: tiddlywiki [&lt;wikifolder&gt;] [--&lt;command&gt; [&lt;args&gt;...]...]\n```\n\nAvailable commands:\n\n&lt;ul&gt;\n&lt;$list filter=\"[commands[]sort[title]]\" variable=\"command\"&gt;\n&lt;li&gt;&lt;$link to=&lt;&lt;commandTitle&gt;&gt;&gt;&lt;$macrocall $name=\"command\" $type=\"text/plain\" $output=\"text/plain\"/&gt;&lt;/$link&gt;: &lt;$transclude tiddler=&lt;&lt;commandTitle&gt;&gt; field=\"description\"/&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\nTo get detailed help on a command:\n\n```\ntiddlywiki --help &lt;command&gt;\n```\n"
        },
        "$:/language/Help/deletetiddlers": {
            "title": "$:/language/Help/deletetiddlers",
            "description": "Deletes a group of tiddlers",
            "text": "&lt;&lt;.from-version \"5.1.20\"&gt;&gt; Deletes a group of tiddlers identified by a filter.\n\n```\n--deletetiddlers &lt;filter&gt;\n```\n"
        },
        "$:/language/Help/editions": {
            "title": "$:/language/Help/editions",
            "description": "Lists the available editions of TiddlyWiki",
            "text": "Lists the names and descriptions of the available editions. You can create a new wiki of a specified edition with the `--init` command.\n\n```\n--editions\n```\n"
        },
        "$:/language/Help/fetch": {
            "title": "$:/language/Help/fetch",
            "description": "Fetch tiddlers from wiki by URL",
            "text": "Fetch one or more files over HTTP/HTTPS, and import the tiddlers matching a filter, optionally transforming the incoming titles.\n\n```\n--fetch file &lt;url&gt; &lt;import-filter&gt; &lt;transform-filter&gt;\n--fetch files &lt;url-filter&gt; &lt;import-filter&gt; &lt;transform-filter&gt;\n--fetch raw-file &lt;url&gt; &lt;transform-filter&gt;\n--fetch raw-files &lt;url-filter&gt; &lt;transform-filter&gt;\n```\n\nThe \"file\" and \"files\" variants fetch the specified files and attempt to import the tiddlers within them (the same processing as if the files were dragged into the browser window). The \"raw-file\" and \"raw-files\" variants fetch the specified files and then store the raw file data in tiddlers, without applying the import logic.\n\nWith the \"file\" and \"raw-file\" variants only a single file is fetched and the first parameter is the URL of the file to read.\n\nWith the \"files\" and \"raw-files\" variants, multiple files are fetched and the first parameter is a filter yielding a list of URLs of the files to read. For example, given a set of tiddlers tagged \"remote-server\" that have a field \"url\" the filter `[tag[remote-server]get[url]]` will retrieve all the available URLs.\n\nFor the \"file\" and \"files\" variants, the `&lt;import-filter&gt;` parameter specifies a filter determining which tiddlers are imported. It defaults to `[all[tiddlers]]` if not provided.\n\nFor all variants, the `&lt;transform-filter&gt;` parameter specifies an optional filter that transforms the titles of the imported tiddlers. For example, `[addprefix[$:/myimports/]]` would add the prefix `$:/myimports/` to each title.\n\nPreceding the `--fetch` command with `--verbose` will output progress information during the import.\n\nNote that TiddlyWiki will not fetch an older version of an already loaded plugin.\n\nThe following example retrieves all the non-system tiddlers from https://tiddlywiki.com and saves them to a JSON file:\n\n```\ntiddlywiki --verbose --fetch file \"https://tiddlywiki.com/\" \"[!is[system]]\" \"\" --rendertiddler \"$:/core/templates/exporters/JsonFile\" output.json text/plain \"\" exportFilter \"[!is[system]]\"\n```\n\nThe following example retrieves the \"favicon\" file from tiddlywiki.com and saves it in a file called \"output.ico\". Note that the intermediate tiddler \"Icon Tiddler\" is quoted in the \"--fetch\" command because it is being used as a transformation filter to replace the default title, while there are no quotes for the \"--savetiddler\" command because it is being used directly as a title.\n\n```\ntiddlywiki --verbose --fetch raw-file \"https://tiddlywiki.com/favicon.ico\" \"[[Icon Tiddler]]\" --savetiddler \"Icon Tiddler\" output.ico\n```\n\n"
        },
        "$:/language/Help/help": {
            "title": "$:/language/Help/help",
            "description": "Display help for TiddlyWiki commands",
            "text": "Displays help text for a command:\n\n```\n--help [&lt;command&gt;]\n```\n\nIf the command name is omitted then a list of available commands is displayed.\n"
        },
        "$:/language/Help/import": {
            "title": "$:/language/Help/import",
            "description": "Import tiddlers from a file",
            "text": "Import tiddlers from TiddlyWiki (`.html`), `.tiddler`, `.tid`, `.json` or other local files. The deserializer must be explicitly specified, unlike the `load` command which infers the deserializer from the file extension.\n\n```\n--import &lt;filepath&gt; &lt;deserializer&gt; [&lt;title&gt;] [&lt;encoding&gt;]\n```\n\nThe deserializers in the core include:\n\n* application/javascript\n* application/json\n* application/x-tiddler\n* application/x-tiddler-html-div\n* application/x-tiddlers\n* text/html\n* text/plain\n\nThe title of the imported tiddler defaults to the filename.\n\nThe encoding defaults to \"utf8\", but can be \"base64\" for importing binary files.\n\nNote that TiddlyWiki will not import an older version of an already loaded plugin.\n"
        },
        "$:/language/Help/init": {
            "title": "$:/language/Help/init",
            "description": "Initialise a new wiki folder",
            "text": "Initialise an empty [[WikiFolder|WikiFolders]] with a copy of the specified edition.\n\n```\n--init &lt;edition&gt; [&lt;edition&gt; ...]\n```\n\nFor example:\n\n```\ntiddlywiki ./MyWikiFolder --init empty\n```\n\nNote:\n\n* The wiki folder directory will be created if necessary\n* The \"edition\" defaults to ''empty''\n* The init command will fail if the wiki folder is not empty\n* The init command removes any `includeWikis` definitions in the edition's `tiddlywiki.info` file\n* When multiple editions are specified, editions initialised later will overwrite any files shared with earlier editions (so, the final `tiddlywiki.info` file will be copied from the last edition)\n* `--editions` returns a list of available editions\n"
        },
        "$:/language/Help/listen": {
            "title": "$:/language/Help/listen",
            "description": "Provides an HTTP server interface to TiddlyWiki",
            "text": "Serves a wiki over HTTP.\n\nThe listen command uses NamedCommandParameters:\n\n```\n--listen [&lt;name&gt;=&lt;value&gt;]...\n```\n\nAll parameters are optional with safe defaults, and can be specified in any order. The recognised parameters are:\n\n* ''host'' - optional hostname to serve from (defaults to \"127.0.0.1\" aka \"localhost\")\n* ''path-prefix'' - optional prefix for paths\n* ''port'' - port number on which to listen; non-numeric values are interpreted as a system environment variable from which the port number is extracted (defaults to \"8080\")\n* ''credentials'' - pathname of credentials CSV file (relative to wiki folder)\n* ''anon-username'' - the username for signing edits for anonymous users\n* ''username'' - optional username for basic authentication\n* ''password'' - optional password for basic authentication\n* ''authenticated-user-header'' - optional name of header to be used for trusted authentication\n* ''readers'' - comma separated list of principals allowed to read from this wiki\n* ''writers'' - comma separated list of principals allowed to write to this wiki\n* ''csrf-disable'' - set to \"yes\" to disable CSRF checks (defaults to \"no\")\n* ''sse-enabled'' - set to \"yes\" to enable Server-sent events (defaults to \"no\")\n* ''root-tiddler'' - the tiddler to serve at the root (defaults to \"$:/core/save/all\")\n* ''root-render-type'' - the content type to which the root tiddler should be rendered (defaults to \"text/plain\")\n* ''root-serve-type'' - the content type with which the root tiddler should be served (defaults to \"text/html\")\n* ''tls-cert'' - pathname of TLS certificate file (relative to wiki folder)\n* ''tls-key'' - pathname of TLS key file (relative to wiki folder)\n* ''debug-level'' - optional debug level; set to \"debug\" to view request details (defaults to \"none\")\n* ''gzip'' - set to \"yes\" to enable gzip compression for some http endpoints (defaults to \"no\")\n\nFor information on opening up your instance to the entire local network, and possible security concerns, see the WebServer tiddler at TiddlyWiki.com.\n\n"
        },
        "$:/language/Help/load": {
            "title": "$:/language/Help/load",
            "description": "Load tiddlers from a file",
            "text": "Load tiddlers from TiddlyWiki (`.html`), `.tiddler`, `.tid`, `.json` or other local files. The processing applied to incoming files is determined by the file extension. Use the alternative `import` command if you need to specify the deserializer and encoding explicitly.\n\n```\n--load &lt;filepath&gt; [noerror]\n--load &lt;dirpath&gt; [noerror]\n```\n\nBy default, the load command raises an error if no tiddlers are found. The error can be suppressed by providing the optional \"noerror\" parameter.\n\nTo load tiddlers from an encrypted TiddlyWiki file you should first specify the password with the PasswordCommand. For example:\n\n```\ntiddlywiki ./MyWiki --password pa55w0rd --load my_encrypted_wiki.html\n```\n\nNote that TiddlyWiki will not load an older version of an already loaded plugin.\n"
        },
        "$:/language/Help/makelibrary": {
            "title": "$:/language/Help/makelibrary",
            "description": "Construct library plugin required by upgrade process",
            "text": "Constructs the `$:/UpgradeLibrary` tiddler for the upgrade process.\n\nThe upgrade library is formatted as an ordinary plugin tiddler with the plugin type `library`. It contains a copy of each of the plugins, themes and language packs available within the TiddlyWiki5 repository.\n\nThis command is intended for internal use; it is only relevant to users constructing a custom upgrade procedure.\n\n```\n--makelibrary &lt;title&gt;\n```\n\nThe title argument defaults to `$:/UpgradeLibrary`.\n"
        },
        "$:/language/Help/notfound": {
            "title": "$:/language/Help/notfound",
            "text": "No such help item"
        },
        "$:/language/Help/output": {
            "title": "$:/language/Help/output",
            "description": "Set the base output directory for subsequent commands",
            "text": "Sets the base output directory for subsequent commands. The default output directory is the `output` subdirectory of the edition directory.\n\n```\n--output &lt;pathname&gt;\n```\n\nIf the specified pathname is relative then it is resolved relative to the current working directory. For example `--output .` sets the output directory to the current working directory.\n\n"
        },
        "$:/language/Help/password": {
            "title": "$:/language/Help/password",
            "description": "Set a password for subsequent crypto operations",
            "text": "Set a password for subsequent crypto operations\n\n```\n--password &lt;password&gt;\n```\n\n''Note'': This should not be used for serving TiddlyWiki with password protection. Instead, see the password option under the [[ServerCommand]].\n"
        },
        "$:/language/Help/render": {
            "title": "$:/language/Help/render",
            "description": "Renders individual tiddlers to files",
            "text": "Render individual tiddlers identified by a filter and save the results to the specified files.\n\nOptionally, the title of a template tiddler can be specified. In this case, instead of directly rendering each tiddler, the template tiddler is rendered with the \"currentTiddler\" variable set to the title of the tiddler that is being rendered.\n\nA name and value for an additional variable may optionally also be specified.\n\n```\n--render &lt;tiddler-filter&gt; [&lt;filename-filter&gt;] [&lt;render-type&gt;] [&lt;template&gt;] [ [&lt;name&gt;] [&lt;value&gt;] ]*\n```\n\n* ''tiddler-filter'': A filter identifying the tiddler(s) to be rendered\n* ''filename-filter'': Optional filter transforming tiddler titles into pathnames. If omitted, defaults to `[is[tiddler]addsuffix[.html]]`, which uses the unchanged tiddler title as the filename\n* ''render-type'': Optional render type: `text/html` (the default) returns the full HTML text and `text/plain` just returns the text content (ie it ignores HTML tags and other unprintable material)\n* ''template'': Optional template through which each tiddler is rendered\n* ''name'': Name of optional variables\n* ''value'': Value of optional variables\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nNotes:\n\n* The output directory is not cleared of any existing files\n* Any missing directories in the path to the filename are automatically created.\n* When referring to a tiddler with spaces in its title, take care to use both the quotes required by your shell and also TiddlyWiki's double square brackets : `--render \"[[Motovun Jack.jpg]]\"`\n* The filename filter is evaluated with the selected items being set to the title of the tiddler currently being rendered, allowing the title to be used as the basis for computing the filename. For example `[encodeuricomponent[]addprefix[static/]]` applies URI encoding to each title, and then adds the prefix `static/`\n* Multiple ''name''/''value'' pairs can be used to pass more than one variable\n* The `--render` command is a more flexible replacement for both the `--rendertiddler` and `--rendertiddlers` commands, which are deprecated\n\nExamples:\n\n* `--render \"[!is[system]]\" \"[encodeuricomponent[]addprefix[tiddlers/]addsuffix[.html]]\"` -- renders all non-system tiddlers as files in the subdirectory \"tiddlers\" with URL-encoded titles and the extension HTML\n\n"
        },
        "$:/language/Help/rendertiddler": {
            "title": "$:/language/Help/rendertiddler",
            "description": "Render an individual tiddler as a specified ContentType",
            "text": "(Note: The `--rendertiddler` command is deprecated in favour of the new, more flexible `--render` command)\n\nRender an individual tiddler as a specified ContentType, defaulting to `text/html` and save it to the specified filename.\n\nOptionally the title of a template tiddler can be specified, in which case the template tiddler is rendered with the \"currentTiddler\" variable set to the tiddler that is being rendered (the first parameter value).\n\nA name and value for an additional variable may optionally also be specified.\n\n```\n--rendertiddler &lt;title&gt; &lt;filename&gt; [&lt;type&gt;] [&lt;template&gt;] [&lt;name&gt;] [&lt;value&gt;]\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n\nFor example, the following command saves all tiddlers matching the filter `[tag[done]]` to a JSON file titled `output.json` by employing the core template `$:/core/templates/exporters/JsonFile`.\n\n```\n--rendertiddler \"$:/core/templates/exporters/JsonFile\" output.json text/plain \"\" exportFilter \"[tag[done]]\"\n```\n"
        },
        "$:/language/Help/rendertiddlers": {
            "title": "$:/language/Help/rendertiddlers",
            "description": "Render tiddlers matching a filter to a specified ContentType",
            "text": "(Note: The `--rendertiddlers` command is deprecated in favour of the new, more flexible `--render` command)\n\nRender a set of tiddlers matching a filter to separate files of a specified ContentType (defaults to `text/html`) and extension (defaults to `.html`).\n\n```\n--rendertiddlers '&lt;filter&gt;' &lt;template&gt; &lt;pathname&gt; [&lt;type&gt;] [&lt;extension&gt;] [\"noclean\"]\n```\n\nFor example:\n\n```\n--rendertiddlers '[!is[system]]' $:/core/templates/static.tiddler.html ./static text/plain\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny files in the target directory are deleted unless the ''noclean'' flag is specified. The target directory is recursively created if it is missing.\n"
        },
        "$:/language/Help/save": {
            "title": "$:/language/Help/save",
            "description": "Saves individual raw tiddlers to files",
            "text": "Saves individual tiddlers identified by a filter in their raw text or binary format to the specified files.\n\n```\n--save &lt;tiddler-filter&gt; &lt;filename-filter&gt;\n```\n\n* ''tiddler-filter'': A filter identifying the tiddler(s) to be saved\n* ''filename-filter'': Optional filter transforming tiddler titles into pathnames. If omitted, defaults to `[is[tiddler]]`, which uses the unchanged tiddler title as the filename\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nNotes:\n\n* The output directory is not cleared of any existing files\n* Any missing directories in the path to the filename are automatically created.\n* When saving a tiddler with spaces in its title, take care to use both the quotes required by your shell and also TiddlyWiki's double square brackets : `--save \"[[Motovun Jack.jpg]]\"`\n* The filename filter is evaluated with the selected items being set to the title of the tiddler currently being saved, allowing the title to be used as the basis for computing the filename. For example `[encodeuricomponent[]addprefix[static/]]` applies URI encoding to each title, and then adds the prefix `static/`\n* The `--save` command is a more flexible replacement for both the `--savetiddler` and `--savetiddlers` commands, which are deprecated\n\nExamples:\n\n* `--save \"[!is[system]is[image]]\" \"[encodeuricomponent[]addprefix[tiddlers/]]\"` -- saves all non-system image tiddlers as files in the subdirectory \"tiddlers\" with URL-encoded titles\n"
        },
        "$:/language/Help/savetiddler": {
            "title": "$:/language/Help/savetiddler",
            "description": "Saves a raw tiddler to a file",
            "text": "(Note: The `--savetiddler` command is deprecated in favour of the new, more flexible `--save` command)\n\nSaves an individual tiddler in its raw text or binary format to the specified filename.\n\n```\n--savetiddler &lt;title&gt; &lt;filename&gt;\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n"
        },
        "$:/language/Help/savetiddlers": {
            "title": "$:/language/Help/savetiddlers",
            "description": "Saves a group of raw tiddlers to a directory",
            "text": "(Note: The `--savetiddlers` command is deprecated in favour of the new, more flexible `--save` command)\n\nSaves a group of tiddlers in their raw text or binary format to the specified directory.\n\n```\n--savetiddlers &lt;filter&gt; &lt;pathname&gt; [\"noclean\"]\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nThe output directory is cleared of existing files before saving the specified files. The deletion can be disabled by specifying the ''noclean'' flag.\n\nAny missing directories in the pathname are automatically created.\n"
        },
        "$:/language/Help/savewikifolder": {
            "title": "$:/language/Help/savewikifolder",
            "description": "Saves a wiki to a new wiki folder",
            "text": "&lt;&lt;.from-version \"5.1.20\"&gt;&gt; Saves the current wiki as a wiki folder, including tiddlers, plugins and configuration:\n\n```\n--savewikifolder &lt;wikifolderpath&gt; [&lt;filter&gt;]\n```\n\n* The target wiki folder must be empty or non-existent\n* The filter specifies which tiddlers should be included. It is optional, defaulting to `[all[tiddlers]]`\n* Plugins from the official plugin library are replaced with references to those plugins in the `tiddlywiki.info` file\n* Custom plugins are unpacked into their own folder\n\nA common usage is to convert a TiddlyWiki HTML file into a wiki folder:\n\n```\ntiddlywiki --load ./mywiki.html --savewikifolder ./mywikifolder\n```\n"
        },
        "$:/language/Help/server": {
            "title": "$:/language/Help/server",
            "description": "Provides an HTTP server interface to TiddlyWiki (deprecated in favour of the new listen command)",
            "text": "Legacy command to serve a wiki over HTTP.\n\n```\n--server &lt;port&gt; &lt;root-tiddler&gt; &lt;root-render-type&gt; &lt;root-serve-type&gt; &lt;username&gt; &lt;password&gt; &lt;host&gt; &lt;path-prefix&gt; &lt;debug-level&gt;\n```\n\nThe parameters are:\n\n* ''port'' - port number on which to listen; non-numeric values are interpreted as a system environment variable from which the port number is extracted (defaults to \"8080\")\n* ''root-tiddler'' - the tiddler to serve at the root (defaults to \"$:/core/save/all\")\n* ''root-render-type'' - the content type to which the root tiddler should be rendered (defaults to \"text/plain\")\n* ''root-serve-type'' - the content type with which the root tiddler should be served (defaults to \"text/html\")\n* ''username'' - the default username for signing edits\n* ''password'' - optional password for basic authentication\n* ''host'' - optional hostname to serve from (defaults to \"127.0.0.1\" aka \"localhost\")\n* ''path-prefix'' - optional prefix for paths\n* ''debug-level'' - optional debug level; set to \"debug\" to view request details (defaults to \"none\")\n\nIf the password parameter is specified then the browser will prompt the user for the username and password. Note that the password is transmitted in plain text so this implementation should only be used on a trusted network or over HTTPS.\n\nFor example:\n\n```\n--server 8080 $:/core/save/all text/plain text/html MyUserName passw0rd\n```\n\nThe username and password can be specified as empty strings if you need to set the hostname or pathprefix and don't want to require a password.\n\n\n```\n--server 8080 $:/core/save/all text/plain text/html \"\" \"\" 192.168.0.245\n```\n\nUsing an address like this exposes your system to the local network. For information on opening up your instance to the entire local network, and possible security concerns, see the WebServer tiddler at TiddlyWiki.com.\n\nTo run multiple TiddlyWiki servers at the same time you'll need to put each one on a different port. It can be useful to use an environment variable to pass the port number to the Node.js process. This example references an environment variable called \"MY_PORT_NUMBER\":\n\n```\n--server MY_PORT_NUMBER $:/core/save/all text/plain text/html MyUserName passw0rd\n```\n"
        },
        "$:/language/Help/setfield": {
            "title": "$:/language/Help/setfield",
            "description": "Prepares external tiddlers for use",
            "text": "//Note that this command is experimental and may change or be replaced before being finalised//\n\nSets the specified field of a group of tiddlers to the result of wikifying a template tiddler with the `currentTiddler` variable set to the tiddler.\n\n```\n--setfield &lt;filter&gt; &lt;fieldname&gt; &lt;templatetitle&gt; &lt;rendertype&gt;\n```\n\nThe parameters are:\n\n* ''filter'' - filter identifying the tiddlers to be affected\n* ''fieldname'' - the field to modify (defaults to \"text\")\n* ''templatetitle'' - the tiddler to wikify into the specified field. If blank or missing then the specified field is deleted\n* ''rendertype'' - the text type to render (defaults to \"text/plain\"; \"text/html\" can be used to include HTML tags)\n"
        },
        "$:/language/Help/unpackplugin": {
            "title": "$:/language/Help/unpackplugin",
            "description": "Unpack the payload tiddlers from a plugin",
            "text": "Extract the payload tiddlers from a plugin, creating them as ordinary tiddlers:\n\n```\n--unpackplugin &lt;title&gt;\n```\n"
        },
        "$:/language/Help/verbose": {
            "title": "$:/language/Help/verbose",
            "description": "Triggers verbose output mode",
            "text": "Triggers verbose output, useful for debugging\n\n```\n--verbose\n```\n"
        },
        "$:/language/Help/version": {
            "title": "$:/language/Help/version",
            "description": "Displays the version number of TiddlyWiki",
            "text": "Displays the version number of TiddlyWiki.\n\n```\n--version\n```\n"
        },
        "$:/language/Import/Imported/Hint": {
            "title": "$:/language/Import/Imported/Hint",
            "text": "The following tiddlers were imported:"
        },
        "$:/language/Import/Listing/Cancel/Caption": {
            "title": "$:/language/Import/Listing/Cancel/Caption",
            "text": "Cancel"
        },
        "$:/language/Import/Listing/Hint": {
            "title": "$:/language/Import/Listing/Hint",
            "text": "These tiddlers are ready to import:"
        },
        "$:/language/Import/Listing/Import/Caption": {
            "title": "$:/language/Import/Listing/Import/Caption",
            "text": "Import"
        },
        "$:/language/Import/Listing/Select/Caption": {
            "title": "$:/language/Import/Listing/Select/Caption",
            "text": "Select"
        },
        "$:/language/Import/Listing/Status/Caption": {
            "title": "$:/language/Import/Listing/Status/Caption",
            "text": "Status"
        },
        "$:/language/Import/Listing/Title/Caption": {
            "title": "$:/language/Import/Listing/Title/Caption",
            "text": "Title"
        },
        "$:/language/Import/Listing/Preview": {
            "title": "$:/language/Import/Listing/Preview",
            "text": "Preview:"
        },
        "$:/language/Import/Listing/Preview/Text": {
            "title": "$:/language/Import/Listing/Preview/Text",
            "text": "Text"
        },
        "$:/language/Import/Listing/Preview/TextRaw": {
            "title": "$:/language/Import/Listing/Preview/TextRaw",
            "text": "Text (Raw)"
        },
        "$:/language/Import/Listing/Preview/Fields": {
            "title": "$:/language/Import/Listing/Preview/Fields",
            "text": "Fields"
        },
        "$:/language/Import/Listing/Preview/Diff": {
            "title": "$:/language/Import/Listing/Preview/Diff",
            "text": "Diff"
        },
        "$:/language/Import/Listing/Preview/DiffFields": {
            "title": "$:/language/Import/Listing/Preview/DiffFields",
            "text": "Diff (Fields)"
        },
        "$:/language/Import/Listing/Rename/Tooltip": {
            "title": "$:/language/Import/Listing/Rename/Tooltip",
            "text": "Rename tiddler before importing"
        },
        "$:/language/Import/Listing/Rename/Prompt": {
            "title": "$:/language/Import/Listing/Rename/Prompt",
            "text": "Rename to:"
        },
        "$:/language/Import/Listing/Rename/ConfirmRename": {
            "title": "$:/language/Import/Listing/Rename/ConfirmRename",
            "text": "Rename tiddler"
        },
        "$:/language/Import/Listing/Rename/CancelRename": {
            "title": "$:/language/Import/Listing/Rename/CancelRename",
            "text": "Cancel"
        },
        "$:/language/Import/Listing/Rename/OverwriteWarning": {
            "title": "$:/language/Import/Listing/Rename/OverwriteWarning",
            "text": "A tiddler with this title already exists."
        },
        "$:/language/Import/Upgrader/Plugins/Suppressed/Incompatible": {
            "title": "$:/language/Import/Upgrader/Plugins/Suppressed/Incompatible",
            "text": "Blocked incompatible or obsolete plugin."
        },
        "$:/language/Import/Upgrader/Plugins/Suppressed/Version": {
            "title": "$:/language/Import/Upgrader/Plugins/Suppressed/Version",
            "text": "Blocked plugin (due to incoming &lt;&lt;incoming&gt;&gt; not being newer than existing &lt;&lt;existing&gt;&gt;)."
        },
        "$:/language/Import/Upgrader/Plugins/Upgraded": {
            "title": "$:/language/Import/Upgrader/Plugins/Upgraded",
            "text": "Upgraded plugin from &lt;&lt;incoming&gt;&gt; to &lt;&lt;upgraded&gt;&gt;."
        },
        "$:/language/Import/Upgrader/State/Suppressed": {
            "title": "$:/language/Import/Upgrader/State/Suppressed",
            "text": "Blocked temporary state tiddler."
        },
        "$:/language/Import/Upgrader/System/Suppressed": {
            "title": "$:/language/Import/Upgrader/System/Suppressed",
            "text": "Blocked system tiddler."
        },
        "$:/language/Import/Upgrader/System/Warning": {
            "title": "$:/language/Import/Upgrader/System/Warning",
            "text": "Core module tiddler."
        },
        "$:/language/Import/Upgrader/System/Alert": {
            "title": "$:/language/Import/Upgrader/System/Alert",
            "text": "You are about to import a tiddler that will overwrite a core module tiddler. This is not recommended as it may make the system unstable."
        },
        "$:/language/Import/Upgrader/ThemeTweaks/Created": {
            "title": "$:/language/Import/Upgrader/ThemeTweaks/Created",
            "text": "Migrated theme tweak from &lt;$text text=&lt;&lt;from&gt;&gt;/&gt;."
        },
        "$:/language/AboveStory/ClassicPlugin/Warning": {
            "title": "$:/language/AboveStory/ClassicPlugin/Warning",
            "text": "It looks like you are trying to load a plugin designed for ~TiddlyWiki Classic. Please note that [[these plugins do not work with TiddlyWiki version 5.x.x|https://tiddlywiki.com/#TiddlyWikiClassic]]. ~TiddlyWiki Classic plugins detected:"
        },
        "$:/language/BinaryWarning/Prompt": {
            "title": "$:/language/BinaryWarning/Prompt",
            "text": "This tiddler contains binary data"
        },
        "$:/language/ClassicWarning/Hint": {
            "title": "$:/language/ClassicWarning/Hint",
            "text": "This tiddler is written in TiddlyWiki Classic wiki text format, which is not fully compatible with TiddlyWiki version 5. See https://tiddlywiki.com/static/Upgrading.html for more details."
        },
        "$:/language/ClassicWarning/Upgrade/Caption": {
            "title": "$:/language/ClassicWarning/Upgrade/Caption",
            "text": "upgrade"
        },
        "$:/language/CloseAll/Button": {
            "title": "$:/language/CloseAll/Button",
            "text": "close all"
        },
        "$:/language/ColourPicker/Recent": {
            "title": "$:/language/ColourPicker/Recent",
            "text": "Recent:"
        },
        "$:/language/ConfirmCancelTiddler": {
            "title": "$:/language/ConfirmCancelTiddler",
            "text": "Do you wish to discard changes to the tiddler \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/ConfirmDeleteTiddler": {
            "title": "$:/language/ConfirmDeleteTiddler",
            "text": "Do you wish to delete the tiddler \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/ConfirmOverwriteTiddler": {
            "title": "$:/language/ConfirmOverwriteTiddler",
            "text": "Do you wish to overwrite the tiddler \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/ConfirmEditShadowTiddler": {
            "title": "$:/language/ConfirmEditShadowTiddler",
            "text": "You are about to edit a ShadowTiddler. Any changes will override the default system making future upgrades non-trivial. Are you sure you want to edit \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/ConfirmAction": {
            "title": "$:/language/ConfirmAction",
            "text": "Do you wish to proceed?"
        },
        "$:/language/Count": {
            "title": "$:/language/Count",
            "text": "count"
        },
        "$:/language/DefaultNewTiddlerTitle": {
            "title": "$:/language/DefaultNewTiddlerTitle",
            "text": "New Tiddler"
        },
        "$:/language/Diffs/CountMessage": {
            "title": "$:/language/Diffs/CountMessage",
            "text": "&lt;&lt;diff-count&gt;&gt; differences"
        },
        "$:/language/DropMessage": {
            "title": "$:/language/DropMessage",
            "text": "Drop here (or use the 'Escape' key to cancel)"
        },
        "$:/language/Encryption/Cancel": {
            "title": "$:/language/Encryption/Cancel",
            "text": "Cancel"
        },
        "$:/language/Encryption/ConfirmClearPassword": {
            "title": "$:/language/Encryption/ConfirmClearPassword",
            "text": "Do you wish to clear the password? This will remove the encryption applied when saving this wiki"
        },
        "$:/language/Encryption/PromptSetPassword": {
            "title": "$:/language/Encryption/PromptSetPassword",
            "text": "Set a new password for this TiddlyWiki"
        },
        "$:/language/Encryption/Username": {
            "title": "$:/language/Encryption/Username",
            "text": "Username"
        },
        "$:/language/Encryption/Password": {
            "title": "$:/language/Encryption/Password",
            "text": "Password"
        },
        "$:/language/Encryption/RepeatPassword": {
            "title": "$:/language/Encryption/RepeatPassword",
            "text": "Repeat password"
        },
        "$:/language/Encryption/PasswordNoMatch": {
            "title": "$:/language/Encryption/PasswordNoMatch",
            "text": "Passwords do not match"
        },
        "$:/language/Encryption/SetPassword": {
            "title": "$:/language/Encryption/SetPassword",
            "text": "Set password"
        },
        "$:/language/Error/Caption": {
            "title": "$:/language/Error/Caption",
            "text": "Error"
        },
        "$:/language/Error/EditConflict": {
            "title": "$:/language/Error/EditConflict",
            "text": "File changed on server"
        },
        "$:/language/Error/Filter": {
            "title": "$:/language/Error/Filter",
            "text": "Filter error"
        },
        "$:/language/Error/FilterSyntax": {
            "title": "$:/language/Error/FilterSyntax",
            "text": "Syntax error in filter expression"
        },
        "$:/language/Error/FilterRunPrefix": {
            "title": "$:/language/Error/FilterRunPrefix",
            "text": "Filter Error: Unknown prefix for filter run"
        },
        "$:/language/Error/IsFilterOperator": {
            "title": "$:/language/Error/IsFilterOperator",
            "text": "Filter Error: Unknown operand for the 'is' filter operator"
        },
        "$:/language/Error/FormatFilterOperator": {
            "title": "$:/language/Error/FormatFilterOperator",
            "text": "Filter Error: Unknown suffix for the 'format' filter operator"
        },
        "$:/language/Error/LoadingPluginLibrary": {
            "title": "$:/language/Error/LoadingPluginLibrary",
            "text": "Error loading plugin library"
        },
        "$:/language/Error/NetworkErrorAlert": {
            "title": "$:/language/Error/NetworkErrorAlert",
            "text": "`&lt;h2&gt;''Network Error''&lt;/h2&gt;It looks like the connection to the server has been lost. This may indicate a problem with your network connection. Please attempt to restore network connectivity before continuing.&lt;br&gt;&lt;br&gt;''Any unsaved changes will be automatically synchronised when connectivity is restored''.`"
        },
        "$:/language/Error/RecursiveTransclusion": {
            "title": "$:/language/Error/RecursiveTransclusion",
            "text": "Recursive transclusion error in transclude widget"
        },
        "$:/language/Error/RetrievingSkinny": {
            "title": "$:/language/Error/RetrievingSkinny",
            "text": "Error retrieving skinny tiddler list"
        },
        "$:/language/Error/SavingToTWEdit": {
            "title": "$:/language/Error/SavingToTWEdit",
            "text": "Error saving to TWEdit"
        },
        "$:/language/Error/WhileSaving": {
            "title": "$:/language/Error/WhileSaving",
            "text": "Error while saving"
        },
        "$:/language/Error/XMLHttpRequest": {
            "title": "$:/language/Error/XMLHttpRequest",
            "text": "XMLHttpRequest error code"
        },
        "$:/language/InternalJavaScriptError/Title": {
            "title": "$:/language/InternalJavaScriptError/Title",
            "text": "Internal JavaScript Error"
        },
        "$:/language/InternalJavaScriptError/Hint": {
            "title": "$:/language/InternalJavaScriptError/Hint",
            "text": "Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser"
        },
        "$:/language/InvalidFieldName": {
            "title": "$:/language/InvalidFieldName",
            "text": "Illegal characters in field name \"&lt;$text text=&lt;&lt;fieldName&gt;&gt;/&gt;\". Fields can only contain lowercase letters, digits and the characters underscore (`_`), hyphen (`-`) and period (`.`)"
        },
        "$:/language/LayoutSwitcher/Description": {
            "title": "$:/language/LayoutSwitcher/Description",
            "text": "Open the layout switcher"
        },
        "$:/language/LazyLoadingWarning": {
            "title": "$:/language/LazyLoadingWarning",
            "text": "&lt;p&gt;Trying to load external content from ''&lt;$text text={{!!_canonical_uri}}/&gt;''&lt;/p&gt;&lt;p&gt;If this message doesn't disappear, either the tiddler content type doesn't match the type of the external content, or you may be using a browser that doesn't support external content for wikis loaded as standalone files. See https://tiddlywiki.com/#ExternalText&lt;/p&gt;"
        },
        "$:/language/LoginToTiddlySpace": {
            "title": "$:/language/LoginToTiddlySpace",
            "text": "Login to TiddlySpace"
        },
        "$:/language/Manager/Controls/FilterByTag/None": {
            "title": "$:/language/Manager/Controls/FilterByTag/None",
            "text": "(none)"
        },
        "$:/language/Manager/Controls/FilterByTag/Prompt": {
            "title": "$:/language/Manager/Controls/FilterByTag/Prompt",
            "text": "Filter by tag:"
        },
        "$:/language/Manager/Controls/Order/Prompt": {
            "title": "$:/language/Manager/Controls/Order/Prompt",
            "text": "Reverse order"
        },
        "$:/language/Manager/Controls/Search/Placeholder": {
            "title": "$:/language/Manager/Controls/Search/Placeholder",
            "text": "Search"
        },
        "$:/language/Manager/Controls/Search/Prompt": {
            "title": "$:/language/Manager/Controls/Search/Prompt",
            "text": "Search:"
        },
        "$:/language/Manager/Controls/Show/Option/Tags": {
            "title": "$:/language/Manager/Controls/Show/Option/Tags",
            "text": "tags"
        },
        "$:/language/Manager/Controls/Show/Option/Tiddlers": {
            "title": "$:/language/Manager/Controls/Show/Option/Tiddlers",
            "text": "tiddlers"
        },
        "$:/language/Manager/Controls/Show/Prompt": {
            "title": "$:/language/Manager/Controls/Show/Prompt",
            "text": "Show:"
        },
        "$:/language/Manager/Controls/Sort/Prompt": {
            "title": "$:/language/Manager/Controls/Sort/Prompt",
            "text": "Sort by:"
        },
        "$:/language/Manager/Item/Colour": {
            "title": "$:/language/Manager/Item/Colour",
            "text": "Colour"
        },
        "$:/language/Manager/Item/Fields": {
            "title": "$:/language/Manager/Item/Fields",
            "text": "Fields"
        },
        "$:/language/Manager/Item/Icon/None": {
            "title": "$:/language/Manager/Item/Icon/None",
            "text": "(none)"
        },
        "$:/language/Manager/Item/Icon": {
            "title": "$:/language/Manager/Item/Icon",
            "text": "Icon"
        },
        "$:/language/Manager/Item/RawText": {
            "title": "$:/language/Manager/Item/RawText",
            "text": "Raw text"
        },
        "$:/language/Manager/Item/Tags": {
            "title": "$:/language/Manager/Item/Tags",
            "text": "Tags"
        },
        "$:/language/Manager/Item/Tools": {
            "title": "$:/language/Manager/Item/Tools",
            "text": "Tools"
        },
        "$:/language/Manager/Item/WikifiedText": {
            "title": "$:/language/Manager/Item/WikifiedText",
            "text": "Wikified text"
        },
        "$:/language/MissingTiddler/Hint": {
            "title": "$:/language/MissingTiddler/Hint",
            "text": "Missing tiddler \"&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\" -- click {{||$:/core/ui/Buttons/edit}} to create"
        },
        "$:/language/No": {
            "title": "$:/language/No",
            "text": "No"
        },
        "$:/language/OfficialPluginLibrary": {
            "title": "$:/language/OfficialPluginLibrary",
            "text": "Official ~TiddlyWiki Plugin Library"
        },
        "$:/language/OfficialPluginLibrary/Hint": {
            "title": "$:/language/OfficialPluginLibrary/Hint",
            "text": "The official ~TiddlyWiki plugin library at tiddlywiki.com. Plugins, themes and language packs are maintained by the core team."
        },
        "$:/language/PageTemplate/Description": {
            "title": "$:/language/PageTemplate/Description",
            "text": "the default ~TiddlyWiki layout"
        },
        "$:/language/PageTemplate/Name": {
            "title": "$:/language/PageTemplate/Name",
            "text": "Default ~PageTemplate"
        },
        "$:/language/PluginReloadWarning": {
            "title": "$:/language/PluginReloadWarning",
            "text": "Please save {{$:/core/ui/Buttons/save-wiki}} and reload {{$:/core/ui/Buttons/refresh}} to allow changes to ~JavaScript plugins to take effect"
        },
        "$:/language/RecentChanges/DateFormat": {
            "title": "$:/language/RecentChanges/DateFormat",
            "text": "DDth MMM YYYY"
        },
        "$:/language/Shortcuts/Input/AdvancedSearch/Hint": {
            "title": "$:/language/Shortcuts/Input/AdvancedSearch/Hint",
            "text": "Open the ~AdvancedSearch panel from within the sidebar search field"
        },
        "$:/language/Shortcuts/Input/Accept/Hint": {
            "title": "$:/language/Shortcuts/Input/Accept/Hint",
            "text": "Accept the selected item"
        },
        "$:/language/Shortcuts/Input/AcceptVariant/Hint": {
            "title": "$:/language/Shortcuts/Input/AcceptVariant/Hint",
            "text": "Accept the selected item (variant)"
        },
        "$:/language/Shortcuts/Input/Cancel/Hint": {
            "title": "$:/language/Shortcuts/Input/Cancel/Hint",
            "text": "Clear the input field"
        },
        "$:/language/Shortcuts/Input/Down/Hint": {
            "title": "$:/language/Shortcuts/Input/Down/Hint",
            "text": "Select the next item"
        },
        "$:/language/Shortcuts/Input/Tab-Left/Hint": {
            "title": "$:/language/Shortcuts/Input/Tab-Left/Hint",
            "text": "Select the previous Tab"
        },
        "$:/language/Shortcuts/Input/Tab-Right/Hint": {
            "title": "$:/language/Shortcuts/Input/Tab-Right/Hint",
            "text": "Select the next Tab"
        },
        "$:/language/Shortcuts/Input/Up/Hint": {
            "title": "$:/language/Shortcuts/Input/Up/Hint",
            "text": "Select the previous item"
        },
        "$:/language/Shortcuts/SidebarLayout/Hint": {
            "title": "$:/language/Shortcuts/SidebarLayout/Hint",
            "text": "Change the sidebar layout"
        },
        "$:/language/Switcher/Subtitle/theme": {
            "title": "$:/language/Switcher/Subtitle/theme",
            "text": "Switch Theme"
        },
        "$:/language/Switcher/Subtitle/layout": {
            "title": "$:/language/Switcher/Subtitle/layout",
            "text": "Switch Layout"
        },
        "$:/language/Switcher/Subtitle/language": {
            "title": "$:/language/Switcher/Subtitle/language",
            "text": "Switch Language"
        },
        "$:/language/Switcher/Subtitle/palette": {
            "title": "$:/language/Switcher/Subtitle/palette",
            "text": "Switch Palette"
        },
        "$:/language/SystemTiddler/Tooltip": {
            "title": "$:/language/SystemTiddler/Tooltip",
            "text": "This is a system tiddler"
        },
        "$:/language/SystemTiddlers/Include/Prompt": {
            "title": "$:/language/SystemTiddlers/Include/Prompt",
            "text": "Include system tiddlers"
        },
        "$:/language/TagManager/Colour/Heading": {
            "title": "$:/language/TagManager/Colour/Heading",
            "text": "Colour"
        },
        "$:/language/TagManager/Count/Heading": {
            "title": "$:/language/TagManager/Count/Heading",
            "text": "Count"
        },
        "$:/language/TagManager/Icon/Heading": {
            "title": "$:/language/TagManager/Icon/Heading",
            "text": "Icon"
        },
        "$:/language/TagManager/Icons/None": {
            "title": "$:/language/TagManager/Icons/None",
            "text": "None"
        },
        "$:/language/TagManager/Info/Heading": {
            "title": "$:/language/TagManager/Info/Heading",
            "text": "Info"
        },
        "$:/language/TagManager/Tag/Heading": {
            "title": "$:/language/TagManager/Tag/Heading",
            "text": "Tag"
        },
        "$:/language/Tiddler/DateFormat": {
            "title": "$:/language/Tiddler/DateFormat",
            "text": "DDth MMM YYYY at hh12:0mmam"
        },
        "$:/language/UnsavedChangesWarning": {
            "title": "$:/language/UnsavedChangesWarning",
            "text": "You have unsaved changes in TiddlyWiki"
        },
        "$:/language/Yes": {
            "title": "$:/language/Yes",
            "text": "Yes"
        },
        "$:/language/Modals/Download": {
            "title": "$:/language/Modals/Download",
            "subtitle": "Download changes",
            "footer": "&lt;$button message=\"tm-close-tiddler\"&gt;Close&lt;/$button&gt;",
            "help": "https://tiddlywiki.com/static/DownloadingChanges.html",
            "text": "Your browser only supports manual saving.\n\nTo save your modified wiki, right click on the download link below and select \"Download file\" or \"Save file\", and then choose the folder and filename.\n\n//You can marginally speed things up by clicking the link with the control key (Windows) or the options/alt key (Mac OS X). You will not be prompted for the folder or filename, but your browser is likely to give it an unrecognisable name -- you may need to rename the file to include an `.html` extension before you can do anything useful with it.//\n\nOn smartphones that do not allow files to be downloaded you can instead bookmark the link, and then sync your bookmarks to a desktop computer from where the wiki can be saved normally.\n"
        },
        "$:/language/Modals/SaveInstructions": {
            "title": "$:/language/Modals/SaveInstructions",
            "subtitle": "Save your work",
            "footer": "&lt;$button message=\"tm-close-tiddler\"&gt;Close&lt;/$button&gt;",
            "help": "https://tiddlywiki.com/static/SavingChanges.html",
            "text": "Your changes to this wiki need to be saved as a ~TiddlyWiki HTML file.\n\n!!! Desktop browsers\n\n# Select ''Save As'' from the ''File'' menu\n# Choose a filename and location\n#* Some browsers also require you to explicitly specify the file saving format as ''Webpage, HTML only'' or similar\n# Close this tab\n\n!!! Smartphone browsers\n\n# Create a bookmark to this page\n#* If you've got iCloud or Google Sync set up then the bookmark will automatically sync to your desktop where you can open it and save it as above\n# Close this tab\n\n//If you open the bookmark again in Mobile Safari you will see this message again. If you want to go ahead and use the file, just click the ''close'' button below//\n"
        },
        "$:/config/NewJournal/Title": {
            "title": "$:/config/NewJournal/Title",
            "text": "DDth MMM YYYY"
        },
        "$:/config/NewJournal/Text": {
            "title": "$:/config/NewJournal/Text",
            "text": ""
        },
        "$:/config/NewJournal/Tags": {
            "title": "$:/config/NewJournal/Tags",
            "text": "Journal\n"
        },
        "$:/language/Notifications/Save/Done": {
            "title": "$:/language/Notifications/Save/Done",
            "text": "Saved wiki"
        },
        "$:/language/Notifications/Save/Starting": {
            "title": "$:/language/Notifications/Save/Starting",
            "text": "Starting to save wiki"
        },
        "$:/language/Notifications/CopiedToClipboard/Succeeded": {
            "title": "$:/language/Notifications/CopiedToClipboard/Succeeded",
            "text": "Copied to clipboard!"
        },
        "$:/language/Notifications/CopiedToClipboard/Failed": {
            "title": "$:/language/Notifications/CopiedToClipboard/Failed",
            "text": "Failed to copy to clipboard!"
        },
        "$:/language/Search/DefaultResults/Caption": {
            "title": "$:/language/Search/DefaultResults/Caption",
            "text": "List"
        },
        "$:/language/Search/Filter/Caption": {
            "title": "$:/language/Search/Filter/Caption",
            "text": "Filter"
        },
        "$:/language/Search/Filter/Hint": {
            "title": "$:/language/Search/Filter/Hint",
            "text": "Search via a [[filter expression|https://tiddlywiki.com/static/Filters.html]]"
        },
        "$:/language/Search/Filter/Matches": {
            "title": "$:/language/Search/Filter/Matches",
            "text": "//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/Matches": {
            "title": "$:/language/Search/Matches",
            "text": "//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/Matches/All": {
            "title": "$:/language/Search/Matches/All",
            "text": "All matches:"
        },
        "$:/language/Search/Matches/Title": {
            "title": "$:/language/Search/Matches/Title",
            "text": "Title matches:"
        },
        "$:/language/Search/Search": {
            "title": "$:/language/Search/Search",
            "text": "Search"
        },
        "$:/language/Search/Search/TooShort": {
            "title": "$:/language/Search/Search/TooShort",
            "text": "Search text too short"
        },
        "$:/language/Search/Shadows/Caption": {
            "title": "$:/language/Search/Shadows/Caption",
            "text": "Shadows"
        },
        "$:/language/Search/Shadows/Hint": {
            "title": "$:/language/Search/Shadows/Hint",
            "text": "Search for shadow tiddlers"
        },
        "$:/language/Search/Shadows/Matches": {
            "title": "$:/language/Search/Shadows/Matches",
            "text": "//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/Standard/Caption": {
            "title": "$:/language/Search/Standard/Caption",
            "text": "Standard"
        },
        "$:/language/Search/Standard/Hint": {
            "title": "$:/language/Search/Standard/Hint",
            "text": "Search for standard tiddlers"
        },
        "$:/language/Search/Standard/Matches": {
            "title": "$:/language/Search/Standard/Matches",
            "text": "//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/System/Caption": {
            "title": "$:/language/Search/System/Caption",
            "text": "System"
        },
        "$:/language/Search/System/Hint": {
            "title": "$:/language/Search/System/Hint",
            "text": "Search for system tiddlers"
        },
        "$:/language/Search/System/Matches": {
            "title": "$:/language/Search/System/Matches",
            "text": "//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//"
        },
        "$:/language/SideBar/All/Caption": {
            "title": "$:/language/SideBar/All/Caption",
            "text": "All"
        },
        "$:/language/SideBar/Contents/Caption": {
            "title": "$:/language/SideBar/Contents/Caption",
            "text": "Contents"
        },
        "$:/language/SideBar/Drafts/Caption": {
            "title": "$:/language/SideBar/Drafts/Caption",
            "text": "Drafts"
        },
        "$:/language/SideBar/Explorer/Caption": {
            "title": "$:/language/SideBar/Explorer/Caption",
            "text": "Explorer"
        },
        "$:/language/SideBar/Missing/Caption": {
            "title": "$:/language/SideBar/Missing/Caption",
            "text": "Missing"
        },
        "$:/language/SideBar/More/Caption": {
            "title": "$:/language/SideBar/More/Caption",
            "text": "More"
        },
        "$:/language/SideBar/Open/Caption": {
            "title": "$:/language/SideBar/Open/Caption",
            "text": "Open"
        },
        "$:/language/SideBar/Orphans/Caption": {
            "title": "$:/language/SideBar/Orphans/Caption",
            "text": "Orphans"
        },
        "$:/language/SideBar/Recent/Caption": {
            "title": "$:/language/SideBar/Recent/Caption",
            "text": "Recent"
        },
        "$:/language/SideBar/Shadows/Caption": {
            "title": "$:/language/SideBar/Shadows/Caption",
            "text": "Shadows"
        },
        "$:/language/SideBar/System/Caption": {
            "title": "$:/language/SideBar/System/Caption",
            "text": "System"
        },
        "$:/language/SideBar/Tags/Caption": {
            "title": "$:/language/SideBar/Tags/Caption",
            "text": "Tags"
        },
        "$:/language/SideBar/Tags/Untagged/Caption": {
            "title": "$:/language/SideBar/Tags/Untagged/Caption",
            "text": "untagged"
        },
        "$:/language/SideBar/Tools/Caption": {
            "title": "$:/language/SideBar/Tools/Caption",
            "text": "Tools"
        },
        "$:/language/SideBar/Types/Caption": {
            "title": "$:/language/SideBar/Types/Caption",
            "text": "Types"
        },
        "$:/SiteSubtitle": {
            "title": "$:/SiteSubtitle",
            "text": "a non-linear personal web notebook"
        },
        "$:/SiteTitle": {
            "title": "$:/SiteTitle",
            "text": "My ~TiddlyWiki"
        },
        "$:/language/Snippets/ListByTag": {
            "title": "$:/language/Snippets/ListByTag",
            "tags": "$:/tags/TextEditor/Snippet",
            "caption": "List of tiddlers by tag",
            "text": "&lt;&lt;list-links \"[tag[task]sort[title]]\"&gt;&gt;\n"
        },
        "$:/language/Snippets/MacroDefinition": {
            "title": "$:/language/Snippets/MacroDefinition",
            "tags": "$:/tags/TextEditor/Snippet",
            "caption": "Macro definition",
            "text": "\\define macroName(param1:\"default value\",param2)\nText of the macro\n\\end\n"
        },
        "$:/language/Snippets/Table4x3": {
            "title": "$:/language/Snippets/Table4x3",
            "tags": "$:/tags/TextEditor/Snippet",
            "caption": "Table with 4 columns by 3 rows",
            "text": "|! |!Alpha |!Beta |!Gamma |!Delta |\n|!One | | | | |\n|!Two | | | | |\n|!Three | | | | |\n"
        },
        "$:/language/Snippets/TableOfContents": {
            "title": "$:/language/Snippets/TableOfContents",
            "tags": "$:/tags/TextEditor/Snippet",
            "caption": "Table of Contents",
            "text": "&lt;div class=\"tc-table-of-contents\"&gt;\n\n&lt;&lt;toc-selective-expandable 'TableOfContents'&gt;&gt;\n\n&lt;/div&gt;"
        },
        "$:/language/ThemeTweaks/ThemeTweaks": {
            "title": "$:/language/ThemeTweaks/ThemeTweaks",
            "text": "Theme Tweaks"
        },
        "$:/language/ThemeTweaks/ThemeTweaks/Hint": {
            "title": "$:/language/ThemeTweaks/ThemeTweaks/Hint",
            "text": "You can tweak certain aspects of the ''Vanilla'' theme."
        },
        "$:/language/ThemeTweaks/Options": {
            "title": "$:/language/ThemeTweaks/Options",
            "text": "Options"
        },
        "$:/language/ThemeTweaks/Options/SidebarLayout": {
            "title": "$:/language/ThemeTweaks/Options/SidebarLayout",
            "text": "Sidebar layout"
        },
        "$:/language/ThemeTweaks/Options/SidebarLayout/Fixed-Fluid": {
            "title": "$:/language/ThemeTweaks/Options/SidebarLayout/Fixed-Fluid",
            "text": "Fixed story, fluid sidebar"
        },
        "$:/language/ThemeTweaks/Options/SidebarLayout/Fluid-Fixed": {
            "title": "$:/language/ThemeTweaks/Options/SidebarLayout/Fluid-Fixed",
            "text": "Fluid story, fixed sidebar"
        },
        "$:/language/ThemeTweaks/Options/StickyTitles": {
            "title": "$:/language/ThemeTweaks/Options/StickyTitles",
            "text": "Sticky titles"
        },
        "$:/language/ThemeTweaks/Options/StickyTitles/Hint": {
            "title": "$:/language/ThemeTweaks/Options/StickyTitles/Hint",
            "text": "Causes tiddler titles to \"stick\" to the top of the browser window"
        },
        "$:/language/ThemeTweaks/Options/CodeWrapping": {
            "title": "$:/language/ThemeTweaks/Options/CodeWrapping",
            "text": "Wrap long lines in code blocks"
        },
        "$:/language/ThemeTweaks/Settings": {
            "title": "$:/language/ThemeTweaks/Settings",
            "text": "Settings"
        },
        "$:/language/ThemeTweaks/Settings/FontFamily": {
            "title": "$:/language/ThemeTweaks/Settings/FontFamily",
            "text": "Font family"
        },
        "$:/language/ThemeTweaks/Settings/CodeFontFamily": {
            "title": "$:/language/ThemeTweaks/Settings/CodeFontFamily",
            "text": "Code font family"
        },
        "$:/language/ThemeTweaks/Settings/EditorFontFamily": {
            "title": "$:/language/ThemeTweaks/Settings/EditorFontFamily",
            "text": "Editor font family"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImage": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImage",
            "text": "Page background image"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImageAttachment": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImageAttachment",
            "text": "Page background image attachment"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImageAttachment/Scroll": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImageAttachment/Scroll",
            "text": "Scroll with tiddlers"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImageAttachment/Fixed": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImageAttachment/Fixed",
            "text": "Fixed to window"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImageSize": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImageSize",
            "text": "Page background image size"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImageSize/Auto": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImageSize/Auto",
            "text": "Auto"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImageSize/Cover": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImageSize/Cover",
            "text": "Cover"
        },
        "$:/language/ThemeTweaks/Settings/BackgroundImageSize/Contain": {
            "title": "$:/language/ThemeTweaks/Settings/BackgroundImageSize/Contain",
            "text": "Contain"
        },
        "$:/language/ThemeTweaks/Metrics": {
            "title": "$:/language/ThemeTweaks/Metrics",
            "text": "Sizes"
        },
        "$:/language/ThemeTweaks/Metrics/FontSize": {
            "title": "$:/language/ThemeTweaks/Metrics/FontSize",
            "text": "Font size"
        },
        "$:/language/ThemeTweaks/Metrics/LineHeight": {
            "title": "$:/language/ThemeTweaks/Metrics/LineHeight",
            "text": "Line height"
        },
        "$:/language/ThemeTweaks/Metrics/BodyFontSize": {
            "title": "$:/language/ThemeTweaks/Metrics/BodyFontSize",
            "text": "Font size for tiddler body"
        },
        "$:/language/ThemeTweaks/Metrics/BodyLineHeight": {
            "title": "$:/language/ThemeTweaks/Metrics/BodyLineHeight",
            "text": "Line height for tiddler body"
        },
        "$:/language/ThemeTweaks/Metrics/StoryLeft": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryLeft",
            "text": "Story left position"
        },
        "$:/language/ThemeTweaks/Metrics/StoryLeft/Hint": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryLeft/Hint",
            "text": "how far the left margin of the story river&lt;br&gt;(tiddler area) is from the left of the page"
        },
        "$:/language/ThemeTweaks/Metrics/StoryTop": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryTop",
            "text": "Story top position"
        },
        "$:/language/ThemeTweaks/Metrics/StoryTop/Hint": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryTop/Hint",
            "text": "how far the top margin of the story river&lt;br&gt;is from the top of the page"
        },
        "$:/language/ThemeTweaks/Metrics/StoryRight": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryRight",
            "text": "Story right"
        },
        "$:/language/ThemeTweaks/Metrics/StoryRight/Hint": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryRight/Hint",
            "text": "how far the left margin of the sidebar &lt;br&gt;is from the left of the page"
        },
        "$:/language/ThemeTweaks/Metrics/StoryWidth": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryWidth",
            "text": "Story width"
        },
        "$:/language/ThemeTweaks/Metrics/StoryWidth/Hint": {
            "title": "$:/language/ThemeTweaks/Metrics/StoryWidth/Hint",
            "text": "the overall width of the story river"
        },
        "$:/language/ThemeTweaks/Metrics/TiddlerWidth": {
            "title": "$:/language/ThemeTweaks/Metrics/TiddlerWidth",
            "text": "Tiddler width"
        },
        "$:/language/ThemeTweaks/Metrics/TiddlerWidth/Hint": {
            "title": "$:/language/ThemeTweaks/Metrics/TiddlerWidth/Hint",
            "text": "within the story river"
        },
        "$:/language/ThemeTweaks/Metrics/SidebarBreakpoint": {
            "title": "$:/language/ThemeTweaks/Metrics/SidebarBreakpoint",
            "text": "Sidebar breakpoint"
        },
        "$:/language/ThemeTweaks/Metrics/SidebarBreakpoint/Hint": {
            "title": "$:/language/ThemeTweaks/Metrics/SidebarBreakpoint/Hint",
            "text": "the minimum page width at which the story&lt;br&gt;river and sidebar will appear side by side"
        },
        "$:/language/ThemeTweaks/Metrics/SidebarWidth": {
            "title": "$:/language/ThemeTweaks/Metrics/SidebarWidth",
            "text": "Sidebar width"
        },
        "$:/language/ThemeTweaks/Metrics/SidebarWidth/Hint": {
            "title": "$:/language/ThemeTweaks/Metrics/SidebarWidth/Hint",
            "text": "the width of the sidebar in fluid-fixed layout"
        },
        "$:/language/TiddlerInfo/Advanced/Caption": {
            "title": "$:/language/TiddlerInfo/Advanced/Caption",
            "text": "Advanced"
        },
        "$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint",
            "text": "none"
        },
        "$:/language/TiddlerInfo/Advanced/PluginInfo/Heading": {
            "title": "$:/language/TiddlerInfo/Advanced/PluginInfo/Heading",
            "text": "Plugin Details"
        },
        "$:/language/TiddlerInfo/Advanced/PluginInfo/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/PluginInfo/Hint",
            "text": "This plugin contains the following shadow tiddlers:"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading",
            "text": "Shadow Status"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint",
            "text": "The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is not a shadow tiddler"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint",
            "text": "The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is a shadow tiddler"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source",
            "text": "It is defined in the plugin &lt;$link to=&lt;&lt;pluginTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;pluginTiddler&gt;&gt;/&gt;&lt;/$link&gt;"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint",
            "text": "It is overridden by an ordinary tiddler"
        },
        "$:/language/TiddlerInfo/Fields/Caption": {
            "title": "$:/language/TiddlerInfo/Fields/Caption",
            "text": "Fields"
        },
        "$:/language/TiddlerInfo/List/Caption": {
            "title": "$:/language/TiddlerInfo/List/Caption",
            "text": "List"
        },
        "$:/language/TiddlerInfo/List/Empty": {
            "title": "$:/language/TiddlerInfo/List/Empty",
            "text": "This tiddler does not have a list"
        },
        "$:/language/TiddlerInfo/Listed/Caption": {
            "title": "$:/language/TiddlerInfo/Listed/Caption",
            "text": "Listed"
        },
        "$:/language/TiddlerInfo/Listed/Empty": {
            "title": "$:/language/TiddlerInfo/Listed/Empty",
            "text": "This tiddler is not listed by any others"
        },
        "$:/language/TiddlerInfo/References/Caption": {
            "title": "$:/language/TiddlerInfo/References/Caption",
            "text": "Backlinks"
        },
        "$:/language/TiddlerInfo/References/Empty": {
            "title": "$:/language/TiddlerInfo/References/Empty",
            "text": "No tiddlers link to this one"
        },
        "$:/language/TiddlerInfo/Tagging/Caption": {
            "title": "$:/language/TiddlerInfo/Tagging/Caption",
            "text": "Tagging"
        },
        "$:/language/TiddlerInfo/Tagging/Empty": {
            "title": "$:/language/TiddlerInfo/Tagging/Empty",
            "text": "No tiddlers are tagged with this one"
        },
        "$:/language/TiddlerInfo/Tools/Caption": {
            "title": "$:/language/TiddlerInfo/Tools/Caption",
            "text": "Tools"
        },
        "$:/language/Docs/Types/application/javascript": {
            "title": "$:/language/Docs/Types/application/javascript",
            "description": "JavaScript code",
            "name": "application/javascript",
            "group": "Developer",
            "group-sort": "2"
        },
        "$:/language/Docs/Types/application/json": {
            "title": "$:/language/Docs/Types/application/json",
            "description": "JSON data",
            "name": "application/json",
            "group": "Developer",
            "group-sort": "2"
        },
        "$:/language/Docs/Types/application/x-tiddler-dictionary": {
            "title": "$:/language/Docs/Types/application/x-tiddler-dictionary",
            "description": "Data dictionary",
            "name": "application/x-tiddler-dictionary",
            "group": "Developer",
            "group-sort": "2"
        },
        "$:/language/Docs/Types/image/gif": {
            "title": "$:/language/Docs/Types/image/gif",
            "description": "GIF image",
            "name": "image/gif",
            "group": "Image",
            "group-sort": "1"
        },
        "$:/language/Docs/Types/image/jpeg": {
            "title": "$:/language/Docs/Types/image/jpeg",
            "description": "JPEG image",
            "name": "image/jpeg",
            "group": "Image",
            "group-sort": "1"
        },
        "$:/language/Docs/Types/image/png": {
            "title": "$:/language/Docs/Types/image/png",
            "description": "PNG image",
            "name": "image/png",
            "group": "Image",
            "group-sort": "1"
        },
        "$:/language/Docs/Types/image/svg+xml": {
            "title": "$:/language/Docs/Types/image/svg+xml",
            "description": "Structured Vector Graphics image",
            "name": "image/svg+xml",
            "group": "Image",
            "group-sort": "1"
        },
        "$:/language/Docs/Types/image/x-icon": {
            "title": "$:/language/Docs/Types/image/x-icon",
            "description": "ICO format icon file",
            "name": "image/x-icon",
            "group": "Image",
            "group-sort": "1"
        },
        "$:/language/Docs/Types/text/css": {
            "title": "$:/language/Docs/Types/text/css",
            "description": "Static stylesheet",
            "name": "text/css",
            "group": "Developer",
            "group-sort": "2"
        },
        "$:/language/Docs/Types/text/html": {
            "title": "$:/language/Docs/Types/text/html",
            "description": "HTML markup",
            "name": "text/html",
            "group": "Text",
            "group-sort": "0"
        },
        "$:/language/Docs/Types/text/plain": {
            "title": "$:/language/Docs/Types/text/plain",
            "description": "Plain text",
            "name": "text/plain",
            "group": "Text",
            "group-sort": "0"
        },
        "$:/language/Docs/Types/text/vnd.tiddlywiki": {
            "title": "$:/language/Docs/Types/text/vnd.tiddlywiki",
            "description": "TiddlyWiki 5",
            "name": "text/vnd.tiddlywiki",
            "group": "Text",
            "group-sort": "0"
        },
        "$:/language/Docs/Types/text/x-tiddlywiki": {
            "title": "$:/language/Docs/Types/text/x-tiddlywiki",
            "description": "TiddlyWiki Classic",
            "name": "text/x-tiddlywiki",
            "group": "Text",
            "group-sort": "0"
        },
        "$:/languages/en-GB/icon": {
            "title": "$:/languages/en-GB/icon",
            "type": "image/svg+xml",
            "text": "&lt;svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 60 30\" width=\"1200\" height=\"600\"&gt;\n&lt;clipPath id=\"t\"&gt;\n\t&lt;path d=\"M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z\"/&gt;\n&lt;/clipPath&gt;\n&lt;path d=\"M0,0 v30 h60 v-30 z\" fill=\"#00247d\"/&gt;\n&lt;path d=\"M0,0 L60,30 M60,0 L0,30\" stroke=\"#fff\" stroke-width=\"6\"/&gt;\n&lt;path d=\"M0,0 L60,30 M60,0 L0,30\" clip-path=\"url(#t)\" stroke=\"#cf142b\" stroke-width=\"4\"/&gt;\n&lt;path d=\"M30,0 v30 M0,15 h60\" stroke=\"#fff\" stroke-width=\"10\"/&gt;\n&lt;path d=\"M30,0 v30 M0,15 h60\" stroke=\"#cf142b\" stroke-width=\"6\"/&gt;\n&lt;/svg&gt;\n"
        },
        "$:/languages/en-GB": {
            "title": "$:/languages/en-GB",
            "name": "en-GB",
            "description": "English (British)",
            "author": "JeremyRuston",
            "core-version": "&gt;=5.0.0\"",
            "text": "Stub pseudo-plugin for the default language"
        },
        "$:/core/modules/commander.js": {
            "title": "$:/core/modules/commander.js",
            "text": "/*\\\ntitle: $:/core/modules/commander.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Commander class is a command interpreter\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nParse a sequence of commands\n\tcommandTokens: an array of command string tokens\n\twiki: reference to the wiki store object\n\tstreams: {output:, error:}, each of which has a write(string) method\n\tcallback: a callback invoked as callback(err) where err is null if there was no error\n*/\nvar Commander = function(commandTokens,callback,wiki,streams) {\n\tvar path = require(\"path\");\n\tthis.commandTokens = commandTokens;\n\tthis.nextToken = 0;\n\tthis.callback = callback;\n\tthis.wiki = wiki;\n\tthis.streams = streams;\n\tthis.outputPath = path.resolve($tw.boot.wikiPath,$tw.config.wikiOutputSubDir);\n};\n\n/*\nLog a string if verbose flag is set\n*/\nCommander.prototype.log = function(str) {\n\tif(this.verbose) {\n\t\tthis.streams.output.write(str + \"\\n\");\n\t}\n};\n\n/*\nWrite a string if verbose flag is set\n*/\nCommander.prototype.write = function(str) {\n\tif(this.verbose) {\n\t\tthis.streams.output.write(str);\n\t}\n};\n\n/*\nAdd a string of tokens to the command queue\n*/\nCommander.prototype.addCommandTokens = function(commandTokens) {\n\tvar params = commandTokens.slice(0);\n\tparams.unshift(0);\n\tparams.unshift(this.nextToken);\n\tArray.prototype.splice.apply(this.commandTokens,params);\n};\n\n/*\nExecute the sequence of commands and invoke a callback on completion\n*/\nCommander.prototype.execute = function() {\n\tthis.executeNextCommand();\n};\n\n/*\nExecute the next command in the sequence\n*/\nCommander.prototype.executeNextCommand = function() {\n\tvar self = this;\n\t// Invoke the callback if there are no more commands\n\tif(this.nextToken &gt;= this.commandTokens.length) {\n\t\tthis.callback(null);\n\t} else {\n\t\t// Get and check the command token\n\t\tvar commandName = this.commandTokens[this.nextToken++];\n\t\tif(commandName.substr(0,2) !== \"--\") {\n\t\t\tthis.callback(\"Missing command: \" + commandName);\n\t\t} else {\n\t\t\tcommandName = commandName.substr(2); // Trim off the --\n\t\t\t// Accumulate the parameters to the command\n\t\t\tvar params = [];\n\t\t\twhile(this.nextToken &lt; this.commandTokens.length &amp;&amp; \n\t\t\t\tthis.commandTokens[this.nextToken].substr(0,2) !== \"--\") {\n\t\t\t\tparams.push(this.commandTokens[this.nextToken++]);\n\t\t\t}\n\t\t\t// Get the command info\n\t\t\tvar command = $tw.commands[commandName],\n\t\t\t\tc,err;\n\t\t\tif(!command) {\n\t\t\t\tthis.callback(\"Unknown command: \" + commandName);\n\t\t\t} else {\n\t\t\t\tif(this.verbose) {\n\t\t\t\t\tthis.streams.output.write(\"Executing command: \" + commandName + \" \" + params.join(\" \") + \"\\n\");\n\t\t\t\t}\n\t\t\t\t// Parse named parameters if required\n\t\t\t\tif(command.info.namedParameterMode) {\n\t\t\t\t\tparams = this.extractNamedParameters(params,command.info.mandatoryParameters);\n\t\t\t\t\tif(typeof params === \"string\") {\n\t\t\t\t\t\treturn this.callback(params);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(command.info.synchronous) {\n\t\t\t\t\t// Synchronous command\n\t\t\t\t\tc = new command.Command(params,this);\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.executeNextCommand();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Asynchronous command\n\t\t\t\t\tc = new command.Command(params,this,function(err) {\n\t\t\t\t\t\tif(err) {\n\t\t\t\t\t\t\tself.callback(err);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.executeNextCommand();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nGiven an array of parameter strings `params` in name:value format, and an array of mandatory parameter names in `mandatoryParameters`, returns a hashmap of values or a string if error\n*/\nCommander.prototype.extractNamedParameters = function(params,mandatoryParameters) {\n\tmandatoryParameters = mandatoryParameters || [];\n\tvar errors = [],\n\t\tparamsByName = Object.create(null);\n\t// Extract the parameters\n\t$tw.utils.each(params,function(param) {\n\t\tvar index = param.indexOf(\"=\");\n\t\tif(index &lt; 1) {\n\t\t\terrors.push(\"malformed named parameter: '\" + param + \"'\");\n\t\t}\n\t\tparamsByName[param.slice(0,index)] = $tw.utils.trim(param.slice(index+1));\n\t});\n\t// Check the mandatory parameters are present\n\t$tw.utils.each(mandatoryParameters,function(mandatoryParameter) {\n\t\tif(!$tw.utils.hop(paramsByName,mandatoryParameter)) {\n\t\t\terrors.push(\"missing mandatory parameter: '\" + mandatoryParameter + \"'\");\n\t\t}\n\t});\n\t// Return any errors\n\tif(errors.length &gt; 0) {\n\t\treturn errors.join(\" and\\n\");\n\t} else {\n\t\treturn paramsByName;\t\t\n\t}\n};\n\nCommander.initCommands = function(moduleType) {\n\tmoduleType = moduleType || \"command\";\n\t$tw.commands = {};\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tvar c = $tw.commands[module.info.name] = {};\n\t\t// Add the methods defined by the module\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\tc[f] = module[f];\n\t\t\t}\n\t\t}\n\t});\n};\n\nexports.Commander = Commander;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/commands/build.js": {
            "title": "$:/core/modules/commands/build.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/build.js\ntype: application/javascript\nmodule-type: command\n\nCommand to build a build target\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"build\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\t// Get the build targets defined in the wiki\n\tvar buildTargets = $tw.boot.wikiInfo.build;\n\tif(!buildTargets) {\n\t\treturn \"No build targets defined\";\n\t}\n\t// Loop through each of the specified targets\n\tvar targets;\n\tif(this.params.length &gt; 0) {\n\t\ttargets = this.params;\n\t} else {\n\t\ttargets = Object.keys(buildTargets);\n\t}\n\tfor(var targetIndex=0; targetIndex&lt;targets.length; targetIndex++) {\n\t\tvar target = targets[targetIndex],\n\t\t\tcommands = buildTargets[target];\n\t\tif(!commands) {\n\t\t\treturn \"Build target '\" + target + \"' not found\";\n\t\t}\n\t\t// Add the commands to the queue\n\t\tthis.commander.addCommandTokens(commands);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/clearpassword.js": {
            "title": "$:/core/modules/commands/clearpassword.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/clearpassword.js\ntype: application/javascript\nmodule-type: command\n\nClear password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"clearpassword\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\t$tw.crypto.setPassword(null);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/deletetiddlers.js": {
            "title": "$:/core/modules/commands/deletetiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/deletetiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to delete tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"deletetiddlers\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing filter\";\n\t}\n\tvar self = this,\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\twiki.deleteTiddler(title);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/editions.js": {
            "title": "$:/core/modules/commands/editions.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/editions.js\ntype: application/javascript\nmodule-type: command\n\nCommand to list the available editions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"editions\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this;\n\t// Output the list\n\tthis.commander.streams.output.write(\"Available editions:\\n\\n\");\n\tvar editionInfo = $tw.utils.getEditionInfo();\n\t$tw.utils.each(editionInfo,function(info,name) {\n\t\tself.commander.streams.output.write(\"    \" + name + \": \" + info.description + \"\\n\");\n\t});\n\tthis.commander.streams.output.write(\"\\n\");\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/fetch.js": {
            "title": "$:/core/modules/commands/fetch.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/fetch.js\ntype: application/javascript\nmodule-type: command\n\nCommands to fetch external tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"fetch\",\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing subcommand and url\";\n\t}\n\tswitch(this.params[0]) {\n\t\tcase \"raw-file\":\n\t\t\treturn this.fetchFiles({\n\t\t\t\traw: true,\n\t\t\t\turl: this.params[1],\n\t\t\t\ttransformFilter: this.params[2] || \"\",\n\t\t\t\tcallback: this.callback\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"file\":\n\t\t\treturn this.fetchFiles({\n\t\t\t\turl: this.params[1],\n\t\t\t\timportFilter: this.params[2],\n\t\t\t\ttransformFilter: this.params[3] || \"\",\n\t\t\t\tcallback: this.callback\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"raw-files\":\n\t\t\treturn this.fetchFiles({\n\t\t\t\traw: true,\n\t\t\t\turlFilter: this.params[1],\n\t\t\t\ttransformFilter: this.params[2] || \"\",\n\t\t\t\tcallback: this.callback\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"files\":\n\t\t\treturn this.fetchFiles({\n\t\t\t\turlFilter: this.params[1],\n\t\t\t\timportFilter: this.params[2],\n\t\t\t\ttransformFilter: this.params[3] || \"\",\n\t\t\t\tcallback: this.callback\n\t\t\t});\n\t\t\tbreak;\n\t}\n\treturn null;\n};\n\nCommand.prototype.fetchFiles = function(options) {\n\tvar self = this;\n\t// Get the list of URLs\n\tvar urls;\n\tif(options.url) {\n\t\turls = [options.url]\n\t} else if(options.urlFilter) {\n\t\turls = this.commander.wiki.filterTiddlers(options.urlFilter);\n\t} else {\n\t\treturn \"Missing URL\";\n\t}\n\t// Process each URL in turn\n\tvar next = 0;\n\tvar getNextFile = function(err) {\n\t\tif(err) {\n\t\t\treturn options.callback(err);\n\t\t}\n\t\tif(next &lt; urls.length) {\n\t\t\tself.fetchFile(urls[next++],options,getNextFile);\n\t\t} else {\n\t\t\toptions.callback(null);\n\t\t}\n\t};\n\tgetNextFile(null);\n\t// Success\n\treturn null;\n};\n\nCommand.prototype.fetchFile = function(url,options,callback,redirectCount) {\n\tif(redirectCount &gt; 10) {\n\t\treturn callback(\"Error too many redirects retrieving \" + url);\n\t}\n\tvar self = this,\n\t\tlib = url.substr(0,8) === \"https://\" ? require(\"https\") : require(\"http\");\n\tlib.get(url).on(\"response\",function(response) {\n\t    var type = (response.headers[\"content-type\"] || \"\").split(\";\")[0],\n\t    \tdata = [];\n\t    self.commander.write(\"Reading \" + url + \": \");\n\t    response.on(\"data\",function(chunk) {\n\t        data.push(chunk);\n\t        self.commander.write(\".\");\n\t    });\n\t    response.on(\"end\",function() {\n\t        self.commander.write(\"\\n\");\n\t        if(response.statusCode === 200) {\n\t\t        self.processBody(Buffer.concat(data),type,options,url);\n\t\t        callback(null);\n\t        } else {\n\t        \tif(response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n\t        \t\treturn self.fetchFile(response.headers.location,options,callback,redirectCount + 1);\n\t        \t} else {\n\t\t        \treturn callback(\"Error \" + response.statusCode + \" retrieving \" + url)\t        \t\t\n\t        \t}\n\t        }\n\t   \t});\n\t   \tresponse.on(\"error\",function(e) {\n\t\t\tconsole.log(\"Error on GET request: \" + e);\n\t\t\tcallback(e);\n\t   \t});\n\t});\n\treturn null;\n};\n\nCommand.prototype.processBody = function(body,type,options,url) {\n\tvar self = this;\n\t// Collect the tiddlers in a wiki\n\tvar incomingWiki = new $tw.Wiki();\n\tif(options.raw) {\n\t\tvar typeInfo = type ? $tw.config.contentTypeInfo[type] : null,\n\t\t\tencoding = typeInfo ? typeInfo.encoding : \"utf8\";\n\t\tincomingWiki.addTiddler(new $tw.Tiddler({\n\t\t\ttitle: url,\n\t\t\ttype: type,\n\t\t\ttext: body.toString(encoding)\n\t\t}));\n\t} else {\n\t\t// Deserialise the file to extract the tiddlers\n\t\tvar tiddlers = this.commander.wiki.deserializeTiddlers(type || \"text/html\",body.toString(\"utf8\"),{});\n\t\t$tw.utils.each(tiddlers,function(tiddler) {\n\t\t\tincomingWiki.addTiddler(new $tw.Tiddler(tiddler));\n\t\t});\n\t}\n\t// Filter the tiddlers to select the ones we want\n\tvar filteredTitles = incomingWiki.filterTiddlers(options.importFilter || \"[all[tiddlers]]\");\n\t// Import the selected tiddlers\n\tvar count = 0;\n\tincomingWiki.each(function(tiddler,title) {\n\t\tif(filteredTitles.indexOf(title) !== -1) {\n\t\t\tvar newTiddler;\n\t\t\tif(options.transformFilter) {\n\t\t\t\tvar transformedTitle = (incomingWiki.filterTiddlers(options.transformFilter,null,self.commander.wiki.makeTiddlerIterator([title])) || [\"\"])[0];\n\t\t\t\tif(transformedTitle) {\n\t\t\t\t\tself.commander.log(\"Importing \" + title + \" as \" + transformedTitle)\n\t\t\t\t\tnewTiddler = new $tw.Tiddler(tiddler,{title: transformedTitle});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.commander.log(\"Importing \" + title)\n\t\t\t\tnewTiddler = tiddler;\n\t\t\t}\n\t\t\tself.commander.wiki.importTiddler(newTiddler);\n\t\t\tcount++;\n\t\t}\n\t});\n\tself.commander.log(\"Imported \" + count + \" tiddlers\")\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/help.js": {
            "title": "$:/core/modules/commands/help.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/help.js\ntype: application/javascript\nmodule-type: command\n\nHelp command\n\n\\*/\n(function(){\n\n/*jshint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"help\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar subhelp = this.params[0] || \"default\",\n\t\thelpBase = \"$:/language/Help/\",\n\t\ttext;\n\tif(!this.commander.wiki.getTiddler(helpBase + subhelp)) {\n\t\tsubhelp = \"notfound\";\n\t}\n\t// Wikify the help as formatted text (ie block elements generate newlines)\n\ttext = this.commander.wiki.renderTiddler(\"text/plain-formatted\",helpBase + subhelp);\n\t// Remove any leading linebreaks\n\ttext = text.replace(/^(\\r?\\n)*/g,\"\");\n\tthis.commander.streams.output.write(text);\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/import.js": {
            "title": "$:/core/modules/commands/import.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/import.js\ntype: application/javascript\nmodule-type: command\n\nCommand to import tiddlers from a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"import\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\");\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing parameters\";\n\t}\n\tvar filename = self.params[0],\n\t\tdeserializer = self.params[1],\n\t\ttitle = self.params[2] || filename,\n\t\tencoding = self.params[3] || \"utf8\",\n\t\ttext = fs.readFileSync(filename,encoding),\n\t\ttiddlers = this.commander.wiki.deserializeTiddlers(null,text,{title: title},{deserializer: deserializer});\n\t$tw.utils.each(tiddlers,function(tiddler) {\n\t\tself.commander.wiki.importTiddler(new $tw.Tiddler(tiddler));\n\t});\n\tthis.commander.log(tiddlers.length + \" tiddler(s) imported\");\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/init.js": {
            "title": "$:/core/modules/commands/init.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/init.js\ntype: application/javascript\nmodule-type: command\n\nCommand to initialise an empty wiki folder\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"init\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\"fs\"),\n\t\tpath = require(\"path\");\n\t// Check that we don't already have a valid wiki folder\n\tif($tw.boot.wikiTiddlersPath || ($tw.utils.isDirectory($tw.boot.wikiPath) &amp;&amp; !$tw.utils.isDirectoryEmpty($tw.boot.wikiPath))) {\n\t\treturn \"Wiki folder is not empty\";\n\t}\n\t// Loop through each of the specified editions\n\tvar editions = this.params.length &gt; 0 ? this.params : [\"empty\"];\n\tfor(var editionIndex=0; editionIndex&lt;editions.length; editionIndex++) {\n\t\tvar editionName = editions[editionIndex];\n\t\t// Check the edition exists\n\t\tvar editionPath = $tw.findLibraryItem(editionName,$tw.getLibraryItemSearchPaths($tw.config.editionsPath,$tw.config.editionsEnvVar));\n\t\tif(!$tw.utils.isDirectory(editionPath)) {\n\t\t\treturn \"Edition '\" + editionName + \"' not found\";\n\t\t}\n\t\t// Copy the edition content\n\t\tvar err = $tw.utils.copyDirectory(editionPath,$tw.boot.wikiPath);\n\t\tif(!err) {\n\t\t\tthis.commander.streams.output.write(\"Copied edition '\" + editionName + \"' to \" + $tw.boot.wikiPath + \"\\n\");\n\t\t} else {\n\t\t\treturn err;\n\t\t}\n\t}\n\t// Tweak the tiddlywiki.info to remove any included wikis\n\tvar packagePath = $tw.boot.wikiPath + \"/tiddlywiki.info\",\n\t\tpackageJson = JSON.parse(fs.readFileSync(packagePath));\n\tdelete packageJson.includeWikis;\n\tfs.writeFileSync(packagePath,JSON.stringify(packageJson,null,$tw.config.preferences.jsonSpaces));\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/listen.js": {
            "title": "$:/core/modules/commands/listen.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/listen.js\ntype: application/javascript\nmodule-type: command\n\nListen for HTTP requests and serve tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Server = require(\"$:/core/modules/server/server.js\").Server;\n\nexports.info = {\n\tname: \"listen\",\n\tsynchronous: true,\n\tnamedParameterMode: true,\n\tmandatoryParameters: [],\n};\n\nvar Command = function(params,commander,callback) {\n\tvar self = this;\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this;\n\tif(!$tw.boot.wikiTiddlersPath) {\n\t\t$tw.utils.warning(\"Warning: Wiki folder '\" + $tw.boot.wikiPath + \"' does not exist or is missing a tiddlywiki.info file\");\n\t}\n\t// Set up server\n\tthis.server = new Server({\n\t\twiki: this.commander.wiki,\n\t\tvariables: self.params\n\t});\n\tvar nodeServer = this.server.listen();\n\t$tw.hooks.invokeHook(\"th-server-command-post-start\",this.server,nodeServer,\"tiddlywiki\");\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/load.js": {
            "title": "$:/core/modules/commands/load.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/load.js\ntype: application/javascript\nmodule-type: command\n\nCommand to load tiddlers from a file or directory\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"load\",\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\");\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar tiddlers = $tw.loadTiddlersFromPath(self.params[0]),\n\t\tcount = 0;\n\t$tw.utils.each(tiddlers,function(tiddlerInfo) {\n\t\t$tw.utils.each(tiddlerInfo.tiddlers,function(tiddler) {\n\t\t\tself.commander.wiki.importTiddler(new $tw.Tiddler(tiddler));\n\t\t\tcount++;\n\t\t});\n\t});\n\tif(!count &amp;&amp; self.params[1] !== \"noerror\") {\n\t\tself.callback(\"No tiddlers found in file \\\"\" + self.params[0] + \"\\\"\");\n\t} else {\n\t\tself.callback(null);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/makelibrary.js": {
            "title": "$:/core/modules/commands/makelibrary.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/makelibrary.js\ntype: application/javascript\nmodule-type: command\n\nCommand to pack all of the plugins in the library into a plugin tiddler of type \"library\"\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"makelibrary\",\n\tsynchronous: true\n};\n\nvar UPGRADE_LIBRARY_TITLE = \"$:/UpgradeLibrary\";\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar wiki = this.commander.wiki,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\tupgradeLibraryTitle = this.params[0] || UPGRADE_LIBRARY_TITLE,\n\t\ttiddlers = {};\n\t// Collect up the library plugins\n\tvar collectPlugins = function(folder) {\n\t\t\tvar pluginFolders = $tw.utils.getSubdirectories(folder) || [];\n\t\t\tfor(var p=0; p&lt;pluginFolders.length; p++) {\n\t\t\t\tif(!$tw.boot.excludeRegExp.test(pluginFolders[p])) {\n\t\t\t\t\tpluginFields = $tw.loadPluginFolder(path.resolve(folder,\"./\" + pluginFolders[p]));\n\t\t\t\t\tif(pluginFields &amp;&amp; pluginFields.title) {\n\t\t\t\t\t\ttiddlers[pluginFields.title] = pluginFields;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcollectPublisherPlugins = function(folder) {\n\t\t\tvar publisherFolders = $tw.utils.getSubdirectories(folder) || [];\n\t\t\tfor(var t=0; t&lt;publisherFolders.length; t++) {\n\t\t\t\tif(!$tw.boot.excludeRegExp.test(publisherFolders[t])) {\n\t\t\t\t\tcollectPlugins(path.resolve(folder,\"./\" + publisherFolders[t]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t$tw.utils.each($tw.getLibraryItemSearchPaths($tw.config.pluginsPath,$tw.config.pluginsEnvVar),collectPublisherPlugins);\n\t$tw.utils.each($tw.getLibraryItemSearchPaths($tw.config.themesPath,$tw.config.themesEnvVar),collectPublisherPlugins);\n\t$tw.utils.each($tw.getLibraryItemSearchPaths($tw.config.languagesPath,$tw.config.languagesEnvVar),collectPlugins);\n\t// Save the upgrade library tiddler\n\tvar pluginFields = {\n\t\ttitle: upgradeLibraryTitle,\n\t\ttype: \"application/json\",\n\t\t\"plugin-type\": \"library\",\n\t\t\"text\": JSON.stringify({tiddlers: tiddlers})\n\t};\n\twiki.addTiddler(new $tw.Tiddler(pluginFields));\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/output.js": {
            "title": "$:/core/modules/commands/output.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/output.js\ntype: application/javascript\nmodule-type: command\n\nCommand to set the default output location (defaults to current working directory)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"output\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\"fs\"),\n\t\tpath = require(\"path\");\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing output path\";\n\t}\n\tthis.commander.outputPath = path.resolve(process.cwd(),this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/password.js": {
            "title": "$:/core/modules/commands/password.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/password.js\ntype: application/javascript\nmodule-type: command\n\nSave password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"password\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing password\";\n\t}\n\t$tw.crypto.setPassword(this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/render.js": {
            "title": "$:/core/modules/commands/render.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/render.js\ntype: application/javascript\nmodule-type: command\n\nRender individual tiddlers and save the results to the specified files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.info = {\n\tname: \"render\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing tiddler filter\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\twiki = this.commander.wiki,\n\t\ttiddlerFilter = this.params[0],\n\t\tfilenameFilter = this.params[1] || \"[is[tiddler]addsuffix[.html]]\",\n\t\ttype = this.params[2] || \"text/html\",\n\t\ttemplate = this.params[3],\n\t\tvariableList = this.params.slice(4),\n\t\ttiddlers = wiki.filterTiddlers(tiddlerFilter),\n\t\tvariables =  Object.create(null);\n\t\twhile(variableList.length &gt;= 2) {\n\t\t\tvariables[variableList[0]] = variableList[1];\n\t\t\tvariableList = variableList.slice(2);\n\t\t}\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(template || title);\n\t\tvar widgetNode = wiki.makeWidget(parser,{variables: $tw.utils.extend({},variables,{currentTiddler: title})}),\n\t\t\tcontainer = $tw.fakeDocument.createElement(\"div\");\n\t\twidgetNode.render(container,null);\n\t\tvar text = type === \"text/html\" ? container.innerHTML : container.textContent,\n\t\t\tfilepath = path.resolve(self.commander.outputPath,wiki.filterTiddlers(filenameFilter,$tw.rootWidget,wiki.makeTiddlerIterator([title]))[0]);\n\t\tif(self.commander.verbose) {\n\t\t\tconsole.log(\"Rendering \\\"\" + title + \"\\\" to \\\"\" + filepath + \"\\\"\");\n\t\t}\n\t\t$tw.utils.createFileDirectories(filepath);\n\t\tfs.writeFileSync(filepath,text,\"utf8\");\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/rendertiddler.js": {
            "title": "$:/core/modules/commands/rendertiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/rendertiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render a tiddler and save it to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"rendertiddler\",\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttype = this.params[2] || \"text/html\",\n\t\ttemplate = this.params[3],\n\t\tname = this.params[4],\n\t\tvalue = this.params[5],\n\t\tvariables = {};\n\t$tw.utils.createFileDirectories(filename);\n\tif(template) {\n\t\tvariables.currentTiddler = title;\n\t\ttitle = template;\n\t}\n\tif(name &amp;&amp; value) {\n\t\tvariables[name] = value;\n\t}\n\tfs.writeFile(filename,this.commander.wiki.renderTiddler(type,title,{variables: variables}),\"utf8\",function(err) {\n\t\tself.callback(err);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/rendertiddlers.js": {
            "title": "$:/core/modules/commands/rendertiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/rendertiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.info = {\n\tname: \"rendertiddlers\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\ttemplate = this.params[1],\n\t\toutputPath = this.commander.outputPath,\n\t\tpathname = path.resolve(outputPath,this.params[2]),\t\t\n\t\ttype = this.params[3] || \"text/html\",\n\t\textension = this.params[4] || \".html\",\n\t\tdeleteDirectory = (this.params[5] || \"\").toLowerCase() !== \"noclean\",\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\tif(deleteDirectory) {\n\t\t$tw.utils.deleteDirectory(pathname);\n\t}\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(template),\n\t\t\twidgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}}),\n\t\t\tcontainer = $tw.fakeDocument.createElement(\"div\");\n\t\twidgetNode.render(container,null);\n\t\tvar text = type === \"text/html\" ? container.innerHTML : container.textContent,\n\t\t\texportPath = null;\n\t\tif($tw.utils.hop($tw.macros,\"tv-get-export-path\")) {\n\t\t\tvar macroPath = $tw.macros[\"tv-get-export-path\"].run.apply(self,[title]);\n\t\t\tif(macroPath) {\n\t\t\t\texportPath = path.resolve(outputPath,macroPath + extension);\n\t\t\t}\n\t\t}\n\t\tvar finalPath = exportPath || path.resolve(pathname,encodeURIComponent(title) + extension);\n\t\t$tw.utils.createFileDirectories(finalPath);\n\t\tfs.writeFileSync(finalPath,text,\"utf8\");\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/save.js": {
            "title": "$:/core/modules/commands/save.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/save.js\ntype: application/javascript\nmodule-type: command\n\nSaves individual tiddlers in their raw text or binary format to the specified files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"save\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing filename filter\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\twiki = this.commander.wiki,\n\t\ttiddlerFilter = this.params[0],\n\t\tfilenameFilter = this.params[1] || \"[is[tiddler]]\",\n\t\ttiddlers = wiki.filterTiddlers(tiddlerFilter);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.commander.wiki.getTiddler(title),\n\t\t\ttype = tiddler.fields.type || \"text/vnd.tiddlywiki\",\n\t\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \"utf8\"},\n\t\t\tfilepath = path.resolve(self.commander.outputPath,wiki.filterTiddlers(filenameFilter,$tw.rootWidget,wiki.makeTiddlerIterator([title]))[0]);\n\t\tif(self.commander.verbose) {\n\t\t\tconsole.log(\"Saving \\\"\" + title + \"\\\" to \\\"\" + filepath + \"\\\"\");\n\t\t}\n\t\t$tw.utils.createFileDirectories(filepath);\n\t\tfs.writeFileSync(filepath,tiddler.fields.text,contentTypeInfo.encoding);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/savelibrarytiddlers.js": {
            "title": "$:/core/modules/commands/savelibrarytiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/savelibrarytiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save the subtiddlers of a bundle tiddler as a series of JSON files\n\n--savelibrarytiddlers &lt;tiddler&gt; &lt;tiddler-filter&gt; &lt;pathname&gt; &lt;skinnylisting&gt;\n\nThe tiddler identifies the bundle tiddler that contains the subtiddlers.\n\nThe tiddler filter specifies the plugins to be included.\n\nThe pathname specifies the pathname to the folder in which the JSON files should be saved. The filename is the URL encoded title of the subtiddler.\n\nThe skinnylisting specifies the title of the tiddler to which a JSON catalogue of the subtiddlers will be saved. The JSON file contains the same data as the bundle tiddler but with the `text` field removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"savelibrarytiddlers\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\tcontainerTitle = this.params[0],\n\t\tfilter = this.params[1],\n\t\tbasepath = this.params[2],\n\t\tskinnyListTitle = this.params[3];\n\t// Get the container tiddler as data\n\tvar containerData = self.commander.wiki.getTiddlerDataCached(containerTitle,undefined);\n\tif(!containerData) {\n\t\treturn \"'\" + containerTitle + \"' is not a tiddler bundle\";\n\t}\n\t// Filter the list of plugins\n\tvar pluginList = [];\n\t$tw.utils.each(containerData.tiddlers,function(tiddler,title) {\n\t\tpluginList.push(title);\n\t});\n\tvar filteredPluginList;\n\tif(filter) {\n\t\tfilteredPluginList = self.commander.wiki.filterTiddlers(filter,null,self.commander.wiki.makeTiddlerIterator(pluginList));\n\t} else {\n\t\tfilteredPluginList = pluginList;\n\t}\n\t// Iterate through the plugins\n\tvar skinnyList = [];\n\t$tw.utils.each(filteredPluginList,function(title) {\n\t\tvar tiddler = containerData.tiddlers[title];\n\t\t// Save each JSON file and collect the skinny data\n\t\tvar pathname = path.resolve(self.commander.outputPath,basepath + encodeURIComponent(title) + \".json\");\n\t\t$tw.utils.createFileDirectories(pathname);\n\t\tfs.writeFileSync(pathname,JSON.stringify(tiddler),\"utf8\");\n\t\t// Collect the skinny list data\n\t\tvar pluginTiddlers = JSON.parse(tiddler.text),\n\t\t\treadmeContent = (pluginTiddlers.tiddlers[title + \"/readme\"] || {}).text,\n\t\t\tdoesRequireReload = !!self.commander.wiki.doesPluginInfoRequireReload(pluginTiddlers),\n\t\t\ticonTiddler = pluginTiddlers.tiddlers[title + \"/icon\"] || {},\n\t\t\ticonType = iconTiddler.type,\n\t\t\ticonText = iconTiddler.text,\n\t\t\ticonContent;\n\t\tif(iconType &amp;&amp; iconText) {\n\t\t\ticonContent = $tw.utils.makeDataUri(iconText,iconType);\n\t\t}\n\t\tskinnyList.push($tw.utils.extend({},tiddler,{\n\t\t\ttext: undefined,\n\t\t\treadme: readmeContent,\n\t\t\t\"requires-reload\": doesRequireReload ? \"yes\" : \"no\",\n\t\t\ticon: iconContent\n\t\t}));\n\t});\n\t// Save the catalogue tiddler\n\tif(skinnyListTitle) {\n\t\tself.commander.wiki.setTiddlerData(skinnyListTitle,skinnyList);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/savetiddler.js": {
            "title": "$:/core/modules/commands/savetiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/savetiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save the content of a tiddler to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"savetiddler\",\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttiddler = this.commander.wiki.getTiddler(title);\n\tif(tiddler) {\n\t\tvar type = tiddler.fields.type || \"text/vnd.tiddlywiki\",\n\t\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \"utf8\"};\n\t\t$tw.utils.createFileDirectories(filename);\n\t\tfs.writeFile(filename,tiddler.fields.text,contentTypeInfo.encoding,function(err) {\n\t\t\tself.callback(err);\n\t\t});\n\t} else {\n\t\treturn \"Missing tiddler: \" + title;\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/savetiddlers.js": {
            "title": "$:/core/modules/commands/savetiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/savetiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.info = {\n\tname: \"savetiddlers\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tpathname = path.resolve(this.commander.outputPath,this.params[1]),\n\t\tdeleteDirectory = (this.params[2] || \"\").toLowerCase() !== \"noclean\",\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\tif(deleteDirectory) {\n\t\t$tw.utils.deleteDirectory(pathname);\n\t}\n\t$tw.utils.createDirectory(pathname);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.commander.wiki.getTiddler(title),\n\t\t\ttype = tiddler.fields.type || \"text/vnd.tiddlywiki\",\n\t\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \"utf8\"},\n\t\t\tfilename = path.resolve(pathname,encodeURIComponent(title));\n\t\tfs.writeFileSync(filename,tiddler.fields.text,contentTypeInfo.encoding);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/savewikifolder.js": {
            "title": "$:/core/modules/commands/savewikifolder.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/savewikifolder.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save the current wiki as a wiki folder\n\n--savewikifolder &lt;wikifolderpath&gt; [&lt;filter&gt;]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"savewikifolder\",\n\tsynchronous: true\n};\n\nvar fs,path;\nif($tw.node) {\n\tfs = require(\"fs\");\n\tpath = require(\"path\");\n}\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing wiki folder path\";\n\t}\n\tvar wikifoldermaker = new WikiFolderMaker(this.params[0],this.params[1],this.commander);\n\treturn wikifoldermaker.save();\n};\n\nfunction WikiFolderMaker(wikiFolderPath,wikiFilter,commander) {\n\tthis.wikiFolderPath = wikiFolderPath;\n\tthis.wikiFilter = wikiFilter || \"[all[tiddlers]]\";\n\tthis.commander = commander;\n\tthis.wiki = commander.wiki;\n\tthis.savedPaths = []; // So that we can detect filename clashes\n}\n\nWikiFolderMaker.prototype.log = function(str) {\n\tif(this.commander.verbose) {\n\t\tconsole.log(str);\n\t}\n};\n\nWikiFolderMaker.prototype.tiddlersToIgnore = [\n\t\"$:/boot/boot.css\",\n\t\"$:/boot/boot.js\",\n\t\"$:/boot/bootprefix.js\",\n\t\"$:/core\",\n\t\"$:/library/sjcl.js\",\n\t\"$:/temp/info-plugin\"\n];\n\n/*\nReturns null if successful, or an error string if there was an error\n*/\nWikiFolderMaker.prototype.save = function() {\n\tvar self = this;\n\t// Check that the output directory doesn't exist\n\tif(fs.existsSync(this.wikiFolderPath) &amp;&amp; !$tw.utils.isDirectoryEmpty(this.wikiFolderPath)) {\n\t\treturn \"The unpackwiki command requires that the output wiki folder be empty\";\n\t}\n\t// Get the tiddlers from the source wiki\n\tvar tiddlerTitles = this.wiki.filterTiddlers(this.wikiFilter);\n\t// Initialise a new tiddlwiki.info file\n\tvar newWikiInfo = {};\n\t// Process each incoming tiddler in turn\n\t$tw.utils.each(tiddlerTitles,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\tif(tiddler) {\n\t\t\tif(self.tiddlersToIgnore.indexOf(title) !== -1) {\n\t\t\t\t// Ignore the core plugin and the ephemeral info plugin\n\t\t\t\tself.log(\"Ignoring tiddler: \" + title);\n\t\t\t} else {\n\t\t\t\tvar type = tiddler.fields.type,\n\t\t\t\t\tpluginType = tiddler.fields[\"plugin-type\"];\n\t\t\t\tif(type === \"application/json\" &amp;&amp; pluginType) {\n\t\t\t\t\t// Plugin tiddler\n\t\t\t\t\tvar libraryDetails = self.findPluginInLibrary(title);\n\t\t\t\t\tif(libraryDetails) {\n\t\t\t\t\t\t// A plugin from the core library\n\t\t\t\t\t\tself.log(\"Adding built-in plugin: \" + libraryDetails.name);\n\t\t\t\t\t\tnewWikiInfo[libraryDetails.type] = newWikiInfo[libraryDetails.type]  || [];\n\t\t\t\t\t\t$tw.utils.pushTop(newWikiInfo[libraryDetails.type],libraryDetails.name);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// A custom plugin\n\t\t\t\t\t\tself.log(\"Processing custom plugin: \" + title);\n\t\t\t\t\t\tself.saveCustomPlugin(tiddler);\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t// Ordinary tiddler\n\t\t\t\t\tself.saveTiddler(\"tiddlers\",tiddler);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// Save the tiddlywiki.info file\n\tthis.saveJSONFile(\"tiddlywiki.info\",newWikiInfo);\n\tself.log(\"Writing tiddlywiki.info: \" + JSON.stringify(newWikiInfo,null,$tw.config.preferences.jsonSpaces));\n\treturn null;\n};\n\n/*\nTest whether the specified tiddler is a plugin in the plugin library\n*/\nWikiFolderMaker.prototype.findPluginInLibrary = function(title) {\n\tvar parts = title.split(\"/\"),\n\t\tpluginPath, type, name;\n\tif(parts[0] === \"$:\") {\n\t\tif(parts[1] === \"languages\" &amp;&amp; parts.length === 3) {\n\t\t\tpluginPath = \"languages\" + path.sep + parts[2];\n\t\t\ttype = parts[1];\n\t\t\tname = parts[2];\n\t\t} else if(parts[1] === \"plugins\" || parts[1] === \"themes\" &amp;&amp; parts.length === 4) {\n\t\t\tpluginPath = parts[1] + path.sep + parts[2] + path.sep + parts[3];\n\t\t\ttype = parts[1];\n\t\t\tname = parts[2] + \"/\" + parts[3];\n\t\t}\n\t}\n\tif(pluginPath &amp;&amp; type &amp;&amp; name) {\n\t\tpluginPath = path.resolve($tw.boot.bootPath,\"..\",pluginPath);\n\t\tif(fs.existsSync(pluginPath)) {\n\t\t\treturn {\n\t\t\t\tpluginPath: pluginPath,\n\t\t\t\ttype: type,\n\t\t\t\tname: name\n\t\t\t};\n\t\t}\n\t}\n\treturn false;\n};\n\nWikiFolderMaker.prototype.saveCustomPlugin = function(pluginTiddler) {\n\tvar self = this,\n\t\tpluginTitle = pluginTiddler.fields.title,\n\t\ttitleParts = pluginTitle.split(\"/\"),\n\t\tdirectory = $tw.utils.generateTiddlerFilepath(titleParts[titleParts.length - 1],{\n\t\t\tdirectory: path.resolve(this.wikiFolderPath,pluginTiddler.fields[\"plugin-type\"] + \"s\")\n\t\t}),\n\t\tpluginInfo = pluginTiddler.getFieldStrings({exclude: [\"text\",\"type\"]});\n\tthis.saveJSONFile(directory + path.sep + \"plugin.info\",pluginInfo);\n\tself.log(\"Writing \" + directory + path.sep + \"plugin.info: \" + JSON.stringify(pluginInfo,null,$tw.config.preferences.jsonSpaces));\n\tvar pluginTiddlers = JSON.parse(pluginTiddler.fields.text).tiddlers; // A hashmap of tiddlers in the plugin\n\t$tw.utils.each(pluginTiddlers,function(tiddler) {\n\t\tself.saveTiddler(directory,new $tw.Tiddler(tiddler));\n\t});\n};\n\nWikiFolderMaker.prototype.saveTiddler = function(directory,tiddler) {\n\tvar title = tiddler.fields.title, fileInfo, pathFilters, extFilters;\n\tif(this.wiki.tiddlerExists(\"$:/config/FileSystemPaths\")) {\n\t\tpathFilters = this.wiki.getTiddlerText(\"$:/config/FileSystemPaths\",\"\").split(\"\\n\");\n\t}\n\tif(this.wiki.tiddlerExists(\"$:/config/FileSystemExtensions\")) {\n\t\textFilters = this.wiki.getTiddlerText(\"$:/config/FileSystemExtensions\",\"\").split(\"\\n\");\n\t}\n\tvar fileInfo = $tw.utils.generateTiddlerFileInfo(tiddler,{\n\t\tdirectory: path.resolve(this.wikiFolderPath,directory),\n\t\tpathFilters: pathFilters,\n\t\textFilters: extFilters,\n\t\twiki: this.wiki,\n\t\tfileInfo: {}\n\t});\n\ttry {\n\t\t$tw.utils.saveTiddlerToFileSync(tiddler,fileInfo);\n\t} catch (err) {\n\t\tconsole.log(\"SaveWikiFolder: Error saving file '\" + fileInfo.filepath + \"', tiddler: '\" + tiddler.fields.title);\n\t}\n};\n\nWikiFolderMaker.prototype.saveJSONFile = function(filename,json) {\n\tthis.saveTextFile(filename,JSON.stringify(json,null,$tw.config.preferences.jsonSpaces));\n};\n\nWikiFolderMaker.prototype.saveTextFile = function(filename,data) {\n\tthis.saveFile(filename,\"utf8\",data);\n};\n\nWikiFolderMaker.prototype.saveFile = function(filename,encoding,data) {\n\tvar filepath = path.resolve(this.wikiFolderPath,filename);\n\t$tw.utils.createFileDirectories(filepath);\n\tfs.writeFileSync(filepath,data,encoding);\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/server.js": {
            "title": "$:/core/modules/commands/server.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/server.js\ntype: application/javascript\nmodule-type: command\n\nDeprecated legacy command for serving tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Server = require(\"$:/core/modules/server/server.js\").Server;\n\nexports.info = {\n\tname: \"server\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tvar self = this;\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(!$tw.boot.wikiTiddlersPath) {\n\t\t$tw.utils.warning(\"Warning: Wiki folder '\" + $tw.boot.wikiPath + \"' does not exist or is missing a tiddlywiki.info file\");\n\t}\n\t// Set up server\n\tthis.server = new Server({\n\t\twiki: this.commander.wiki,\n\t\tvariables: {\n\t\t\tport: this.params[0],\n\t\t\thost: this.params[6],\n\t\t\t\"root-tiddler\": this.params[1],\n\t\t\t\"root-render-type\": this.params[2],\n\t\t\t\"root-serve-type\": this.params[3],\n\t\t\tusername: this.params[4],\n\t\t\tpassword: this.params[5],\n\t\t\t\"path-prefix\": this.params[7],\n\t\t\t\"debug-level\": this.params[8]\n\t\t}\n\t});\n\tvar nodeServer = this.server.listen();\n\t$tw.hooks.invokeHook(\"th-server-command-post-start\",this.server,nodeServer,\"tiddlywiki\");\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/setfield.js": {
            "title": "$:/core/modules/commands/setfield.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/setfield.js\ntype: application/javascript\nmodule-type: command\n\nCommand to modify selected tiddlers to set a field to the text of a template tiddler that has been wikified with the selected tiddler as the current tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.info = {\n\tname: \"setfield\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 4) {\n\t\treturn \"Missing parameters\";\n\t}\n\tvar self = this,\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tfieldname = this.params[1] || \"text\",\n\t\ttemplatetitle = this.params[2],\n\t\trendertype = this.params[3] || \"text/plain\",\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(templatetitle),\n\t\t\tnewFields = {},\n\t\t\ttiddler = wiki.getTiddler(title);\n\t\tif(parser) {\n\t\t\tvar widgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}});\n\t\t\tvar container = $tw.fakeDocument.createElement(\"div\");\n\t\t\twidgetNode.render(container,null);\n\t\t\tnewFields[fieldname] = rendertype === \"text/html\" ? container.innerHTML : container.textContent;\n\t\t} else {\n\t\t\tnewFields[fieldname] = undefined;\n\t\t}\n\t\twiki.addTiddler(new $tw.Tiddler(tiddler,newFields));\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/unpackplugin.js": {
            "title": "$:/core/modules/commands/unpackplugin.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/unpackplugin.js\ntype: application/javascript\nmodule-type: command\n\nCommand to extract the shadow tiddlers from within a plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"unpackplugin\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing plugin name\";\n\t}\n\tvar self = this,\n\t\ttitle = this.params[0],\n\t\tpluginData = this.commander.wiki.getTiddlerDataCached(title);\n\tif(!pluginData) {\n\t\treturn \"Plugin '\" + title + \"' not found\";\n\t}\n\t$tw.utils.each(pluginData.tiddlers,function(tiddler) {\n\t\tself.commander.wiki.addTiddler(new $tw.Tiddler(tiddler));\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/verbose.js": {
            "title": "$:/core/modules/commands/verbose.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/verbose.js\ntype: application/javascript\nmodule-type: command\n\nVerbose command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"verbose\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.verbose = true;\n\t// Output the boot message log\n\tthis.commander.streams.output.write(\"Boot log:\\n  \" + $tw.boot.logMessages.join(\"\\n  \") + \"\\n\");\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/version.js": {
            "title": "$:/core/modules/commands/version.js",
            "text": "/*\\\ntitle: $:/core/modules/commands/version.js\ntype: application/javascript\nmodule-type: command\n\nVersion command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"version\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.streams.output.write($tw.version + \"\\n\");\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/config.js": {
            "title": "$:/core/modules/config.js",
            "text": "/*\\\ntitle: $:/core/modules/config.js\ntype: application/javascript\nmodule-type: config\n\nCore configuration constants\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.preferences = {};\n\nexports.preferences.notificationDuration = 3 * 1000;\nexports.preferences.jsonSpaces = 4;\n\nexports.textPrimitives = {\n\tupperLetter: \"[A-Z\\u00c0-\\u00d6\\u00d8-\\u00de\\u0150\\u0170]\",\n\tlowerLetter: \"[a-z\\u00df-\\u00f6\\u00f8-\\u00ff\\u0151\\u0171]\",\n\tanyLetter:   \"[A-Za-z0-9\\u00c0-\\u00d6\\u00d8-\\u00de\\u00df-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]\",\n\tblockPrefixLetters:\t\"[A-Za-z0-9-_\\u00c0-\\u00d6\\u00d8-\\u00de\\u00df-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]\"\n};\n\nexports.textPrimitives.unWikiLink = \"~\";\nexports.textPrimitives.wikiLink = exports.textPrimitives.upperLetter + \"+\" +\n\texports.textPrimitives.lowerLetter + \"+\" +\n\texports.textPrimitives.upperLetter +\n\texports.textPrimitives.anyLetter + \"*\";\n\nexports.htmlEntities = {quot:34, amp:38, apos:39, lt:60, gt:62, nbsp:160, iexcl:161, cent:162, pound:163, curren:164, yen:165, brvbar:166, sect:167, uml:168, copy:169, ordf:170, laquo:171, not:172, shy:173, reg:174, macr:175, deg:176, plusmn:177, sup2:178, sup3:179, acute:180, micro:181, para:182, middot:183, cedil:184, sup1:185, ordm:186, raquo:187, frac14:188, frac12:189, frac34:190, iquest:191, Agrave:192, Aacute:193, Acirc:194, Atilde:195, Auml:196, Aring:197, AElig:198, Ccedil:199, Egrave:200, Eacute:201, Ecirc:202, Euml:203, Igrave:204, Iacute:205, Icirc:206, Iuml:207, ETH:208, Ntilde:209, Ograve:210, Oacute:211, Ocirc:212, Otilde:213, Ouml:214, times:215, Oslash:216, Ugrave:217, Uacute:218, Ucirc:219, Uuml:220, Yacute:221, THORN:222, szlig:223, agrave:224, aacute:225, acirc:226, atilde:227, auml:228, aring:229, aelig:230, ccedil:231, egrave:232, eacute:233, ecirc:234, euml:235, igrave:236, iacute:237, icirc:238, iuml:239, eth:240, ntilde:241, ograve:242, oacute:243, ocirc:244, otilde:245, ouml:246, divide:247, oslash:248, ugrave:249, uacute:250, ucirc:251, uuml:252, yacute:253, thorn:254, yuml:255, OElig:338, oelig:339, Scaron:352, scaron:353, Yuml:376, fnof:402, circ:710, tilde:732, Alpha:913, Beta:914, Gamma:915, Delta:916, Epsilon:917, Zeta:918, Eta:919, Theta:920, Iota:921, Kappa:922, Lambda:923, Mu:924, Nu:925, Xi:926, Omicron:927, Pi:928, Rho:929, Sigma:931, Tau:932, Upsilon:933, Phi:934, Chi:935, Psi:936, Omega:937, alpha:945, beta:946, gamma:947, delta:948, epsilon:949, zeta:950, eta:951, theta:952, iota:953, kappa:954, lambda:955, mu:956, nu:957, xi:958, omicron:959, pi:960, rho:961, sigmaf:962, sigma:963, tau:964, upsilon:965, phi:966, chi:967, psi:968, omega:969, thetasym:977, upsih:978, piv:982, ensp:8194, emsp:8195, thinsp:8201, zwnj:8204, zwj:8205, lrm:8206, rlm:8207, ndash:8211, mdash:8212, lsquo:8216, rsquo:8217, sbquo:8218, ldquo:8220, rdquo:8221, bdquo:8222, dagger:8224, Dagger:8225, bull:8226, hellip:8230, permil:8240, prime:8242, Prime:8243, lsaquo:8249, rsaquo:8250, oline:8254, frasl:8260, euro:8364, image:8465, weierp:8472, real:8476, trade:8482, alefsym:8501, larr:8592, uarr:8593, rarr:8594, darr:8595, harr:8596, crarr:8629, lArr:8656, uArr:8657, rArr:8658, dArr:8659, hArr:8660, forall:8704, part:8706, exist:8707, empty:8709, nabla:8711, isin:8712, notin:8713, ni:8715, prod:8719, sum:8721, minus:8722, lowast:8727, radic:8730, prop:8733, infin:8734, ang:8736, and:8743, or:8744, cap:8745, cup:8746, int:8747, there4:8756, sim:8764, cong:8773, asymp:8776, ne:8800, equiv:8801, le:8804, ge:8805, sub:8834, sup:8835, nsub:8836, sube:8838, supe:8839, oplus:8853, otimes:8855, perp:8869, sdot:8901, lceil:8968, rceil:8969, lfloor:8970, rfloor:8971, lang:9001, rang:9002, loz:9674, spades:9824, clubs:9827, hearts:9829, diams:9830 };\n\nexports.htmlVoidElements = \"area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr\".split(\",\");\n\nexports.htmlBlockElements = \"address,article,aside,audio,blockquote,canvas,dd,div,dl,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,hr,li,noscript,ol,output,p,pre,section,table,tfoot,ul,video\".split(\",\");\n\nexports.htmlUnsafeElements = \"script\".split(\",\");\n\n})();\n",
            "type": "application/javascript",
            "module-type": "config"
        },
        "$:/core/modules/deserializers.js": {
            "title": "$:/core/modules/deserializers.js",
            "text": "/*\\\ntitle: $:/core/modules/deserializers.js\ntype: application/javascript\nmodule-type: tiddlerdeserializer\n\nFunctions to deserialise tiddlers from a block of text\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nUtility function to parse an old-style tiddler DIV in a *.tid file. It looks like this:\n\n&lt;div title=\"Title\" creator=\"JoeBloggs\" modifier=\"JoeBloggs\" created=\"201102111106\" modified=\"201102111310\" tags=\"myTag [[my long tag]]\"&gt;\n&lt;pre&gt;The text of the tiddler (without the expected HTML encoding).\n&lt;/pre&gt;\n&lt;/div&gt;\n\nNote that the field attributes are HTML encoded, but that the body of the &lt;PRE&gt; tag is not encoded.\n\nWhen these tiddler DIVs are encountered within a TiddlyWiki HTML file then the body is encoded in the usual way.\n*/\nvar parseTiddlerDiv = function(text /* [,fields] */) {\n\t// Slot together the default results\n\tvar result = {};\n\tif(arguments.length &gt; 1) {\n\t\tfor(var f=1; f&lt;arguments.length; f++) {\n\t\t\tvar fields = arguments[f];\n\t\t\tfor(var t in fields) {\n\t\t\t\tresult[t] = fields[t];\t\t\n\t\t\t}\n\t\t}\n\t}\n\t// Parse the DIV body\n\tvar startRegExp = /^\\s*&lt;div\\s+([^&gt;]*)&gt;(\\s*&lt;pre&gt;)?/gi,\n\t\tendRegExp,\n\t\tmatch = startRegExp.exec(text);\n\tif(match) {\n\t\t// Old-style DIVs don't have the &lt;pre&gt; tag\n\t\tif(match[2]) {\n\t\t\tendRegExp = /&lt;\\/pre&gt;\\s*&lt;\\/div&gt;\\s*$/gi;\n\t\t} else {\n\t\t\tendRegExp = /&lt;\\/div&gt;\\s*$/gi;\n\t\t}\n\t\tvar endMatch = endRegExp.exec(text);\n\t\tif(endMatch) {\n\t\t\t// Extract the text\n\t\t\tresult.text = text.substring(match.index + match[0].length,endMatch.index);\n\t\t\t// Process the attributes\n\t\t\tvar attrRegExp = /\\s*([^=\\s]+)\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)')/gi,\n\t\t\t\tattrMatch;\n\t\t\tdo {\n\t\t\t\tattrMatch = attrRegExp.exec(match[1]);\n\t\t\t\tif(attrMatch) {\n\t\t\t\t\tvar name = attrMatch[1];\n\t\t\t\t\tvar value = attrMatch[2] !== undefined ? attrMatch[2] : attrMatch[3];\n\t\t\t\t\tresult[name] = value;\n\t\t\t\t}\n\t\t\t} while(attrMatch);\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports[\"application/x-tiddler-html-div\"] = function(text,fields) {\n\treturn [parseTiddlerDiv(text,fields)];\n};\n\nexports[\"application/json\"] = function(text,fields) {\n\tvar incoming,\n\t\tresults = [];\n\ttry {\n\t\tincoming = JSON.parse(text);\n\t} catch(e) {\n\t\tincoming = [{\n\t\t\ttitle: \"JSON error: \" + e,\n\t\t\ttext: \"\"\n\t\t}]\n\t}\n\tif(!$tw.utils.isArray(incoming)) {\n\t\tincoming = [incoming];\n\t}\n\tfor(var t=0; t&lt;incoming.length; t++) {\n\t\tvar incomingFields = incoming[t],\n\t\t\tfields = {};\n\t\tfor(var f in incomingFields) {\n\t\t\tif(typeof incomingFields[f] === \"string\") {\n\t\t\t\tfields[f] = incomingFields[f];\n\t\t\t}\n\t\t}\n\t\tresults.push(fields);\n\t}\n\treturn results;\n};\n\n/*\nParse an HTML file into tiddlers. There are three possibilities:\n# A TiddlyWiki classic HTML file containing `text/x-tiddlywiki` tiddlers\n# A TiddlyWiki5 HTML file containing `text/vnd.tiddlywiki` tiddlers\n# An ordinary HTML file\n*/\nexports[\"text/html\"] = function(text,fields) {\n\t// Check if we've got a store area\n\tvar storeAreaMarkerRegExp = /&lt;div id=[\"']?storeArea['\"]?( style=[\"']?display:none;[\"']?)?&gt;/gi,\n\t\tmatch = storeAreaMarkerRegExp.exec(text);\n\tif(match) {\n\t\t// If so, it's either a classic TiddlyWiki file or an unencrypted TW5 file\n\t\t// First read the normal tiddlers\n\t\tvar results = deserializeTiddlyWikiFile(text,storeAreaMarkerRegExp.lastIndex,!!match[1],fields);\n\t\t// Then any system tiddlers\n\t\tvar systemAreaMarkerRegExp = /&lt;div id=[\"']?systemArea['\"]?( style=[\"']?display:none;[\"']?)?&gt;/gi,\n\t\t\tsysMatch = systemAreaMarkerRegExp.exec(text);\n\t\tif(sysMatch) {\n\t\t\tresults.push.apply(results,deserializeTiddlyWikiFile(text,systemAreaMarkerRegExp.lastIndex,!!sysMatch[1],fields));\n\t\t}\n\t\treturn results;\n\t} else {\n\t\t// Check whether we've got an encrypted file\n\t\tvar encryptedStoreArea = $tw.utils.extractEncryptedStoreArea(text);\n\t\tif(encryptedStoreArea) {\n\t\t\t// If so, attempt to decrypt it using the current password\n\t\t\treturn $tw.utils.decryptStoreArea(encryptedStoreArea);\n\t\t} else {\n\t\t\t// It's not a TiddlyWiki so we'll return the entire HTML file as a tiddler\n\t\t\treturn deserializeHtmlFile(text,fields);\n\t\t}\n\t}\n};\n\nfunction deserializeHtmlFile(text,fields) {\n\tvar result = {};\n\t$tw.utils.each(fields,function(value,name) {\n\t\tresult[name] = value;\n\t});\n\tresult.text = text;\n\tresult.type = \"text/html\";\n\treturn [result];\n}\n\nfunction deserializeTiddlyWikiFile(text,storeAreaEnd,isTiddlyWiki5,fields) {\n\tvar results = [],\n\t\tendOfDivRegExp = /(&lt;\\/div&gt;\\s*)/gi,\n\t\tstartPos = storeAreaEnd,\n\t\tdefaultType = isTiddlyWiki5 ? undefined : \"text/x-tiddlywiki\";\n\tendOfDivRegExp.lastIndex = startPos;\n\tvar match = endOfDivRegExp.exec(text);\n\twhile(match) {\n\t\tvar endPos = endOfDivRegExp.lastIndex,\n\t\t\ttiddlerFields = parseTiddlerDiv(text.substring(startPos,endPos),fields,{type: defaultType});\n\t\tif(!tiddlerFields) {\n\t\t\tbreak;\n\t\t}\n\t\t$tw.utils.each(tiddlerFields,function(value,name) {\n\t\t\tif(typeof value === \"string\") {\n\t\t\t\ttiddlerFields[name] = $tw.utils.htmlDecode(value);\n\t\t\t}\n\t\t});\n\t\tif(tiddlerFields.text !== null) {\n\t\t\tresults.push(tiddlerFields);\n\t\t}\n\t\tstartPos = endPos;\n\t\tmatch = endOfDivRegExp.exec(text);\n\t}\n\treturn results;\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "tiddlerdeserializer"
        },
        "$:/core/modules/editor/engines/framed.js": {
            "title": "$:/core/modules/editor/engines/framed.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/engines/framed.js\ntype: application/javascript\nmodule-type: library\n\nText editor engine based on a simple input or textarea within an iframe. This is done so that the selection is preserved even when clicking away from the textarea\n\n\\*/\n(function(){\n\n/*jslint node: true,browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar HEIGHT_VALUE_TITLE = \"$:/config/TextEditor/EditorHeight/Height\";\n\nfunction FramedEngine(options) {\n\t// Save our options\n\toptions = options || {};\n\tthis.widget = options.widget;\n\tthis.value = options.value;\n\tthis.parentNode = options.parentNode;\n\tthis.nextSibling = options.nextSibling;\n\t// Create our hidden dummy text area for reading styles\n\tthis.dummyTextArea = this.widget.document.createElement(\"textarea\");\n\tif(this.widget.editClass) {\n\t\tthis.dummyTextArea.className = this.widget.editClass;\n\t}\n\tthis.dummyTextArea.setAttribute(\"hidden\",\"true\");\n\tthis.parentNode.insertBefore(this.dummyTextArea,this.nextSibling);\n\tthis.widget.domNodes.push(this.dummyTextArea);\n\t// Create the iframe\n\tthis.iframeNode = this.widget.document.createElement(\"iframe\");\n\tthis.parentNode.insertBefore(this.iframeNode,this.nextSibling);\n\tthis.iframeDoc = this.iframeNode.contentWindow.document;\n\t// (Firefox requires us to put some empty content in the iframe)\n\tthis.iframeDoc.open();\n\tthis.iframeDoc.write(\"\");\n\tthis.iframeDoc.close();\n\t// Style the iframe\n\tthis.iframeNode.className = this.dummyTextArea.className;\n\tthis.iframeNode.style.border = \"none\";\n\tthis.iframeNode.style.padding = \"0\";\n\tthis.iframeNode.style.resize = \"none\";\n\tthis.iframeDoc.body.style.margin = \"0\";\n\tthis.iframeDoc.body.style.padding = \"0\";\n\tthis.widget.domNodes.push(this.iframeNode);\n\t// Construct the textarea or input node\n\tvar tag = this.widget.editTag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \"input\";\n\t}\n\tthis.domNode = this.iframeDoc.createElement(tag);\n\t// Set the text\n\tif(this.widget.editTag === \"textarea\") {\n\t\tthis.domNode.appendChild(this.iframeDoc.createTextNode(this.value));\n\t} else {\n\t\tthis.domNode.value = this.value;\n\t}\n\t// Set the attributes\n\tif(this.widget.editType) {\n\t\tthis.domNode.setAttribute(\"type\",this.widget.editType);\n\t}\n\tif(this.widget.editPlaceholder) {\n\t\tthis.domNode.setAttribute(\"placeholder\",this.widget.editPlaceholder);\n\t}\n\tif(this.widget.editSize) {\n\t\tthis.domNode.setAttribute(\"size\",this.widget.editSize);\n\t}\n\tif(this.widget.editRows) {\n\t\tthis.domNode.setAttribute(\"rows\",this.widget.editRows);\n\t}\n\tif(this.widget.editTabIndex) {\n\t\tthis.iframeNode.setAttribute(\"tabindex\",this.widget.editTabIndex);\n\t}\n\tif(this.widget.editAutoComplete) {\n\t\tthis.domNode.setAttribute(\"autocomplete\",this.widget.editAutoComplete);\n\t}\n\tif(this.widget.isDisabled === \"yes\") {\n\t\tthis.domNode.setAttribute(\"disabled\",true);\n\t}\t\n\t// Copy the styles from the dummy textarea\n\tthis.copyStyles();\n\t// Add event listeners\n\t$tw.utils.addEventListeners(this.domNode,[\n\t\t{name: \"click\",handlerObject: this,handlerMethod: \"handleClickEvent\"},\n\t\t{name: \"input\",handlerObject: this,handlerMethod: \"handleInputEvent\"},\n\t\t{name: \"keydown\",handlerObject: this.widget,handlerMethod: \"handleKeydownEvent\"},\n\t\t{name: \"focus\",handlerObject: this,handlerMethod: \"handleFocusEvent\"}\n\t]);\n\t// Insert the element into the DOM\n\tthis.iframeDoc.body.appendChild(this.domNode);\n}\n\n/*\nCopy styles from the dummy text area to the textarea in the iframe\n*/\nFramedEngine.prototype.copyStyles = function() {\n\t// Copy all styles\n\t$tw.utils.copyStyles(this.dummyTextArea,this.domNode);\n\t// Override the ones that should not be set the same as the dummy textarea\n\tthis.domNode.style.display = \"block\";\n\tthis.domNode.style.width = \"100%\";\n\tthis.domNode.style.margin = \"0\";\n\t// In Chrome setting -webkit-text-fill-color overrides the placeholder text colour\n\tthis.domNode.style[\"-webkit-text-fill-color\"] = \"currentcolor\";\n};\n\n/*\nSet the text of the engine if it doesn't currently have focus\n*/\nFramedEngine.prototype.setText = function(text,type) {\n\tif(!this.domNode.isTiddlyWikiFakeDom) {\n\t\tif(this.domNode.ownerDocument.activeElement !== this.domNode) {\n\t\t\tthis.updateDomNodeText(text);\n\t\t}\n\t\t// Fix the height if needed\n\t\tthis.fixHeight();\n\t}\n};\n\n/*\nUpdate the DomNode with the new text\n*/\nFramedEngine.prototype.updateDomNodeText = function(text) {\n\tthis.domNode.value = text;\n};\n\n/*\nGet the text of the engine\n*/\nFramedEngine.prototype.getText = function() {\n\treturn this.domNode.value;\n};\n\n/*\nFix the height of textarea to fit content\n*/\nFramedEngine.prototype.fixHeight = function() {\n\t// Make sure styles are updated\n\tthis.copyStyles();\n\t// Adjust height\n\tif(this.widget.editTag === \"textarea\") {\n\t\tif(this.widget.editAutoHeight) {\n\t\t\tif(this.domNode &amp;&amp; !this.domNode.isTiddlyWikiFakeDom) {\n\t\t\t\tvar newHeight = $tw.utils.resizeTextAreaToFit(this.domNode,this.widget.editMinHeight);\n\t\t\t\tthis.iframeNode.style.height = (newHeight + 14) + \"px\"; // +14 for the border on the textarea\n\t\t\t}\n\t\t} else {\n\t\t\tvar fixedHeight = parseInt(this.widget.wiki.getTiddlerText(HEIGHT_VALUE_TITLE,\"400px\"),10);\n\t\t\tfixedHeight = Math.max(fixedHeight,20);\n\t\t\tthis.domNode.style.height = fixedHeight + \"px\";\n\t\t\tthis.iframeNode.style.height = (fixedHeight + 14) + \"px\";\n\t\t}\n\t}\n};\n\n/*\nFocus the engine node\n*/\nFramedEngine.prototype.focus  = function() {\n\tif(this.domNode.focus &amp;&amp; this.domNode.select) {\n\t\tthis.domNode.focus();\n\t\tthis.domNode.select();\n\t}\n};\n\n/*\nHandle a focus event\n*/\nFramedEngine.prototype.handleFocusEvent = function(event) {\n\tif(this.widget.editCancelPopups) {\n\t\t$tw.popup.cancel(0);\t\n\t}\n};\n\n/*\nHandle a click\n*/\nFramedEngine.prototype.handleClickEvent = function(event) {\n\tthis.fixHeight();\n\treturn true;\n};\n\n/*\nHandle a dom \"input\" event which occurs when the text has changed\n*/\nFramedEngine.prototype.handleInputEvent = function(event) {\n\tthis.widget.saveChanges(this.getText());\n\tthis.fixHeight();\n\tif(this.widget.editInputActions) {\n\t\tthis.widget.invokeActionString(this.widget.editInputActions);\n\t}\n\treturn true;\n};\n\n/*\nCreate a blank structure representing a text operation\n*/\nFramedEngine.prototype.createTextOperation = function() {\n\tvar operation = {\n\t\ttext: this.domNode.value,\n\t\tselStart: this.domNode.selectionStart,\n\t\tselEnd: this.domNode.selectionEnd,\n\t\tcutStart: null,\n\t\tcutEnd: null,\n\t\treplacement: null,\n\t\tnewSelStart: null,\n\t\tnewSelEnd: null\n\t};\n\toperation.selection = operation.text.substring(operation.selStart,operation.selEnd);\n\treturn operation;\n};\n\n/*\nExecute a text operation\n*/\nFramedEngine.prototype.executeTextOperation = function(operation) {\n\t// Perform the required changes to the text area and the underlying tiddler\n\tvar newText = operation.text;\n\tif(operation.replacement !== null) {\n\t\tnewText = operation.text.substring(0,operation.cutStart) + operation.replacement + operation.text.substring(operation.cutEnd);\n\t\t// Attempt to use a execCommand to modify the value of the control\n\t\tif(this.iframeDoc.queryCommandSupported(\"insertText\") &amp;&amp; this.iframeDoc.queryCommandSupported(\"delete\") &amp;&amp; !$tw.browser.isFirefox) {\n\t\t\tthis.domNode.focus();\n\t\t\tthis.domNode.setSelectionRange(operation.cutStart,operation.cutEnd);\n\t\t\tif(operation.replacement === \"\") {\n\t\t\t\tthis.iframeDoc.execCommand(\"delete\",false,\"\");\n\t\t\t} else {\n\t\t\t\tthis.iframeDoc.execCommand(\"insertText\",false,operation.replacement);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.domNode.value = newText;\n\t\t}\n\t\tthis.domNode.focus();\n\t\tthis.domNode.setSelectionRange(operation.newSelStart,operation.newSelEnd);\n\t}\n\tthis.domNode.focus();\n\treturn newText;\n};\n\nexports.FramedEngine = FramedEngine;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "library"
        },
        "$:/core/modules/editor/engines/simple.js": {
            "title": "$:/core/modules/editor/engines/simple.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/engines/simple.js\ntype: application/javascript\nmodule-type: library\n\nText editor engine based on a simple input or textarea tag\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar HEIGHT_VALUE_TITLE = \"$:/config/TextEditor/EditorHeight/Height\";\n\nfunction SimpleEngine(options) {\n\t// Save our options\n\toptions = options || {};\n\tthis.widget = options.widget;\n\tthis.value = options.value;\n\tthis.parentNode = options.parentNode;\n\tthis.nextSibling = options.nextSibling;\n\t// Construct the textarea or input node\n\tvar tag = this.widget.editTag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \"input\";\n\t}\n\tthis.domNode = this.widget.document.createElement(tag);\n\t// Set the text\n\tif(this.widget.editTag === \"textarea\") {\n\t\tthis.domNode.appendChild(this.widget.document.createTextNode(this.value));\n\t} else {\n\t\tthis.domNode.value = this.value;\n\t}\n\t// Set the attributes\n\tif(this.widget.editType) {\n\t\tthis.domNode.setAttribute(\"type\",this.widget.editType);\n\t}\n\tif(this.widget.editPlaceholder) {\n\t\tthis.domNode.setAttribute(\"placeholder\",this.widget.editPlaceholder);\n\t}\n\tif(this.widget.editSize) {\n\t\tthis.domNode.setAttribute(\"size\",this.widget.editSize);\n\t}\n\tif(this.widget.editRows) {\n\t\tthis.domNode.setAttribute(\"rows\",this.widget.editRows);\n\t}\n\tif(this.widget.editClass) {\n\t\tthis.domNode.className = this.widget.editClass;\n\t}\n\tif(this.widget.editTabIndex) {\n\t\tthis.domNode.setAttribute(\"tabindex\",this.widget.editTabIndex);\n\t}\n\tif(this.widget.editAutoComplete) {\n\t\tthis.domNode.setAttribute(\"autocomplete\",this.widget.editAutoComplete);\n\t}\n\tif(this.widget.isDisabled === \"yes\") {\n\t\tthis.domNode.setAttribute(\"disabled\",true);\n\t}\n\t// Add an input event handler\n\t$tw.utils.addEventListeners(this.domNode,[\n\t\t{name: \"focus\", handlerObject: this, handlerMethod: \"handleFocusEvent\"},\n\t\t{name: \"input\", handlerObject: this, handlerMethod: \"handleInputEvent\"}\n\t]);\n\t// Insert the element into the DOM\n\tthis.parentNode.insertBefore(this.domNode,this.nextSibling);\n\tthis.widget.domNodes.push(this.domNode);\n}\n\n/*\nSet the text of the engine if it doesn't currently have focus\n*/\nSimpleEngine.prototype.setText = function(text,type) {\n\tif(!this.domNode.isTiddlyWikiFakeDom) {\n\t\tif(this.domNode.ownerDocument.activeElement !== this.domNode || text === \"\") {\n\t\t\tthis.updateDomNodeText(text);\n\t\t}\n\t\t// Fix the height if needed\n\t\tthis.fixHeight();\n\t}\n};\n\n/*\nUpdate the DomNode with the new text\n*/\nSimpleEngine.prototype.updateDomNodeText = function(text) {\n\tthis.domNode.value = text;\n};\n\n/*\nGet the text of the engine\n*/\nSimpleEngine.prototype.getText = function() {\n\treturn this.domNode.value;\n};\n\n/*\nFix the height of textarea to fit content\n*/\nSimpleEngine.prototype.fixHeight = function() {\n\tif(this.widget.editTag === \"textarea\") {\n\t\tif(this.widget.editAutoHeight) {\n\t\t\tif(this.domNode &amp;&amp; !this.domNode.isTiddlyWikiFakeDom) {\n\t\t\t\t$tw.utils.resizeTextAreaToFit(this.domNode,this.widget.editMinHeight);\n\t\t\t}\n\t\t} else {\n\t\t\tvar fixedHeight = parseInt(this.widget.wiki.getTiddlerText(HEIGHT_VALUE_TITLE,\"400px\"),10);\n\t\t\tfixedHeight = Math.max(fixedHeight,20);\n\t\t\tthis.domNode.style.height = fixedHeight + \"px\";\n\t\t}\n\t}\n};\n\n/*\nFocus the engine node\n*/\nSimpleEngine.prototype.focus  = function() {\n\tif(this.domNode.focus &amp;&amp; this.domNode.select) {\n\t\tthis.domNode.focus();\n\t\tthis.domNode.select();\n\t}\n};\n\n/*\nHandle a dom \"input\" event which occurs when the text has changed\n*/\nSimpleEngine.prototype.handleInputEvent = function(event) {\n\tthis.widget.saveChanges(this.getText());\n\tthis.fixHeight();\n\tif(this.widget.editInputActions) {\n\t\tthis.widget.invokeActionString(this.widget.editInputActions);\n\t}\n\treturn true;\n};\n\n/*\nHandle a dom \"focus\" event\n*/\nSimpleEngine.prototype.handleFocusEvent = function(event) {\n\tif(this.widget.editCancelPopups) {\n\t\t$tw.popup.cancel(0);\n\t}\n\tif(this.widget.editFocusPopup) {\n\t\t$tw.popup.triggerPopup({\n\t\t\tdomNode: this.domNode,\n\t\t\ttitle: this.widget.editFocusPopup,\n\t\t\twiki: this.widget.wiki,\n\t\t\tforce: true\n\t\t});\n\t}\n\treturn true;\n};\n\n/*\nCreate a blank structure representing a text operation\n*/\nSimpleEngine.prototype.createTextOperation = function() {\n\treturn null;\n};\n\n/*\nExecute a text operation\n*/\nSimpleEngine.prototype.executeTextOperation = function(operation) {\n};\n\nexports.SimpleEngine = SimpleEngine;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "library"
        },
        "$:/core/modules/editor/factory.js": {
            "title": "$:/core/modules/editor/factory.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/factory.js\ntype: application/javascript\nmodule-type: library\n\nFactory for constructing text editor widgets with specified engines for the toolbar and non-toolbar cases\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar DEFAULT_MIN_TEXT_AREA_HEIGHT = \"100px\"; // Minimum height of textareas in pixels\n\n// Configuration tiddlers\nvar HEIGHT_MODE_TITLE = \"$:/config/TextEditor/EditorHeight/Mode\";\nvar ENABLE_TOOLBAR_TITLE = \"$:/config/TextEditor/EnableToolbar\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nfunction editTextWidgetFactory(toolbarEngine,nonToolbarEngine) {\n\n\tvar EditTextWidget = function(parseTreeNode,options) {\n\t\t// Initialise the editor operations if they've not been done already\n\t\tif(!this.editorOperations) {\n\t\t\tEditTextWidget.prototype.editorOperations = {};\n\t\t\t$tw.modules.applyMethods(\"texteditoroperation\",this.editorOperations);\n\t\t}\n\t\tthis.initialise(parseTreeNode,options);\n\t};\n\n\t/*\n\tInherit from the base widget class\n\t*/\n\tEditTextWidget.prototype = new Widget();\n\n\t/*\n\tRender this widget into the DOM\n\t*/\n\tEditTextWidget.prototype.render = function(parent,nextSibling) {\n\t\t// Save the parent dom node\n\t\tthis.parentDomNode = parent;\n\t\t// Compute our attributes\n\t\tthis.computeAttributes();\n\t\t// Execute our logic\n\t\tthis.execute();\n\t\t// Create the wrapper for the toolbar and render its content\n\t\tif(this.editShowToolbar) {\n\t\t\tthis.toolbarNode = this.document.createElement(\"div\");\n\t\t\tthis.toolbarNode.className = \"tc-editor-toolbar\";\n\t\t\tparent.insertBefore(this.toolbarNode,nextSibling);\n\t\t\tthis.renderChildren(this.toolbarNode,null);\n\t\t\tthis.domNodes.push(this.toolbarNode);\n\t\t}\n\t\t// Create our element\n\t\tvar editInfo = this.getEditInfo(),\n\t\t\tEngine = this.editShowToolbar ? toolbarEngine : nonToolbarEngine;\n\t\tthis.engine = new Engine({\n\t\t\t\twidget: this,\n\t\t\t\tvalue: editInfo.value,\n\t\t\t\ttype: editInfo.type,\n\t\t\t\tparentNode: parent,\n\t\t\t\tnextSibling: nextSibling\n\t\t\t});\n\t\t// Call the postRender hook\n\t\tif(this.postRender) {\n\t\t\tthis.postRender();\n\t\t}\n\t\t// Fix height\n\t\tthis.engine.fixHeight();\n\t\t// Focus if required\n\t\tif(this.editFocus === \"true\" || this.editFocus === \"yes\") {\n\t\t\tthis.engine.focus();\n\t\t}\n\t\t// Add widget message listeners\n\t\tthis.addEventListeners([\n\t\t\t{type: \"tm-edit-text-operation\", handler: \"handleEditTextOperationMessage\"}\n\t\t]);\n\t};\n\n\t/*\n\tGet the tiddler being edited and current value\n\t*/\n\tEditTextWidget.prototype.getEditInfo = function() {\n\t\t// Get the edit value\n\t\tvar self = this,\n\t\t\tvalue,\n\t\t\ttype = \"text/plain\",\n\t\t\tupdate;\n\t\tif(this.editIndex) {\n\t\t\tvalue = this.wiki.extractTiddlerDataItem(this.editTitle,this.editIndex,this.editDefault);\n\t\t\tupdate = function(value) {\n\t\t\t\tvar data = self.wiki.getTiddlerData(self.editTitle,{});\n\t\t\t\tif(data[self.editIndex] !== value) {\n\t\t\t\t\tdata[self.editIndex] = value;\n\t\t\t\t\tself.wiki.setTiddlerData(self.editTitle,data);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\t// Get the current tiddler and the field name\n\t\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\t\tif(tiddler) {\n\t\t\t\t// If we've got a tiddler, the value to display is the field string value\n\t\t\t\tif(tiddler.hasField(this.editField)) {\n\t\t\t\t\tvalue = tiddler.getFieldString(this.editField);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = this.editDefault || \"\";\n\t\t\t\t}\n\t\t\t\tif(this.editField === \"text\") {\n\t\t\t\t\ttype = tiddler.fields.type || \"text/vnd.tiddlywiki\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Otherwise, we need to construct a default value for the editor\n\t\t\t\tswitch(this.editField) {\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\tvalue = \"Type the text for the tiddler '\" + this.editTitle + \"'\";\n\t\t\t\t\t\ttype = \"text/vnd.tiddlywiki\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"title\":\n\t\t\t\t\t\tvalue = this.editTitle;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(this.editDefault !== undefined) {\n\t\t\t\t\tvalue = this.editDefault;\n\t\t\t\t}\n\t\t\t}\n\t\t\tupdate = function(value) {\n\t\t\t\tvar tiddler = self.wiki.getTiddler(self.editTitle),\n\t\t\t\t\tupdateFields = {\n\t\t\t\t\t\ttitle: self.editTitle\n\t\t\t\t\t};\n\t\t\t\tupdateFields[self.editField] = value;\n\t\t\t\tself.wiki.addTiddler(new $tw.Tiddler(self.wiki.getCreationFields(),tiddler,updateFields,self.wiki.getModificationFields()));\n\t\t\t};\n\t\t}\n\t\tif(this.editType) {\n\t\t\ttype = this.editType;\n\t\t}\n\t\treturn {value: value || \"\", type: type, update: update};\n\t};\n\n\t/*\n\tHandle an edit text operation message from the toolbar\n\t*/\n\tEditTextWidget.prototype.handleEditTextOperationMessage = function(event) {\n\t\t// Prepare information about the operation\n\t\tvar operation = this.engine.createTextOperation();\n\t\t// Invoke the handler for the selected operation\n\t\tvar handler = this.editorOperations[event.param];\n\t\tif(handler) {\n\t\t\thandler.call(this,event,operation);\n\t\t}\n\t\t// Execute the operation via the engine\n\t\tvar newText = this.engine.executeTextOperation(operation);\n\t\t// Fix the tiddler height and save changes\n\t\tthis.engine.fixHeight();\n\t\tthis.saveChanges(newText);\n\t};\n\n\t/*\n\tCompute the internal state of the widget\n\t*/\n\tEditTextWidget.prototype.execute = function() {\n\t\t// Get our parameters\n\t\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\t\tthis.editField = this.getAttribute(\"field\",\"text\");\n\t\tthis.editIndex = this.getAttribute(\"index\");\n\t\tthis.editDefault = this.getAttribute(\"default\");\n\t\tthis.editClass = this.getAttribute(\"class\");\n\t\tthis.editPlaceholder = this.getAttribute(\"placeholder\");\n\t\tthis.editSize = this.getAttribute(\"size\");\n\t\tthis.editRows = this.getAttribute(\"rows\");\n\t\tthis.editAutoHeight = this.wiki.getTiddlerText(HEIGHT_MODE_TITLE,\"auto\");\n\t\tthis.editAutoHeight = this.getAttribute(\"autoHeight\",this.editAutoHeight === \"auto\" ? \"yes\" : \"no\") === \"yes\";\n\t\tthis.editMinHeight = this.getAttribute(\"minHeight\",DEFAULT_MIN_TEXT_AREA_HEIGHT);\n\t\tthis.editFocusPopup = this.getAttribute(\"focusPopup\");\n\t\tthis.editFocus = this.getAttribute(\"focus\");\n\t\tthis.editTabIndex = this.getAttribute(\"tabindex\");\n\t\tthis.editCancelPopups = this.getAttribute(\"cancelPopups\",\"\") === \"yes\";\n\t\tthis.editInputActions = this.getAttribute(\"inputActions\");\n\t\tthis.editRefreshTitle = this.getAttribute(\"refreshTitle\");\n\t\tthis.editAutoComplete = this.getAttribute(\"autocomplete\");\n\t\tthis.isDisabled = this.getAttribute(\"disabled\",\"no\");\n\t\t// Get the default editor element tag and type\n\t\tvar tag,type;\n\t\tif(this.editField === \"text\") {\n\t\t\ttag = \"textarea\";\n\t\t} else {\n\t\t\ttag = \"input\";\n\t\t\tvar fieldModule = $tw.Tiddler.fieldModules[this.editField];\n\t\t\tif(fieldModule &amp;&amp; fieldModule.editTag) {\n\t\t\t\ttag = fieldModule.editTag;\n\t\t\t}\n\t\t\tif(fieldModule &amp;&amp; fieldModule.editType) {\n\t\t\t\ttype = fieldModule.editType;\n\t\t\t}\n\t\t\ttype = type || \"text\";\n\t\t}\n\t\t// Get the rest of our parameters\n\t\tthis.editTag = this.getAttribute(\"tag\",tag) || \"input\";\n\t\tthis.editType = this.getAttribute(\"type\",type);\n\t\t// Make the child widgets\n\t\tthis.makeChildWidgets();\n\t\t// Determine whether to show the toolbar\n\t\tthis.editShowToolbar = this.wiki.getTiddlerText(ENABLE_TOOLBAR_TITLE,\"yes\");\n\t\tthis.editShowToolbar = (this.editShowToolbar === \"yes\") &amp;&amp; !!(this.children &amp;&amp; this.children.length &gt; 0) &amp;&amp; (!this.document.isTiddlyWikiFakeDom);\n\t};\n\n\t/*\n\tSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n\t*/\n\tEditTextWidget.prototype.refresh = function(changedTiddlers) {\n\t\tvar changedAttributes = this.computeAttributes();\n\t\t// Completely rerender if any of our attributes have changed\n\t\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes[\"default\"] || changedAttributes[\"class\"] || changedAttributes.placeholder || changedAttributes.size || changedAttributes.autoHeight || changedAttributes.minHeight || changedAttributes.focusPopup ||  changedAttributes.rows || changedAttributes.tabindex || changedAttributes.cancelPopups || changedAttributes.inputActions || changedAttributes.refreshTitle || changedAttributes.autocomplete || changedTiddlers[HEIGHT_MODE_TITLE] || changedTiddlers[ENABLE_TOOLBAR_TITLE] || changedAttributes.disabled) {\n\t\t\tthis.refreshSelf();\n\t\t\treturn true;\n\t\t} else if (changedTiddlers[this.editRefreshTitle]) {\n\t\t\tthis.engine.updateDomNodeText(this.getEditInfo().value);\n\t\t} else if(changedTiddlers[this.editTitle]) {\n\t\t\tvar editInfo = this.getEditInfo();\n\t\t\tthis.updateEditor(editInfo.value,editInfo.type);\n\t\t}\n\t\tthis.engine.fixHeight();\n\t\tif(this.editShowToolbar) {\n\t\t\treturn this.refreshChildren(changedTiddlers);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t/*\n\tUpdate the editor with new text. This method is separate from updateEditorDomNode()\n\tso that subclasses can override updateEditor() and still use updateEditorDomNode()\n\t*/\n\tEditTextWidget.prototype.updateEditor = function(text,type) {\n\t\tthis.updateEditorDomNode(text,type);\n\t};\n\n\t/*\n\tUpdate the editor dom node with new text\n\t*/\n\tEditTextWidget.prototype.updateEditorDomNode = function(text,type) {\n\t\tthis.engine.setText(text,type);\n\t};\n\n\t/*\n\tSave changes back to the tiddler store\n\t*/\n\tEditTextWidget.prototype.saveChanges = function(text) {\n\t\tvar editInfo = this.getEditInfo();\n\t\tif(text !== editInfo.value) {\n\t\t\teditInfo.update(text);\n\t\t}\n\t};\n\n\t/*\n\tHandle a dom \"keydown\" event, which we'll bubble up to our container for the keyboard widgets benefit\n\t*/\n\tEditTextWidget.prototype.handleKeydownEvent = function(event) {\n\t\t// Check for a keyboard shortcut\n\t\tif(this.toolbarNode) {\n\t\t\tvar shortcutElements = this.toolbarNode.querySelectorAll(\"[data-tw-keyboard-shortcut]\");\n\t\t\tfor(var index=0; index&lt;shortcutElements.length; index++) {\n\t\t\t\tvar el = shortcutElements[index],\n\t\t\t\t\tshortcutData = el.getAttribute(\"data-tw-keyboard-shortcut\"),\n\t\t\t\t\tkeyInfoArray = $tw.keyboardManager.parseKeyDescriptors(shortcutData,{\n\t\t\t\t\t\twiki: this.wiki\n\t\t\t\t\t});\n\t\t\t\tif($tw.keyboardManager.checkKeyDescriptors(event,keyInfoArray)) {\n\t\t\t\t\tvar clickEvent = this.document.createEvent(\"Events\");\n\t\t\t\t    clickEvent.initEvent(\"click\",true,false);\n\t\t\t\t    el.dispatchEvent(clickEvent);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Propogate the event to the container\n\t\tif(this.propogateKeydownEvent(event)) {\n\t\t\t// Ignore the keydown if it was already handled\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\treturn true;\n\t\t}\n\t\t// Otherwise, process the keydown normally\n\t\treturn false;\n\t};\n\n\t/*\n\tPropogate keydown events to our container for the keyboard widgets benefit\n\t*/\n\tEditTextWidget.prototype.propogateKeydownEvent = function(event) {\n\t\tvar newEvent = this.document.createEventObject ? this.document.createEventObject() : this.document.createEvent(\"Events\");\n\t\tif(newEvent.initEvent) {\n\t\t\tnewEvent.initEvent(\"keydown\", true, true);\n\t\t}\n\t\tnewEvent.keyCode = event.keyCode;\n\t\tnewEvent.which = event.which;\n\t\tnewEvent.metaKey = event.metaKey;\n\t\tnewEvent.ctrlKey = event.ctrlKey;\n\t\tnewEvent.altKey = event.altKey;\n\t\tnewEvent.shiftKey = event.shiftKey;\n\t\treturn !this.parentDomNode.dispatchEvent(newEvent);\n\t};\n\n\treturn EditTextWidget;\n\n}\n\nexports.editTextWidgetFactory = editTextWidgetFactory;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "library"
        },
        "$:/core/modules/editor/operations/bitmap/clear.js": {
            "title": "$:/core/modules/editor/operations/bitmap/clear.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/bitmap/clear.js\ntype: application/javascript\nmodule-type: bitmapeditoroperation\n\nBitmap editor operation to clear the image\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"clear\"] = function(event) {\n\tvar ctx = this.canvasDomNode.getContext(\"2d\");\n\tctx.globalAlpha = 1;\n\tctx.fillStyle = event.paramObject.colour || \"white\";\n\tctx.fillRect(0,0,this.canvasDomNode.width,this.canvasDomNode.height);\n\t// Save changes\n\tthis.strokeEnd();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "bitmapeditoroperation"
        },
        "$:/core/modules/editor/operations/bitmap/resize.js": {
            "title": "$:/core/modules/editor/operations/bitmap/resize.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/bitmap/resize.js\ntype: application/javascript\nmodule-type: bitmapeditoroperation\n\nBitmap editor operation to resize the image\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"resize\"] = function(event) {\n\t// Get the new width\n\tvar newWidth = parseInt(event.paramObject.width || this.canvasDomNode.width,10),\n\t\tnewHeight = parseInt(event.paramObject.height || this.canvasDomNode.height,10);\n\t// Update if necessary\n\tif(newWidth &gt; 0 &amp;&amp; newHeight &gt; 0 &amp;&amp; !(newWidth === this.currCanvas.width &amp;&amp; newHeight === this.currCanvas.height)) {\n\t\tthis.changeCanvasSize(newWidth,newHeight);\n\t}\n\t// Update the input controls\n\tthis.refreshToolbar();\n\t// Save the image into the tiddler\n\tthis.saveChanges();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "bitmapeditoroperation"
        },
        "$:/core/modules/editor/operations/bitmap/rotate-left.js": {
            "title": "$:/core/modules/editor/operations/bitmap/rotate-left.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/bitmap/rotate-left.js\ntype: application/javascript\nmodule-type: bitmapeditoroperation\n\nBitmap editor operation to rotate the image left by 90 degrees\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"rotate-left\"] = function(event) {\n\t// Rotate the canvas left by 90 degrees\n\tthis.rotateCanvasLeft();\n\t// Update the input controls\n\tthis.refreshToolbar();\n\t// Save the image into the tiddler\n\tthis.saveChanges();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "bitmapeditoroperation"
        },
        "$:/core/modules/editor/operations/text/excise.js": {
            "title": "$:/core/modules/editor/operations/text/excise.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/excise.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to excise the selection to a new tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"excise\"] = function(event,operation) {\n\tvar editTiddler = this.wiki.getTiddler(this.editTitle),\n\t\teditTiddlerTitle = this.editTitle;\n\tif(editTiddler &amp;&amp; editTiddler.fields[\"draft.of\"]) {\n\t\teditTiddlerTitle = editTiddler.fields[\"draft.of\"];\n\t}\n\tvar excisionTitle = event.paramObject.title || this.wiki.generateNewTitle(\"New Excision\");\n\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\tthis.wiki.getCreationFields(),\n\t\tthis.wiki.getModificationFields(),\n\t\t{\n\t\t\ttitle: excisionTitle,\n\t\t\ttext: operation.selection,\n\t\t\ttags: event.paramObject.tagnew === \"yes\" ?  [editTiddlerTitle] : []\n\t\t}\n\t));\n\toperation.replacement = excisionTitle;\n\tswitch(event.paramObject.type || \"transclude\") {\n\t\tcase \"transclude\":\n\t\t\toperation.replacement = \"{{\" + operation.replacement+ \"}}\";\n\t\t\tbreak;\n\t\tcase \"link\":\n\t\t\toperation.replacement = \"[[\" + operation.replacement+ \"]]\";\n\t\t\tbreak;\n\t\tcase \"macro\":\n\t\t\toperation.replacement = \"&lt;&lt;\" + (event.paramObject.macro || \"translink\") + \" \\\"\\\"\\\"\" + operation.replacement + \"\\\"\\\"\\\"&gt;&gt;\";\n\t\t\tbreak;\n\t}\n\toperation.cutStart = operation.selStart;\n\toperation.cutEnd = operation.selEnd;\n\toperation.newSelStart = operation.selStart;\n\toperation.newSelEnd = operation.selStart + operation.replacement.length;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/editor/operations/text/make-link.js": {
            "title": "$:/core/modules/editor/operations/text/make-link.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/make-link.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to make a link\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"make-link\"] = function(event,operation) {\n\tif(operation.selection) {\n\t\toperation.replacement = \"[[\" + operation.selection + \"|\" + event.paramObject.text + \"]]\";\n\t\toperation.cutStart = operation.selStart;\n\t\toperation.cutEnd = operation.selEnd;\n\t} else {\n\t\toperation.replacement = \"[[\" + event.paramObject.text + \"]]\";\n\t\toperation.cutStart = operation.selStart;\n\t\toperation.cutEnd = operation.selEnd;\n\t}\n\toperation.newSelStart = operation.selStart + operation.replacement.length;\n\toperation.newSelEnd = operation.newSelStart;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/editor/operations/text/prefix-lines.js": {
            "title": "$:/core/modules/editor/operations/text/prefix-lines.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/prefix-lines.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to add a prefix to the selected lines\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"prefix-lines\"] = function(event,operation) {\n\tvar targetCount = parseInt(event.paramObject.count + \"\",10);\n\t// Cut just past the preceding line break, or the start of the text\n\toperation.cutStart = $tw.utils.findPrecedingLineBreak(operation.text,operation.selStart);\n\t// Cut to just past the following line break, or to the end of the text\n\toperation.cutEnd = $tw.utils.findFollowingLineBreak(operation.text,operation.selEnd);\n\t// Compose the required prefix\n\tvar prefix = $tw.utils.repeat(event.paramObject.character,targetCount);\n\t// Process each line\n\tvar lines = operation.text.substring(operation.cutStart,operation.cutEnd).split(/\\r?\\n/mg);\n\t$tw.utils.each(lines,function(line,index) {\n\t\t// Remove and count any existing prefix characters\n\t\tvar count = 0;\n\t\twhile(line.charAt(0) === event.paramObject.character) {\n\t\t\tline = line.substring(1);\n\t\t\tcount++;\n\t\t}\n\t\t// Remove any whitespace\n\t\twhile(line.charAt(0) === \" \") {\n\t\t\tline = line.substring(1);\n\t\t}\n\t\t// We're done if we removed the exact required prefix, otherwise add it\n\t\tif(count !== targetCount) {\n\t\t\t// Apply the prefix\n\t\t\tline =  prefix + \" \" + line;\n\t\t}\n\t\t// Save the modified line\n\t\tlines[index] = line;\n\t});\n\t// Stitch the replacement text together and set the selection\n\toperation.replacement = lines.join(\"\\n\");\n\tif(lines.length === 1) {\n\t\toperation.newSelStart = operation.cutStart + operation.replacement.length;\n\t\toperation.newSelEnd = operation.newSelStart;\n\t} else {\n\t\toperation.newSelStart = operation.cutStart;\n\t\toperation.newSelEnd = operation.newSelStart + operation.replacement.length;\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/editor/operations/text/replace-all.js": {
            "title": "$:/core/modules/editor/operations/text/replace-all.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/replace-all.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to replace the entire text\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"replace-all\"] = function(event,operation) {\n\toperation.cutStart = 0;\n\toperation.cutEnd = operation.text.length;\n\toperation.replacement = event.paramObject.text;\n\toperation.newSelStart = 0;\n\toperation.newSelEnd = operation.replacement.length;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/editor/operations/text/replace-selection.js": {
            "title": "$:/core/modules/editor/operations/text/replace-selection.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/replace-selection.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to replace the selection\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"replace-selection\"] = function(event,operation) {\n\toperation.replacement = event.paramObject.text;\n\toperation.cutStart = operation.selStart;\n\toperation.cutEnd = operation.selEnd;\n\toperation.newSelStart = operation.selStart;\n\toperation.newSelEnd = operation.selStart + operation.replacement.length;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/editor/operations/text/save-selection.js": {
            "title": "$:/core/modules/editor/operations/text/save-selection.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/save-selection.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to save the current selection in a specified tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"save-selection\"] = function(event,operation) {\n\tvar tiddler = event.paramObject.tiddler,\n\t\tfield = event.paramObject.field || \"text\";\n\tif(tiddler &amp;&amp; field) {\n\t\tthis.wiki.setText(tiddler,field,null,operation.text.substring(operation.selStart,operation.selEnd));\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/editor/operations/text/wrap-lines.js": {
            "title": "$:/core/modules/editor/operations/text/wrap-lines.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/wrap-lines.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to wrap the selected lines with a prefix and suffix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"wrap-lines\"] = function(event,operation) {\n\t// Cut just past the preceding line break, or the start of the text\n\toperation.cutStart = $tw.utils.findPrecedingLineBreak(operation.text,operation.selStart);\n\t// Cut to just past the following line break, or to the end of the text\n\toperation.cutEnd = $tw.utils.findFollowingLineBreak(operation.text,operation.selEnd);\n\t// Add the prefix and suffix\n\toperation.replacement = event.paramObject.prefix + \"\\n\" +\n\t\t\t\toperation.text.substring(operation.cutStart,operation.cutEnd) + \"\\n\" +\n\t\t\t\tevent.paramObject.suffix + \"\\n\";\n\toperation.newSelStart = operation.cutStart + event.paramObject.prefix.length + 1;\n\toperation.newSelEnd = operation.newSelStart + (operation.cutEnd - operation.cutStart);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/editor/operations/text/wrap-selection.js": {
            "title": "$:/core/modules/editor/operations/text/wrap-selection.js",
            "text": "/*\\\ntitle: $:/core/modules/editor/operations/text/wrap-selection.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to wrap the selection with the specified prefix and suffix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports[\"wrap-selection\"] = function(event,operation) {\n\tif(operation.selStart === operation.selEnd) {\n\t\t// No selection; check if we're within the prefix/suffix\n\t\tif(operation.text.substring(operation.selStart - event.paramObject.prefix.length,operation.selStart + event.paramObject.suffix.length) === event.paramObject.prefix + event.paramObject.suffix) {\n\t\t\t// Remove the prefix and suffix\n\t\t\toperation.cutStart = operation.selStart - event.paramObject.prefix.length;\n\t\t\toperation.cutEnd = operation.selEnd + event.paramObject.suffix.length;\n\t\t\toperation.replacement = \"\";\n\t\t\toperation.newSelStart = operation.cutStart;\n\t\t\toperation.newSelEnd = operation.newSelStart;\n\t\t} else {\n\t\t\t// Wrap the cursor instead\n\t\t\toperation.cutStart = operation.selStart;\n\t\t\toperation.cutEnd = operation.selEnd;\n\t\t\toperation.replacement = event.paramObject.prefix + event.paramObject.suffix;\n\t\t\toperation.newSelStart = operation.selStart + event.paramObject.prefix.length;\n\t\t\toperation.newSelEnd = operation.newSelStart;\n\t\t}\n\t} else if(operation.text.substring(operation.selStart,operation.selStart + event.paramObject.prefix.length) === event.paramObject.prefix &amp;&amp; operation.text.substring(operation.selEnd - event.paramObject.suffix.length,operation.selEnd) === event.paramObject.suffix) {\n\t\t// Prefix and suffix are already present, so remove them\n\t\toperation.cutStart = operation.selStart;\n\t\toperation.cutEnd = operation.selEnd;\n\t\toperation.replacement = operation.selection.substring(event.paramObject.prefix.length,operation.selection.length - event.paramObject.suffix.length);\n\t\toperation.newSelStart = operation.selStart;\n\t\toperation.newSelEnd = operation.selStart + operation.replacement.length;\n\t} else {\n\t\t// Add the prefix and suffix\n\t\toperation.cutStart = operation.selStart;\n\t\toperation.cutEnd = operation.selEnd;\n\t\toperation.replacement = event.paramObject.prefix + operation.selection + event.paramObject.suffix;\n\t\toperation.newSelStart = operation.selStart;\n\t\toperation.newSelEnd = operation.selStart + operation.replacement.length;\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "texteditoroperation"
        },
        "$:/core/modules/filterrunprefixes/all.js": {
            "title": "$:/core/modules/filterrunprefixes/all.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/all.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\nUnion of sets without de-duplication.\nEquivalent to = filter run prefix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter prefix function\n*/\nexports.all = function(operationSubFunction) {\n\treturn function(results,source,widget) {\n\t\tresults.push.apply(results, operationSubFunction(source,widget));\n\t};\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filterrunprefixes/and.js": {
            "title": "$:/core/modules/filterrunprefixes/and.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/and.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\nIntersection of sets.\nEquivalent to + filter run prefix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter prefix function\n*/\nexports.and = function(operationSubFunction,options) {\n\treturn function(results,source,widget) {\n\t\t// This replaces all the elements of the array, but keeps the actual array so that references to it are preserved\n\t\tsource = options.wiki.makeTiddlerIterator(results.toArray());\n\t\tresults.clear();\n\t\tresults.pushTop(operationSubFunction(source,widget));\n\t};\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filterrunprefixes/else.js": {
            "title": "$:/core/modules/filterrunprefixes/else.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/else.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\nEquivalent to ~ filter run prefix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter prefix function\n*/\nexports.else = function(operationSubFunction) {\n\treturn function(results,source,widget) {\n\t\tif(results.length === 0) {\n\t\t\t// Main result so far is empty\n\t\t\tresults.pushTop(operationSubFunction(source,widget));\n\t\t}\n\t};\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filterrunprefixes/except.js": {
            "title": "$:/core/modules/filterrunprefixes/except.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/except.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\nDifference of sets.\nEquivalent to - filter run prefix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter prefix function\n*/\nexports.except = function(operationSubFunction) {\n\treturn function(results,source,widget) {\n\t\tresults.remove(operationSubFunction(source,widget));\n\t};\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filterrunprefixes/filter.js": {
            "title": "$:/core/modules/filterrunprefixes/filter.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/filter.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.filter = function(operationSubFunction,options) {\n\treturn function(results,source,widget) {\n\t\tif(results.length &gt; 0) {\n\t\t\tvar resultsToRemove = [];\n\t\t\tresults.each(function(result) {\n\t\t\t\tvar filtered = operationSubFunction(options.wiki.makeTiddlerIterator([result]),widget);\n\t\t\t\tif(filtered.length === 0) {\n\t\t\t\t\tresultsToRemove.push(result);\n\t\t\t\t}\n\t\t\t});\n\t\t\tresults.remove(resultsToRemove);\n\t\t}\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filterrunprefixes/intersection.js": {
            "title": "$:/core/modules/filterrunprefixes/intersection.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/intersection.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter prefix function\n*/\nexports.intersection = function(operationSubFunction) {\n\treturn function(results,source,widget) {\n\t\tif(results.length !== 0) {\n\t\t\tvar secondRunResults = operationSubFunction(source,widget);\n\t\t\tvar firstRunResults = results.toArray();\n\t\t\tresults.clear();\n\t\t\t$tw.utils.each(firstRunResults,function(title) {\n\t\t\t\tif(secondRunResults.indexOf(title) !== -1) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filterrunprefixes/or.js": {
            "title": "$:/core/modules/filterrunprefixes/or.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/or.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\nEquivalent to a filter run with no prefix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter prefix function\n*/\nexports.or = function(operationSubFunction) {\n\treturn function(results,source,widget) {\n\t\tresults.pushTop(operationSubFunction(source,widget));\n\t};\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filterrunprefixes/reduce.js": {
            "title": "$:/core/modules/filterrunprefixes/reduce.js",
            "text": "/*\\\ntitle: $:/core/modules/filterrunprefixes/reduce.js\ntype: application/javascript\nmodule-type: filterrunprefix\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter prefix function\n*/\nexports.reduce = function(operationSubFunction,options) {\n\treturn function(results,source,widget) {\n\t\tif(results.length &gt; 0) {\n\t\t\tvar accumulator = \"\";\n\t\t\tvar index = 0;\n\t\t\tresults.each(function(title) {\n\t\t\t\tvar list = operationSubFunction(options.wiki.makeTiddlerIterator([title]),{\n\t\t\t\t\t\tgetVariable: function(name) {\n\t\t\t\t\t\t\tswitch(name) {\n\t\t\t\t\t\t\t\tcase \"currentTiddler\":\n\t\t\t\t\t\t\t\t\treturn \"\" + title;\n\t\t\t\t\t\t\t\tcase \"accumulator\":\n\t\t\t\t\t\t\t\t\treturn \"\" + accumulator;\n\t\t\t\t\t\t\t\tcase \"index\":\n\t\t\t\t\t\t\t\t\treturn \"\" + index;\n\t\t\t\t\t\t\t\tcase \"revIndex\":\n\t\t\t\t\t\t\t\t\treturn \"\" +  (results.length - 1 - index);\n\t\t\t\t\t\t\t\tcase \"length\":\n\t\t\t\t\t\t\t\t\treturn \"\" + results.length;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn widget.getVariable(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif(list.length &gt; 0) {\n\t\t\t\t\taccumulator = \"\" + list[0];\n\t\t\t\t}\n\t\t\t\t++index;\n\t\t\t});\n\t\t\tresults.clear();\n\t\t\tresults.push(accumulator);\t\n\t\t}\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filterrunprefix"
        },
        "$:/core/modules/filters/addprefix.js": {
            "title": "$:/core/modules/filters/addprefix.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/addprefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for adding a prefix to each title in the list. This is\nespecially useful in contexts where only a filter expression is allowed\nand macro substitution isn't available.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.addprefix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(operator.operand + title);\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/addsuffix.js": {
            "title": "$:/core/modules/filters/addsuffix.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/addsuffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for adding a suffix to each title in the list. This is\nespecially useful in contexts where only a filter expression is allowed\nand macro substitution isn't available.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.addsuffix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title + operator.operand);\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/after.js": {
            "title": "$:/core/modules/filters/after.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/after.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is after the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.after = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index === -1 || index &gt; (results.length - 2)) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index + 1]];\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/all/current.js": {
            "title": "$:/core/modules/filters/all/current.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/all/current.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar currTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\"currentTiddler\");\n\tif(currTiddlerTitle) {\n\t\treturn [currTiddlerTitle];\n\t} else {\n\t\treturn [];\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/missing.js": {
            "title": "$:/core/modules/filters/all/missing.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/all/missing.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\treturn options.wiki.getMissingTitles();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/orphans.js": {
            "title": "$:/core/modules/filters/all/orphans.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/all/orphans.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[orphans]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.orphans = function(source,prefix,options) {\n\treturn options.wiki.getOrphanTitles();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/shadows.js": {
            "title": "$:/core/modules/filters/all/shadows.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/all/shadows.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[shadows]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.shadows = function(source,prefix,options) {\n\treturn options.wiki.allShadowTitles();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/tags.js": {
            "title": "$:/core/modules/filters/all/tags.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/all/tags.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[tags]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tags = function(source,prefix,options) {\n\treturn Object.keys(options.wiki.getTagMap());\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/tiddlers.js": {
            "title": "$:/core/modules/filters/all/tiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/all/tiddlers.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tiddlers = function(source,prefix,options) {\n\treturn options.wiki.allTitles();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all.js": {
            "title": "$:/core/modules/filters/all.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/all.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for selecting tiddlers\n\n[all[shadows+tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar allFilterOperators;\n\nfunction getAllFilterOperators() {\n\tif(!allFilterOperators) {\n\t\tallFilterOperators = {};\n\t\t$tw.modules.applyMethods(\"allfilteroperator\",allFilterOperators);\n\t}\n\treturn allFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.all = function(source,operator,options) {\n\t// Get our suboperators\n\tvar allFilterOperators = getAllFilterOperators();\n\t// Cycle through the suboperators accumulating their results\n\tvar results = new $tw.utils.LinkedList(),\n\t\tsubops = operator.operand.split(\"+\");\n\t// Check for common optimisations\n\tif(subops.length === 1 &amp;&amp; subops[0] === \"\") {\n\t\treturn source;\n\t} else if(subops.length === 1 &amp;&amp; subops[0] === \"tiddlers\") {\n\t\treturn options.wiki.each;\n\t} else if(subops.length === 1 &amp;&amp; subops[0] === \"shadows\") {\n\t\treturn options.wiki.eachShadow;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \"tiddlers\" &amp;&amp; subops[1] === \"shadows\") {\n\t\treturn options.wiki.eachTiddlerPlusShadows;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \"shadows\" &amp;&amp; subops[1] === \"tiddlers\") {\n\t\treturn options.wiki.eachShadowPlusTiddlers;\n\t}\n\t// Do it the hard way\n\tfor(var t=0; t&lt;subops.length; t++) {\n\t\tvar subop = allFilterOperators[subops[t]];\n\t\tif(subop) {\n\t\t\tresults.pushTop(subop(source,operator.prefix,options));\n\t\t}\n\t}\n\treturn results.toArray();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/backlinks.js": {
            "title": "$:/core/modules/filters/backlinks.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/backlinks.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the backlinks from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.backlinks = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlerBacklinks(title));\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/before.js": {
            "title": "$:/core/modules/filters/before.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/before.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is before the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.before = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index &lt;= 0) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index - 1]];\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/commands.js": {
            "title": "$:/core/modules/filters/commands.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/commands.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the commands available in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.commands = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.commands,function(commandInfo,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/compare.js": {
            "title": "$:/core/modules/filters/compare.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/compare.js\ntype: application/javascript\nmodule-type: filteroperator\n\nGeneral purpose comparison operator\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.compare = function(source,operator,options) {\n\tvar suffixes = operator.suffixes || [],\n\t\ttype = (suffixes[0] || [])[0],\n\t\tmode = (suffixes[1] || [])[0],\n\t\ttypeFn = $tw.utils.makeCompareFunction(type,{defaultType: \"number\"}),\n\t\tmodeFn = modes[mode] || modes.eq,\n\t\tinvert = operator.prefix === \"!\",\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tif(modeFn(typeFn(title,operator.operand)) !== invert) {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\treturn results;\n};\n\nvar modes = {\n\t\"eq\": function(value) {return value === 0;},\n\t\"ne\": function(value) {return value !== 0;},\n\t\"gteq\": function(value) {return value &gt;= 0;},\n\t\"gt\": function(value) {return value &gt; 0;},\n\t\"lteq\": function(value) {return value &lt;= 0;},\n\t\"lt\": function(value) {return value &lt; 0;}\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/contains.js": {
            "title": "$:/core/modules/filters/contains.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/contains.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for finding values in array fields\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.contains = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldname = (operator.suffix || \"list\").toLowerCase();\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\tvar list = tiddler.getFieldList(fieldname);\n\t\t\t\tif(list.indexOf(operator.operand) === -1) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\tvar list = tiddler.getFieldList(fieldname);\n\t\t\t\tif(list.indexOf(operator.operand) !== -1) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/count.js": {
            "title": "$:/core/modules/filters/count.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/count.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the number of entries in the current list.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.count = function(source,operator,options) {\n\tvar count = 0;\n\tsource(function(tiddler,title) {\n\t\tcount++;\n\t});\n\treturn [count + \"\"];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/days.js": {
            "title": "$:/core/modules/filters/days.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/days.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects tiddlers with a specified date field within a specified date interval.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.days = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldName = operator.suffix || \"modified\",\n\t\tdayInterval = (parseInt(operator.operand,10)||0),\n\t\tdayIntervalSign = $tw.utils.sign(dayInterval),\n\t\ttargetTimeStamp = (new Date()).setHours(0,0,0,0) + 1000*60*60*24*dayInterval,\n\t\tisWithinDays = function(dateField) {\n\t\t\tvar sign = $tw.utils.sign(targetTimeStamp - (new Date(dateField)).setHours(0,0,0,0));\n\t\t\treturn sign === 0 || sign === dayIntervalSign;\n\t\t};\n\n\tif(operator.prefix === \"!\") {\n\t\ttargetTimeStamp = targetTimeStamp - 1000*60*60*24*dayIntervalSign;\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\t\tif(!isWithinDays($tw.utils.parseDate(tiddler.fields[fieldName]))) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\t\tif(isWithinDays($tw.utils.parseDate(tiddler.fields[fieldName]))) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/duplicateslugs.js": {
            "title": "$:/core/modules/filters/duplicateslugs.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/duplicateslugs.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter function for [duplicateslugs[]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.duplicateslugs = function(source,operator,options) {\n\tvar slugs = Object.create(null), // Hashmap by slug of title, replaced with \"true\" if the duplicate title has already been output\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tvar slug = options.wiki.slugify(title);\n\t\tif(slug in slugs) {\n\t\t\tif(slugs[slug] !== true) {\n\t\t\t\tresults.push(slugs[slug]);\n\t\t\t\tslugs[slug] = true;\n\t\t\t}\n\t\t\tresults.push(title);\n\t\t} else {\n\t\t\tslugs[slug] = title;\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/each.js": {
            "title": "$:/core/modules/filters/each.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/each.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique value of the specified field.\nWith suffix \"list\", selects all tiddlers that are values in a specified list field.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.each = function(source,operator,options) {\n\tvar results =[] ,\n\tvalue,values = {},\n\tfield = operator.operand || \"title\";\n\tif(operator.suffix === \"value\" &amp;&amp; field === \"title\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!$tw.utils.hop(values,title)) {\n\t\t\t\tvalues[title] = true;\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else if(operator.suffix !== \"list-item\") {\n\t\tif(field === \"title\") {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler &amp;&amp; !$tw.utils.hop(values,title)) {\n\t\t\t\t\tvalues[title] = true;\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvalue = tiddler.getFieldString(field);\n\t\t\t\t\tif(!$tw.utils.hop(values,value)) {\n\t\t\t\t\t\tvalues[value] = true;\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\t$tw.utils.each(\n\t\t\t\t\toptions.wiki.getTiddlerList(title,field),\n\t\t\t\t\tfunction(value) {\n\t\t\t\t\t\tif(!$tw.utils.hop(values,value)) {\n\t\t\t\t\t\t\tvalues[value] = true;\n\t\t\t\t\t\t\tresults.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/eachday.js": {
            "title": "$:/core/modules/filters/eachday.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/eachday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique day covered by the specified date field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.eachday = function(source,operator,options) {\n\tvar results = [],\n\t\tvalues = [],\n\t\tfieldName = operator.operand || \"modified\";\n\t// Function to convert a date/time to a date integer\n\tvar toDate = function(value) {\n\t\tvalue = (new Date(value)).setHours(0,0,0,0);\n\t\treturn value+0;\n\t};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\tvar value = toDate($tw.utils.parseDate(tiddler.fields[fieldName]));\n\t\t\tif(values.indexOf(value) === -1) {\n\t\t\t\tvalues.push(value);\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/editiondescription.js": {
            "title": "$:/core/modules/filters/editiondescription.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/editiondescription.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the descriptions of the specified edition names\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.editiondescription = function(source,operator,options) {\n\tvar results = [];\n\tif($tw.node) {\n\t\tvar editionInfo = $tw.utils.getEditionInfo();\n\t\tif(editionInfo) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif($tw.utils.hop(editionInfo,title)) {\n\t\t\t\t\tresults.push(editionInfo[title].description || \"\");\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/editions.js": {
            "title": "$:/core/modules/filters/editions.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/editions.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the available editions in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.editions = function(source,operator,options) {\n\tvar results = [];\n\tif($tw.node) {\n\t\tvar editionInfo = $tw.utils.getEditionInfo();\n\t\tif(editionInfo) {\n\t\t\t$tw.utils.each(editionInfo,function(info,name) {\n\t\t\t\tresults.push(name);\n\t\t\t});\n\t\t}\n\t\tresults.sort();\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/else.js": {
            "title": "$:/core/modules/filters/else.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/else.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for replacing an empty input list with a constant, passing a non-empty input list straight through\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.else = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tif(results.length === 0) {\n\t\treturn [operator.operand];\n\t} else {\n\t\treturn results;\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/decodeuricomponent.js": {
            "title": "$:/core/modules/filters/decodeuricomponent.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/decodeuricomponent.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for applying decodeURIComponent() to each item.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter functions\n*/\n\nexports.decodeuricomponent = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar value = title;\n\t\ttry {\n\t\t\tvalue = decodeURIComponent(title);\n\t\t} catch(e) {\n\t\t}\n\t\tresults.push(value);\n\t});\n\treturn results;\n};\n\nexports.encodeuricomponent = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(encodeURIComponent(title));\n\t});\n\treturn results;\n};\n\nexports.decodeuri = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar value = title;\n\t\ttry {\n\t\t\tvalue = decodeURI(title);\n\t\t} catch(e) {\n\t\t}\n\t\tresults.push(value);\n\t});\n\treturn results;\n};\n\nexports.encodeuri = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(encodeURI(title));\n\t});\n\treturn results;\n};\n\nexports.decodehtml = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push($tw.utils.htmlDecode(title));\n\t});\n\treturn results;\n};\n\nexports.encodehtml = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push($tw.utils.htmlEncode(title));\n\t});\n\treturn results;\n};\n\nexports.stringify = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push($tw.utils.stringify(title,(operator.suffix === \"rawunicode\")));\n\t});\n\treturn results;\n};\n\nexports.jsonstringify = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push($tw.utils.jsonStringify(title,(operator.suffix === \"rawunicode\")));\n\t});\n\treturn results;\n};\n\nexports.escaperegexp = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push($tw.utils.escapeRegExp(title));\n\t});\n\treturn results;\n};\n\nexports.escapecss = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t// escape any character with a special meaning in CSS using CSS.escape()\n\t\tresults.push($tw.utils.escapeCSS(title));\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/enlist.js": {
            "title": "$:/core/modules/filters/enlist.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/enlist.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning its operand parsed as a list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.enlist = function(source,operator,options) {\n\tvar allowDuplicates = false;\n\tswitch(operator.suffix) {\n\t\tcase \"raw\":\n\t\t\tallowDuplicates = true;\n\t\t\tbreak;\n\t\tcase \"dedupe\":\n\t\t\tallowDuplicates = false;\n\t\t\tbreak;\n\t}\n\tvar list = $tw.utils.parseStringArray(operator.operand,allowDuplicates);\n\tif(operator.prefix === \"!\") {\n\t\tvar results = [];\n\t\tsource(function(tiddler,title) {\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t\treturn results;\n\t} else {\n\t\treturn list;\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/field.js": {
            "title": "$:/core/modules/filters/field.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/field.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.field = function(source,operator,options) {\n\tvar results = [],indexedResults,\n\t\tfieldname = (operator.suffix || operator.operator || \"title\").toLowerCase();\n\tif(operator.prefix === \"!\") {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text !== operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !!operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif(source.byField &amp;&amp; operator.operand) {\n\t\t\t\tindexedResults = source.byField(fieldname,operator.operand);\n\t\t\t\tif(indexedResults) {\n\t\t\t\t\treturn indexedResults\n\t\t\t\t}\n\t\t\t}\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text === operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/fields.js": {
            "title": "$:/core/modules/filters/fields.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/fields.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the fields on the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.fields = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldName,\n\t\tsuffixes = (operator.suffixes || [])[0] || [],\n\t\toperand = $tw.utils.parseStringArray(operator.operand);\n\t\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tif(suffixes.indexOf(\"include\") !== -1) {\n\t\t\t\tfor(fieldName in tiddler.fields) {\n\t\t\t\t\t(operand.indexOf(fieldName) !== -1) ? $tw.utils.pushTop(results,fieldName) : \"\";\n\t\t\t\t}\n\t\t\t} else if (suffixes.indexOf(\"exclude\") !== -1) {\n\t\t\t\tfor(fieldName in tiddler.fields) {\n\t\t\t\t\t(operand.indexOf(fieldName) !== -1) ? \"\" : $tw.utils.pushTop(results,fieldName);\n\t\t\t\t}\n\t\t\t} // else if\n\t\t\telse {\n\t\t\t\tfor(fieldName in tiddler.fields) {\n\t\t\t\t\t$tw.utils.pushTop(results,fieldName);\n\t\t\t\t}\n\t\t\t} // else\n\t\t} // if (tiddler)\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/filter.js": {
            "title": "$:/core/modules/filters/filter.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/filter.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning those input titles that pass a subfilter\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.filter = function(source,operator,options) {\n\tvar filterFn = options.wiki.compileFilter(operator.operand),\n\t\tresults = [],\n\t\ttarget = operator.prefix !== \"!\";\n\tsource(function(tiddler,title) {\n\t\tvar list = filterFn.call(options.wiki,options.wiki.makeTiddlerIterator([title]));\n\t\tif((list.length &gt; 0) === target) {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/format/date.js": {
            "title": "$:/core/modules/filters/format/date.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/format/date.js\ntype: application/javascript\nmodule-type: formatfilteroperator\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.date = function(source,operand,options) {\n\tvar results = [];\t\n\tsource(function(tiddler,title) {\n\t\tvar value = $tw.utils.parseDate(title);\n\t\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \"Invalid Date\") {\n\t\t\tresults.push($tw.utils.formatDateString(value,operand || \"YYYY MM DD 0hh:0mm\"));\n\t\t}\n\t});\t\n\treturn results;\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "formatfilteroperator"
        },
        "$:/core/modules/filters/format/relativedate.js": {
            "title": "$:/core/modules/filters/format/relativedate.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/format/relativedate.js\ntype: application/javascript\nmodule-type: formatfilteroperator\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.relativedate = function(source,operand,options) {\n\tvar results = [];\t\n\tsource(function(tiddler,title) {\n\t\tvar value = $tw.utils.parseDate(title);\n\t\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \"Invalid Date\") {\n\t\t\tresults.push($tw.utils.getRelativeDate((new Date()) - (new Date(value))).description);\n\t\t}\n\t});\t\n\treturn results;\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "formatfilteroperator"
        },
        "$:/core/modules/filters/format.js": {
            "title": "$:/core/modules/filters/format.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/format.js\ntype: application/javascript\nmodule-type: filteroperator\nFilter operator for formatting strings\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar formatFilterOperators;\n\nfunction getFormatFilterOperators() {\n\tif(!formatFilterOperators) {\n\t\tformatFilterOperators = {};\n\t\t$tw.modules.applyMethods(\"formatfilteroperator\",formatFilterOperators);\n\t}\n\treturn formatFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.format = function(source,operator,options) {\n\t// Dispatch to the correct formatfilteroperator\n\tvar formatFilterOperators = getFormatFilterOperators();\n\tif(operator.suffix) {\n\t\tvar formatFilterOperator = formatFilterOperators[operator.suffix];\n\t\tif(formatFilterOperator) {\n\t\t\treturn formatFilterOperator(source,operator.operand,options);\n\t\t} else {\n\t\t\treturn [$tw.language.getString(\"Error/FormatFilterOperator\")];\n\t\t}\n\t} else {\n\t\t// Return all unchanged if the suffix is missing\n\t\tvar results = [];\n\t\tsource(function(tiddler,title) {\n\t\t\tresults.push(title);\n\t\t});\n\t\treturn results;\n\t}\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/get.js": {
            "title": "$:/core/modules/filters/get.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/get.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for replacing tiddler titles by the value of the field specified in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.get = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tvar value = tiddler.getFieldString(operator.operand);\n\t\t\tif(value) {\n\t\t\t\tresults.push(value);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/getindex.js": {
            "title": "$:/core/modules/filters/getindex.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/getindex.js\ntype: application/javascript\nmodule-type: filteroperator\n\nreturns the value at a given index of datatiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.getindex = function(source,operator,options) {\n\tvar data,title,results = [];\n\tif(operator.operand){\n\t\tsource(function(tiddler,title) {\n\t\t\ttitle = tiddler ? tiddler.fields.title : title;\n\t\t\tdata = options.wiki.extractTiddlerDataItem(tiddler,operator.operand);\n\t\t\tif(data) {\n\t\t\t\tresults.push(data);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/getvariable.js": {
            "title": "$:/core/modules/filters/getvariable.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/getvariable.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for replacing input values by the value of the variable with the same name, or blank if the variable is missing\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.getvariable = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(options.widget.getVariable(title) || \"\");\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/has.js": {
            "title": "$:/core/modules/filters/has.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/has.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a tiddler has the specified field or index\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.has = function(source,operator,options) {\n\tvar results = [],\n\t\tinvert = operator.prefix === \"!\";\n\n\tif(operator.suffix === \"field\") {\n\t\tif(invert) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(!tiddler || (tiddler &amp;&amp; (!$tw.utils.hop(tiddler.fields,operator.operand)))) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,operator.operand)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\telse if(operator.suffix === \"index\") {\n\t\tif(invert) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(!tiddler || (tiddler &amp;&amp; (!$tw.utils.hop(options.wiki.getTiddlerDataCached(tiddler,Object.create(null)),operator.operand)))) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler &amp;&amp; $tw.utils.hop(options.wiki.getTiddlerDataCached(tiddler,Object.create(null)),operator.operand)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\telse {\n\t\tif(invert) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(!tiddler || !$tw.utils.hop(tiddler.fields,operator.operand) || (tiddler.fields[operator.operand].length === 0)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,operator.operand) &amp;&amp; (tiddler.fields[operator.operand].length !== 0)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\t\t\t\t\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/haschanged.js": {
            "title": "$:/core/modules/filters/haschanged.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/haschanged.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returns tiddlers from the list that have a non-zero changecount.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.haschanged = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.getChangeCount(title) === 0) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.getChangeCount(title) &gt; 0) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/indexes.js": {
            "title": "$:/core/modules/filters/indexes.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/indexes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the indexes of a data tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.indexes = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar data = options.wiki.getTiddlerDataCached(title);\n\t\tif(data) {\n\t\t\t$tw.utils.pushTop(results,Object.keys(data));\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/insertbefore.js": {
            "title": "$:/core/modules/filters/insertbefore.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/insertbefore.js\ntype: application/javascript\nmodule-type: filteroperator\n\nInsert an item before another item in a list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nOrder a list\n*/\nexports.insertbefore = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar target = options.widget &amp;&amp; options.widget.getVariable(operator.suffix || \"currentTiddler\");\n\tif(target !== operator.operand) {\n\t\t// Remove the entry from the list if it is present\n\t\tvar pos = results.indexOf(operator.operand);\n\t\tif(pos !== -1) {\n\t\t\tresults.splice(pos,1);\n\t\t}\n\t\t// Insert the entry before the target marker\n\t\tpos = results.indexOf(target);\n\t\tif(pos !== -1) {\n\t\t\tresults.splice(pos,0,operator.operand);\n\t\t} else {\n\t\t\tresults.push(operator.operand);\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/is/binary.js": {
            "title": "$:/core/modules/filters/is/binary.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/binary.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[binary]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.binary = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isBinaryTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isBinaryTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/blank.js": {
            "title": "$:/core/modules/filters/is/blank.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/blank.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[blank]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.blank = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!title) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/current.js": {
            "title": "$:/core/modules/filters/is/current.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/current.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar results = [],\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\"currentTiddler\");\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title !== currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title === currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/draft.js": {
            "title": "$:/core/modules/filters/is/draft.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/draft.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[draft]] analagous to [has[draft.of]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.draft = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!tiddler || !$tw.utils.hop(tiddler.fields,\"draft.of\")) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,\"draft.of\") &amp;&amp; (tiddler.fields[\"draft.of\"].length !== 0)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\t\t\t\t\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/image.js": {
            "title": "$:/core/modules/filters/is/image.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/image.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[image]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.image = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/missing.js": {
            "title": "$:/core/modules/filters/is/missing.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/missing.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/orphan.js": {
            "title": "$:/core/modules/filters/is/orphan.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/orphan.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[orphan]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.orphan = function(source,prefix,options) {\n\tvar results = [],\n\t\torphanTitles = options.wiki.getOrphanTitles();\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) !== -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/shadow.js": {
            "title": "$:/core/modules/filters/is/shadow.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/shadow.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[shadow]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.shadow = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/system.js": {
            "title": "$:/core/modules/filters/is/system.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/system.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[system]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.system = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/tag.js": {
            "title": "$:/core/modules/filters/is/tag.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/tag.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tag]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,prefix,options) {\n\tvar results = [],\n\t\ttagMap = options.wiki.getTagMap();\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!$tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif($tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/tiddler.js": {
            "title": "$:/core/modules/filters/is/tiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/tiddler.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tiddler]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tiddler = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/variable.js": {
            "title": "$:/core/modules/filters/is/variable.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is/variable.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[variable]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.variable = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!(title in options.widget.variables)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title in options.widget.variables) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is.js": {
            "title": "$:/core/modules/filters/is.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/is.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking tiddler properties\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar isFilterOperators;\n\nfunction getIsFilterOperators() {\n\tif(!isFilterOperators) {\n\t\tisFilterOperators = {};\n\t\t$tw.modules.applyMethods(\"isfilteroperator\",isFilterOperators);\n\t}\n\treturn isFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.is = function(source,operator,options) {\n\t// Dispatch to the correct isfilteroperator\n\tvar isFilterOperators = getIsFilterOperators();\n\tif(operator.operand) {\n\t\tvar isFilterOperator = isFilterOperators[operator.operand];\n\t\tif(isFilterOperator) {\n\t\t\treturn isFilterOperator(source,operator.prefix,options);\n\t\t} else {\n\t\t\treturn [$tw.language.getString(\"Error/IsFilterOperator\")];\n\t\t}\n\t} else {\n\t\t// Return all tiddlers if the operand is missing\n\t\tvar results = [];\n\t\tsource(function(tiddler,title) {\n\t\t\tresults.push(title);\n\t\t});\n\t\treturn results;\n\t}\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/limit.js": {
            "title": "$:/core/modules/filters/limit.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/limit.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for chopping the results to a specified maximum number of entries\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.limit = function(source,operator,options) {\n\tvar results = [];\n\t// Convert to an array\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\t// Slice the array if necessary\n\tvar limit = Math.min(results.length,parseInt(operator.operand,10));\n\tif(operator.prefix === \"!\") {\n\t\tresults = results.slice(-limit);\n\t} else {\n\t\tresults = results.slice(0,limit);\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/links.js": {
            "title": "$:/core/modules/filters/links.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/links.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the links from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.links = function(source,operator,options) {\n\tvar results = new $tw.utils.LinkedList();\n\tsource(function(tiddler,title) {\n\t\tresults.pushTop(options.wiki.getTiddlerLinks(title));\n\t});\n\treturn results.toArray();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/list.js": {
            "title": "$:/core/modules/filters/list.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/list.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddlers whose title is listed in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.list = function(source,operator,options) {\n\tvar results = [],\n\t\ttr = $tw.utils.parseTextReference(operator.operand),\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\"currentTiddler\"),\n\t\tlist = options.wiki.getTiddlerList(tr.title || currTiddlerTitle,tr.field,tr.index);\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults = list;\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/listed.js": {
            "title": "$:/core/modules/filters/listed.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/listed.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that have the selected tiddlers in a list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.listed = function(source,operator,options) {\n\tvar field = operator.operand || \"list\",\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.findListingsOfTiddler(title,field));\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/listops.js": {
            "title": "$:/core/modules/filters/listops.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/listops.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operators for manipulating the current selection list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nOrder a list\n*/\nexports.order = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.operand.toLowerCase() === \"reverse\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tresults.unshift(title);\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tresults.push(title);\n\t\t});\n\t}\n\treturn results;\n};\n\n/*\nReverse list\n*/\nexports.reverse = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.unshift(title);\n\t});\n\treturn results;\n};\n\n/*\nFirst entry/entries in list\n*/\nexports.first = function(source,operator,options) {\n\tvar count = $tw.utils.getInt(operator.operand,1),\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,count);\n};\n\n/*\nLast entry/entries in list\n*/\nexports.last = function(source,operator,options) {\n\tvar count = $tw.utils.getInt(operator.operand,1),\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(-count);\n};\n\n/*\nAll but the first entry/entries of the list\n*/\nexports.rest = function(source,operator,options) {\n\tvar count = $tw.utils.getInt(operator.operand,1),\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count);\n};\nexports.butfirst = exports.rest;\nexports.bf = exports.rest;\n\n/*\nAll but the last entry/entries of the list\n*/\nexports.butlast = function(source,operator,options) {\n\tvar count = $tw.utils.getInt(operator.operand,1),\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,-count);\n};\nexports.bl = exports.butlast;\n\n/*\nThe nth member of the list\n*/\nexports.nth = function(source,operator,options) {\n\tvar count = $tw.utils.getInt(operator.operand,1),\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count - 1,count);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/lookup.js": {
            "title": "$:/core/modules/filters/lookup.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/lookup.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that looks up values via a title prefix\n\n[lookup:&lt;field&gt;[&lt;prefix&gt;]]\n\nPrepends the prefix to the selected items and returns the specified field value\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.lookup = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(options.wiki.getTiddlerText(operator.operand + title) || operator.suffix || '');\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/match.js": {
            "title": "$:/core/modules/filters/match.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/match.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title matches a string\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.match = function(source,operator,options) {\n\tvar results = [],\n\t\tsuffixes = (operator.suffixes || [])[0] || [];\n\tif(suffixes.indexOf(\"caseinsensitive\") !== -1) {\n\t\tif(operator.prefix === \"!\") {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(title.toLowerCase() !== (operator.operand || \"\").toLowerCase()) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(title.toLowerCase() === (operator.operand || \"\").toLowerCase()) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tif(operator.prefix === \"!\") {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(title !== operator.operand) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(title === operator.operand) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/math.js": {
            "title": "$:/core/modules/filters/math.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/math.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operators for math. Unary/binary operators work on each item in turn, and return a new item list.\n\nSum/product/maxall/minall operate on the entire list, returning a single item.\n\nNote that strings are converted to numbers automatically. Trailing non-digits are ignored.\n\n* \"\" converts to 0\n* \"12kk\" converts to 12\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.negate = makeNumericBinaryOperator(\n\tfunction(a) {return -a}\n);\n\nexports.abs = makeNumericBinaryOperator(\n\tfunction(a) {return Math.abs(a)}\n);\n\nexports.ceil = makeNumericBinaryOperator(\n\tfunction(a) {return Math.ceil(a)}\n);\n\nexports.floor = makeNumericBinaryOperator(\n\tfunction(a) {return Math.floor(a)}\n);\n\nexports.round = makeNumericBinaryOperator(\n\tfunction(a) {return Math.round(a)}\n);\n\nexports.trunc = makeNumericBinaryOperator(\n\tfunction(a) {return Math.trunc(a)}\n);\n\nexports.untrunc = makeNumericBinaryOperator(\n\tfunction(a) {return Math.ceil(Math.abs(a)) * Math.sign(a)}\n);\n\nexports.sign = makeNumericBinaryOperator(\n\tfunction(a) {return Math.sign(a)}\n);\n\nexports.add = makeNumericBinaryOperator(\n\tfunction(a,b) {return a + b;}\n);\n\nexports.subtract = makeNumericBinaryOperator(\n\tfunction(a,b) {return a - b;}\n);\n\nexports.multiply = makeNumericBinaryOperator(\n\tfunction(a,b) {return a * b;}\n);\n\nexports.divide = makeNumericBinaryOperator(\n\tfunction(a,b) {return a / b;}\n);\n\nexports.remainder = makeNumericBinaryOperator(\n\tfunction(a,b) {return a % b;}\n);\n\nexports.max = makeNumericBinaryOperator(\n\tfunction(a,b) {return Math.max(a,b);}\n);\n\nexports.min = makeNumericBinaryOperator(\n\tfunction(a,b) {return Math.min(a,b);}\n);\n\nexports.fixed = makeNumericBinaryOperator(\n\tfunction(a,b) {return Number.prototype.toFixed.call(a,Math.min(Math.max(b,0),100));}\n);\n\nexports.precision = makeNumericBinaryOperator(\n\tfunction(a,b) {return Number.prototype.toPrecision.call(a,Math.min(Math.max(b,1),100));}\n);\n\nexports.exponential = makeNumericBinaryOperator(\n\tfunction(a,b) {return Number.prototype.toExponential.call(a,Math.min(Math.max(b,0),100));}\n);\n\nexports.power = makeNumericBinaryOperator(\n\tfunction(a,b) {return Math.pow(a,b);}\n);\n\nexports.log = makeNumericBinaryOperator(\n\tfunction(a,b) {\n\t\tif(b) {\n\t\t\treturn Math.log(a)/Math.log(b);\n\t\t} else {\n\t\t\treturn Math.log(a);\n\t\t}\n\t}\n);\n\nexports.sum = makeNumericReducingOperator(\n\tfunction(accumulator,value) {return accumulator + value},\n\t0 // Initial value\n);\n\nexports.product = makeNumericReducingOperator(\n\tfunction(accumulator,value) {return accumulator * value},\n\t1 // Initial value\n);\n\nexports.maxall = makeNumericReducingOperator(\n\tfunction(accumulator,value) {return Math.max(accumulator,value)},\n\t-Infinity // Initial value\n);\n\nexports.minall = makeNumericReducingOperator(\n\tfunction(accumulator,value) {return Math.min(accumulator,value)},\n\tInfinity // Initial value\n);\n\nfunction makeNumericBinaryOperator(fnCalc) {\n\treturn function(source,operator,options) {\n\t\tvar result = [],\n\t\t\tnumOperand = $tw.utils.parseNumber(operator.operand);\n\t\tsource(function(tiddler,title) {\n\t\t\tresult.push($tw.utils.stringifyNumber(fnCalc($tw.utils.parseNumber(title),numOperand)));\n\t\t});\n\t\treturn result;\n\t};\n}\n\nfunction makeNumericReducingOperator(fnCalc,initialValue) {\n\tinitialValue = initialValue || 0;\n\treturn function(source,operator,options) {\n\t\tvar result = [];\n\t\tsource(function(tiddler,title) {\n\t\t\tresult.push(title);\n\t\t});\n\t\treturn [$tw.utils.stringifyNumber(result.reduce(function(accumulator,currentValue) {\n\t\t\treturn fnCalc(accumulator,$tw.utils.parseNumber(currentValue));\n\t\t},initialValue))];\n\t};\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/minlength.js": {
            "title": "$:/core/modules/filters/minlength.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/minlength.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for filtering out titles that don't meet the minimum length in the operand\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.minlength = function(source,operator,options) {\n\tvar results = [],\n\t\tminLength = parseInt(operator.operand || \"\",10) || 0;\n\tsource(function(tiddler,title) {\n\t\tif(title.length &gt;= minLength) {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/modules.js": {
            "title": "$:/core/modules/filters/modules.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/modules.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the modules of a given type in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.modules = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.each($tw.modules.types[title],function(moduleInfo,moduleName) {\n\t\t\tresults.push(moduleName);\n\t\t});\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/moduletypes.js": {
            "title": "$:/core/modules/filters/moduletypes.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/moduletypes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the module types in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.moduletypes = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.modules.types,function(moduleInfo,type) {\n\t\tresults.push(type);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/next.js": {
            "title": "$:/core/modules/filters/next.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/next.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs next in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.next = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch++;\n\t\tif(match &gt; 0 &amp;&amp; match &lt; list.length) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/plugintiddlers.js": {
            "title": "$:/core/modules/filters/plugintiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/plugintiddlers.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the shadow tiddlers within a plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.plugintiddlers = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar pluginInfo = options.wiki.getPluginInfo(title) || options.wiki.getTiddlerDataCached(title,{tiddlers:[]});\n\t\tif(pluginInfo &amp;&amp; pluginInfo.tiddlers) {\n\t\t\t$tw.utils.each(pluginInfo.tiddlers,function(fields,title) {\n\t\t\t\tresults.push(title);\n\t\t\t});\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/prefix.js": {
            "title": "$:/core/modules/filters/prefix.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/prefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title starts with a prefix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.prefix = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length) !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length) === operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/previous.js": {
            "title": "$:/core/modules/filters/previous.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/previous.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs immediately prior in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.previous = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch--;\n\t\tif(match &gt;= 0) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/range.js": {
            "title": "$:/core/modules/filters/range.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/range.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for generating a numeric range.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.range = function(source,operator,options) {\n\tvar results = [];\n\t// Split the operand into numbers delimited by these symbols\n\tvar parts = operator.operand.split(/[,:;]/g),\n\t\tbeg, end, inc, i, fixed = 0;\n\tfor (i=0; i&lt;parts.length; i++) {\n\t\t// Validate real number\n\t\tif(!/^\\s*[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))\\s*$/.test(parts[i])) {\n\t\t\treturn [\"range: bad number \\\"\" + parts[i] + \"\\\"\"];\n\t\t}\n\t\t// Count digits; the most precise number determines decimal places in output.\n\t\tvar frac = /\\.\\d+/.exec(parts[i]);\n\t\tif(frac) {\n\t\t\tfixed = Math.max(fixed,frac[0].length-1);\n\t\t}\n\t\tparts[i] = parseFloat(parts[i]);\n\t}\n\tswitch(parts.length) {\n\t\tcase 1:\n\t\t\tend = parts[0];\n\t\t\tif (end &gt;= 1) {\n\t\t\t\tbeg = 1;\n\t\t\t}\n\t\t\telse if (end &lt;= -1) {\n\t\t\t\tbeg = -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tinc = 1;\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tbeg = parts[0];\n\t\t\tend = parts[1];\n\t\t\tinc = 1;\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tbeg = parts[0];\n\t\t\tend = parts[1];\n\t\t\tinc = Math.abs(parts[2]);\n\t\t\tbreak;\n\t}\n\tif(inc === 0) {\n\t\treturn [\"range: increment 0 causes infinite loop\"];\n\t}\n\t// May need to count backwards\n\tvar direction = ((end &lt; beg) ? -1 : 1);\n\tinc *= direction;\n\t// Estimate number of resulting elements\n\tif((end - beg) / inc &gt; 10000) {\n\t\treturn [\"range: too many steps (over 10K)\"];\n\t}\n\t// Avoid rounding error on last step\n\tend += direction * 0.5 * Math.pow(0.1,fixed);\n\tvar safety = 10010;\n\t// Enumerate the range\n\tif (end&lt;beg) {\n\t\tfor(i=beg; i&gt;end; i+=inc) {\n\t\t\tresults.push(i.toFixed(fixed));\n\t\t\tif(--safety&lt;0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor(i=beg; i&lt;end; i+=inc) {\n\t\t\tresults.push(i.toFixed(fixed));\n\t\t\tif(--safety&lt;0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(safety&lt;0) {\n\t\treturn [\"range: unexpectedly large output\"];\n\t}\n\t// Reverse?\n\tif(operator.prefix === \"!\") {\n\t\tresults.reverse();\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/reduce.js": {
            "title": "$:/core/modules/filters/reduce.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/reduce.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator evaluates a subfilter for each item, making the running total available in the variable `accumulator`, and the current index available in the variable `index`\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.reduce = function(source,operator,options) {\n\t// Accumulate the list\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\t// Run the filter over each item\n\tvar filterFn = options.wiki.compileFilter(operator.operand),\n\t\taccumulator = operator.operands[1] || \"\";\n\tfor(var index=0; index&lt;results.length; index++) {\n\t\tvar title = results[index],\n\t\t\tlist = filterFn.call(options.wiki,options.wiki.makeTiddlerIterator([title]),{\n\t\t\t\tgetVariable: function(name) {\n\t\t\t\t\tswitch(name) {\n\t\t\t\t\t\tcase \"currentTiddler\":\n\t\t\t\t\t\t\treturn \"\" + title;\n\t\t\t\t\t\tcase \"accumulator\":\n\t\t\t\t\t\t\treturn \"\" + accumulator;\n\t\t\t\t\t\tcase \"index\":\n\t\t\t\t\t\t\treturn \"\" + index;\n\t\t\t\t\t\tcase \"revIndex\":\n\t\t\t\t\t\t\treturn \"\" + (results.length - 1 - index);\n\t\t\t\t\t\tcase \"length\":\n\t\t\t\t\t\t\treturn \"\" + results.length;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn options.widget.getVariable(name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\tif(list.length &gt; 0) {\n\t\t\taccumulator = \"\" +  list[0];\n\t\t}\n\t}\n\tif(results.length &gt; 0) {\n\t\treturn [accumulator];\n\t} else {\n\t\treturn [];\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/regexp.js": {
            "title": "$:/core/modules/filters/regexp.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/regexp.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for regexp matching\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.regexp = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldname = (operator.suffix || \"title\").toLowerCase(),\n\t\tregexpString, regexp, flags = \"\", match,\n\t\tgetFieldString = function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\treturn tiddler.getFieldString(fieldname);\n\t\t\t} else if(fieldname === \"title\") {\n\t\t\t\treturn title;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t// Process flags and construct regexp\n\tregexpString = operator.operand;\n\tmatch = /^\\(\\?([gim]+)\\)/.exec(regexpString);\n\tif(match) {\n\t\tflags = match[1];\n\t\tregexpString = regexpString.substr(match[0].length);\n\t} else {\n\t\tmatch = /\\(\\?([gim]+)\\)$/.exec(regexpString);\n\t\tif(match) {\n\t\t\tflags = match[1];\n\t\t\tregexpString = regexpString.substr(0,regexpString.length - match[0].length);\n\t\t}\n\t}\n\ttry {\n\t\tregexp = new RegExp(regexpString,flags);\n\t} catch(e) {\n\t\treturn [\"\" + e];\n\t}\n\t// Process the incoming tiddlers\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tvar text = getFieldString(tiddler,title);\n\t\t\tif(text !== null) {\n\t\t\t\tif(!regexp.exec(text)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tvar text = getFieldString(tiddler,title);\n\t\t\tif(text !== null) {\n\t\t\t\tif(!!regexp.exec(text)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/removeprefix.js": {
            "title": "$:/core/modules/filters/removeprefix.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/removeprefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for removing a prefix from each title in the list. Titles that do not start with the prefix are removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.removeprefix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(title.substr(0,operator.operand.length) === operator.operand) {\n\t\t\tresults.push(title.substr(operator.operand.length));\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/removesuffix.js": {
            "title": "$:/core/modules/filters/removesuffix.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/removesuffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for removing a suffix from each title in the list. Titles that do not end with the suffix are removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.removesuffix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(title &amp;&amp; title.substr(-operator.operand.length) === operator.operand) {\n\t\t\tresults.push(title.substr(0,title.length - operator.operand.length));\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/sameday.js": {
            "title": "$:/core/modules/filters/sameday.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/sameday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects tiddlers with a modified date field on the same day as the provided value.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.sameday = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldName = operator.suffix || \"modified\",\n\t\ttargetDate = (new Date($tw.utils.parseDate(operator.operand))).setHours(0,0,0,0);\n\t// Function to convert a date/time to a date integer\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tif(tiddler.getFieldDay(fieldName) === targetDate) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/search.js": {
            "title": "$:/core/modules/filters/search.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/search.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for searching for the text in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.search = function(source,operator,options) {\n\tvar invert = operator.prefix === \"!\";\n\tif(operator.suffixes) {\n\t\tvar hasFlag = function(flag) {\n\t\t\t\treturn (operator.suffixes[1] || []).indexOf(flag) !== -1;\n\t\t\t},\n\t\t\texcludeFields = false,\n\t\t\tfieldList = operator.suffixes[0] || [],\n\t\t\tfirstField = fieldList[0] || \"\", \n\t\t\tfirstChar = firstField.charAt(0),\n\t\t\tfields;\n\t\tif(firstChar === \"-\") {\n\t\t\tfields = [firstField.slice(1)].concat(fieldList.slice(1));\n\t\t\texcludeFields = true;\n\t\t} else if(fieldList[0] === \"*\"){\n\t\t\tfields = [];\n\t\t\texcludeFields = true;\n\t\t} else {\n\t\t\tfields = fieldList.slice(0);\n\t\t}\n\t\treturn options.wiki.search(operator.operand,{\n\t\t\tsource: source,\n\t\t\tinvert: invert,\n\t\t\tfield: fields,\n\t\t\texcludeField: excludeFields,\n\t\t\tcaseSensitive: hasFlag(\"casesensitive\"),\n\t\t\tliteral: hasFlag(\"literal\"),\n\t\t\twhitespace: hasFlag(\"whitespace\"),\n\t\t\tanchored: hasFlag(\"anchored\"),\n\t\t\tregexp: hasFlag(\"regexp\"),\n\t\t\twords: hasFlag(\"words\")\n\t\t});\n\t} else {\n\t\treturn options.wiki.search(operator.operand,{\n\t\t\tsource: source,\n\t\t\tinvert: invert\n\t\t});\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/shadowsource.js": {
            "title": "$:/core/modules/filters/shadowsource.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/shadowsource.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the source plugins for shadow tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.shadowsource = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar source = options.wiki.getShadowSource(title);\n\t\tif(source) {\n\t\t\t$tw.utils.pushTop(results,source);\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/slugify.js": {
            "title": "$:/core/modules/filters/slugify.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/slugify.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for slugifying a tiddler title\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.slugify = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(options.wiki.slugify(title));\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/sort.js": {
            "title": "$:/core/modules/filters/sort.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/sort.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for sorting\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.sort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",false,false);\n\treturn results;\n};\n\nexports.nsort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",false,true);\n\treturn results;\n};\n\nexports.sortan = function(source, operator, options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results, operator.operand || \"title\", operator.prefix === \"!\",false,false,true);\n\treturn results;\n};\n\nexports.sortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",true,false);\n\treturn results;\n};\n\nexports.nsortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",true,true);\n\treturn results;\n};\n\nvar prepare_results = function (source) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/sortsub.js": {
            "title": "$:/core/modules/filters/sortsub.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/sortsub.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for sorting by a subfilter\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.sortsub = function(source,operator,options) {\n\t// Compile the subfilter\n\tvar filterFn = options.wiki.compileFilter(operator.operand);\n\t// Collect the input titles and the corresponding sort keys\n\tvar inputTitles = [],\n\t\tsortKeys = [];\n\tsource(function(tiddler,title) {\n\t\tinputTitles.push(title);\n\t\tvar r = filterFn.call(options.wiki,function(iterator) {\n\t\t\titerator(options.wiki.getTiddler(title),title);\n\t\t},{\n\t\t\tgetVariable: function(name) {\n\t\t\t\tif(name === \"currentTiddler\") {\n\t\t\t\t\treturn title;\n\t\t\t\t} else {\n\t\t\t\t\treturn options.widget.getVariable(name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tsortKeys.push(r[0] || \"\");\n\t});\n\t// Rather than sorting the titles array, we'll sort the indexes so that we can consult both arrays\n\tvar indexes = new Array(inputTitles.length);\n\tfor(var t=0; t&lt;inputTitles.length; t++) {\n\t\tindexes[t] = t;\n\t}\n\t// Sort the indexes\n\tvar compareFn = $tw.utils.makeCompareFunction(operator.suffix,{defaultType: \"string\",invert: operator.prefix === \"!\"});\n\tindexes = indexes.sort(function(a,b) {\n\t\treturn compareFn(sortKeys[a],sortKeys[b]);\n\t});\n\t// Make the results array in order\n\tvar results = [];\n\t$tw.utils.each(indexes,function(index) {\n\t\tresults.push(inputTitles[index]);\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/splitbefore.js": {
            "title": "$:/core/modules/filters/splitbefore.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/splitbefore.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that splits each result on the first occurance of the specified separator and returns the unique values.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.splitbefore = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar parts = title.split(operator.operand);\n\t\tif(parts.length === 1) {\n\t\t\t$tw.utils.pushTop(results,parts[0]);\n\t\t} else {\n\t\t\t$tw.utils.pushTop(results,parts[0] + operator.operand);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/storyviews.js": {
            "title": "$:/core/modules/filters/storyviews.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/storyviews.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the story views in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.storyviews = function(source,operator,options) {\n\tvar results = [],\n\t\tstoryviews = {};\n\t$tw.modules.applyMethods(\"storyview\",storyviews);\n\t$tw.utils.each(storyviews,function(info,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/strings.js": {
            "title": "$:/core/modules/filters/strings.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/strings.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operators for strings. Unary/binary operators work on each item in turn, and return a new item list.\n\nSum/product/maxall/minall operate on the entire list, returning a single item.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.length = makeStringBinaryOperator(\n\tfunction(a) {return [\"\" + (\"\" + a).length];}\n);\n\nexports.uppercase = makeStringBinaryOperator(\n\tfunction(a) {return [(\"\" + a).toUpperCase()];}\n);\n\nexports.lowercase = makeStringBinaryOperator(\n\tfunction(a) {return [(\"\" + a).toLowerCase()];}\n);\n\nexports.sentencecase = makeStringBinaryOperator(\n\tfunction(a) {return [$tw.utils.toSentenceCase(a)];}\n);\n\nexports.titlecase = makeStringBinaryOperator(\n\tfunction(a) {return [$tw.utils.toTitleCase(a)];}\n);\n\nexports.trim = function(source,operator,options) {\n\tvar result = [],\n\t\tsuffix = operator.suffix || \"\",\n\t\toperand = (operator.operand || \"\"),\n\t\tfnCalc;\n\tif(suffix === \"prefix\") {\n\t\tfnCalc = function(a,b) {return [$tw.utils.trimPrefix(a,b)];}\n\t} else if(suffix === \"suffix\") {\n\t\tfnCalc = function(a,b) {return [$tw.utils.trimSuffix(a,b)];}\n\t} else {\n\t\tif(operand === \"\") {\n\t\t\tfnCalc = function(a) {return [$tw.utils.trim(a)];}\n\t\t} else {\n\t\t\tfnCalc = function(a,b) {return [$tw.utils.trimSuffix($tw.utils.trimPrefix(a,b),b)];}\n\t\t}\n\t}\n\tsource(function(tiddler,title) {\n\t\tArray.prototype.push.apply(result,fnCalc(title,operand));\n\t});\n\treturn result;\n};\n\nexports.split = makeStringBinaryOperator(\n\tfunction(a,b) {return (\"\" + a).split(b);}\n);\n\nexports[\"enlist-input\"] = makeStringBinaryOperator(\n\tfunction(a,o,s) {return $tw.utils.parseStringArray(\"\" + a,(s === \"raw\"));}\n);\n\nexports.join = makeStringReducingOperator(\n\tfunction(accumulator,value,operand) {\n\t\tif(accumulator === null) {\n\t\t\treturn value;\n\t\t} else {\n\t\t\treturn accumulator + operand + value;\n\t\t}\n\t},null\n);\n\nfunction makeStringBinaryOperator(fnCalc) {\n\treturn function(source,operator,options) {\n\t\tvar result = [];\n\t\tsource(function(tiddler,title) {\n\t\t\tArray.prototype.push.apply(result,fnCalc(title,operator.operand || \"\",operator.suffix || \"\"));\n\t\t});\n\t\treturn result;\n\t};\n}\n\nfunction makeStringReducingOperator(fnCalc,initialValue) {\n\treturn function(source,operator,options) {\n\t\tvar result = [];\n\t\tsource(function(tiddler,title) {\n\t\t\tresult.push(title);\n\t\t});\n\t\tif(result.length === 0) {\n\t\t\treturn [];\n\t\t}\n\t\treturn [result.reduce(function(accumulator,currentValue) {\n\t\t\treturn fnCalc(accumulator,currentValue,operator.operand || \"\");\n\t\t},initialValue) || \"\"];\n\t};\n}\n\nexports.splitregexp = function(source,operator,options) {\n\tvar result = [],\n\t\tsuffix = operator.suffix || \"\",\n\t\tflags = (suffix.indexOf(\"m\") !== -1 ? \"m\" : \"\") + (suffix.indexOf(\"i\") !== -1 ? \"i\" : \"\"),\n\t\tregExp;\n\ttry {\n\t\tregExp = new RegExp(operator.operand || \"\",flags);\t\t\n\t} catch(ex) {\n\t\treturn [\"RegExp error: \" + ex];\n\t}\n\tsource(function(tiddler,title) {\n\t\tArray.prototype.push.apply(result,title.split(regExp));\n\t});\t\t\n\treturn result;\n};\n\nexports[\"search-replace\"] = function(source,operator,options) {\n\tvar results = [],\n\t\tsuffixes = operator.suffixes || [],\n\t\tflagSuffix = (suffixes[0] ? (suffixes[0][0] || \"\") : \"\"),\n\t\tflags = (flagSuffix.indexOf(\"g\") !== -1 ? \"g\" : \"\") + (flagSuffix.indexOf(\"i\") !== -1 ? \"i\" : \"\"),\n\t\tisRegExp = (suffixes[1] &amp;&amp; suffixes[1][0] === \"regexp\") ? true : false,\n\t\tsearchTerm,\n\t\tregExp;\n\t\n\tsource(function(tiddler,title) {\n\t\tif(title &amp;&amp; (operator.operands.length &gt; 1)) {\n\t\t\t//Escape regexp characters if the operand is not a regular expression\n\t\t\tsearchTerm = isRegExp ? operator.operand : $tw.utils.escapeRegExp(operator.operand);\n\t\t\ttry {\n\t\t\t\tregExp = new RegExp(searchTerm,flags);\n\t\t\t} catch(ex) {\n\t\t\t\treturn [\"RegExp error: \" + ex];\n\t\t\t}\n\t\t\tresults.push(\n\t\t\t\ttitle.replace(regExp,operator.operands[1])\n\t\t\t);\n\t\t} else {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\treturn results;\n};\n\nexports.pad = function(source,operator,options) {\n\tvar results = [],\n\t\ttargetLength = operator.operand ? parseInt(operator.operand) : 0,\n\t\tfill = operator.operands[1] || \"0\";\n\n\tsource(function(tiddler,title) {\n\t\tif(title &amp;&amp; title.length) {\n\t\t\tif(title.length &gt;= targetLength) {\n\t\t\t\tresults.push(title);\n\t\t\t} else {\n\t\t\t\tvar padString = \"\",\n\t\t\t\t\tpadStringLength = targetLength - title.length;\n\t\t\t\twhile (padStringLength &gt; padString.length) {\n\t\t\t\t\tpadString += fill;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t//make sure we do not exceed the specified length\n\t\t\t\tpadString = padString.slice(0,padStringLength);\n\t\t\t\tif(operator.suffix &amp;&amp; (operator.suffix === \"suffix\")) {\n\t\t\t\t\ttitle = title + padString;\n\t\t\t\t} else {\n\t\t\t\t\ttitle = padString + title;\n\t\t\t\t}\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/subfilter.js": {
            "title": "$:/core/modules/filters/subfilter.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/subfilter.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning its operand evaluated as a filter\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.subfilter = function(source,operator,options) {\n\tvar list = options.wiki.filterTiddlers(operator.operand,options.widget,source);\n\tif(operator.prefix === \"!\") {\n\t\tvar results = [];\n\t\tsource(function(tiddler,title) {\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t\treturn results;\n\t} else {\n\t\treturn list;\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/subtiddlerfields.js": {
            "title": "$:/core/modules/filters/subtiddlerfields.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/subtiddlerfields.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the fields on the selected subtiddlers of the plugin named in the operand\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.subtiddlerfields = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar subtiddler = options.wiki.getSubTiddler(operator.operand,title);\n\t\tif(subtiddler) {\n\t\t\tfor(var fieldName in subtiddler.fields) {\n\t\t\t\t$tw.utils.pushTop(results,fieldName);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/suffix.js": {
            "title": "$:/core/modules/filters/suffix.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/suffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title ends with a suffix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.suffix = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(-operator.operand.length) !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(-operator.operand.length) === operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/tag.js": {
            "title": "$:/core/modules/filters/tag.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/tag.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking for the presence of a tag\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,operator,options) {\n\tvar results = [],indexedResults;\n\tif((operator.suffix || \"\").toLowerCase() === \"strict\" &amp;&amp; !operator.operand) {\n\t\t// New semantics:\n\t\t// Always return copy of input if operator.operand is missing\n\t\tsource(function(tiddler,title) {\n\t\t\tresults.push(title);\n\t\t});\n\t} else {\n\t\t// Old semantics:\n\t\tvar tiddlers;\n\t\tif(operator.prefix === \"!\") {\n\t\t\t// Returns a copy of the input if operator.operand is missing\n\t\t\ttiddlers = options.wiki.getTiddlersWithTag(operator.operand);\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddlers.indexOf(title) === -1) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// Returns empty results if operator.operand is missing\n\t\t\tif(source.byTag) {\n\t\t\t\tindexedResults = source.byTag(operator.operand);\n\t\t\t\tif(indexedResults) {\n\t\t\t\t\treturn indexedResults;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttiddlers = options.wiki.getTiddlersWithTag(operator.operand);\n\t\t\t\tsource(function(tiddler,title) {\n\t\t\t\t\tif(tiddlers.indexOf(title) !== -1) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresults = options.wiki.sortByList(results,operator.operand);\n\t\t\t}\n\t\t}\t\t\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/tagging.js": {
            "title": "$:/core/modules/filters/tagging.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/tagging.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that are tagged with the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tagging = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlersWithTag(title));\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/tags.js": {
            "title": "$:/core/modules/filters/tags.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/tags.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the tags of the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tags = function(source,operator,options) {\n\tvar tags = {};\n\tsource(function(tiddler,title) {\n\t\tvar t, length;\n\t\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\t\tfor(t=0, length=tiddler.fields.tags.length; t&lt;length; t++) {\n\t\t\t\ttags[tiddler.fields.tags[t]] = true;\n\t\t\t}\n\t\t}\n\t});\n\treturn Object.keys(tags);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/then.js": {
            "title": "$:/core/modules/filters/then.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/then.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for replacing any titles with a constant\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.then = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(operator.operand);\n\t});\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/title.js": {
            "title": "$:/core/modules/filters/title.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/title.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing title fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.title = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields.title !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults.push(operator.operand);\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/untagged.js": {
            "title": "$:/core/modules/filters/untagged.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/untagged.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the selected tiddlers that are untagged\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.untagged = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length &gt; 0) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!tiddler || !tiddler.hasField(\"tags\") || ($tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length === 0)) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/variables.js": {
            "title": "$:/core/modules/filters/variables.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/variables.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the active variables\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.variables = function(source,operator,options) {\n\tvar names = [];\n\tfor(var variable in options.widget.variables) {\n\t\tnames.push(variable);\n\t}\n\treturn names.sort();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/wikiparserrules.js": {
            "title": "$:/core/modules/filters/wikiparserrules.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/wikiparserrules.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the wiki parser rules in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.wikiparserrules = function(source,operator,options) {\n\tvar results = [],\n\t\toperand = operator.operand;\n\t$tw.utils.each($tw.modules.types.wikirule,function(mod) {\n\t\tvar exp = mod.exports;\n\t\tif(!operand || exp.types[operand]) {\n\t\t\tresults.push(exp.name);\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/x-listops.js": {
            "title": "$:/core/modules/filters/x-listops.js",
            "text": "/*\\\ntitle: $:/core/modules/filters/x-listops.js\ntype: application/javascript\nmodule-type: filteroperator\n\nExtended filter operators to manipulate the current list.\n\n\\*/\n(function () {\n\n\t/*jslint node: true, browser: true */\n\t/*global $tw: false */\n\t\"use strict\";\n\n\t/*\n\tFetch titles from the current list\n\t*/\n\tvar prepare_results = function (source) {\n\tvar results = [];\n\t\tsource(function (tiddler, title) {\n\t\t\tresults.push(title);\n\t\t});\n\t\treturn results;\n\t};\n\n\t/*\n\tMoves a number of items from the tail of the current list before the item named in the operand\n\t*/\n\texports.putbefore = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tindex = results.indexOf(operator.operand),\n\t\t\tcount = $tw.utils.getInt(operator.suffix,1);\n\t\treturn (index === -1) ?\n\t\t\tresults.slice(0, -1) :\n\t\t\tresults.slice(0, index).concat(results.slice(-count)).concat(results.slice(index, -count));\n\t};\n\n\t/*\n\tMoves a number of items from the tail of the current list after the item named in the operand\n\t*/\n\texports.putafter = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tindex = results.indexOf(operator.operand),\n\t\t\tcount = $tw.utils.getInt(operator.suffix,1);\n\t\treturn (index === -1) ?\n\t\t\tresults.slice(0, -1) :\n\t\t\tresults.slice(0, index + 1).concat(results.slice(-count)).concat(results.slice(index + 1, -count));\n\t};\n\n\t/*\n\tReplaces the item named in the operand with a number of items from the tail of the current list\n\t*/\n\texports.replace = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tindex = results.indexOf(operator.operand),\n\t\t\tcount = $tw.utils.getInt(operator.suffix,1);\n\t\treturn (index === -1) ?\n\t\t\tresults.slice(0, -count) :\n\t\t\tresults.slice(0, index).concat(results.slice(-count)).concat(results.slice(index + 1, -count));\n\t};\n\n\t/*\n\tMoves a number of items from the tail of the current list to the head of the list\n\t*/\n\texports.putfirst = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tcount = $tw.utils.getInt(operator.suffix,1);\n\t\treturn results.slice(-count).concat(results.slice(0, -count));\n\t};\n\n\t/*\n\tMoves a number of items from the head of the current list to the tail of the list\n\t*/\n\texports.putlast = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tcount = $tw.utils.getInt(operator.suffix,1);\n\t\treturn results.slice(count).concat(results.slice(0, count));\n\t};\n\n\t/*\n\tMoves the item named in the operand a number of places forward or backward in the list\n\t*/\n\texports.move = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tindex = results.indexOf(operator.operand),\n\t\t\tcount = $tw.utils.getInt(operator.suffix,1),\n\t\t\tmarker = results.splice(index, 1),\n\t\t\toffset =  (index + count) &gt; 0 ? index + count : 0;\n\t\treturn results.slice(0, offset).concat(marker).concat(results.slice(offset));\n\t};\n\n\t/*\n\tReturns the items from the current list that are after the item named in the operand\n\t*/\n\texports.allafter = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tindex = results.indexOf(operator.operand);\n\t\treturn (index === -1) ? [] :\n\t\t\t(operator.suffix) ? results.slice(index) :\n\t\t\tresults.slice(index + 1);\n\t};\n\n\t/*\n\tReturns the items from the current list that are before the item named in the operand\n\t*/\n\texports.allbefore = function (source, operator) {\n\t\tvar results = prepare_results(source),\n\t\t\tindex = results.indexOf(operator.operand);\n\t\treturn (index === -1) ? [] :\n\t\t\t(operator.suffix) ? results.slice(0, index + 1) :\n\t\t\tresults.slice(0, index);\n\t};\n\n\t/*\n\tAppends the items listed in the operand array to the tail of the current list\n\t*/\n\texports.append = function (source, operator) {\n\t\tvar append = $tw.utils.parseStringArray(operator.operand, \"true\"),\n\t\t\tresults = prepare_results(source),\n\t\t\tcount = parseInt(operator.suffix) || append.length;\n\t\treturn (append.length === 0) ? results :\n\t\t\t(operator.prefix) ? results.concat(append.slice(-count)) :\n\t\t\tresults.concat(append.slice(0, count));\n\t};\n\n\t/*\n\tPrepends the items listed in the operand array to the head of the current list\n\t*/\n\texports.prepend = function (source, operator) {\n\t\tvar prepend = $tw.utils.parseStringArray(operator.operand, \"true\"),\n\t\t\tresults = prepare_results(source),\n\t\t\tcount = $tw.utils.getInt(operator.suffix,prepend.length);\n\t\treturn (prepend.length === 0) ? results :\n\t\t\t(operator.prefix) ? prepend.slice(-count).concat(results) :\n\t\t\tprepend.slice(0, count).concat(results);\n\t};\n\n\t/*\n\tReturns all items from the current list except the items listed in the operand array\n\t*/\n\texports.remove = function (source, operator) {\n\t\tvar array = $tw.utils.parseStringArray(operator.operand, \"true\"),\n\t\t\tresults = prepare_results(source),\n\t\t\tcount = parseInt(operator.suffix) || array.length,\n\t\t\tp,\n\t\t\tlen,\n\t\t\tindex;\n\t\tlen = array.length - 1;\n\t\tfor (p = 0; p &lt; count; ++p) {\n\t\t\tif (operator.prefix) {\n\t\t\t\tindex = results.indexOf(array[len - p]);\n\t\t\t} else {\n\t\t\t\tindex = results.indexOf(array[p]);\n\t\t\t}\n\t\t\tif (index !== -1) {\n\t\t\t\tresults.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn results;\n\t};\n\n\t/*\n\tReturns all items from the current list sorted in the order of the items in the operand array\n\t*/\n\texports.sortby = function (source, operator) {\n\t\tvar results = prepare_results(source);\n\t\tif (!results || results.length &lt; 2) {\n\t\t\treturn results;\n\t\t}\n\t\tvar lookup = $tw.utils.parseStringArray(operator.operand, \"true\");\n\t\tresults.sort(function (a, b) {\n\t\t\treturn lookup.indexOf(a) - lookup.indexOf(b);\n\t\t});\n\t\treturn results;\n\t};\n\n\t/*\n\tRemoves all duplicate items from the current list\n\t*/\n\texports.unique = function (source, operator) {\n\t\tvar results = prepare_results(source);\n\t\tvar set = results.reduce(function (a, b) {\n\t\t\tif (a.indexOf(b) &lt; 0) {\n\t\t\t\ta.push(b);\n\t\t\t}\n\t\t\treturn a;\n\t\t}, []);\n\t\treturn set;\n\t};\n\n\tvar cycleValueInArray = function(results,operands,stepSize) {\n\t\tvar resultsIndex,\n\t\t\tstep = stepSize || 1,\n\t\t\ti = 0,\n\t\t\topLength = operands.length,\n\t\t\tnextOperandIndex;\t\t\n\t\tfor(i; i &lt; opLength; i++) {\n\t\t\tresultsIndex = results.indexOf(operands[i]);\n\t\t\tif(resultsIndex !== -1) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(resultsIndex !== -1) {\n\t\t\ti = i + step;\n\t\t\tnextOperandIndex = (i &lt; opLength ? i : i - opLength);\n\t\t\tif(operands.length &gt; 1) {\n\t\t\t\tresults.splice(resultsIndex,1,operands[nextOperandIndex]);\n\t\t\t} else {\n\t\t\t\tresults.splice(resultsIndex,1);\n\t\t\t}\n\t\t} else {\n\t\t\tresults.push(operands[0]);\n\t\t}\n\t\treturn results;\t\t\n\t}\n\n\t/*\n\tToggles an item in the current list.\n\t*/\t\n\texports.toggle = function(source,operator) {\n\t\treturn cycleValueInArray(prepare_results(source),operator.operands);\n\t}\n\n\texports.cycle = function(source,operator) {\n\t\tvar results = prepare_results(source),\n\t\t\toperands = (operator.operand.length ? $tw.utils.parseStringArray(operator.operand, \"true\") : [\"\"]),\n\t\t\tstep = $tw.utils.getInt(operator.operands[1]||\"\",1);\n\t\tif(step &lt; 0) {\n\t\t\toperands.reverse();\n\t\t\tstep = Math.abs(step);\n\t\t}\t\n\t\treturn cycleValueInArray(results,operands,step);\n\t}\n\t\n})();\n",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters.js": {
            "title": "$:/core/modules/filters.js",
            "text": "/*\\\ntitle: $:/core/modules/filters.js\ntype: application/javascript\nmodule-type: wikimethod\n\nAdds tiddler filtering methods to the $tw.Wiki object.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nParses an operation (i.e. a run) within a filter string\n\toperators: Array of array of operator nodes into which results should be inserted\n\tfilterString: filter string\n\tp: start position within the string\nReturns the new start position, after the parsed operation\n*/\nfunction parseFilterOperation(operators,filterString,p) {\n\tvar nextBracketPos, operator;\n\t// Skip the starting square bracket\n\tif(filterString.charAt(p++) !== \"[\") {\n\t\tthrow \"Missing [ in filter expression\";\n\t}\n\t// Process each operator in turn\n\tdo {\n\t\toperator = {};\n\t\t// Check for an operator prefix\n\t\tif(filterString.charAt(p) === \"!\") {\n\t\t\toperator.prefix = filterString.charAt(p++);\n\t\t}\n\t\t// Get the operator name\n\t\tnextBracketPos = filterString.substring(p).search(/[\\[\\{&lt;\\/]/);\n\t\tif(nextBracketPos === -1) {\n\t\t\tthrow \"Missing [ in filter expression\";\n\t\t}\n\t\tnextBracketPos += p;\n\t\tvar bracket = filterString.charAt(nextBracketPos);\n\t\toperator.operator = filterString.substring(p,nextBracketPos);\n\t\t// Any suffix?\n\t\tvar colon = operator.operator.indexOf(':');\n\t\tif(colon &gt; -1) {\n\t\t\t// The raw suffix for older filters\n\t\t\toperator.suffix = operator.operator.substring(colon + 1);\n\t\t\toperator.operator = operator.operator.substring(0,colon) || \"field\";\n\t\t\t// The processed suffix for newer filters\n\t\t\toperator.suffixes = [];\n\t\t\t$tw.utils.each(operator.suffix.split(\":\"),function(subsuffix) {\n\t\t\t\toperator.suffixes.push([]);\n\t\t\t\t$tw.utils.each(subsuffix.split(\",\"),function(entry) {\n\t\t\t\t\tentry = $tw.utils.trim(entry);\n\t\t\t\t\tif(entry) {\n\t\t\t\t\t\toperator.suffixes[operator.suffixes.length - 1].push(entry); \n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t// Empty operator means: title\n\t\telse if(operator.operator === \"\") {\n\t\t\toperator.operator = \"title\";\n\t\t}\n\t\toperator.operands = [];\n\t\tvar parseOperand = function(bracketType) {\n\t\t\tvar operand = {};\n\t\t\tswitch (bracketType) {\n\t\t\t\tcase \"{\": // Curly brackets\n\t\t\t\t\toperand.indirect = true;\n\t\t\t\t\tnextBracketPos = filterString.indexOf(\"}\",p);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"[\": // Square brackets\n\t\t\t\t\tnextBracketPos = filterString.indexOf(\"]\",p);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"&lt;\": // Angle brackets\n\t\t\t\t\toperand.variable = true;\n\t\t\t\t\tnextBracketPos = filterString.indexOf(\"&gt;\",p);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"/\": // regexp brackets\n\t\t\t\t\tvar rex = /^((?:[^\\\\\\/]|\\\\.)*)\\/(?:\\(([mygi]+)\\))?/g,\n\t\t\t\t\t\trexMatch = rex.exec(filterString.substring(p));\n\t\t\t\t\tif(rexMatch) {\n\t\t\t\t\t\toperator.regexp = new RegExp(rexMatch[1], rexMatch[2]);\n\t// DEPRECATION WARNING\n\tconsole.log(\"WARNING: Filter\",operator.operator,\"has a deprecated regexp operand\",operator.regexp);\n\t\t\t\t\t\tnextBracketPos = p + rex.lastIndex - 1;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthrow \"Unterminated regular expression in filter expression\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(nextBracketPos === -1) {\n\t\t\t\tthrow \"Missing closing bracket in filter expression\";\n\t\t\t}\n\t\t\tif(!operator.regexp) {\n\t\t\t\toperand.text = filterString.substring(p,nextBracketPos);\n\t\t\t\toperator.operands.push(operand);\n\t\t\t}\n\t\t\tp = nextBracketPos + 1;\n\t\t}\n\t\t\n\t\tp = nextBracketPos + 1;\n\t\tparseOperand(bracket);\n\t\t\n\t\t// Check for multiple operands\n\t\twhile(filterString.charAt(p) === \",\") {\n\t\t\tp++;\n\t\t\tif(/^[\\[\\{&lt;\\/]/.test(filterString.substring(p))) {\n\t\t\t\tnextBracketPos = p;\n\t\t\t\tp++;\n\t\t\t\tparseOperand(filterString.charAt(nextBracketPos));\n\t\t\t} else {\n\t\t\t\tthrow \"Missing [ in filter expression\";\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Push this operator\n\t\toperators.push(operator);\n\t} while(filterString.charAt(p) !== \"]\");\n\t// Skip the ending square bracket\n\tif(filterString.charAt(p++) !== \"]\") {\n\t\tthrow \"Missing ] in filter expression\";\n\t}\n\t// Return the parsing position\n\treturn p;\n}\n\n/*\nParse a filter string\n*/\nexports.parseFilter = function(filterString) {\n\tfilterString = filterString || \"\";\n\tvar results = [], // Array of arrays of operator nodes {operator:,operand:}\n\t\tp = 0, // Current position in the filter string\n\t\tmatch;\n\tvar whitespaceRegExp = /(\\s+)/mg,\n\t\toperandRegExp = /((?:\\+|\\-|~|=|\\:(\\w+))?)(?:(\\[)|(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s\\[\\]]+))/mg;\n\twhile(p &lt; filterString.length) {\n\t\t// Skip any whitespace\n\t\twhitespaceRegExp.lastIndex = p;\n\t\tmatch = whitespaceRegExp.exec(filterString);\n\t\tif(match &amp;&amp; match.index === p) {\n\t\t\tp = p + match[0].length;\n\t\t}\n\t\t// Match the start of the operation\n\t\tif(p &lt; filterString.length) {\n\t\t\toperandRegExp.lastIndex = p;\n\t\t\tmatch = operandRegExp.exec(filterString);\n\t\t\tif(!match || match.index !== p) {\n\t\t\t\tthrow $tw.language.getString(\"Error/FilterSyntax\");\n\t\t\t}\n\t\t\tvar operation = {\n\t\t\t\tprefix: \"\",\n\t\t\t\toperators: []\n\t\t\t};\n\t\t\tif(match[1]) {\n\t\t\t\toperation.prefix = match[1];\n\t\t\t\tp = p + operation.prefix.length;\n\t\t\t\tif(match[2]) {\n\t\t\t\t\toperation.namedPrefix = match[2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(match[3]) { // Opening square bracket\n\t\t\t\tp = parseFilterOperation(operation.operators,filterString,p);\n\t\t\t} else {\n\t\t\t\tp = match.index + match[0].length;\n\t\t\t}\n\t\t\tif(match[4] || match[5] || match[6]) { // Double quoted string, single quoted string or unquoted title\n\t\t\t\toperation.operators.push(\n\t\t\t\t\t{operator: \"title\", operands: [{text: match[4] || match[5] || match[6]}]}\n\t\t\t\t);\n\t\t\t}\n\t\t\tresults.push(operation);\n\t\t}\n\t}\n\treturn results;\n};\n\nexports.getFilterOperators = function() {\n\tif(!this.filterOperators) {\n\t\t$tw.Wiki.prototype.filterOperators = {};\n\t\t$tw.modules.applyMethods(\"filteroperator\",this.filterOperators);\n\t}\n\treturn this.filterOperators;\n};\n\nexports.getFilterRunPrefixes = function() {\n\tif(!this.filterRunPrefixes) {\n\t\t$tw.Wiki.prototype.filterRunPrefixes = {};\n\t\t$tw.modules.applyMethods(\"filterrunprefix\",this.filterRunPrefixes);\n\t}\n\treturn this.filterRunPrefixes;\n}\n\nexports.filterTiddlers = function(filterString,widget,source) {\n\tvar fn = this.compileFilter(filterString);\n\treturn fn.call(this,source,widget);\n};\n\n/*\nCompile a filter into a function with the signature fn(source,widget) where:\nsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\nwidget: an optional widget node for retrieving the current tiddler etc.\n*/\nexports.compileFilter = function(filterString) {\n\tvar filterParseTree;\n\ttry {\n\t\tfilterParseTree = this.parseFilter(filterString);\n\t} catch(e) {\n\t\treturn function(source,widget) {\n\t\t\treturn [$tw.language.getString(\"Error/Filter\") + \": \" + e];\n\t\t};\n\t}\n\t// Get the hashmap of filter operator functions\n\tvar filterOperators = this.getFilterOperators();\n\t// Assemble array of functions, one for each operation\n\tvar operationFunctions = [];\n\t// Step through the operations\n\tvar self = this;\n\t$tw.utils.each(filterParseTree,function(operation) {\n\t\t// Create a function for the chain of operators in the operation\n\t\tvar operationSubFunction = function(source,widget) {\n\t\t\tvar accumulator = source,\n\t\t\t\tresults = [],\n\t\t\t\tcurrTiddlerTitle = widget &amp;&amp; widget.getVariable(\"currentTiddler\");\n\t\t\t$tw.utils.each(operation.operators,function(operator) {\n\t\t\t\tvar operands = [],\n\t\t\t\t\toperatorFunction;\n\t\t\t\tif(!operator.operator) {\n\t\t\t\t\toperatorFunction = filterOperators.title;\n\t\t\t\t} else if(!filterOperators[operator.operator]) {\n\t\t\t\t\toperatorFunction = filterOperators.field;\n\t\t\t\t} else {\n\t\t\t\t\toperatorFunction = filterOperators[operator.operator];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$tw.utils.each(operator.operands,function(operand) {\n\t\t\t\t\tif(operand.indirect) {\n\t\t\t\t\t\toperand.value = self.getTextReference(operand.text,\"\",currTiddlerTitle);\n\t\t\t\t\t} else if(operand.variable) {\n\t\t\t\t\t\toperand.value = widget.getVariable(operand.text,{defaultValue: \"\"});\n\t\t\t\t\t} else {\n\t\t\t\t\t\toperand.value = operand.text;\n\t\t\t\t\t}\n\t\t\t\t\toperands.push(operand.value);\n\t\t\t\t});\n\n\t\t\t\t// Invoke the appropriate filteroperator module\n\t\t\t\tresults = operatorFunction(accumulator,{\n\t\t\t\t\t\t\toperator: operator.operator,\n\t\t\t\t\t\t\toperand: operands.length &gt; 0 ? operands[0] : undefined,\n\t\t\t\t\t\t\toperands: operands,\n\t\t\t\t\t\t\tprefix: operator.prefix,\n\t\t\t\t\t\t\tsuffix: operator.suffix,\n\t\t\t\t\t\t\tsuffixes: operator.suffixes,\n\t\t\t\t\t\t\tregexp: operator.regexp\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\twiki: self,\n\t\t\t\t\t\t\twidget: widget\n\t\t\t\t\t\t});\n\t\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\t\taccumulator = self.makeTiddlerIterator(results);\n\t\t\t\t} else {\n\t\t\t\t\taccumulator = results;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\treturn results;\n\t\t\t} else {\n\t\t\t\tvar resultArray = [];\n\t\t\t\tresults(function(tiddler,title) {\n\t\t\t\t\tresultArray.push(title);\n\t\t\t\t});\n\t\t\t\treturn resultArray;\n\t\t\t}\n\t\t};\n\t\tvar filterRunPrefixes = self.getFilterRunPrefixes();\n\t\t// Wrap the operator functions in a wrapper function that depends on the prefix\n\t\toperationFunctions.push((function() {\n\t\t\tvar options = {wiki: self};\n\t\t\tswitch(operation.prefix || \"\") {\n\t\t\t\tcase \"\": // No prefix means that the operation is unioned into the result\n\t\t\t\t\treturn filterRunPrefixes[\"or\"](operationSubFunction, options);\n\t\t\t\tcase \"=\": // The results of the operation are pushed into the result without deduplication\n\t\t\t\t\treturn filterRunPrefixes[\"all\"](operationSubFunction, options);\n\t\t\t\tcase \"-\": // The results of this operation are removed from the main result\n\t\t\t\t\treturn filterRunPrefixes[\"except\"](operationSubFunction, options);\n\t\t\t\tcase \"+\": // This operation is applied to the main results so far\n\t\t\t\t\treturn filterRunPrefixes[\"and\"](operationSubFunction, options);\n\t\t\t\tcase \"~\": // This operation is unioned into the result only if the main result so far is empty\n\t\t\t\t\treturn filterRunPrefixes[\"else\"](operationSubFunction, options);\n\t\t\t\tdefault: \n\t\t\t\t\tif(operation.namedPrefix &amp;&amp; filterRunPrefixes[operation.namedPrefix]) {\n\t\t\t\t\t\treturn filterRunPrefixes[operation.namedPrefix](operationSubFunction, options);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t\tresults.clear();\n\t\t\t\t\t\t\tresults.push($tw.language.getString(\"Error/FilterRunPrefix\"));\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t}\n\t\t})());\n\t});\n\t// Return a function that applies the operations to a source iterator of tiddler titles\n\treturn $tw.perf.measure(\"filter: \" + filterString,function filterFunction(source,widget) {\n\t\tif(!source) {\n\t\t\tsource = self.each;\n\t\t} else if(typeof source === \"object\") { // Array or hashmap\n\t\t\tsource = self.makeTiddlerIterator(source);\n\t\t}\n\t\tvar results = new $tw.utils.LinkedList();\n\t\t$tw.utils.each(operationFunctions,function(operationFunction) {\n\t\t\toperationFunction(results,source,widget);\n\t\t});\n\t\treturn results.toArray();\n\t});\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikimethod"
        },
        "$:/core/modules/indexers/backlinks-indexer.js": {
            "title": "$:/core/modules/indexers/backlinks-indexer.js",
            "text": "/*\\\ntitle: $:/core/modules/indexers/backlinks-indexer.js\ntype: application/javascript\nmodule-type: indexer\n\nIndexes the tiddlers' backlinks\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global modules: false */\n\"use strict\";\n\n\nfunction BacklinksIndexer(wiki) {\n\tthis.wiki = wiki;\n}\n\nBacklinksIndexer.prototype.init = function() {\n\tthis.index = null;\n}\n\nBacklinksIndexer.prototype.rebuild = function() {\n\tthis.index = null;\n}\n\nBacklinksIndexer.prototype._getLinks = function(tiddler) {\n\tvar parser =  this.wiki.parseText(tiddler.fields.type, tiddler.fields.text, {});\n\tif(parser) {\n\t\treturn this.wiki.extractLinks(parser.tree);\n\t}\n\treturn [];\n}\n\nBacklinksIndexer.prototype.update = function(updateDescriptor) {\n\tif(!this.index) {\n\t\treturn;\n\t}\n\tvar newLinks = [],\n\t    oldLinks = [],\n\t    self = this;\n\tif(updateDescriptor.old.exists) {\n\t\toldLinks = this._getLinks(updateDescriptor.old.tiddler);\n\t}\n\tif(updateDescriptor.new.exists) {\n\t\tnewLinks = this._getLinks(updateDescriptor.new.tiddler);\n\t}\n\n\t$tw.utils.each(oldLinks,function(link) {\n\t\tif(self.index[link]) {\n\t\t\tdelete self.index[link][updateDescriptor.old.tiddler.fields.title];\n\t\t}\n\t});\n\t$tw.utils.each(newLinks,function(link) {\n\t\tif(!self.index[link]) {\n\t\t\tself.index[link] = Object.create(null);\n\t\t}\n\t\tself.index[link][updateDescriptor.new.tiddler.fields.title] = true;\n\t});\n}\n\nBacklinksIndexer.prototype.lookup = function(title) {\n\tif(!this.index) {\n\t\tthis.index = Object.create(null);\n\t\tvar self = this;\n\t\tthis.wiki.forEachTiddler(function(title,tiddler) {\n\t\t\tvar links = self._getLinks(tiddler);\n\t\t\t$tw.utils.each(links, function(link) {\n\t\t\t\tif(!self.index[link]) {\n\t\t\t\t\tself.index[link] = Object.create(null);\n\t\t\t\t}\n\t\t\t\tself.index[link][title] = true;\n\t\t\t});\n\t\t});\n\t}\n\tif(this.index[title]) {\n\t\treturn Object.keys(this.index[title]);\n\t} else {\n\t\treturn [];\n\t}\n}\n\nexports.BacklinksIndexer = BacklinksIndexer;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "indexer"
        },
        "$:/core/modules/indexers/field-indexer.js": {
            "title": "$:/core/modules/indexers/field-indexer.js",
            "text": "/*\\\ntitle: $:/core/modules/indexers/field-indexer.js\ntype: application/javascript\nmodule-type: indexer\n\nIndexes the tiddlers with each field value\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global modules: false */\n\"use strict\";\n\nvar DEFAULT_MAXIMUM_INDEXED_VALUE_LENGTH = 128;\n\nfunction FieldIndexer(wiki) {\n\tthis.wiki = wiki;\n}\n\nFieldIndexer.prototype.init = function() {\n\tthis.index = null;\n\tthis.maxIndexedValueLength = DEFAULT_MAXIMUM_INDEXED_VALUE_LENGTH;\n\tthis.addIndexMethods();\n}\n\n// Provided for testing\nFieldIndexer.prototype.setMaxIndexedValueLength = function(length) {\n\tthis.index = null;\n\tthis.maxIndexedValueLength = length;\n};\n\nFieldIndexer.prototype.addIndexMethods = function() {\n\tvar self = this;\n\tthis.wiki.each.byField = function(name,value) {\n\t\tvar titles = self.wiki.allTitles(),\n\t\t\tlookup = self.lookup(name,value);\n\t\treturn lookup &amp;&amp; lookup.filter(function(title) {\n\t\t\treturn titles.indexOf(title) !== -1;\n\t\t});\n\t};\n\tthis.wiki.eachShadow.byField = function(name,value) {\n\t\tvar titles = self.wiki.allShadowTitles(),\n\t\t\tlookup = self.lookup(name,value);\n\t\treturn lookup &amp;&amp; lookup.filter(function(title) {\n\t\t\treturn titles.indexOf(title) !== -1;\n\t\t});\n\t};\n\tthis.wiki.eachTiddlerPlusShadows.byField = function(name,value) {\n\t\tvar lookup = self.lookup(name,value);\n\t\treturn lookup ? lookup.slice(0) : null;\n\t};\n\tthis.wiki.eachShadowPlusTiddlers.byField = function(name,value) {\n\t\tvar lookup = self.lookup(name,value);\n\t\treturn lookup ? lookup.slice(0) : null;\n\t};\n};\n\n/*\nTear down and then rebuild the index as if all tiddlers have changed\n*/\nFieldIndexer.prototype.rebuild = function() {\n\t// Invalidate the index so that it will be rebuilt when it is next used\n\tthis.index = null;\n};\n\n/*\nBuild the index for a particular field\n*/\nFieldIndexer.prototype.buildIndexForField = function(name) {\n\tvar self = this;\n\t// Hashmap by field name of hashmap by field value of array of tiddler titles\n\tthis.index = this.index || Object.create(null);\n\tthis.index[name] = Object.create(null);\n\tvar baseIndex = this.index[name];\n\t// Update the index for each tiddler\n\tthis.wiki.eachTiddlerPlusShadows(function(tiddler,title) {\n\t\tif(name in tiddler.fields) {\n\t\t\tvar value = tiddler.getFieldString(name);\n\t\t\t// Skip any values above the maximum length\n\t\t\tif(value.length &lt; self.maxIndexedValueLength) {\n\t\t\t\tbaseIndex[value] = baseIndex[value] || [];\n\t\t\t\tbaseIndex[value].push(title);\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nUpdate the index in the light of a tiddler value changing; note that the title must be identical. (Renames are handled as a separate delete and create)\nupdateDescriptor: {old: {tiddler: &lt;tiddler&gt;, shadow: &lt;boolean&gt;, exists: &lt;boolean&gt;},new: {tiddler: &lt;tiddler&gt;, shadow: &lt;boolean&gt;, exists: &lt;boolean&gt;}}\n*/\nFieldIndexer.prototype.update = function(updateDescriptor) {\n\tvar self = this;\n\t// Don't do anything if the index hasn't been built yet\n\tif(this.index === null) {\n\t\treturn;\n\t}\n\t// Remove the old tiddler from the index\n\tif(updateDescriptor.old.tiddler) {\n\t\t$tw.utils.each(this.index,function(indexEntry,name) {\n\t\t\tif(name in updateDescriptor.old.tiddler.fields) {\n\t\t\t\tvar value = updateDescriptor.old.tiddler.getFieldString(name),\n\t\t\t\t\ttiddlerList = indexEntry[value];\n\t\t\t\tif(tiddlerList) {\n\t\t\t\t\tvar index = tiddlerList.indexOf(updateDescriptor.old.tiddler.fields.title);\n\t\t\t\t\tif(index !== -1) {\n\t\t\t\t\t\ttiddlerList.splice(index,1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t// Add the new tiddler to the index\n\tif(updateDescriptor[\"new\"].tiddler) {\n\t\t$tw.utils.each(this.index,function(indexEntry,name) {\n\t\t\tif(name in updateDescriptor[\"new\"].tiddler.fields) {\n\t\t\t\tvar value = updateDescriptor[\"new\"].tiddler.getFieldString(name);\n\t\t\t\tif(value.length &lt; self.maxIndexedValueLength) {\n\t\t\t\t\tindexEntry[value] = indexEntry[value] || [];\n\t\t\t\t\tindexEntry[value].push(updateDescriptor[\"new\"].tiddler.fields.title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\t\t\n\t}\n};\n\n// Lookup the given field returning a list of tiddler titles\nFieldIndexer.prototype.lookup = function(name,value) {\n\t// Fail the lookup if the value is too long\n\tif(value.length &gt;= this.maxIndexedValueLength) {\n\t\treturn null;\n\t}\n\t// Update the index if it has yet to be built\n\tif(this.index === null || !this.index[name]) {\n\t\tthis.buildIndexForField(name);\n\t}\n\treturn this.index[name][value] || [];\n};\n\nexports.FieldIndexer = FieldIndexer;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "indexer"
        },
        "$:/core/modules/indexers/tag-indexer.js": {
            "title": "$:/core/modules/indexers/tag-indexer.js",
            "text": "/*\\\ntitle: $:/core/modules/indexers/tag-indexer.js\ntype: application/javascript\nmodule-type: indexer\n\nIndexes the tiddlers with each tag\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global modules: false */\n\"use strict\";\n\nfunction TagIndexer(wiki) {\n\tthis.wiki = wiki;\n}\n\nTagIndexer.prototype.init = function() {\n\tthis.subIndexers = [\n\t\tnew TagSubIndexer(this,\"each\"),\n\t\tnew TagSubIndexer(this,\"eachShadow\"),\n\t\tnew TagSubIndexer(this,\"eachTiddlerPlusShadows\"),\n\t\tnew TagSubIndexer(this,\"eachShadowPlusTiddlers\")\n\t];\n\t$tw.utils.each(this.subIndexers,function(subIndexer) {\n\t\tsubIndexer.addIndexMethod();\n\t});\n};\n\nTagIndexer.prototype.rebuild = function() {\n\t$tw.utils.each(this.subIndexers,function(subIndexer) {\n\t\tsubIndexer.rebuild();\n\t});\n};\n\nTagIndexer.prototype.update = function(updateDescriptor) {\n\t$tw.utils.each(this.subIndexers,function(subIndexer) {\n\t\tsubIndexer.update(updateDescriptor);\n\t});\n};\n\nfunction TagSubIndexer(indexer,iteratorMethod) {\n\tthis.indexer = indexer;\n\tthis.iteratorMethod = iteratorMethod;\n\tthis.index = null; // Hashmap of tag title to {isSorted: bool, titles: [array]} or null if not yet initialised\n}\n\nTagSubIndexer.prototype.addIndexMethod = function() {\n\tvar self = this;\n\tthis.indexer.wiki[this.iteratorMethod].byTag = function(tag) {\n\t\treturn self.lookup(tag).slice(0);\n\t};\n};\n\nTagSubIndexer.prototype.rebuild = function() {\n\tvar self = this;\n\t// Hashmap by tag of array of {isSorted:, titles:[]}\n\tthis.index = Object.create(null);\n\t// Add all the tags\n\tthis.indexer.wiki[this.iteratorMethod](function(tiddler,title) {\n\t\t$tw.utils.each(tiddler.fields.tags,function(tag) {\n\t\t\tif(!self.index[tag]) {\n\t\t\t\tself.index[tag] = {isSorted: false, titles: [title]};\n\t\t\t} else {\n\t\t\t\tself.index[tag].titles.push(title);\n\t\t\t}\n\t\t});\t\t\n\t});\n};\n\nTagSubIndexer.prototype.update = function(updateDescriptor) {\n\tthis.index = null;\n};\n\nTagSubIndexer.prototype.lookup = function(tag) {\n\t// Update the index if it has yet to be built\n\tif(this.index === null) {\n\t\tthis.rebuild();\n\t}\n\tvar indexRecord = this.index[tag];\n\tif(indexRecord) {\n\t\tif(!indexRecord.isSorted) {\n\t\t\tif(this.indexer.wiki.sortByList) {\n\t\t\t\tindexRecord.titles = this.indexer.wiki.sortByList(indexRecord.titles,tag);\n\t\t\t}\t\t\t\n\t\t\tindexRecord.isSorted = true;\n\t\t}\n\t\treturn indexRecord.titles;\n\t} else {\n\t\treturn [];\n\t}\n};\n\n\nexports.TagIndexer = TagIndexer;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "indexer"
        },
        "$:/core/modules/info/platform.js": {
            "title": "$:/core/modules/info/platform.js",
            "text": "/*\\\ntitle: $:/core/modules/info/platform.js\ntype: application/javascript\nmodule-type: info\n\nInitialise basic platform $:/info/ tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.getInfoTiddlerFields = function(updateInfoTiddlersCallback) {\n\tvar mapBoolean = function(value) {return value ? \"yes\" : \"no\";},\n\t\tinfoTiddlerFields = [];\n\t// Basics\n\tinfoTiddlerFields.push({title: \"$:/info/browser\", text: mapBoolean(!!$tw.browser)});\n\tinfoTiddlerFields.push({title: \"$:/info/node\", text: mapBoolean(!!$tw.node)});\n\tinfoTiddlerFields.push({title: \"$:/info/startup-timestamp\", text: $tw.utils.stringifyDate(new Date())});\n\tif($tw.browser) {\n\t\t// Document location\n\t\tvar setLocationProperty = function(name,value) {\n\t\t\t\tinfoTiddlerFields.push({title: \"$:/info/url/\" + name, text: value});\t\t\t\n\t\t\t},\n\t\t\tlocation = document.location;\n\t\tsetLocationProperty(\"full\", (location.toString()).split(\"#\")[0]);\n\t\tsetLocationProperty(\"host\", location.host);\n\t\tsetLocationProperty(\"hostname\", location.hostname);\n\t\tsetLocationProperty(\"protocol\", location.protocol);\n\t\tsetLocationProperty(\"port\", location.port);\n\t\tsetLocationProperty(\"pathname\", location.pathname);\n\t\tsetLocationProperty(\"search\", location.search);\n\t\tsetLocationProperty(\"origin\", location.origin);\n\t\t// Screen size\n\t\tinfoTiddlerFields.push({title: \"$:/info/browser/screen/width\", text: window.screen.width.toString()});\n\t\tinfoTiddlerFields.push({title: \"$:/info/browser/screen/height\", text: window.screen.height.toString()});\n \t\t// Dark mode through event listener on MediaQueryList\n \t\tvar mqList = window.matchMedia(\"(prefers-color-scheme: dark)\"),\n \t\t\tgetDarkModeTiddler = function() {return {title: \"$:/info/darkmode\", text: mqList.matches ? \"yes\" : \"no\"};};\n \t\tinfoTiddlerFields.push(getDarkModeTiddler());\n \t\tmqList.addListener(function(event) {\n \t\t\tupdateInfoTiddlersCallback([getDarkModeTiddler()]);\n \t\t});\n\t\t// Language\n\t\tinfoTiddlerFields.push({title: \"$:/info/browser/language\", text: navigator.language || \"\"});\n\t}\n\treturn infoTiddlerFields;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "info"
        },
        "$:/core/modules/keyboard.js": {
            "title": "$:/core/modules/keyboard.js",
            "text": "/*\\\ntitle: $:/core/modules/keyboard.js\ntype: application/javascript\nmodule-type: global\n\nKeyboard handling utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar namedKeys = {\n\t\"cancel\": 3,\n\t\"help\": 6,\n\t\"backspace\": 8,\n\t\"tab\": 9,\n\t\"clear\": 12,\n\t\"return\": 13,\n\t\"enter\": 13,\n\t\"pause\": 19,\n\t\"escape\": 27,\n\t\"space\": 32,\n\t\"page_up\": 33,\n\t\"page_down\": 34,\n\t\"end\": 35,\n\t\"home\": 36,\n\t\"left\": 37,\n\t\"up\": 38,\n\t\"right\": 39,\n\t\"down\": 40,\n\t\"printscreen\": 44,\n\t\"insert\": 45,\n\t\"delete\": 46,\n\t\"0\": 48,\n\t\"1\": 49,\n\t\"2\": 50,\n\t\"3\": 51,\n\t\"4\": 52,\n\t\"5\": 53,\n\t\"6\": 54,\n\t\"7\": 55,\n\t\"8\": 56,\n\t\"9\": 57,\n\t\"firefoxsemicolon\": 59,\n\t\"firefoxequals\": 61,\n\t\"a\": 65,\n\t\"b\": 66,\n\t\"c\": 67,\n\t\"d\": 68,\n\t\"e\": 69,\n\t\"f\": 70,\n\t\"g\": 71,\n\t\"h\": 72,\n\t\"i\": 73,\n\t\"j\": 74,\n\t\"k\": 75,\n\t\"l\": 76,\n\t\"m\": 77,\n\t\"n\": 78,\n\t\"o\": 79,\n\t\"p\": 80,\n\t\"q\": 81,\n\t\"r\": 82,\n\t\"s\": 83,\n\t\"t\": 84,\n\t\"u\": 85,\n\t\"v\": 86,\n\t\"w\": 87,\n\t\"x\": 88,\n\t\"y\": 89,\n\t\"z\": 90,\n\t\"numpad0\": 96,\n\t\"numpad1\": 97,\n\t\"numpad2\": 98,\n\t\"numpad3\": 99,\n\t\"numpad4\": 100,\n\t\"numpad5\": 101,\n\t\"numpad6\": 102,\n\t\"numpad7\": 103,\n\t\"numpad8\": 104,\n\t\"numpad9\": 105,\n\t\"multiply\": 106,\n\t\"add\": 107,\n\t\"separator\": 108,\n\t\"subtract\": 109,\n\t\"decimal\": 110,\n\t\"divide\": 111,\n\t\"f1\": 112,\n\t\"f2\": 113,\n\t\"f3\": 114,\n\t\"f4\": 115,\n\t\"f5\": 116,\n\t\"f6\": 117,\n\t\"f7\": 118,\n\t\"f8\": 119,\n\t\"f9\": 120,\n\t\"f10\": 121,\n\t\"f11\": 122,\n\t\"f12\": 123,\n\t\"f13\": 124,\n\t\"f14\": 125,\n\t\"f15\": 126,\n\t\"f16\": 127,\n\t\"f17\": 128,\n\t\"f18\": 129,\n\t\"f19\": 130,\n\t\"f20\": 131,\n\t\"f21\": 132,\n\t\"f22\": 133,\n\t\"f23\": 134,\n\t\"f24\": 135,\n\t\"firefoxminus\": 173,\n\t\"semicolon\": 186,\n\t\"equals\": 187,\n\t\"comma\": 188,\n\t\"dash\": 189,\n\t\"period\": 190,\n\t\"slash\": 191,\n\t\"backquote\": 192,\n\t\"openbracket\": 219,\n\t\"backslash\": 220,\n\t\"closebracket\": 221,\n\t\"quote\": 222\n};\n\nfunction KeyboardManager(options) {\n\tvar self = this;\n\toptions = options || \"\";\n\t// Save the named key hashmap\n\tthis.namedKeys = namedKeys;\n\t// Create a reverse mapping of code to keyname\n\tthis.keyNames = [];\n\t$tw.utils.each(namedKeys,function(keyCode,name) {\n\t\tself.keyNames[keyCode] = name.substr(0,1).toUpperCase() + name.substr(1);\n\t});\n\t// Save the platform-specific name of the \"meta\" key\n\tthis.metaKeyName = $tw.platform.isMac ? \"cmd-\" : \"win-\";\n\tthis.shortcutKeysList = [], // Stores the shortcut-key descriptors\n\tthis.shortcutActionList = [], // Stores the corresponding action strings\n\tthis.shortcutParsedList = []; // Stores the parsed key descriptors\n\tthis.lookupNames = [\"shortcuts\"];\n\tthis.lookupNames.push($tw.platform.isMac ? \"shortcuts-mac\" : \"shortcuts-not-mac\")\n\tthis.lookupNames.push($tw.platform.isWindows ? \"shortcuts-windows\" : \"shortcuts-not-windows\");\n\tthis.lookupNames.push($tw.platform.isLinux ? \"shortcuts-linux\" : \"shortcuts-not-linux\");\n\tthis.updateShortcutLists(this.getShortcutTiddlerList());\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\tself.handleShortcutChanges(changes);\n\t});\n}\n\n/*\nReturn an array of keycodes for the modifier keys ctrl, shift, alt, meta\n*/\nKeyboardManager.prototype.getModifierKeys = function() {\n\treturn [\n\t\t16, // Shift\n\t\t17, // Ctrl\n\t\t18, // Alt\n\t\t20, // CAPS LOCK\n\t\t91, // Meta (left)\n\t\t93, // Meta (right)\n\t\t224 // Meta (Firefox)\n\t]\n};\n\n/*\nParses a key descriptor into the structure:\n{\n\tkeyCode: numeric keycode\n\tshiftKey: boolean\n\taltKey: boolean\n\tctrlKey: boolean\n\tmetaKey: boolean\n}\nKey descriptors have the following format:\n\tctrl+enter\n\tctrl+shift+alt+A\n*/\nKeyboardManager.prototype.parseKeyDescriptor = function(keyDescriptor) {\n\tvar components = keyDescriptor.split(/\\+|\\-/),\n\t\tinfo = {\n\t\t\tkeyCode: 0,\n\t\t\tshiftKey: false,\n\t\t\taltKey: false,\n\t\t\tctrlKey: false,\n\t\t\tmetaKey: false\n\t\t};\n\tfor(var t=0; t&lt;components.length; t++) {\n\t\tvar s = components[t].toLowerCase(),\n\t\t\tc = s.charCodeAt(0);\n\t\t// Look for modifier keys\n\t\tif(s === \"ctrl\") {\n\t\t\tinfo.ctrlKey = true;\n\t\t} else if(s === \"shift\") {\n\t\t\tinfo.shiftKey = true;\n\t\t} else if(s === \"alt\") {\n\t\t\tinfo.altKey = true;\n\t\t} else if(s === \"meta\" || s === \"cmd\" || s === \"win\") {\n\t\t\tinfo.metaKey = true;\n\t\t}\n\t\t// Replace named keys with their code\n\t\tif(this.namedKeys[s]) {\n\t\t\tinfo.keyCode = this.namedKeys[s];\n\t\t}\n\t}\n\tif(info.keyCode) {\n\t\treturn info;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nParse a list of key descriptors into an array of keyInfo objects. The key descriptors can be passed as an array of strings or a space separated string\n*/\nKeyboardManager.prototype.parseKeyDescriptors = function(keyDescriptors,options) {\n\tvar self = this;\n\toptions = options || {};\n\toptions.stack = options.stack || [];\n\tvar wiki = options.wiki || $tw.wiki;\n\tif(typeof keyDescriptors === \"string\" &amp;&amp; keyDescriptors === \"\") {\n\t\treturn [];\n\t}\n\tif(!$tw.utils.isArray(keyDescriptors)) {\n\t\tkeyDescriptors = keyDescriptors.split(\" \");\n\t}\n\tvar result = [];\n\t$tw.utils.each(keyDescriptors,function(keyDescriptor) {\n\t\t// Look for a named shortcut\n\t\tif(keyDescriptor.substr(0,2) === \"((\" &amp;&amp; keyDescriptor.substr(-2,2) === \"))\") {\n\t\t\tif(options.stack.indexOf(keyDescriptor) === -1) {\n\t\t\t\toptions.stack.push(keyDescriptor);\n\t\t\t\tvar name = keyDescriptor.substring(2,keyDescriptor.length - 2),\n\t\t\t\t\tlookupName = function(configName) {\n\t\t\t\t\t\tvar keyDescriptors = wiki.getTiddlerText(\"$:/config/\" + configName + \"/\" + name);\n\t\t\t\t\t\tif(keyDescriptors) {\n\t\t\t\t\t\t\tresult.push.apply(result,self.parseKeyDescriptors(keyDescriptors,options));\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t$tw.utils.each(self.lookupNames,function(platformDescriptor) {\n\t\t\t\t\tlookupName(platformDescriptor);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tresult.push(self.parseKeyDescriptor(keyDescriptor));\n\t\t}\n\t});\n\treturn result;\n};\n\nKeyboardManager.prototype.getPrintableShortcuts = function(keyInfoArray) {\n\tvar self = this,\n\t\tresult = [];\n\t$tw.utils.each(keyInfoArray,function(keyInfo) {\n\t\tif(keyInfo) {\n\t\t\tresult.push((keyInfo.ctrlKey ? \"ctrl-\" : \"\") + \n\t\t\t\t   (keyInfo.shiftKey ? \"shift-\" : \"\") + \n\t\t\t\t   (keyInfo.altKey ? \"alt-\" : \"\") + \n\t\t\t\t   (keyInfo.metaKey ? self.metaKeyName : \"\") + \n\t\t\t\t   (self.keyNames[keyInfo.keyCode]));\n\t\t}\n\t});\n\treturn result;\n}\n\nKeyboardManager.prototype.checkKeyDescriptor = function(event,keyInfo) {\n\treturn keyInfo &amp;&amp;\n\t\t\tevent.keyCode === keyInfo.keyCode &amp;&amp; \n\t\t\tevent.shiftKey === keyInfo.shiftKey &amp;&amp; \n\t\t\tevent.altKey === keyInfo.altKey &amp;&amp; \n\t\t\tevent.ctrlKey === keyInfo.ctrlKey &amp;&amp; \n\t\t\tevent.metaKey === keyInfo.metaKey;\n};\n\nKeyboardManager.prototype.checkKeyDescriptors = function(event,keyInfoArray) {\n\tfor(var t=0; t&lt;keyInfoArray.length; t++) {\n\t\tif(this.checkKeyDescriptor(event,keyInfoArray[t])) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nKeyboardManager.prototype.getEventModifierKeyDescriptor = function(event) {\n\treturn event.ctrlKey &amp;&amp; !event.shiftKey &amp;&amp; !event.altKey &amp;&amp; !event.metaKey ? \"ctrl\" : \n\t\tevent.shiftKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.altKey &amp;&amp; !event.metaKey ? \"shift\" : \n\t\tevent.ctrlKey &amp;&amp; event.shiftKey &amp;&amp; !event.altKey &amp;&amp; !event.metaKey ? \"ctrl-shift\" : \n\t\tevent.altKey &amp;&amp; !event.shiftKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.metaKey ? \"alt\" : \n\t\tevent.altKey &amp;&amp; event.shiftKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.metaKey ? \"alt-shift\" : \n\t\tevent.altKey &amp;&amp; event.ctrlKey &amp;&amp; !event.shiftKey &amp;&amp; !event.metaKey ? \"ctrl-alt\" : \n\t\tevent.altKey &amp;&amp; event.shiftKey &amp;&amp; event.ctrlKey &amp;&amp; !event.metaKey ? \"ctrl-alt-shift\" : \n\t\tevent.metaKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.shiftKey &amp;&amp; !event.altKey ? \"meta\" : \n\t\tevent.metaKey &amp;&amp; event.ctrlKey &amp;&amp; !event.shiftKey &amp;&amp; !event.altKey ? \"meta-ctrl\" :\n\t\tevent.metaKey &amp;&amp; event.ctrlKey &amp;&amp; event.shiftKey &amp;&amp; !event.altKey ? \"meta-ctrl-shift\" :\n\t\tevent.metaKey &amp;&amp; event.ctrlKey &amp; event.shiftKey &amp;&amp; event.altKey ? \"meta-ctrl-alt-shift\" : \"normal\";\n};\n\nKeyboardManager.prototype.getShortcutTiddlerList = function() {\n\treturn $tw.wiki.getTiddlersWithTag(\"$:/tags/KeyboardShortcut\");\n};\n\nKeyboardManager.prototype.updateShortcutLists = function(tiddlerList) {\n\tthis.shortcutTiddlers = tiddlerList;\n\tfor(var i=0; i&lt;tiddlerList.length; i++) {\n\t\tvar title = tiddlerList[i],\n\t\t\ttiddlerFields = $tw.wiki.getTiddler(title).fields;\n\t\tthis.shortcutKeysList[i] = tiddlerFields.key !== undefined ? tiddlerFields.key : undefined;\n\t\tthis.shortcutActionList[i] = tiddlerFields.text;\n\t\tthis.shortcutParsedList[i] = this.shortcutKeysList[i] !== undefined ? this.parseKeyDescriptors(this.shortcutKeysList[i]) : undefined;\n\t}\n};\n\nKeyboardManager.prototype.handleKeydownEvent = function(event) {\n\tvar key, action;\n\tfor(var i=0; i&lt;this.shortcutTiddlers.length; i++) {\n\t\tif(this.shortcutParsedList[i] !== undefined &amp;&amp; this.checkKeyDescriptors(event,this.shortcutParsedList[i])) {\n\t\t\tkey = this.shortcutParsedList[i];\n\t\t\taction = this.shortcutActionList[i];\n\t\t}\n\t}\n\tif(key !== undefined) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\t$tw.rootWidget.invokeActionString(action,$tw.rootWidget);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nKeyboardManager.prototype.detectNewShortcuts = function(changedTiddlers) {\n\tvar shortcutConfigTiddlers = [],\n\t\thandled = false;\n\t$tw.utils.each(this.lookupNames,function(platformDescriptor) {\n\t\tvar descriptorString = \"$:/config/\" + platformDescriptor + \"/\";\n\t\tObject.keys(changedTiddlers).forEach(function(configTiddler) {\n\t\t\tvar configString = configTiddler.substr(0, configTiddler.lastIndexOf(\"/\") + 1);\n\t\t\tif(configString === descriptorString) {\n\t\t\t\tshortcutConfigTiddlers.push(configTiddler);\n\t\t\t\thandled = true;\n\t\t\t}\n\t\t});\n\t});\n\tif(handled) {\n\t\treturn $tw.utils.hopArray(changedTiddlers,shortcutConfigTiddlers);\n\t} else {\n\t\treturn false;\n\t}\n};\n\nKeyboardManager.prototype.handleShortcutChanges = function(changedTiddlers) {\n\tvar newList = this.getShortcutTiddlerList();\n\tvar hasChanged = $tw.utils.hopArray(changedTiddlers,this.shortcutTiddlers) ? true :\n\t\t($tw.utils.hopArray(changedTiddlers,newList) ? true :\n\t\t(this.detectNewShortcuts(changedTiddlers))\n\t);\n\t// Re-cache shortcuts if something changed\n\tif(hasChanged) {\n\t\tthis.updateShortcutLists(newList);\n\t}\n};\n\nexports.KeyboardManager = KeyboardManager;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/language.js": {
            "title": "$:/core/modules/language.js",
            "text": "/*\\\ntitle: $:/core/modules/language.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Language() manages translateable strings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nCreate an instance of the language manager. Options include:\nwiki: wiki from which to retrieve translation tiddlers\n*/\nfunction Language(options) {\n\toptions = options || \"\";\n\tthis.wiki = options.wiki || $tw.wiki;\n}\n\n/*\nReturn a wikified translateable string. The title is automatically prefixed with \"$:/language/\"\nOptions include:\nvariables: optional hashmap of variables to supply to the language wikification\n*/\nLanguage.prototype.getString = function(title,options) {\n\toptions = options || {};\n\ttitle = \"$:/language/\" + title;\n\treturn this.wiki.renderTiddler(\"text/plain\",title,{variables: options.variables});\n};\n\n/*\nReturn a raw, unwikified translateable string. The title is automatically prefixed with \"$:/language/\"\n*/\nLanguage.prototype.getRawString = function(title) {\n\ttitle = \"$:/language/\" + title;\n\treturn this.wiki.getTiddlerText(title);\n};\n\nexports.Language = Language;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/macros/changecount.js": {
            "title": "$:/core/modules/macros/changecount.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/changecount.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the changecount for the current tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"changecount\";\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn this.wiki.getChangeCount(this.getVariable(\"currentTiddler\")) + \"\";\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/contrastcolour.js": {
            "title": "$:/core/modules/macros/contrastcolour.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/contrastcolour.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to choose which of two colours has the highest contrast with a base colour\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"contrastcolour\";\n\nexports.params = [\n\t{name: \"target\"},\n\t{name: \"fallbackTarget\"},\n\t{name: \"colourA\"},\n\t{name: \"colourB\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(target,fallbackTarget,colourA,colourB) {\n\tvar rgbTarget = $tw.utils.parseCSSColor(target) || $tw.utils.parseCSSColor(fallbackTarget);\n\tif(!rgbTarget) {\n\t\treturn colourA;\n\t}\n\tvar rgbColourA = $tw.utils.parseCSSColor(colourA),\n\t\trgbColourB = $tw.utils.parseCSSColor(colourB);\n\tif(rgbColourA &amp;&amp; !rgbColourB) {\n\t\treturn rgbColourA;\n\t}\n\tif(rgbColourB &amp;&amp; !rgbColourA) {\n\t\treturn rgbColourB;\n\t}\n\tif(!rgbColourA &amp;&amp; !rgbColourB) {\n\t\t// If neither colour is readable, return a crude inverse of the target\n\t\treturn [255 - rgbTarget[0],255 - rgbTarget[1],255 - rgbTarget[2],rgbTarget[3]];\n\t}\n\t// Colour brightness formula derived from http://www.w3.org/WAI/ER/WD-AERT/#color-contrast\n\tvar brightnessTarget = rgbTarget[0] * 0.299 + rgbTarget[1] * 0.587 + rgbTarget[2] * 0.114,\n\t\tbrightnessA = rgbColourA[0] * 0.299 + rgbColourA[1] * 0.587 + rgbColourA[2] * 0.114,\n\t\tbrightnessB = rgbColourB[0] * 0.299 + rgbColourB[1] * 0.587 + rgbColourB[2] * 0.114;\n\treturn Math.abs(brightnessTarget - brightnessA) &gt; Math.abs(brightnessTarget - brightnessB) ? colourA : colourB;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/csvtiddlers.js": {
            "title": "$:/core/modules/macros/csvtiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/csvtiddlers.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to output tiddlers matching a filter to CSV\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"csvtiddlers\";\n\nexports.params = [\n\t{name: \"filter\"},\n\t{name: \"format\"},\n];\n\n/*\nRun the macro\n*/\nexports.run = function(filter,format) {\n\tvar self = this,\n\t\ttiddlers = this.wiki.filterTiddlers(filter),\n\t\ttiddler,\n\t\tfields = [],\n\t\tt,f;\n\t// Collect all the fields\n\tfor(t=0;t&lt;tiddlers.length; t++) {\n\t\ttiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\tfor(f in tiddler.fields) {\n\t\t\tif(fields.indexOf(f) === -1) {\n\t\t\t\tfields.push(f);\n\t\t\t}\n\t\t}\n\t}\n\t// Sort the fields and bring the standard ones to the front\n\tfields.sort();\n\t\"title text modified modifier created creator\".split(\" \").reverse().forEach(function(value,index) {\n\t\tvar p = fields.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tfields.splice(p,1);\n\t\t\tfields.unshift(value)\n\t\t}\n\t});\n\t// Output the column headings\n\tvar output = [], row = [];\n\tfields.forEach(function(value) {\n\t\trow.push(quoteAndEscape(value))\n\t});\n\toutput.push(row.join(\",\"));\n\t// Output each tiddler\n\tfor(var t=0;t&lt;tiddlers.length; t++) {\n\t\trow = [];\n\t\ttiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\t\tfor(f=0; f&lt;fields.length; f++) {\n\t\t\t\trow.push(quoteAndEscape(tiddler ? tiddler.getFieldString(fields[f]) || \"\" : \"\"));\n\t\t\t}\n\t\toutput.push(row.join(\",\"));\n\t}\n\treturn output.join(\"\\n\");\n};\n\nfunction quoteAndEscape(value) {\n\treturn \"\\\"\" + value.replace(/\"/mg,\"\\\"\\\"\") + \"\\\"\";\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/displayshortcuts.js": {
            "title": "$:/core/modules/macros/displayshortcuts.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/displayshortcuts.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to display a list of keyboard shortcuts in human readable form. Notably, it resolves named shortcuts like `((bold))` to the underlying keystrokes.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"displayshortcuts\";\n\nexports.params = [\n\t{name: \"shortcuts\"},\n\t{name: \"prefix\"},\n\t{name: \"separator\"},\n\t{name: \"suffix\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(shortcuts,prefix,separator,suffix) {\n\tvar shortcutArray = $tw.keyboardManager.getPrintableShortcuts($tw.keyboardManager.parseKeyDescriptors(shortcuts,{\n\t\twiki: this.wiki\n\t}));\n\tif(shortcutArray.length &gt; 0) {\n\t\tshortcutArray.sort(function(a,b) {\n\t\t    return a.toLowerCase().localeCompare(b.toLowerCase());\n\t\t})\n\t\treturn prefix + shortcutArray.join(separator) + suffix;\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/jsontiddler.js": {
            "title": "$:/core/modules/macros/jsontiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/jsontiddler.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to output a single tiddler to JSON\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"jsontiddler\";\n\nexports.params = [\n\t{name: \"title\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(title) {\n\ttitle = title || this.getVariable(\"currentTiddler\");\n\tvar tiddler = !!title &amp;&amp; this.wiki.getTiddler(title),\n\t\tfields = new Object();\n\tif(tiddler) {\n\t\tfor(var field in tiddler.fields) {\n\t\t\tfields[field] = tiddler.getFieldString(field);\n\t\t}\n\t}\n\treturn JSON.stringify(fields,null,$tw.config.preferences.jsonSpaces);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/jsontiddlers.js": {
            "title": "$:/core/modules/macros/jsontiddlers.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/jsontiddlers.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to output tiddlers matching a filter to JSON\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"jsontiddlers\";\n\nexports.params = [\n\t{name: \"filter\"},\n\t{name: \"spaces\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(filter,spaces) {\n\treturn this.wiki.getTiddlersAsJson(filter,$tw.utils.parseInt(spaces));\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/makedatauri.js": {
            "title": "$:/core/modules/macros/makedatauri.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/makedatauri.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to convert a string of text to a data URI\n\n&lt;&lt;makedatauri text:\"Text to be converted\" type:\"text/vnd.tiddlywiki\"&gt;&gt;\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"makedatauri\";\n\nexports.params = [\n\t{name: \"text\"},\n\t{name: \"type\"},\n\t{name: \"_canonical_uri\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(text,type,_canonical_uri) {\n\treturn $tw.utils.makeDataUri(text,type,_canonical_uri);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/now.js": {
            "title": "$:/core/modules/macros/now.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/now.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return a formatted version of the current time\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"now\";\n\nexports.params = [\n\t{name: \"format\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(format) {\n\treturn $tw.utils.formatDateString(new Date(),format || \"0hh:0mm, DDth MMM YYYY\");\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/qualify.js": {
            "title": "$:/core/modules/macros/qualify.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/qualify.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to qualify a state tiddler title according\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"qualify\";\n\nexports.params = [\n\t{name: \"title\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(title) {\n\treturn title + \"-\" + this.getStateQualifier();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/resolvepath.js": {
            "title": "$:/core/modules/macros/resolvepath.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/resolvepath.js\ntype: application/javascript\nmodule-type: macro\n\nResolves a relative path for an absolute rootpath.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"resolvepath\";\n\nexports.params = [\n\t{name: \"source\"},\n\t{name: \"root\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(source, root) {\n\treturn $tw.utils.resolvePath(source, root);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/unusedtitle.js": {
            "title": "$:/core/modules/macros/unusedtitle.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/unusedtitle.js\ntype: application/javascript\nmodule-type: macro\nMacro to return a new title that is unused in the wiki. It can be given a name as a base.\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"unusedtitle\";\n\nexports.params = [\n\t{name: \"baseName\"},\n\t{name: \"options\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(baseName, options) {\n\tif(!baseName) {\n\t\tbaseName = $tw.language.getString(\"DefaultNewTiddlerTitle\");\n\t}\n\treturn this.wiki.generateNewTitle(baseName, options);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/version.js": {
            "title": "$:/core/modules/macros/version.js",
            "text": "/*\\\ntitle: $:/core/modules/macros/version.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the TiddlyWiki core version number\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"version\";\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn $tw.version;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/parsers/audioparser.js": {
            "title": "$:/core/modules/parsers/audioparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/audioparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe audio parser parses an audio tiddler into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar AudioParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \"element\",\n\t\t\ttag: \"audio\",\n\t\t\tattributes: {\n\t\t\t\tcontrols: {type: \"string\", value: \"controls\"},\n\t\t\t\tstyle: {type: \"string\", value: \"width: 100%; object-fit: contain\"}\n\t\t\t}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \"string\", value: options._canonical_uri};\n\t} else if(text) {\n\t\telement.attributes.src = {type: \"string\", value: \"data:\" + type + \";base64,\" + text};\n\t}\n\tthis.tree = [element];\n};\n\nexports[\"audio/ogg\"] = AudioParser;\nexports[\"audio/mpeg\"] = AudioParser;\nexports[\"audio/mp3\"] = AudioParser;\nexports[\"audio/mp4\"] = AudioParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/binaryparser.js": {
            "title": "$:/core/modules/parsers/binaryparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/binaryparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe binary parser parses a binary tiddler into a warning message and download link\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar BINARY_WARNING_MESSAGE = \"$:/core/ui/BinaryWarning\";\nvar EXPORT_BUTTON_IMAGE = \"$:/core/images/export-button\";\n\nvar BinaryParser = function(type,text,options) {\n\t// Transclude the binary data tiddler warning message\n\tvar warn = {\n\t\ttype: \"element\",\n\t\ttag: \"p\",\n\t\tchildren: [{\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \"string\", value: BINARY_WARNING_MESSAGE}\n\t\t\t}\n\t\t}]\n\t};\n\t// Create download link based on binary tiddler title\n\tvar link = {\n\t\ttype: \"element\",\n\t\ttag: \"a\",\n\t\tattributes: {\n\t\t\ttitle: {type: \"indirect\", textReference: \"!!title\"},\n\t\t\tdownload: {type: \"indirect\", textReference: \"!!title\"}\n\t\t},\n\t\tchildren: [{\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \"string\", value: EXPORT_BUTTON_IMAGE}\n\t\t\t}\n\t\t}]\n\t};\n\t// Set the link href to external or internal data URI\n\tif(options._canonical_uri) {\n\t\tlink.attributes.href = {\n\t\t\ttype: \"string\", \n\t\t\tvalue: options._canonical_uri\n\t\t};\n\t} else if(text) {\n\t\tlink.attributes.href = {\n\t\t\ttype: \"string\", \n\t\t\tvalue: \"data:\" + type + \";base64,\" + text\n\t\t};\n\t}\n\t// Combine warning message and download link in a div\n\tvar element = {\n\t\ttype: \"element\",\n\t\ttag: \"div\",\n\t\tattributes: {\n\t\t\tclass: {type: \"string\", value: \"tc-binary-warning\"}\n\t\t},\n\t\tchildren: [warn, link]\n\t}\n\tthis.tree = [element];\n};\n\nexports[\"application/octet-stream\"] = BinaryParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/csvparser.js": {
            "title": "$:/core/modules/parsers/csvparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/csvparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe CSV text parser processes CSV files into a table wrapped in a scrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar CsvParser = function(type,text,options) {\n\t// Table framework\n\tthis.tree = [{\n\t\t\"type\": \"scrollable\", \"children\": [{\n\t\t\t\"type\": \"element\", \"tag\": \"table\", \"children\": [{\n\t\t\t\t\"type\": \"element\", \"tag\": \"tbody\", \"children\": []\n\t\t\t}], \"attributes\": {\n\t\t\t\t\"class\": {\"type\": \"string\", \"value\": \"tc-csv-table\"}\n\t\t\t}\n\t\t}]\n\t}];\n\t// Split the text into lines\n\tvar lines = text.split(/\\r?\\n/mg),\n\t\ttag = \"th\";\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar lineText = lines[line];\n\t\tif(lineText) {\n\t\t\tvar row = {\n\t\t\t\t\t\"type\": \"element\", \"tag\": \"tr\", \"children\": []\n\t\t\t\t};\n\t\t\tvar columns = lineText.split(\",\");\n\t\t\tfor(var column=0; column&lt;columns.length; column++) {\n\t\t\t\trow.children.push({\n\t\t\t\t\t\t\"type\": \"element\", \"tag\": tag, \"children\": [{\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": columns[column]\n\t\t\t\t\t\t}]\n\t\t\t\t\t});\n\t\t\t}\n\t\t\ttag = \"td\";\n\t\t\tthis.tree[0].children[0].children[0].children.push(row);\n\t\t}\n\t}\n};\n\nexports[\"text/csv\"] = CsvParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/htmlparser.js": {
            "title": "$:/core/modules/parsers/htmlparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/htmlparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe HTML parser displays text as raw HTML\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar HtmlParser = function(type,text,options) {\n\tvar src;\n\tif(options._canonical_uri) {\n\t\tsrc = options._canonical_uri;\n\t} else if(text) {\n\t\tsrc = \"data:text/html;charset=utf-8,\" + encodeURIComponent(text);\n\t}\n\tthis.tree = [{\n\t\ttype: \"element\",\n\t\ttag: \"iframe\",\n\t\tattributes: {\n\t\t\tsrc: {type: \"string\", value: src}\n\t\t}\n\t}];\n\tif($tw.wiki.getTiddlerText(\"$:/config/HtmlParser/DisableSandbox\",\"no\") !== \"yes\") {\n\t\tthis.tree[0].attributes.sandbox = {type: \"string\", value: $tw.wiki.getTiddlerText(\"$:/config/HtmlParser/SandboxTokens\",\"\")};\n\t}\n};\n\nexports[\"text/html\"] = HtmlParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/imageparser.js": {
            "title": "$:/core/modules/parsers/imageparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/imageparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe image parser parses an image into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar ImageParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \"element\",\n\t\t\ttag: \"img\",\n\t\t\tattributes: {}\n\t\t};\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \"string\", value: options._canonical_uri};\n\t} else if(text) {\n\t\tif(type === \"image/svg+xml\" || type === \".svg\") {\n\t\t\telement.attributes.src = {type: \"string\", value: \"data:image/svg+xml,\" + encodeURIComponent(text)};\n\t\t} else {\n\t\t\telement.attributes.src = {type: \"string\", value: \"data:\" + type + \";base64,\" + text};\n\t\t}\n\t}\n\tthis.tree = [element];\n};\n\nexports[\"image/svg+xml\"] = ImageParser;\nexports[\"image/jpg\"] = ImageParser;\nexports[\"image/jpeg\"] = ImageParser;\nexports[\"image/png\"] = ImageParser;\nexports[\"image/gif\"] = ImageParser;\nexports[\"image/webp\"] = ImageParser;\nexports[\"image/heic\"] = ImageParser;\nexports[\"image/heif\"] = ImageParser;\nexports[\"image/x-icon\"] = ImageParser;\nexports[\"image/vnd.microsoft.icon\"] = ImageParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/utils/parseutils.js": {
            "title": "$:/core/modules/utils/parseutils.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/parseutils.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions concerned with parsing text into tokens.\n\nMost functions have the following pattern:\n\n* The parameters are:\n** `source`: the source string being parsed\n** `pos`: the current parse position within the string\n** Any further parameters are used to identify the token that is being parsed\n* The return value is:\n** null if the token was not found at the specified position\n** an object representing the token with the following standard fields:\n*** `type`: string indicating the type of the token\n*** `start`: start position of the token in the source string\n*** `end`: end position of the token in the source string\n*** Any further fields required to describe the token\n\nThe exception is `skipWhiteSpace`, which just returns the position after the whitespace.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nLook for a whitespace token. Returns null if not found, otherwise returns {type: \"whitespace\", start:, end:,}\n*/\nexports.parseWhiteSpace = function(source,pos) {\n\tvar p = pos,c;\n\twhile(true) {\n\t\tc = source.charAt(p);\n\t\tif((c === \" \") || (c === \"\\f\") || (c === \"\\n\") || (c === \"\\r\") || (c === \"\\t\") || (c === \"\\v\") || (c === \"\\u00a0\")) { // Ignores some obscure unicode spaces\n\t\t\tp++;\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(p === pos) {\n\t\treturn null;\n\t} else {\n\t\treturn {\n\t\t\ttype: \"whitespace\",\n\t\t\tstart: pos,\n\t\t\tend: p\n\t\t}\n\t}\n};\n\n/*\nConvenience wrapper for parseWhiteSpace. Returns the position after the whitespace\n*/\nexports.skipWhiteSpace = function(source,pos) {\n\tvar c;\n\twhile(true) {\n\t\tc = source.charAt(pos);\n\t\tif((c === \" \") || (c === \"\\f\") || (c === \"\\n\") || (c === \"\\r\") || (c === \"\\t\") || (c === \"\\v\") || (c === \"\\u00a0\")) { // Ignores some obscure unicode spaces\n\t\t\tpos++;\n\t\t} else {\n\t\t\treturn pos;\n\t\t}\n\t}\n};\n\n/*\nLook for a given string token. Returns null if not found, otherwise returns {type: \"token\", value:, start:, end:,}\n*/\nexports.parseTokenString = function(source,pos,token) {\n\tvar match = source.indexOf(token,pos) === pos;\n\tif(match) {\n\t\treturn {\n\t\t\ttype: \"token\",\n\t\t\tvalue: token,\n\t\t\tstart: pos,\n\t\t\tend: pos + token.length\n\t\t};\n\t}\n\treturn null;\n};\n\n/*\nLook for a token matching a regex. Returns null if not found, otherwise returns {type: \"regexp\", match:, start:, end:,}\n*/\nexports.parseTokenRegExp = function(source,pos,reToken) {\n\tvar node = {\n\t\ttype: \"regexp\",\n\t\tstart: pos\n\t};\n\treToken.lastIndex = pos;\n\tnode.match = reToken.exec(source);\n\tif(node.match &amp;&amp; node.match.index === pos) {\n\t\tnode.end = pos + node.match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a string literal. Returns null if not found, otherwise returns {type: \"string\", value:, start:, end:,}\n*/\nexports.parseStringLiteral = function(source,pos) {\n\tvar node = {\n\t\ttype: \"string\",\n\t\tstart: pos\n\t};\n\tvar reString = /(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\")|(?:'([^']*)')/g;\n\treString.lastIndex = pos;\n\tvar match = reString.exec(source);\n\tif(match &amp;&amp; match.index === pos) {\n\t\tnode.value = match[1] !== undefined ? match[1] :(\n\t\t\tmatch[2] !== undefined ? match[2] : match[3] \n\t\t\t\t\t);\n\t\tnode.end = pos + match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a macro invocation parameter. Returns null if not found, or {type: \"macro-parameter\", name:, value:, start:, end:}\n*/\nexports.parseMacroParameter = function(source,pos) {\n\tvar node = {\n\t\ttype: \"macro-parameter\",\n\t\tstart: pos\n\t};\n\t// Define our regexp\n\tvar reMacroParameter = /(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\"|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|((?:(?:&gt;(?!&gt;))|[^\\s&gt;\"'])+)))/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the parameter\n\tvar token = $tw.utils.parseTokenRegExp(source,pos,reMacroParameter);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the parameter details\n\tnode.value = token.match[2] !== undefined ? token.match[2] : (\n\t\t\t\t\ttoken.match[3] !== undefined ? token.match[3] : (\n\t\t\t\t\t\ttoken.match[4] !== undefined ? token.match[4] : (\n\t\t\t\t\t\t\ttoken.match[5] !== undefined ? token.match[5] : (\n\t\t\t\t\t\t\t\ttoken.match[6] !== undefined ? token.match[6] : (\n\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\tif(token.match[1]) {\n\t\tnode.name = token.match[1];\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for a macro invocation. Returns null if not found, or {type: \"macrocall\", name:, parameters:, start:, end:}\n*/\nexports.parseMacroInvocation = function(source,pos) {\n\tvar node = {\n\t\ttype: \"macrocall\",\n\t\tstart: pos,\n\t\tparams: []\n\t};\n\t// Define our regexps\n\tvar reMacroName = /([^\\s&gt;\"'=]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double less than sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\"&lt;&lt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the macro name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reMacroName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Process parameters\n\tvar parameter = $tw.utils.parseMacroParameter(source,pos);\n\twhile(parameter) {\n\t\tnode.params.push(parameter);\n\t\tpos = parameter.end;\n\t\t// Get the next parameter\n\t\tparameter = $tw.utils.parseMacroParameter(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\"&gt;&gt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for an HTML attribute definition. Returns null if not found, otherwise returns {type: \"attribute\", name:, valueType: \"string|indirect|macro\", value:, start:, end:,}\n*/\nexports.parseAttribute = function(source,pos) {\n\tvar node = {\n\t\tstart: pos\n\t};\n\t// Define our regexps\n\tvar reAttributeName = /([^\\/\\s&gt;\"'=]+)/g,\n\t\treUnquotedAttribute = /([^\\/\\s&lt;&gt;\"'=]+)/g,\n\t\treFilteredValue = /\\{\\{\\{(.+?)\\}\\}\\}/g,\n\t\treIndirectValue = /\\{\\{([^\\}]+)\\}\\}/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the attribute name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reAttributeName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for an equals sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\"=\");\n\tif(token) {\n\t\tpos = token.end;\n\t\t// Skip whitespace\n\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t// Look for a string literal\n\t\tvar stringLiteral = $tw.utils.parseStringLiteral(source,pos);\n\t\tif(stringLiteral) {\n\t\t\tpos = stringLiteral.end;\n\t\t\tnode.type = \"string\";\n\t\t\tnode.value = stringLiteral.value;\n\t\t} else {\n\t\t\t// Look for a filtered value\n\t\t\tvar filteredValue = $tw.utils.parseTokenRegExp(source,pos,reFilteredValue);\n\t\t\tif(filteredValue) {\n\t\t\t\tpos = filteredValue.end;\n\t\t\t\tnode.type = \"filtered\";\n\t\t\t\tnode.filter = filteredValue.match[1];\n\t\t\t} else {\n\t\t\t\t// Look for an indirect value\n\t\t\t\tvar indirectValue = $tw.utils.parseTokenRegExp(source,pos,reIndirectValue);\n\t\t\t\tif(indirectValue) {\n\t\t\t\t\tpos = indirectValue.end;\n\t\t\t\t\tnode.type = \"indirect\";\n\t\t\t\t\tnode.textReference = indirectValue.match[1];\n\t\t\t\t} else {\n\t\t\t\t\t// Look for a unquoted value\n\t\t\t\t\tvar unquotedValue = $tw.utils.parseTokenRegExp(source,pos,reUnquotedAttribute);\n\t\t\t\t\tif(unquotedValue) {\n\t\t\t\t\t\tpos = unquotedValue.end;\n\t\t\t\t\t\tnode.type = \"string\";\n\t\t\t\t\t\tnode.value = unquotedValue.match[1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Look for a macro invocation value\n\t\t\t\t\t\tvar macroInvocation = $tw.utils.parseMacroInvocation(source,pos);\n\t\t\t\t\t\tif(macroInvocation) {\n\t\t\t\t\t\t\tpos = macroInvocation.end;\n\t\t\t\t\t\t\tnode.type = \"macro\";\n\t\t\t\t\t\t\tnode.value = macroInvocation;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnode.type = \"string\";\n\t\t\t\t\t\t\tnode.value = \"true\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tnode.type = \"string\";\n\t\tnode.value = \"true\";\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/parsers/pdfparser.js": {
            "title": "$:/core/modules/parsers/pdfparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/pdfparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe PDF parser embeds a PDF viewer\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar ImageParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \"element\",\n\t\t\ttag: \"embed\",\n\t\t\tattributes: {}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \"string\", value: options._canonical_uri};\n\t} else if(text) {\n\t\telement.attributes.src = {type: \"string\", value: \"data:application/pdf;base64,\" + text};\n\t}\n\tthis.tree = [element];\n};\n\nexports[\"application/pdf\"] = ImageParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/textparser.js": {
            "title": "$:/core/modules/parsers/textparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/textparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe plain text parser processes blocks of source text into a degenerate parse tree consisting of a single text node\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar TextParser = function(type,text,options) {\n\tthis.tree = [{\n\t\ttype: \"codeblock\",\n\t\tattributes: {\n\t\t\tcode: {type: \"string\", value: text},\n\t\t\tlanguage: {type: \"string\", value: type}\n\t\t}\n\t}];\n};\n\nexports[\"text/plain\"] = TextParser;\nexports[\"text/x-tiddlywiki\"] = TextParser;\nexports[\"application/javascript\"] = TextParser;\nexports[\"application/json\"] = TextParser;\nexports[\"text/css\"] = TextParser;\nexports[\"application/x-tiddler-dictionary\"] = TextParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/videoparser.js": {
            "title": "$:/core/modules/parsers/videoparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/videoparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe video parser parses a video tiddler into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar VideoParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \"element\",\n\t\t\ttag: \"video\",\n\t\t\tattributes: {\n\t\t\t\tcontrols: {type: \"string\", value: \"controls\"},\n\t\t\t\tstyle: {type: \"string\", value: \"width: 100%; object-fit: contain\"}\n\t\t\t}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \"string\", value: options._canonical_uri};\n\t} else if(text) {\n\t\telement.attributes.src = {type: \"string\", value: \"data:\" + type + \";base64,\" + text};\n\t}\n\tthis.tree = [element];\n};\n\nexports[\"video/ogg\"] = VideoParser;\nexports[\"video/webm\"] = VideoParser;\nexports[\"video/mp4\"] = VideoParser;\nexports[\"video/quicktime\"] = VideoParser;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/wikiparser/rules/codeblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/codeblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for code blocks. For example:\n\n```\n\t```\n\tThis text will not be //wikified//\n\t```\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"codeblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match and get language if defined\n\tthis.matchRegExp = /```([\\w-]*)\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\\r?\\n```$)/mg;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Return the $codeblock widget\n\treturn [{\n\t\t\ttype: \"codeblock\",\n\t\t\tattributes: {\n\t\t\t\t\tcode: {type: \"string\", value: text},\n\t\t\t\t\tlanguage: {type: \"string\", value: this.match[1]}\n\t\t\t}\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/codeinline.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/codeinline.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for code runs. For example:\n\n```\n\tThis is a `code run`.\n\tThis is another ``code run``\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"codeinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(``?)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar reEnd = new RegExp(this.match[1], \"mg\");\n\t// Look for the end marker\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the text\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"code\",\n\t\tchildren: [{\n\t\t\ttype: \"text\",\n\t\t\ttext: text\n\t\t}]\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/commentblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/commentblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \"&lt;!--\" sequence and a closing \"--&gt;\" sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"commentblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /&lt;!--/mg;\n\tthis.endMatchRegExp = /--&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = this.match.index + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/commentinline.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/commentinline.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \"&lt;!--\" sequence and a closing \"--&gt;\" sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"commentinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /&lt;!--/mg;\n\tthis.endMatchRegExp = /--&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = this.match.index + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/dash.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/dash.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/dash.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for dashes. For example:\n\n```\nThis is an en-dash: --\n\nThis is an em-dash: ---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"dash\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{2,3}(?!-)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar dash = this.match[0].length === 2 ? \"&amp;ndash;\" : \"&amp;mdash;\";\n\treturn [{\n\t\ttype: \"entity\",\n\t\tentity: dash\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/emphasis/bold.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/emphasis/bold.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/bold.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - bold. For example:\n\n```\n\tThis is ''bold'' text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except bold \n\\rules only bold \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"bold\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /''/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/''/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"strong\",\n\t\tchildren: tree\n\t}];\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/emphasis/italic.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/emphasis/italic.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/italic.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - italic. For example:\n\n```\n\tThis is //italic// text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except italic\n\\rules only italic\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"italic\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\/\\//mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/\\/\\//mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"em\",\n\t\tchildren: tree\n\t}];\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - strikethrough. For example:\n\n```\n\tThis is ~~strikethrough~~ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except strikethrough \n\\rules only strikethrough \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"strikethrough\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~~/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/~~/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"strike\",\n\t\tchildren: tree\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - subscript. For example:\n\n```\n\tThis is ,,subscript,, text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except subscript \n\\rules only subscript \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"subscript\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /,,/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/,,/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"sub\",\n\t\tchildren: tree\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - superscript. For example:\n\n```\n\tThis is ^^superscript^^ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except superscript \n\\rules only superscript \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"superscript\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\^\\^/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/\\^\\^/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"sup\",\n\t\tchildren: tree\n\t}];\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - underscore. For example:\n\n```\n\tThis is __underscore__ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except underscore \n\\rules only underscore\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"underscore\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /__/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/__/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"u\",\n\t\tchildren: tree\n\t}];\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/entity.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/entity.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/entity.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML entities. For example:\n\n```\n\tThis is a copyright symbol: &amp;copy;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"entity\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&amp;#?[a-zA-Z0-9]{2,8};)/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar entityString = this.match[1];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Return the entity\n\treturn [{type: \"entity\", entity: this.match[0]}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/extlink.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/extlink.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/extlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\nAn external link: https://www.tiddlywiki.com/\n\nA suppressed external link: ~http://www.tiddlyspace.com/\n```\n\nExternal links can be suppressed by preceding them with `~`.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"extlink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~?(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|\"\\\\^]+(?:\\/|\\b)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Create the link unless it is suppressed\n\tif(this.match[0].substr(0,1) === \"~\") {\n\t\treturn [{type: \"text\", text: this.match[0].substr(1)}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \"element\",\n\t\t\ttag: \"a\",\n\t\t\tattributes: {\n\t\t\t\thref: {type: \"string\", value: this.match[0]},\n\t\t\t\t\"class\": {type: \"string\", value: \"tc-tiddlylink-external\"},\n\t\t\t\ttarget: {type: \"string\", value: \"_blank\"},\n\t\t\t\trel: {type: \"string\", value: \"noopener noreferrer\"}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\", text: this.match[0]\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"filteredtranscludeblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \"list\",\n\t\tattributes: {\n\t\t\tfilter: {type: \"string\", value: filter}\n\t\t},\n\t\tisBlock: true\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \"string\", value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \"string\", value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \"string\", value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes.itemClass = {type: \"string\", value: classes.split(\".\").join(\" \")};\n\t}\n\treturn [node];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"filteredtranscludeinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \"list\",\n\t\tattributes: {\n\t\t\tfilter: {type: \"string\", value: filter}\n\t\t}\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \"string\", value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \"string\", value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \"string\", value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes.itemClass = {type: \"string\", value: classes.split(\".\").join(\" \")};\n\t}\n\treturn [node];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for marking areas with hard line breaks. For example:\n\n```\n\"\"\"\nThis is some text\nThat is set like\nIt is a Poem\nWhen it is\nClearly\nNot\n\"\"\"\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"hardlinebreaks\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\"\"\"(?:\\r?\\n)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\"\"\")|(\\r?\\n)/mg,\n\t\ttree = [],\n\t\tmatch;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tdo {\n\t\t// Parse the run up to the terminator\n\t\ttree.push.apply(tree,this.parser.parseInlineRun(reEnd,{eatTerminator: false}));\n\t\t// Redo the terminator match\n\t\treEnd.lastIndex = this.parser.pos;\n\t\tmatch = reEnd.exec(this.parser.source);\n\t\tif(match) {\n\t\t\tthis.parser.pos = reEnd.lastIndex;\n\t\t\t// Add a line break if the terminator was a line break\n\t\t\tif(match[2]) {\n\t\t\t\ttree.push({type: \"element\", tag: \"br\"});\n\t\t\t}\n\t\t}\n\t} while(match &amp;&amp; !match[1]);\n\t// Return the nodes\n\treturn tree;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/heading.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/heading.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/heading.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for headings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"heading\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(!{1,6})/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar headingLevel = this.match[1].length;\n\t// Move past the !s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse any classes, whitespace and then the heading itself\n\tvar classes = this.parser.parseClasses();\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// Return the heading\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"h\" + headingLevel, \n\t\tattributes: {\n\t\t\t\"class\": {type: \"string\", value: classes.join(\" \")}\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/horizrule.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/horizrule.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/horizrule.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for rules. For example:\n\n```\n---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"horizrule\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{3,}\\r?(?:\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\treturn [{type: \"element\", tag: \"hr\"}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/html.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/html.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/html.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for HTML elements and widgets. For example:\n\n{{{\n&lt;aside&gt;\nThis is an HTML5 aside element\n&lt;/aside&gt;\n\n&lt;$slider target=\"MyTiddler\"&gt;\nThis is a widget invocation\n&lt;/$slider&gt;\n\n}}}\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"html\";\nexports.types = {inline: true, block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextTag = this.findNextTag(this.parser.source,startPos,{\n\t\trequireLineBreak: this.is.block\n\t});\n\treturn this.nextTag ? this.nextTag.start : undefined;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Retrieve the most recent match so that recursive calls don't overwrite it\n\tvar tag = this.nextTag;\n\tthis.nextTag = null;\n\t// Advance the parser position to past the tag\n\tthis.parser.pos = tag.end;\n\t// Check for an immediately following double linebreak\n\tvar hasLineBreak = !tag.isSelfClosing &amp;&amp; !!$tw.utils.parseTokenRegExp(this.parser.source,this.parser.pos,/([^\\S\\n\\r]*\\r?\\n(?:[^\\S\\n\\r]*\\r?\\n|$))/g);\n\t// Set whether we're in block mode\n\ttag.isBlock = this.is.block || hasLineBreak;\n\t// Parse the body if we need to\n\tif(!tag.isSelfClosing &amp;&amp; $tw.config.htmlVoidElements.indexOf(tag.tag) === -1) {\n\t\tvar reEndString = \"&lt;/\" + $tw.utils.escapeRegExp(tag.tag) + \"&gt;\";\n\t\tif(hasLineBreak) {\n\t\t\ttag.children = this.parser.parseBlocks(reEndString);\n\t\t} else {\n\t\t\tvar reEnd = new RegExp(\"(\" + reEndString + \")\",\"mg\");\n\t\t\ttag.children = this.parser.parseInlineRun(reEnd,{eatTerminator: true});\n\t\t}\n\t}\n\t// Return the tag\n\treturn [tag];\n};\n\n/*\nLook for an HTML tag. Returns null if not found, otherwise returns {type: \"element\", name:, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseTag = function(source,pos,options) {\n\toptions = options || {};\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \"element\",\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Define our regexps\n\tvar reTagName = /([a-zA-Z0-9\\-\\$]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a less than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\"&lt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the tag name\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,reTagName);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tnode.tag = token.match[1];\n\tif(node.tag.slice(1).indexOf(\"$\") !== -1) {\n\t\treturn null;\n\t}\n\tif(node.tag.charAt(0) === \"$\") {\n\t\tnode.type = node.tag.substr(1);\n\t}\n\tpos = token.end;\n\t// Check that the tag is terminated by a space, / or &gt;\n\tif(!$tw.utils.parseWhiteSpace(source,pos) &amp;&amp; !(source.charAt(pos) === \"/\") &amp;&amp; !(source.charAt(pos) === \"&gt;\") ) {\n\t\treturn null;\n\t}\n\t// Process attributes\n\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\twhile(attribute) {\n\t\tnode.attributes[attribute.name] = attribute;\n\t\tpos = attribute.end;\n\t\t// Get the next attribute\n\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a closing slash\n\ttoken = $tw.utils.parseTokenString(source,pos,\"/\");\n\tif(token) {\n\t\tpos = token.end;\n\t\tnode.isSelfClosing = true;\n\t}\n\t// Look for a greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\"&gt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Check for a required line break\n\tif(options.requireLineBreak) {\n\t\ttoken = $tw.utils.parseTokenRegExp(source,pos,/([^\\S\\n\\r]*\\r?\\n(?:[^\\S\\n\\r]*\\r?\\n|$))/g);\n\t\tif(!token) {\n\t\t\treturn null;\n\t\t}\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\nexports.findNextTag = function(source,pos,options) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /&lt;([a-zA-Z\\-\\$]+)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseTag(source,match.index,options);\n\t\t// Return success\n\t\tif(tag &amp;&amp; this.isLegalTag(tag)) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\nexports.isLegalTag = function(tag) {\n\t// Widgets are always OK\n\tif(tag.type !== \"element\") {\n\t\treturn true;\n\t// If it's an HTML tag that starts with a dash then it's not legal\n\t} else if(tag.tag.charAt(0) === \"-\") {\n\t\treturn false;\n\t} else {\n\t\t// Otherwise it's OK\n\t\treturn true;\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/image.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/image.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/image.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for embedding images. For example:\n\n```\n[img[https://tiddlywiki.com/fractalveg.jpg]]\n[img width=23 height=24 [https://tiddlywiki.com/fractalveg.jpg]]\n[img width={{!!width}} height={{!!height}} [https://tiddlywiki.com/fractalveg.jpg]]\n[img[Description of image|https://tiddlywiki.com/fractalveg.jpg]]\n[img[TiddlerTitle]]\n[img[Description of image|TiddlerTitle]]\n```\n\nGenerates the `&lt;$image&gt;` widget.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"image\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextImage = this.findNextImage(this.parser.source,startPos);\n\treturn this.nextImage ? this.nextImage.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextImage.end;\n\tvar node = {\n\t\ttype: \"image\",\n\t\tattributes: this.nextImage.attributes\n\t};\n\treturn [node];\n};\n\n/*\nFind the next image from the current position\n*/\nexports.findNextImage = function(source,pos) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /(\\[img)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseImage(source,match.index);\n\t\t// Return success\n\t\tif(tag) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an image at the specified position. Returns null if not found, otherwise returns {type: \"image\", attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseImage = function(source,pos) {\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \"image\",\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[img`\n\ttoken = $tw.utils.parseTokenString(source,pos,\"[img\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Process attributes\n\tif(source.charAt(pos) !== \"[\") {\n\t\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\t\twhile(attribute) {\n\t\t\tnode.attributes[attribute.name] = attribute;\n\t\t\tpos = attribute.end;\n\t\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t\tif(source.charAt(pos) !== \"[\") {\n\t\t\t\t// Get the next attribute\n\t\t\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t\t\t} else {\n\t\t\t\tattribute = null;\n\t\t\t}\n\t\t}\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[` after the attributes\n\ttoken = $tw.utils.parseTokenString(source,pos,\"[\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the source up to the terminating `]]`\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,/(?:([^|\\]]*?)\\|)?([^\\]]+?)\\]\\]/g);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\tif(token.match[1]) {\n\t\tnode.attributes.tooltip = {type: \"string\", value: token.match[1].trim()};\n\t}\n\tnode.attributes.source = {type: \"string\", value: (token.match[2] || \"\").trim()};\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/import.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/import.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/import.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for importing variable definitions\n\n```\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"import\";\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\import[^\\S\\n]/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\tvar self = this;\n\t// Move past the pragma invocation\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the filter terminated by a line break\n\tvar reMatch = /(.*)(\\r?\\n)|$/mg;\n\treMatch.lastIndex = this.parser.pos;\n\tvar match = reMatch.exec(this.parser.source);\n\tthis.parser.pos = reMatch.lastIndex;\n\t// Parse tree nodes to return\n\treturn [{\n\t\ttype: \"importvariables\",\n\t\tattributes: {\n\t\t\tfilter: {type: \"string\", value: match[1]}\n\t\t},\n\t\tchildren: []\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/list.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/list.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/list.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for lists. For example:\n\n```\n* This is an unordered list\n* It has two items\n\n# This is a numbered list\n## With a subitem\n# And a third item\n\n; This is a term that is being defined\n: This is the definition of that term\n```\n\nNote that lists can be nested arbitrarily:\n\n```\n#** One\n#* Two\n#** Three\n#**** Four\n#**# Five\n#**## Six\n## Seven\n### Eight\n## Nine\n```\n\nA CSS class can be applied to a list item as follows:\n\n```\n* List item one\n*.active List item two has the class `active`\n* List item three\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"list\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /([\\*#;:&gt;]+)/mg;\n};\n\nvar listTypes = {\n\t\"*\": {listTag: \"ul\", itemTag: \"li\"},\n\t\"#\": {listTag: \"ol\", itemTag: \"li\"},\n\t\";\": {listTag: \"dl\", itemTag: \"dt\"},\n\t\":\": {listTag: \"dl\", itemTag: \"dd\"},\n\t\"&gt;\": {listTag: \"blockquote\", itemTag: \"div\"}\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Array of parse tree nodes for the previous row of the list\n\tvar listStack = [];\n\t// Cycle through the items in the list\n\twhile(true) {\n\t\t// Match the list marker\n\t\tvar reMatch = /([\\*#;:&gt;]+)/mg;\n\t\treMatch.lastIndex = this.parser.pos;\n\t\tvar match = reMatch.exec(this.parser.source);\n\t\tif(!match || match.index !== this.parser.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check whether the list type of the top level matches\n\t\tvar listInfo = listTypes[match[0].charAt(0)];\n\t\tif(listStack.length &gt; 0 &amp;&amp; listStack[0].tag !== listInfo.listTag) {\n\t\t\tbreak;\n\t\t}\n\t\t// Move past the list marker\n\t\tthis.parser.pos = match.index + match[0].length;\n\t\t// Walk through the list markers for the current row\n\t\tfor(var t=0; t&lt;match[0].length; t++) {\n\t\t\tlistInfo = listTypes[match[0].charAt(t)];\n\t\t\t// Remove any stacked up element if we can't re-use it because the list type doesn't match\n\t\t\tif(listStack.length &gt; t &amp;&amp; listStack[t].tag !== listInfo.listTag) {\n\t\t\t\tlistStack.splice(t,listStack.length - t);\n\t\t\t}\n\t\t\t// Construct the list element or reuse the previous one at this level\n\t\t\tif(listStack.length &lt;= t) {\n\t\t\t\tvar listElement = {type: \"element\", tag: listInfo.listTag, children: [\n\t\t\t\t\t{type: \"element\", tag: listInfo.itemTag, children: []}\n\t\t\t\t]};\n\t\t\t\t// Link this list element into the last child item of the parent list item\n\t\t\t\tif(t) {\n\t\t\t\t\tvar prevListItem = listStack[t-1].children[listStack[t-1].children.length-1];\n\t\t\t\t\tprevListItem.children.push(listElement);\n\t\t\t\t}\n\t\t\t\t// Save this element in the stack\n\t\t\t\tlistStack[t] = listElement;\n\t\t\t} else if(t === (match[0].length - 1)) {\n\t\t\t\tlistStack[t].children.push({type: \"element\", tag: listInfo.itemTag, children: []});\n\t\t\t}\n\t\t}\n\t\tif(listStack.length &gt; match[0].length) {\n\t\t\tlistStack.splice(match[0].length,listStack.length - match[0].length);\n\t\t}\n\t\t// Process the body of the list item into the last list item\n\t\tvar lastListChildren = listStack[listStack.length-1].children,\n\t\t\tlastListItem = lastListChildren[lastListChildren.length-1],\n\t\t\tclasses = this.parser.parseClasses();\n\t\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\t\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t\tlastListItem.children.push.apply(lastListItem.children,tree);\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(lastListItem,classes.join(\" \"));\n\t\t}\n\t\t// Consume any whitespace following the list item\n\t\tthis.parser.skipWhitespace();\n\t}\n\t// Return the root element of the list\n\treturn [listStack[0]];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/macrocallblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/macrocallblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for block macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"macrocallblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\tvar nextStart = startPos;\n\t// Try parsing at all possible macrocall openers until we match\n\twhile((nextStart = this.parser.source.indexOf(\"&lt;&lt;\",nextStart)) &gt;= 0) {\n\t\tvar nextCall = $tw.utils.parseMacroInvocation(this.parser.source,nextStart);\n\t\tif(nextCall) {\n\t\t\tvar c = this.parser.source.charAt(nextCall.end);\n\t\t\t// Ensure EOL after parsed macro\n\t\t\t// If we didn't need to support IE, we'd just use /(?:\\r?\\n|$)/ym\n\t\t\tif ((c === \"\") || (c === \"\\n\") || ((c === \"\\r\") &amp;&amp; this.parser.source.charAt(nextCall.end+1) === \"\\n\")) {\n\t\t\t\tthis.nextCall = nextCall;\n\t\t\t\treturn nextStart;\n\t\t\t}\n\t\t}\n\t\tnextStart += 2;\n\t}\n\treturn undefined;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\tvar call = this.nextCall;\n\tcall.isBlock = true;\n\tthis.nextCall = null;\n\tthis.parser.pos = call.end;\n\treturn [call];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/macrocallinline.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/macrocallinline.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"macrocallinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\tvar nextStart = startPos;\n\t// Try parsing at all possible macrocall openers until we match\n\twhile((nextStart = this.parser.source.indexOf(\"&lt;&lt;\",nextStart)) &gt;= 0) {\n\t\tthis.nextCall = $tw.utils.parseMacroInvocation(this.parser.source,nextStart);\n\t\tif(this.nextCall) {\n\t\t\treturn nextStart;\n\t\t}\n\t\tnextStart += 2;\n\t}\n\treturn undefined;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\tvar call = this.nextCall;\n\tthis.nextCall = null;\n\tthis.parser.pos = call.end;\n\treturn [call];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/macrodef.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/macrodef.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrodef.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for macro definitions\n\n```\n\\define name(param:defaultvalue,param2:defaultvalue)\ndefinition text, including $param$ markers\n\\end\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"macrodef\";\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\define\\s+([^(\\s]+)\\(\\s*([^)]*)\\)(\\s*\\r?\\n)?/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the macro name and parameters\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the parameters\n\tvar paramString = this.match[2],\n\t\tparams = [];\n\tif(paramString !== \"\") {\n\t\tvar reParam = /\\s*([A-Za-z0-9\\-_]+)(?:\\s*:\\s*(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\"|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\"'\\s]+)))?/mg,\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\twhile(paramMatch) {\n\t\t\t// Save the parameter details\n\t\t\tvar paramInfo = {name: paramMatch[1]},\n\t\t\t\tdefaultValue = paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5] || paramMatch[6];\n\t\t\tif(defaultValue) {\n\t\t\t\tparamInfo[\"default\"] = defaultValue;\n\t\t\t}\n\t\t\tparams.push(paramInfo);\n\t\t\t// Look for the next parameter\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\t}\n\t}\n\t// Is this a multiline definition?\n\tvar reEnd;\n\tif(this.match[3]) {\n\t\t// If so, the end of the body is marked with \\end\n\t\treEnd = /(\\r?\\n\\\\end[^\\S\\n\\r]*(?:$|\\r?\\n))/mg;\n\t} else {\n\t\t// Otherwise, the end of the definition is marked by the end of the line\n\t\treEnd = /($|\\r?\\n)/mg;\n\t\t// Move past any whitespace\n\t\tthis.parser.pos = $tw.utils.skipWhiteSpace(this.parser.source,this.parser.pos);\n\t}\n\t// Find the end of the definition\n\treEnd.lastIndex = this.parser.pos;\n\tvar text,\n\t\tendMatch = reEnd.exec(this.parser.source);\n\tif(endMatch) {\n\t\ttext = this.parser.source.substring(this.parser.pos,endMatch.index);\n\t\tthis.parser.pos = endMatch.index + endMatch[0].length;\n\t} else {\n\t\t// We didn't find the end of the definition, so we'll make it blank\n\t\ttext = \"\";\n\t}\n\t// Save the macro definition\n\treturn [{\n\t\ttype: \"set\",\n\t\tattributes: {\n\t\t\tname: {type: \"string\", value: this.match[1]},\n\t\t\tvalue: {type: \"string\", value: text}\n\t\t},\n\t\tchildren: [],\n\t\tparams: params,\n\t\tisMacroDefinition: true\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/prettyextlink.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/prettyextlink.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettyextlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\n[ext[https://tiddlywiki.com/fractalveg.jpg]]\n[ext[Tooltip|https://tiddlywiki.com/fractalveg.jpg]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"prettyextlink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextLink = this.findNextLink(this.parser.source,startPos);\n\treturn this.nextLink ? this.nextLink.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextLink.end;\n\treturn [this.nextLink];\n};\n\n/*\nFind the next link from the current position\n*/\nexports.findNextLink = function(source,pos) {\n\t// A regexp for finding candidate links\n\tvar reLookahead = /(\\[ext\\[)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a link\n\t\tvar link = this.parseLink(source,match.index);\n\t\t// Return success\n\t\tif(link) {\n\t\t\treturn link;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an link at the specified position. Returns null if not found, otherwise returns {type: \"element\", tag: \"a\", attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseLink = function(source,pos) {\n\tvar token,\n\t\ttextNode = {\n\t\t\ttype: \"text\"\n\t\t},\n\t\tnode = {\n\t\t\ttype: \"element\",\n\t\t\ttag: \"a\",\n\t\t\tstart: pos,\n\t\t\tattributes: {\n\t\t\t\t\"class\": {type: \"string\", value: \"tc-tiddlylink-external\"},\n\t\t\t},\n\t\t\tchildren: [textNode]\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[ext[`\n\ttoken = $tw.utils.parseTokenString(source,pos,\"[ext[\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Look ahead for the terminating `]]`\n\tvar closePos = source.indexOf(\"]]\",pos);\n\tif(closePos === -1) {\n\t\treturn null;\n\t}\n\t// Look for a `|` separating the tooltip\n\tvar splitPos = source.indexOf(\"|\",pos);\n\tif(splitPos === -1 || splitPos &gt; closePos) {\n\t\tsplitPos = null;\n\t}\n\t// Pull out the tooltip and URL\n\tvar tooltip, URL;\n\tif(splitPos) {\n\t\tURL = source.substring(splitPos + 1,closePos).trim();\n\t\ttextNode.text = source.substring(pos,splitPos).trim();\n\t} else {\n\t\tURL = source.substring(pos,closePos).trim();\n\t\ttextNode.text = URL;\n\t}\n\tnode.attributes.href = {type: \"string\", value: URL};\n\tnode.attributes.target = {type: \"string\", value: \"_blank\"};\n\tnode.attributes.rel = {type: \"string\", value: \"noopener noreferrer\"};\n\t// Update the end position\n\tnode.end = closePos + 2;\n\treturn node;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/prettylink.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/prettylink.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettylink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for pretty links. For example:\n\n```\n[[Introduction]]\n\n[[Link description|TiddlerTitle]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"prettylink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\[\\[(.*?)(?:\\|(.*?))?\\]\\]/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Process the link\n\tvar text = this.match[1],\n\t\tlink = this.match[2] || text;\n\tif($tw.utils.isLinkExternal(link)) {\n\t\treturn [{\n\t\t\ttype: \"element\",\n\t\t\ttag: \"a\",\n\t\t\tattributes: {\n\t\t\t\thref: {type: \"string\", value: link},\n\t\t\t\t\"class\": {type: \"string\", value: \"tc-tiddlylink-external\"},\n\t\t\t\ttarget: {type: \"string\", value: \"_blank\"},\n\t\t\t\trel: {type: \"string\", value: \"noopener noreferrer\"}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\", text: text\n\t\t\t}]\n\t\t}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \"link\",\n\t\t\tattributes: {\n\t\t\t\tto: {type: \"string\", value: link}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\", text: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/quoteblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/quoteblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/quoteblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for quote blocks. For example:\n\n```\n\t&lt;&lt;&lt;.optionalClass(es) optional cited from\n\ta quote\n\t&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;.optionalClass(es)\n\ta quote\n\t&lt;&lt;&lt; optional cited from\n```\n\nQuotes can be quoted by putting more &lt;s\n\n```\n\t&lt;&lt;&lt;\n\tQuote Level 1\n\t\n\t&lt;&lt;&lt;&lt;\n\tQuoteLevel 2\n\t&lt;&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"quoteblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&lt;&lt;&lt;+)/mg;\n};\n\nexports.parse = function() {\n\tvar classes = [\"tc-quote\"];\n\t// Get all the details of the match\n\tvar reEndString = \"^\" + this.match[1] + \"(?!&lt;)\";\n\t// Move past the &lt;s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\n\t// Parse any classes, whitespace and then the optional cite itself\n\tclasses.push.apply(classes, this.parser.parseClasses());\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar cite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// before handling the cite, parse the body of the quote\n\tvar tree= this.parser.parseBlocks(reEndString);\n\t// If we got a cite, put it before the text\n\tif(cite.length &gt; 0) {\n\t\ttree.unshift({\n\t\t\ttype: \"element\",\n\t\t\ttag: \"cite\",\n\t\t\tchildren: cite\n\t\t});\n\t}\n\t// Parse any optional cite\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tcite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// If we got a cite, push it\n\tif(cite.length &gt; 0) {\n\t\ttree.push({\n\t\t\ttype: \"element\",\n\t\t\ttag: \"cite\",\n\t\t\tchildren: cite\n\t\t});\n\t}\n\t// Return the blockquote element\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"blockquote\",\n\t\tattributes: {\n\t\t\tclass: { type: \"string\", value: classes.join(\" \") },\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/rules.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/rules.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/rules.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for rules specifications\n\n```\n\\rules except ruleone ruletwo rulethree\n\\rules only ruleone ruletwo rulethree\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"rules\";\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\rules[^\\S\\n]/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the pragma invocation\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse whitespace delimited tokens terminated by a line break\n\tvar reMatch = /[^\\S\\n]*(\\S+)|(\\r?\\n)/mg,\n\t\ttokens = [];\n\treMatch.lastIndex = this.parser.pos;\n\tvar match = reMatch.exec(this.parser.source);\n\twhile(match &amp;&amp; match.index === this.parser.pos) {\n\t\tthis.parser.pos = reMatch.lastIndex;\n\t\t// Exit if we've got the line break\n\t\tif(match[2]) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the token\n\t\tif(match[1]) {\n\t\t\ttokens.push(match[1]);\n\t\t}\n\t\t// Match the next token\n\t\tmatch = reMatch.exec(this.parser.source);\n\t}\n\t// Process the tokens\n\tif(tokens.length &gt; 0) {\n\t\tthis.parser.amendRules(tokens[0],tokens.slice(1));\n\t}\n\t// No parse tree nodes to return\n\treturn [];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/styleblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/styleblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for assigning styles and classes to paragraphs and other blocks. For example:\n\n```\n@@.myClass\n@@background-color:red;\nThis paragraph will have the CSS class `myClass`.\n\n* The `&lt;ul&gt;` around this list will also have the class `myClass`\n* List item 2\n\n@@\n```\n\nNote that classes and styles can be mixed subject to the rule that styles must precede classes. For example\n\n```\n@@.myFirstClass.mySecondClass\n@@width:100px;.myThirdClass\nThis is a paragraph\n@@\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"styleblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(?:\\.([^\\r\\n\\s]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEndString = \"^@@(?:\\\\r?\\\\n)?\";\n\tvar classes = [], styles = [];\n\tdo {\n\t\t// Get the class and style\n\t\tif(this.match[1]) {\n\t\t\tstyles.push(this.match[1]);\n\t\t}\n\t\tif(this.match[2]) {\n\t\t\tclasses.push(this.match[2].split(\".\").join(\" \"));\n\t\t}\n\t\t// Move past the match\n\t\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\t// Look for another line of classes and styles\n\t\tthis.match = this.matchRegExp.exec(this.parser.source);\n\t} while(this.match &amp;&amp; this.match.index === this.parser.pos);\n\t// Parse the body\n\tvar tree = this.parser.parseBlocks(reEndString);\n\tfor(var t=0; t&lt;tree.length; t++) {\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(tree[t],classes.join(\" \"));\n\t\t}\n\t\tif(styles.length &gt; 0) {\n\t\t\t$tw.utils.addAttributeToParseTreeNode(tree[t],\"style\",styles.join(\"\"));\n\t\t}\n\t}\n\treturn tree;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/styleinline.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/styleinline.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for assigning styles and classes to inline runs. For example:\n\n```\n@@.myClass This is some text with a class@@\n@@background-color:red;This is some text with a background colour@@\n@@width:100px;.myClass This is some text with a class and a width@@\n```\n\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"styleinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(\\.(?:[^\\r\\n\\s]+)\\s+)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /@@/g;\n\t// Get the styles and class\n\tvar stylesString = this.match[1],\n\t\tclassString = this.match[2] ? this.match[2].split(\".\").join(\" \") : undefined;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the run up to the terminator\n\tvar tree = this.parser.parseInlineRun(reEnd,{eatTerminator: true});\n\t// Return the classed span\n\tvar node = {\n\t\ttype: \"element\",\n\t\ttag: \"span\",\n\t\tattributes: {\n\t\t\t\"class\": {type: \"string\", value: \"tc-inline-style\"}\n\t\t},\n\t\tchildren: tree\n\t};\n\tif(classString) {\n\t\t$tw.utils.addClassToParseTreeNode(node,classString);\n\t}\n\tif(stylesString) {\n\t\t$tw.utils.addAttributeToParseTreeNode(node,\"style\",stylesString);\n\t}\n\treturn [node];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/syslink.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/syslink.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/syslink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for system tiddler links.\nCan be suppressed preceding them with `~`.\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"syslink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = new RegExp(\n\t\t\"~?\\\\$:\\\\/[\" +\n\t\t$tw.config.textPrimitives.anyLetter.substr(1,$tw.config.textPrimitives.anyLetter.length - 2) +\n\t\t\"\\/._-]+\",\n\t\t\"mg\"\n\t);\n};\n\nexports.parse = function() {\n\tvar match = this.match[0];\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Create the link unless it is suppressed\n\tif(match.substr(0,1) === \"~\") {\n\t\treturn [{type: \"text\", text: match.substr(1)}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \"link\",\n\t\t\tattributes: {\n\t\t\t\tto: {type: \"string\", value: match}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: match\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/table.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/table.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/table.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for tables.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"table\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\|(?:[^\\n]*)\\|(?:[fhck]?)\\r?(?:\\n|$)/mg;\n};\n\nvar processRow = function(prevColumns) {\n\tvar cellRegExp = /(?:\\|([^\\n\\|]*)\\|)|(\\|[fhck]?\\r?(?:\\n|$))/mg,\n\t\tcellTermRegExp = /((?:\\x20*)\\|)/mg,\n\t\ttree = [],\n\t\tcol = 0,\n\t\tcolSpanCount = 1,\n\t\tprevCell,\n\t\tvAlign;\n\t// Match a single cell\n\tcellRegExp.lastIndex = this.parser.pos;\n\tvar cellMatch = cellRegExp.exec(this.parser.source);\n\twhile(cellMatch &amp;&amp; cellMatch.index === this.parser.pos) {\n\t\tif(cellMatch[1] === \"~\") {\n\t\t\t// Rowspan\n\t\t\tvar last = prevColumns[col];\n\t\t\tif(last) {\n\t\t\t\tlast.rowSpanCount++;\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\"rowspan\",last.rowSpanCount);\n\t\t\t\tvAlign = $tw.utils.getAttributeValueFromParseTreeNode(last.element,\"valign\",\"center\");\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\"valign\",vAlign);\n\t\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\"colspan\",colSpanCount);\n\t\t\t\t\tcolSpanCount = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \"&gt;\") {\n\t\t\t// Colspan\n\t\t\tcolSpanCount++;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \"&lt;\" &amp;&amp; prevCell) {\n\t\t\tcolSpanCount = 1 + $tw.utils.getAttributeValueFromParseTreeNode(prevCell,\"colspan\",1);\n\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\"colspan\",colSpanCount);\n\t\t\tcolSpanCount = 1;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[2]) {\n\t\t\t// End of row\n\t\t\tif(prevCell &amp;&amp; colSpanCount &gt; 1) {\n\t\t\t\tif(prevCell.attributes &amp;&amp; prevCell.attributes &amp;&amp; prevCell.attributes.colspan) {\n\t\t\t\t\t\tcolSpanCount += prevCell.attributes.colspan.value;\n\t\t\t\t} else {\n\t\t\t\t\tcolSpanCount -= 1;\n\t\t\t\t}\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\"colspan\",colSpanCount);\n\t\t\t}\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t\tbreak;\n\t\t} else {\n\t\t\t// For ordinary cells, step beyond the opening `|`\n\t\t\tthis.parser.pos++;\n\t\t\t// Look for a space at the start of the cell\n\t\t\tvar spaceLeft = false;\n\t\t\tvAlign = null;\n\t\t\tif(this.parser.source.substr(this.parser.pos).search(/^\\^([^\\^]|\\^\\^)/) === 0) {\n\t\t\t\tvAlign = \"top\";\n\t\t\t} else if(this.parser.source.substr(this.parser.pos).search(/^,([^,]|,,)/) === 0) {\n\t\t\t\tvAlign = \"bottom\";\n\t\t\t}\n\t\t\tif(vAlign) {\n\t\t\t\tthis.parser.pos++;\n\t\t\t}\n\t\t\tvar chr = this.parser.source.substr(this.parser.pos,1);\n\t\t\twhile(chr === \" \") {\n\t\t\t\tspaceLeft = true;\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tchr = this.parser.source.substr(this.parser.pos,1);\n\t\t\t}\n\t\t\t// Check whether this is a heading cell\n\t\t\tvar cell;\n\t\t\tif(chr === \"!\") {\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tcell = {type: \"element\", tag: \"th\", children: []};\n\t\t\t} else {\n\t\t\t\tcell = {type: \"element\", tag: \"td\", children: []};\n\t\t\t}\n\t\t\ttree.push(cell);\n\t\t\t// Record information about this cell\n\t\t\tprevCell = cell;\n\t\t\tprevColumns[col] = {rowSpanCount:1,element:cell};\n\t\t\t// Check for a colspan\n\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"colspan\",colSpanCount);\n\t\t\t\tcolSpanCount = 1;\n\t\t\t}\n\t\t\t// Parse the cell\n\t\t\tcell.children = this.parser.parseInlineRun(cellTermRegExp,{eatTerminator: true});\n\t\t\t// Set the alignment for the cell\n\t\t\tif(vAlign) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"valign\",vAlign);\n\t\t\t}\n\t\t\tif(this.parser.source.substr(this.parser.pos - 2,1) === \" \") { // spaceRight\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"align\",spaceLeft ? \"center\" : \"left\");\n\t\t\t} else if(spaceLeft) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"align\",\"right\");\n\t\t\t}\n\t\t\t// Move back to the closing `|`\n\t\t\tthis.parser.pos--;\n\t\t}\n\t\tcol++;\n\t\tcellRegExp.lastIndex = this.parser.pos;\n\t\tcellMatch = cellRegExp.exec(this.parser.source);\n\t}\n\treturn tree;\n};\n\nexports.parse = function() {\n\tvar rowContainerTypes = {\"c\":\"caption\", \"h\":\"thead\", \"\":\"tbody\", \"f\":\"tfoot\"},\n\t\ttable = {type: \"element\", tag: \"table\", children: []},\n\t\trowRegExp = /^\\|([^\\n]*)\\|([fhck]?)\\r?(?:\\n|$)/mg,\n\t\trowTermRegExp = /(\\|(?:[fhck]?)\\r?(?:\\n|$))/mg,\n\t\tprevColumns = [],\n\t\tcurrRowType,\n\t\trowContainer,\n\t\trowCount = 0;\n\t// Match the row\n\trowRegExp.lastIndex = this.parser.pos;\n\tvar rowMatch = rowRegExp.exec(this.parser.source);\n\twhile(rowMatch &amp;&amp; rowMatch.index === this.parser.pos) {\n\t\tvar rowType = rowMatch[2];\n\t\t// Check if it is a class assignment\n\t\tif(rowType === \"k\") {\n\t\t\t$tw.utils.addClassToParseTreeNode(table,rowMatch[1]);\n\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t} else {\n\t\t\t// Otherwise, create a new row if this one is of a different type\n\t\t\tif(rowType !== currRowType) {\n\t\t\t\trowContainer = {type: \"element\", tag: rowContainerTypes[rowType], children: []};\n\t\t\t\ttable.children.push(rowContainer);\n\t\t\t\tcurrRowType = rowType;\n\t\t\t}\n\t\t\t// Is this a caption row?\n\t\t\tif(currRowType === \"c\") {\n\t\t\t\t// If so, move past the opening `|` of the row\n\t\t\t\tthis.parser.pos++;\n\t\t\t\t// Move the caption to the first row if it isn't already\n\t\t\t\tif(table.children.length !== 1) {\n\t\t\t\t\ttable.children.pop(); // Take rowContainer out of the children array\n\t\t\t\t\ttable.children.splice(0,0,rowContainer); // Insert it at the bottom\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t// Set the alignment - TODO: figure out why TW did this\n//\t\t\t\trowContainer.attributes.align = rowCount === 0 ? \"top\" : \"bottom\";\n\t\t\t\t// Parse the caption\n\t\t\t\trowContainer.children = this.parser.parseInlineRun(rowTermRegExp,{eatTerminator: true});\n\t\t\t} else {\n\t\t\t\t// Create the row\n\t\t\t\tvar theRow = {type: \"element\", tag: \"tr\", children: []};\n\t\t\t\t$tw.utils.addClassToParseTreeNode(theRow,rowCount%2 ? \"oddRow\" : \"evenRow\");\n\t\t\t\trowContainer.children.push(theRow);\n\t\t\t\t// Process the row\n\t\t\t\ttheRow.children = processRow.call(this,prevColumns);\n\t\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t\t\t// Increment the row count\n\t\t\t\trowCount++;\n\t\t\t}\n\t\t}\n\t\trowMatch = rowRegExp.exec(this.parser.source);\n\t}\n\treturn [table];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/transcludeblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/transcludeblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"transcludeblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {},\n\t\t\tisBlock: true\n\t\t};\n\t// Prepare the tiddler widget\n\tvar tr, targetTitle, targetField, targetIndex, tiddlerNode;\n\tif(textRef) {\n\t\ttr = $tw.utils.parseTextReference(textRef);\n\t\ttargetTitle = tr.title;\n\t\ttargetField = tr.field;\n\t\ttargetIndex = tr.index;\n\t\ttiddlerNode = {\n\t\t\ttype: \"tiddler\",\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \"string\", value: targetTitle}\n\t\t\t},\n\t\t\tisBlock: true,\n\t\t\tchildren: [transcludeNode]\n\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \"string\", value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \"string\", value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/transcludeinline.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/transcludeinline.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"transcludeinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {}\n\t\t};\n\t// Prepare the tiddler widget\n\tvar tr, targetTitle, targetField, targetIndex, tiddlerNode;\n\tif(textRef) {\n\t\ttr = $tw.utils.parseTextReference(textRef);\n\t\ttargetTitle = tr.title;\n\t\ttargetField = tr.field;\n\t\ttargetIndex = tr.index;\n\t\ttiddlerNode = {\n\t\t\ttype: \"tiddler\",\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \"string\", value: targetTitle}\n\t\t\t},\n\t\t\tchildren: [transcludeNode]\n\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \"string\", value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \"string\", value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/typedblock.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/typedblock.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/typedblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for typed blocks. For example:\n\n```\n$$$.js\nThis will be rendered as JavaScript\n$$$\n\n$$$.svg\n&lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"150\" height=\"100\"&gt;\n  &lt;circle cx=\"100\" cy=\"50\" r=\"40\" stroke=\"black\" stroke-width=\"2\" fill=\"red\" /&gt;\n&lt;/svg&gt;\n$$$\n\n$$$text/vnd.tiddlywiki&gt;text/html\nThis will be rendered as an //HTML representation// of WikiText\n$$$\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.name = \"typedblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\$\\$\\$([^ &gt;\\r\\n]*)(?: *&gt; *([^ \\r\\n]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /\\r?\\n\\$\\$\\$\\r?(?:\\n|$)/mg;\n\t// Save the type\n\tvar parseType = this.match[1],\n\t\trenderType = this.match[2];\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Parse the block according to the specified type\n\tvar parser = this.parser.wiki.parseText(parseType,text,{defaultType: \"text/plain\"});\n\t// If there's no render type, just return the parse tree\n\tif(!renderType) {\n\t\treturn parser.tree;\n\t} else {\n\t\t// Otherwise, render to the rendertype and return in a &lt;PRE&gt; tag\n\t\tvar widgetNode = this.parser.wiki.makeWidget(parser),\n\t\t\tcontainer = $tw.fakeDocument.createElement(\"div\");\n\t\twidgetNode.render(container,null);\n\t\ttext = renderType === \"text/html\" ? container.innerHTML : container.textContent;\n\t\treturn [{\n\t\t\ttype: \"element\",\n\t\t\ttag: \"pre\",\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/whitespace.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/whitespace.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/whitespace.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for whitespace specifications\n\n```\n\\whitespace trim\n\\whitespace notrim\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"whitespace\";\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\whitespace[^\\S\\n]/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\tvar self = this;\n\t// Move past the pragma invocation\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse whitespace delimited tokens terminated by a line break\n\tvar reMatch = /[^\\S\\n]*(\\S+)|(\\r?\\n)/mg,\n\t\ttokens = [];\n\treMatch.lastIndex = this.parser.pos;\n\tvar match = reMatch.exec(this.parser.source);\n\twhile(match &amp;&amp; match.index === this.parser.pos) {\n\t\tthis.parser.pos = reMatch.lastIndex;\n\t\t// Exit if we've got the line break\n\t\tif(match[2]) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the token\n\t\tif(match[1]) {\n\t\t\ttokens.push(match[1]);\n\t\t}\n\t\t// Match the next token\n\t\tmatch = reMatch.exec(this.parser.source);\n\t}\n\t// Process the tokens\n\t$tw.utils.each(tokens,function(token) {\n\t\tswitch(token) {\n\t\t\tcase \"trim\":\n\t\t\t\tself.parser.configTrimWhiteSpace = true;\n\t\t\t\tbreak;\n\t\t\tcase \"notrim\":\n\t\t\t\tself.parser.configTrimWhiteSpace = false;\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t// No parse tree nodes to return\n\treturn [];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/wikilink.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/wikilink.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikilink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for wiki links. For example:\n\n```\nAWikiLink\nAnotherLink\n~SuppressedLink\n```\n\nPrecede a camel case word with `~` to prevent it from being recognised as a link.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"wikilink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = new RegExp($tw.config.textPrimitives.unWikiLink + \"?\" + $tw.config.textPrimitives.wikiLink,\"mg\");\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get the details of the match\n\tvar linkText = this.match[0];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// If the link starts with the unwikilink character then just output it as plain text\n\tif(linkText.substr(0,1) === $tw.config.textPrimitives.unWikiLink) {\n\t\treturn [{type: \"text\", text: linkText.substr(1)}];\n\t}\n\t// If the link has been preceded with a blocked letter then don't treat it as a link\n\tif(this.match.index &gt; 0) {\n\t\tvar preRegExp = new RegExp($tw.config.textPrimitives.blockPrefixLetters,\"mg\");\n\t\tpreRegExp.lastIndex = this.match.index-1;\n\t\tvar preMatch = preRegExp.exec(this.parser.source);\n\t\tif(preMatch &amp;&amp; preMatch.index === this.match.index-1) {\n\t\t\treturn [{type: \"text\", text: linkText}];\n\t\t}\n\t}\n\treturn [{\n\t\ttype: \"link\",\n\t\tattributes: {\n\t\t\tto: {type: \"string\", value: linkText}\n\t\t},\n\t\tchildren: [{\n\t\t\ttype: \"text\",\n\t\t\ttext: linkText\n\t\t}]\n\t}];\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/wikiparser.js": {
            "title": "$:/core/modules/parsers/wikiparser/wikiparser.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/wikiparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe wiki text parser processes blocks of source text into a parse tree.\n\nThe parse tree is made up of nested arrays of these JavaScript objects:\n\n\t{type: \"element\", tag: &lt;string&gt;, attributes: {}, children: []} - an HTML element\n\t{type: \"text\", text: &lt;string&gt;} - a text node\n\t{type: \"entity\", value: &lt;string&gt;} - an entity\n\t{type: \"raw\", html: &lt;string&gt;} - raw HTML\n\nAttributes are stored as hashmaps of the following objects:\n\n\t{type: \"string\", value: &lt;string&gt;} - literal string\n\t{type: \"indirect\", textReference: &lt;textReference&gt;} - indirect through a text reference\n\t{type: \"macro\", macro: &lt;TBD&gt;} - indirect through a macro invocation\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\ntype: content type of text\ntext: text to be parsed\noptions: see below:\n\tparseAsInline: true to parse text as inline instead of block\n\twiki: reference to wiki to use\n\t_canonical_uri: optional URI of content if text is missing or empty\n*/\nvar WikiParser = function(type,text,options) {\n\tthis.wiki = options.wiki;\n\tvar self = this;\n\t// Check for an externally linked tiddler\n\tif($tw.browser &amp;&amp; (text || \"\") === \"\" &amp;&amp; options._canonical_uri) {\n\t\tthis.loadRemoteTiddler(options._canonical_uri);\n\t\ttext = $tw.language.getRawString(\"LazyLoadingWarning\");\n\t}\n\t// Save the parse text\n\tthis.type = type || \"text/vnd.tiddlywiki\";\n\tthis.source = text || \"\";\n\tthis.sourceLength = this.source.length;\n\t// Flag for ignoring whitespace\n\tthis.configTrimWhiteSpace = false;\n\t// Set current parse position\n\tthis.pos = 0;\n\t// Start with empty output\n\tthis.tree = [];\n\t// Assemble the rule classes we're going to use\n\tvar pragmaRuleClasses, blockRuleClasses, inlineRuleClasses;\n\tif(options.rules) {\n\t\tpragmaRuleClasses = options.rules.pragma;\n\t\tblockRuleClasses = options.rules.block;\n\t\tinlineRuleClasses = options.rules.inline;\n\t} else {\n\t\t// Setup the rule classes if we don't have them already\n\t\tif(!this.pragmaRuleClasses) {\n\t\t\tWikiParser.prototype.pragmaRuleClasses = $tw.modules.createClassesFromModules(\"wikirule\",\"pragma\",$tw.WikiRuleBase);\n\t\t\tthis.setupRules(WikiParser.prototype.pragmaRuleClasses,\"$:/config/WikiParserRules/Pragmas/\");\n\t\t}\n\t\tpragmaRuleClasses = this.pragmaRuleClasses;\n\t\tif(!this.blockRuleClasses) {\n\t\t\tWikiParser.prototype.blockRuleClasses = $tw.modules.createClassesFromModules(\"wikirule\",\"block\",$tw.WikiRuleBase);\n\t\t\tthis.setupRules(WikiParser.prototype.blockRuleClasses,\"$:/config/WikiParserRules/Block/\");\n\t\t}\n\t\tblockRuleClasses = this.blockRuleClasses;\n\t\tif(!this.inlineRuleClasses) {\n\t\t\tWikiParser.prototype.inlineRuleClasses = $tw.modules.createClassesFromModules(\"wikirule\",\"inline\",$tw.WikiRuleBase);\n\t\t\tthis.setupRules(WikiParser.prototype.inlineRuleClasses,\"$:/config/WikiParserRules/Inline/\");\n\t\t}\n\t\tinlineRuleClasses = this.inlineRuleClasses;\n\t}\n\t// Instantiate the pragma parse rules\n\tthis.pragmaRules = this.instantiateRules(pragmaRuleClasses,\"pragma\",0);\n\t// Instantiate the parser block and inline rules\n\tthis.blockRules = this.instantiateRules(blockRuleClasses,\"block\",0);\n\tthis.inlineRules = this.instantiateRules(inlineRuleClasses,\"inline\",0);\n\t// Parse any pragmas\n\tvar topBranch = this.parsePragmas();\n\t// Parse the text into inline runs or blocks\n\tif(options.parseAsInline) {\n\t\ttopBranch.push.apply(topBranch,this.parseInlineRun());\n\t} else {\n\t\ttopBranch.push.apply(topBranch,this.parseBlocks());\n\t}\n\t// Return the parse tree\n};\n\n/*\n*/\nWikiParser.prototype.loadRemoteTiddler = function(url) {\n\tvar self = this;\n\t$tw.utils.httpRequest({\n\t\turl: url,\n\t\ttype: \"GET\",\n\t\tcallback: function(err,data) {\n\t\t\tif(!err) {\n\t\t\t\tvar tiddlers = self.wiki.deserializeTiddlers(\".tid\",data,self.wiki.getCreationFields());\n\t\t\t\t$tw.utils.each(tiddlers,function(tiddler) {\n\t\t\t\t\ttiddler[\"_canonical_uri\"] = url;\n\t\t\t\t});\n\t\t\t\tif(tiddlers) {\n\t\t\t\t\tself.wiki.addTiddlers(tiddlers);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\n*/\nWikiParser.prototype.setupRules = function(proto,configPrefix) {\n\tvar self = this;\n\tif(!$tw.safemode) {\n\t\t$tw.utils.each(proto,function(object,name) {\n\t\t\tif(self.wiki.getTiddlerText(configPrefix + name,\"enable\") !== \"enable\") {\n\t\t\t\tdelete proto[name];\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nInstantiate an array of parse rules\n*/\nWikiParser.prototype.instantiateRules = function(classes,type,startPos) {\n\tvar rulesInfo = [],\n\t\tself = this;\n\t$tw.utils.each(classes,function(RuleClass) {\n\t\t// Instantiate the rule\n\t\tvar rule = new RuleClass(self);\n\t\trule.is = {};\n\t\trule.is[type] = true;\n\t\trule.init(self);\n\t\tvar matchIndex = rule.findNextMatch(startPos);\n\t\tif(matchIndex !== undefined) {\n\t\t\trulesInfo.push({\n\t\t\t\trule: rule,\n\t\t\t\tmatchIndex: matchIndex\n\t\t\t});\n\t\t}\n\t});\n\treturn rulesInfo;\n};\n\n/*\nSkip any whitespace at the current position. Options are:\n\ttreatNewlinesAsNonWhitespace: true if newlines are NOT to be treated as whitespace\n*/\nWikiParser.prototype.skipWhitespace = function(options) {\n\toptions = options || {};\n\tvar whitespaceRegExp = options.treatNewlinesAsNonWhitespace ? /([^\\S\\n]+)/mg : /(\\s+)/mg;\n\twhitespaceRegExp.lastIndex = this.pos;\n\tvar whitespaceMatch = whitespaceRegExp.exec(this.source);\n\tif(whitespaceMatch &amp;&amp; whitespaceMatch.index === this.pos) {\n\t\tthis.pos = whitespaceRegExp.lastIndex;\n\t}\n};\n\n/*\nGet the next match out of an array of parse rule instances\n*/\nWikiParser.prototype.findNextMatch = function(rules,startPos) {\n\t// Find the best matching rule by finding the closest match position\n\tvar matchingRule,\n\t\tmatchingRulePos = this.sourceLength;\n\t// Step through each rule\n\tfor(var t=0; t&lt;rules.length; t++) {\n\t\tvar ruleInfo = rules[t];\n\t\t// Ask the rule to get the next match if we've moved past the current one\n\t\tif(ruleInfo.matchIndex !== undefined  &amp;&amp; ruleInfo.matchIndex &lt; startPos) {\n\t\t\truleInfo.matchIndex = ruleInfo.rule.findNextMatch(startPos);\n\t\t}\n\t\t// Adopt this match if it's closer than the current best match\n\t\tif(ruleInfo.matchIndex !== undefined &amp;&amp; ruleInfo.matchIndex &lt;= matchingRulePos) {\n\t\t\tmatchingRule = ruleInfo;\n\t\t\tmatchingRulePos = ruleInfo.matchIndex;\n\t\t}\n\t}\n\treturn matchingRule;\n};\n\n/*\nParse any pragmas at the beginning of a block of parse text\n*/\nWikiParser.prototype.parsePragmas = function() {\n\tvar currentTreeBranch = this.tree;\n\twhile(true) {\n\t\t// Skip whitespace\n\t\tthis.skipWhitespace();\n\t\t// Check for the end of the text\n\t\tif(this.pos &gt;= this.sourceLength) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check if we've arrived at a pragma rule match\n\t\tvar nextMatch = this.findNextMatch(this.pragmaRules,this.pos);\n\t\t// If not, just exit\n\t\tif(!nextMatch || nextMatch.matchIndex !== this.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the pragma rule\n\t\tvar subTree = nextMatch.rule.parse();\n\t\tif(subTree.length &gt; 0) {\n\t\t\t// Quick hack; we only cope with a single parse tree node being returned, which is true at the moment\n\t\t\tcurrentTreeBranch.push.apply(currentTreeBranch,subTree);\n\t\t\tsubTree[0].children = [];\n\t\t\tcurrentTreeBranch = subTree[0].children;\n\t\t}\n\t}\n\treturn currentTreeBranch;\n};\n\n/*\nParse a block from the current position\n\tterminatorRegExpString: optional regular expression string that identifies the end of plain paragraphs. Must not include capturing parenthesis\n*/\nWikiParser.prototype.parseBlock = function(terminatorRegExpString) {\n\tvar terminatorRegExp = terminatorRegExpString ? new RegExp(\"(\" + terminatorRegExpString + \"|\\\\r?\\\\n\\\\r?\\\\n)\",\"mg\") : /(\\r?\\n\\r?\\n)/mg;\n\tthis.skipWhitespace();\n\tif(this.pos &gt;= this.sourceLength) {\n\t\treturn [];\n\t}\n\t// Look for a block rule that applies at the current position\n\tvar nextMatch = this.findNextMatch(this.blockRules,this.pos);\n\tif(nextMatch &amp;&amp; nextMatch.matchIndex === this.pos) {\n\t\treturn nextMatch.rule.parse();\n\t}\n\t// Treat it as a paragraph if we didn't find a block rule\n\treturn [{type: \"element\", tag: \"p\", children: this.parseInlineRun(terminatorRegExp)}];\n};\n\n/*\nParse a series of blocks of text until a terminating regexp is encountered or the end of the text\n\tterminatorRegExpString: terminating regular expression\n*/\nWikiParser.prototype.parseBlocks = function(terminatorRegExpString) {\n\tif(terminatorRegExpString) {\n\t\treturn this.parseBlocksTerminated(terminatorRegExpString);\n\t} else {\n\t\treturn this.parseBlocksUnterminated();\n\t}\n};\n\n/*\nParse a block from the current position to the end of the text\n*/\nWikiParser.prototype.parseBlocksUnterminated = function() {\n\tvar tree = [];\n\twhile(this.pos &lt; this.sourceLength) {\n\t\ttree.push.apply(tree,this.parseBlock());\n\t}\n\treturn tree;\n};\n\n/*\nParse blocks of text until a terminating regexp is encountered\n*/\nWikiParser.prototype.parseBlocksTerminated = function(terminatorRegExpString) {\n\tvar terminatorRegExp = new RegExp(\"(\" + terminatorRegExpString + \")\",\"mg\"),\n\t\ttree = [];\n\t// Skip any whitespace\n\tthis.skipWhitespace();\n\t//  Check if we've got the end marker\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar match = terminatorRegExp.exec(this.source);\n\t// Parse the text into blocks\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; !(match &amp;&amp; match.index === this.pos)) {\n\t\tvar blocks = this.parseBlock(terminatorRegExpString);\n\t\ttree.push.apply(tree,blocks);\n\t\t// Skip any whitespace\n\t\tthis.skipWhitespace();\n\t\t//  Check if we've got the end marker\n\t\tterminatorRegExp.lastIndex = this.pos;\n\t\tmatch = terminatorRegExp.exec(this.source);\n\t}\n\tif(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t}\n\treturn tree;\n};\n\n/*\nParse a run of text at the current position\n\tterminatorRegExp: a regexp at which to stop the run\n\toptions: see below\nOptions available:\n\teatTerminator: move the parse position past any encountered terminator (default false)\n*/\nWikiParser.prototype.parseInlineRun = function(terminatorRegExp,options) {\n\tif(terminatorRegExp) {\n\t\treturn this.parseInlineRunTerminated(terminatorRegExp,options);\n\t} else {\n\t\treturn this.parseInlineRunUnterminated(options);\n\t}\n};\n\nWikiParser.prototype.parseInlineRunUnterminated = function(options) {\n\tvar tree = [];\n\t// Find the next occurrence of an inline rule\n\tvar nextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around the matches until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; nextMatch) {\n\t\t// Process the text preceding the run rule\n\t\tif(nextMatch.matchIndex &gt; this.pos) {\n\t\t\tthis.pushTextWidget(tree,this.source.substring(this.pos,nextMatch.matchIndex));\n\t\t\tthis.pos = nextMatch.matchIndex;\n\t\t}\n\t\t// Process the run rule\n\t\ttree.push.apply(tree,nextMatch.rule.parse());\n\t\t// Look for the next run rule\n\t\tnextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\tthis.pushTextWidget(tree,this.source.substr(this.pos));\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\nWikiParser.prototype.parseInlineRunTerminated = function(terminatorRegExp,options) {\n\toptions = options || {};\n\tvar tree = [];\n\t// Find the next occurrence of the terminator\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar terminatorMatch = terminatorRegExp.exec(this.source);\n\t// Find the next occurrence of a inlinerule\n\tvar inlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; (terminatorMatch || inlineRuleMatch)) {\n\t\t// Return if we've found the terminator, and it precedes any inline rule match\n\t\tif(terminatorMatch) {\n\t\t\tif(!inlineRuleMatch || inlineRuleMatch.matchIndex &gt;= terminatorMatch.index) {\n\t\t\t\tif(terminatorMatch.index &gt; this.pos) {\n\t\t\t\t\tthis.pushTextWidget(tree,this.source.substring(this.pos,terminatorMatch.index));\n\t\t\t\t}\n\t\t\t\tthis.pos = terminatorMatch.index;\n\t\t\t\tif(options.eatTerminator) {\n\t\t\t\t\tthis.pos += terminatorMatch[0].length;\n\t\t\t\t}\n\t\t\t\treturn tree;\n\t\t\t}\n\t\t}\n\t\t// Process any inline rule, along with the text preceding it\n\t\tif(inlineRuleMatch) {\n\t\t\t// Preceding text\n\t\t\tif(inlineRuleMatch.matchIndex &gt; this.pos) {\n\t\t\t\tthis.pushTextWidget(tree,this.source.substring(this.pos,inlineRuleMatch.matchIndex));\n\t\t\t\tthis.pos = inlineRuleMatch.matchIndex;\n\t\t\t}\n\t\t\t// Process the inline rule\n\t\t\ttree.push.apply(tree,inlineRuleMatch.rule.parse());\n\t\t\t// Look for the next inline rule\n\t\t\tinlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t\t\t// Look for the next terminator match\n\t\t\tterminatorRegExp.lastIndex = this.pos;\n\t\t\tterminatorMatch = terminatorRegExp.exec(this.source);\n\t\t}\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\tthis.pushTextWidget(tree,this.source.substr(this.pos));\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\n/*\nPush a text widget onto an array, respecting the configTrimWhiteSpace setting\n*/\nWikiParser.prototype.pushTextWidget = function(array,text) {\n\tif(this.configTrimWhiteSpace) {\n\t\ttext = $tw.utils.trim(text);\n\t}\n\tif(text) {\n\t\tarray.push({type: \"text\", text: text});\t\t\n\t}\n};\n\n/*\nParse zero or more class specifiers `.classname`\n*/\nWikiParser.prototype.parseClasses = function() {\n\tvar classRegExp = /\\.([^\\s\\.]+)/mg,\n\t\tclassNames = [];\n\tclassRegExp.lastIndex = this.pos;\n\tvar match = classRegExp.exec(this.source);\n\twhile(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t\tclassNames.push(match[1]);\n\t\tmatch = classRegExp.exec(this.source);\n\t}\n\treturn classNames;\n};\n\n/*\nAmend the rules used by this instance of the parser\n\ttype: `only` keeps just the named rules, `except` keeps all but the named rules\n\tnames: array of rule names\n*/\nWikiParser.prototype.amendRules = function(type,names) {\n\tnames = names || [];\n\t// Define the filter function\n\tvar target;\n\tif(type === \"only\") {\n\t\ttarget = true;\n\t} else if(type === \"except\") {\n\t\ttarget = false;\n\t} else {\n\t\treturn;\n\t}\n\t// Define a function to process each of our rule arrays\n\tvar processRuleArray = function(ruleArray) {\n\t\tfor(var t=ruleArray.length-1; t&gt;=0; t--) {\n\t\t\tif((names.indexOf(ruleArray[t].rule.name) === -1) === target) {\n\t\t\t\truleArray.splice(t,1);\n\t\t\t}\n\t\t}\n\t};\n\t// Process each rule array\n\tprocessRuleArray(this.pragmaRules);\n\tprocessRuleArray(this.blockRules);\n\tprocessRuleArray(this.inlineRules);\n};\n\nexports[\"text/vnd.tiddlywiki\"] = WikiParser;\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/wikiparser/rules/wikirulebase.js": {
            "title": "$:/core/modules/parsers/wikiparser/rules/wikirulebase.js",
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikirulebase.js\ntype: application/javascript\nmodule-type: global\n\nBase class for wiki parser rules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nThis constructor is always overridden with a blank constructor, and so shouldn't be used\n*/\nvar WikiRuleBase = function() {\n};\n\n/*\nTo be overridden by individual rules\n*/\nWikiRuleBase.prototype.init = function(parser) {\n\tthis.parser = parser;\n};\n\n/*\nDefault implementation of findNextMatch uses RegExp matching\n*/\nWikiRuleBase.prototype.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\treturn this.match ? this.match.index : undefined;\n};\n\nexports.WikiRuleBase = WikiRuleBase;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/pluginswitcher.js": {
            "title": "$:/core/modules/pluginswitcher.js",
            "text": "/*\\\ntitle: $:/core/modules/pluginswitcher.js\ntype: application/javascript\nmodule-type: global\n\nManages switching plugins for themes and languages.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\noptions:\nwiki: wiki store to be used\npluginType: type of plugin to be switched\ncontrollerTitle: title of tiddler used to control switching of this resource\ndefaultPlugins: array of default plugins to be used if nominated plugin isn't found\nonSwitch: callback when plugin is switched (single parameter is array of plugin titles)\n*/\nfunction PluginSwitcher(options) {\n\tthis.wiki = options.wiki;\n\tthis.pluginType = options.pluginType;\n\tthis.controllerTitle = options.controllerTitle;\n\tthis.defaultPlugins = options.defaultPlugins || [];\n\tthis.onSwitch = options.onSwitch;\n\t// Switch to the current plugin\n\tthis.switchPlugins();\n\t// Listen for changes to the selected plugin\n\tvar self = this;\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.utils.hop(changes,self.controllerTitle)) {\n\t\t\tself.switchPlugins();\n\t\t}\n\t});\n}\n\nPluginSwitcher.prototype.switchPlugins = function() {\n\t// Get the name of the current theme\n\tvar selectedPluginTitle = this.wiki.getTiddlerText(this.controllerTitle);\n\t// If it doesn't exist, then fallback to one of the default themes\n\tvar index = 0;\n\twhile(!this.wiki.getTiddler(selectedPluginTitle) &amp;&amp; index &lt; this.defaultPlugins.length) {\n\t\tselectedPluginTitle = this.defaultPlugins[index++];\n\t}\n\t// Accumulate the titles of the plugins that we need to load\n\tvar plugins = [],\n\t\tself = this,\n\t\taccumulatePlugin = function(title) {\n\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\tif(tiddler &amp;&amp; tiddler.isPlugin() &amp;&amp; plugins.indexOf(title) === -1) {\n\t\t\t\tplugins.push(title);\n\t\t\t\tvar pluginInfo = JSON.parse(self.wiki.getTiddlerText(title)),\n\t\t\t\t\tdependents = $tw.utils.parseStringArray(tiddler.fields.dependents || \"\");\n\t\t\t\t$tw.utils.each(dependents,function(title) {\n\t\t\t\t\taccumulatePlugin(title);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\taccumulatePlugin(selectedPluginTitle);\n\t// Read the plugin info for the incoming plugins\n\tvar changes = $tw.wiki.readPluginInfo(plugins);\n\t// Unregister any existing theme tiddlers\n\tvar unregisteredTiddlers = $tw.wiki.unregisterPluginTiddlers(this.pluginType);\n\t// Register any new theme tiddlers\n\tvar registeredTiddlers = $tw.wiki.registerPluginTiddlers(this.pluginType,plugins);\n\t// Unpack the current theme tiddlers\n\t$tw.wiki.unpackPluginTiddlers();\n\t// Call the switch handler\n\tif(this.onSwitch) {\n\t\tthis.onSwitch(plugins);\n\t}\n};\n\nexports.PluginSwitcher = PluginSwitcher;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/saver-handler.js": {
            "title": "$:/core/modules/saver-handler.js",
            "text": "/*\\\ntitle: $:/core/modules/saver-handler.js\ntype: application/javascript\nmodule-type: global\n\nThe saver handler tracks changes to the store and handles saving the entire wiki via saver modules.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInstantiate the saver handler with the following options:\nwiki: wiki to be synced\ndirtyTracking: true if dirty tracking should be performed\n*/\nfunction SaverHandler(options) {\n\tvar self = this;\n\tthis.wiki = options.wiki;\n\tthis.dirtyTracking = options.dirtyTracking;\n\tthis.preloadDirty = options.preloadDirty || [];\n\tthis.pendingAutoSave = false;\n\t// Make a logger\n\tthis.logger = new $tw.utils.Logger(\"saver-handler\");\n\t// Initialise our savers\n\tif($tw.browser) {\n\t\tthis.initSavers();\n\t}\n\t// Only do dirty tracking if required\n\tif($tw.browser &amp;&amp; this.dirtyTracking) {\n\t\t// Compile the dirty tiddler filter\n\t\tthis.filterFn = this.wiki.compileFilter(this.wiki.getTiddlerText(this.titleSyncFilter));\n\t\t// Count of changes that have not yet been saved\n\t\tvar filteredChanges = self.filterFn.call(self.wiki,function(iterator) {\n\t\t\t\t$tw.utils.each(self.preloadDirty,function(title) {\n\t\t\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\t\t\titerator(tiddler,title);\n\t\t\t\t});\n\t\t});\n\t\tthis.numChanges = filteredChanges.length;\n\t\t// Listen out for changes to tiddlers\n\t\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\t\t// Filter the changes so that we only count changes to tiddlers that we care about\n\t\t\tvar filteredChanges = self.filterFn.call(self.wiki,function(iterator) {\n\t\t\t\t$tw.utils.each(changes,function(change,title) {\n\t\t\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\t\t\titerator(tiddler,title);\n\t\t\t\t});\n\t\t\t});\n\t\t\t// Adjust the number of changes\n\t\t\tself.numChanges += filteredChanges.length;\n\t\t\tself.updateDirtyStatus();\n\t\t\t// Do any autosave if one is pending and there's no more change events\n\t\t\tif(self.pendingAutoSave &amp;&amp; self.wiki.getSizeOfTiddlerEventQueue() === 0) {\n\t\t\t\t// Check if we're dirty\n\t\t\t\tif(self.numChanges &gt; 0) {\n\t\t\t\t\tself.saveWiki({\n\t\t\t\t\t\tmethod: \"autosave\",\n\t\t\t\t\t\tdownloadType: \"text/plain\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.pendingAutoSave = false;\n\t\t\t}\n\t\t});\n\t\t// Listen for the autosave event\n\t\t$tw.rootWidget.addEventListener(\"tm-auto-save-wiki\",function(event) {\n\t\t\t// Do the autosave unless there are outstanding tiddler change events\n\t\t\tif(self.wiki.getSizeOfTiddlerEventQueue() === 0) {\n\t\t\t\t// Check if we're dirty\n\t\t\t\tif(self.numChanges &gt; 0) {\n\t\t\t\t\tself.saveWiki({\n\t\t\t\t\t\tmethod: \"autosave\",\n\t\t\t\t\t\tdownloadType: \"text/plain\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Otherwise put ourselves in the \"pending autosave\" state and wait for the change event before we do the autosave\n\t\t\t\tself.pendingAutoSave = true;\n\t\t\t}\n\t\t});\n\t\t// Set up our beforeunload handler\n\t\t$tw.addUnloadTask(function(event) {\n\t\t\tvar confirmationMessage;\n\t\t\tif(self.isDirty()) {\n\t\t\t\tconfirmationMessage = $tw.language.getString(\"UnsavedChangesWarning\");\n\t\t\t\tevent.returnValue = confirmationMessage; // Gecko\n\t\t\t}\n\t\t\treturn confirmationMessage;\n\t\t});\n\t}\n\t// Install the save action handlers\n\tif($tw.browser) {\n\t\t$tw.rootWidget.addEventListener(\"tm-save-wiki\",function(event) {\n\t\t\tself.saveWiki({\n\t\t\t\ttemplate: event.param,\n\t\t\t\tdownloadType: \"text/plain\",\n\t\t\t\tvariables: event.paramObject\n\t\t\t});\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\"tm-download-file\",function(event) {\n\t\t\tself.saveWiki({\n\t\t\t\tmethod: \"download\",\n\t\t\t\ttemplate: event.param,\n\t\t\t\tdownloadType: \"text/plain\",\n\t\t\t\tvariables: event.paramObject\n\t\t\t});\n\t\t});\n\t}\n}\n\nSaverHandler.prototype.titleSyncFilter = \"$:/config/SaverFilter\";\nSaverHandler.prototype.titleAutoSave = \"$:/config/AutoSave\";\nSaverHandler.prototype.titleSavedNotification = \"$:/language/Notifications/Save/Done\";\n\n/*\nSelect the appropriate saver modules and set them up\n*/\nSaverHandler.prototype.initSavers = function(moduleType) {\n\tmoduleType = moduleType || \"saver\";\n\t// Instantiate the available savers\n\tthis.savers = [];\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tif(module.canSave(self)) {\n\t\t\tself.savers.push(module.create(self.wiki));\n\t\t}\n\t});\n\t// Sort the savers into priority order\n\tthis.savers.sort(function(a,b) {\n\t\tif(a.info.priority &lt; b.info.priority) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(a.info.priority &gt; b.info.priority) {\n\t\t\t\treturn +1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nSave the wiki contents. Options are:\n\tmethod: \"save\", \"autosave\" or \"download\"\n\ttemplate: the tiddler containing the template to save\n\tdownloadType: the content type for the saved file\n*/\nSaverHandler.prototype.saveWiki = function(options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tmethod = options.method || \"save\";\n\t// Ignore autosave if disabled\n\tif(method === \"autosave\" &amp;&amp; ($tw.config.disableAutoSave || this.wiki.getTiddlerText(this.titleAutoSave,\"yes\") !== \"yes\")) {\n\t\treturn false;\n\t}\n\tvar\tvariables = options.variables || {},\n\t\ttemplate = options.template || \"$:/core/save/all\",\n\t\tdownloadType = options.downloadType || \"text/plain\",\n\t\ttext = this.wiki.renderTiddler(downloadType,template,options),\n\t\tcallback = function(err) {\n\t\t\tif(err) {\n\t\t\t\talert($tw.language.getString(\"Error/WhileSaving\") + \":\\n\\n\" + err);\n\t\t\t} else {\n\t\t\t\t// Clear the task queue if we're saving (rather than downloading)\n\t\t\t\tif(method !== \"download\") {\n\t\t\t\t\tself.numChanges = 0;\n\t\t\t\t\tself.updateDirtyStatus();\n\t\t\t\t}\n\t\t\t\t$tw.notifier.display(self.titleSavedNotification);\n\t\t\t\tif(options.callback) {\n\t\t\t\t\toptions.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t// Call the highest priority saver that supports this method\n\tfor(var t=this.savers.length-1; t&gt;=0; t--) {\n\t\tvar saver = this.savers[t];\n\t\tif(saver.info.capabilities.indexOf(method) !== -1 &amp;&amp; saver.save(text,method,callback,{variables: {filename: variables.filename}})) {\n\t\t\tthis.logger.log(\"Saving wiki with method\",method,\"through saver\",saver.info.name);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/*\nChecks whether the wiki is dirty (ie the window shouldn't be closed)\n*/\nSaverHandler.prototype.isDirty = function() {\n\treturn this.numChanges &gt; 0;\n};\n\n/*\nUpdate the document body with the class \"tc-dirty\" if the wiki has unsaved/unsynced changes\n*/\nSaverHandler.prototype.updateDirtyStatus = function() {\n\tvar self = this;\n\tif($tw.browser) {\n\t\t$tw.utils.toggleClass(document.body,\"tc-dirty\",this.isDirty());\n\t\t$tw.utils.each($tw.windows,function(win) {\n\t\t\t$tw.utils.toggleClass(win.document.body,\"tc-dirty\",self.isDirty());\n\t\t});\n\t}\n};\n\nexports.SaverHandler = SaverHandler;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/savers/andtidwiki.js": {
            "title": "$:/core/modules/savers/andtidwiki.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/andtidwiki.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the AndTidWiki Android app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\"use strict\";\n\nvar AndTidWiki = function(wiki) {\n};\n\nAndTidWiki.prototype.save = function(text,method,callback,options) {\n\tvar filename = options &amp;&amp; options.variables ? options.variables.filename : null;\n\tif (method === \"download\") {\n\t\t// Support download\n\t\tif (window.twi.saveDownload) {\n\t\t\ttry {\n\t\t\t\twindow.twi.saveDownload(text,filename);\n\t\t\t} catch(err) {\n\t\t\t\tif (err.message === \"Method not found\") {\n\t\t\t\t\twindow.twi.saveDownload(text);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar link = document.createElement(\"a\");\n\t\t\tlink.setAttribute(\"href\",\"data:text/plain,\" + encodeURIComponent(text));\n\t\t\tif (filename) {\n\t\t\t    link.setAttribute(\"download\",filename);\n\t\t\t}\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\tdocument.body.removeChild(link);\n\t\t}\n\t} else if (window.twi.saveWiki) {\n\t\t// Direct save in Tiddloid\n\t\twindow.twi.saveWiki(text);\n\t} else {\n\t\t// Get the pathname of this document\n\t\tvar pathname = decodeURIComponent(document.location.toString().split(\"#\")[0]);\n\t\t// Strip the file://\n\t\tif(pathname.indexOf(\"file://\") === 0) {\n\t\t\tpathname = pathname.substr(7);\n\t\t}\n\t\t// Strip any query or location part\n\t\tvar p = pathname.indexOf(\"?\");\n\t\tif(p !== -1) {\n\t\t\tpathname = pathname.substr(0,p);\n\t\t}\n\t\tp = pathname.indexOf(\"#\");\n\t\tif(p !== -1) {\n\t\t\tpathname = pathname.substr(0,p);\n\t\t}\n\t\t// Save the file\n\t\twindow.twi.saveFile(pathname,text);\n\t}\n\t// Call the callback\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nAndTidWiki.prototype.info = {\n\tname: \"andtidwiki\",\n\tpriority: 1600,\n\tcapabilities: [\"save\", \"autosave\", \"download\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.twi &amp;&amp; !!window.twi.saveFile;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new AndTidWiki(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/beaker.js": {
            "title": "$:/core/modules/savers/beaker.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/beaker.js\ntype: application/javascript\nmodule-type: saver\n\nSaves files using the Beaker browser's (https://beakerbrowser.com) Dat protocol (https://datproject.org/)\nCompatible with beaker &gt;= V0.7.2\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSet up the saver\n*/\nvar BeakerSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nBeakerSaver.prototype.save = function(text,method,callback) {\n\tvar dat = new DatArchive(\"\" + window.location),\n\t\tpathname = (\"\" + window.location.pathname).split(\"#\")[0];\n\tdat.stat(pathname).then(function(value) {\n\t\tif(value.isDirectory()) {\n\t\t\tpathname = pathname + \"/index.html\";\n\t\t}\n\t\tdat.writeFile(pathname,text,\"utf8\").then(function(value) {\n\t\t\tcallback(null);\n\t\t},function(reason) {\n\t\t\tcallback(\"Beaker Saver Write Error: \" + reason);\n\t\t});\n\t},function(reason) {\n\t\tcallback(\"Beaker Saver Stat Error: \" + reason);\n\t});\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nBeakerSaver.prototype.info = {\n\tname: \"beaker\",\n\tpriority: 3000,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.DatArchive &amp;&amp; location.protocol===\"dat:\";\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new BeakerSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/custom.js": {
            "title": "$:/core/modules/savers/custom.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/custom.js\ntype: application/javascript\nmodule-type: saver\n\nLooks for `window.$tw.customSaver` first on the current window, then\non the parent window (of an iframe). If present, the saver must define\n\tsave: function(text,method,callback) { ... }\nand the saver may define\n\tpriority: number\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar findSaver = function(window) {\n\ttry {\n\t\treturn window &amp;&amp; window.$tw &amp;&amp; window.$tw.customSaver;\n\t} catch (err) {\n\t\t// Catching the exception is the most reliable way to detect cross-origin iframe errors.\n\t\t// For example, instead of saying that `window.parent.$tw` is undefined, Firefox will throw\n\t\t//   Uncaught DOMException: Permission denied to access property \"$tw\" on cross-origin object\n\t\tconsole.log({ msg: \"custom saver is disabled\", reason: err });\n\t\treturn null;\n\t}\n}\nvar saver = findSaver(window) || findSaver(window.parent) || {};\n\nvar CustomSaver = function(wiki) {\n};\n\nCustomSaver.prototype.save = function(text,method,callback) {\n\treturn saver.save(text, method, callback);\n};\n\n/*\nInformation about this saver\n*/\nCustomSaver.prototype.info = {\n\tname: \"custom\",\n\tpriority: saver.priority || 4000,\n\tcapabilities: [\"save\",\"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!(saver.save);\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new CustomSaver(wiki);\n};\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/download.js": {
            "title": "$:/core/modules/savers/download.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/download.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar DownloadSaver = function(wiki) {\n};\n\nDownloadSaver.prototype.save = function(text,method,callback,options) {\n\toptions = options || {};\n\t// Get the current filename\n\tvar filename = options.variables.filename;\n\tif(!filename) {\n\t\tvar p = document.location.pathname.lastIndexOf(\"/\");\n\t\tif(p !== -1) {\n\t\t\t// We decode the pathname because document.location is URL encoded by the browser\n\t\t\tfilename = decodeURIComponent(document.location.pathname.substr(p+1));\n\t\t}\n\t}\n\tif(!filename) {\n\t\tfilename = \"tiddlywiki.html\";\n\t}\n\t// Set up the link\n\tvar link = document.createElement(\"a\");\n\tif(Blob !== undefined) {\n\t\tvar blob = new Blob([text], {type: \"text/html\"});\n\t\tlink.setAttribute(\"href\", URL.createObjectURL(blob));\n\t} else {\n\t\tlink.setAttribute(\"href\",\"data:text/html,\" + encodeURIComponent(text));\n\t}\n\tlink.setAttribute(\"download\",filename);\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nDownloadSaver.prototype.info = {\n\tname: \"download\",\n\tpriority: 100\n};\n\nObject.defineProperty(DownloadSaver.prototype.info, \"capabilities\", {\n\tget: function() {\n\t\tvar capabilities = [\"save\", \"download\"];\n\t\tif(($tw.wiki.getTextReference(\"$:/config/DownloadSaver/AutoSave\") || \"\").toLowerCase() === \"yes\") {\n\t\t\tcapabilities.push(\"autosave\");\n\t\t}\n\t\treturn capabilities;\n\t}\n});\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn document.createElement(\"a\").download !== undefined;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new DownloadSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/fsosaver.js": {
            "title": "$:/core/modules/savers/fsosaver.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/fsosaver.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via MS FileSystemObject ActiveXObject\n\nNote: Since TiddlyWiki's markup contains the MOTW, the FileSystemObject normally won't be available. \nHowever, if the wiki is loaded as an .HTA file (Windows HTML Applications) then the FSO can be used.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar FSOSaver = function(wiki) {\n};\n\nFSOSaver.prototype.save = function(text,method,callback) {\n\t// Get the pathname of this document\n\tvar pathname = unescape(document.location.pathname);\n\t// Test for a Windows path of the form /x:\\blah...\n\tif(/^\\/[A-Z]\\:\\\\[^\\\\]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t} else if(document.location.hostname !== \"\" &amp;&amp; /^\\/\\\\[^\\\\]+\\\\[^\\\\]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t\t// reconstruct UNC path\n\t\tpathname = \"\\\\\\\\\" + document.location.hostname + pathname;\n\t} else {\n\t\treturn false;\n\t}\n\t// Save the file (as UTF-16)\n\tvar fso = new ActiveXObject(\"Scripting.FileSystemObject\");\n\tvar file = fso.OpenTextFile(pathname,2,-1,-1);\n\tfile.Write(text);\n\tfile.Close();\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nFSOSaver.prototype.info = {\n\tname: \"FSOSaver\",\n\tpriority: 120,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\ttry {\n\t\treturn (window.location.protocol === \"file:\") &amp;&amp; !!(new ActiveXObject(\"Scripting.FileSystemObject\"));\n\t} catch(e) { return false; }\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new FSOSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/gitea.js": {
            "title": "$:/core/modules/savers/gitea.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/gitea.js\ntype: application/javascript\nmodule-type: saver\n\nSaves wiki by pushing a commit to the gitea\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar GiteaSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nGiteaSaver.prototype.save = function(text,method,callback) {\n\tvar self = this,\n\t\tusername = this.wiki.getTiddlerText(\"$:/Gitea/Username\"),\n\t\tpassword = $tw.utils.getPassword(\"Gitea\"),\n\t\trepo = this.wiki.getTiddlerText(\"$:/Gitea/Repo\"),\n\t\tpath = this.wiki.getTiddlerText(\"$:/Gitea/Path\",\"\"),\n\t\tfilename = this.wiki.getTiddlerText(\"$:/Gitea/Filename\"),\n\t\tbranch = this.wiki.getTiddlerText(\"$:/Gitea/Branch\") || \"master\",\n\t\tendpoint = this.wiki.getTiddlerText(\"$:/Gitea/ServerURL\") || \"https://gitea\",\n\t\theaders = {\n\t\t\t\"Accept\": \"application/json\",\n\t\t\t\"Content-Type\": \"application/json;charset=UTF-8\",\n\t\t\t\"Authorization\": \"token \" + password\n\t\t};\n\t// Bail if we don't have everything we need\n\tif(!username || !password || !repo || !filename) {\n\t\treturn false;\n\t}\n\t// Make sure the path start and ends with a slash\n\tif(path.substring(0,1) !== \"/\") {\n\t\tpath = \"/\" + path;\n\t}\n\tif(path.substring(path.length - 1) !== \"/\") {\n\t\tpath = path + \"/\";\n\t}\n\t// Compose the base URI\n\tvar uri = endpoint + \"/repos/\" + repo + \"/contents\" + path;\n\t// Perform a get request to get the details (inc shas) of files in the same path as our file\n\t$tw.utils.httpRequest({\n\t\turl: uri,\n\t\ttype: \"GET\",\n\t\theaders: headers,\n\t\tdata: {\n\t\t\tref: branch\n\t\t},\n\t\tcallback: function(err,getResponseDataJson,xhr) {\n\t\t\tvar getResponseData,sha = \"\";\n\t\t\tif(err &amp;&amp; xhr.status !== 404) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tvar use_put = true;\n\t\t\tif(xhr.status !== 404) {\n\t\t\t\tgetResponseData = JSON.parse(getResponseDataJson);\n\t\t\t\t$tw.utils.each(getResponseData,function(details) {\n\t\t\t\t\tif(details.name === filename) {\n\t\t\t\t\t\tsha = details.sha;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(sha === \"\"){\n\t\t\t\t\tuse_put = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar data = {\n\t\t\t\tmessage: $tw.language.getRawString(\"ControlPanel/Saving/GitService/CommitMessage\"),\n\t\t\t\tcontent: $tw.utils.base64Encode(text),\n\t\t\t\tsha: sha\n\t\t\t};\n\t\t\t$tw.utils.httpRequest({\n\t\t\t\turl: endpoint + \"/repos/\" + repo + \"/branches/\" + branch,\n\t\t\t\ttype: \"GET\",\n\t\t\t\theaders: headers,\n\t\t\t\tcallback: function(err,getResponseDataJson,xhr) {\n\t\t\t\t\tif(xhr.status === 404) {\n\t\t\t\t\t\tcallback(\"Please ensure the branch in the Gitea repo exists\");\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdata[\"branch\"] = branch;\n\t\t\t\t\t\tself.upload(uri + filename, use_put?\"PUT\":\"POST\", headers, data, callback);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\treturn true;\n};\n\nGiteaSaver.prototype.upload = function(uri,method,headers,data,callback) {\n\t$tw.utils.httpRequest({\n\t\turl: uri,\n\t\ttype: method,\n\t\theaders: headers,\n\t\tdata: JSON.stringify(data),\n\t\tcallback: function(err,putResponseDataJson,xhr) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tvar putResponseData = JSON.parse(putResponseDataJson);\n\t\t\tcallback(null);\n\t\t}\n\t});\n};\n\n/*\nInformation about this saver\n*/\nGiteaSaver.prototype.info = {\n\tname: \"Gitea\",\n\tpriority: 2000,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new GiteaSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/github.js": {
            "title": "$:/core/modules/savers/github.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/github.js\ntype: application/javascript\nmodule-type: saver\n\nSaves wiki by pushing a commit to the GitHub v3 REST API\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar GitHubSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nGitHubSaver.prototype.save = function(text,method,callback) {\n\tvar self = this,\n\t\tusername = this.wiki.getTiddlerText(\"$:/GitHub/Username\"),\n\t\tpassword = $tw.utils.getPassword(\"github\"),\n\t\trepo = this.wiki.getTiddlerText(\"$:/GitHub/Repo\"),\n\t\tpath = this.wiki.getTiddlerText(\"$:/GitHub/Path\",\"\"),\n\t\tfilename = this.wiki.getTiddlerText(\"$:/GitHub/Filename\"),\n\t\tbranch = this.wiki.getTiddlerText(\"$:/GitHub/Branch\") || \"main\",\n\t\tendpoint = this.wiki.getTiddlerText(\"$:/GitHub/ServerURL\") || \"https://api.github.com\",\n\t\theaders = {\n\t\t\t\"Accept\": \"application/vnd.github.v3+json\",\n\t\t\t\"Content-Type\": \"application/json;charset=UTF-8\",\n\t\t\t\"Authorization\": \"Basic \" + window.btoa(username + \":\" + password),\n\t\t\t\"If-None-Match\": \"\"\n\t\t};\n\t// Bail if we don't have everything we need\n\tif(!username || !password || !repo || !filename) {\n\t\treturn false;\n\t}\n\t// Make sure the path start and ends with a slash\n\tif(path.substring(0,1) !== \"/\") {\n\t\tpath = \"/\" + path;\n\t}\n\tif(path.substring(path.length - 1) !== \"/\") {\n\t\tpath = path + \"/\";\n\t}\n\t// Compose the base URI\n\tvar uri = endpoint + \"/repos/\" + repo + \"/contents\" + path;\n\t// Perform a get request to get the details (inc shas) of files in the same path as our file\n\t$tw.utils.httpRequest({\n\t\turl: uri,\n\t\ttype: \"GET\",\n\t\theaders: headers,\n\t\tdata: {\n\t\t\tref: branch\n\t\t},\n\t\tcallback: function(err,getResponseDataJson,xhr) {\n\t\t\tvar getResponseData,sha = \"\";\n\t\t\tif(err &amp;&amp; xhr.status !== 404) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tif(xhr.status !== 404) {\n\t\t\t\tgetResponseData = JSON.parse(getResponseDataJson);\n\t\t\t\t$tw.utils.each(getResponseData,function(details) {\n\t\t\t\t\tif(details.name === filename) {\n\t\t\t\t\t\tsha = details.sha;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar data = {\n\t\t\t\tmessage: $tw.language.getRawString(\"ControlPanel/Saving/GitService/CommitMessage\"),\n\t\t\t\tcontent: $tw.utils.base64Encode(text),\n\t\t\t\tbranch: branch,\n\t\t\t\tsha: sha\n\t\t\t};\n\t\t\t// Perform a PUT request to save the file\n\t\t\t$tw.utils.httpRequest({\n\t\t\t\turl: uri + filename,\n\t\t\t\ttype: \"PUT\",\n\t\t\t\theaders: headers,\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tcallback: function(err,putResponseDataJson,xhr) {\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t}\n\t\t\t\t\tvar putResponseData = JSON.parse(putResponseDataJson);\n\t\t\t\t\tcallback(null);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nGitHubSaver.prototype.info = {\n\tname: \"github\",\n\tpriority: 2000,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new GitHubSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/gitlab.js": {
            "title": "$:/core/modules/savers/gitlab.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/gitlab.js\ntype: application/javascript\nmodule-type: saver\n\nSaves wiki by pushing a commit to the GitLab REST API\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: true */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar GitLabSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nGitLabSaver.prototype.save = function(text,method,callback) {\n\t/* See https://docs.gitlab.com/ee/api/repository_files.html */\n\tvar self = this,\n\t\tusername = this.wiki.getTiddlerText(\"$:/GitLab/Username\"),\n\t\tpassword = $tw.utils.getPassword(\"gitlab\"),\n\t\trepo = this.wiki.getTiddlerText(\"$:/GitLab/Repo\"),\n\t\tpath = this.wiki.getTiddlerText(\"$:/GitLab/Path\",\"\"),\n\t\tfilename = this.wiki.getTiddlerText(\"$:/GitLab/Filename\"),\n\t\tbranch = this.wiki.getTiddlerText(\"$:/GitLab/Branch\") || \"master\",\n\t\tendpoint = this.wiki.getTiddlerText(\"$:/GitLab/ServerURL\") || \"https://gitlab.com/api/v4\",\n\t\theaders = {\n\t\t\t\"Content-Type\": \"application/json;charset=UTF-8\",\n\t\t\t\"Private-Token\": password\n\t\t};\n\t// Bail if we don't have everything we need\n\tif(!username || !password || !repo || !filename) {\n\t\treturn false;\n\t}\n\t// Make sure the path start and ends with a slash\n\tif(path.substring(0,1) !== \"/\") {\n\t\tpath = \"/\" + path;\n\t}\n\tif(path.substring(path.length - 1) !== \"/\") {\n\t\tpath = path + \"/\";\n\t}\n\t// Compose the base URI\n\tvar uri = endpoint + \"/projects/\" + encodeURIComponent(repo) + \"/repository/\";\n\t// Perform a get request to get the details (inc shas) of files in the same path as our file\n\t$tw.utils.httpRequest({\n\t\turl: uri + \"tree/?path=\" + encodeURIComponent(path.replace(/^\\/+|\\/$/g, '')) + \"&amp;branch=\" + encodeURIComponent(branch.replace(/^\\/+|\\/$/g, '')),\n\t\ttype: \"GET\",\n\t\theaders: headers,\n\t\tcallback: function(err,getResponseDataJson,xhr) {\n\t\t\tvar getResponseData,sha = \"\";\n\t\t\tif(err &amp;&amp; xhr.status !== 404) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tvar requestType = \"POST\";\n\t\t\tif(xhr.status !== 404) {\n\t\t\t\tgetResponseData = JSON.parse(getResponseDataJson);\n\t\t\t\t$tw.utils.each(getResponseData,function(details) {\n\t\t\t\t\tif(details.name === filename) {\n\t\t\t\t\t\trequestType = \"PUT\";\n\t\t\t\t\t\tsha = details.sha;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar data = {\n\t\t\t\tcommit_message: $tw.language.getRawString(\"ControlPanel/Saving/GitService/CommitMessage\"),\n\t\t\t\tcontent: text,\n\t\t\t\tbranch: branch,\n\t\t\t\tsha: sha\n\t\t\t};\n\t\t\t// Perform a request to save the file\n\t\t\t$tw.utils.httpRequest({\n\t\t\t\turl: uri + \"files/\" + encodeURIComponent(path.replace(/^\\/+/, '') + filename),\n\t\t\t\ttype: requestType,\n\t\t\t\theaders: headers,\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tcallback: function(err,putResponseDataJson,xhr) {\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t}\n\t\t\t\t\tvar putResponseData = JSON.parse(putResponseDataJson);\n\t\t\t\t\tcallback(null);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nGitLabSaver.prototype.info = {\n\tname: \"gitlab\",\n\tpriority: 2000,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new GitLabSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/hyperdrive.js": {
            "title": "$:/core/modules/savers/hyperdrive.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/hyperdrive.js\ntype: application/javascript\nmodule-type: saver\n\nSaves files using the Hyperdrive Protocol (https://hypercore-protocol.org/#hyperdrive) Beaker browser beta-1.0 and later (https://beakerbrowser.com)\nCompatible with beaker &gt;= V1.0.0\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSet up the saver\n*/\nvar HyperdriveSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nHyperdriveSaver.prototype.save = function(text,method,callback) {\n\tvar dat = beaker.hyperdrive.drive(\"\" + window.location),\n\t\tpathname = (\"\" + window.location.pathname).split(\"#\")[0];\n\tdat.stat(pathname).then(function(value) {\n\t\tif(value.isDirectory()) {\n\t\t\tpathname = pathname + \"/index.html\";\n\t\t}\n\t\tdat.writeFile(pathname,text,\"utf8\").then(function(value) {\n\t\t\tcallback(null);\n\t\t},function(reason) {\n\t\t\tcallback(\"Hyperdrive Saver Write Error: \" + reason);\n\t\t});\n\t},function(reason) {\n\t\tcallback(\"Hyperdrive Saver Stat Error: \" + reason);\n\t});\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nHyperdriveSaver.prototype.info = {\n\tname: \"beaker-1.x\",\n\tpriority: 3000,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.beaker &amp;&amp; !!beaker.hyperdrive &amp;&amp; location.protocol===\"hyper:\";\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new HyperdriveSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/manualdownload.js": {
            "title": "$:/core/modules/savers/manualdownload.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/manualdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Title of the tiddler containing the download message\nvar downloadInstructionsTitle = \"$:/language/Modals/Download\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar ManualDownloadSaver = function(wiki) {\n};\n\nManualDownloadSaver.prototype.save = function(text,method,callback) {\n\t$tw.modal.display(downloadInstructionsTitle,{\n\t\tdownloadLink: \"data:text/html,\" + encodeURIComponent(text)\n\t});\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nManualDownloadSaver.prototype.info = {\n\tname: \"manualdownload\",\n\tpriority: 0,\n\tcapabilities: [\"save\", \"download\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new ManualDownloadSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/msdownload.js": {
            "title": "$:/core/modules/savers/msdownload.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/msdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via window.navigator.msSaveBlob()\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar MsDownloadSaver = function(wiki) {\n};\n\nMsDownloadSaver.prototype.save = function(text,method,callback) {\n\t// Get the current filename\n\tvar filename = \"tiddlywiki.html\",\n\t\tp = document.location.pathname.lastIndexOf(\"/\");\n\tif(p !== -1) {\n\t\tfilename = document.location.pathname.substr(p+1);\n\t}\n\t// Set up the link\n\tvar blob = new Blob([text], {type: \"text/html\"});\n\twindow.navigator.msSaveBlob(blob,filename);\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nMsDownloadSaver.prototype.info = {\n\tname: \"msdownload\",\n\tpriority: 110,\n\tcapabilities: [\"save\", \"download\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.navigator.msSaveBlob;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new MsDownloadSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/put.js": {
            "title": "$:/core/modules/savers/put.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/put.js\ntype: application/javascript\nmodule-type: saver\n\nSaves wiki by performing a PUT request to the server\n\nWorks with any server which accepts a PUT request\nto the current URL, such as a WebDAV server.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nRetrieve ETag if available\n*/\nvar retrieveETag = function(self) {\n\tvar headers = {\n\t\tAccept: \"*/*;charset=UTF-8\"\n\t};\n\t$tw.utils.httpRequest({\n\t\turl: self.uri(),\n\t\ttype: \"HEAD\",\n\t\theaders: headers,\n\t\tcallback: function(err,data,xhr) {\n\t\t\tif(err) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar etag = xhr.getResponseHeader(\"ETag\");\n\t\t\tif(!etag) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.etag = etag.replace(/^W\\//,\"\");\n\t\t}\n\t});\n};\n\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar PutSaver = function(wiki) {\n\tthis.wiki = wiki;\n\tvar self = this;\n\tvar uri = this.uri();\n\t// Async server probe. Until probe finishes, save will fail fast\n\t// See also https://github.com/Jermolene/TiddlyWiki5/issues/2276\n\t$tw.utils.httpRequest({\n\t\turl: uri,\n\t\ttype: \"OPTIONS\",\n\t\tcallback: function(err,data,xhr) {\n\t\t\t// Check DAV header http://www.webdav.org/specs/rfc2518.html#rfc.section.9.1\n\t\t\tif(!err) {\n\t\t\t\tself.serverAcceptsPuts = xhr.status === 200 &amp;&amp; !!xhr.getResponseHeader(\"dav\");\n\t\t\t}\n\t\t}\n\t});\n\tretrieveETag(this);\n};\n\nPutSaver.prototype.uri = function() {\n\treturn document.location.toString().split(\"#\")[0];\n};\n\n// TODO: in case of edit conflict\n// Prompt: Do you want to save over this? Y/N\n// Merging would be ideal, and may be possible using future generic merge flow\nPutSaver.prototype.save = function(text,method,callback) {\n\tif(!this.serverAcceptsPuts) {\n\t\treturn false;\n\t}\n\tvar self = this;\n\tvar headers = {\n\t\t\"Content-Type\": \"text/html;charset=UTF-8\"\n\t};\n\tif(this.etag) {\n\t\theaders[\"If-Match\"] = this.etag;\n\t}\n\t$tw.utils.httpRequest({\n\t\turl: this.uri(),\n\t\ttype: \"PUT\",\n\t\theaders: headers,\n\t\tdata: text,\n\t\tcallback: function(err,data,xhr) {\n\t\t\tif(err) {\n\t\t\t\t// response is textual: \"XMLHttpRequest error code: 412\"\n\t\t\t\tvar status = Number(err.substring(err.indexOf(':') + 2, err.length))\n\t\t\t\tif(status === 412) { // edit conflict\n\t\t\t\t\tvar message = $tw.language.getString(\"Error/EditConflict\");\n\t\t\t\t\tcallback(message);\n\t\t\t\t} else {\n\t\t\t\t\tcallback(err); // fail\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.etag = xhr.getResponseHeader(\"ETag\");\n\t\t\t\tif(self.etag == null) {\n\t\t\t\t\tretrieveETag(self);\n\t\t\t\t}\n\t\t\t\tcallback(null); // success\n\t\t\t}\n\t\t}\n\t});\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nPutSaver.prototype.info = {\n\tname: \"put\",\n\tpriority: 2000,\n\tcapabilities: [\"save\",\"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn /^https?:/.test(location.protocol);\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new PutSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/tiddlyfox.js": {
            "title": "$:/core/modules/savers/tiddlyfox.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/tiddlyfox.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TiddlyFox file extension\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\"use strict\";\n\nvar TiddlyFoxSaver = function(wiki) {\n};\n\nTiddlyFoxSaver.prototype.save = function(text,method,callback) {\n\tvar messageBox = document.getElementById(\"tiddlyfox-message-box\");\n\tif(messageBox) {\n\t\t// Get the pathname of this document\n\t\tvar pathname = document.location.toString().split(\"#\")[0];\n\t\t// Replace file://localhost/ with file:///\n\t\tif(pathname.indexOf(\"file://localhost/\") === 0) {\n\t\t\tpathname = \"file://\" + pathname.substr(16);\n\t\t}\n\t\t// Windows path file:///x:/blah/blah --&gt; x:\\blah\\blah\n\t\tif(/^file\\:\\/\\/\\/[A-Z]\\:\\//i.test(pathname)) {\n\t\t\t// Remove the leading slash and convert slashes to backslashes\n\t\t\tpathname = pathname.substr(8).replace(/\\//g,\"\\\\\");\n\t\t// Firefox Windows network path file://///server/share/blah/blah --&gt; //server/share/blah/blah\n\t\t} else if(pathname.indexOf(\"file://///\") === 0) {\n\t\t\tpathname = \"\\\\\\\\\" + unescape(pathname.substr(10)).replace(/\\//g,\"\\\\\");\n\t\t// Mac/Unix local path file:///path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\"file:///\") === 0) {\n\t\t\tpathname = unescape(pathname.substr(7));\n\t\t// Mac/Unix local path file:/path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\"file:/\") === 0) {\n\t\t\tpathname = unescape(pathname.substr(5));\n\t\t// Otherwise Windows networth path file://server/share/path/path --&gt; \\\\server\\share\\path\\path\n\t\t} else {\n\t\t\tpathname = \"\\\\\\\\\" + unescape(pathname.substr(7)).replace(new RegExp(\"/\",\"g\"),\"\\\\\");\n\t\t}\n\t\t// Create the message element and put it in the message box\n\t\tvar message = document.createElement(\"div\");\n\t\tmessage.setAttribute(\"data-tiddlyfox-path\",decodeURIComponent(pathname));\n\t\tmessage.setAttribute(\"data-tiddlyfox-content\",text);\n\t\tmessageBox.appendChild(message);\n\t\t// Add an event handler for when the file has been saved\n\t\tmessage.addEventListener(\"tiddlyfox-have-saved-file\",function(event) {\n\t\t\tcallback(null);\n\t\t}, false);\n\t\t// Create and dispatch the custom event to the extension\n\t\tvar event = document.createEvent(\"Events\");\n\t\tevent.initEvent(\"tiddlyfox-save-file\",true,false);\n\t\tmessage.dispatchEvent(event);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyFoxSaver.prototype.info = {\n\tname: \"tiddlyfox\",\n\tpriority: 1500,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyFoxSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/tiddlyie.js": {
            "title": "$:/core/modules/savers/tiddlyie.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/tiddlyie.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via Internet Explorer BHO extenion (TiddlyIE)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar TiddlyIESaver = function(wiki) {\n};\n\nTiddlyIESaver.prototype.save = function(text,method,callback) {\n\t// Check existence of TiddlyIE BHO extension (note: only works after document is complete)\n\tif(typeof(window.TiddlyIE) != \"undefined\") {\n\t\t// Get the pathname of this document\n\t\tvar pathname = unescape(document.location.pathname);\n\t\t// Test for a Windows path of the form /x:/blah...\n\t\tif(/^\\/[A-Z]\\:\\/[^\\/]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+ (is this better?: ^/[a-z]:/[^/]+(/[^/]+)*\\.[^/]+ )\n\t\t\t// Remove the leading slash\n\t\t\tpathname = pathname.substr(1);\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\"\\\\\");\n\t\t} else if(document.hostname !== \"\" &amp;&amp; /^\\/[^\\/]+\\/[^\\/]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\"\\\\\");\n\t\t\t// reconstruct UNC path\n\t\t\tpathname = \"\\\\\\\\\" + document.location.hostname + pathname;\n\t\t} else return false;\n\t\t// Prompt the user to save the file\n\t\twindow.TiddlyIE.save(pathname, text);\n\t\t// Callback that we succeeded\n\t\tcallback(null);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyIESaver.prototype.info = {\n\tname: \"tiddlyiesaver\",\n\tpriority: 1500,\n\tcapabilities: [\"save\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn (window.location.protocol === \"file:\");\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyIESaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/twedit.js": {
            "title": "$:/core/modules/savers/twedit.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/twedit.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TWEdit iOS app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\"use strict\";\n\nvar TWEditSaver = function(wiki) {\n};\n\nTWEditSaver.prototype.save = function(text,method,callback) {\n\t// Bail if we're not running under TWEdit\n\tif(typeof DeviceInfo !== \"object\") {\n\t\treturn false;\n\t}\n\t// Get the pathname of this document\n\tvar pathname = decodeURIComponent(document.location.pathname);\n\t// Strip any query or location part\n\tvar p = pathname.indexOf(\"?\");\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\tp = pathname.indexOf(\"#\");\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\t// Remove the leading \"/Documents\" from path\n\tvar prefix = \"/Documents\";\n\tif(pathname.indexOf(prefix) === 0) {\n\t\tpathname = pathname.substr(prefix.length);\n\t}\n\t// Error handler\n\tvar errorHandler = function(event) {\n\t\t// Error\n\t\tcallback($tw.language.getString(\"Error/SavingToTWEdit\") + \": \" + event.target.error.code);\n\t};\n\t// Get the file system\n\twindow.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(fileSystem) {\n\t\t// Now we've got the filesystem, get the fileEntry\n\t\tfileSystem.root.getFile(pathname, {create: true}, function(fileEntry) {\n\t\t\t// Now we've got the fileEntry, create the writer\n\t\t\tfileEntry.createWriter(function(writer) {\n\t\t\t\twriter.onerror = errorHandler;\n\t\t\t\twriter.onwrite = function() {\n\t\t\t\t\tcallback(null);\n\t\t\t\t};\n\t\t\t\twriter.position = 0;\n\t\t\t\twriter.write(text);\n\t\t\t},errorHandler);\n\t\t}, errorHandler);\n\t}, errorHandler);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nTWEditSaver.prototype.info = {\n\tname: \"twedit\",\n\tpriority: 1600,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TWEditSaver(wiki);\n};\n\n/////////////////////////// Hack\n// HACK: This ensures that TWEdit recognises us as a TiddlyWiki document\nif($tw.browser) {\n\twindow.version = {title: \"TiddlyWiki\"};\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/upload.js": {
            "title": "$:/core/modules/savers/upload.js",
            "text": "/*\\\ntitle: $:/core/modules/savers/upload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via upload to a server.\n\nDesigned to be compatible with BidiX's UploadPlugin at http://tiddlywiki.bidix.info/#UploadPlugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar UploadSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nUploadSaver.prototype.save = function(text,method,callback) {\n\t// Get the various parameters we need\n\tvar backupDir = this.wiki.getTextReference(\"$:/UploadBackupDir\") || \".\",\n\t\tusername = this.wiki.getTextReference(\"$:/UploadName\"),\n\t\tpassword = $tw.utils.getPassword(\"upload\"),\n\t\tuploadDir = this.wiki.getTextReference(\"$:/UploadDir\") || \".\",\n\t\tuploadFilename = this.wiki.getTextReference(\"$:/UploadFilename\") || \"index.html\",\n\t\tuploadWithUrlOnly = this.wiki.getTextReference(\"$:/UploadWithUrlOnly\") || \"no\",\n\t\turl = this.wiki.getTextReference(\"$:/UploadURL\");\n\t// Bail out if we don't have the bits we need\n\tif (uploadWithUrlOnly === \"yes\") {\n\t\t// The url is good enough. No need for a username and password.\n\t\t// Assume the server uses some other kind of auth mechanism.\n\t\tif(!url || url.toString().trim() === \"\") {\n\t\t\treturn false;\n\t\t}\n\t}\n\telse {\n\t\t// Require username and password to be present.\n\t\t// Assume the server uses the standard UploadPlugin username/password.\n\t\tif(!username || username.toString().trim() === \"\" || !password || password.toString().trim() === \"\") {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Construct the url if not provided\n\tif(!url) {\n\t\turl = \"http://\" + username + \".tiddlyspot.com/store.cgi\";\n\t}\n\t// Assemble the header\n\tvar boundary = \"---------------------------\" + \"AaB03x\";\t\n\tvar uploadFormName = \"UploadPlugin\";\n\tvar head = [];\n\thead.push(\"--\" + boundary + \"\\r\\nContent-disposition: form-data; name=\\\"UploadPlugin\\\"\\r\\n\");\n\thead.push(\"backupDir=\" + backupDir + \";user=\" + username + \";password=\" + password + \";uploaddir=\" + uploadDir + \";;\"); \n\thead.push(\"\\r\\n\" + \"--\" + boundary);\n\thead.push(\"Content-disposition: form-data; name=\\\"userfile\\\"; filename=\\\"\" + uploadFilename + \"\\\"\");\n\thead.push(\"Content-Type: text/html;charset=UTF-8\");\n\thead.push(\"Content-Length: \" + text.length + \"\\r\\n\");\n\thead.push(\"\");\n\t// Assemble the tail and the data itself\n\tvar tail = \"\\r\\n--\" + boundary + \"--\\r\\n\",\n\t\tdata = head.join(\"\\r\\n\") + text + tail;\n\t// Do the HTTP post\n\tvar http = new XMLHttpRequest();\n\thttp.open(\"POST\",url,true,username,password);\n\thttp.setRequestHeader(\"Content-Type\",\"multipart/form-data; charset=UTF-8; boundary=\" + boundary);\n\thttp.onreadystatechange = function() {\n\t\tif(http.readyState == 4 &amp;&amp; http.status == 200) {\n\t\t\tif(http.responseText.substr(0,4) === \"0 - \") {\n\t\t\t\tcallback(null);\n\t\t\t} else {\n\t\t\t\tcallback(http.responseText);\n\t\t\t}\n\t\t}\n\t};\n\ttry {\n\t\thttp.send(data);\n\t} catch(ex) {\n\t\treturn callback($tw.language.getString(\"Error/Caption\") + \":\" + ex);\n\t}\n\t$tw.notifier.display(\"$:/language/Notifications/Save/Starting\");\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nUploadSaver.prototype.info = {\n\tname: \"upload\",\n\tpriority: 2000,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new UploadSaver(wiki);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/server/authenticators/basic.js": {
            "title": "$:/core/modules/server/authenticators/basic.js",
            "text": "/*\\\ntitle: $:/core/modules/server/authenticators/basic.js\ntype: application/javascript\nmodule-type: authenticator\n\nAuthenticator for WWW basic authentication\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nif($tw.node) {\n\tvar util = require(\"util\"),\n\t\tfs = require(\"fs\"),\n\t\turl = require(\"url\"),\n\t\tpath = require(\"path\");\n}\n\nfunction BasicAuthenticator(server) {\n\tthis.server = server;\n\tthis.credentialsData = [];\n}\n\n/*\nReturns true if the authenticator is active, false if it is inactive, or a string if there is an error\n*/\nBasicAuthenticator.prototype.init = function() {\n\t// Read the credentials data\n\tthis.credentialsFilepath = this.server.get(\"credentials\");\n\tif(this.credentialsFilepath) {\n\t\tvar resolveCredentialsFilepath = path.resolve(this.server.boot.wikiPath,this.credentialsFilepath);\n\t\tif(fs.existsSync(resolveCredentialsFilepath) &amp;&amp; !fs.statSync(resolveCredentialsFilepath).isDirectory()) {\n\t\t\tvar credentialsText = fs.readFileSync(resolveCredentialsFilepath,\"utf8\"),\n\t\t\t\tcredentialsData = $tw.utils.parseCsvStringWithHeader(credentialsText);\n\t\t\tif(typeof credentialsData === \"string\") {\n\t\t\t\treturn \"Error: \" + credentialsData + \" reading credentials from '\" + resolveCredentialsFilepath + \"'\";\n\t\t\t} else {\n\t\t\t\tthis.credentialsData = credentialsData;\n\t\t\t}\n\t\t} else {\n\t\t\treturn \"Error: Unable to load user credentials from '\" + resolveCredentialsFilepath + \"'\";\n\t\t}\n\t}\n\t// Add the hardcoded username and password if specified\n\tif(this.server.get(\"username\") &amp;&amp; this.server.get(\"password\")) {\n\t\tthis.credentialsData = this.credentialsData || [];\n\t\tthis.credentialsData.push({\n\t\t\tusername: this.server.get(\"username\"),\n\t\t\tpassword: this.server.get(\"password\")\n\t\t});\n\t}\n\treturn this.credentialsData.length &gt; 0;\n};\n\n/*\nReturns true if the request is authenticated and assigns the \"authenticatedUsername\" state variable.\nReturns false if the request couldn't be authenticated having sent an appropriate response to the browser\n*/\nBasicAuthenticator.prototype.authenticateRequest = function(request,response,state) {\n\t// Extract the incoming username and password from the request\n\tvar header = request.headers.authorization || \"\";\n\tif(!header &amp;&amp; state.allowAnon) {\n\t\t// If there's no header and anonymous access is allowed then we don't set authenticatedUsername\n\t\treturn true;\n\t}\n\tvar token = header.split(/\\s+/).pop() || \"\",\n\t\tauth = $tw.utils.base64Decode(token),\n\t\tparts = auth.split(/:/),\n\t\tincomingUsername = parts[0],\n\t\tincomingPassword = parts[1];\n\t// Check that at least one of the credentials matches\n\tvar matchingCredentials = this.credentialsData.find(function(credential) {\n\t\treturn credential.username === incomingUsername &amp;&amp; credential.password === incomingPassword;\n\t});\n\tif(matchingCredentials) {\n\t\t// If so, add the authenticated username to the request state\n\t\tstate.authenticatedUsername = incomingUsername;\n\t\treturn true;\n\t} else {\n\t\t// If not, return an authentication challenge\n\t\tresponse.writeHead(401,\"Authentication required\",{\n\t\t\t\"WWW-Authenticate\": 'Basic realm=\"Please provide your username and password to login to ' + state.server.servername + '\"'\n\t\t});\n\t\tresponse.end();\n\t\treturn false;\n\t}\n};\n\nexports.AuthenticatorClass = BasicAuthenticator;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "authenticator"
        },
        "$:/core/modules/server/authenticators/header.js": {
            "title": "$:/core/modules/server/authenticators/header.js",
            "text": "/*\\\ntitle: $:/core/modules/server/authenticators/header.js\ntype: application/javascript\nmodule-type: authenticator\n\nAuthenticator for trusted header authentication\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nfunction HeaderAuthenticator(server) {\n\tthis.server = server;\n\tthis.header = server.get(\"authenticated-user-header\") ? server.get(\"authenticated-user-header\").toLowerCase() : undefined;\n}\n\n/*\nReturns true if the authenticator is active, false if it is inactive, or a string if there is an error\n*/\nHeaderAuthenticator.prototype.init = function() {\n\treturn !!this.header;\n};\n\n/*\nReturns true if the request is authenticated and assigns the \"authenticatedUsername\" state variable.\nReturns false if the request couldn't be authenticated having sent an appropriate response to the browser\n*/\nHeaderAuthenticator.prototype.authenticateRequest = function(request,response,state) {\n\t// Otherwise, authenticate as the username in the specified header\n\tvar username = request.headers[this.header];\n\tif(!username &amp;&amp; !state.allowAnon) {\n\t\tresponse.writeHead(401,\"Authorization header required to login to '\" + state.server.servername + \"'\");\n\t\tresponse.end();\n\t\treturn false;\n\t} else {\n\t\t// authenticatedUsername will be undefined for anonymous users\n\t\tstate.authenticatedUsername = username;\n\t\treturn true;\n\t}\n};\n\nexports.AuthenticatorClass = HeaderAuthenticator;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "authenticator"
        },
        "$:/core/modules/server/routes/delete-tiddler.js": {
            "title": "$:/core/modules/server/routes/delete-tiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/delete-tiddler.js\ntype: application/javascript\nmodule-type: route\n\nDELETE /recipes/default/tiddlers/:title\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"DELETE\";\n\nexports.path = /^\\/bags\\/default\\/tiddlers\\/(.+)$/;\n\nexports.handler = function(request,response,state) {\n\tvar title = decodeURIComponent(state.params[0]);\n\tstate.wiki.deleteTiddler(title);\n\tresponse.writeHead(204, \"OK\", {\n\t\t\"Content-Type\": \"text/plain\"\n\t});\n\tresponse.end();\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-favicon.js": {
            "title": "$:/core/modules/server/routes/get-favicon.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-favicon.js\ntype: application/javascript\nmodule-type: route\n\nGET /favicon.ico\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"GET\";\n\nexports.path = /^\\/favicon.ico$/;\n\nexports.handler = function(request,response,state) {\n\tresponse.writeHead(200, {\"Content-Type\": \"image/x-icon\"});\n\tvar buffer = state.wiki.getTiddlerText(\"$:/favicon.ico\",\"\");\n\tresponse.end(buffer,\"base64\");\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-file.js": {
            "title": "$:/core/modules/server/routes/get-file.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-file.js\ntype: application/javascript\nmodule-type: route\n\nGET /files/:filepath\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"GET\";\n\nexports.path = /^\\/files\\/(.+)$/;\n\nexports.handler = function(request,response,state) {\n\tvar path = require(\"path\"),\n\t\tfs = require(\"fs\"),\n\t\tutil = require(\"util\"),\n\t\tsuppliedFilename = decodeURIComponent(state.params[0]),\n\t\tfilename = path.resolve(state.boot.wikiPath,\"files\",suppliedFilename),\n\t\textension = path.extname(filename);\n\tfs.readFile(filename,function(err,content) {\n\t\tvar status,content,type = \"text/plain\";\n\t\tif(err) {\n\t\t\tconsole.log(\"Error accessing file \" + filename + \": \" + err.toString());\n\t\t\tstatus = 404;\n\t\t\tcontent = \"File '\" + suppliedFilename + \"' not found\";\n\t\t} else {\n\t\t\tstatus = 200;\n\t\t\tcontent = content;\n\t\t\ttype = ($tw.config.fileExtensionInfo[extension] ? $tw.config.fileExtensionInfo[extension].type : \"application/octet-stream\");\n\t\t}\n\t\tresponse.writeHead(status,{\n\t\t\t\"Content-Type\": type\n\t\t});\n\t\tresponse.end(content);\n\t});\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-index.js": {
            "title": "$:/core/modules/server/routes/get-index.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-index.js\ntype: application/javascript\nmodule-type: route\n\nGET /\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar zlib = require(\"zlib\");\n\nexports.method = \"GET\";\n\nexports.path = /^\\/$/;\n\nexports.handler = function(request,response,state) {\n\tvar acceptEncoding = request.headers[\"accept-encoding\"];\n\tif(!acceptEncoding) {\n\t\tacceptEncoding = \"\";\n\t}\n\tvar text = state.wiki.renderTiddler(state.server.get(\"root-render-type\"),state.server.get(\"root-tiddler\")),\n\t\tresponseHeaders = {\n\t\t\"Content-Type\": state.server.get(\"root-serve-type\")\n\t};\n\t/*\n\tIf the gzip=yes flag for `listen` is set, check if the user agent permits\n\tcompression. If so, compress our response. Note that we use the synchronous\n\tfunctions from zlib to stay in the imperative style. The current `Server`\n\tdoesn't depend on this, and we may just as well use the async versions.\n\t*/\n\tif(state.server.enableGzip) {\n\t\tif (/\\bdeflate\\b/.test(acceptEncoding)) {\n\t\t\tresponseHeaders[\"Content-Encoding\"] = \"deflate\";\n\t\t\ttext = zlib.deflateSync(text);\n\t\t} else if (/\\bgzip\\b/.test(acceptEncoding)) {\n\t\t\tresponseHeaders[\"Content-Encoding\"] = \"gzip\";\n\t\t\ttext = zlib.gzipSync(text);\n\t\t}\n\t}\n\tresponse.writeHead(200,responseHeaders);\n\tresponse.end(text);\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-login-basic.js": {
            "title": "$:/core/modules/server/routes/get-login-basic.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-login-basic.js\ntype: application/javascript\nmodule-type: route\n\nGET /login-basic -- force a Basic Authentication challenge\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"GET\";\n\nexports.path = /^\\/login-basic$/;\n\nexports.handler = function(request,response,state) {\n\tif(!state.authenticatedUsername) {\n\t\t// Challenge if there's no username\n\t\tresponse.writeHead(401,{\n\t\t\t\"WWW-Authenticate\": 'Basic realm=\"Please provide your username and password to login to ' + state.server.servername + '\"'\n\t\t});\n\t\tresponse.end();\t\t\n\t} else {\n\t\t// Redirect to the root wiki if login worked\n\t\tvar location = ($tw.syncadaptor &amp;&amp; $tw.syncadaptor.host)? $tw.syncadaptor.host: \"/\";\n\t\tresponse.writeHead(302,{\n\t\t\tLocation: location\n\t\t});\n\t\tresponse.end();\n\t}\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-status.js": {
            "title": "$:/core/modules/server/routes/get-status.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-status.js\ntype: application/javascript\nmodule-type: route\n\nGET /status\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"GET\";\n\nexports.path = /^\\/status$/;\n\nexports.handler = function(request,response,state) {\n\tresponse.writeHead(200, {\"Content-Type\": \"application/json\"});\n\tvar text = JSON.stringify({\n\t\tusername: state.authenticatedUsername || state.server.get(\"anon-username\") || \"\",\n\t\tanonymous: !state.authenticatedUsername,\n\t\tread_only: !state.server.isAuthorized(\"writers\",state.authenticatedUsername),\n\t\tsse_enabled: state.server.get(\"sse-enabled\") === \"yes\",\n\t\tspace: {\n\t\t\trecipe: \"default\"\n\t\t},\n\t\ttiddlywiki_version: $tw.version\n\t});\n\tresponse.end(text,\"utf8\");\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-tiddler-html.js": {
            "title": "$:/core/modules/server/routes/get-tiddler-html.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-tiddler-html.js\ntype: application/javascript\nmodule-type: route\n\nGET /:title\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"GET\";\n\nexports.path = /^\\/([^\\/]+)$/;\n\nexports.handler = function(request,response,state) {\n\tvar title = decodeURIComponent(state.params[0]),\n\t\ttiddler = state.wiki.getTiddler(title);\n\tif(tiddler) {\n\t\tvar renderType = tiddler.getFieldString(\"_render_type\"),\n\t\t\trenderTemplate = tiddler.getFieldString(\"_render_template\");\n\t\t// Tiddler fields '_render_type' and '_render_template' overwrite\n\t\t// system wide settings for render type and template\n\t\tif(state.wiki.isSystemTiddler(title)) {\n\t\t\trenderType = renderType || state.server.get(\"system-tiddler-render-type\");\n\t\t\trenderTemplate = renderTemplate || state.server.get(\"system-tiddler-render-template\");\n\t\t} else {\n\t\t\trenderType = renderType || state.server.get(\"tiddler-render-type\");\n\t\t\trenderTemplate = renderTemplate || state.server.get(\"tiddler-render-template\");\n\t\t}\n\t\tvar text = state.wiki.renderTiddler(renderType,renderTemplate,{parseAsInline: true, variables: {currentTiddler: title}});\n\t\t// Naughty not to set a content-type, but it's the easiest way to ensure the browser will see HTML pages as HTML, and accept plain text tiddlers as CSS or JS\n\t\tresponse.writeHead(200);\n\t\tresponse.end(text,\"utf8\");\n\t} else {\n\t\tresponse.writeHead(404);\n\t\tresponse.end();\n\t}\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-tiddler.js": {
            "title": "$:/core/modules/server/routes/get-tiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-tiddler.js\ntype: application/javascript\nmodule-type: route\n\nGET /recipes/default/tiddlers/:title\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"GET\";\n\nexports.path = /^\\/recipes\\/default\\/tiddlers\\/(.+)$/;\n\nexports.handler = function(request,response,state) {\n\tvar title = decodeURIComponent(state.params[0]),\n\t\ttiddler = state.wiki.getTiddler(title),\n\t\ttiddlerFields = {},\n\t\tknownFields = [\n\t\t\t\"bag\", \"created\", \"creator\", \"modified\", \"modifier\", \"permissions\", \"recipe\", \"revision\", \"tags\", \"text\", \"title\", \"type\", \"uri\"\n\t\t];\n\tif(tiddler) {\n\t\t$tw.utils.each(tiddler.fields,function(field,name) {\n\t\t\tvar value = tiddler.getFieldString(name);\n\t\t\tif(knownFields.indexOf(name) !== -1) {\n\t\t\t\ttiddlerFields[name] = value;\n\t\t\t} else {\n\t\t\t\ttiddlerFields.fields = tiddlerFields.fields || {};\n\t\t\t\ttiddlerFields.fields[name] = value;\n\t\t\t}\n\t\t});\n\t\ttiddlerFields.revision = state.wiki.getChangeCount(title);\n\t\ttiddlerFields.bag = \"default\";\n\t\ttiddlerFields.type = tiddlerFields.type || \"text/vnd.tiddlywiki\";\n\t\tresponse.writeHead(200, {\"Content-Type\": \"application/json\"});\n\t\tresponse.end(JSON.stringify(tiddlerFields),\"utf8\");\n\t} else {\n\t\tresponse.writeHead(404);\n\t\tresponse.end();\n\t}\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/get-tiddlers-json.js": {
            "title": "$:/core/modules/server/routes/get-tiddlers-json.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/get-tiddlers-json.js\ntype: application/javascript\nmodule-type: route\n\nGET /recipes/default/tiddlers.json?filter=&lt;filter&gt;\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar DEFAULT_FILTER = \"[all[tiddlers]!is[system]sort[title]]\";\n\nexports.method = \"GET\";\n\nexports.path = /^\\/recipes\\/default\\/tiddlers.json$/;\n\nexports.handler = function(request,response,state) {\n\tvar filter = state.queryParameters.filter || DEFAULT_FILTER;\n\tif(state.wiki.getTiddlerText(\"$:/config/Server/AllowAllExternalFilters\") !== \"yes\") {\n\t\tif(state.wiki.getTiddlerText(\"$:/config/Server/ExternalFilters/\" + filter) !== \"yes\") {\n\t\t\tconsole.log(\"Blocked attempt to GET /recipes/default/tiddlers.json with filter: \" + filter);\n\t\t\tresponse.writeHead(403);\n\t\t\tresponse.end();\n\t\t\treturn;\n\t\t}\n\t}\n\tif(state.wiki.getTiddlerText(\"$:/config/SyncSystemTiddlersFromServer\") === \"no\") {\n\t\tfilter += \"+[!is[system]]\";\n\t}\n\tvar excludeFields = (state.queryParameters.exclude || \"text\").split(\",\"),\n\t\ttitles = state.wiki.filterTiddlers(filter);\n\tresponse.writeHead(200, {\"Content-Type\": \"application/json\"});\n\tvar tiddlers = [];\n\t$tw.utils.each(titles,function(title) {\n\t\tvar tiddler = state.wiki.getTiddler(title);\n\t\tif(tiddler) {\n\t\t\tvar tiddlerFields = tiddler.getFieldStrings({exclude: excludeFields});\n\t\t\ttiddlerFields.revision = state.wiki.getChangeCount(title);\n\t\t\ttiddlerFields.type = tiddlerFields.type || \"text/vnd.tiddlywiki\";\n\t\t\ttiddlers.push(tiddlerFields);\n\t\t}\n\t});\n\tvar text = JSON.stringify(tiddlers);\n\tresponse.end(text,\"utf8\");\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/routes/put-tiddler.js": {
            "title": "$:/core/modules/server/routes/put-tiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/server/routes/put-tiddler.js\ntype: application/javascript\nmodule-type: route\n\nPUT /recipes/default/tiddlers/:title\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.method = \"PUT\";\n\nexports.path = /^\\/recipes\\/default\\/tiddlers\\/(.+)$/;\n\nexports.handler = function(request,response,state) {\n\tvar title = decodeURIComponent(state.params[0]),\n\tfields = JSON.parse(state.data);\n\t// Pull up any subfields in the `fields` object\n\tif(fields.fields) {\n\t\t$tw.utils.each(fields.fields,function(field,name) {\n\t\t\tfields[name] = field;\n\t\t});\n\t\tdelete fields.fields;\n\t}\n\t// Remove any revision field\n\tif(fields.revision) {\n\t\tdelete fields.revision;\n\t}\n\tstate.wiki.addTiddler(new $tw.Tiddler(state.wiki.getCreationFields(),fields,{title: title},state.wiki.getModificationFields()));\n\tvar changeCount = state.wiki.getChangeCount(title).toString();\n\tresponse.writeHead(204, \"OK\",{\n\t\tEtag: \"\\\"default/\" + encodeURIComponent(title) + \"/\" + changeCount + \":\\\"\",\n\t\t\"Content-Type\": \"text/plain\"\n\t});\n\tresponse.end();\n};\n\n}());\n",
            "type": "application/javascript",
            "module-type": "route"
        },
        "$:/core/modules/server/server-sent-events.js": {
            "title": "$:/core/modules/server/server-sent-events.js",
            "text": "/*\\\ntitle: $:/core/modules/server/server-sent-events.js\ntype: application/javascript\nmodule-type: library\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nparameters:\n\t\tprefix - usually the plugin path, such as `plugins/tiddlywiki/tiddlyweb`. The\n\t\t\troute will match `/events/${prefix}` exactly.\n\n\t\thandler - a function that will be called each time a request comes in with the\n\t\t\trequest and state from the route and an emit function to call.\n*/\n\nvar ServerSentEvents = function ServerSentEvents(prefix, handler) {\n\tthis.handler = handler;\n\tthis.prefix = prefix;\n};\n\nServerSentEvents.prototype.getExports = function() {\n\treturn {\n\t\tbodyFormat: \"stream\",\n\t\tmethod: \"GET\",\n\t\tpath: new RegExp(\"^/events/\" + this.prefix + \"$\"),\n\t\thandler: this.handleEventRequest.bind(this)\n\t};\n};\n\nServerSentEvents.prototype.handleEventRequest = function(request,response,state) {\n\tif(ServerSentEvents.prototype.isEventStreamRequest(request)) {\n\t\tresponse.writeHead(200, {\n\t\t\t\"Content-Type\": \"text/event-stream\",\n\t\t\t\"Cache-Control\": \"no-cache\",\n\t\t\t\"Connection\": \"keep-alive\"\n\t\t});\n\t\tthis.handler(request,state,this.emit.bind(this,response),this.end.bind(this,response));\n\t} else {\n\t\tresponse.writeHead(406,\"Not Acceptable\",{});\n\t\tresponse.end();\n\t}\n};\n\nServerSentEvents.prototype.isEventStreamRequest = function(request) {\n\treturn request.headers.accept &amp;&amp;\n\t\trequest.headers.accept.match(/^text\\/event-stream/);\n};\n\nServerSentEvents.prototype.emit = function(response,event,data) {\n\tif(typeof event !== \"string\" || event.indexOf(\"\\n\") !== -1) {\n\t\tthrow new Error(\"Type must be a single-line string\");\n\t}\n\tif(typeof data !== \"string\" || data.indexOf(\"\\n\") !== -1) {\n\t\tthrow new Error(\"Data must be a single-line string\");\n\t}\n\tresponse.write(\"event: \" + event + \"\\ndata: \" + data + \"\\n\\n\", \"utf8\");\n};\n\nServerSentEvents.prototype.end = function(response) {\n\tresponse.end();\n};\n\nexports.ServerSentEvents = ServerSentEvents;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "library"
        },
        "$:/core/modules/server/server.js": {
            "title": "$:/core/modules/server/server.js",
            "text": "/*\\\ntitle: $:/core/modules/server/server.js\ntype: application/javascript\nmodule-type: library\n\nServe tiddlers over http\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nif($tw.node) {\n\tvar util = require(\"util\"),\n\t\tfs = require(\"fs\"),\n\t\turl = require(\"url\"),\n\t\tpath = require(\"path\"),\n\t\tquerystring = require(\"querystring\");\n}\n\n/*\nA simple HTTP server with regexp-based routes\noptions: variables - optional hashmap of variables to set (a misnomer - they are really constant parameters)\n\t\t routes - optional array of routes to use\n\t\t wiki - reference to wiki object\n*/\nfunction Server(options) {\n\tvar self = this;\n\tthis.routes = options.routes || [];\n\tthis.authenticators = options.authenticators || [];\n\tthis.wiki = options.wiki;\n\tthis.boot = options.boot || $tw.boot;\n\tthis.servername = $tw.utils.transliterateToSafeASCII(this.wiki.getTiddlerText(\"$:/SiteTitle\") || \"TiddlyWiki5\");\n\t// Initialise the variables\n\tthis.variables = $tw.utils.extend({},this.defaultVariables);\n\tif(options.variables) {\n\t\tfor(var variable in options.variables) {\n\t\t\tif(options.variables[variable]) {\n\t\t\t\tthis.variables[variable] = options.variables[variable];\n\t\t\t}\n\t\t}\t\t\n\t}\n\t$tw.utils.extend({},this.defaultVariables,options.variables);\n\t// Initialise CSRF\n\tthis.csrfDisable = this.get(\"csrf-disable\") === \"yes\";\n\t// Initialize Gzip compression\n\tthis.enableGzip = this.get(\"gzip\") === \"yes\";\n\t// Initialise authorization\n\tvar authorizedUserName = (this.get(\"username\") &amp;&amp; this.get(\"password\")) ? this.get(\"username\") : \"(anon)\";\n\tthis.authorizationPrincipals = {\n\t\treaders: (this.get(\"readers\") || authorizedUserName).split(\",\").map($tw.utils.trim),\n\t\twriters: (this.get(\"writers\") || authorizedUserName).split(\",\").map($tw.utils.trim)\n\t}\n\t// Load and initialise authenticators\n\t$tw.modules.forEachModuleOfType(\"authenticator\", function(title,authenticatorDefinition) {\n\t\t// console.log(\"Loading server route \" + title);\n\t\tself.addAuthenticator(authenticatorDefinition.AuthenticatorClass);\n\t});\n\t// Load route handlers\n\t$tw.modules.forEachModuleOfType(\"route\", function(title,routeDefinition) {\n\t\t// console.log(\"Loading server route \" + title);\n\t\tself.addRoute(routeDefinition);\n\t});\n\t// Initialise the http vs https\n\tthis.listenOptions = null;\n\tthis.protocol = \"http\";\n\tvar tlsKeyFilepath = this.get(\"tls-key\"),\n\t\ttlsCertFilepath = this.get(\"tls-cert\");\n\tif(tlsCertFilepath &amp;&amp; tlsKeyFilepath) {\n\t\tthis.listenOptions = {\n\t\t\tkey: fs.readFileSync(path.resolve(this.boot.wikiPath,tlsKeyFilepath),\"utf8\"),\n\t\t\tcert: fs.readFileSync(path.resolve(this.boot.wikiPath,tlsCertFilepath),\"utf8\")\n\t\t};\n\t\tthis.protocol = \"https\";\n\t}\n\tthis.transport = require(this.protocol);\n}\n\nServer.prototype.defaultVariables = {\n\tport: \"8080\",\n\thost: \"127.0.0.1\",\n\t\"root-tiddler\": \"$:/core/save/all\",\n\t\"root-render-type\": \"text/plain\",\n\t\"root-serve-type\": \"text/html\",\n\t\"tiddler-render-type\": \"text/html\",\n\t\"tiddler-render-template\": \"$:/core/templates/server/static.tiddler.html\",\n\t\"system-tiddler-render-type\": \"text/plain\",\n\t\"system-tiddler-render-template\": \"$:/core/templates/wikified-tiddler\",\n\t\"debug-level\": \"none\",\n\t\"gzip\": \"no\"\n};\n\nServer.prototype.get = function(name) {\n\treturn this.variables[name];\n};\n\nServer.prototype.addRoute = function(route) {\n\tthis.routes.push(route);\n};\n\nServer.prototype.addAuthenticator = function(AuthenticatorClass) {\n\t// Instantiate and initialise the authenticator\n\tvar authenticator = new AuthenticatorClass(this),\n\t\tresult = authenticator.init();\n\tif(typeof result === \"string\") {\n\t\t$tw.utils.error(\"Error: \" + result);\n\t} else if(result) {\n\t\t// Only use the authenticator if it initialised successfully\n\t\tthis.authenticators.push(authenticator);\n\t}\n};\n\nServer.prototype.findMatchingRoute = function(request,state) {\n\tfor(var t=0; t&lt;this.routes.length; t++) {\n\t\tvar potentialRoute = this.routes[t],\n\t\t\tpathRegExp = potentialRoute.path,\n\t\t\tpathname = state.urlInfo.pathname,\n\t\t\tmatch;\n\t\tif(state.pathPrefix) {\n\t\t\tif(pathname.substr(0,state.pathPrefix.length) === state.pathPrefix) {\n\t\t\t\tpathname = pathname.substr(state.pathPrefix.length) || \"/\";\n\t\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t\t} else {\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t} else {\n\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t}\n\t\tif(match &amp;&amp; request.method === potentialRoute.method) {\n\t\t\tstate.params = [];\n\t\t\tfor(var p=1; p&lt;match.length; p++) {\n\t\t\t\tstate.params.push(match[p]);\n\t\t\t}\n\t\t\treturn potentialRoute;\n\t\t}\n\t}\n\treturn null;\n};\n\nServer.prototype.methodMappings = {\n\t\"GET\": \"readers\",\n\t\"OPTIONS\": \"readers\",\n\t\"HEAD\": \"readers\",\n\t\"PUT\": \"writers\",\n\t\"POST\": \"writers\",\n\t\"DELETE\": \"writers\"\n};\n\n/*\nCheck whether a given user is authorized for the specified authorizationType (\"readers\" or \"writers\"). Pass null or undefined as the username to check for anonymous access\n*/\nServer.prototype.isAuthorized = function(authorizationType,username) {\n\tvar principals = this.authorizationPrincipals[authorizationType] || [];\n\treturn principals.indexOf(\"(anon)\") !== -1 || (username &amp;&amp; (principals.indexOf(\"(authenticated)\") !== -1 || principals.indexOf(username) !== -1));\n}\n\nServer.prototype.requestHandler = function(request,response,options) {\n\toptions = options || {};\n\t// Compose the state object\n\tvar self = this;\n\tvar state = {};\n\tstate.wiki = options.wiki || self.wiki;\n\tstate.boot = options.boot || self.boot;\n\tstate.server = self;\n\tstate.urlInfo = url.parse(request.url);\n\tstate.queryParameters = querystring.parse(state.urlInfo.query);\n\tstate.pathPrefix = options.pathPrefix || this.get(\"path-prefix\") || \"\";\n\t// Get the principals authorized to access this resource\n\tvar authorizationType = this.methodMappings[request.method] || \"readers\";\n\t// Check for the CSRF header if this is a write\n\tif(!this.csrfDisable &amp;&amp; authorizationType === \"writers\" &amp;&amp; request.headers[\"x-requested-with\"] !== \"TiddlyWiki\") {\n\t\tresponse.writeHead(403,\"'X-Requested-With' header required to login to '\" + this.servername + \"'\");\n\t\tresponse.end();\n\t\treturn;\t\t\n\t}\n\t// Check whether anonymous access is granted\n\tstate.allowAnon = this.isAuthorized(authorizationType,null);\n\t// Authenticate with the first active authenticator\n\tif(this.authenticators.length &gt; 0) {\n\t\tif(!this.authenticators[0].authenticateRequest(request,response,state)) {\n\t\t\t// Bail if we failed (the authenticator will have sent the response)\n\t\t\treturn;\n\t\t}\t\t\n\t}\n\t// Authorize with the authenticated username\n\tif(!this.isAuthorized(authorizationType,state.authenticatedUsername)) {\n\t\tresponse.writeHead(401,\"'\" + state.authenticatedUsername + \"' is not authorized to access '\" + this.servername + \"'\");\n\t\tresponse.end();\n\t\treturn;\n\t}\n\t// Find the route that matches this path\n\tvar route = self.findMatchingRoute(request,state);\n\t// Optionally output debug info\n\tif(self.get(\"debug-level\") !== \"none\") {\n\t\tconsole.log(\"Request path:\",JSON.stringify(state.urlInfo));\n\t\tconsole.log(\"Request headers:\",JSON.stringify(request.headers));\n\t\tconsole.log(\"authenticatedUsername:\",state.authenticatedUsername);\n\t}\n\t// Return a 404 if we didn't find a route\n\tif(!route) {\n\t\tresponse.writeHead(404);\n\t\tresponse.end();\n\t\treturn;\n\t}\n\t// Receive the request body if necessary and hand off to the route handler\n\tif(route.bodyFormat === \"stream\" || request.method === \"GET\" || request.method === \"HEAD\") {\n\t\t// Let the route handle the request stream itself\n\t\troute.handler(request,response,state);\n\t} else if(route.bodyFormat === \"string\" || !route.bodyFormat) {\n\t\t// Set the encoding for the incoming request\n\t\trequest.setEncoding(\"utf8\");\n\t\tvar data = \"\";\n\t\trequest.on(\"data\",function(chunk) {\n\t\t\tdata += chunk.toString();\n\t\t});\n\t\trequest.on(\"end\",function() {\n\t\t\tstate.data = data;\n\t\t\troute.handler(request,response,state);\n\t\t});\n\t} else if(route.bodyFormat === \"buffer\") {\n\t\tvar data = [];\n\t\trequest.on(\"data\",function(chunk) {\n\t\t\tdata.push(chunk);\n\t\t});\n\t\trequest.on(\"end\",function() {\n\t\t\tstate.data = Buffer.concat(data);\n\t\t\troute.handler(request,response,state);\n\t\t})\n\t} else {\n\t\tresponse.writeHead(400,\"Invalid bodyFormat \" + route.bodyFormat + \" in route \" + route.method + \" \" + route.path.source);\n\t\tresponse.end();\n\t}\n};\n\n/*\nListen for requests\nport: optional port number (falls back to value of \"port\" variable)\nhost: optional host address (falls back to value of \"host\" variable)\nprefix: optional prefix (falls back to value of \"path-prefix\" variable)\n*/\nServer.prototype.listen = function(port,host,prefix) {\n\tvar self = this;\n\t// Handle defaults for port and host\n\tport = port || this.get(\"port\");\n\thost = host || this.get(\"host\");\n\tprefix = prefix || this.get(\"path-prefix\") || \"\";\n\t// Check for the port being a string and look it up as an environment variable\n\tif(parseInt(port,10).toString() !== port) {\n\t\tport = process.env[port] || 8080;\n\t}\n\t// Warn if required plugins are missing\n\tif(!this.wiki.getTiddler(\"$:/plugins/tiddlywiki/tiddlyweb\") || !this.wiki.getTiddler(\"$:/plugins/tiddlywiki/filesystem\")) {\n\t\t$tw.utils.warning(\"Warning: Plugins required for client-server operation (\\\"tiddlywiki/filesystem\\\" and \\\"tiddlywiki/tiddlyweb\\\") are missing from tiddlywiki.info file\");\n\t}\n\t// Create the server\n\tvar server;\n\tif(this.listenOptions) {\n\t\tserver = this.transport.createServer(this.listenOptions,this.requestHandler.bind(this));\n\t} else {\n\t\tserver = this.transport.createServer(this.requestHandler.bind(this));\n\t}\n\t// Display the port number after we've started listening (the port number might have been specified as zero, in which case we will get an assigned port)\n\tserver.on(\"listening\",function() {\n\t\tvar address = server.address();\n\t\t$tw.utils.log(\"Serving on \" + self.protocol + \"://\" + address.address + \":\" + address.port + prefix,\"brown/orange\");\n\t\t$tw.utils.log(\"(press ctrl-C to exit)\",\"red\");\n\t});\n\t// Listen\n\treturn server.listen(port,host);\n};\n\nexports.Server = Server;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "library"
        },
        "$:/core/modules/browser-messaging.js": {
            "title": "$:/core/modules/browser-messaging.js",
            "text": "/*\\\ntitle: $:/core/modules/browser-messaging.js\ntype: application/javascript\nmodule-type: startup\n\nBrowser message handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"browser-messaging\";\nexports.platforms = [\"browser\"];\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\n/*\nLoad a specified url as an iframe and call the callback when it is loaded. If the url is already loaded then the existing iframe instance is used\n*/\nfunction loadIFrame(url,callback) {\n\t// Check if iframe already exists\n\tvar iframeInfo = $tw.browserMessaging.iframeInfoMap[url];\n\tif(iframeInfo) {\n\t\t// We've already got the iframe\n\t\tcallback(null,iframeInfo);\n\t} else {\n\t\t// Create the iframe and save it in the list\n\t\tvar iframe = document.createElement(\"iframe\");\n\t\tiframeInfo = {\n\t\t\turl: url,\n\t\t\tstatus: \"loading\",\n\t\t\tdomNode: iframe\n\t\t};\n\t\t$tw.browserMessaging.iframeInfoMap[url] = iframeInfo;\n\t\tsaveIFrameInfoTiddler(iframeInfo);\n\t\t// Add the iframe to the DOM and hide it\n\t\tiframe.style.display = \"none\";\n\t\tiframe.setAttribute(\"library\",\"true\");\n\t\tdocument.body.appendChild(iframe);\n\t\t// Set up onload\n\t\tiframe.onload = function() {\n\t\t\tiframeInfo.status = \"loaded\";\n\t\t\tsaveIFrameInfoTiddler(iframeInfo);\n\t\t\tcallback(null,iframeInfo);\n\t\t};\n\t\tiframe.onerror = function() {\n\t\t\tcallback(\"Cannot load iframe\");\n\t\t};\n\t\ttry {\n\t\t\tiframe.src = url;\n\t\t} catch(ex) {\n\t\t\tcallback(ex);\n\t\t}\n\t}\n}\n\n/*\nUnload library iframe for given url\n*/\nfunction unloadIFrame(url){\n\t$tw.utils.each(document.getElementsByTagName('iframe'), function(iframe) {\n\t\tif(iframe.getAttribute(\"library\") === \"true\" &amp;&amp;\n\t\t  iframe.getAttribute(\"src\") === url) {\n\t\t\tiframe.parentNode.removeChild(iframe);\n\t\t}\n\t});\n}\n\nfunction saveIFrameInfoTiddler(iframeInfo) {\n\t$tw.wiki.addTiddler(new $tw.Tiddler($tw.wiki.getCreationFields(),{\n\t\ttitle: \"$:/temp/ServerConnection/\" + iframeInfo.url,\n\t\ttext: iframeInfo.status,\n\t\ttags: [\"$:/tags/ServerConnection\"],\n\t\turl: iframeInfo.url\n\t},$tw.wiki.getModificationFields()));\n}\n\nexports.startup = function() {\n\t// Initialise the store of iframes we've created\n\t$tw.browserMessaging = {\n\t\tiframeInfoMap: {} // Hashmap by URL of {url:,status:\"loading/loaded\",domNode:}\n\t};\n\t// Listen for widget messages to control loading the plugin library\n\t$tw.rootWidget.addEventListener(\"tm-load-plugin-library\",function(event) {\n\t\tvar paramObject = event.paramObject || {},\n\t\t\turl = paramObject.url;\n\t\tif(url) {\n\t\t\tloadIFrame(url,function(err,iframeInfo) {\n\t\t\t\tif(err) {\n\t\t\t\t\talert($tw.language.getString(\"Error/LoadingPluginLibrary\") + \": \" + url);\n\t\t\t\t} else {\n\t\t\t\t\tiframeInfo.domNode.contentWindow.postMessage({\n\t\t\t\t\t\tverb: \"GET\",\n\t\t\t\t\t\turl: \"recipes/library/tiddlers.json\",\n\t\t\t\t\t\tcookies: {\n\t\t\t\t\t\t\ttype: \"save-info\",\n\t\t\t\t\t\t\tinfoTitlePrefix: paramObject.infoTitlePrefix || \"$:/temp/RemoteAssetInfo/\",\n\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t}\n\t\t\t\t\t},\"*\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// Listen for widget messages to control unloading the plugin library\n\t$tw.rootWidget.addEventListener(\"tm-unload-plugin-library\",function(event) {\n\t\tvar paramObject = event.paramObject || {},\n\t\t\turl = paramObject.url;\n\t\t$tw.browserMessaging.iframeInfoMap[url] = undefined;\n\t\tif(url) {\n\t\t\tunloadIFrame(url);\n\t\t\t$tw.utils.each(\n\t\t\t\t$tw.wiki.filterTiddlers(\"[[$:/temp/ServerConnection/\" + url + \"]] [prefix[$:/temp/RemoteAssetInfo/\" + url + \"/]]\"),\n\t\t\t\tfunction(title) {\n\t\t\t\t\t$tw.wiki.deleteTiddler(title);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\t$tw.rootWidget.addEventListener(\"tm-load-plugin-from-library\",function(event) {\n\t\tvar paramObject = event.paramObject || {},\n\t\t\turl = paramObject.url,\n\t\t\ttitle = paramObject.title;\n\t\tif(url &amp;&amp; title) {\n\t\t\tloadIFrame(url,function(err,iframeInfo) {\n\t\t\t\tif(err) {\n\t\t\t\t\talert($tw.language.getString(\"Error/LoadingPluginLibrary\") + \": \" + url);\n\t\t\t\t} else {\n\t\t\t\t\tiframeInfo.domNode.contentWindow.postMessage({\n\t\t\t\t\t\tverb: \"GET\",\n\t\t\t\t\t\turl: \"recipes/library/tiddlers/\" + encodeURIComponent(title) + \".json\",\n\t\t\t\t\t\tcookies: {\n\t\t\t\t\t\t\ttype: \"save-tiddler\",\n\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t}\n\t\t\t\t\t},\"*\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// Listen for window messages from other windows\n\twindow.addEventListener(\"message\",function listener(event){\n\t\t// console.log(\"browser-messaging: \",document.location.toString())\n\t\t// console.log(\"browser-messaging: Received message from\",event.origin);\n\t\t// console.log(\"browser-messaging: Message content\",event.data);\n\t\tswitch(event.data.verb) {\n\t\t\tcase \"GET-RESPONSE\":\n\t\t\t\tif(event.data.status.charAt(0) === \"2\") {\n\t\t\t\t\tif(event.data.cookies) {\n\t\t\t\t\t\tif(event.data.cookies.type === \"save-info\") {\n\t\t\t\t\t\t\tvar tiddlers = JSON.parse(event.data.body);\n\t\t\t\t\t\t\t$tw.utils.each(tiddlers,function(tiddler) {\n\t\t\t\t\t\t\t\t$tw.wiki.addTiddler(new $tw.Tiddler($tw.wiki.getCreationFields(),tiddler,{\n\t\t\t\t\t\t\t\t\ttitle: event.data.cookies.infoTitlePrefix + event.data.cookies.url + \"/\" + tiddler.title,\n\t\t\t\t\t\t\t\t\t\"original-title\": tiddler.title,\n\t\t\t\t\t\t\t\t\ttext: \"\",\n\t\t\t\t\t\t\t\t\ttype: \"text/vnd.tiddlywiki\",\n\t\t\t\t\t\t\t\t\t\"original-type\": tiddler.type,\n\t\t\t\t\t\t\t\t\t\"plugin-type\": undefined,\n\t\t\t\t\t\t\t\t\t\"original-plugin-type\": tiddler[\"plugin-type\"],\n\t\t\t\t\t\t\t\t\t\"module-type\": undefined,\n\t\t\t\t\t\t\t\t\t\"original-module-type\": tiddler[\"module-type\"],\n\t\t\t\t\t\t\t\t\ttags: [\"$:/tags/RemoteAssetInfo\"],\n\t\t\t\t\t\t\t\t\t\"original-tags\": $tw.utils.stringifyList(tiddler.tags || []),\n\t\t\t\t\t\t\t\t\t\"server-url\": event.data.cookies.url\n\t\t\t\t\t\t\t\t},$tw.wiki.getModificationFields()));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if(event.data.cookies.type === \"save-tiddler\") {\n\t\t\t\t\t\t\tvar tiddler = JSON.parse(event.data.body);\n\t\t\t\t\t\t\t$tw.wiki.addTiddler(new $tw.Tiddler(tiddler));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t},false);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/commands.js": {
            "title": "$:/core/modules/startup/commands.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/commands.js\ntype: application/javascript\nmodule-type: startup\n\nCommand processing\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"commands\";\nexports.platforms = [\"node\"];\nexports.after = [\"story\"];\nexports.synchronous = false;\n\nexports.startup = function(callback) {\n\t// On the server, start a commander with the command line arguments\n\tvar commander = new $tw.Commander(\n\t\t$tw.boot.argv,\n\t\tfunction(err) {\n\t\t\tif(err) {\n\t\t\t\treturn $tw.utils.error(\"Error: \" + err);\n\t\t\t}\n\t\t\tcallback();\n\t\t},\n\t\t$tw.wiki,\n\t\t{output: process.stdout, error: process.stderr}\n\t);\n\tcommander.execute();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/favicon.js": {
            "title": "$:/core/modules/startup/favicon.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/favicon.js\ntype: application/javascript\nmodule-type: startup\n\nFavicon handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"favicon\";\nexports.platforms = [\"browser\"];\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\t\t\n// Favicon tiddler\nvar FAVICON_TITLE = \"$:/favicon.ico\";\n\nexports.startup = function() {\n\t// Set up the favicon\n\tsetFavicon();\n\t// Reset the favicon when the tiddler changes\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.utils.hop(changes,FAVICON_TITLE)) {\n\t\t\tsetFavicon();\n\t\t}\n\t});\n};\n\nfunction setFavicon() {\n\tvar tiddler = $tw.wiki.getTiddler(FAVICON_TITLE);\n\tif(tiddler) {\n\t\tvar faviconLink = document.getElementById(\"faviconLink\");\n\t\tfaviconLink.setAttribute(\"href\",$tw.utils.makeDataUri(tiddler.fields.text,tiddler.fields.type,tiddler.fields._canonical_uri));\n\t}\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/info.js": {
            "title": "$:/core/modules/startup/info.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/info.js\ntype: application/javascript\nmodule-type: startup\n\nInitialise $:/info tiddlers via $:/temp/info-plugin pseudo-plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"info\";\nexports.before = [\"startup\"];\nexports.after = [\"load-modules\"];\nexports.synchronous = true;\n\nvar TITLE_INFO_PLUGIN = \"$:/temp/info-plugin\";\n\nexports.startup = function() {\n\t// Function to bake the info plugin with new tiddlers\n\tvar updateInfoPlugin = function(tiddlerFieldsArray) {\n\t\t// Get the existing tiddlers\n\t\tvar json = $tw.wiki.getTiddlerData(TITLE_INFO_PLUGIN,{tiddlers: {}});\n\t\t// Add the new ones\n\t\t$tw.utils.each(tiddlerFieldsArray,function(fields) {\n\t\t\tif(fields &amp;&amp; fields.title) {\n\t\t\t\tjson.tiddlers[fields.title] = fields;\n\t\t\t}\n\t\t});\n\t\t// Bake the info tiddlers into a plugin. We use the non-standard plugin-type \"info\" because ordinary plugins are only registered asynchronously after being loaded dynamically\n\t\tvar fields = {\n\t\t\ttitle: TITLE_INFO_PLUGIN,\n\t\t\ttype: \"application/json\",\n\t\t\t\"plugin-type\": \"info\",\n\t\t\ttext: JSON.stringify(json,null,$tw.config.preferences.jsonSpaces)\n\t\t};\n\t\t$tw.wiki.addTiddler(new $tw.Tiddler(fields));\n\n\t};\n\t// Collect up the info tiddlers\n\tvar tiddlerFieldsArray = [];\n\t// Give each info module a chance to provide as many info tiddlers as they want as an array, and give them a callback for dynamically updating them\n\t$tw.modules.forEachModuleOfType(\"info\",function(title,moduleExports) {\n\t\tif(moduleExports &amp;&amp; moduleExports.getInfoTiddlerFields) {\n\t\t\tArray.prototype.push.apply(tiddlerFieldsArray,moduleExports.getInfoTiddlerFields(updateInfoPlugin));\n\t\t}\n\t});\n\tupdateInfoPlugin(tiddlerFieldsArray);\n\tvar changes = $tw.wiki.readPluginInfo([TITLE_INFO_PLUGIN]);\n\t$tw.wiki.registerPluginTiddlers(\"info\",[TITLE_INFO_PLUGIN]);\n\t$tw.wiki.unpackPluginTiddlers();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/load-modules.js": {
            "title": "$:/core/modules/startup/load-modules.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/load-modules.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"load-modules\";\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Load modules\n\t$tw.modules.applyMethods(\"utils\",$tw.utils);\n\tif($tw.node) {\n\t\t$tw.modules.applyMethods(\"utils-node\",$tw.utils);\n\t}\n\tif($tw.browser) {\n\t\t$tw.modules.applyMethods(\"utils-browser\",$tw.utils);\n\t}\n\t$tw.modules.applyMethods(\"global\",$tw);\n\t$tw.modules.applyMethods(\"config\",$tw.config);\n\t$tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap(\"tiddlerfield\");\n\t$tw.modules.applyMethods(\"tiddlermethod\",$tw.Tiddler.prototype);\n\t$tw.modules.applyMethods(\"wikimethod\",$tw.Wiki.prototype);\n\t$tw.wiki.addIndexersToWiki();\n\t$tw.modules.applyMethods(\"tiddlerdeserializer\",$tw.Wiki.tiddlerDeserializerModules);\n\t$tw.macros = $tw.modules.getModulesByTypeAsHashmap(\"macro\");\n\t$tw.wiki.initParsers();\n\t$tw.Commander.initCommands();\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/password.js": {
            "title": "$:/core/modules/startup/password.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/password.js\ntype: application/javascript\nmodule-type: startup\n\nPassword handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"password\";\nexports.platforms = [\"browser\"];\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t$tw.rootWidget.addEventListener(\"tm-set-password\",function(event) {\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: $tw.language.getString(\"Encryption/PromptSetPassword\"),\n\t\t\tnoUserName: true,\n\t\t\tsubmitText: $tw.language.getString(\"Encryption/SetPassword\"),\n\t\t\tcanCancel: true,\n\t\t\trepeatPassword: true,\n\t\t\tcallback: function(data) {\n\t\t\t\tif(data) {\n\t\t\t\t\t$tw.crypto.setPassword(data.password);\n\t\t\t\t}\n\t\t\t\treturn true; // Get rid of the password prompt\n\t\t\t}\n\t\t});\n\t});\n\t$tw.rootWidget.addEventListener(\"tm-clear-password\",function(event) {\n\t\tif($tw.browser) {\n\t\t\tif(!confirm($tw.language.getString(\"Encryption/ConfirmClearPassword\"))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$tw.crypto.setPassword(null);\n\t});\n\t// Ensure that $:/isEncrypted is maintained properly\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.utils.hop(changes,\"$:/isEncrypted\")) {\n\t\t\t$tw.crypto.updateCryptoStateTiddler();\n\t\t}\n\t});\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/plugins.js": {
            "title": "$:/core/modules/startup/plugins.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/plugins.js\ntype: application/javascript\nmodule-type: startup\n\nStartup logic concerned with managing plugins\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"plugins\";\nexports.after = [\"load-modules\"];\nexports.synchronous = true;\n\nvar TITLE_REQUIRE_RELOAD_DUE_TO_PLUGIN_CHANGE = \"$:/status/RequireReloadDueToPluginChange\";\n\nvar PREFIX_CONFIG_REGISTER_PLUGIN_TYPE = \"$:/config/RegisterPluginType/\";\n\nexports.startup = function() {\n\t$tw.wiki.addTiddler({title: TITLE_REQUIRE_RELOAD_DUE_TO_PLUGIN_CHANGE,text: \"no\"});\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\t// Work out which of the changed tiddlers are plugins that we need to reregister\n\t\tvar changesToProcess = [],\n\t\t\trequireReloadDueToPluginChange = false;\n\t\t$tw.utils.each(Object.keys(changes),function(title) {\n\t\t\tvar tiddler = $tw.wiki.getTiddler(title),\n\t\t\t\trequiresReload = $tw.wiki.doesPluginRequireReload(title);\n\t\t\tif(requiresReload) {\n\t\t\t\trequireReloadDueToPluginChange = true;\n\t\t\t} else if(tiddler) {\n\t\t\t\tvar pluginType = tiddler.fields[\"plugin-type\"];\n\t\t\t\tif($tw.wiki.getTiddlerText(PREFIX_CONFIG_REGISTER_PLUGIN_TYPE + (tiddler.fields[\"plugin-type\"] || \"\"),\"no\") === \"yes\") {\n\t\t\t\t\tchangesToProcess.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// Issue warning if any of the tiddlers require a reload\n\t\tif(requireReloadDueToPluginChange) {\n\t\t\t$tw.wiki.addTiddler({title: TITLE_REQUIRE_RELOAD_DUE_TO_PLUGIN_CHANGE,text: \"yes\"});\n\t\t}\n\t\t// Read or delete the plugin info of the changed tiddlers\n\t\tif(changesToProcess.length &gt; 0) {\n\t\t\tvar changes = $tw.wiki.readPluginInfo(changesToProcess);\n\t\t\tif(changes.modifiedPlugins.length &gt; 0 || changes.deletedPlugins.length &gt; 0) {\n\t\t\t\tvar changedShadowTiddlers = {};\n\t\t\t\t// Collect the shadow tiddlers of any deleted plugins\n\t\t\t\t$tw.utils.each(changes.deletedPlugins,function(pluginTitle) {\n\t\t\t\t\tvar pluginInfo = $tw.wiki.getPluginInfo(pluginTitle);\n\t\t\t\t\tif(pluginInfo) {\n\t\t\t\t\t\t$tw.utils.each(Object.keys(pluginInfo.tiddlers),function(title) {\n\t\t\t\t\t\t\tchangedShadowTiddlers[title] = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// Collect the shadow tiddlers of any modified plugins\n\t\t\t\t$tw.utils.each(changes.modifiedPlugins,function(pluginTitle) {\n\t\t\t\t\tvar pluginInfo = $tw.wiki.getPluginInfo(pluginTitle);\n\t\t\t\t\tif(pluginInfo) {\n\t\t\t\t\t\t$tw.utils.each(Object.keys(pluginInfo.tiddlers),function(title) {\n\t\t\t\t\t\t\tchangedShadowTiddlers[title] = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// (Re-)register any modified plugins\n\t\t\t\t$tw.wiki.registerPluginTiddlers(null,changes.modifiedPlugins);\n\t\t\t\t// Unregister any deleted plugins\n\t\t\t\t$tw.wiki.unregisterPluginTiddlers(null,changes.deletedPlugins);\n\t\t\t\t// Unpack the shadow tiddlers\n\t\t\t\t$tw.wiki.unpackPluginTiddlers();\n\t\t\t\t// Queue change events for the changed shadow tiddlers\n\t\t\t\t$tw.utils.each(Object.keys(changedShadowTiddlers),function(title) {\n\t\t\t\t\t$tw.wiki.enqueueTiddlerEvent(title,changedShadowTiddlers[title]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/render.js": {
            "title": "$:/core/modules/startup/render.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/render.js\ntype: application/javascript\nmodule-type: startup\n\nTitle, stylesheet and page rendering\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"render\";\nexports.platforms = [\"browser\"];\nexports.after = [\"story\"];\nexports.synchronous = true;\n\n// Default story and history lists\nvar PAGE_TITLE_TITLE = \"$:/core/wiki/title\";\nvar PAGE_STYLESHEET_TITLE = \"$:/core/ui/PageStylesheet\";\nvar PAGE_TEMPLATE_TITLE = \"$:/core/ui/RootTemplate\";\n\n// Time (in ms) that we defer refreshing changes to draft tiddlers\nvar DRAFT_TIDDLER_TIMEOUT_TITLE = \"$:/config/Drafts/TypingTimeout\";\nvar THROTTLE_REFRESH_TIMEOUT = 400;\n\nexports.startup = function() {\n\t// Set up the title\n\t$tw.titleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TITLE_TITLE,{document: $tw.fakeDocument, parseAsInline: true});\n\t$tw.titleContainer = $tw.fakeDocument.createElement(\"div\");\n\t$tw.titleWidgetNode.render($tw.titleContainer,null);\n\tdocument.title = $tw.titleContainer.textContent;\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.titleWidgetNode.refresh(changes,$tw.titleContainer,null)) {\n\t\t\tdocument.title = $tw.titleContainer.textContent;\n\t\t}\n\t});\n\t// Set up the styles\n\t$tw.styleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_STYLESHEET_TITLE,{document: $tw.fakeDocument});\n\t$tw.styleContainer = $tw.fakeDocument.createElement(\"style\");\n\t$tw.styleWidgetNode.render($tw.styleContainer,null);\n\t$tw.styleElement = document.createElement(\"style\");\n\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\tdocument.head.insertBefore($tw.styleElement,document.head.firstChild);\n\t$tw.wiki.addEventListener(\"change\",$tw.perf.report(\"styleRefresh\",function(changes) {\n\t\tif($tw.styleWidgetNode.refresh(changes,$tw.styleContainer,null)) {\n\t\t\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\t\t}\n\t}));\n\t// Display the $:/core/ui/PageTemplate tiddler to kick off the display\n\t$tw.perf.report(\"mainRender\",function() {\n\t\t$tw.pageWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TEMPLATE_TITLE,{document: document, parentWidget: $tw.rootWidget, recursionMarker: \"no\"});\n\t\t$tw.pageContainer = document.createElement(\"div\");\n\t\t$tw.utils.addClass($tw.pageContainer,\"tc-page-container-wrapper\");\n\t\tdocument.body.insertBefore($tw.pageContainer,document.body.firstChild);\n\t\t$tw.pageWidgetNode.render($tw.pageContainer,null);\n   \t\t$tw.hooks.invokeHook(\"th-page-refreshed\");\n\t})();\n\t// Remove any splash screen elements\n\tvar removeList = document.querySelectorAll(\".tc-remove-when-wiki-loaded\");\n\t$tw.utils.each(removeList,function(removeItem) {\n\t\tif(removeItem.parentNode) {\n\t\t\tremoveItem.parentNode.removeChild(removeItem);\n\t\t}\n\t});\n\t// Prepare refresh mechanism\n\tvar deferredChanges = Object.create(null),\n\t\ttimerId;\n\tfunction refresh() {\n\t\t// Process the refresh\n\t\t$tw.hooks.invokeHook(\"th-page-refreshing\");\n\t\t$tw.pageWidgetNode.refresh(deferredChanges);\n\t\tdeferredChanges = Object.create(null);\n\t\t$tw.hooks.invokeHook(\"th-page-refreshed\");\n\t}\n\t// Add the change event handler\n\t$tw.wiki.addEventListener(\"change\",$tw.perf.report(\"mainRefresh\",function(changes) {\n\t\t// Check if only tiddlers that are throttled have changed\n\t\tvar onlyThrottledTiddlersHaveChanged = true;\n\t\tfor(var title in changes) {\n\t\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\t\tif(!tiddler || !(tiddler.hasField(\"draft.of\") || tiddler.hasField(\"throttle.refresh\"))) {\n\t\t\t\tonlyThrottledTiddlersHaveChanged = false;\n\t\t\t}\n\t\t}\n\t\t// Defer the change if only drafts have changed\n\t\tif(timerId) {\n\t\t\tclearTimeout(timerId);\n\t\t}\n\t\ttimerId = null;\n\t\tif(onlyThrottledTiddlersHaveChanged) {\n\t\t\tvar timeout = parseInt($tw.wiki.getTiddlerText(DRAFT_TIDDLER_TIMEOUT_TITLE,\"\"),10);\n\t\t\tif(isNaN(timeout)) {\n\t\t\t\ttimeout = THROTTLE_REFRESH_TIMEOUT;\n\t\t\t}\n\t\t\ttimerId = setTimeout(refresh,timeout);\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t} else {\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t\trefresh();\n\t\t}\n\t}));\n\t// Fix up the link between the root widget and the page container\n\t$tw.rootWidget.domNodes = [$tw.pageContainer];\n\t$tw.rootWidget.children = [$tw.pageWidgetNode];\n\t// Run any post-render startup actions\n\t$tw.rootWidget.invokeActionsByTag(\"$:/tags/StartupAction/PostRender\");\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/rootwidget.js": {
            "title": "$:/core/modules/startup/rootwidget.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/rootwidget.js\ntype: application/javascript\nmodule-type: startup\n\nSetup the root widget and the core root widget handlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"rootwidget\";\nexports.platforms = [\"browser\"];\nexports.after = [\"startup\"];\nexports.before = [\"story\"];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Install the modal message mechanism\n\t$tw.modal = new $tw.utils.Modal($tw.wiki);\n\t$tw.rootWidget.addEventListener(\"tm-modal\",function(event) {\n\t\t$tw.modal.display(event.param,{variables: event.paramObject, event: event});\n\t});\n\t$tw.rootWidget.addEventListener(\"tm-show-switcher\",function(event) {\n\t\t$tw.modal.display(\"$:/core/ui/SwitcherModal\",{variables: event.paramObject, event: event});\n\t});\t\n\t// Install the notification  mechanism\n\t$tw.notifier = new $tw.utils.Notifier($tw.wiki);\n\t$tw.rootWidget.addEventListener(\"tm-notify\",function(event) {\n\t\t$tw.notifier.display(event.param,{variables: event.paramObject});\n\t});\n\t// Install the copy-to-clipboard  mechanism\n\t$tw.rootWidget.addEventListener(\"tm-copy-to-clipboard\",function(event) {\n\t\t$tw.utils.copyToClipboard(event.param);\n\t});\n\t// Install the tm-focus-selector message\n\t$tw.rootWidget.addEventListener(\"tm-focus-selector\",function(event) {\n\t\tvar selector = event.param || \"\",\n\t\t\telement;\n\t\ttry {\n\t\t\telement = document.querySelector(selector);\n\t\t} catch(e) {\n\t\t\tconsole.log(\"Error in selector: \",selector)\n\t\t}\n\t\tif(element &amp;&amp; element.focus) {\n\t\t\telement.focus(event.paramObject);\n\t\t}\n\t});\n\t// Install the scroller\n\t$tw.pageScroller = new $tw.utils.PageScroller();\n\t$tw.rootWidget.addEventListener(\"tm-scroll\",function(event) {\n\t\t$tw.pageScroller.handleEvent(event);\n\t});\n\tvar fullscreen = $tw.utils.getFullScreenApis();\n\tif(fullscreen) {\n\t\t$tw.rootWidget.addEventListener(\"tm-full-screen\",function(event) {\n\t\t\tvar fullScreenDocument = event.event ? event.event.target.ownerDocument : document;\n\t\t\tif(event.param === \"enter\") {\n\t\t\t\tfullScreenDocument.documentElement[fullscreen._requestFullscreen](Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t} else if(event.param === \"exit\") {\n\t\t\t\tfullScreenDocument[fullscreen._exitFullscreen]();\n\t\t\t} else {\n\t\t\t\tif(fullScreenDocument[fullscreen._fullscreenElement]) {\n\t\t\t\t\tfullScreenDocument[fullscreen._exitFullscreen]();\n\t\t\t\t} else {\n\t\t\t\t\tfullScreenDocument.documentElement[fullscreen._requestFullscreen](Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t});\n\t}\n\t// If we're being viewed on a data: URI then give instructions for how to save\n\tif(document.location.protocol === \"data:\") {\n\t\t$tw.rootWidget.dispatchEvent({\n\t\t\ttype: \"tm-modal\",\n\t\t\tparam: \"$:/language/Modals/SaveInstructions\"\n\t\t});\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup.js": {
            "title": "$:/core/modules/startup.js",
            "text": "/*\\\ntitle: $:/core/modules/startup.js\ntype: application/javascript\nmodule-type: startup\n\nMiscellaneous startup logic for both the client and server.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"startup\";\nexports.after = [\"load-modules\"];\nexports.synchronous = true;\n\n// Set to `true` to enable performance instrumentation\nvar PERFORMANCE_INSTRUMENTATION_CONFIG_TITLE = \"$:/config/Performance/Instrumentation\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.startup = function() {\n\t// Minimal browser detection\n\tif($tw.browser) {\n\t\t$tw.browser.isIE = (/msie|trident/i.test(navigator.userAgent));\n\t\t$tw.browser.isFirefox = !!document.mozFullScreenEnabled;\n\t}\n\t// Platform detection\n\t$tw.platform = {};\n\tif($tw.browser) {\n\t\t$tw.platform.isMac = /Mac/.test(navigator.platform);\n\t\t$tw.platform.isWindows = /win/i.test(navigator.platform);\n\t\t$tw.platform.isLinux = /Linux/i.test(navigator.platform);\n\t} else {\n\t\tswitch(require(\"os\").platform()) {\n\t\t\tcase \"darwin\":\n\t\t\t\t$tw.platform.isMac = true;\n\t\t\t\tbreak;\n\t\t\tcase \"win32\":\n\t\t\t\t$tw.platform.isWindows = true;\n\t\t\t\tbreak;\n\t\t\tcase \"freebsd\":\n\t\t\t\t$tw.platform.isLinux = true;\n\t\t\t\tbreak;\n\t\t\tcase \"linux\":\n\t\t\t\t$tw.platform.isLinux = true;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t// Initialise version\n\t$tw.version = $tw.utils.extractVersionInfo();\n\t// Set up the performance framework\n\t$tw.perf = new $tw.Performance($tw.wiki.getTiddlerText(PERFORMANCE_INSTRUMENTATION_CONFIG_TITLE,\"no\") === \"yes\");\n\t// Create a root widget for attaching event handlers. By using it as the parentWidget for another widget tree, one can reuse the event handlers\n\t$tw.rootWidget = new widget.widget({\n\t\ttype: \"widget\",\n\t\tchildren: []\n\t},{\n\t\twiki: $tw.wiki,\n\t\tdocument: $tw.browser ? document : $tw.fakeDocument\n\t});\n\t// Execute any startup actions\n\t$tw.rootWidget.invokeActionsByTag(\"$:/tags/StartupAction\");\n\tif($tw.browser) {\n\t\t$tw.rootWidget.invokeActionsByTag(\"$:/tags/StartupAction/Browser\");\n\t}\n\tif($tw.node) {\n\t\t$tw.rootWidget.invokeActionsByTag(\"$:/tags/StartupAction/Node\");\n\t}\n\t// Kick off the language manager and switcher\n\t$tw.language = new $tw.Language();\n\t$tw.languageSwitcher = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \"language\",\n\t\tcontrollerTitle: \"$:/language\",\n\t\tdefaultPlugins: [\n\t\t\t\"$:/languages/en-GB\"\n\t\t],\n\t\tonSwitch: function(plugins) {\n\t\t\tif($tw.browser) {\n\t\t\t\tvar pluginTiddler = $tw.wiki.getTiddler(plugins[0]);\n\t\t\t\tif(pluginTiddler) {\n\t\t\t\t\tdocument.documentElement.setAttribute(\"dir\",pluginTiddler.getFieldString(\"text-direction\") || \"auto\");\n\t\t\t\t} else {\n\t\t\t\t\tdocument.documentElement.removeAttribute(\"dir\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// Kick off the theme manager\n\t$tw.themeManager = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \"theme\",\n\t\tcontrollerTitle: \"$:/theme\",\n\t\tdefaultPlugins: [\n\t\t\t\"$:/themes/tiddlywiki/snowwhite\",\n\t\t\t\"$:/themes/tiddlywiki/vanilla\"\n\t\t]\n\t});\n\t// Kick off the keyboard manager\n\t$tw.keyboardManager = new $tw.KeyboardManager();\n\t// Listen for shortcuts\n\tif($tw.browser) {\n\t\t$tw.utils.addEventListeners(document,[{\n\t\t\tname: \"keydown\",\n\t\t\thandlerObject: $tw.keyboardManager,\n\t\t\thandlerMethod: \"handleKeydownEvent\"\n\t\t}]);\n\t}\n\t// Clear outstanding tiddler store change events to avoid an unnecessary refresh cycle at startup\n\t$tw.wiki.clearTiddlerEventQueue();\n\t// Find a working syncadaptor\n\t$tw.syncadaptor = undefined;\n\t$tw.modules.forEachModuleOfType(\"syncadaptor\",function(title,module) {\n\t\tif(!$tw.syncadaptor &amp;&amp; module.adaptorClass) {\n\t\t\t$tw.syncadaptor = new module.adaptorClass({wiki: $tw.wiki});\n\t\t}\n\t});\n\t// Set up the syncer object if we've got a syncadaptor\n\tif($tw.syncadaptor) {\n\t\t$tw.syncer = new $tw.Syncer({wiki: $tw.wiki, syncadaptor: $tw.syncadaptor});\n\t}\n\t// Setup the saver handler\n\t$tw.saverHandler = new $tw.SaverHandler({\n\t\twiki: $tw.wiki,\n\t\tdirtyTracking: !$tw.syncadaptor,\n\t\tpreloadDirty: $tw.boot.preloadDirty || []\n\t});\n\t// Host-specific startup\n\tif($tw.browser) {\n\t\t// Install the popup manager\n\t\t$tw.popup = new $tw.utils.Popup();\n\t\t// Install the animator\n\t\t$tw.anim = new $tw.utils.Animator();\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/story.js": {
            "title": "$:/core/modules/startup/story.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/story.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"story\";\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\n// Default story and history lists\nvar DEFAULT_STORY_TITLE = \"$:/StoryList\";\nvar DEFAULT_HISTORY_TITLE = \"$:/HistoryList\";\n\n// Default tiddlers\nvar DEFAULT_TIDDLERS_TITLE = \"$:/DefaultTiddlers\";\n\n// Config\nvar CONFIG_UPDATE_ADDRESS_BAR = \"$:/config/Navigation/UpdateAddressBar\"; // Can be \"no\", \"permalink\", \"permaview\"\nvar CONFIG_UPDATE_HISTORY = \"$:/config/Navigation/UpdateHistory\"; // Can be \"yes\" or \"no\"\nvar CONFIG_PERMALINKVIEW_COPY_TO_CLIPBOARD = \"$:/config/Navigation/Permalinkview/CopyToClipboard\"; // Can be \"yes\" (default) or \"no\"\nvar CONFIG_PERMALINKVIEW_UPDATE_ADDRESS_BAR = \"$:/config/Navigation/Permalinkview/UpdateAddressBar\"; // Can be \"yes\" (default) or \"no\"\n\n\n// Links to help, if there is no param\nvar HELP_OPEN_EXTERNAL_WINDOW = \"http://tiddlywiki.com/#WidgetMessage%3A%20tm-open-external-window\";\n\nexports.startup = function() {\n\t// Open startup tiddlers\n\topenStartupTiddlers({\n\t\tdisableHistory: $tw.boot.disableStartupNavigation\n\t});\n\tif($tw.browser) {\n\t\t// Set up location hash update\n\t\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\t\tif($tw.utils.hop(changes,DEFAULT_STORY_TITLE) || $tw.utils.hop(changes,DEFAULT_HISTORY_TITLE)) {\n\t\t\t\tupdateLocationHash({\n\t\t\t\t\tupdateAddressBar: $tw.wiki.getTiddlerText(CONFIG_UPDATE_ADDRESS_BAR,\"permaview\").trim(),\n\t\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\"no\").trim()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t// Listen for changes to the browser location hash\n\t\twindow.addEventListener(\"hashchange\",function() {\n\t\t\tvar hash = $tw.utils.getLocationHash();\n\t\t\tif(hash !== $tw.locationHash) {\n\t\t\t\t$tw.locationHash = hash;\n\t\t\t\topenStartupTiddlers({defaultToCurrentStory: true});\n\t\t\t}\n\t\t},false);\n\t\t// Listen for the tm-browser-refresh message\n\t\t$tw.rootWidget.addEventListener(\"tm-browser-refresh\",function(event) {\n\t\t\twindow.location.reload(true);\n\t\t});\n\t\t// Listen for tm-open-external-window message\n\t\t$tw.rootWidget.addEventListener(\"tm-open-external-window\",function(event) {\n\t\t\tvar paramObject = event.paramObject || {},\n\t\t\t\tstrUrl = event.param || HELP_OPEN_EXTERNAL_WINDOW,\n\t\t\t\tstrWindowName = paramObject.windowName,\n\t\t\t\tstrWindowFeatures = paramObject.windowFeatures;\n\t\t\twindow.open(strUrl, strWindowName, strWindowFeatures);\n\t\t});\n\t\t// Listen for the tm-print message\n\t\t$tw.rootWidget.addEventListener(\"tm-print\",function(event) {\n\t\t\t(event.event.view || window).print();\n\t\t});\n\t\t// Listen for the tm-home message\n\t\t$tw.rootWidget.addEventListener(\"tm-home\",function(event) {\n\t\t\twindow.location.hash = \"\";\n\t\t\tvar storyFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE),\n\t\t\t\tstoryList = $tw.wiki.filterTiddlers(storyFilter);\n\t\t\t//invoke any hooks that might change the default story list\n\t\t\tstoryList = $tw.hooks.invokeHook(\"th-opening-default-tiddlers-list\",storyList);\n\t\t\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \"\", list: storyList},$tw.wiki.getModificationFields());\n\t\t\tif(storyList[0]) {\n\t\t\t\t$tw.wiki.addToHistory(storyList[0]);\n\t\t\t}\n\t\t});\n\t\t// Listen for the tm-permalink message\n\t\t$tw.rootWidget.addEventListener(\"tm-permalink\",function(event) {\n\t\t\tupdateLocationHash({\n\t\t\t\tupdateAddressBar: $tw.wiki.getTiddlerText(CONFIG_PERMALINKVIEW_UPDATE_ADDRESS_BAR,\"yes\").trim() === \"yes\" ? \"permalink\" : \"none\",\n\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\"no\").trim(),\n\t\t\t\ttargetTiddler: event.param || event.tiddlerTitle,\n\t\t\t\tcopyToClipboard: $tw.wiki.getTiddlerText(CONFIG_PERMALINKVIEW_COPY_TO_CLIPBOARD,\"yes\").trim() === \"yes\" ? \"permalink\" : \"none\"\n\t\t\t});\n\t\t});\n\t\t// Listen for the tm-permaview message\n\t\t$tw.rootWidget.addEventListener(\"tm-permaview\",function(event) {\n\t\t\tupdateLocationHash({\n\t\t\t\tupdateAddressBar: $tw.wiki.getTiddlerText(CONFIG_PERMALINKVIEW_UPDATE_ADDRESS_BAR,\"yes\").trim() === \"yes\" ? \"permaview\" : \"none\",\n\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\"no\").trim(),\n\t\t\t\ttargetTiddler: event.param || event.tiddlerTitle,\n\t\t\t\tcopyToClipboard: $tw.wiki.getTiddlerText(CONFIG_PERMALINKVIEW_COPY_TO_CLIPBOARD,\"yes\").trim() === \"yes\" ? \"permaview\" : \"none\"\n\t\t\t});\t\t\t\t\n\t\t});\n\t}\n};\n\n/*\nProcess the location hash to open the specified tiddlers. Options:\ndisableHistory: if true $:/History is NOT updated\ndefaultToCurrentStory: If true, the current story is retained as the default, instead of opening the default tiddlers\n*/\nfunction openStartupTiddlers(options) {\n\toptions = options || {};\n\t// Work out the target tiddler and the story filter. \"null\" means \"unspecified\"\n\tvar target = null,\n\t\tstoryFilter = null;\n\tif($tw.locationHash.length &gt; 1) {\n\t\tvar hash = $tw.locationHash.substr(1),\n\t\t\tsplit = hash.indexOf(\":\");\n\t\tif(split === -1) {\n\t\t\ttarget = decodeURIComponent(hash.trim());\n\t\t} else {\n\t\t\ttarget = decodeURIComponent(hash.substr(0,split).trim());\n\t\t\tstoryFilter = decodeURIComponent(hash.substr(split + 1).trim());\n\t\t}\n\t}\n\t// If the story wasn't specified use the current tiddlers or a blank story\n\tif(storyFilter === null) {\n\t\tif(options.defaultToCurrentStory) {\n\t\t\tvar currStoryList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE);\n\t\t\tstoryFilter = $tw.utils.stringifyList(currStoryList);\n\t\t} else {\n\t\t\tif(target &amp;&amp; target !== \"\") {\n\t\t\t\tstoryFilter = \"\";\n\t\t\t} else {\n\t\t\t\tstoryFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE);\n\t\t\t}\n\t\t}\n\t}\n\t// Process the story filter to get the story list\n\tvar storyList = $tw.wiki.filterTiddlers(storyFilter);\n\t// Invoke any hooks that want to change the default story list\n\tstoryList = $tw.hooks.invokeHook(\"th-opening-default-tiddlers-list\",storyList);\n\t// If the target tiddler isn't included then splice it in at the top\n\tif(target &amp;&amp; storyList.indexOf(target) === -1) {\n\t\tstoryList.unshift(target);\n\t}\n\t// Save the story list\n\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \"\", list: storyList},$tw.wiki.getModificationFields());\n\t// Update history\n\tvar story = new $tw.Story({\n\t\twiki: $tw.wiki,\n\t\tstoryTitle: DEFAULT_STORY_TITLE,\n\t\thistoryTitle: DEFAULT_HISTORY_TITLE\n\t});\n\tif(!options.disableHistory) {\n\t\t// If a target tiddler was specified add it to the history stack\n\t\tif(target &amp;&amp; target !== \"\") {\n\t\t\t// The target tiddler doesn't need double square brackets, but we'll silently remove them if they're present\n\t\t\tif(target.indexOf(\"[[\") === 0 &amp;&amp; target.substr(-2) === \"]]\") {\n\t\t\t\ttarget = target.substr(2,target.length - 4);\n\t\t\t}\n\t\t\tstory.addToHistory(target);\n\t\t} else if(storyList.length &gt; 0) {\n\t\t\tstory.addToHistory(storyList[0]);\n\t\t}\t\t\n\t}\n}\n\n/*\noptions: See below\noptions.updateAddressBar: \"permalink\", \"permaview\" or \"no\" (defaults to \"permaview\")\noptions.updateHistory: \"yes\" or \"no\" (defaults to \"no\")\noptions.copyToClipboard: \"permalink\", \"permaview\" or \"no\" (defaults to \"no\")\noptions.targetTiddler: optional title of target tiddler for permalink\n*/\nfunction updateLocationHash(options) {\n\t// Get the story and the history stack\n\tvar storyList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE),\n\t\thistoryList = $tw.wiki.getTiddlerData(DEFAULT_HISTORY_TITLE,[]),\n\t\ttargetTiddler = \"\";\n\tif(options.targetTiddler) {\n\t\ttargetTiddler = options.targetTiddler;\n\t} else {\n\t\t// The target tiddler is the one at the top of the stack\n\t\tif(historyList.length &gt; 0) {\n\t\t\ttargetTiddler = historyList[historyList.length-1].title;\n\t\t}\n\t\t// Blank the target tiddler if it isn't present in the story\n\t\tif(storyList.indexOf(targetTiddler) === -1) {\n\t\t\ttargetTiddler = \"\";\n\t\t}\n\t}\n\t// Assemble the location hash\n\tswitch(options.updateAddressBar) {\n\t\tcase \"permalink\":\n\t\t\t$tw.locationHash = \"#\" + encodeURIComponent(targetTiddler);\n\t\t\tbreak;\n\t\tcase \"permaview\":\n\t\t\t$tw.locationHash = \"#\" + encodeURIComponent(targetTiddler) + \":\" + encodeURIComponent($tw.utils.stringifyList(storyList));\n\t\t\tbreak;\n\t}\n\t// Copy URL to the clipboard\n\tswitch(options.copyToClipboard) {\n\t\tcase \"permalink\":\n\t\t\t$tw.utils.copyToClipboard($tw.utils.getLocationPath() + \"#\" + encodeURIComponent(targetTiddler));\n\t\t\tbreak;\n\t\tcase \"permaview\":\n\t\t\t$tw.utils.copyToClipboard($tw.utils.getLocationPath() + \"#\" + encodeURIComponent(targetTiddler) + \":\" + encodeURIComponent($tw.utils.stringifyList(storyList)));\n\t\t\tbreak;\n\t}\n\t// Only change the location hash if we must, thus avoiding unnecessary onhashchange events\n\tif($tw.utils.getLocationHash() !== $tw.locationHash) {\n\t\tif(options.updateHistory === \"yes\") {\n\t\t\t// Assign the location hash so that history is updated\n\t\t\twindow.location.hash = $tw.locationHash;\n\t\t} else {\n\t\t\t// We use replace so that browser history isn't affected\n\t\t\twindow.location.replace(window.location.toString().split(\"#\")[0] + $tw.locationHash);\n\t\t}\n\t}\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/windows.js": {
            "title": "$:/core/modules/startup/windows.js",
            "text": "/*\\\ntitle: $:/core/modules/startup/windows.js\ntype: application/javascript\nmodule-type: startup\n\nSetup root widget handlers for the messages concerned with opening external browser windows\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"windows\";\nexports.platforms = [\"browser\"];\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\n// Global to keep track of open windows (hashmap by title)\n$tw.windows = {};\n\nexports.startup = function() {\n\t// Handle open window message\n\t$tw.rootWidget.addEventListener(\"tm-open-window\",function(event) {\n\t\t// Get the parameters\n\t\tvar refreshHandler,\n\t\t\ttitle = event.param || event.tiddlerTitle,\n\t\t\tparamObject = event.paramObject || {},\n\t\t\twindowTitle = paramObject.windowTitle || title,\n\t\t\ttemplate = paramObject.template || \"$:/core/templates/single.tiddler.window\",\n\t\t\twidth = paramObject.width || \"700\",\n\t\t\theight = paramObject.height || \"600\",\n\t\t\tvariables = $tw.utils.extend({},paramObject,{currentTiddler: title});\n\t\t// Open the window\n\t\tvar srcWindow,\n\t\t    srcDocument;\n\t\t// In case that popup blockers deny opening a new window\n\t\ttry {\n\t\t\tsrcWindow = window.open(\"\",\"external-\" + title,\"scrollbars,width=\" + width + \",height=\" + height),\n\t\t\tsrcDocument = srcWindow.document;\n\t\t}\n\t\tcatch(e) {\n\t\t\treturn;\n\t\t}\n\t\t$tw.windows[title] = srcWindow;\n\t\t// Check for reopening the same window\n\t\tif(srcWindow.haveInitialisedWindow) {\n\t\t\treturn;\n\t\t}\n\t\t// Initialise the document\n\t\tsrcDocument.write(\"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body class='tc-body tc-single-tiddler-window'&gt;&lt;/body&gt;&lt;/html&gt;\");\n\t\tsrcDocument.close();\n\t\tsrcDocument.title = windowTitle;\n\t\tsrcWindow.addEventListener(\"beforeunload\",function(event) {\n\t\t\tdelete $tw.windows[title];\n\t\t\t$tw.wiki.removeEventListener(\"change\",refreshHandler);\n\t\t},false);\n\t\t// Set up the styles\n\t\tvar styleWidgetNode = $tw.wiki.makeTranscludeWidget(\"$:/core/ui/PageStylesheet\",{\n\t\t\t\tdocument: $tw.fakeDocument,\n\t\t\t\tvariables: variables,\n\t\t\t\timportPageMacros: true}),\n\t\t\tstyleContainer = $tw.fakeDocument.createElement(\"style\");\n\t\tstyleWidgetNode.render(styleContainer,null);\n\t\tvar styleElement = srcDocument.createElement(\"style\");\n\t\tstyleElement.innerHTML = styleContainer.textContent;\n\t\tsrcDocument.head.insertBefore(styleElement,srcDocument.head.firstChild);\n\t\t// Render the text of the tiddler\n\t\tvar parser = $tw.wiki.parseTiddler(template),\n\t\t\twidgetNode = $tw.wiki.makeWidget(parser,{document: srcDocument, parentWidget: $tw.rootWidget, variables: variables});\n\t\twidgetNode.render(srcDocument.body,srcDocument.body.firstChild);\n\t\t// Function to handle refreshes\n\t\trefreshHandler = function(changes) {\n\t\t\tif(styleWidgetNode.refresh(changes,styleContainer,null)) {\n\t\t\t\tstyleElement.innerHTML = styleContainer.textContent;\n\t\t\t}\n\t\t\twidgetNode.refresh(changes);\n\t\t};\n\t\t$tw.wiki.addEventListener(\"change\",refreshHandler);\n\t\t// Listen for keyboard shortcuts\n\t\t$tw.utils.addEventListeners(srcDocument,[{\n\t\t\tname: \"keydown\",\n\t\t\thandlerObject: $tw.keyboardManager,\n\t\t\thandlerMethod: \"handleKeydownEvent\"\n\t\t}]);\n\t\tsrcWindow.document.documentElement.addEventListener(\"click\",$tw.popup,true);\n\t\tsrcWindow.haveInitialisedWindow = true;\n\t});\n\t// Close open windows when unloading main window\n\t$tw.addUnloadTask(function() {\n\t\t$tw.utils.each($tw.windows,function(win) {\n\t\t\twin.close();\n\t\t});\n\t});\n\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/story.js": {
            "title": "$:/core/modules/story.js",
            "text": "/*\\\ntitle: $:/core/modules/story.js\ntype: application/javascript\nmodule-type: global\n\nLightweight object for managing interactions with the story and history lists.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nConstruct Story object with options:\nwiki: reference to wiki object to use to resolve tiddler titles\nstoryTitle: title of story list tiddler\nhistoryTitle: title of history list tiddler\n*/\nfunction Story(options) {\n\toptions = options || {};\n\tthis.wiki = options.wiki || $tw.wiki;\n\tthis.storyTitle = options.storyTitle || \"$:/StoryList\";\n\tthis.historyTitle = options.historyTitle || \"$:/HistoryList\";\n};\n\nStory.prototype.navigateTiddler = function(navigateTo,navigateFromTitle,navigateFromClientRect) {\n\tthis.addToStory(navigateTo,navigateFromTitle);\n\tthis.addToHistory(navigateTo,navigateFromClientRect);\n};\n\nStory.prototype.getStoryList = function() {\n\treturn this.wiki.getTiddlerList(this.storyTitle) || [];\n};\n\nStory.prototype.addToStory = function(navigateTo,navigateFromTitle,options) {\n\toptions = options || {};\n\tvar storyList = this.getStoryList();\n\t// See if the tiddler is already there\n\tvar slot = storyList.indexOf(navigateTo);\n\t// Quit if it already exists in the story river\n\tif(slot &gt;= 0) {\n\t\treturn;\n\t}\n\t// First we try to find the position of the story element we navigated from\n\tvar fromIndex = storyList.indexOf(navigateFromTitle);\n\tif(fromIndex &gt;= 0) {\n\t\t// The tiddler is added from inside the river\n\t\t// Determine where to insert the tiddler; Fallback is \"below\"\n\t\tswitch(options.openLinkFromInsideRiver) {\n\t\t\tcase \"top\":\n\t\t\t\tslot = 0;\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tslot = storyList.length;\n\t\t\t\tbreak;\n\t\t\tcase \"above\":\n\t\t\t\tslot = fromIndex;\n\t\t\t\tbreak;\n\t\t\tcase \"below\": // Intentional fall-through\n\t\t\tdefault:\n\t\t\t\tslot = fromIndex + 1;\n\t\t\t\tbreak;\n\t\t}\n\t} else {\n\t\t// The tiddler is opened from outside the river. Determine where to insert the tiddler; default is \"top\"\n\t\tif(options.openLinkFromOutsideRiver === \"bottom\") {\n\t\t\t// Insert at bottom\n\t\t\tslot = storyList.length;\n\t\t} else {\n\t\t\t// Insert at top\n\t\t\tslot = 0;\n\t\t}\n\t}\n\t// Add the tiddler\n\tstoryList.splice(slot,0,navigateTo);\n\t// Save the story\n\tthis.saveStoryList(storyList);\n};\n\nStory.prototype.saveStoryList = function(storyList) {\n\tvar storyTiddler = this.wiki.getTiddler(this.storyTitle);\n\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\tthis.wiki.getCreationFields(),\n\t\t{title: this.storyTitle},\n\t\tstoryTiddler,\n\t\t{list: storyList},\n\t\tthis.wiki.getModificationFields()\n\t));\n};\n\nStory.prototype.addToHistory = function(navigateTo,navigateFromClientRect) {\n\tvar titles = $tw.utils.isArray(navigateTo) ? navigateTo : [navigateTo];\n\t// Add a new record to the top of the history stack\n\tvar historyList = this.wiki.getTiddlerData(this.historyTitle,[]);\n\t$tw.utils.each(titles,function(title) {\n\t\thistoryList.push({title: title, fromPageRect: navigateFromClientRect});\n\t});\n\tthis.wiki.setTiddlerData(this.historyTitle,historyList,{\"current-tiddler\": titles[titles.length-1]});\n};\n\nStory.prototype.storyCloseTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyCloseAllTiddlers = function() {\n// TBD\n};\n\nStory.prototype.storyCloseOtherTiddlers = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyEditTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyDeleteTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storySaveTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyCancelTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyNewTiddler = function(targetTitle) {\n// TBD\n};\n\nexports.Story = Story;\n\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/storyviews/classic.js": {
            "title": "$:/core/modules/storyviews/classic.js",
            "text": "/*\\\ntitle: $:/core/modules/storyviews/classic.js\ntype: application/javascript\nmodule-type: storyview\n\nViews the story as a linear sequence\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar easing = \"cubic-bezier(0.645, 0.045, 0.355, 1)\"; // From http://easings.net/#easeInOutCubic\n\nvar ClassicStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n};\n\nClassicStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar duration = $tw.utils.getAnimationDuration()\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\tif(duration) {\n\t\t// Scroll the node into view\n\t\tthis.listWidget.dispatchEvent({type: \"tm-scroll\", target: targetElement});\t\n\t} else {\n\t\ttargetElement.scrollIntoView();\n\t}\n};\n\nClassicStoryView.prototype.insert = function(widget) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\tif(duration) {\n\t\tvar targetElement = widget.findFirstDomNode();\n\t\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\t\tif(!(targetElement instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\t// Get the current height of the tiddler\n\t\tvar computedStyle = window.getComputedStyle(targetElement),\n\t\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t\t// Reset the margin once the transition is over\n\t\tsetTimeout(function() {\n\t\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t\t{transition: \"none\"},\n\t\t\t\t{marginBottom: \"\"}\n\t\t\t]);\n\t\t},duration);\n\t\t// Set up the initial position of the element\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \"none\"},\n\t\t\t{marginBottom: (-currHeight) + \"px\"},\n\t\t\t{opacity: \"0.0\"}\n\t\t]);\n\t\t$tw.utils.forceLayout(targetElement);\n\t\t// Transition to the final position\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \"opacity \" + duration + \"ms \" + easing + \", \" +\n\t\t\t\t\t\t\"margin-bottom \" + duration + \"ms \" + easing},\n\t\t\t{marginBottom: currMarginBottom + \"px\"},\n\t\t\t{opacity: \"1.0\"}\n\t]);\n\t}\n};\n\nClassicStoryView.prototype.remove = function(widget) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\tif(duration) {\n\t\tvar targetElement = widget.findFirstDomNode(),\n\t\t\tremoveElement = function() {\n\t\t\t\twidget.removeChildDomNodes();\n\t\t\t};\n\t\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\t\tif(!(targetElement instanceof Element)) {\n\t\t\tremoveElement();\n\t\t\treturn;\n\t\t}\n\t\t// Get the current height of the tiddler\n\t\tvar currWidth = targetElement.offsetWidth,\n\t\t\tcomputedStyle = window.getComputedStyle(targetElement),\n\t\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t\t// Remove the dom nodes of the widget at the end of the transition\n\t\tsetTimeout(removeElement,duration);\n\t\t// Animate the closure\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \"none\"},\n\t\t\t{transform: \"translateX(0px)\"},\n\t\t\t{marginBottom:  currMarginBottom + \"px\"},\n\t\t\t{opacity: \"1.0\"}\n\t\t]);\n\t\t$tw.utils.forceLayout(targetElement);\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms \" + easing + \", \" +\n\t\t\t\t\t\t\"opacity \" + duration + \"ms \" + easing + \", \" +\n\t\t\t\t\t\t\"margin-bottom \" + duration + \"ms \" + easing},\n\t\t\t{transform: \"translateX(-\" + currWidth + \"px)\"},\n\t\t\t{marginBottom: (-currHeight) + \"px\"},\n\t\t\t{opacity: \"0.0\"}\n\t\t]);\n\t} else {\n\t\twidget.removeChildDomNodes();\n\t}\n};\n\nexports.classic = ClassicStoryView;\n\n})();",
            "type": "application/javascript",
            "module-type": "storyview"
        },
        "$:/core/modules/storyviews/pop.js": {
            "title": "$:/core/modules/storyviews/pop.js",
            "text": "/*\\\ntitle: $:/core/modules/storyviews/pop.js\ntype: application/javascript\nmodule-type: storyview\n\nAnimates list insertions and removals\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar PopStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n};\n\nPopStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Scroll the node into view\n\tthis.listWidget.dispatchEvent({type: \"tm-scroll\", target: targetElement});\n};\n\nPopStoryView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Reset once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \"none\"},\n\t\t\t{transform: \"none\"}\n\t\t]);\n\t\t$tw.utils.setStyle(widget.document.body,[\n\t\t\t{\"overflow-x\": \"\"}\n\t\t]);\n\t},duration);\n\t// Prevent the page from overscrolling due to the zoom factor\n\t$tw.utils.setStyle(widget.document.body,[\n\t\t{\"overflow-x\": \"hidden\"}\n\t]);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \"none\"},\n\t\t{transform: \"scale(2)\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t// Transition to the final position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{transform: \"scale(1)\"},\n\t\t{opacity: \"1.0\"}\n\t]);\n};\n\nPopStoryView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\tif(targetElement &amp;&amp; targetElement.parentNode) {\n\t\t\t\twidget.removeChildDomNodes();\n\t\t\t}\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Remove the element at the end of the transition\n\tsetTimeout(removeElement,duration);\n\t// Animate the closure\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \"none\"},\n\t\t{transform: \"scale(1)\"},\n\t\t{opacity: \"1.0\"}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{transform: \"scale(0.1)\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n};\n\nexports.pop = PopStoryView;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "storyview"
        },
        "$:/core/modules/storyviews/zoomin.js": {
            "title": "$:/core/modules/storyviews/zoomin.js",
            "text": "/*\\\ntitle: $:/core/modules/storyviews/zoomin.js\ntype: application/javascript\nmodule-type: storyview\n\nZooms between individual tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar easing = \"cubic-bezier(0.645, 0.045, 0.355, 1)\"; // From http://easings.net/#easeInOutCubic\n\nvar ZoominListView = function(listWidget) {\n\tvar self = this;\n\tthis.listWidget = listWidget;\n\t// Get the index of the tiddler that is at the top of the history\n\tvar history = this.listWidget.wiki.getTiddlerDataCached(this.listWidget.historyTitle,[]),\n\t\ttargetTiddler;\n\tif(history.length &gt; 0) {\n\t\ttargetTiddler = history[history.length-1].title;\n\t}\n\t// Make all the tiddlers position absolute, and hide all but the top (or first) one\n\t$tw.utils.each(this.listWidget.children,function(itemWidget,index) {\n\t\tvar domNode = itemWidget.findFirstDomNode();\n\t\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\t\tif(!(domNode instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tif((targetTiddler &amp;&amp; targetTiddler !== itemWidget.parseTreeNode.itemTitle) || (!targetTiddler &amp;&amp; index)) {\n\t\t\tdomNode.style.display = \"none\";\n\t\t} else {\n\t\t\tself.currentTiddlerDomNode = domNode;\n\t\t}\n\t\t$tw.utils.addClass(domNode,\"tc-storyview-zoomin-tiddler\");\n\t});\n};\n\nZoominListView.prototype.navigateTo = function(historyInfo) {\n\tvar duration = $tw.utils.getAnimationDuration(),\n\t\tlistElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Make the new tiddler be position absolute and visible so that we can measure it\n\t$tw.utils.addClass(targetElement,\"tc-storyview-zoomin-tiddler\");\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \"block\"},\n\t\t{transformOrigin: \"0 0\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t{transition: \"none\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n\t// Get the position of the source node, or use the centre of the window as the source position\n\tvar sourceBounds = historyInfo.fromPageRect || {\n\t\t\tleft: window.innerWidth/2 - 2,\n\t\t\ttop: window.innerHeight/2 - 2,\n\t\t\twidth: window.innerWidth/8,\n\t\t\theight: window.innerHeight/8\n\t\t};\n\t// Try to find the title node in the target tiddler\n\tvar titleDomNode = findTitleDomNode(listItemWidget) || listItemWidget.findFirstDomNode(),\n\t\tzoomBounds = titleDomNode.getBoundingClientRect();\n\t// Compute the transform for the target tiddler to make the title lie over the source rectange\n\tvar targetBounds = targetElement.getBoundingClientRect(),\n\t\tscale = sourceBounds.width / zoomBounds.width,\n\t\tx = sourceBounds.left - targetBounds.left - (zoomBounds.left - targetBounds.left) * scale,\n\t\ty = sourceBounds.top - targetBounds.top - (zoomBounds.top - targetBounds.top) * scale;\n\t// Transform the target tiddler to its starting position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transform: \"translateX(\" + x + \"px) translateY(\" + y + \"px) scale(\" + scale + \")\"}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(targetElement);\n\t// Apply the ending transitions with a timeout to ensure that the previously applied transformations are applied first\n\tvar self = this,\n\t\tprevCurrentTiddler = this.currentTiddlerDomNode;\n\tthis.currentTiddlerDomNode = targetElement;\n\t// Transform the target tiddler to its natural size\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms \" + easing + \", opacity \" + duration + \"ms \" + easing},\n\t\t{opacity: \"1.0\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t{zIndex: \"500\"},\n\t]);\n\t// Transform the previous tiddler out of the way and then hide it\n\tif(prevCurrentTiddler &amp;&amp; prevCurrentTiddler !== targetElement) {\n\t\tscale = zoomBounds.width / sourceBounds.width;\n\t\tx =  zoomBounds.left - targetBounds.left - (sourceBounds.left - targetBounds.left) * scale;\n\t\ty =  zoomBounds.top - targetBounds.top - (sourceBounds.top - targetBounds.top) * scale;\n\t\t$tw.utils.setStyle(prevCurrentTiddler,[\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms \" + easing + \", opacity \" + duration + \"ms \" + easing},\n\t\t\t{opacity: \"0.0\"},\n\t\t\t{transformOrigin: \"0 0\"},\n\t\t\t{transform: \"translateX(\" + x + \"px) translateY(\" + y + \"px) scale(\" + scale + \")\"},\n\t\t\t{zIndex: \"0\"}\n\t\t]);\n\t\t// Hide the tiddler when the transition has finished\n\t\tsetTimeout(function() {\n\t\t\tif(self.currentTiddlerDomNode !== prevCurrentTiddler) {\n\t\t\t\tprevCurrentTiddler.style.display = \"none\";\n\t\t\t}\n\t\t},duration);\n\t}\n\t// Scroll the target into view\n//\t$tw.pageScroller.scrollIntoView(targetElement);\n};\n\n/*\nFind the first child DOM node of a widget that has the class \"tc-title\"\n*/\nfunction findTitleDomNode(widget,targetClass) {\n\ttargetClass = targetClass || \"tc-title\";\n\tvar domNode = widget.findFirstDomNode();\n\tif(domNode &amp;&amp; domNode.querySelector) {\n\t\treturn domNode.querySelector(\".\" + targetClass);\n\t}\n\treturn null;\n}\n\nZoominListView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Make the newly inserted node position absolute and hidden\n\t$tw.utils.addClass(targetElement,\"tc-storyview-zoomin-tiddler\");\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \"none\"}\n\t]);\n};\n\nZoominListView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\twidget.removeChildDomNodes();\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Abandon if hidden\n\tif(targetElement.style.display != \"block\" ) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Set up the tiddler that is being closed\n\t$tw.utils.addClass(targetElement,\"tc-storyview-zoomin-tiddler\");\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \"block\"},\n\t\t{transformOrigin: \"50% 50%\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t{transition: \"none\"},\n\t\t{zIndex: \"0\"}\n\t]);\n\t// We'll move back to the previous or next element in the story\n\tvar toWidget = widget.previousSibling();\n\tif(!toWidget) {\n\t\ttoWidget = widget.nextSibling();\n\t}\n\tvar toWidgetDomNode = toWidget &amp;&amp; toWidget.findFirstDomNode();\n\t// Set up the tiddler we're moving back in\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.addClass(toWidgetDomNode,\"tc-storyview-zoomin-tiddler\");\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{display: \"block\"},\n\t\t\t{transformOrigin: \"50% 50%\"},\n\t\t\t{transform: \"translateX(0px) translateY(0px) scale(10)\"},\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms \" + easing + \", opacity \" + duration + \"ms \" + easing},\n\t\t\t{opacity: \"0\"},\n\t\t\t{zIndex: \"500\"}\n\t\t]);\n\t\tthis.currentTiddlerDomNode = toWidgetDomNode;\n\t}\n\t// Animate them both\n\t// Force layout\n\t$tw.utils.forceLayout(this.listWidget.parentDomNode);\n\t// First, the tiddler we're closing\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transformOrigin: \"50% 50%\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(0.1)\"},\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms \" + easing + \", opacity \" + duration + \"ms \" + easing},\n\t\t{opacity: \"0\"},\n\t\t{zIndex: \"0\"}\n\t]);\n\tsetTimeout(removeElement,duration);\n\t// Now the tiddler we're going back to\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t\t{opacity: \"1\"}\n\t\t]);\n\t}\n\treturn true; // Indicate that we'll delete the DOM node\n};\n\nexports.zoomin = ZoominListView;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "storyview"
        },
        "$:/core/modules/syncer.js": {
            "title": "$:/core/modules/syncer.js",
            "text": "/*\\\ntitle: $:/core/modules/syncer.js\ntype: application/javascript\nmodule-type: global\n\nThe syncer tracks changes to the store and synchronises them to a remote data store represented as a \"sync adaptor\"\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nDefaults\n*/\nSyncer.prototype.titleIsLoggedIn = \"$:/status/IsLoggedIn\";\nSyncer.prototype.titleIsAnonymous = \"$:/status/IsAnonymous\";\nSyncer.prototype.titleIsReadOnly = \"$:/status/IsReadOnly\";\nSyncer.prototype.titleUserName = \"$:/status/UserName\";\nSyncer.prototype.titleSyncFilter = \"$:/config/SyncFilter\";\nSyncer.prototype.titleSyncDisablePolling = \"$:/config/SyncDisablePolling\";\nSyncer.prototype.titleSyncPollingInterval = \"$:/config/SyncPollingInterval\";\nSyncer.prototype.titleSyncDisableLazyLoading = \"$:/config/SyncDisableLazyLoading\";\nSyncer.prototype.titleSavedNotification = \"$:/language/Notifications/Save/Done\";\nSyncer.prototype.titleSyncThrottleInterval = \"$:/config/SyncThrottleInterval\";\nSyncer.prototype.taskTimerInterval = 1 * 1000; // Interval for sync timer\nSyncer.prototype.throttleInterval = 1 * 1000; // Defer saving tiddlers if they've changed in the last 1s...\nSyncer.prototype.errorRetryInterval = 5 * 1000; // Interval to retry after an error\nSyncer.prototype.fallbackInterval = 10 * 1000; // Unless the task is older than 10s\nSyncer.prototype.pollTimerInterval = 60 * 1000; // Interval for polling for changes from the adaptor\n\n/*\nInstantiate the syncer with the following options:\nsyncadaptor: reference to syncadaptor to be used\nwiki: wiki to be synced\n*/\nfunction Syncer(options) {\n\tvar self = this;\n\tthis.wiki = options.wiki;\n\t// Save parameters\n\tthis.syncadaptor = options.syncadaptor;\n\tthis.disableUI = !!options.disableUI;\n\tthis.titleIsLoggedIn = options.titleIsLoggedIn || this.titleIsLoggedIn;\n\tthis.titleUserName = options.titleUserName || this.titleUserName;\n\tthis.titleSyncFilter = options.titleSyncFilter || this.titleSyncFilter;\n\tthis.titleSavedNotification = options.titleSavedNotification || this.titleSavedNotification;\n\tthis.taskTimerInterval = options.taskTimerInterval || this.taskTimerInterval;\n\tthis.throttleInterval = options.throttleInterval || parseInt(this.wiki.getTiddlerText(this.titleSyncThrottleInterval,\"\"),10) || this.throttleInterval;\n\tthis.errorRetryInterval = options.errorRetryInterval || this.errorRetryInterval;\n\tthis.fallbackInterval = options.fallbackInterval || this.fallbackInterval;\n\tthis.pollTimerInterval = options.pollTimerInterval || parseInt(this.wiki.getTiddlerText(this.titleSyncPollingInterval,\"\"),10) || this.pollTimerInterval;\n\tthis.logging = \"logging\" in options ? options.logging : true;\n\t// Make a logger\n\tthis.logger = new $tw.utils.Logger(\"syncer\" + ($tw.browser ? \"-browser\" : \"\") + ($tw.node ? \"-server\" : \"\")  + (this.syncadaptor.name ? (\"-\" + this.syncadaptor.name) : \"\"),{\n\t\tcolour: \"cyan\",\n\t\tenable: this.logging,\n\t\tsaveHistory: true\n\t});\n\t// Make another logger for connection errors\n\tthis.loggerConnection = new $tw.utils.Logger(\"syncer\" + ($tw.browser ? \"-browser\" : \"\") + ($tw.node ? \"-server\" : \"\")  + (this.syncadaptor.name ? (\"-\" + this.syncadaptor.name) : \"\") + \"-connection\",{\n\t\tcolour: \"cyan\",\n\t\tenable: this.logging\n\t});\n\t// Ask the syncadaptor to use the main logger\n\tif(this.syncadaptor.setLoggerSaveBuffer) {\n\t\tthis.syncadaptor.setLoggerSaveBuffer(this.logger);\n\t}\n\t// Compile the dirty tiddler filter\n\tthis.filterFn = this.wiki.compileFilter(this.wiki.getTiddlerText(this.titleSyncFilter));\n\t// Record information for known tiddlers\n\tthis.readTiddlerInfo();\n\tthis.titlesToBeLoaded = {}; // Hashmap of titles of tiddlers that need loading from the server\n\tthis.titlesHaveBeenLazyLoaded = {}; // Hashmap of titles of tiddlers that have already been lazily loaded from the server\n\t// Timers\n\tthis.taskTimerId = null; // Timer for task dispatch\n\tthis.pollTimerId = null; // Timer for polling server\n\t// Number of outstanding requests\n\tthis.numTasksInProgress = 0;\n\t// Listen out for changes to tiddlers\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\t// Filter the changes to just include ones that are being synced\n\t\tvar filteredChanges = self.getSyncedTiddlers(function(callback) {\n\t\t\t$tw.utils.each(changes,function(change,title) {\n\t\t\t\tvar tiddler = self.wiki.tiddlerExists(title) &amp;&amp; self.wiki.getTiddler(title);\n\t\t\t\tcallback(tiddler,title);\n\t\t\t});\n\t\t});\n\t\tif(filteredChanges.length &gt; 0) {\n\t\t\tself.processTaskQueue();\n\t\t} else {\n\t\t\t// Look for deletions of tiddlers we're already syncing\n\t\t\tvar outstandingDeletion = false\n\t\t\t$tw.utils.each(changes,function(change,title,object) {\n\t\t\t\tif(change.deleted &amp;&amp; $tw.utils.hop(self.tiddlerInfo,title)) {\n\t\t\t\t\toutstandingDeletion = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(outstandingDeletion) {\n\t\t\t\tself.processTaskQueue();\n\t\t\t}\n\t\t}\n\t});\n\t// Browser event handlers\n\tif($tw.browser &amp;&amp; !this.disableUI) {\n\t\t// Set up our beforeunload handler\n\t\t$tw.addUnloadTask(function(event) {\n\t\t\tvar confirmationMessage;\n\t\t\tif(self.isDirty()) {\n\t\t\t\tconfirmationMessage = $tw.language.getString(\"UnsavedChangesWarning\");\n\t\t\t\tevent.returnValue = confirmationMessage; // Gecko\n\t\t\t}\n\t\t\treturn confirmationMessage;\n\t\t});\n\t\t// Listen out for login/logout/refresh events in the browser\n\t\t$tw.rootWidget.addEventListener(\"tm-login\",function(event) {\n\t\t\tvar username = event &amp;&amp; event.paramObject &amp;&amp; event.paramObject.username,\n\t\t\t\tpassword = event &amp;&amp; event.paramObject &amp;&amp; event.paramObject.password;\n\t\t\tif(username &amp;&amp; password) {\n\t\t\t\t// Login with username and password\n\t\t\t\tself.login(username,password,function() {});\n\t\t\t} else {\n\t\t\t\t// No username and password, so we display a prompt\n\t\t\t\tself.handleLoginEvent();\n\t\t\t}\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\"tm-logout\",function() {\n\t\t\tself.handleLogoutEvent();\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\"tm-server-refresh\",function() {\n\t\t\tself.handleRefreshEvent();\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\"tm-copy-syncer-logs-to-clipboard\",function() {\n\t\t\t$tw.utils.copyToClipboard($tw.utils.getSystemInfo() + \"\\n\\nLog:\\n\" + self.logger.getBuffer());\n\t\t});\n\t}\n\t// Listen out for lazyLoad events\n\tif(!this.disableUI &amp;&amp; this.wiki.getTiddlerText(this.titleSyncDisableLazyLoading) !== \"yes\") {\n\t\tthis.wiki.addEventListener(\"lazyLoad\",function(title) {\n\t\t\tself.handleLazyLoadEvent(title);\n\t\t});\n\t}\n\t// Get the login status\n\tthis.getStatus(function(err,isLoggedIn) {\n\t\t// Do a sync from the server\n\t\tself.syncFromServer();\n\t});\n}\n\n/*\nShow a generic network error alert\n*/\nSyncer.prototype.displayError = function(msg,err) {\n\tif(err === ($tw.language.getString(\"Error/XMLHttpRequest\") + \": 0\")) {\n\t\tthis.loggerConnection.alert($tw.language.getString(\"Error/NetworkErrorAlert\"));\n\t\tthis.logger.log(msg + \":\",err);\n\t} else {\n\t\tthis.logger.alert(msg + \":\",err);\n\t}\n};\n\n/*\nReturn an array of the tiddler titles that are subjected to syncing\n*/\nSyncer.prototype.getSyncedTiddlers = function(source) {\n\treturn this.filterFn.call(this.wiki,source);\n};\n\n/*\nReturn an array of the tiddler titles that are subjected to syncing\n*/\nSyncer.prototype.getTiddlerRevision = function(title) {\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getTiddlerRevision) {\n\t\treturn this.syncadaptor.getTiddlerRevision(title);\n\t} else {\n\t\treturn this.wiki.getTiddler(title).fields.revision;\n\t}\n};\n\n/*\nRead (or re-read) the latest tiddler info from the store\n*/\nSyncer.prototype.readTiddlerInfo = function() {\n\t// Hashmap by title of {revision:,changeCount:,adaptorInfo:}\n\t// \"revision\" is the revision of the tiddler last seen on the server, and \"changecount\" is the corresponding local changecount\n\tthis.tiddlerInfo = {};\n\t// Record information for known tiddlers\n\tvar self = this,\n\t\ttiddlers = this.getSyncedTiddlers();\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\tif(tiddler) {\n\t\t\tself.tiddlerInfo[title] = {\n\t\t\t\trevision: self.getTiddlerRevision(title),\n\t\t\t\tadaptorInfo: self.syncadaptor &amp;&amp; self.syncadaptor.getTiddlerInfo(tiddler),\n\t\t\t\tchangeCount: self.wiki.getChangeCount(title)\n\t\t\t};\n\t\t}\n\t});\n};\n\n/*\nChecks whether the wiki is dirty (ie the window shouldn't be closed)\n*/\nSyncer.prototype.isDirty = function() {\n\tthis.logger.log(\"Checking dirty status\");\n\t// Check tiddlers that are in the store and included in the filter function\n\tvar titles = this.getSyncedTiddlers();\n\tfor(var index=0; index&lt;titles.length; index++) {\n\t\tvar title = titles[index],\n\t\t\ttiddlerInfo = this.tiddlerInfo[title];\n\t\tif(this.wiki.tiddlerExists(title)) {\n\t\t\tif(tiddlerInfo) {\n\t\t\t\t// If the tiddler is known on the server and has been modified locally then it needs to be saved to the server\n\t\t\t\tif(this.wiki.getChangeCount(title) &gt; tiddlerInfo.changeCount) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If the tiddler isn't known on the server then it needs to be saved to the server\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t// Check tiddlers that are known from the server but not currently in the store\n\ttitles = Object.keys(this.tiddlerInfo);\n\tfor(index=0; index&lt;titles.length; index++) {\n\t\tif(!this.wiki.tiddlerExists(titles[index])) {\n\t\t\t// There must be a pending delete\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/*\nUpdate the document body with the class \"tc-dirty\" if the wiki has unsaved/unsynced changes\n*/\nSyncer.prototype.updateDirtyStatus = function() {\n\tif($tw.browser &amp;&amp; !this.disableUI) {\n\t\tvar dirty = this.isDirty();\n\t\t$tw.utils.toggleClass(document.body,\"tc-dirty\",dirty);\n\t\tif(!dirty) {\n\t\t\tthis.loggerConnection.clearAlerts();\n\t\t}\n\t}\n};\n\n/*\nSave an incoming tiddler in the store, and updates the associated tiddlerInfo\n*/\nSyncer.prototype.storeTiddler = function(tiddlerFields) {\n\t// Save the tiddler\n\tvar tiddler = new $tw.Tiddler(tiddlerFields);\n\tthis.wiki.addTiddler(tiddler);\n\t// Save the tiddler revision and changeCount details\n\tthis.tiddlerInfo[tiddlerFields.title] = {\n\t\trevision: this.getTiddlerRevision(tiddlerFields.title),\n\t\tadaptorInfo: this.syncadaptor.getTiddlerInfo(tiddler),\n\t\tchangeCount: this.wiki.getChangeCount(tiddlerFields.title)\n\t};\n};\n\nSyncer.prototype.getStatus = function(callback) {\n\tvar self = this;\n\t// Check if the adaptor supports getStatus()\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getStatus) {\n\t\t// Mark us as not logged in\n\t\tthis.wiki.addTiddler({title: this.titleIsLoggedIn,text: \"no\"});\n\t\t// Get login status\n\t\tthis.syncadaptor.getStatus(function(err,isLoggedIn,username,isReadOnly,isAnonymous,isPollingDisabled) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t} else {\n\t\t\t\t// Set the various status tiddlers\n\t\t\t\tself.wiki.addTiddler({title: self.titleIsReadOnly,text: isReadOnly ? \"yes\" : \"no\"});\n\t\t\t\tself.wiki.addTiddler({title: self.titleIsAnonymous,text: isAnonymous ? \"yes\" : \"no\"});\n\t\t\t\tself.wiki.addTiddler({title: self.titleIsLoggedIn,text: isLoggedIn ? \"yes\" : \"no\"});\n\t\t\t\tif(isLoggedIn) {\n\t\t\t\t\tself.wiki.addTiddler({title: self.titleUserName,text: username || \"\"});\n\t\t\t\t}\n\t\t\t\tif(isPollingDisabled) {\n\t\t\t\t\tself.wiki.addTiddler({title: self.titleSyncDisablePolling, text: \"yes\"});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tif(callback) {\n\t\t\t\tcallback(err,isLoggedIn,username);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tcallback(null,true,\"UNAUTHENTICATED\");\n\t}\n};\n\n/*\nSynchronise from the server by reading the skinny tiddler list and queuing up loads for any tiddlers that we don't already have up to date\n*/\nSyncer.prototype.syncFromServer = function() {\n\tvar self = this,\n\t\tcancelNextSync = function() {\n\t\t\tif(self.pollTimerId) {\n\t\t\t\tclearTimeout(self.pollTimerId);\n\t\t\t\tself.pollTimerId = null;\n\t\t\t}\n\t\t},\n\t\ttriggerNextSync = function() {\n\t\t\tif(pollingEnabled) {\n\t\t\t\tself.pollTimerId = setTimeout(function() {\n\t\t\t\t\tself.pollTimerId = null;\n\t\t\t\t\tself.syncFromServer.call(self);\n\t\t\t\t},self.pollTimerInterval);\n\t\t\t}\n\t\t},\n\t\tsyncSystemFromServer = (self.wiki.getTiddlerText(\"$:/config/SyncSystemTiddlersFromServer\") === \"yes\"),\n\t\tpollingEnabled = (self.wiki.getTiddlerText(self.titleSyncDisablePolling) !== \"yes\");\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getUpdatedTiddlers) {\n\t\tthis.logger.log(\"Retrieving updated tiddler list\");\n\t\tcancelNextSync();\n\t\tthis.syncadaptor.getUpdatedTiddlers(self,function(err,updates) {\n\t\t\ttriggerNextSync();\n\t\t\tif(err) {\n\t\t\t\tself.displayError($tw.language.getString(\"Error/RetrievingSkinny\"),err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(updates) {\n\t\t\t\t$tw.utils.each(updates.modifications,function(title) {\n\t\t\t\t\tself.titlesToBeLoaded[title] = true;\n\t\t\t\t});\n\t\t\t\t$tw.utils.each(updates.deletions,function(title) {\n\t\t\t\t\tif(syncSystemFromServer || !self.wiki.isSystemTiddler(title)) {\n\t\t\t\t\t\tdelete self.tiddlerInfo[title];\n\t\t\t\t\t\tself.logger.log(\"Deleting tiddler missing from server:\",title);\n\t\t\t\t\t\tself.wiki.deleteTiddler(title);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(updates.modifications.length &gt; 0 || updates.deletions.length &gt; 0) {\n\t\t\t\t\tself.processTaskQueue();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else if(this.syncadaptor &amp;&amp; this.syncadaptor.getSkinnyTiddlers) {\n\t\tthis.logger.log(\"Retrieving skinny tiddler list\");\n\t\tcancelNextSync();\n\t\tthis.syncadaptor.getSkinnyTiddlers(function(err,tiddlers) {\n\t\t\ttriggerNextSync();\n\t\t\t// Check for errors\n\t\t\tif(err) {\n\t\t\t\tself.displayError($tw.language.getString(\"Error/RetrievingSkinny\"),err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Keep track of which tiddlers we already know about have been reported this time\n\t\t\tvar previousTitles = Object.keys(self.tiddlerInfo);\n\t\t\t// Process each incoming tiddler\n\t\t\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\t\t\t// Get the incoming tiddler fields, and the existing tiddler\n\t\t\t\tvar tiddlerFields = tiddlers[t],\n\t\t\t\t\tincomingRevision = tiddlerFields.revision + \"\",\n\t\t\t\t\ttiddler = self.wiki.tiddlerExists(tiddlerFields.title) &amp;&amp; self.wiki.getTiddler(tiddlerFields.title),\n\t\t\t\t\ttiddlerInfo = self.tiddlerInfo[tiddlerFields.title],\n\t\t\t\t\tcurrRevision = tiddlerInfo ? tiddlerInfo.revision : null,\n\t\t\t\t\tindexInPreviousTitles = previousTitles.indexOf(tiddlerFields.title);\n\t\t\t\tif(indexInPreviousTitles !== -1) {\n\t\t\t\t\tpreviousTitles.splice(indexInPreviousTitles,1);\n\t\t\t\t}\n\t\t\t\t// Ignore the incoming tiddler if it's the same as the revision we've already got\n\t\t\t\tif(currRevision !== incomingRevision) {\n\t\t\t\t\t// Only load the skinny version if we don't already have a fat version of the tiddler\n\t\t\t\t\tif(!tiddler || tiddler.fields.text === undefined) {\n\t\t\t\t\t\tself.storeTiddler(tiddlerFields);\n\t\t\t\t\t}\n\t\t\t\t\t// Do a full load of this tiddler\n\t\t\t\t\tself.titlesToBeLoaded[tiddlerFields.title] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Delete any tiddlers that were previously reported but missing this time\n\t\t\t$tw.utils.each(previousTitles,function(title) {\n\t\t\t\tif(syncSystemFromServer || !self.wiki.isSystemTiddler(title)) {\n\t\t\t\t\tdelete self.tiddlerInfo[title];\n\t\t\t\t\tself.logger.log(\"Deleting tiddler missing from server:\",title);\n\t\t\t\t\tself.wiki.deleteTiddler(title);\n\t\t\t\t}\n\t\t\t});\n\t\t\tself.processTaskQueue();\n\t\t});\n\t}\n};\n\n/*\nForce load a tiddler from the server\n*/\nSyncer.prototype.enqueueLoadTiddler = function(title) {\n\tthis.titlesToBeLoaded[title] = true;\n\tthis.processTaskQueue();\n};\n\n/*\nLazily load a skinny tiddler if we can\n*/\nSyncer.prototype.handleLazyLoadEvent = function(title) {\n\t// Ignore if the syncadaptor doesn't handle it\n\tif(!this.syncadaptor.supportsLazyLoading) {\n\t\treturn;\n\t}\n\t// Don't lazy load the same tiddler twice\n\tif(!this.titlesHaveBeenLazyLoaded[title]) {\n\t\t// Don't lazy load if the tiddler isn't included in the sync filter\n\t\tif(this.getSyncedTiddlers().indexOf(title) !== -1) {\n\t\t\t// Mark the tiddler as needing loading, and having already been lazily loaded\n\t\t\tthis.titlesToBeLoaded[title] = true;\n\t\t\tthis.titlesHaveBeenLazyLoaded[title] = true;\n\t\t}\n\t}\n};\n\n/*\nDispay a password prompt and allow the user to login\n*/\nSyncer.prototype.handleLoginEvent = function() {\n\tvar self = this;\n\tthis.getStatus(function(err,isLoggedIn,username) {\n\t\tif(!err &amp;&amp; !isLoggedIn) {\n\t\t\tif(self.syncadaptor &amp;&amp; self.syncadaptor.displayLoginPrompt) {\n\t\t\t\tself.syncadaptor.displayLoginPrompt(self);\n\t\t\t} else {\n\t\t\t\tself.displayLoginPrompt();\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nDispay a password prompt\n*/\nSyncer.prototype.displayLoginPrompt = function() {\n\tvar self = this;\n\tvar promptInfo = $tw.passwordPrompt.createPrompt({\n\t\tserviceName: $tw.language.getString(\"LoginToTiddlySpace\"),\n\t\tcallback: function(data) {\n\t\t\tself.login(data.username,data.password,function(err,isLoggedIn) {\n\t\t\t\tself.syncFromServer();\n\t\t\t});\n\t\t\treturn true; // Get rid of the password prompt\n\t\t}\n\t});\n};\n\n/*\nAttempt to login to TiddlyWeb.\n\tusername: username\n\tpassword: password\n\tcallback: invoked with arguments (err,isLoggedIn)\n*/\nSyncer.prototype.login = function(username,password,callback) {\n\tthis.logger.log(\"Attempting to login as\",username);\n\tvar self = this;\n\tif(this.syncadaptor.login) {\n\t\tthis.syncadaptor.login(username,password,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tself.getStatus(function(err,isLoggedIn,username) {\n\t\t\t\tif(callback) {\n\t\t\t\t\tcallback(err,isLoggedIn);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} else {\n\t\tcallback(null,true);\n\t}\n};\n\n/*\nAttempt to log out of TiddlyWeb\n*/\nSyncer.prototype.handleLogoutEvent = function() {\n\tthis.logger.log(\"Attempting to logout\");\n\tvar self = this;\n\tif(this.syncadaptor.logout) {\n\t\tthis.syncadaptor.logout(function(err) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t} else {\n\t\t\t\tself.getStatus();\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nImmediately refresh from the server\n*/\nSyncer.prototype.handleRefreshEvent = function() {\n\tthis.syncFromServer();\n};\n\n/*\nProcess the next task\n*/\nSyncer.prototype.processTaskQueue = function() {\n\tvar self = this;\n\t// Only process a task if the sync adaptor is fully initialised and we're not already performing\n\t// a task. If we are already performing a task then we'll dispatch the next one when it completes\n\tif((!this.syncadaptor.isReady || this.syncadaptor.isReady()) &amp;&amp; this.numTasksInProgress === 0) {\n\t\t// Choose the next task to perform\n\t\tvar task = this.chooseNextTask();\n\t\t// Perform the task if we had one\n\t\tif(typeof task === \"object\" &amp;&amp; task !== null) {\n\t\t\tthis.numTasksInProgress += 1;\n\t\t\ttask.run(function(err) {\n\t\t\t\tself.numTasksInProgress -= 1;\n\t\t\t\tif(err) {\n\t\t\t\t\tself.displayError(\"Sync error while processing \" + task.type + \" of '\" + task.title + \"'\",err);\n\t\t\t\t\tself.updateDirtyStatus();\n\t\t\t\t\tself.triggerTimeout(self.errorRetryInterval);\n\t\t\t\t} else {\n\t\t\t\t\tself.updateDirtyStatus();\n\t\t\t\t\t// Process the next task\n\t\t\t\t\tself.processTaskQueue.call(self);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// No task is ready so update the status\n\t\t\tthis.updateDirtyStatus();\n\t\t\t// And trigger a timeout if there is a pending task\n\t\t\tif(task === true) {\n\t\t\t\tthis.triggerTimeout();\n\t\t\t}\n\t\t}\n\t} else {\n\t\tthis.updateDirtyStatus();\n\t}\n};\n\nSyncer.prototype.triggerTimeout = function(interval) {\n\tvar self = this;\n\tif(!this.taskTimerId) {\n\t\tthis.taskTimerId = setTimeout(function() {\n\t\t\tself.taskTimerId = null;\n\t\t\tself.processTaskQueue.call(self);\n\t\t},interval || self.taskTimerInterval);\n\t}\n};\n\n/*\nChoose the next sync task. We prioritise saves, then deletes, then loads from the server\n\nReturns either a task object, null if there's no upcoming tasks, or the boolean true if there are pending tasks that aren't yet due\n*/\nSyncer.prototype.chooseNextTask = function() {\n\tvar thresholdLastSaved = (new Date()) - this.throttleInterval,\n\t\thavePending = null;\n\t// First we look for tiddlers that have been modified locally and need saving back to the server\n\tvar titles = this.getSyncedTiddlers();\n\tfor(var index=0; index&lt;titles.length; index++) {\n\t\tvar title = titles[index],\n\t\t\ttiddler = this.wiki.tiddlerExists(title) &amp;&amp; this.wiki.getTiddler(title),\n\t\t\ttiddlerInfo = this.tiddlerInfo[title];\n\t\tif(tiddler) {\n\t\t\t// If the tiddler is not known on the server, or has been modified locally no more recently than the threshold then it needs to be saved to the server\n\t\t\tvar hasChanged = !tiddlerInfo || this.wiki.getChangeCount(title) &gt; tiddlerInfo.changeCount,\n\t\t\t\tisReadyToSave = !tiddlerInfo || !tiddlerInfo.timestampLastSaved || tiddlerInfo.timestampLastSaved &lt; thresholdLastSaved;\n\t\t\tif(hasChanged) {\n\t\t\t\tif(isReadyToSave) {\n\t\t\t\t\treturn new SaveTiddlerTask(this,title);\n\t\t\t\t} else {\n\t\t\t\t\thavePending = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Second, we check tiddlers that are known from the server but not currently in the store, and so need deleting on the server\n\ttitles = Object.keys(this.tiddlerInfo);\n\tfor(index=0; index&lt;titles.length; index++) {\n\t\ttitle = titles[index];\n\t\ttiddlerInfo = this.tiddlerInfo[title];\n\t\ttiddler = this.wiki.tiddlerExists(title) &amp;&amp; this.wiki.getTiddler(title);\n\t\tif(!tiddler) {\n\t\t\treturn new DeleteTiddlerTask(this,title);\n\t\t}\n\t}\n\t// Check for tiddlers that need loading\n\ttitle = Object.keys(this.titlesToBeLoaded)[0];\n\tif(title) {\n\t\tdelete this.titlesToBeLoaded[title];\n\t\treturn new LoadTiddlerTask(this,title);\n\t}\n\t// No tasks are ready\n\treturn havePending;\n};\n\nfunction SaveTiddlerTask(syncer,title) {\n\tthis.syncer = syncer;\n\tthis.title = title;\n\tthis.type = \"save\";\n}\n\nSaveTiddlerTask.prototype.run = function(callback) {\n\tvar self = this,\n\t\tchangeCount = this.syncer.wiki.getChangeCount(this.title),\n\t\ttiddler = this.syncer.wiki.tiddlerExists(this.title) &amp;&amp; this.syncer.wiki.getTiddler(this.title);\n\tthis.syncer.logger.log(\"Dispatching 'save' task:\",this.title);\n\tif(tiddler) {\n\t\tthis.syncer.syncadaptor.saveTiddler(tiddler,function(err,adaptorInfo,revision) {\n\t\t\t// If there's an error, exit without changing any internal state\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\t// Adjust the info stored about this tiddler\n\t\t\tself.syncer.tiddlerInfo[self.title] = {\n\t\t\t\tchangeCount: changeCount,\n\t\t\t\tadaptorInfo: adaptorInfo,\n\t\t\t\trevision: revision,\n\t\t\t\ttimestampLastSaved: new Date()\n\t\t\t};\n\t\t\t// Invoke the callback\n\t\t\tcallback(null);\n\t\t},{\n\t\t\ttiddlerInfo: self.syncer.tiddlerInfo[self.title]\n\t\t});\n\t} else {\n\t\tthis.syncer.logger.log(\" Not Dispatching 'save' task:\",this.title,\"tiddler does not exist\");\n\t\t$tw.utils.nextTick(callback(null));\n\t}\n};\n\nfunction DeleteTiddlerTask(syncer,title) {\n\tthis.syncer = syncer;\n\tthis.title = title;\n\tthis.type = \"delete\";\n}\n\nDeleteTiddlerTask.prototype.run = function(callback) {\n\tvar self = this;\n\tthis.syncer.logger.log(\"Dispatching 'delete' task:\",this.title);\n\tthis.syncer.syncadaptor.deleteTiddler(this.title,function(err) {\n\t\t// If there's an error, exit without changing any internal state\n\t\tif(err) {\n\t\t\treturn callback(err);\n\t\t}\n\t\t// Remove the info stored about this tiddler\n\t\tdelete self.syncer.tiddlerInfo[self.title];\n\t\t// Invoke the callback\n\t\tcallback(null);\n\t},{\n\t\ttiddlerInfo: self.syncer.tiddlerInfo[this.title]\n\t});\n};\n\nfunction LoadTiddlerTask(syncer,title) {\n\tthis.syncer = syncer;\n\tthis.title = title;\n\tthis.type = \"load\";\n}\n\nLoadTiddlerTask.prototype.run = function(callback) {\n\tvar self = this;\n\tthis.syncer.logger.log(\"Dispatching 'load' task:\",this.title);\n\tthis.syncer.syncadaptor.loadTiddler(this.title,function(err,tiddlerFields) {\n\t\t// If there's an error, exit without changing any internal state\n\t\tif(err) {\n\t\t\treturn callback(err);\n\t\t}\n\t\t// Update the info stored about this tiddler\n\t\tif(tiddlerFields) {\n\t\t\tself.syncer.storeTiddler(tiddlerFields);\n\t\t}\n\t\t// Invoke the callback\n\t\tcallback(null);\n\t});\n};\n\nexports.Syncer = Syncer;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/tiddler.js": {
            "title": "$:/core/modules/tiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/tiddler.js\ntype: application/javascript\nmodule-type: tiddlermethod\n\nExtension methods for the $tw.Tiddler object (constructor and methods required at boot time are in boot/boot.js)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.hasTag = function(tag) {\n\treturn this.fields.tags &amp;&amp; this.fields.tags.indexOf(tag) !== -1;\n};\n\nexports.isPlugin = function() {\n\treturn this.fields.type === \"application/json\" &amp;&amp; this.hasField(\"plugin-type\");\n};\n\nexports.isDraft = function() {\n\treturn this.hasField(\"draft.of\");\n};\n\nexports.getFieldString = function(field) {\n\tvar value = this.fields[field];\n\t// Check for a missing field\n\tif(value === undefined || value === null) {\n\t\treturn \"\";\n\t}\n\t// Parse the field with the associated module (if any)\n\tvar fieldModule = $tw.Tiddler.fieldModules[field];\n\tif(fieldModule &amp;&amp; fieldModule.stringify) {\n\t\treturn fieldModule.stringify.call(this,value);\n\t} else {\n\t\treturn value.toString();\n\t}\n};\n\n/*\nGet the value of a field as a list\n*/\nexports.getFieldList = function(field) {\n\tvar value = this.fields[field];\n\t// Check for a missing field\n\tif(value === undefined || value === null) {\n\t\treturn [];\n\t}\n\treturn $tw.utils.parseStringArray(value);\n};\n\n/*\nGet all the fields as a hashmap of strings. Options:\n\texclude: an array of field names to exclude\n*/\nexports.getFieldStrings = function(options) {\n\toptions = options || {};\n\tvar exclude = options.exclude || [];\n\tvar fields = {};\n\tfor(var field in this.fields) {\n\t\tif($tw.utils.hop(this.fields,field)) {\n\t\t\tif(exclude.indexOf(field) === -1) {\n\t\t\t\tfields[field] = this.getFieldString(field);\n\t\t\t}\n\t\t}\n\t}\n\treturn fields;\n};\n\n/*\nGet all the fields as a name:value block. Options:\n\texclude: an array of field names to exclude\n*/\nexports.getFieldStringBlock = function(options) {\n\toptions = options || {};\n\tvar exclude = options.exclude || [],\n\t\tfields = Object.keys(this.fields).sort(),\n\t\tresult = [];\n\tfor(var t=0; t&lt;fields.length; t++) {\n\t\tvar field = fields[t];\n\t\tif(exclude.indexOf(field) === -1) {\n\t\t\tresult.push(field + \": \" + this.getFieldString(field));\n\t\t}\n\t}\n\treturn result.join(\"\\n\");\n};\n\nexports.getFieldDay = function(field) {\n\tif(this.cache &amp;&amp; this.cache.day &amp;&amp; $tw.utils.hop(this.cache.day,field) ) {\n\t\treturn this.cache.day[field];\n\t}\n\tvar day = \"\";\n\tif(this.fields[field]) {\n\t\tday = (new Date($tw.utils.parseDate(this.fields[field]))).setHours(0,0,0,0);\n\t}\n\tthis.cache.day = this.cache.day || {};\n\tthis.cache.day[field] = day;\n\treturn day;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "tiddlermethod"
        },
        "$:/core/modules/upgraders/plugins.js": {
            "title": "$:/core/modules/upgraders/plugins.js",
            "text": "/*\\\ntitle: $:/core/modules/upgraders/plugins.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that checks that plugins are newer than any already installed version\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar UPGRADE_LIBRARY_TITLE = \"$:/UpgradeLibrary\";\n\nvar BLOCKED_PLUGINS = {\n\t\"$:/themes/tiddlywiki/stickytitles\": {\n\t\tversions: [\"*\"]\n\t},\n\t\"$:/plugins/tiddlywiki/fullscreen\": {\n\t\tversions: [\"*\"]\n\t}\n};\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {},\n\t\tupgradeLibrary,\n\t\tgetLibraryTiddler = function(title) {\n\t\t\tif(!upgradeLibrary) {\n\t\t\t\tupgradeLibrary = wiki.getTiddlerData(UPGRADE_LIBRARY_TITLE,{});\n\t\t\t\tupgradeLibrary.tiddlers = upgradeLibrary.tiddlers || {};\n\t\t\t}\n\t\t\treturn upgradeLibrary.tiddlers[title];\n\t\t};\n\n\t// Go through all the incoming tiddlers\n\t$tw.utils.each(titles,function(title) {\n\t\tvar incomingTiddler = tiddlers[title];\n\t\t// Check if we're dealing with a plugin\n\t\tif(incomingTiddler &amp;&amp; incomingTiddler[\"plugin-type\"]) {\n\t\t\t// Check whether the plugin contains JS modules\n\t\t\tvar requiresReload = wiki.doesPluginInfoRequireReload(JSON.parse(incomingTiddler.text)) ? (wiki.getTiddlerText(\"$:/language/ControlPanel/Plugins/PluginWillRequireReload\") + \" \") : \"\";\n\t\t\tmessages[title] = requiresReload;\n\t\t\tif(incomingTiddler.version) {\n\t\t\t\t// Upgrade the incoming plugin if it is in the upgrade library\n\t\t\t\tvar libraryTiddler = getLibraryTiddler(title);\n\t\t\t\tif(libraryTiddler &amp;&amp; libraryTiddler[\"plugin-type\"] &amp;&amp; libraryTiddler.version) {\n\t\t\t\t\ttiddlers[title] = libraryTiddler;\n\t\t\t\t\tmessages[title] = requiresReload + $tw.language.getString(\"Import/Upgrader/Plugins/Upgraded\",{variables: {incoming: incomingTiddler.version, upgraded: libraryTiddler.version}});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Suppress the incoming plugin if it is older than the currently installed one\n\t\t\t\tvar existingTiddler = wiki.getTiddler(title);\n\t\t\t\tif(existingTiddler &amp;&amp; existingTiddler.hasField(\"plugin-type\") &amp;&amp; existingTiddler.hasField(\"version\")) {\n\t\t\t\t\t// Reject the incoming plugin by blanking all its fields\n\t\t\t\t\tif($tw.utils.checkVersions(existingTiddler.fields.version,incomingTiddler.version)) {\n\t\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\t\tmessages[title] = $tw.language.getString(\"Import/Upgrader/Plugins/Suppressed/Version\",{variables: {incoming: incomingTiddler.version, existing: existingTiddler.fields.version}});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Check whether the plugin is on the blocked list\n\t\t\tvar blockInfo = BLOCKED_PLUGINS[title];\n\t\t\tif(blockInfo) {\n\t\t\t\tif(blockInfo.versions.indexOf(\"*\") !== -1 || (incomingTiddler.version &amp;&amp; blockInfo.versions.indexOf(incomingTiddler.version) !== -1)) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\"Import/Upgrader/Plugins/Suppressed/Incompatible\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "upgrader"
        },
        "$:/core/modules/upgraders/system.js": {
            "title": "$:/core/modules/upgraders/system.js",
            "text": "/*\\\ntitle: $:/core/modules/upgraders/system.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that suppresses certain system tiddlers that shouldn't be imported\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar DONT_IMPORT_LIST = [\"$:/StoryList\",\"$:/HistoryList\"],\n\tDONT_IMPORT_PREFIX_LIST = [\"$:/temp/\",\"$:/state/\",\"$:/Import\"],\n\tWARN_IMPORT_PREFIX_LIST = [\"$:/core/modules/\"];\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {},\n\t\tshowAlert = false;\n\t// Check for tiddlers on our list\n\t$tw.utils.each(titles,function(title) {\n\t\tif(DONT_IMPORT_LIST.indexOf(title) !== -1) {\n\t\t\ttiddlers[title] = Object.create(null);\n\t\t\tmessages[title] = $tw.language.getString(\"Import/Upgrader/System/Suppressed\");\n\t\t} else {\n\t\t\tfor(var t=0; t&lt;DONT_IMPORT_PREFIX_LIST.length; t++) {\n\t\t\t\tvar prefix = DONT_IMPORT_PREFIX_LIST[t];\n\t\t\t\tif(title.substr(0,prefix.length) === prefix) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\"Import/Upgrader/State/Suppressed\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(var t=0; t&lt;WARN_IMPORT_PREFIX_LIST.length; t++) {\n\t\t\t\tvar prefix = WARN_IMPORT_PREFIX_LIST[t];\n\t\t\t\tif(title.substr(0,prefix.length) === prefix &amp;&amp; wiki.isShadowTiddler(title)) {\n\t\t\t\t\tshowAlert = true;\n\t\t\t\t\tmessages[title] = $tw.language.getString(\"Import/Upgrader/System/Warning\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tif(showAlert) {\n\t\tvar logger = new $tw.utils.Logger(\"import\");\n\t\tlogger.alert($tw.language.getString(\"Import/Upgrader/System/Alert\"));\n\t}\n\treturn messages;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "upgrader"
        },
        "$:/core/modules/upgraders/themetweaks.js": {
            "title": "$:/core/modules/upgraders/themetweaks.js",
            "text": "/*\\\ntitle: $:/core/modules/upgraders/themetweaks.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that handles the change in theme tweak storage introduced in 5.0.14-beta.\n\nPreviously, theme tweaks were stored in two data tiddlers:\n\n* $:/themes/tiddlywiki/vanilla/metrics\n* $:/themes/tiddlywiki/vanilla/settings\n\nNow, each tweak is stored in its own separate tiddler.\n\nThis upgrader copies any values from the old format to the new. The old data tiddlers are not deleted in case they have been used to store additional indexes.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar MAPPINGS = {\n\t\"$:/themes/tiddlywiki/vanilla/metrics\": {\n\t\t\"fontsize\": \"$:/themes/tiddlywiki/vanilla/metrics/fontsize\",\n\t\t\"lineheight\": \"$:/themes/tiddlywiki/vanilla/metrics/lineheight\",\n\t\t\"storyleft\": \"$:/themes/tiddlywiki/vanilla/metrics/storyleft\",\n\t\t\"storytop\": \"$:/themes/tiddlywiki/vanilla/metrics/storytop\",\n\t\t\"storyright\": \"$:/themes/tiddlywiki/vanilla/metrics/storyright\",\n\t\t\"storywidth\": \"$:/themes/tiddlywiki/vanilla/metrics/storywidth\",\n\t\t\"tiddlerwidth\": \"$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth\"\n\t},\n\t\"$:/themes/tiddlywiki/vanilla/settings\": {\n\t\t\"fontfamily\": \"$:/themes/tiddlywiki/vanilla/settings/fontfamily\"\n\t}\n};\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {};\n\t// Check for tiddlers on our list\n\t$tw.utils.each(titles,function(title) {\n\t\tvar mapping = MAPPINGS[title];\n\t\tif(mapping) {\n\t\t\tvar tiddler = new $tw.Tiddler(tiddlers[title]),\n\t\t\t\ttiddlerData = wiki.getTiddlerDataCached(tiddler,{});\n\t\t\tfor(var index in mapping) {\n\t\t\t\tvar mappedTitle = mapping[index];\n\t\t\t\tif(!tiddlers[mappedTitle] || tiddlers[mappedTitle].title !== mappedTitle) {\n\t\t\t\t\ttiddlers[mappedTitle] = {\n\t\t\t\t\t\ttitle: mappedTitle,\n\t\t\t\t\t\ttext: tiddlerData[index]\n\t\t\t\t\t};\n\t\t\t\t\tmessages[mappedTitle] = $tw.language.getString(\"Import/Upgrader/ThemeTweaks/Created\",{variables: {\n\t\t\t\t\t\tfrom: title + \"##\" + index\n\t\t\t\t\t}});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "upgrader"
        },
        "$:/core/modules/utils/base64-utf8/base64-utf8.module.js": {
            "text": "(function(){// From https://gist.github.com/Nijikokun/5192472\n//\n// UTF8 Module\n//\n// Cleaner and modularized utf-8 encoding and decoding library for javascript.\n//\n// copyright: MIT\n// author: Nijiko Yonskai, @nijikokun, nijikokun@gmail.com\n!function(r,e,o,t){void 0!==o.module&amp;&amp;o.module.exports?o.module.exports=e.apply(o):void 0!==o.define&amp;&amp;\"function\"===o.define&amp;&amp;o.define.amd?define(\"utf8\",[],e):o.utf8=e.apply(o)}(0,function(){return{encode:function(r){if(\"string\"!=typeof r)return r;r=r.replace(/\\r\\n/g,\"\\n\");for(var e,o=\"\",t=0;t&lt;r.length;t++)if((e=r.charCodeAt(t))&lt;128)o+=String.fromCharCode(e);else if(e&gt;127&amp;&amp;e&lt;2048)o+=String.fromCharCode(e&gt;&gt;6|192),o+=String.fromCharCode(63&amp;e|128);else if(e&gt;55295&amp;&amp;e&lt;57344&amp;&amp;r.length&gt;t+1){var i=e,n=r.charCodeAt(t+1);t++;var d=65536+(i-55296&lt;&lt;10|n-56320);o+=String.fromCharCode(d&gt;&gt;18|240),o+=String.fromCharCode(d&gt;&gt;12&amp;63|128),o+=String.fromCharCode(d&gt;&gt;6&amp;63|128),o+=String.fromCharCode(63&amp;d|128)}else o+=String.fromCharCode(e&gt;&gt;12|224),o+=String.fromCharCode(e&gt;&gt;6&amp;63|128),o+=String.fromCharCode(63&amp;e|128);return o},decode:function(r){if(\"string\"!=typeof r)return r;for(var e=\"\",o=0,t=0;o&lt;r.length;)if((t=r.charCodeAt(o))&lt;128)e+=String.fromCharCode(t),o++;else if(t&gt;191&amp;&amp;t&lt;224)e+=String.fromCharCode((31&amp;t)&lt;&lt;6|63&amp;r.charCodeAt(o+1)),o+=2;else if(t&gt;223&amp;&amp;t&lt;240)e+=String.fromCharCode((15&amp;t)&lt;&lt;12|(63&amp;r.charCodeAt(o+1))&lt;&lt;6|63&amp;r.charCodeAt(o+2)),o+=3;else{var i=(7&amp;t)&lt;&lt;18|(63&amp;r.charCodeAt(o+1))&lt;&lt;12|(63&amp;r.charCodeAt(o+2))&lt;&lt;6|63&amp;r.charCodeAt(o+3);e+=String.fromCharCode(55296+(i-65536&gt;&gt;10))+String.fromCharCode(56320+(i-65536&amp;1023)),o+=4}return e}}},this),function(r,e,o,t){if(void 0!==o.module&amp;&amp;o.module.exports){if(t&amp;&amp;o.require)for(var i=0;i&lt;t.length;i++)o[t[i]]=o.require(t[i]);o.module.exports=e.apply(o)}else void 0!==o.define&amp;&amp;\"function\"===o.define&amp;&amp;o.define.amd?define(\"base64\",t||[],e):o.base64=e.apply(o)}(0,function(r){var e=r||this.utf8,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";return{encode:function(r){if(void 0===e)throw{error:\"MissingMethod\",message:\"UTF8 Module is missing.\"};if(\"string\"!=typeof r)return r;r=e.encode(r);for(var t,i,n,d,f,a,h,C=\"\",c=0;c&lt;r.length;)d=(t=r.charCodeAt(c++))&gt;&gt;2,f=(3&amp;t)&lt;&lt;4|(i=r.charCodeAt(c++))&gt;&gt;4,a=(15&amp;i)&lt;&lt;2|(n=r.charCodeAt(c++))&gt;&gt;6,h=63&amp;n,isNaN(i)?a=h=64:isNaN(n)&amp;&amp;(h=64),C+=o.charAt(d)+o.charAt(f)+o.charAt(a)+o.charAt(h);return C},decode:function(r){if(void 0===e)throw{error:\"MissingMethod\",message:\"UTF8 Module is missing.\"};if(\"string\"!=typeof r)return r;r=r.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");for(var t,i,n,d,f,a,h=\"\",C=0;C&lt;r.length;)t=o.indexOf(r.charAt(C++))&lt;&lt;2|(d=o.indexOf(r.charAt(C++)))&gt;&gt;4,i=(15&amp;d)&lt;&lt;4|(f=o.indexOf(r.charAt(C++)))&gt;&gt;2,n=(3&amp;f)&lt;&lt;6|(a=o.indexOf(r.charAt(C++))),h+=String.fromCharCode(t),64!=f&amp;&amp;(h+=String.fromCharCode(i)),64!=a&amp;&amp;(h+=String.fromCharCode(n));return e.decode(h)}}},this,[\"utf8\"]);}).call(exports);",
            "type": "application/javascript",
            "title": "$:/core/modules/utils/base64-utf8/base64-utf8.module.js",
            "module-type": "library"
        },
        "$:/core/modules/utils/crypto.js": {
            "title": "$:/core/modules/utils/crypto.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/crypto.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions related to crypto.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nLook for an encrypted store area in the text of a TiddlyWiki file\n*/\nexports.extractEncryptedStoreArea = function(text) {\n\tvar encryptedStoreAreaStartMarker = \"&lt;pre id=\\\"encryptedStoreArea\\\" type=\\\"text/plain\\\" style=\\\"display:none;\\\"&gt;\",\n\t\tencryptedStoreAreaStart = text.indexOf(encryptedStoreAreaStartMarker);\n\tif(encryptedStoreAreaStart !== -1) {\n\t\tvar encryptedStoreAreaEnd = text.indexOf(\"&lt;/pre&gt;\",encryptedStoreAreaStart);\n\t\tif(encryptedStoreAreaEnd !== -1) {\n\t\t\treturn $tw.utils.htmlDecode(text.substring(encryptedStoreAreaStart + encryptedStoreAreaStartMarker.length,encryptedStoreAreaEnd-1));\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nAttempt to extract the tiddlers from an encrypted store area using the current password. If the password is not provided then the password in the password store will be used\n*/\nexports.decryptStoreArea = function(encryptedStoreArea,password) {\n\tvar decryptedText = $tw.crypto.decrypt(encryptedStoreArea,password);\n\tif(decryptedText) {\n\t\tvar json = JSON.parse(decryptedText),\n\t\t\ttiddlers = [];\n\t\tfor(var title in json) {\n\t\t\tif(title !== \"$:/isEncrypted\") {\n\t\t\t\ttiddlers.push(json[title]);\n\t\t\t}\n\t\t}\n\t\treturn tiddlers;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n\n/*\nAttempt to extract the tiddlers from an encrypted store area using the current password. If that fails, the user is prompted for a password.\nencryptedStoreArea: text of the TiddlyWiki encrypted store area\ncallback: function(tiddlers) called with the array of decrypted tiddlers\n\nThe following configuration settings are supported:\n\n$tw.config.usePasswordVault: causes any password entered by the user to also be put into the system password vault\n*/\nexports.decryptStoreAreaInteractive = function(encryptedStoreArea,callback,options) {\n\t// Try to decrypt with the current password\n\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea);\n\tif(tiddlers) {\n\t\tcallback(tiddlers);\n\t} else {\n\t\t// Prompt for a new password and keep trying\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: \"Enter a password to decrypt the imported TiddlyWiki\",\n\t\t\tnoUserName: true,\n\t\t\tcanCancel: true,\n\t\t\tsubmitText: \"Decrypt\",\n\t\t\tcallback: function(data) {\n\t\t\t\t// Exit if the user cancelled\n\t\t\t\tif(!data) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Attempt to decrypt the tiddlers\n\t\t\t\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea,data.password);\n\t\t\t\tif(tiddlers) {\n\t\t\t\t\tif($tw.config.usePasswordVault) {\n\t\t\t\t\t\t$tw.crypto.setPassword(data.password);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(tiddlers);\n\t\t\t\t\t// Exit and remove the password prompt\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\t// We didn't decrypt everything, so continue to prompt for password\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/csv.js": {
            "title": "$:/core/modules/utils/csv.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/csv.js\ntype: application/javascript\nmodule-type: utils\n\nA barebones CSV parser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nParse a CSV string with a header row and return an array of hashmaps.\n*/\nexports.parseCsvStringWithHeader = function(text,options) {\n\toptions = options || {};\n\tvar separator = options.separator || \",\",\n\t\trows = text.split(/\\r?\\n/mg).map(function(row) {\n\t\t\treturn $tw.utils.trim(row);\n\t\t}).filter(function(row) {\n\t\t\treturn row !== \"\";\n\t\t});\n\tif(rows.length &lt; 1) {\n\t\treturn \"Missing header row\";\n\t}\n\tvar headings = rows[0].split(separator),\n\t\tresults = [];\n\tfor(var row=1; row&lt;rows.length; row++) {\n\t\tvar columns = rows[row].split(separator),\n\t\t\tcolumnResult = Object.create(null);\n\t\tif(columns.length !== headings.length) {\n\t\t\treturn \"Malformed CSV row '\" + rows[row] + \"'\";\n\t\t}\n\t\tfor(var column=0; column&lt;columns.length; column++) {\n\t\t\tvar columnName = headings[column];\n\t\t\tcolumnResult[columnName] = $tw.utils.trim(columns[column] || \"\");\n\t\t}\n\t\tresults.push(columnResult);\t\t\t\n\t}\n\treturn results;\n}\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/diff-match-patch/diff_match_patch.js": {
            "text": "(function(){function diff_match_patch(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;\ndiff_match_patch.prototype.diff_main=function(a,b,c,d){\"undefined\"==typeof d&amp;&amp;(d=0&gt;=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1E3*this.Diff_Timeout);if(null==a||null==b)throw Error(\"Null input. (diff_main)\");if(a==b)return a?[[DIFF_EQUAL,a]]:[];\"undefined\"==typeof c&amp;&amp;(c=!0);var e=c,f=this.diff_commonPrefix(a,b);c=a.substring(0,f);a=a.substring(f);b=b.substring(f);f=this.diff_commonSuffix(a,b);var g=a.substring(a.length-f);a=a.substring(0,a.length-f);b=b.substring(0,b.length-f);a=this.diff_compute_(a,\nb,e,d);c&amp;&amp;a.unshift([DIFF_EQUAL,c]);g&amp;&amp;a.push([DIFF_EQUAL,g]);this.diff_cleanupMerge(a);return a};\ndiff_match_patch.prototype.diff_compute_=function(a,b,c,d){if(!a)return[[DIFF_INSERT,b]];if(!b)return[[DIFF_DELETE,a]];var e=a.length&gt;b.length?a:b,f=a.length&gt;b.length?b:a,g=e.indexOf(f);return-1!=g?(c=[[DIFF_INSERT,e.substring(0,g)],[DIFF_EQUAL,f],[DIFF_INSERT,e.substring(g+f.length)]],a.length&gt;b.length&amp;&amp;(c[0][0]=c[2][0]=DIFF_DELETE),c):1==f.length?[[DIFF_DELETE,a],[DIFF_INSERT,b]]:(e=this.diff_halfMatch_(a,b))?(b=e[1],f=e[3],a=e[4],e=this.diff_main(e[0],e[2],c,d),c=this.diff_main(b,f,c,d),e.concat([[DIFF_EQUAL,\na]],c)):c&amp;&amp;100&lt;a.length&amp;&amp;100&lt;b.length?this.diff_lineMode_(a,b,d):this.diff_bisect_(a,b,d)};\ndiff_match_patch.prototype.diff_lineMode_=function(a,b,c){var d=this.diff_linesToChars_(a,b);a=d.chars1;b=d.chars2;d=d.lineArray;a=this.diff_main(a,b,!1,c);this.diff_charsToLines_(a,d);this.diff_cleanupSemantic(a);a.push([DIFF_EQUAL,\"\"]);for(var e=d=b=0,f=\"\",g=\"\";b&lt;a.length;){switch(a[b][0]){case DIFF_INSERT:e++;g+=a[b][1];break;case DIFF_DELETE:d++;f+=a[b][1];break;case DIFF_EQUAL:if(1&lt;=d&amp;&amp;1&lt;=e){a.splice(b-d-e,d+e);b=b-d-e;d=this.diff_main(f,g,!1,c);for(e=d.length-1;0&lt;=e;e--)a.splice(b,0,d[e]);b+=\nd.length}d=e=0;g=f=\"\"}b++}a.pop();return a};\ndiff_match_patch.prototype.diff_bisect_=function(a,b,c){for(var d=a.length,e=b.length,f=Math.ceil((d+e)/2),g=2*f,h=Array(g),l=Array(g),k=0;k&lt;g;k++)h[k]=-1,l[k]=-1;h[f+1]=0;l[f+1]=0;k=d-e;for(var m=0!=k%2,p=0,x=0,w=0,q=0,t=0;t&lt;f&amp;&amp;!((new Date).getTime()&gt;c);t++){for(var v=-t+p;v&lt;=t-x;v+=2){var n=f+v;var r=v==-t||v!=t&amp;&amp;h[n-1]&lt;h[n+1]?h[n+1]:h[n-1]+1;for(var y=r-v;r&lt;d&amp;&amp;y&lt;e&amp;&amp;a.charAt(r)==b.charAt(y);)r++,y++;h[n]=r;if(r&gt;d)x+=2;else if(y&gt;e)p+=2;else if(m&amp;&amp;(n=f+k-v,0&lt;=n&amp;&amp;n&lt;g&amp;&amp;-1!=l[n])){var u=d-l[n];if(r&gt;=\nu)return this.diff_bisectSplit_(a,b,r,y,c)}}for(v=-t+w;v&lt;=t-q;v+=2){n=f+v;u=v==-t||v!=t&amp;&amp;l[n-1]&lt;l[n+1]?l[n+1]:l[n-1]+1;for(r=u-v;u&lt;d&amp;&amp;r&lt;e&amp;&amp;a.charAt(d-u-1)==b.charAt(e-r-1);)u++,r++;l[n]=u;if(u&gt;d)q+=2;else if(r&gt;e)w+=2;else if(!m&amp;&amp;(n=f+k-v,0&lt;=n&amp;&amp;n&lt;g&amp;&amp;-1!=h[n]&amp;&amp;(r=h[n],y=f+r-n,u=d-u,r&gt;=u)))return this.diff_bisectSplit_(a,b,r,y,c)}}return[[DIFF_DELETE,a],[DIFF_INSERT,b]]};\ndiff_match_patch.prototype.diff_bisectSplit_=function(a,b,c,d,e){var f=a.substring(0,c),g=b.substring(0,d);a=a.substring(c);b=b.substring(d);f=this.diff_main(f,g,!1,e);e=this.diff_main(a,b,!1,e);return f.concat(e)};\ndiff_match_patch.prototype.diff_linesToChars_=function(a,b){function c(a){for(var b=\"\",c=0,f=-1,g=d.length;f&lt;a.length-1;){f=a.indexOf(\"\\n\",c);-1==f&amp;&amp;(f=a.length-1);var h=a.substring(c,f+1);c=f+1;(e.hasOwnProperty?e.hasOwnProperty(h):void 0!==e[h])?b+=String.fromCharCode(e[h]):(b+=String.fromCharCode(g),e[h]=g,d[g++]=h)}return b}var d=[],e={};d[0]=\"\";var f=c(a),g=c(b);return{chars1:f,chars2:g,lineArray:d}};\ndiff_match_patch.prototype.diff_charsToLines_=function(a,b){for(var c=0;c&lt;a.length;c++){for(var d=a[c][1],e=[],f=0;f&lt;d.length;f++)e[f]=b[d.charCodeAt(f)];a[c][1]=e.join(\"\")}};diff_match_patch.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c&lt;e;)a.substring(f,e)==b.substring(f,e)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e};\ndiff_match_patch.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c&lt;e;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e};\ndiff_match_patch.prototype.diff_commonOverlap_=function(a,b){var c=a.length,d=b.length;if(0==c||0==d)return 0;c&gt;d?a=a.substring(c-d):c&lt;d&amp;&amp;(b=b.substring(0,c));c=Math.min(c,d);if(a==b)return c;d=0;for(var e=1;;){var f=a.substring(c-e);f=b.indexOf(f);if(-1==f)return d;e+=f;if(0==f||a.substring(c-e)==b.substring(0,e))d=e,e++}};\ndiff_match_patch.prototype.diff_halfMatch_=function(a,b){function c(a,b,c){for(var d=a.substring(c,c+Math.floor(a.length/4)),e=-1,g=\"\",h,k,l,m;-1!=(e=b.indexOf(d,e+1));){var p=f.diff_commonPrefix(a.substring(c),b.substring(e)),u=f.diff_commonSuffix(a.substring(0,c),b.substring(0,e));g.length&lt;u+p&amp;&amp;(g=b.substring(e-u,e)+b.substring(e,e+p),h=a.substring(0,c-u),k=a.substring(c+p),l=b.substring(0,e-u),m=b.substring(e+p))}return 2*g.length&gt;=a.length?[h,k,l,m,g]:null}if(0&gt;=this.Diff_Timeout)return null;\nvar d=a.length&gt;b.length?a:b,e=a.length&gt;b.length?b:a;if(4&gt;d.length||2*e.length&lt;d.length)return null;var f=this,g=c(d,e,Math.ceil(d.length/4));d=c(d,e,Math.ceil(d.length/2));if(g||d)g=d?g?g[4].length&gt;d[4].length?g:d:d:g;else return null;if(a.length&gt;b.length){d=g[0];e=g[1];var h=g[2];var l=g[3]}else h=g[0],l=g[1],d=g[2],e=g[3];return[d,e,h,l,g[4]]};\ndiff_match_patch.prototype.diff_cleanupSemantic=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=0,h=0,l=0,k=0;f&lt;a.length;)a[f][0]==DIFF_EQUAL?(c[d++]=f,g=l,h=k,k=l=0,e=a[f][1]):(a[f][0]==DIFF_INSERT?l+=a[f][1].length:k+=a[f][1].length,e&amp;&amp;e.length&lt;=Math.max(g,h)&amp;&amp;e.length&lt;=Math.max(l,k)&amp;&amp;(a.splice(c[d-1],0,[DIFF_DELETE,e]),a[c[d-1]+1][0]=DIFF_INSERT,d--,d--,f=0&lt;d?c[d-1]:-1,k=l=h=g=0,e=null,b=!0)),f++;b&amp;&amp;this.diff_cleanupMerge(a);this.diff_cleanupSemanticLossless(a);for(f=1;f&lt;a.length;){if(a[f-1][0]==\nDIFF_DELETE&amp;&amp;a[f][0]==DIFF_INSERT){b=a[f-1][1];c=a[f][1];d=this.diff_commonOverlap_(b,c);e=this.diff_commonOverlap_(c,b);if(d&gt;=e){if(d&gt;=b.length/2||d&gt;=c.length/2)a.splice(f,0,[DIFF_EQUAL,c.substring(0,d)]),a[f-1][1]=b.substring(0,b.length-d),a[f+1][1]=c.substring(d),f++}else if(e&gt;=b.length/2||e&gt;=c.length/2)a.splice(f,0,[DIFF_EQUAL,b.substring(0,e)]),a[f-1][0]=DIFF_INSERT,a[f-1][1]=c.substring(0,c.length-e),a[f+1][0]=DIFF_DELETE,a[f+1][1]=b.substring(e),f++;f++}f++}};\ndiff_match_patch.prototype.diff_cleanupSemanticLossless=function(a){function b(a,b){if(!a||!b)return 6;var c=a.charAt(a.length-1),d=b.charAt(0),e=c.match(diff_match_patch.nonAlphaNumericRegex_),f=d.match(diff_match_patch.nonAlphaNumericRegex_),g=e&amp;&amp;c.match(diff_match_patch.whitespaceRegex_),h=f&amp;&amp;d.match(diff_match_patch.whitespaceRegex_);c=g&amp;&amp;c.match(diff_match_patch.linebreakRegex_);d=h&amp;&amp;d.match(diff_match_patch.linebreakRegex_);var k=c&amp;&amp;a.match(diff_match_patch.blanklineEndRegex_),l=d&amp;&amp;b.match(diff_match_patch.blanklineStartRegex_);\nreturn k||l?5:c||d?4:e&amp;&amp;!g&amp;&amp;h?3:g||h?2:e||f?1:0}for(var c=1;c&lt;a.length-1;){if(a[c-1][0]==DIFF_EQUAL&amp;&amp;a[c+1][0]==DIFF_EQUAL){var d=a[c-1][1],e=a[c][1],f=a[c+1][1],g=this.diff_commonSuffix(d,e);if(g){var h=e.substring(e.length-g);d=d.substring(0,d.length-g);e=h+e.substring(0,e.length-g);f=h+f}g=d;h=e;for(var l=f,k=b(d,e)+b(e,f);e.charAt(0)===f.charAt(0);){d+=e.charAt(0);e=e.substring(1)+f.charAt(0);f=f.substring(1);var m=b(d,e)+b(e,f);m&gt;=k&amp;&amp;(k=m,g=d,h=e,l=f)}a[c-1][1]!=g&amp;&amp;(g?a[c-1][1]=g:(a.splice(c-\n1,1),c--),a[c][1]=h,l?a[c+1][1]=l:(a.splice(c+1,1),c--))}c++}};diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;diff_match_patch.whitespaceRegex_=/\\s/;diff_match_patch.linebreakRegex_=/[\\r\\n]/;diff_match_patch.blanklineEndRegex_=/\\n\\r?\\n$/;diff_match_patch.blanklineStartRegex_=/^\\r?\\n\\r?\\n/;\ndiff_match_patch.prototype.diff_cleanupEfficiency=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=!1,h=!1,l=!1,k=!1;f&lt;a.length;)a[f][0]==DIFF_EQUAL?(a[f][1].length&lt;this.Diff_EditCost&amp;&amp;(l||k)?(c[d++]=f,g=l,h=k,e=a[f][1]):(d=0,e=null),l=k=!1):(a[f][0]==DIFF_DELETE?k=!0:l=!0,e&amp;&amp;(g&amp;&amp;h&amp;&amp;l&amp;&amp;k||e.length&lt;this.Diff_EditCost/2&amp;&amp;3==g+h+l+k)&amp;&amp;(a.splice(c[d-1],0,[DIFF_DELETE,e]),a[c[d-1]+1][0]=DIFF_INSERT,d--,e=null,g&amp;&amp;h?(l=k=!0,d=0):(d--,f=0&lt;d?c[d-1]:-1,l=k=!1),b=!0)),f++;b&amp;&amp;this.diff_cleanupMerge(a)};\ndiff_match_patch.prototype.diff_cleanupMerge=function(a){a.push([DIFF_EQUAL,\"\"]);for(var b=0,c=0,d=0,e=\"\",f=\"\",g;b&lt;a.length;)switch(a[b][0]){case DIFF_INSERT:d++;f+=a[b][1];b++;break;case DIFF_DELETE:c++;e+=a[b][1];b++;break;case DIFF_EQUAL:1&lt;c+d?(0!==c&amp;&amp;0!==d&amp;&amp;(g=this.diff_commonPrefix(f,e),0!==g&amp;&amp;(0&lt;b-c-d&amp;&amp;a[b-c-d-1][0]==DIFF_EQUAL?a[b-c-d-1][1]+=f.substring(0,g):(a.splice(0,0,[DIFF_EQUAL,f.substring(0,g)]),b++),f=f.substring(g),e=e.substring(g)),g=this.diff_commonSuffix(f,e),0!==g&amp;&amp;(a[b][1]=f.substring(f.length-\ng)+a[b][1],f=f.substring(0,f.length-g),e=e.substring(0,e.length-g))),0===c?a.splice(b-d,c+d,[DIFF_INSERT,f]):0===d?a.splice(b-c,c+d,[DIFF_DELETE,e]):a.splice(b-c-d,c+d,[DIFF_DELETE,e],[DIFF_INSERT,f]),b=b-c-d+(c?1:0)+(d?1:0)+1):0!==b&amp;&amp;a[b-1][0]==DIFF_EQUAL?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++,c=d=0,f=e=\"\"}\"\"===a[a.length-1][1]&amp;&amp;a.pop();c=!1;for(b=1;b&lt;a.length-1;)a[b-1][0]==DIFF_EQUAL&amp;&amp;a[b+1][0]==DIFF_EQUAL&amp;&amp;(a[b][1].substring(a[b][1].length-a[b-1][1].length)==a[b-1][1]?(a[b][1]=a[b-1][1]+a[b][1].substring(0,\na[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),c=!0):a[b][1].substring(0,a[b+1][1].length)==a[b+1][1]&amp;&amp;(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),c=!0)),b++;c&amp;&amp;this.diff_cleanupMerge(a)};\ndiff_match_patch.prototype.diff_xIndex=function(a,b){var c=0,d=0,e=0,f=0,g;for(g=0;g&lt;a.length;g++){a[g][0]!==DIFF_INSERT&amp;&amp;(c+=a[g][1].length);a[g][0]!==DIFF_DELETE&amp;&amp;(d+=a[g][1].length);if(c&gt;b)break;e=c;f=d}return a.length!=g&amp;&amp;a[g][0]===DIFF_DELETE?f:f+(b-e)};\ndiff_match_patch.prototype.diff_prettyHtml=function(a){for(var b=[],c=/&amp;/g,d=/&lt;/g,e=/&gt;/g,f=/\\n/g,g=0;g&lt;a.length;g++){var h=a[g][0],l=a[g][1].replace(c,\"&amp;amp;\").replace(d,\"&amp;lt;\").replace(e,\"&amp;gt;\").replace(f,\"&amp;para;&lt;br&gt;\");switch(h){case DIFF_INSERT:b[g]='&lt;ins style=\"background:#e6ffe6;\"&gt;'+l+\"&lt;/ins&gt;\";break;case DIFF_DELETE:b[g]='&lt;del style=\"background:#ffe6e6;\"&gt;'+l+\"&lt;/del&gt;\";break;case DIFF_EQUAL:b[g]=\"&lt;span&gt;\"+l+\"&lt;/span&gt;\"}}return b.join(\"\")};\ndiff_match_patch.prototype.diff_text1=function(a){for(var b=[],c=0;c&lt;a.length;c++)a[c][0]!==DIFF_INSERT&amp;&amp;(b[c]=a[c][1]);return b.join(\"\")};diff_match_patch.prototype.diff_text2=function(a){for(var b=[],c=0;c&lt;a.length;c++)a[c][0]!==DIFF_DELETE&amp;&amp;(b[c]=a[c][1]);return b.join(\"\")};\ndiff_match_patch.prototype.diff_levenshtein=function(a){for(var b=0,c=0,d=0,e=0;e&lt;a.length;e++){var f=a[e][1];switch(a[e][0]){case DIFF_INSERT:c+=f.length;break;case DIFF_DELETE:d+=f.length;break;case DIFF_EQUAL:b+=Math.max(c,d),d=c=0}}return b+=Math.max(c,d)};\ndiff_match_patch.prototype.diff_toDelta=function(a){for(var b=[],c=0;c&lt;a.length;c++)switch(a[c][0]){case DIFF_INSERT:b[c]=\"+\"+encodeURI(a[c][1]);break;case DIFF_DELETE:b[c]=\"-\"+a[c][1].length;break;case DIFF_EQUAL:b[c]=\"=\"+a[c][1].length}return b.join(\"\\t\").replace(/%20/g,\" \")};\ndiff_match_patch.prototype.diff_fromDelta=function(a,b){for(var c=[],d=0,e=0,f=b.split(/\\t/g),g=0;g&lt;f.length;g++){var h=f[g].substring(1);switch(f[g].charAt(0)){case \"+\":try{c[d++]=[DIFF_INSERT,decodeURI(h)]}catch(k){throw Error(\"Illegal escape in diff_fromDelta: \"+h);}break;case \"-\":case \"=\":var l=parseInt(h,10);if(isNaN(l)||0&gt;l)throw Error(\"Invalid number in diff_fromDelta: \"+h);h=a.substring(e,e+=l);\"=\"==f[g].charAt(0)?c[d++]=[DIFF_EQUAL,h]:c[d++]=[DIFF_DELETE,h];break;default:if(f[g])throw Error(\"Invalid diff operation in diff_fromDelta: \"+\nf[g]);}}if(e!=a.length)throw Error(\"Delta length (\"+e+\") does not equal source text length (\"+a.length+\").\");return c};diff_match_patch.prototype.match_main=function(a,b,c){if(null==a||null==b||null==c)throw Error(\"Null input. (match_main)\");c=Math.max(0,Math.min(c,a.length));return a==b?0:a.length?a.substring(c,c+b.length)==b?c:this.match_bitap_(a,b,c):-1};\ndiff_match_patch.prototype.match_bitap_=function(a,b,c){function d(a,d){var e=a/b.length,g=Math.abs(c-d);return f.Match_Distance?e+g/f.Match_Distance:g?1:e}if(b.length&gt;this.Match_MaxBits)throw Error(\"Pattern too long for this browser.\");var e=this.match_alphabet_(b),f=this,g=this.Match_Threshold,h=a.indexOf(b,c);-1!=h&amp;&amp;(g=Math.min(d(0,h),g),h=a.lastIndexOf(b,c+b.length),-1!=h&amp;&amp;(g=Math.min(d(0,h),g)));var l=1&lt;&lt;b.length-1;h=-1;for(var k,m,p=b.length+a.length,x,w=0;w&lt;b.length;w++){k=0;for(m=p;k&lt;m;)d(w,\nc+m)&lt;=g?k=m:p=m,m=Math.floor((p-k)/2+k);p=m;k=Math.max(1,c-m+1);var q=Math.min(c+m,a.length)+b.length;m=Array(q+2);for(m[q+1]=(1&lt;&lt;w)-1;q&gt;=k;q--){var t=e[a.charAt(q-1)];m[q]=0===w?(m[q+1]&lt;&lt;1|1)&amp;t:(m[q+1]&lt;&lt;1|1)&amp;t|(x[q+1]|x[q])&lt;&lt;1|1|x[q+1];if(m[q]&amp;l&amp;&amp;(t=d(w,q-1),t&lt;=g))if(g=t,h=q-1,h&gt;c)k=Math.max(1,2*c-h);else break}if(d(w+1,c)&gt;g)break;x=m}return h};\ndiff_match_patch.prototype.match_alphabet_=function(a){for(var b={},c=0;c&lt;a.length;c++)b[a.charAt(c)]=0;for(c=0;c&lt;a.length;c++)b[a.charAt(c)]|=1&lt;&lt;a.length-c-1;return b};\ndiff_match_patch.prototype.patch_addContext_=function(a,b){if(0!=b.length){for(var c=b.substring(a.start2,a.start2+a.length1),d=0;b.indexOf(c)!=b.lastIndexOf(c)&amp;&amp;c.length&lt;this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,c=b.substring(a.start2-d,a.start2+a.length1+d);d+=this.Patch_Margin;(c=b.substring(a.start2-d,a.start2))&amp;&amp;a.diffs.unshift([DIFF_EQUAL,c]);(d=b.substring(a.start2+a.length1,a.start2+a.length1+d))&amp;&amp;a.diffs.push([DIFF_EQUAL,d]);a.start1-=c.length;a.start2-=\nc.length;a.length1+=c.length+d.length;a.length2+=c.length+d.length}};\ndiff_match_patch.prototype.patch_make=function(a,b,c){if(\"string\"==typeof a&amp;&amp;\"string\"==typeof b&amp;&amp;\"undefined\"==typeof c){var d=a;b=this.diff_main(d,b,!0);2&lt;b.length&amp;&amp;(this.diff_cleanupSemantic(b),this.diff_cleanupEfficiency(b))}else if(a&amp;&amp;\"object\"==typeof a&amp;&amp;\"undefined\"==typeof b&amp;&amp;\"undefined\"==typeof c)b=a,d=this.diff_text1(b);else if(\"string\"==typeof a&amp;&amp;b&amp;&amp;\"object\"==typeof b&amp;&amp;\"undefined\"==typeof c)d=a;else if(\"string\"==typeof a&amp;&amp;\"string\"==typeof b&amp;&amp;c&amp;&amp;\"object\"==typeof c)d=a,b=c;else throw Error(\"Unknown call format to patch_make.\");\nif(0===b.length)return[];c=[];a=new diff_match_patch.patch_obj;for(var e=0,f=0,g=0,h=d,l=0;l&lt;b.length;l++){var k=b[l][0],m=b[l][1];e||k===DIFF_EQUAL||(a.start1=f,a.start2=g);switch(k){case DIFF_INSERT:a.diffs[e++]=b[l];a.length2+=m.length;d=d.substring(0,g)+m+d.substring(g);break;case DIFF_DELETE:a.length1+=m.length;a.diffs[e++]=b[l];d=d.substring(0,g)+d.substring(g+m.length);break;case DIFF_EQUAL:m.length&lt;=2*this.Patch_Margin&amp;&amp;e&amp;&amp;b.length!=l+1?(a.diffs[e++]=b[l],a.length1+=m.length,a.length2+=m.length):\nm.length&gt;=2*this.Patch_Margin&amp;&amp;e&amp;&amp;(this.patch_addContext_(a,h),c.push(a),a=new diff_match_patch.patch_obj,e=0,h=d,f=g)}k!==DIFF_INSERT&amp;&amp;(f+=m.length);k!==DIFF_DELETE&amp;&amp;(g+=m.length)}e&amp;&amp;(this.patch_addContext_(a,h),c.push(a));return c};\ndiff_match_patch.prototype.patch_deepCopy=function(a){for(var b=[],c=0;c&lt;a.length;c++){var d=a[c],e=new diff_match_patch.patch_obj;e.diffs=[];for(var f=0;f&lt;d.diffs.length;f++)e.diffs[f]=d.diffs[f].slice();e.start1=d.start1;e.start2=d.start2;e.length1=d.length1;e.length2=d.length2;b[c]=e}return b};\ndiff_match_patch.prototype.patch_apply=function(a,b){if(0==a.length)return[b,[]];a=this.patch_deepCopy(a);var c=this.patch_addPadding(a);b=c+b+c;this.patch_splitMax(a);for(var d=0,e=[],f=0;f&lt;a.length;f++){var g=a[f].start2+d,h=this.diff_text1(a[f].diffs),l=-1;if(h.length&gt;this.Match_MaxBits){var k=this.match_main(b,h.substring(0,this.Match_MaxBits),g);-1!=k&amp;&amp;(l=this.match_main(b,h.substring(h.length-this.Match_MaxBits),g+h.length-this.Match_MaxBits),-1==l||k&gt;=l)&amp;&amp;(k=-1)}else k=this.match_main(b,h,\ng);if(-1==k)e[f]=!1,d-=a[f].length2-a[f].length1;else if(e[f]=!0,d=k-g,g=-1==l?b.substring(k,k+h.length):b.substring(k,l+this.Match_MaxBits),h==g)b=b.substring(0,k)+this.diff_text2(a[f].diffs)+b.substring(k+h.length);else if(g=this.diff_main(h,g,!1),h.length&gt;this.Match_MaxBits&amp;&amp;this.diff_levenshtein(g)/h.length&gt;this.Patch_DeleteThreshold)e[f]=!1;else{this.diff_cleanupSemanticLossless(g);h=0;var m;for(l=0;l&lt;a[f].diffs.length;l++){var p=a[f].diffs[l];p[0]!==DIFF_EQUAL&amp;&amp;(m=this.diff_xIndex(g,h));p[0]===\nDIFF_INSERT?b=b.substring(0,k+m)+p[1]+b.substring(k+m):p[0]===DIFF_DELETE&amp;&amp;(b=b.substring(0,k+m)+b.substring(k+this.diff_xIndex(g,h+p[1].length)));p[0]!==DIFF_DELETE&amp;&amp;(h+=p[1].length)}}}b=b.substring(c.length,b.length-c.length);return[b,e]};\ndiff_match_patch.prototype.patch_addPadding=function(a){for(var b=this.Patch_Margin,c=\"\",d=1;d&lt;=b;d++)c+=String.fromCharCode(d);for(d=0;d&lt;a.length;d++)a[d].start1+=b,a[d].start2+=b;d=a[0];var e=d.diffs;if(0==e.length||e[0][0]!=DIFF_EQUAL)e.unshift([DIFF_EQUAL,c]),d.start1-=b,d.start2-=b,d.length1+=b,d.length2+=b;else if(b&gt;e[0][1].length){var f=b-e[0][1].length;e[0][1]=c.substring(e[0][1].length)+e[0][1];d.start1-=f;d.start2-=f;d.length1+=f;d.length2+=f}d=a[a.length-1];e=d.diffs;0==e.length||e[e.length-\n1][0]!=DIFF_EQUAL?(e.push([DIFF_EQUAL,c]),d.length1+=b,d.length2+=b):b&gt;e[e.length-1][1].length&amp;&amp;(f=b-e[e.length-1][1].length,e[e.length-1][1]+=c.substring(0,f),d.length1+=f,d.length2+=f);return c};\ndiff_match_patch.prototype.patch_splitMax=function(a){for(var b=this.Match_MaxBits,c=0;c&lt;a.length;c++)if(!(a[c].length1&lt;=b)){var d=a[c];a.splice(c--,1);for(var e=d.start1,f=d.start2,g=\"\";0!==d.diffs.length;){var h=new diff_match_patch.patch_obj,l=!0;h.start1=e-g.length;h.start2=f-g.length;\"\"!==g&amp;&amp;(h.length1=h.length2=g.length,h.diffs.push([DIFF_EQUAL,g]));for(;0!==d.diffs.length&amp;&amp;h.length1&lt;b-this.Patch_Margin;){g=d.diffs[0][0];var k=d.diffs[0][1];g===DIFF_INSERT?(h.length2+=k.length,f+=k.length,h.diffs.push(d.diffs.shift()),\nl=!1):g===DIFF_DELETE&amp;&amp;1==h.diffs.length&amp;&amp;h.diffs[0][0]==DIFF_EQUAL&amp;&amp;k.length&gt;2*b?(h.length1+=k.length,e+=k.length,l=!1,h.diffs.push([g,k]),d.diffs.shift()):(k=k.substring(0,b-h.length1-this.Patch_Margin),h.length1+=k.length,e+=k.length,g===DIFF_EQUAL?(h.length2+=k.length,f+=k.length):l=!1,h.diffs.push([g,k]),k==d.diffs[0][1]?d.diffs.shift():d.diffs[0][1]=d.diffs[0][1].substring(k.length))}g=this.diff_text2(h.diffs);g=g.substring(g.length-this.Patch_Margin);k=this.diff_text1(d.diffs).substring(0,\nthis.Patch_Margin);\"\"!==k&amp;&amp;(h.length1+=k.length,h.length2+=k.length,0!==h.diffs.length&amp;&amp;h.diffs[h.diffs.length-1][0]===DIFF_EQUAL?h.diffs[h.diffs.length-1][1]+=k:h.diffs.push([DIFF_EQUAL,k]));l||a.splice(++c,0,h)}}};diff_match_patch.prototype.patch_toText=function(a){for(var b=[],c=0;c&lt;a.length;c++)b[c]=a[c];return b.join(\"\")};\ndiff_match_patch.prototype.patch_fromText=function(a){var b=[];if(!a)return b;a=a.split(\"\\n\");for(var c=0,d=/^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;c&lt;a.length;){var e=a[c].match(d);if(!e)throw Error(\"Invalid patch string: \"+a[c]);var f=new diff_match_patch.patch_obj;b.push(f);f.start1=parseInt(e[1],10);\"\"===e[2]?(f.start1--,f.length1=1):\"0\"==e[2]?f.length1=0:(f.start1--,f.length1=parseInt(e[2],10));f.start2=parseInt(e[3],10);\"\"===e[4]?(f.start2--,f.length2=1):\"0\"==e[4]?f.length2=0:(f.start2--,f.length2=\nparseInt(e[4],10));for(c++;c&lt;a.length;){e=a[c].charAt(0);try{var g=decodeURI(a[c].substring(1))}catch(h){throw Error(\"Illegal escape in patch_fromText: \"+g);}if(\"-\"==e)f.diffs.push([DIFF_DELETE,g]);else if(\"+\"==e)f.diffs.push([DIFF_INSERT,g]);else if(\" \"==e)f.diffs.push([DIFF_EQUAL,g]);else if(\"@\"==e)break;else if(\"\"!==e)throw Error('Invalid patch mode \"'+e+'\" in: '+g);c++}}return b};diff_match_patch.patch_obj=function(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0};\ndiff_match_patch.patch_obj.prototype.toString=function(){for(var a=[\"@@ -\"+(0===this.length1?this.start1+\",0\":1==this.length1?this.start1+1:this.start1+1+\",\"+this.length1)+\" +\"+(0===this.length2?this.start2+\",0\":1==this.length2?this.start2+1:this.start2+1+\",\"+this.length2)+\" @@\\n\"],b,c=0;c&lt;this.diffs.length;c++){switch(this.diffs[c][0]){case DIFF_INSERT:b=\"+\";break;case DIFF_DELETE:b=\"-\";break;case DIFF_EQUAL:b=\" \"}a[c+1]=b+encodeURI(this.diffs[c][1])+\"\\n\"}return a.join(\"\").replace(/%20/g,\" \")};\nthis.diff_match_patch=diff_match_patch;this.DIFF_DELETE=DIFF_DELETE;this.DIFF_INSERT=DIFF_INSERT;this.DIFF_EQUAL=DIFF_EQUAL;\n}).call(exports);",
            "type": "application/javascript",
            "title": "$:/core/modules/utils/diff-match-patch/diff_match_patch.js",
            "module-type": "library"
        },
        "$:/core/modules/utils/dom/animations/slide.js": {
            "title": "$:/core/modules/utils/dom/animations/slide.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/animations/slide.js\ntype: application/javascript\nmodule-type: animation\n\nA simple slide animation that varies the height of the element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nfunction slideOpen(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration();\n\t// Get the current height of the domNode\n\tvar computedStyle = window.getComputedStyle(domNode),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrPaddingBottom = parseInt(computedStyle.paddingBottom,10),\n\t\tcurrPaddingTop = parseInt(computedStyle.paddingTop,10),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Reset the margin once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \"none\"},\n\t\t\t{marginBottom: \"\"},\n\t\t\t{marginTop: \"\"},\n\t\t\t{paddingBottom: \"\"},\n\t\t\t{paddingTop: \"\"},\n\t\t\t{height: \"auto\"},\n\t\t\t{opacity: \"\"}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \"none\"},\n\t\t{marginTop: \"0px\"},\n\t\t{marginBottom: \"0px\"},\n\t\t{paddingTop: \"0px\"},\n\t\t{paddingBottom: \"0px\"},\n\t\t{height: \"0px\"},\n\t\t{opacity: \"0\"}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \"margin-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"margin-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"height \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{marginBottom: currMarginBottom + \"px\"},\n\t\t{marginTop: currMarginTop + \"px\"},\n\t\t{paddingBottom: currPaddingBottom + \"px\"},\n\t\t{paddingTop: currPaddingTop + \"px\"},\n\t\t{height: currHeight + \"px\"},\n\t\t{opacity: \"1\"}\n\t]);\n}\n\nfunction slideClosed(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration(),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Clear the properties we've set when the animation is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \"none\"},\n\t\t\t{marginBottom: \"\"},\n\t\t\t{marginTop: \"\"},\n\t\t\t{paddingBottom: \"\"},\n\t\t\t{paddingTop: \"\"},\n\t\t\t{height: \"auto\"},\n\t\t\t{opacity: \"\"}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{height: currHeight + \"px\"},\n\t\t{opacity: \"1\"}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \"margin-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"margin-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"height \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{marginTop: \"0px\"},\n\t\t{marginBottom: \"0px\"},\n\t\t{paddingTop: \"0px\"},\n\t\t{paddingBottom: \"0px\"},\n\t\t{height: \"0px\"},\n\t\t{opacity: \"0\"}\n\t]);\n}\n\nexports.slide = {\n\topen: slideOpen,\n\tclose: slideClosed\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "animation"
        },
        "$:/core/modules/utils/dom/animator.js": {
            "title": "$:/core/modules/utils/dom/animator.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/animator.js\ntype: application/javascript\nmodule-type: utils\n\nOrchestrates animations and transitions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nfunction Animator() {\n\t// Get the registered animation modules\n\tthis.animations = {};\n\t$tw.modules.applyMethods(\"animation\",this.animations);\n}\n\nAnimator.prototype.perform = function(type,domNode,options) {\n\toptions = options || {};\n\t// Find an animation that can handle this type\n\tvar chosenAnimation;\n\t$tw.utils.each(this.animations,function(animation,name) {\n\t\tif($tw.utils.hop(animation,type)) {\n\t\t\tchosenAnimation = animation[type];\n\t\t}\n\t});\n\tif(!chosenAnimation) {\n\t\tchosenAnimation = function(domNode,options) {\n\t\t\tif(options.callback) {\n\t\t\t\toptions.callback();\n\t\t\t}\n\t\t};\n\t}\n\t// Call the animation\n\tchosenAnimation(domNode,options);\n};\n\nexports.Animator = Animator;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/browser.js": {
            "title": "$:/core/modules/utils/dom/browser.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/browser.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser feature detection\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSet style properties of an element\n\telement: dom node\n\tstyles: ordered array of {name: value} pairs\n*/\nexports.setStyle = function(element,styles) {\n\tif(element.nodeType === 1) { // Element.ELEMENT_NODE\n\t\tfor(var t=0; t&lt;styles.length; t++) {\n\t\t\tfor(var styleName in styles[t]) {\n\t\t\t\telement.style[$tw.utils.convertStyleNameToPropertyName(styleName)] = styles[t][styleName];\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nConverts a standard CSS property name into the local browser-specific equivalent. For example:\n\t\"background-color\" --&gt; \"backgroundColor\"\n\t\"transition\" --&gt; \"webkitTransition\"\n*/\n\nvar styleNameCache = {}; // We'll cache the style name conversions\n\nexports.convertStyleNameToPropertyName = function(styleName) {\n\t// Return from the cache if we can\n\tif(styleNameCache[styleName]) {\n\t\treturn styleNameCache[styleName];\n\t}\n\t// Convert it by first removing any hyphens\n\tvar propertyName = $tw.utils.unHyphenateCss(styleName);\n\t// Then check if it needs a prefix\n\tif($tw.browser &amp;&amp; document.body.style[propertyName] === undefined) {\n\t\tvar prefixes = [\"O\",\"MS\",\"Moz\",\"webkit\"];\n\t\tfor(var t=0; t&lt;prefixes.length; t++) {\n\t\t\tvar prefixedName = prefixes[t] + propertyName.substr(0,1).toUpperCase() + propertyName.substr(1);\n\t\t\tif(document.body.style[prefixedName] !== undefined) {\n\t\t\t\tpropertyName = prefixedName;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t// Put it in the cache too\n\tstyleNameCache[styleName] = propertyName;\n\treturn propertyName;\n};\n\n/*\nConverts a JS format CSS property name back into the dashed form used in CSS declarations. For example:\n\t\"backgroundColor\" --&gt; \"background-color\"\n\t\"webkitTransform\" --&gt; \"-webkit-transform\"\n*/\nexports.convertPropertyNameToStyleName = function(propertyName) {\n\t// Rehyphenate the name\n\tvar styleName = $tw.utils.hyphenateCss(propertyName);\n\t// If there's a webkit prefix, add a dash (other browsers have uppercase prefixes, and so get the dash automatically)\n\tif(styleName.indexOf(\"webkit\") === 0) {\n\t\tstyleName = \"-\" + styleName;\n\t} else if(styleName.indexOf(\"-m-s\") === 0) {\n\t\tstyleName = \"-ms\" + styleName.substr(4);\n\t}\n\treturn styleName;\n};\n\n/*\nRound trip a stylename to a property name and back again. For example:\n\t\"transform\" --&gt; \"webkitTransform\" --&gt; \"-webkit-transform\"\n*/\nexports.roundTripPropertyName = function(propertyName) {\n\treturn $tw.utils.convertPropertyNameToStyleName($tw.utils.convertStyleNameToPropertyName(propertyName));\n};\n\n/*\nConverts a standard event name into the local browser specific equivalent. For example:\n\t\"animationEnd\" --&gt; \"webkitAnimationEnd\"\n*/\n\nvar eventNameCache = {}; // We'll cache the conversions\n\nvar eventNameMappings = {\n\t\"transitionEnd\": {\n\t\tcorrespondingCssProperty: \"transition\",\n\t\tmappings: {\n\t\t\ttransition: \"transitionend\",\n\t\t\tOTransition: \"oTransitionEnd\",\n\t\t\tMSTransition: \"msTransitionEnd\",\n\t\t\tMozTransition: \"transitionend\",\n\t\t\twebkitTransition: \"webkitTransitionEnd\"\n\t\t}\n\t},\n\t\"animationEnd\": {\n\t\tcorrespondingCssProperty: \"animation\",\n\t\tmappings: {\n\t\t\tanimation: \"animationend\",\n\t\t\tOAnimation: \"oAnimationEnd\",\n\t\t\tMSAnimation: \"msAnimationEnd\",\n\t\t\tMozAnimation: \"animationend\",\n\t\t\twebkitAnimation: \"webkitAnimationEnd\"\n\t\t}\n\t}\n};\n\nexports.convertEventName = function(eventName) {\n\tif(eventNameCache[eventName]) {\n\t\treturn eventNameCache[eventName];\n\t}\n\tvar newEventName = eventName,\n\t\tmappings = eventNameMappings[eventName];\n\tif(mappings) {\n\t\tvar convertedProperty = $tw.utils.convertStyleNameToPropertyName(mappings.correspondingCssProperty);\n\t\tif(mappings.mappings[convertedProperty]) {\n\t\t\tnewEventName = mappings.mappings[convertedProperty];\n\t\t}\n\t}\n\t// Put it in the cache too\n\teventNameCache[eventName] = newEventName;\n\treturn newEventName;\n};\n\n/*\nReturn the names of the fullscreen APIs\n*/\nexports.getFullScreenApis = function() {\n\tvar d = document,\n\t\tdb = d.body,\n\t\tresult = {\n\t\t\"_requestFullscreen\": db.webkitRequestFullscreen !== undefined ? \"webkitRequestFullscreen\" :\n\t\t\t\t\t\t\tdb.mozRequestFullScreen !== undefined ? \"mozRequestFullScreen\" :\n\t\t\t\t\t\t\tdb.msRequestFullscreen !== undefined ? \"msRequestFullscreen\" :\n\t\t\t\t\t\t\tdb.requestFullscreen !== undefined ? \"requestFullscreen\" : \"\",\n\t\t\"_exitFullscreen\": d.webkitExitFullscreen !== undefined ? \"webkitExitFullscreen\" :\n\t\t\t\t\t\t\td.mozCancelFullScreen !== undefined ? \"mozCancelFullScreen\" :\n\t\t\t\t\t\t\td.msExitFullscreen !== undefined ? \"msExitFullscreen\" :\n\t\t\t\t\t\t\td.exitFullscreen !== undefined ? \"exitFullscreen\" : \"\",\n\t\t\"_fullscreenElement\": d.webkitFullscreenElement !== undefined ? \"webkitFullscreenElement\" :\n\t\t\t\t\t\t\td.mozFullScreenElement !== undefined ? \"mozFullScreenElement\" :\n\t\t\t\t\t\t\td.msFullscreenElement !== undefined ? \"msFullscreenElement\" :\n\t\t\t\t\t\t\td.fullscreenElement !== undefined ? \"fullscreenElement\" : \"\",\n\t\t\"_fullscreenChange\": d.webkitFullscreenElement !== undefined ? \"webkitfullscreenchange\" :\n\t\t\t\t\t\t\td.mozFullScreenElement !== undefined ? \"mozfullscreenchange\" :\n\t\t\t\t\t\t\td.msFullscreenElement !== undefined ? \"MSFullscreenChange\" :\n\t\t\t\t\t\t\td.fullscreenElement !== undefined ? \"fullscreenchange\" : \"\"\n\t};\n\tif(!result._requestFullscreen || !result._exitFullscreen || !result._fullscreenElement || !result._fullscreenChange) {\n\t\treturn null;\n\t} else {\n\t\treturn result;\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/csscolorparser.js": {
            "title": "$:/core/modules/utils/dom/csscolorparser.js",
            "text": "// (c) Dean McNamee &lt;dean@gmail.com&gt;, 2012.\n//\n// https://github.com/deanm/css-color-parser-js\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n\n// http://www.w3.org/TR/css3-color/\nvar kCSSColorTable = {\n  \"transparent\": [0,0,0,0], \"aliceblue\": [240,248,255,1],\n  \"antiquewhite\": [250,235,215,1], \"aqua\": [0,255,255,1],\n  \"aquamarine\": [127,255,212,1], \"azure\": [240,255,255,1],\n  \"beige\": [245,245,220,1], \"bisque\": [255,228,196,1],\n  \"black\": [0,0,0,1], \"blanchedalmond\": [255,235,205,1],\n  \"blue\": [0,0,255,1], \"blueviolet\": [138,43,226,1],\n  \"brown\": [165,42,42,1], \"burlywood\": [222,184,135,1],\n  \"cadetblue\": [95,158,160,1], \"chartreuse\": [127,255,0,1],\n  \"chocolate\": [210,105,30,1], \"coral\": [255,127,80,1],\n  \"cornflowerblue\": [100,149,237,1], \"cornsilk\": [255,248,220,1],\n  \"crimson\": [220,20,60,1], \"cyan\": [0,255,255,1],\n  \"darkblue\": [0,0,139,1], \"darkcyan\": [0,139,139,1],\n  \"darkgoldenrod\": [184,134,11,1], \"darkgray\": [169,169,169,1],\n  \"darkgreen\": [0,100,0,1], \"darkgrey\": [169,169,169,1],\n  \"darkkhaki\": [189,183,107,1], \"darkmagenta\": [139,0,139,1],\n  \"darkolivegreen\": [85,107,47,1], \"darkorange\": [255,140,0,1],\n  \"darkorchid\": [153,50,204,1], \"darkred\": [139,0,0,1],\n  \"darksalmon\": [233,150,122,1], \"darkseagreen\": [143,188,143,1],\n  \"darkslateblue\": [72,61,139,1], \"darkslategray\": [47,79,79,1],\n  \"darkslategrey\": [47,79,79,1], \"darkturquoise\": [0,206,209,1],\n  \"darkviolet\": [148,0,211,1], \"deeppink\": [255,20,147,1],\n  \"deepskyblue\": [0,191,255,1], \"dimgray\": [105,105,105,1],\n  \"dimgrey\": [105,105,105,1], \"dodgerblue\": [30,144,255,1],\n  \"firebrick\": [178,34,34,1], \"floralwhite\": [255,250,240,1],\n  \"forestgreen\": [34,139,34,1], \"fuchsia\": [255,0,255,1],\n  \"gainsboro\": [220,220,220,1], \"ghostwhite\": [248,248,255,1],\n  \"gold\": [255,215,0,1], \"goldenrod\": [218,165,32,1],\n  \"gray\": [128,128,128,1], \"green\": [0,128,0,1],\n  \"greenyellow\": [173,255,47,1], \"grey\": [128,128,128,1],\n  \"honeydew\": [240,255,240,1], \"hotpink\": [255,105,180,1],\n  \"indianred\": [205,92,92,1], \"indigo\": [75,0,130,1],\n  \"ivory\": [255,255,240,1], \"khaki\": [240,230,140,1],\n  \"lavender\": [230,230,250,1], \"lavenderblush\": [255,240,245,1],\n  \"lawngreen\": [124,252,0,1], \"lemonchiffon\": [255,250,205,1],\n  \"lightblue\": [173,216,230,1], \"lightcoral\": [240,128,128,1],\n  \"lightcyan\": [224,255,255,1], \"lightgoldenrodyellow\": [250,250,210,1],\n  \"lightgray\": [211,211,211,1], \"lightgreen\": [144,238,144,1],\n  \"lightgrey\": [211,211,211,1], \"lightpink\": [255,182,193,1],\n  \"lightsalmon\": [255,160,122,1], \"lightseagreen\": [32,178,170,1],\n  \"lightskyblue\": [135,206,250,1], \"lightslategray\": [119,136,153,1],\n  \"lightslategrey\": [119,136,153,1], \"lightsteelblue\": [176,196,222,1],\n  \"lightyellow\": [255,255,224,1], \"lime\": [0,255,0,1],\n  \"limegreen\": [50,205,50,1], \"linen\": [250,240,230,1],\n  \"magenta\": [255,0,255,1], \"maroon\": [128,0,0,1],\n  \"mediumaquamarine\": [102,205,170,1], \"mediumblue\": [0,0,205,1],\n  \"mediumorchid\": [186,85,211,1], \"mediumpurple\": [147,112,219,1],\n  \"mediumseagreen\": [60,179,113,1], \"mediumslateblue\": [123,104,238,1],\n  \"mediumspringgreen\": [0,250,154,1], \"mediumturquoise\": [72,209,204,1],\n  \"mediumvioletred\": [199,21,133,1], \"midnightblue\": [25,25,112,1],\n  \"mintcream\": [245,255,250,1], \"mistyrose\": [255,228,225,1],\n  \"moccasin\": [255,228,181,1], \"navajowhite\": [255,222,173,1],\n  \"navy\": [0,0,128,1], \"oldlace\": [253,245,230,1],\n  \"olive\": [128,128,0,1], \"olivedrab\": [107,142,35,1],\n  \"orange\": [255,165,0,1], \"orangered\": [255,69,0,1],\n  \"orchid\": [218,112,214,1], \"palegoldenrod\": [238,232,170,1],\n  \"palegreen\": [152,251,152,1], \"paleturquoise\": [175,238,238,1],\n  \"palevioletred\": [219,112,147,1], \"papayawhip\": [255,239,213,1],\n  \"peachpuff\": [255,218,185,1], \"peru\": [205,133,63,1],\n  \"pink\": [255,192,203,1], \"plum\": [221,160,221,1],\n  \"powderblue\": [176,224,230,1], \"purple\": [128,0,128,1],\n  \"red\": [255,0,0,1], \"rosybrown\": [188,143,143,1],\n  \"royalblue\": [65,105,225,1], \"saddlebrown\": [139,69,19,1],\n  \"salmon\": [250,128,114,1], \"sandybrown\": [244,164,96,1],\n  \"seagreen\": [46,139,87,1], \"seashell\": [255,245,238,1],\n  \"sienna\": [160,82,45,1], \"silver\": [192,192,192,1],\n  \"skyblue\": [135,206,235,1], \"slateblue\": [106,90,205,1],\n  \"slategray\": [112,128,144,1], \"slategrey\": [112,128,144,1],\n  \"snow\": [255,250,250,1], \"springgreen\": [0,255,127,1],\n  \"steelblue\": [70,130,180,1], \"tan\": [210,180,140,1],\n  \"teal\": [0,128,128,1], \"thistle\": [216,191,216,1],\n  \"tomato\": [255,99,71,1], \"turquoise\": [64,224,208,1],\n  \"violet\": [238,130,238,1], \"wheat\": [245,222,179,1],\n  \"white\": [255,255,255,1], \"whitesmoke\": [245,245,245,1],\n  \"yellow\": [255,255,0,1], \"yellowgreen\": [154,205,50,1]}\n\nfunction clamp_css_byte(i) {  // Clamp to integer 0 .. 255.\n  i = Math.round(i);  // Seems to be what Chrome does (vs truncation).\n  return i &lt; 0 ? 0 : i &gt; 255 ? 255 : i;\n}\n\nfunction clamp_css_float(f) {  // Clamp to float 0.0 .. 1.0.\n  return f &lt; 0 ? 0 : f &gt; 1 ? 1 : f;\n}\n\nfunction parse_css_int(str) {  // int or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_byte(parseFloat(str) / 100 * 255);\n  return clamp_css_byte(parseInt(str));\n}\n\nfunction parse_css_float(str) {  // float or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_float(parseFloat(str) / 100);\n  return clamp_css_float(parseFloat(str));\n}\n\nfunction css_hue_to_rgb(m1, m2, h) {\n  if (h &lt; 0) h += 1;\n  else if (h &gt; 1) h -= 1;\n\n  if (h * 6 &lt; 1) return m1 + (m2 - m1) * h * 6;\n  if (h * 2 &lt; 1) return m2;\n  if (h * 3 &lt; 2) return m1 + (m2 - m1) * (2/3 - h) * 6;\n  return m1;\n}\n\nfunction parseCSSColor(css_str) {\n  // Remove all whitespace, not compliant, but should just be more accepting.\n  var str = css_str.replace(/ /g, '').toLowerCase();\n\n  // Color keywords (and transparent) lookup.\n  if (str in kCSSColorTable) return kCSSColorTable[str].slice();  // dup.\n\n  // #abc and #abc123 syntax.\n  if (str[0] === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv &gt;= 0 &amp;&amp; iv &lt;= 0xfff)) return null;  // Covers NaN.\n      return [((iv &amp; 0xf00) &gt;&gt; 4) | ((iv &amp; 0xf00) &gt;&gt; 8),\n              (iv &amp; 0xf0) | ((iv &amp; 0xf0) &gt;&gt; 4),\n              (iv &amp; 0xf) | ((iv &amp; 0xf) &lt;&lt; 4),\n              1];\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv &gt;= 0 &amp;&amp; iv &lt;= 0xffffff)) return null;  // Covers NaN.\n      return [(iv &amp; 0xff0000) &gt;&gt; 16,\n              (iv &amp; 0xff00) &gt;&gt; 8,\n              iv &amp; 0xff,\n              1];\n    }\n\n    return null;\n  }\n\n  var op = str.indexOf('('), ep = str.indexOf(')');\n  if (op !== -1 &amp;&amp; ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op+1, ep-(op+1)).split(',');\n    var alpha = 1;  // To allow case fallthrough.\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'rgb':\n        if (params.length !== 3) return null;\n        return [parse_css_int(params[0]),\n                parse_css_int(params[1]),\n                parse_css_int(params[2]),\n                alpha];\n      case 'hsla':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'hsl':\n        if (params.length !== 3) return null;\n        var h = (((parseFloat(params[0]) % 360) + 360) % 360) / 360;  // 0 .. 1\n        // NOTE(deanm): According to the CSS spec s/l should only be\n        // percentages, but we don't bother and let float or percentage.\n        var s = parse_css_float(params[1]);\n        var l = parse_css_float(params[2]);\n        var m2 = l &lt;= 0.5 ? l * (s + 1) : l + s - l * s;\n        var m1 = l * 2 - m2;\n        return [clamp_css_byte(css_hue_to_rgb(m1, m2, h+1/3) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h-1/3) * 255),\n                alpha];\n      default:\n        return null;\n    }\n  }\n\n  return null;\n}\n\ntry { exports.parseCSSColor = parseCSSColor } catch(e) { }\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom.js": {
            "title": "$:/core/modules/utils/dom.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static DOM-related utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nDetermines whether element 'a' contains element 'b'\nCode thanks to John Resig, http://ejohn.org/blog/comparing-document-position/\n*/\nexports.domContains = function(a,b) {\n\treturn a.contains ?\n\t\ta !== b &amp;&amp; a.contains(b) :\n\t\t!!(a.compareDocumentPosition(b) &amp; 16);\n};\n\nexports.removeChildren = function(node) {\n\twhile(node.hasChildNodes()) {\n\t\tnode.removeChild(node.firstChild);\n\t}\n};\n\nexports.hasClass = function(el,className) {\n\treturn el &amp;&amp; el.hasAttribute &amp;&amp; el.hasAttribute(\"class\") &amp;&amp; el.getAttribute(\"class\").split(\" \").indexOf(className) !== -1;\n};\n\nexports.addClass = function(el,className) {\n\tvar c = (el.getAttribute(\"class\") || \"\").split(\" \");\n\tif(c.indexOf(className) === -1) {\n\t\tc.push(className);\n\t\tel.setAttribute(\"class\",c.join(\" \"));\n\t}\n};\n\nexports.removeClass = function(el,className) {\n\tvar c = (el.getAttribute(\"class\") || \"\").split(\" \"),\n\t\tp = c.indexOf(className);\n\tif(p !== -1) {\n\t\tc.splice(p,1);\n\t\tel.setAttribute(\"class\",c.join(\" \"));\n\t}\n};\n\nexports.toggleClass = function(el,className,status) {\n\tif(status === undefined) {\n\t\tstatus = !exports.hasClass(el,className);\n\t}\n\tif(status) {\n\t\texports.addClass(el,className);\n\t} else {\n\t\texports.removeClass(el,className);\n\t}\n};\n\n/*\nGet the first parent element that has scrollbars or use the body as fallback.\n*/\nexports.getScrollContainer = function(el) {\n\tvar doc = el.ownerDocument;\n\twhile(el.parentNode) {\t\n\t\tel = el.parentNode;\n\t\tif(el.scrollTop) {\n\t\t\treturn el;\n\t\t}\n\t}\n\treturn doc.body;\n};\n\n/*\nGet the scroll position of the viewport\nReturns:\n\t{\n\t\tx: horizontal scroll position in pixels,\n\t\ty: vertical scroll position in pixels\n\t}\n*/\nexports.getScrollPosition = function(srcWindow) {\n\tvar scrollWindow = srcWindow || window;\n\tif(\"scrollX\" in scrollWindow) {\n\t\treturn {x: scrollWindow.scrollX, y: scrollWindow.scrollY};\n\t} else {\n\t\treturn {x: scrollWindow.document.documentElement.scrollLeft, y: scrollWindow.document.documentElement.scrollTop};\n\t}\n};\n\n/*\nAdjust the height of a textarea to fit its content, preserving scroll position, and return the height\n*/\nexports.resizeTextAreaToFit = function(domNode,minHeight) {\n\t// Get the scroll container and register the current scroll position\n\tvar container = $tw.utils.getScrollContainer(domNode),\n\t\tscrollTop = container.scrollTop;\n    // Measure the specified minimum height\n\tdomNode.style.height = minHeight;\n\tvar measuredHeight = domNode.offsetHeight || parseInt(minHeight,10);\n\t// Set its height to auto so that it snaps to the correct height\n\tdomNode.style.height = \"auto\";\n\t// Calculate the revised height\n\tvar newHeight = Math.max(domNode.scrollHeight + domNode.offsetHeight - domNode.clientHeight,measuredHeight);\n\t// Only try to change the height if it has changed\n\tif(newHeight !== domNode.offsetHeight) {\n\t\tdomNode.style.height = newHeight + \"px\";\n\t\t// Make sure that the dimensions of the textarea are recalculated\n\t\t$tw.utils.forceLayout(domNode);\n\t\t// Set the container to the position we registered at the beginning\n\t\tcontainer.scrollTop = scrollTop;\n\t}\n\treturn newHeight;\n};\n\n/*\nGets the bounding rectangle of an element in absolute page coordinates\n*/\nexports.getBoundingPageRect = function(element) {\n\tvar scrollPos = $tw.utils.getScrollPosition(element.ownerDocument.defaultView),\n\t\tclientRect = element.getBoundingClientRect();\n\treturn {\n\t\tleft: clientRect.left + scrollPos.x,\n\t\twidth: clientRect.width,\n\t\tright: clientRect.right + scrollPos.x,\n\t\ttop: clientRect.top + scrollPos.y,\n\t\theight: clientRect.height,\n\t\tbottom: clientRect.bottom + scrollPos.y\n\t};\n};\n\n/*\nSaves a named password in the browser\n*/\nexports.savePassword = function(name,password) {\n\tvar done = false;\n\ttry {\n\t\twindow.localStorage.setItem(\"tw5-password-\" + name,password);\n\t\tdone = true;\n\t} catch(e) {\n\t}\n\tif(!done) {\n\t\t$tw.savedPasswords = $tw.savedPasswords || Object.create(null);\n\t\t$tw.savedPasswords[name] = password;\n\t}\n};\n\n/*\nRetrieve a named password from the browser\n*/\nexports.getPassword = function(name) {\n\tvar value;\n\ttry {\n\t\tvalue = window.localStorage.getItem(\"tw5-password-\" + name);\n\t} catch(e) {\n\t}\n\tif(value !== undefined) {\n\t\treturn value;\n\t} else {\n\t\treturn ($tw.savedPasswords || Object.create(null))[name] || \"\";\n\t}\n};\n\n/*\nForce layout of a dom node and its descendents\n*/\nexports.forceLayout = function(element) {\n\tvar dummy = element.offsetWidth;\n};\n\n/*\nPulse an element for debugging purposes\n*/\nexports.pulseElement = function(element) {\n\t// Event handler to remove the class at the end\n\telement.addEventListener($tw.browser.animationEnd,function handler(event) {\n\t\telement.removeEventListener($tw.browser.animationEnd,handler,false);\n\t\t$tw.utils.removeClass(element,\"pulse\");\n\t},false);\n\t// Apply the pulse class\n\t$tw.utils.removeClass(element,\"pulse\");\n\t$tw.utils.forceLayout(element);\n\t$tw.utils.addClass(element,\"pulse\");\n};\n\n/*\nAttach specified event handlers to a DOM node\ndomNode: where to attach the event handlers\nevents: array of event handlers to be added (see below)\nEach entry in the events array is an object with these properties:\nhandlerFunction: optional event handler function\nhandlerObject: optional event handler object\nhandlerMethod: optionally specifies object handler method name (defaults to `handleEvent`)\n*/\nexports.addEventListeners = function(domNode,events) {\n\t$tw.utils.each(events,function(eventInfo) {\n\t\tvar handler;\n\t\tif(eventInfo.handlerFunction) {\n\t\t\thandler = eventInfo.handlerFunction;\n\t\t} else if(eventInfo.handlerObject) {\n\t\t\tif(eventInfo.handlerMethod) {\n\t\t\t\thandler = function(event) {\n\t\t\t\t\teventInfo.handlerObject[eventInfo.handlerMethod].call(eventInfo.handlerObject,event);\n\t\t\t\t};\t\n\t\t\t} else {\n\t\t\t\thandler = eventInfo.handlerObject;\n\t\t\t}\n\t\t}\n\t\tdomNode.addEventListener(eventInfo.name,handler,false);\n\t});\n};\n\n/*\nGet the computed styles applied to an element as an array of strings of individual CSS properties\n*/\nexports.getComputedStyles = function(domNode) {\n\tvar textAreaStyles = window.getComputedStyle(domNode,null),\n\t\tstyleDefs = [],\n\t\tname;\n\tfor(var t=0; t&lt;textAreaStyles.length; t++) {\n\t\tname = textAreaStyles[t];\n\t\tstyleDefs.push(name + \": \" + textAreaStyles.getPropertyValue(name) + \";\");\n\t}\n\treturn styleDefs;\n};\n\n/*\nApply a set of styles passed as an array of strings of individual CSS properties\n*/\nexports.setStyles = function(domNode,styleDefs) {\n\tdomNode.style.cssText = styleDefs.join(\"\");\n};\n\n/*\nCopy the computed styles from a source element to a destination element\n*/\nexports.copyStyles = function(srcDomNode,dstDomNode) {\n\t$tw.utils.setStyles(dstDomNode,$tw.utils.getComputedStyles(srcDomNode));\n};\n\n/*\nCopy plain text to the clipboard on browsers that support it\n*/\nexports.copyToClipboard = function(text,options) {\n\toptions = options || {};\n\tvar textArea = document.createElement(\"textarea\");\n\ttextArea.style.position = \"fixed\";\n\ttextArea.style.top = 0;\n\ttextArea.style.left = 0;\n\ttextArea.style.fontSize = \"12pt\";\n\ttextArea.style.width = \"2em\";\n\ttextArea.style.height = \"2em\";\n\ttextArea.style.padding = 0;\n\ttextArea.style.border = \"none\";\n\ttextArea.style.outline = \"none\";\n\ttextArea.style.boxShadow = \"none\";\n\ttextArea.style.background = \"transparent\";\n\ttextArea.value = text;\n\tdocument.body.appendChild(textArea);\n\ttextArea.select();\n\ttextArea.setSelectionRange(0,text.length);\n\tvar succeeded = false;\n\ttry {\n\t\tsucceeded = document.execCommand(\"copy\");\n\t} catch (err) {\n\t}\n\tif(!options.doNotNotify) {\n\t\t$tw.notifier.display(succeeded ? \"$:/language/Notifications/CopiedToClipboard/Succeeded\" : \"$:/language/Notifications/CopiedToClipboard/Failed\");\n\t}\n\tdocument.body.removeChild(textArea);\n};\n\nexports.getLocationPath = function() {\n\treturn window.location.toString().split(\"#\")[0];\n};\n\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/dragndrop.js": {
            "title": "$:/core/modules/utils/dom/dragndrop.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/dragndrop.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser data transfer utilities, used with the clipboard and drag and drop\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nOptions:\n\ndomNode: dom node to make draggable\ndragImageType: \"pill\" or \"dom\"\ndragTiddlerFn: optional function to retrieve the title of tiddler to drag\ndragFilterFn: optional function to retreive the filter defining a list of tiddlers to drag\nwidget: widget to use as the contect for the filter\n*/\nexports.makeDraggable = function(options) {\n\tvar dragImageType = options.dragImageType || \"dom\",\n\t\tdragImage,\n\t\tdomNode = options.domNode;\n\t// Make the dom node draggable (not necessary for anchor tags)\n\tif((domNode.tagName || \"\").toLowerCase() !== \"a\") {\n\t\tdomNode.setAttribute(\"draggable\",\"true\");\t\t\n\t}\n\t// Add event handlers\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \"dragstart\", handlerFunction: function(event) {\n\t\t\tif(event.dataTransfer === undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Collect the tiddlers being dragged\n\t\t\tvar dragTiddler = options.dragTiddlerFn &amp;&amp; options.dragTiddlerFn(),\n\t\t\t\tdragFilter = options.dragFilterFn &amp;&amp; options.dragFilterFn(),\n\t\t\t\ttitles = dragTiddler ? [dragTiddler] : [],\n\t\t\t    \tstartActions = options.startActions;\n\t\t\tif(dragFilter) {\n\t\t\t\ttitles.push.apply(titles,options.widget.wiki.filterTiddlers(dragFilter,options.widget));\n\t\t\t}\n\t\t\tvar titleString = $tw.utils.stringifyList(titles);\n\t\t\t// Check that we've something to drag\n\t\t\tif(titles.length &gt; 0 &amp;&amp; event.target === domNode) {\n\t\t\t\t// Mark the drag in progress\n\t\t\t\t$tw.dragInProgress = domNode;\n\t\t\t\t// Set the dragging class on the element being dragged\n\t\t\t\t$tw.utils.addClass(event.target,\"tc-dragging\");\n\t\t\t\t// Invoke drag-start actions if given\n\t\t\t\tif(startActions !== undefined) {\n\t\t\t\t\toptions.widget.invokeActionString(startActions,options.widget,event,{actionTiddler: titleString});\n\t\t\t\t}\n\t\t\t\t// Create the drag image elements\n\t\t\t\tdragImage = options.widget.document.createElement(\"div\");\n\t\t\t\tdragImage.className = \"tc-tiddler-dragger\";\n\t\t\t\tvar inner = options.widget.document.createElement(\"div\");\n\t\t\t\tinner.className = \"tc-tiddler-dragger-inner\";\n\t\t\t\tinner.appendChild(options.widget.document.createTextNode(\n\t\t\t\t\ttitles.length === 1 ? \n\t\t\t\t\t\ttitles[0] :\n\t\t\t\t\t\ttitles.length + \" tiddlers\"\n\t\t\t\t));\n\t\t\t\tdragImage.appendChild(inner);\n\t\t\t\toptions.widget.document.body.appendChild(dragImage);\n\t\t\t\t// Set the data transfer properties\n\t\t\t\tvar dataTransfer = event.dataTransfer;\n\t\t\t\t// Set up the image\n\t\t\t\tdataTransfer.effectAllowed = \"all\";\n\t\t\t\tif(dataTransfer.setDragImage) {\n\t\t\t\t\tif(dragImageType === \"pill\") {\n\t\t\t\t\t\tdataTransfer.setDragImage(dragImage.firstChild,-16,-16);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar r = domNode.getBoundingClientRect();\n\t\t\t\t\t\tdataTransfer.setDragImage(domNode,event.clientX-r.left,event.clientY-r.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Set up the data transfer\n\t\t\t\tif(dataTransfer.clearData) {\n\t\t\t\t\tdataTransfer.clearData();\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tvar jsonData = [];\n\t\t\t\tif(titles.length &gt; 1) {\n\t\t\t\t\ttitles.forEach(function(title) {\n\t\t\t\t\t\tjsonData.push(options.widget.wiki.getTiddlerAsJson(title));\n\t\t\t\t\t});\n\t\t\t\t\tjsonData = \"[\" + jsonData.join(\",\") + \"]\";\n\t\t\t\t} else {\n\t\t\t\t\tjsonData = options.widget.wiki.getTiddlerAsJson(titles[0]);\n\t\t\t\t}\n\t\t\t\t// IE doesn't like these content types\n\t\t\t\tif(!$tw.browser.isIE) {\n\t\t\t\t\tdataTransfer.setData(\"text/vnd.tiddler\",jsonData);\n\t\t\t\t\tdataTransfer.setData(\"text/plain\",titleString);\n\t\t\t\t\tdataTransfer.setData(\"text/x-moz-url\",\"data:text/vnd.tiddler,\" + encodeURIComponent(jsonData));\n\t\t\t\t}\n\t\t\t\tdataTransfer.setData(\"URL\",\"data:text/vnd.tiddler,\" + encodeURIComponent(jsonData));\n\t\t\t\tdataTransfer.setData(\"Text\",titleString);\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\treturn false;\n\t\t}},\n\t\t{name: \"dragend\", handlerFunction: function(event) {\n\t\t\tif(event.target === domNode) {\n\t\t\t\t// Collect the tiddlers being dragged\n\t\t\t\tvar dragTiddler = options.dragTiddlerFn &amp;&amp; options.dragTiddlerFn(),\n\t\t\t\t\tdragFilter = options.dragFilterFn &amp;&amp; options.dragFilterFn(),\n\t\t\t\t\ttitles = dragTiddler ? [dragTiddler] : [],\n\t\t\t    \t\tendActions = options.endActions;\n\t\t\t\tif(dragFilter) {\n\t\t\t\t\ttitles.push.apply(titles,options.widget.wiki.filterTiddlers(dragFilter,options.widget));\n\t\t\t\t}\n\t\t\t\tvar titleString = $tw.utils.stringifyList(titles);\n\t\t\t\t$tw.dragInProgress = null;\n\t\t\t\t// Invoke drag-end actions if given\n\t\t\t\tif(endActions !== undefined) {\n\t\t\t\t\toptions.widget.invokeActionString(endActions,options.widget,event,{actionTiddler: titleString});\n\t\t\t\t}\n\t\t\t\t// Remove the dragging class on the element being dragged\n\t\t\t\t$tw.utils.removeClass(event.target,\"tc-dragging\");\n\t\t\t\t// Delete the drag image element\n\t\t\t\tif(dragImage) {\n\t\t\t\t\tdragImage.parentNode.removeChild(dragImage);\n\t\t\t\t\tdragImage = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}}\n\t]);\n};\n\nexports.importDataTransfer = function(dataTransfer,fallbackTitle,callback) {\n\t// Try each provided data type in turn\n\tif($tw.log.IMPORT) {\n\t\tconsole.log(\"Available data types:\");\n\t\tfor(var type=0; type&lt;dataTransfer.types.length; type++) {\n\t\t\tconsole.log(\"type\",dataTransfer.types[type],dataTransfer.getData(dataTransfer.types[type]))\n\t\t}\n\t}\n\tfor(var t=0; t&lt;importDataTypes.length; t++) {\n\t\tif(!$tw.browser.isIE || importDataTypes[t].IECompatible) {\n\t\t\t// Get the data\n\t\t\tvar dataType = importDataTypes[t];\n\t\t\t\tvar data = dataTransfer.getData(dataType.type);\n\t\t\t// Import the tiddlers in the data\n\t\t\tif(data !== \"\" &amp;&amp; data !== null) {\n\t\t\t\tif($tw.log.IMPORT) {\n\t\t\t\t\tconsole.log(\"Importing data type '\" + dataType.type + \"', data: '\" + data + \"'\")\n\t\t\t\t}\n\t\t\t\tvar tiddlerFields = dataType.toTiddlerFieldsArray(data,fallbackTitle);\n\t\t\t\tcallback(tiddlerFields);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar importDataTypes = [\n\t{type: \"text/vnd.tiddler\", IECompatible: false, toTiddlerFieldsArray: function(data,fallbackTitle) {\n\t\treturn parseJSONTiddlers(data,fallbackTitle);\n\t}},\n\t{type: \"URL\", IECompatible: true, toTiddlerFieldsArray: function(data,fallbackTitle) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURIComponent(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn parseJSONTiddlers(match[1],fallbackTitle);\n\t\t} else {\n\t\t\treturn [{title: fallbackTitle, text: data}]; // As URL string\n\t\t}\n\t}},\n\t{type: \"text/x-moz-url\", IECompatible: false, toTiddlerFieldsArray: function(data,fallbackTitle) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURIComponent(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn parseJSONTiddlers(match[1],fallbackTitle);\n\t\t} else {\n\t\t\treturn [{title: fallbackTitle, text: data}]; // As URL string\n\t\t}\n\t}},\n\t{type: \"text/html\", IECompatible: false, toTiddlerFieldsArray: function(data,fallbackTitle) {\n\t\treturn [{title: fallbackTitle, text: data}];\n\t}},\n\t{type: \"text/plain\", IECompatible: false, toTiddlerFieldsArray: function(data,fallbackTitle) {\n\t\treturn [{title: fallbackTitle, text: data}];\n\t}},\n\t{type: \"Text\", IECompatible: true, toTiddlerFieldsArray: function(data,fallbackTitle) {\n\t\treturn [{title: fallbackTitle, text: data}];\n\t}},\n\t{type: \"text/uri-list\", IECompatible: false, toTiddlerFieldsArray: function(data,fallbackTitle) {\n\t\treturn [{title: fallbackTitle, text: data}];\n\t}}\n];\n\nfunction parseJSONTiddlers(json,fallbackTitle) {\n\tvar data = JSON.parse(json);\n\tif(!$tw.utils.isArray(data)) {\n\t\tdata = [data];\n\t}\n\tdata.forEach(function(fields) {\n\t\tfields.title = fields.title || fallbackTitle;\n\t});\n\treturn data;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/http.js": {
            "title": "$:/core/modules/utils/dom/http.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/http.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser HTTP support\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nA quick and dirty HTTP function; to be refactored later. Options are:\n\turl: URL to retrieve\n\theaders: hashmap of headers to send\n\ttype: GET, PUT, POST etc\n\tcallback: function invoked with (err,data,xhr)\n\treturnProp: string name of the property to return as first argument of callback\n*/\nexports.httpRequest = function(options) {\n\tvar type = options.type || \"GET\",\n\t\turl = options.url,\n\t\theaders = options.headers || {accept: \"application/json\"},\n\t\thasHeader = function(targetHeader) {\n\t\t\ttargetHeader = targetHeader.toLowerCase();\n\t\t\tvar result = false;\n\t\t\t$tw.utils.each(headers,function(header,headerTitle,object) {\n\t\t\t\tif(headerTitle.toLowerCase() === targetHeader) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\treturnProp = options.returnProp || \"responseText\",\n\t\trequest = new XMLHttpRequest(),\n\t\tdata = \"\",\n\t\tf,results;\n\t// Massage the data hashmap into a string\n\tif(options.data) {\n\t\tif(typeof options.data === \"string\") { // Already a string\n\t\t\tdata = options.data;\n\t\t} else { // A hashmap of strings\n\t\t\tresults = [];\n\t\t\t$tw.utils.each(options.data,function(dataItem,dataItemTitle) {\n\t\t\t\tresults.push(dataItemTitle + \"=\" + encodeURIComponent(dataItem));\n\t\t\t});\n\t\t\tif(type === \"GET\" || type === \"HEAD\") {\n\t\t\t\turl += \"?\" + results.join(\"&amp;\");\n\t\t\t} else {\n\t\t\t\tdata = results.join(\"&amp;\");\n\t\t\t}\n\t\t}\n\t}\n\t// Set up the state change handler\n\trequest.onreadystatechange = function() {\n\t\tif(this.readyState === 4) {\n\t\t\tif(this.status === 200 || this.status === 201 || this.status === 204) {\n\t\t\t\t// Success!\n\t\t\t\toptions.callback(null,this[returnProp],this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t// Something went wrong\n\t\toptions.callback($tw.language.getString(\"Error/XMLHttpRequest\") + \": \" + this.status,null,this);\n\t\t}\n\t};\n\t// Make the request\n\trequest.open(type,url,true);\n\tif(headers) {\n\t\t$tw.utils.each(headers,function(header,headerTitle,object) {\n\t\t\trequest.setRequestHeader(headerTitle,header);\n\t\t});\n\t}\n\tif(data &amp;&amp; !hasHeader(\"Content-Type\")) {\n\t\trequest.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded; charset=UTF-8\");\n\t}\n\tif(!hasHeader(\"X-Requested-With\")) {\n\t\trequest.setRequestHeader(\"X-Requested-With\",\"TiddlyWiki\");\n\t}\n\ttry {\n\t\trequest.send(data);\n\t} catch(e) {\n\t\toptions.callback(e,null,this);\n\t}\n\treturn request;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/keyboard.js": {
            "title": "$:/core/modules/utils/dom/keyboard.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/keyboard.js\ntype: application/javascript\nmodule-type: utils\n\nKeyboard utilities; now deprecated. Instead, use $tw.keyboardManager\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n[\"parseKeyDescriptor\",\"checkKeyDescriptor\"].forEach(function(method) {\n\texports[method] = function() {\n\t\tif($tw.keyboardManager) {\n\t\t\treturn $tw.keyboardManager[method].apply($tw.keyboardManager,Array.prototype.slice.call(arguments,0));\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t};\n});\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/modal.js": {
            "title": "$:/core/modules/utils/dom/modal.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/modal.js\ntype: application/javascript\nmodule-type: utils\n\nModal message mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\nvar navigator = require(\"$:/core/modules/widgets/navigator.js\");\n\nvar Modal = function(wiki) {\n\tthis.wiki = wiki;\n\tthis.modalCount = 0;\n};\n\n/*\nDisplay a modal dialogue\n\ttitle: Title of tiddler to display\n\toptions: see below\nOptions include:\n\tdownloadLink: Text of a big download link to include\n*/\nModal.prototype.display = function(title,options) {\n\toptions = options || {};\n\tthis.srcDocument = options.variables &amp;&amp; (options.variables.rootwindow === \"true\" ||\n\t\t\t\toptions.variables.rootwindow === \"yes\") ? document :\n\t\t\t\t(options.event &amp;&amp; options.event.event &amp;&amp; options.event.event.target ? options.event.event.target.ownerDocument : document);\n\tthis.srcWindow = this.srcDocument.defaultView;\n\tvar self = this,\n\t\trefreshHandler,\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\ttiddler = this.wiki.getTiddler(title);\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Create the variables\n\tvar variables = $tw.utils.extend({\n\t\t\tcurrentTiddler: title,\n\t\t\t\"tv-story-list\": (options.event &amp;&amp; options.event.widget ? options.event.widget.getVariable(\"tv-story-list\") : \"\"),\n\t\t\t\"tv-history-list\": (options.event &amp;&amp; options.event.widget ? options.event.widget.getVariable(\"tv-history-list\") : \"\")\n\t\t},options.variables);\n\n\t// Create the wrapper divs\n\tvar wrapper = this.srcDocument.createElement(\"div\"),\n\t\tmodalBackdrop = this.srcDocument.createElement(\"div\"),\n\t\tmodalWrapper = this.srcDocument.createElement(\"div\"),\n\t\tmodalHeader = this.srcDocument.createElement(\"div\"),\n\t\theaderTitle = this.srcDocument.createElement(\"h3\"),\n\t\tmodalBody = this.srcDocument.createElement(\"div\"),\n\t\tmodalLink = this.srcDocument.createElement(\"a\"),\n\t\tmodalFooter = this.srcDocument.createElement(\"div\"),\n\t\tmodalFooterHelp = this.srcDocument.createElement(\"span\"),\n\t\tmodalFooterButtons = this.srcDocument.createElement(\"span\");\n\t// Up the modal count and adjust the body class\n\tthis.modalCount++;\n\tthis.adjustPageClass();\n\t// Add classes\n\t$tw.utils.addClass(wrapper,\"tc-modal-wrapper\");\n\tif(tiddler.fields &amp;&amp; tiddler.fields.class) {\n\t\t$tw.utils.addClass(wrapper,tiddler.fields.class);\n\t}\n\t$tw.utils.addClass(modalBackdrop,\"tc-modal-backdrop\");\n\t$tw.utils.addClass(modalWrapper,\"tc-modal\");\n\t$tw.utils.addClass(modalHeader,\"tc-modal-header\");\n\t$tw.utils.addClass(modalBody,\"tc-modal-body\");\n\t$tw.utils.addClass(modalFooter,\"tc-modal-footer\");\n\t// Join them together\n\twrapper.appendChild(modalBackdrop);\n\twrapper.appendChild(modalWrapper);\n\tmodalHeader.appendChild(headerTitle);\n\tmodalWrapper.appendChild(modalHeader);\n\tmodalWrapper.appendChild(modalBody);\n\tmodalFooter.appendChild(modalFooterHelp);\n\tmodalFooter.appendChild(modalFooterButtons);\n\tmodalWrapper.appendChild(modalFooter);\n\tvar navigatorTree = {\n\t\t\"type\": \"navigator\",\n\t\t\"attributes\": {\n\t\t\t\"story\": {\n\t\t\t\t\"name\": \"story\",\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"value\": variables[\"tv-story-list\"]\n\t\t\t},\n\t\t\t\"history\": {\n\t\t\t\t\"name\": \"history\",\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"value\": variables[\"tv-history-list\"]\n\t\t\t}\n\t\t},\n\t\t\"tag\": \"$navigator\",\n\t\t\"isBlock\": true,\n\t\t\"children\": []\n\t};\n\tvar navigatorWidgetNode = new navigator.navigator(navigatorTree, {\n\t\twiki: this.wiki,\n\t\tdocument : this.srcDocument,\n\t\tparentWidget: $tw.rootWidget\n\t});\n\tnavigatorWidgetNode.render(modalBody,null);\n\t\n\t// Render the title of the message\n\tvar headerWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tfield: \"subtitle\",\n\t\tmode: \"inline\",\n\t\tchildren: [{\n\t\t\ttype: \"text\",\n\t\t\tattributes: {\n\t\t\t\ttext: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tvalue: title\n\t\t}}}],\n\t\tparentWidget: navigatorWidgetNode,\n\t\tdocument: this.srcDocument,\n\t\tvariables: variables,\n\t\timportPageMacros: true\n\t});\n\theaderWidgetNode.render(headerTitle,null);\n\t// Render the body of the message\n\tvar bodyWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tparentWidget: navigatorWidgetNode,\n\t\tdocument: this.srcDocument,\n\t\tvariables: variables,\n\t\timportPageMacros: true\n\t});\n\n\tbodyWidgetNode.render(modalBody,null);\n\t// Setup the link if present\n\tif(options.downloadLink) {\n\t\tmodalLink.href = options.downloadLink;\n\t\tmodalLink.appendChild(this.srcDocument.createTextNode(\"Right-click to save changes\"));\n\t\tmodalBody.appendChild(modalLink);\n\t}\n\t// Render the footer of the message\n\tif(tiddler.fields &amp;&amp; tiddler.fields.help) {\n\t\tvar link = this.srcDocument.createElement(\"a\");\n\t\tlink.setAttribute(\"href\",tiddler.fields.help);\n\t\tlink.setAttribute(\"target\",\"_blank\");\n\t\tlink.setAttribute(\"rel\",\"noopener noreferrer\");\n\t\tlink.appendChild(this.srcDocument.createTextNode(\"Help\"));\n\t\tmodalFooterHelp.appendChild(link);\n\t\tmodalFooterHelp.style.float = \"left\";\n\t}\n\tvar footerWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tfield: \"footer\",\n\t\tmode: \"inline\",\n\t\tchildren: [{\n\t\t\ttype: \"button\",\n\t\t\tattributes: {\n\t\t\t\tmessage: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tvalue: \"tm-close-tiddler\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\",\n\t\t\t\tattributes: {\n\t\t\t\t\ttext: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tvalue: $tw.language.getString(\"Buttons/Close/Caption\")\n\t\t\t}}}\n\t\t]}],\n\t\tparentWidget: navigatorWidgetNode,\n\t\tdocument: this.srcDocument,\n\t\tvariables: variables,\n\t\timportPageMacros: true\n\t});\n\tfooterWidgetNode.render(modalFooterButtons,null);\n\t// Set up the refresh handler\n\trefreshHandler = function(changes) {\n\t\theaderWidgetNode.refresh(changes,modalHeader,null);\n\t\tbodyWidgetNode.refresh(changes,modalBody,null);\n\t\tfooterWidgetNode.refresh(changes,modalFooterButtons,null);\n\t};\n\tthis.wiki.addEventListener(\"change\",refreshHandler);\n\t// Add the close event handler\n\tvar closeHandler = function(event) {\n\t\t// Remove our refresh handler\n\t\tself.wiki.removeEventListener(\"change\",refreshHandler);\n\t\t// Decrease the modal count and adjust the body class\n\t\tself.modalCount--;\n\t\tself.adjustPageClass();\n\t\t// Force layout and animate the modal message away\n\t\t$tw.utils.forceLayout(modalBackdrop);\n\t\t$tw.utils.forceLayout(modalWrapper);\n\t\t$tw.utils.setStyle(modalBackdrop,[\n\t\t\t{opacity: \"0\"}\n\t\t]);\n\t\t$tw.utils.setStyle(modalWrapper,[\n\t\t\t{transform: \"translateY(\" + self.srcWindow.innerHeight + \"px)\"}\n\t\t]);\n\t\t// Set up an event for the transition end\n\t\tself.srcWindow.setTimeout(function() {\n\t\t\tif(wrapper.parentNode) {\n\t\t\t\t// Remove the modal message from the DOM\n\t\t\t\tself.srcDocument.body.removeChild(wrapper);\n\t\t\t}\n\t\t},duration);\n\t\t// Don't let anyone else handle the tm-close-tiddler message\n\t\treturn false;\n\t};\n\theaderWidgetNode.addEventListener(\"tm-close-tiddler\",closeHandler,false);\n\tbodyWidgetNode.addEventListener(\"tm-close-tiddler\",closeHandler,false);\n\tfooterWidgetNode.addEventListener(\"tm-close-tiddler\",closeHandler,false);\n\t// Set the initial styles for the message\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \"0\"}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transformOrigin: \"0% 0%\"},\n\t\t{transform: \"translateY(\" + (-this.srcWindow.innerHeight) + \"px)\"}\n\t]);\n\t// Put the message into the document\n\tthis.srcDocument.body.appendChild(wrapper);\n\t// Set up animation for the styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{transition: \"opacity \" + duration + \"ms ease-out\"}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out\"}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(modalBackdrop);\n\t$tw.utils.forceLayout(modalWrapper);\n\t// Set final animated styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \"0.7\"}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transform: \"translateY(0px)\"}\n\t]);\n};\n\nModal.prototype.adjustPageClass = function() {\n\tvar windowContainer = $tw.pageContainer ? ($tw.pageContainer === this.srcDocument.body.firstChild ? $tw.pageContainer : this.srcDocument.body.firstChild) : null;\n\tif(windowContainer) {\n\t\t$tw.utils.toggleClass(windowContainer,\"tc-modal-displayed\",this.modalCount &gt; 0);\n\t}\n};\n\nexports.Modal = Modal;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/notifier.js": {
            "title": "$:/core/modules/utils/dom/notifier.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/notifier.js\ntype: application/javascript\nmodule-type: utils\n\nNotifier mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nvar Notifier = function(wiki) {\n\tthis.wiki = wiki;\n};\n\n/*\nDisplay a notification\n\ttitle: Title of tiddler containing the notification text\n\toptions: see below\nOptions include:\n*/\nNotifier.prototype.display = function(title,options) {\n\toptions = options || {};\n\t// Create the wrapper divs\n\tvar self = this,\n\t\tnotification = document.createElement(\"div\"),\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\trefreshHandler;\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Add classes\n\t$tw.utils.addClass(notification,\"tc-notification\");\n\t// Create the variables\n\tvar variables = $tw.utils.extend({currentTiddler: title},options.variables);\n\t// Render the body of the notification\n\tvar widgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tparentWidget: $tw.rootWidget,\n\t\tdocument: document,\n\t\tvariables: variables,\n\t\timportPageMacros: true});\n\twidgetNode.render(notification,null);\n\trefreshHandler = function(changes) {\n\t\twidgetNode.refresh(changes,notification,null);\n\t};\n\tthis.wiki.addEventListener(\"change\",refreshHandler);\n\t// Set the initial styles for the notification\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \"0\"},\n\t\t{transformOrigin: \"0% 0%\"},\n\t\t{transform: \"translateY(\" + (-window.innerHeight) + \"px)\"},\n\t\t{transition: \"opacity \" + duration + \"ms ease-out, \" + $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out\"}\n\t]);\n\t// Add the notification to the DOM\n\tdocument.body.appendChild(notification);\n\t// Force layout\n\t$tw.utils.forceLayout(notification);\n\t// Set final animated styles\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \"1.0\"},\n\t\t{transform: \"translateY(0px)\"}\n\t]);\n\t// Set a timer to remove the notification\n\twindow.setTimeout(function() {\n\t\t// Remove our change event handler\n\t\tself.wiki.removeEventListener(\"change\",refreshHandler);\n\t\t// Force layout and animate the notification away\n\t\t$tw.utils.forceLayout(notification);\n\t\t$tw.utils.setStyle(notification,[\n\t\t\t{opacity: \"0.0\"},\n\t\t\t{transform: \"translateX(\" + (notification.offsetWidth) + \"px)\"}\n\t\t]);\n\t\t// Remove the modal message from the DOM once the transition ends\n\t\tsetTimeout(function() {\n\t\t\tif(notification.parentNode) {\n\t\t\t\tdocument.body.removeChild(notification);\n\t\t\t}\n\t\t},duration);\n\t},$tw.config.preferences.notificationDuration);\n};\n\nexports.Notifier = Notifier;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/popup.js": {
            "title": "$:/core/modules/utils/dom/popup.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/popup.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Popup object prototype that manages popups in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nCreates a Popup object with these options:\n\trootElement: the DOM element to which the popup zapper should be attached\n*/\nvar Popup = function(options) {\n\toptions = options || {};\n\tthis.rootElement = options.rootElement || document.documentElement;\n\tthis.popups = []; // Array of {title:,wiki:,domNode:} objects\n};\n\n/*\nTrigger a popup open or closed. Parameters are in a hashmap:\n\ttitle: title of the tiddler where the popup details are stored\n\tdomNode: dom node to which the popup will be positioned (one of domNode or domNodeRect is required)\n\tdomNodeRect: rectangle to which the popup will be positioned\n\twiki: wiki\n\tforce: if specified, forces the popup state to true or false (instead of toggling it)\n\tfloating: if true, skips registering the popup, meaning that it will need manually clearing\n*/\nPopup.prototype.triggerPopup = function(options) {\n\t// Check if this popup is already active\n\tvar index = this.findPopup(options.title);\n\t// Compute the new state\n\tvar state = index === -1;\n\tif(options.force !== undefined) {\n\t\tstate = options.force;\n\t}\n\t// Show or cancel the popup according to the new state\n\tif(state) {\n\t\tthis.show(options);\n\t} else {\n\t\tthis.cancel(index);\n\t}\n};\n\nPopup.prototype.findPopup = function(title) {\n\tvar index = -1;\n\tfor(var t=0; t&lt;this.popups.length; t++) {\n\t\tif(this.popups[t].title === title) {\n\t\t\tindex = t;\n\t\t}\n\t}\n\treturn index;\n};\n\nPopup.prototype.handleEvent = function(event) {\n\tif(event.type === \"click\") {\n\t\t// Find out what was clicked on\n\t\tvar info = this.popupInfo(event.target),\n\t\t\tcancelLevel = info.popupLevel - 1;\n\t\t// Don't remove the level that was clicked on if we clicked on a handle\n\t\tif(info.isHandle) {\n\t\t\tcancelLevel++;\n\t\t}\n\t\t// Cancel\n\t\tthis.cancel(cancelLevel);\n\t}\n};\n\n/*\nFind the popup level containing a DOM node. Returns:\npopupLevel: count of the number of nested popups containing the specified element\nisHandle: true if the specified element is within a popup handle\n*/\nPopup.prototype.popupInfo = function(domNode) {\n\tvar isHandle = false,\n\t\tpopupCount = 0,\n\t\tnode = domNode;\n\t// First check ancestors to see if we're within a popup handle\n\twhile(node) {\n\t\tif($tw.utils.hasClass(node,\"tc-popup-handle\")) {\n\t\t\tisHandle = true;\n\t\t\tpopupCount++;\n\t\t}\n\t\tif($tw.utils.hasClass(node,\"tc-popup-keep\")) {\n\t\t\tisHandle = true;\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\t// Then count the number of ancestor popups\n\tnode = domNode;\n\twhile(node) {\n\t\tif($tw.utils.hasClass(node,\"tc-popup\")) {\n\t\t\tpopupCount++;\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\tvar info = {\n\t\tpopupLevel: popupCount,\n\t\tisHandle: isHandle\n\t};\n\treturn info;\n};\n\n/*\nDisplay a popup by adding it to the stack\n*/\nPopup.prototype.show = function(options) {\n\t// Find out what was clicked on\n\tvar info = this.popupInfo(options.domNode);\n\t// Cancel any higher level popups\n\tthis.cancel(info.popupLevel);\n\n\t// Store the popup details if not already there\n\tif(!options.floating &amp;&amp; this.findPopup(options.title) === -1) {\n\t\tthis.popups.push({\n\t\t\ttitle: options.title,\n\t\t\twiki: options.wiki,\n\t\t\tdomNode: options.domNode,\n\t\t\tnoStateReference: options.noStateReference\n\t\t});\n\t}\n\t// Set the state tiddler\n\tvar rect;\n\tif(options.domNodeRect) {\n\t\trect = options.domNodeRect;\n\t} else {\n\t\trect = {\n\t\t\tleft: options.domNode.offsetLeft,\n\t\t\ttop: options.domNode.offsetTop,\n\t\t\twidth: options.domNode.offsetWidth,\n\t\t\theight: options.domNode.offsetHeight\n\t\t};\n\t}\n\tvar popupRect = \"(\" + rect.left + \",\" + rect.top + \",\" + \n\t\t\t\trect.width + \",\" + rect.height + \")\";\n\tif(options.noStateReference) {\n\t\toptions.wiki.setText(options.title,\"text\",undefined,popupRect);\n\t} else {\n\t\toptions.wiki.setTextReference(options.title,popupRect);\n\t}\n\t// Add the click handler if we have any popups\n\tif(this.popups.length &gt; 0) {\n\t\tthis.rootElement.addEventListener(\"click\",this,true);\t\t\n\t}\n};\n\n/*\nCancel all popups at or above a specified level or DOM node\nlevel: popup level to cancel (0 cancels all popups)\n*/\nPopup.prototype.cancel = function(level) {\n\tvar numPopups = this.popups.length;\n\tlevel = Math.max(0,Math.min(level,numPopups));\n\tfor(var t=level; t&lt;numPopups; t++) {\n\t\tvar popup = this.popups.pop();\n\t\tif(popup.title) {\n\t\t\tif(popup.noStateReference) {\n\t\t\t\tpopup.wiki.deleteTiddler(popup.title);\n\t\t\t} else {\n\t\t\t\tpopup.wiki.deleteTiddler($tw.utils.parseTextReference(popup.title).title);\n        \t\t}\n\t\t}\n\t}\n\tif(this.popups.length === 0) {\n\t\tthis.rootElement.removeEventListener(\"click\",this,false);\n\t}\n};\n\n/*\nReturns true if the specified title and text identifies an active popup\n*/\nPopup.prototype.readPopupState = function(text) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/;\n\treturn popupLocationRegExp.test(text);\n};\n\nexports.Popup = Popup;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/scroller.js": {
            "title": "$:/core/modules/utils/dom/scroller.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/scroller.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Scroller object prototype that manages scrolling in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nEvent handler for when the `tm-scroll` event hits the document body\n*/\nvar PageScroller = function() {\n\tthis.idRequestFrame = null;\n\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\tfunction(callback) {\n\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t};\n\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\twindow.webkitCancelAnimationFrame ||\n\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\twindow.mozCancelAnimationFrame ||\n\t\twindow.mozCancelRequestAnimationFrame ||\n\t\tfunction(id) {\n\t\t\twindow.clearTimeout(id);\n\t\t};\n};\n\nPageScroller.prototype.isScrolling = function() {\n\treturn this.idRequestFrame !== null;\n}\n\nPageScroller.prototype.cancelScroll = function(srcWindow) {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(srcWindow,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle an event\n*/\nPageScroller.prototype.handleEvent = function(event) {\n\tif(event.type === \"tm-scroll\") {\n\t\tif(event.paramObject &amp;&amp; event.paramObject.selector) {\n\t\t\tthis.scrollSelectorIntoView(null,event.paramObject.selector);\n\t\t} else {\n\t\t\tthis.scrollIntoView(event.target);\t\t\t\n\t\t}\n\t\treturn false; // Event was handled\n\t}\n\treturn true;\n};\n\n/*\nHandle a scroll event hitting the page document\n*/\nPageScroller.prototype.scrollIntoView = function(element,callback) {\n\tvar self = this,\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t    srcWindow = element ? element.ownerDocument.defaultView : window;\n\t// Now get ready to scroll the body\n\tthis.cancelScroll(srcWindow);\n\tthis.startTime = Date.now();\n\t// Get the height of any position:fixed toolbars\n\tvar toolbar = srcWindow.document.querySelector(\".tc-adjust-top-of-scroll\"),\n\t\toffset = 0;\n\tif(toolbar) {\n\t\toffset = toolbar.offsetHeight;\n\t}\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar getBounds = function() {\n\t\t\tvar clientBounds = typeof callback === 'function' ? callback() : element.getBoundingClientRect(),\n\t\t\t\tscrollPosition = $tw.utils.getScrollPosition(srcWindow);\n\t\t\treturn {\n\t\t\t\tleft: clientBounds.left + scrollPosition.x,\n\t\t\t\ttop: clientBounds.top + scrollPosition.y - offset,\n\t\t\t\twidth: clientBounds.width,\n\t\t\t\theight: clientBounds.height\n\t\t\t};\n\t\t},\n\t\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\t\t// targetPos/targetSize - position and size of the target element\n\t\t// currentPos/currentSize - position and size of the current scroll viewport\n\t\t// returns: new position of the scroll viewport\n\t\tgetEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\tvar newPos = targetPos;\n\t\t\t// If we are scrolling within 50 pixels of the top/left then snap to zero\n\t\t\tif(newPos &lt; 50) {\n\t\t\t\tnewPos = 0;\n\t\t\t}\n\t\t\treturn newPos;\n\t\t},\n\t\tdrawFrame = function drawFrame() {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll(srcWindow);\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\tvar scrollPosition = $tw.utils.getScrollPosition(srcWindow),\n\t\t\t\tbounds = getBounds(),\n\t\t\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,srcWindow.innerWidth),\n\t\t\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,srcWindow.innerHeight);\n\t\t\tsrcWindow.scrollTo(scrollPosition.x + (endX - scrollPosition.x) * t,scrollPosition.y + (endY - scrollPosition.y) * t);\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(srcWindow,drawFrame);\n\t\t\t}\n\t\t};\n\tdrawFrame();\n};\n\nPageScroller.prototype.scrollSelectorIntoView = function(baseElement,selector,callback) {\n\tbaseElement = baseElement || document.body;\n\tvar element = baseElement.querySelector(selector);\n\tif(element) {\n\t\tthis.scrollIntoView(element,callback);\t\t\n\t}\n};\n\nexports.PageScroller = PageScroller;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/edition-info.js": {
            "title": "$:/core/modules/utils/edition-info.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/edition-info.js\ntype: application/javascript\nmodule-type: utils-node\n\nInformation about the available editions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar fs = require(\"fs\"),\n\tpath = require(\"path\");\n\nvar editionInfo;\n\nexports.getEditionInfo = function() {\n\tif(!editionInfo) {\n\t\t// Enumerate the edition paths\n\t\tvar editionPaths = $tw.getLibraryItemSearchPaths($tw.config.editionsPath,$tw.config.editionsEnvVar);\n\t\teditionInfo = {};\n\t\tfor(var editionIndex=0; editionIndex&lt;editionPaths.length; editionIndex++) {\n\t\t\tvar editionPath = editionPaths[editionIndex];\n\t\t\t// Enumerate the folders\n\t\t\tvar entries = fs.readdirSync(editionPath);\n\t\t\tfor(var entryIndex=0; entryIndex&lt;entries.length; entryIndex++) {\n\t\t\t\tvar entry = entries[entryIndex];\n\t\t\t\t// Check if directories have a valid tiddlywiki.info\n\t\t\t\tif(!editionInfo[entry] &amp;&amp; $tw.utils.isDirectory(path.resolve(editionPath,entry))) {\n\t\t\t\t\tvar info;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tinfo = JSON.parse(fs.readFileSync(path.resolve(editionPath,entry,\"tiddlywiki.info\"),\"utf8\"));\n\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t}\n\t\t\t\t\tif(info) {\n\t\t\t\t\t\teditionInfo[entry] = info;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn editionInfo;\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils-node"
        },
        "$:/core/modules/utils/escapecss.js": {
            "title": "$:/core/modules/utils/escapecss.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/escapecss.js\ntype: application/javascript\nmodule-type: utils\n\nProvides CSS.escape() functionality.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, window: false */\n\"use strict\";\n\nexports.escapeCSS = (function() {\n\t// use browser's native CSS.escape() function if available\n\tif ($tw.browser &amp;&amp; window.CSS &amp;&amp; window.CSS.escape) {\n\t\treturn window.CSS.escape;\n\t}\n\n\t// otherwise, a utility method is provided\n\t// see also https://drafts.csswg.org/cssom/#serialize-an-identifier\n\n\t/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n\treturn function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index &lt; length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, […]\n\t\t\t\t(codeUnit &gt;= 0x0001 &amp;&amp; codeUnit &lt;= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), […]\n\t\t\t\t(index == 0 &amp;&amp; codeUnit &gt;= 0x0030 &amp;&amp; codeUnit &lt;= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &amp;&amp;\n\t\t\t\t\tcodeUnit &gt;= 0x0030 &amp;&amp; codeUnit &lt;= 0x0039 &amp;&amp;\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, […]\n\t\t\t\tindex == 0 &amp;&amp;\n\t\t\t\tlength == 1 &amp;&amp;\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (\n\t\t\t\tcodeUnit &gt;= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit &gt;= 0x0030 &amp;&amp; codeUnit &lt;= 0x0039 ||\n\t\t\t\tcodeUnit &gt;= 0x0041 &amp;&amp; codeUnit &lt;= 0x005A ||\n\t\t\t\tcodeUnit &gt;= 0x0061 &amp;&amp; codeUnit &lt;= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n})();\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/fakedom.js": {
            "title": "$:/core/modules/utils/fakedom.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/fakedom.js\ntype: application/javascript\nmodule-type: global\n\nA barebones implementation of DOM interfaces needed by the rendering mechanism.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Sequence number used to enable us to track objects for testing\nvar sequenceNumber = null;\n\nvar bumpSequenceNumber = function(object) {\n\tif(sequenceNumber !== null) {\n\t\tobject.sequenceNumber = sequenceNumber++;\n\t}\n};\n\nvar TW_Node = function (){\n\tthrow TypeError(\"Illegal constructor\");\n};\n\nObject.defineProperty(TW_Node.prototype, 'ELEMENT_NODE', {\n\tget: function() {\n\t\treturn 1;\n\t}\n});\n\nObject.defineProperty(TW_Node.prototype, 'TEXT_NODE', {\n\tget: function() {\n\t\treturn 3;\n\t}\n});\n\nvar TW_TextNode = function(text) {\n\tbumpSequenceNumber(this);\n\tthis.textContent = text + \"\";\n};\n\nTW_TextNode.prototype = Object.create(TW_Node.prototype);\n\nObject.defineProperty(TW_TextNode.prototype, \"nodeType\", {\n\tget: function() {\n\t\treturn this.TEXT_NODE;\n\t}\n});\n\nObject.defineProperty(TW_TextNode.prototype, \"formattedTextContent\", {\n\tget: function() {\n\t\treturn this.textContent.replace(/(\\r?\\n)/g,\"\");\n\t}\n});\n\nvar TW_Element = function(tag,namespace) {\n\tbumpSequenceNumber(this);\n\tthis.isTiddlyWikiFakeDom = true;\n\tthis.tag = tag;\n\tthis.attributes = {};\n\tthis.isRaw = false;\n\tthis.children = [];\n\tthis._style = {};\n\tthis.namespaceURI = namespace || \"http://www.w3.org/1999/xhtml\";\n};\n\nTW_Element.prototype = Object.create(TW_Node.prototype);\n\nObject.defineProperty(TW_Element.prototype, \"style\", {\n\tget: function() {\n\t\treturn this._style;\n\t},\n\tset: function(str) {\n\t\tvar self = this;\n\t\tstr = str || \"\";\n\t\t$tw.utils.each(str.split(\";\"),function(declaration) {\n\t\t\tvar parts = declaration.split(\":\"),\n\t\t\t\tname = $tw.utils.trim(parts[0]),\n\t\t\t\tvalue = $tw.utils.trim(parts[1]);\n\t\t\tif(name &amp;&amp; value) {\n\t\t\t\tself._style[$tw.utils.convertStyleNameToPropertyName(name)] = value;\n\t\t\t}\n\t\t});\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"nodeType\", {\n\tget: function() {\n\t\treturn this.ELEMENT_NODE;\n\t}\n});\n\nTW_Element.prototype.getAttribute = function(name) {\n\tif(this.isRaw) {\n\t\tthrow \"Cannot getAttribute on a raw TW_Element\";\n\t}\n\treturn this.attributes[name];\n};\n\nTW_Element.prototype.setAttribute = function(name,value) {\n\tif(this.isRaw) {\n\t\tthrow \"Cannot setAttribute on a raw TW_Element\";\n\t}\n\tthis.attributes[name] = value + \"\";\n};\n\nTW_Element.prototype.setAttributeNS = function(namespace,name,value) {\n\tthis.setAttribute(name,value);\n};\n\nTW_Element.prototype.removeAttribute = function(name) {\n\tif(this.isRaw) {\n\t\tthrow \"Cannot removeAttribute on a raw TW_Element\";\n\t}\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\tdelete this.attributes[name];\n\t}\n};\n\nTW_Element.prototype.appendChild = function(node) {\n\tthis.children.push(node);\n\tnode.parentNode = this;\n};\n\nTW_Element.prototype.insertBefore = function(node,nextSibling) {\n\tif(nextSibling) {\n\t\tvar p = this.children.indexOf(nextSibling);\n\t\tif(p !== -1) {\n\t\t\tthis.children.splice(p,0,node);\n\t\t\tnode.parentNode = this;\n\t\t} else {\n\t\t\tthis.appendChild(node);\n\t\t}\n\t} else {\n\t\tthis.appendChild(node);\n\t}\n};\n\nTW_Element.prototype.removeChild = function(node) {\n\tvar p = this.children.indexOf(node);\n\tif(p !== -1) {\n\t\tthis.children.splice(p,1);\n\t}\n};\n\nTW_Element.prototype.hasChildNodes = function() {\n\treturn !!this.children.length;\n};\n\nObject.defineProperty(TW_Element.prototype, \"childNodes\", {\n\tget: function() {\n\t\treturn this.children;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"firstChild\", {\n\tget: function() {\n\t\treturn this.children[0];\n\t}\n});\n\nTW_Element.prototype.addEventListener = function(type,listener,useCapture) {\n\t// Do nothing\n};\n\nObject.defineProperty(TW_Element.prototype, \"tagName\", {\n\tget: function() {\n\t\treturn this.tag || \"\";\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"className\", {\n\tget: function() {\n\t\treturn this.attributes[\"class\"] || \"\";\n\t},\n\tset: function(value) {\n\t\tthis.attributes[\"class\"] = value + \"\";\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"value\", {\n\tget: function() {\n\t\treturn this.attributes.value || \"\";\n\t},\n\tset: function(value) {\n\t\tthis.attributes.value = value + \"\";\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"outerHTML\", {\n\tget: function() {\n\t\tvar output = [],attr,a,v;\n\t\toutput.push(\"&lt;\",this.tag);\n\t\tif(this.attributes) {\n\t\t\tattr = [];\n\t\t\tfor(a in this.attributes) {\n\t\t\t\tattr.push(a);\n\t\t\t}\n\t\t\tattr.sort();\n\t\t\tfor(a=0; a&lt;attr.length; a++) {\n\t\t\t\tv = this.attributes[attr[a]];\n\t\t\t\tif(v !== undefined) {\n\t\t\t\t\toutput.push(\" \",attr[a],\"=\\\"\",$tw.utils.htmlEncode(v),\"\\\"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(this._style) {\n\t\t\tvar style = [];\n\t\t\tfor(var s in this._style) {\n\t\t\t\tstyle.push($tw.utils.convertPropertyNameToStyleName(s) + \":\" + this._style[s] + \";\");\n\t\t\t}\n\t\t\tif(style.length &gt; 0) {\n\t\t\t\toutput.push(\" style=\\\"\",style.join(\"\"),\"\\\"\");\n\t\t\t}\n\t\t}\n\t\toutput.push(\"&gt;\");\n\t\tif($tw.config.htmlVoidElements.indexOf(this.tag) === -1) {\n\t\t\toutput.push(this.innerHTML);\n\t\t\toutput.push(\"&lt;/\",this.tag,\"&gt;\");\n\t\t}\n\t\treturn output.join(\"\");\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"innerHTML\", {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\treturn this.rawHTML;\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tif(node instanceof TW_Element) {\n\t\t\t\t\tb.push(node.outerHTML);\n\t\t\t\t} else if(node instanceof TW_TextNode) {\n\t\t\t\t\tb.push($tw.utils.htmlEncode(node.textContent));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn b.join(\"\");\n\t\t}\n\t},\n\tset: function(value) {\n\t\tthis.isRaw = true;\n\t\tthis.rawHTML = value;\n\t\tthis.rawTextContent = null;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"textInnerHTML\", {\n\tset: function(value) {\n\t\tif(this.isRaw) {\n\t\t\tthis.rawTextContent = value;\n\t\t} else {\n\t\t\tthrow \"Cannot set textInnerHTML of a non-raw TW_Element\";\n\t\t}\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"textContent\", {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\tif(this.rawTextContent === null) {\n\t\t\t\treturn \"\";\n\t\t\t} else {\n\t\t\t\treturn this.rawTextContent;\n\t\t\t}\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.textContent);\n\t\t\t});\n\t\t\treturn b.join(\"\");\n\t\t}\n\t},\n\tset: function(value) {\n\t\tthis.children = [new TW_TextNode(value)];\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"formattedTextContent\", {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\treturn \"\";\n\t\t} else {\n\t\t\tvar b = [],\n\t\t\t\tisBlock = $tw.config.htmlBlockElements.indexOf(this.tag) !== -1;\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\"\\n\");\n\t\t\t}\n\t\t\tif(this.tag === \"li\") {\n\t\t\t\tb.push(\"* \");\n\t\t\t}\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.formattedTextContent);\n\t\t\t});\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\"\\n\");\n\t\t\t}\n\t\t\treturn b.join(\"\");\n\t\t}\n\t}\n});\n\nvar document = {\n\tsetSequenceNumber: function(value) {\n\t\tsequenceNumber = value;\n\t},\n\tcreateElementNS: function(namespace,tag) {\n\t\treturn new TW_Element(tag,namespace);\n\t},\n\tcreateElement: function(tag) {\n\t\treturn new TW_Element(tag);\n\t},\n\tcreateTextNode: function(text) {\n\t\treturn new TW_TextNode(text);\n\t},\n\tcompatMode: \"CSS1Compat\", // For KaTeX to know that we're not a browser in quirks mode\n\tisTiddlyWikiFakeDom: true\n};\n\nexports.fakeDocument = document;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/utils/filesystem.js": {
            "title": "$:/core/modules/utils/filesystem.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/filesystem.js\ntype: application/javascript\nmodule-type: utils-node\n\nFile system utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar fs = require(\"fs\"),\n\tpath = require(\"path\");\n\n/*\nReturn the subdirectories of a path\n*/\nexports.getSubdirectories = function(dirPath) {\n\tif(!$tw.utils.isDirectory(dirPath)) {\n\t\treturn null;\n\t}\n\tvar subdirs = [];\n\t$tw.utils.each(fs.readdirSync(dirPath),function(item) {\n\t\tif($tw.utils.isDirectory(path.resolve(dirPath,item))) {\n\t\t\tsubdirs.push(item);\n\t\t}\n\t});\n\treturn subdirs;\n}\n\n/*\nRecursively (and synchronously) copy a directory and all its content\n*/\nexports.copyDirectory = function(srcPath,dstPath) {\n\t// Remove any trailing path separators\n\tsrcPath = path.resolve($tw.utils.removeTrailingSeparator(srcPath));\n\tdstPath = path.resolve($tw.utils.removeTrailingSeparator(dstPath));\n\t// Check that neither director is within the other\n\tif(srcPath.substring(0,dstPath.length) === dstPath || dstPath.substring(0,srcPath.length) === srcPath) {\n\t\treturn \"Cannot copy nested directories\";\n\t}\n\t// Create the destination directory\n\tvar err = $tw.utils.createDirectory(dstPath);\n\tif(err) {\n\t\treturn err;\n\t}\n\t// Function to copy a folder full of files\n\tvar copy = function(srcPath,dstPath) {\n\t\tvar srcStats = fs.lstatSync(srcPath),\n\t\t\tdstExists = fs.existsSync(dstPath);\n\t\tif(srcStats.isFile()) {\n\t\t\t$tw.utils.copyFile(srcPath,dstPath);\n\t\t} else if(srcStats.isDirectory()) {\n\t\t\tvar items = fs.readdirSync(srcPath);\n\t\t\tfor(var t=0; t&lt;items.length; t++) {\n\t\t\t\tvar item = items[t],\n\t\t\t\t\terr = copy(srcPath + path.sep + item,dstPath + path.sep + item);\n\t\t\t\tif(err) {\n\t\t\t\t\treturn err;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tcopy(srcPath,dstPath);\n\treturn null;\n};\n\n/*\nCopy a file\n*/\nvar FILE_BUFFER_LENGTH = 64 * 1024,\n\tfileBuffer;\n\nexports.copyFile = function(srcPath,dstPath) {\n\t// Create buffer if required\n\tif(!fileBuffer) {\n\t\tfileBuffer = Buffer.alloc(FILE_BUFFER_LENGTH);\n\t}\n\t// Create any directories in the destination\n\t$tw.utils.createDirectory(path.dirname(dstPath));\n\t// Copy the file\n\tvar srcFile = fs.openSync(srcPath,\"r\"),\n\t\tdstFile = fs.openSync(dstPath,\"w\"),\n\t\tbytesRead = 1,\n\t\tpos = 0;\n\twhile (bytesRead &gt; 0) {\n\t\tbytesRead = fs.readSync(srcFile,fileBuffer,0,FILE_BUFFER_LENGTH,pos);\n\t\tfs.writeSync(dstFile,fileBuffer,0,bytesRead);\n\t\tpos += bytesRead;\n\t}\n\tfs.closeSync(srcFile);\n\tfs.closeSync(dstFile);\n\treturn null;\n};\n\n/*\nRemove trailing path separator\n*/\nexports.removeTrailingSeparator = function(dirPath) {\n\tvar len = dirPath.length;\n\tif(dirPath.charAt(len-1) === path.sep) {\n\t\tdirPath = dirPath.substr(0,len-1);\n\t}\n\treturn dirPath;\n};\n\n/*\nRecursively create a directory\n*/\nexports.createDirectory = function(dirPath) {\n\tif(dirPath.substr(dirPath.length-1,1) !== path.sep) {\n\t\tdirPath = dirPath + path.sep;\n\t}\n\tvar pos = 1;\n\tpos = dirPath.indexOf(path.sep,pos);\n\twhile(pos !== -1) {\n\t\tvar subDirPath = dirPath.substr(0,pos);\n\t\tif(!$tw.utils.isDirectory(subDirPath)) {\n\t\t\ttry {\n\t\t\t\tfs.mkdirSync(subDirPath);\n\t\t\t} catch(e) {\n\t\t\t\treturn \"Error creating directory '\" + subDirPath + \"'\";\n\t\t\t}\n\t\t}\n\t\tpos = dirPath.indexOf(path.sep,pos + 1);\n\t}\n\treturn null;\n};\n\n/*\nRecursively create directories needed to contain a specified file\n*/\nexports.createFileDirectories = function(filePath) {\n\treturn $tw.utils.createDirectory(path.dirname(filePath));\n};\n\n/*\nRecursively delete a directory\n*/\nexports.deleteDirectory = function(dirPath) {\n\tif(fs.existsSync(dirPath)) {\n\t\tvar entries = fs.readdirSync(dirPath);\n\t\tfor(var entryIndex=0; entryIndex&lt;entries.length; entryIndex++) {\n\t\t\tvar currPath = dirPath + path.sep + entries[entryIndex];\n\t\t\tif(fs.lstatSync(currPath).isDirectory()) {\n\t\t\t\t$tw.utils.deleteDirectory(currPath);\n\t\t\t} else {\n\t\t\t\tfs.unlinkSync(currPath);\n\t\t\t}\n\t\t}\n\tfs.rmdirSync(dirPath);\n\t}\n\treturn null;\n};\n\n/*\nCheck if a path identifies a directory\n*/\nexports.isDirectory = function(dirPath) {\n\treturn fs.existsSync(dirPath) &amp;&amp; fs.statSync(dirPath).isDirectory();\n};\n\n/*\nCheck if a path identifies a directory that is empty\n*/\nexports.isDirectoryEmpty = function(dirPath) {\n\tif(!$tw.utils.isDirectory(dirPath)) {\n\t\treturn false;\n\t}\n\tvar files = fs.readdirSync(dirPath),\n\t\tempty = true;\n\t$tw.utils.each(files,function(file,index) {\n\t\tif(file.charAt(0) !== \".\") {\n\t\t\tempty = false;\n\t\t}\n\t});\n\treturn empty;\n};\n\n/*\nRecursively delete a tree of empty directories\n*/\nexports.deleteEmptyDirs = function(dirpath,callback) {\n\tvar self = this;\n\tfs.readdir(dirpath,function(err,files) {\n\t\tif(err) {\n\t\t\treturn callback(err);\n\t\t}\n\t\tif(files.length &gt; 0) {\n\t\t\treturn callback(null);\n\t\t}\n\t\tfs.rmdir(dirpath,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tself.deleteEmptyDirs(path.dirname(dirpath),callback);\n\t\t});\n\t});\n};\n\n/*\nCreate a fileInfo object for saving a tiddler:\n\tfilepath: the absolute path to the file containing the tiddler\n\ttype: the type of the tiddler file on disk (NOT the type of the tiddler)\n\thasMetaFile: true if the file also has a companion .meta file\n\tisEditableFile: true if the tiddler was loaded via non-standard options &amp; marked editable\nOptions include:\n\tdirectory: absolute path of root directory to which we are saving\n\tpathFilters: optional array of filters to be used to generate the base path\n\textFilters: optional array of filters to be used to generate the base path\n\twiki: optional wiki for evaluating the pathFilters,\n\tfileInfo: an existing fileInfo to check against\n*/\nexports.generateTiddlerFileInfo = function(tiddler,options) {\n\tvar fileInfo = {}, metaExt;\n\t// Propagate the isEditableFile flag\n\tif(options.fileInfo &amp;&amp; !!options.fileInfo.isEditableFile) {\n\t\tfileInfo.isEditableFile = true;\n\t\tfileInfo.originalpath = options.fileInfo.originalpath;\n\t}\n\t// Check if the tiddler has any unsafe fields that can't be expressed in a .tid or .meta file: containing control characters, or leading/trailing whitespace\n\tvar hasUnsafeFields = false;\n\t$tw.utils.each(tiddler.getFieldStrings(),function(value,fieldName) {\n\t\tif(fieldName !== \"text\") {\n\t\t\thasUnsafeFields = hasUnsafeFields || /[\\x00-\\x1F]/mg.test(value);\n\t\t\thasUnsafeFields = hasUnsafeFields || ($tw.utils.trim(value) !== value);\n\t\t}\n\t});\n\t// Check for field values \n\tif(hasUnsafeFields) {\n\t\t// Save as a JSON file\n\t\tfileInfo.type = \"application/json\";\n\t\tfileInfo.hasMetaFile = false;\n\t} else {\n\t\t// Save as a .tid or a text/binary file plus a .meta file\n\t\tvar tiddlerType = tiddler.fields.type || \"text/vnd.tiddlywiki\";\n\t\tif(tiddlerType === \"text/vnd.tiddlywiki\") {\n\t\t\t// Save as a .tid file\n\t\t\tfileInfo.type = \"application/x-tiddler\";\n\t\t\tfileInfo.hasMetaFile = false;\n\t\t} else {\n\t\t\t// Save as a text/binary file and a .meta file\n\t\t\tfileInfo.type = tiddlerType;\n\t\t\tfileInfo.hasMetaFile = true;\n\t\t}\n\t\tif(options.extFilters) {\n\t\t\t// Check for extension overrides\n\t\t\tmetaExt = $tw.utils.generateTiddlerExtension(tiddler.fields.title,{\n\t\t\t\textFilters: options.extFilters,\n\t\t\t\twiki: options.wiki\n\t\t\t});\n\t\t\tif(metaExt) {\n\t\t\t\tif(metaExt === \".tid\") {\n\t\t\t\t\t// Overriding to the .tid extension needs special handling\n\t\t\t\t\tfileInfo.type = \"application/x-tiddler\";\n\t\t\t\t\tfileInfo.hasMetaFile = false;\n\t\t\t\t} else if (metaExt === \".json\") {\n\t\t\t\t\t// Overriding to the .json extension needs special handling\n\t\t\t\t\tfileInfo.type = \"application/json\";\n\t\t\t\t\tfileInfo.hasMetaFile = false;\n\t\t\t\t} else {\n\t\t\t\t\t//If the new type matches a known extention, use that MIME type's encoding\n\t\t\t\t\tvar extInfo = $tw.utils.getFileExtensionInfo(metaExt);\n\t\t\t\t\tfileInfo.type = extInfo ? extInfo.type : null;\n\t\t\t\t\tfileInfo.encoding = $tw.utils.getTypeEncoding(metaExt);\n\t\t\t\t\tfileInfo.hasMetaFile = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Take the file extension from the tiddler content type or metaExt\n\tvar contentTypeInfo = $tw.config.contentTypeInfo[fileInfo.type] || {extension: \"\"};\n\t// Generate the filepath\n\tfileInfo.filepath = $tw.utils.generateTiddlerFilepath(tiddler.fields.title,{\n\t\textension: metaExt || contentTypeInfo.extension,\n\t\tdirectory: options.directory,\n\t\tpathFilters: options.pathFilters,\n\t\twiki: options.wiki,\n\t\tfileInfo: options.fileInfo\n\t});\n\treturn fileInfo;\n};\n\n/*\nGenerate the file extension for saving a tiddler\nOptions include:\n\textFilters: optional array of filters to be used to generate the extention\n\twiki: optional wiki for evaluating the extFilters\n*/\nexports.generateTiddlerExtension = function(title,options) {\n\tvar extension;\n\t// Check if any of the extFilters applies\n\tif(options.extFilters &amp;&amp; options.wiki) { \n\t\t$tw.utils.each(options.extFilters,function(filter) {\n\t\t\tif(!extension) {\n\t\t\t\tvar source = options.wiki.makeTiddlerIterator([title]),\n\t\t\t\t\tresult = options.wiki.filterTiddlers(filter,null,source);\n\t\t\t\tif(result.length &gt; 0) {\n\t\t\t\t\textension = result[0];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn extension;\n};\n\n/*\nGenerate the filepath for saving a tiddler\nOptions include:\n\textension: file extension to be added the finished filepath\n\tdirectory: absolute path of root directory to which we are saving\n\tpathFilters: optional array of filters to be used to generate the base path\n\twiki: optional wiki for evaluating the pathFilters\n\tfileInfo: an existing fileInfo object to check against\n*/\nexports.generateTiddlerFilepath = function(title,options) {\n\tvar directory = options.directory || \"\",\n\t\textension = options.extension || \"\",\n\t\toriginalpath = (options.fileInfo &amp;&amp; options.fileInfo.originalpath) ? options.fileInfo.originalpath : \"\",\n\t\tfilepath;\n\t// Check if any of the pathFilters applies\n\tif(options.pathFilters &amp;&amp; options.wiki) {\n\t\t$tw.utils.each(options.pathFilters,function(filter) {\n\t\t\tif(!filepath) {\n\t\t\t\tvar source = options.wiki.makeTiddlerIterator([title]),\n\t\t\t\t\tresult = options.wiki.filterTiddlers(filter,null,source);\n\t\t\t\tif(result.length &gt; 0) {\n\t\t\t\t\tfilepath = result[0];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tif(!filepath &amp;&amp; !!originalpath) {\n\t\t//Use the originalpath without the extension\n\t\tvar ext = path.extname(originalpath);\n\t\tfilepath = originalpath.substring(0,originalpath.length - ext.length);\n\t} else if(!filepath) {\n\t\tfilepath = title;\n\t\t// Remove any forward or backward slashes so we don't create directories\n\t\tfilepath = filepath.replace(/\\/|\\\\/g,\"_\");\n\t}\n\t// Replace any Windows control codes\n\tfilepath = filepath.replace(/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i,\"_$1_\");\n\t// Replace any leading spaces with the same number of underscores\n\tfilepath = filepath.replace(/^ +/,function (u) { return u.replace(/ /g, \"_\")});\n\t//If the path does not start with \".\" or \"..\" &amp;&amp; a path seperator, then\n\tif(!/^\\.{1,2}[/\\\\]/g.test(filepath)) {\n\t\t// Don't let the filename start with any dots because such files are invisible on *nix\n\t\tfilepath = filepath.replace(/^\\.+/g,function (u) { return u.replace(/\\./g, \"_\")});\n\t}\n\t// Replace any Unicode control codes\n\tfilepath = filepath.replace(/[\\x00-\\x1f\\x80-\\x9f]/g,\"_\");\n\t// Replace any characters that can't be used in cross-platform filenames\n\tfilepath = $tw.utils.transliterate(filepath.replace(/&lt;|&gt;|~|\\:|\\\"|\\||\\?|\\*|\\^/g,\"_\"));\n\t// Replace any dots or spaces at the end of the extension with the same number of underscores\n\textension = extension.replace(/[\\. ]+$/, function (u) { return u.replace(/[\\. ]/g, \"_\")});\n\t// Truncate the extension if it is too long\n\tif(extension.length &gt; 32) {\n\t\textension = extension.substr(0,32);\n\t}\n\t// If the filepath already ends in the extension then remove it\n\tif(filepath.substring(filepath.length - extension.length) === extension) {\n\t\tfilepath = filepath.substring(0,filepath.length - extension.length);\n\t}\n\t// Truncate the filename if it is too long\n\tif(filepath.length &gt; 200) {\n\t\tfilepath = filepath.substr(0,200);\n\t}\n\t// If the resulting filename is blank (eg because the title is just punctuation)\n\tif(!filepath || /^_+$/g.test(filepath)) {\n\t\t// ...then just use the character codes of the title\n\t\tfilepath = \"\";\t\n\t\t$tw.utils.each(title.split(\"\"),function(char) {\n\t\t\tif(filepath) {\n\t\t\t\tfilepath += \"-\";\n\t\t\t}\n\t\t\tfilepath += char.charCodeAt(0).toString();\n\t\t});\n\t}\n\t// Add a uniquifier if the file already exists\n\tvar fullPath, oldPath = (options.fileInfo) ? options.fileInfo.filepath : undefined,\n\t\tcount = 0;\n\tdo {\n\t\tfullPath = path.resolve(directory,filepath + (count ? \"_\" + count : \"\") + extension);\n\t\tif(oldPath &amp;&amp; oldPath == fullPath) {\n\t\t\tbreak;\n\t\t}\n\t\tcount++;\n\t} while(fs.existsSync(fullPath));\n\t// If the last write failed with an error, or if path does not start with:\n\t//\tthe resolved options.directory, the resolved wikiPath directory, the wikiTiddlersPath directory, \n\t//\tor the 'originalpath' directory, then encodeURIComponent() and resolve to tiddler directory.\n\tvar writePath = $tw.hooks.invokeHook(\"th-make-tiddler-path\",fullPath,fullPath),\n\t\tencode = (options.fileInfo || {writeError: false}).writeError == true;\n\tif(!encode) {\n\t\tencode = !(writePath.indexOf($tw.boot.wikiTiddlersPath) == 0 ||\n\t\t\twritePath.indexOf(path.resolve(directory)) == 0 ||\n\t\t\twritePath.indexOf(path.resolve($tw.boot.wikiPath)) == 0 ||\n\t\t\twritePath.indexOf(path.resolve($tw.boot.wikiTiddlersPath,originalpath)) == 0 );\n\t\t}\n\tif(encode) {\n\t\twritePath = path.resolve(directory,encodeURIComponent(fullPath));\n\t}\n\t// Return the full path to the file\n\treturn writePath;\n};\n\n/*\nSave a tiddler to a file described by the fileInfo:\n\tfilepath: the absolute path to the file containing the tiddler\n\ttype: the type of the tiddler file (NOT the type of the tiddler)\n\thasMetaFile: true if the file also has a companion .meta file\n*/\nexports.saveTiddlerToFile = function(tiddler,fileInfo,callback) {\n\t$tw.utils.createDirectory(path.dirname(fileInfo.filepath));\n\tif(fileInfo.hasMetaFile) {\n\t\t// Save the tiddler as a separate body and meta file\n\t\tvar typeInfo = $tw.config.contentTypeInfo[tiddler.fields.type || \"text/plain\"] || {encoding: \"utf8\"};\n\t\tfs.writeFile(fileInfo.filepath,tiddler.fields.text || \"\",typeInfo.encoding,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tfs.writeFile(fileInfo.filepath + \".meta\",tiddler.getFieldStringBlock({exclude: [\"text\",\"bag\"]}),\"utf8\",function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\treturn callback(null,fileInfo);\n\t\t\t});\n\t\t});\n\t} else {\n\t\t// Save the tiddler as a self contained templated file\n\t\tif(fileInfo.type === \"application/x-tiddler\") {\n\t\t\tfs.writeFile(fileInfo.filepath,tiddler.getFieldStringBlock({exclude: [\"text\",\"bag\"]}) + (!!tiddler.fields.text ? \"\\n\\n\" + tiddler.fields.text : \"\"),\"utf8\",function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\treturn callback(null,fileInfo);\n\t\t\t});\n\t\t} else {\n\t\t\tfs.writeFile(fileInfo.filepath,JSON.stringify([tiddler.getFieldStrings({exclude: [\"bag\"]})],null,$tw.config.preferences.jsonSpaces),\"utf8\",function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\treturn callback(null,fileInfo);\n\t\t\t});\n\t\t}\n\t}\n};\n\n/*\nSave a tiddler to a file described by the fileInfo:\n\tfilepath: the absolute path to the file containing the tiddler\n\ttype: the type of the tiddler file (NOT the type of the tiddler)\n\thasMetaFile: true if the file also has a companion .meta file\n*/\nexports.saveTiddlerToFileSync = function(tiddler,fileInfo) {\n\t$tw.utils.createDirectory(path.dirname(fileInfo.filepath));\n\tif(fileInfo.hasMetaFile) {\n\t\t// Save the tiddler as a separate body and meta file\n\t\tvar typeInfo = $tw.config.contentTypeInfo[tiddler.fields.type || \"text/plain\"] || {encoding: \"utf8\"};\n\t\tfs.writeFileSync(fileInfo.filepath,tiddler.fields.text || \"\",typeInfo.encoding);\n\t\tfs.writeFileSync(fileInfo.filepath + \".meta\",tiddler.getFieldStringBlock({exclude: [\"text\",\"bag\"]}),\"utf8\");\n\t} else {\n\t\t// Save the tiddler as a self contained templated file\n\t\tif(fileInfo.type === \"application/x-tiddler\") {\n\t\t\tfs.writeFileSync(fileInfo.filepath,tiddler.getFieldStringBlock({exclude: [\"text\",\"bag\"]}) + (!!tiddler.fields.text ? \"\\n\\n\" + tiddler.fields.text : \"\"),\"utf8\");\n\t\t} else {\n\t\t\tfs.writeFileSync(fileInfo.filepath,JSON.stringify([tiddler.getFieldStrings({exclude: [\"bag\"]})],null,$tw.config.preferences.jsonSpaces),\"utf8\");\n\t\t}\n\t}\n\treturn fileInfo;\n};\n\n/*\nDelete a file described by the fileInfo if it exits\n*/\nexports.deleteTiddlerFile = function(fileInfo,callback) {\n\t//Only attempt to delete files that exist on disk\n\tif(!fileInfo.filepath || !fs.existsSync(fileInfo.filepath)) {\n\t\t//For some reason, the tiddler is only in memory or we can't modify the file at this path\n\t\t$tw.syncer.displayError(\"Server deleteTiddlerFile task failed for filepath: \"+fileInfo.filepath);\n\t\treturn callback(null,fileInfo);\n\t}\n\t// Delete the file\n\tfs.unlink(fileInfo.filepath,function(err) {\n\t\tif(err) {\n\t\t\treturn callback(err);\n\t\t}\t\n\t\t// Delete the metafile if present\n\t\tif(fileInfo.hasMetaFile &amp;&amp; fs.existsSync(fileInfo.filepath + \".meta\")) {\n\t\t\tfs.unlink(fileInfo.filepath + \".meta\",function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\treturn $tw.utils.deleteEmptyDirs(path.dirname(fileInfo.filepath),function(err) {\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t}\n\t\t\t\t\treturn callback(null,fileInfo);\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\treturn $tw.utils.deleteEmptyDirs(path.dirname(fileInfo.filepath),function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\treturn callback(null,fileInfo);\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*\nCleanup old files on disk, by comparing the options values:\n\tadaptorInfo from $tw.syncer.tiddlerInfo\n\tbootInfo from $tw.boot.files\n*/\nexports.cleanupTiddlerFiles = function(options,callback) {\n\tvar adaptorInfo = options.adaptorInfo || {},\n\tbootInfo = options.bootInfo || {},\n\ttitle = options.title || \"undefined\";\n\tif(adaptorInfo.filepath &amp;&amp; bootInfo.filepath &amp;&amp; adaptorInfo.filepath !== bootInfo.filepath) {\n\t\t$tw.utils.deleteTiddlerFile(adaptorInfo,function(err) {\n\t\t\tif(err) {\n\t\t\t\tif ((err.code == \"EPERM\" || err.code == \"EACCES\") &amp;&amp; err.syscall == \"unlink\") {\n\t\t\t\t\t// Error deleting the previous file on disk, should fail gracefully\n\t\t\t\t\t$tw.syncer.displayError(\"Server desynchronized. Error cleaning up previous file for tiddler: \\\"\"+title+\"\\\"\",err);\n\t\t\t\t\treturn callback(null,bootInfo);\n\t\t\t\t} else {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn callback(null,bootInfo);\n\t\t});\n\t} else {\n\t\treturn callback(null,bootInfo);\n\t}\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils-node"
        },
        "$:/core/modules/utils/linkedlist.js": {
            "title": "$:/core/modules/utils/linkedlist.js",
            "text": "/*\\\nmodule-type: utils\ntitle: $:/core/modules/utils/linkedlist.js\ntype: application/javascript\n\nThis is a doubly-linked indexed list intended for manipulation, particularly\npushTop, which it does with significantly better performance than an array.\n\n\\*/\n(function(){\n\nfunction LinkedList() {\n\tthis.clear();\n};\n\nLinkedList.prototype.clear = function() {\n\t// LinkedList performs the duty of both the head and tail node\n\tthis.next = Object.create(null);\n\tthis.prev = Object.create(null);\n\tthis.first = undefined;\n\tthis.last = undefined;\n\tthis.length = 0;\n};\n\nLinkedList.prototype.remove = function(value) {\n\tif($tw.utils.isArray(value)) {\n\t\tfor(var t=0; t&lt;value.length; t++) {\n\t\t\t_assertString(value[t]);\n\t\t}\n\t\tfor(var t=0; t&lt;value.length; t++) {\n\t\t\t_removeOne(this,value[t]);\n\t\t}\n\t} else {\n\t\t_assertString(value);\n\t\t_removeOne(this,value);\n\t}\n};\n\n/*\nPush behaves like array.push and accepts multiple string arguments. But it also\naccepts a single array argument too, to be consistent with its other methods.\n*/\nLinkedList.prototype.push = function(/* values */) {\n\tvar values = arguments;\n\tif($tw.utils.isArray(values[0])) {\n\t\tvalues = values[0];\n\t}\n\tfor(var i = 0; i &lt; values.length; i++) {\n\t\t_assertString(values[i]);\n\t}\n\tfor(var i = 0; i &lt; values.length; i++) {\n\t\t_linkToEnd(this,values[i]);\n\t}\n\treturn this.length;\n};\n\nLinkedList.prototype.pushTop = function(value) {\n\tif($tw.utils.isArray(value)) {\n\t\tfor (var t=0; t&lt;value.length; t++) {\n\t\t\t_assertString(value[t]);\n\t\t}\n\t\tfor(var t=0; t&lt;value.length; t++) {\n\t\t\t_removeOne(this,value[t]);\n\t\t}\n\t\tfor(var t=0; t&lt;value.length; t++) {\n\t\t\t_linkToEnd(this,value[t]);\n\t\t}\n\t} else {\n\t\t_assertString(value);\n\t\t_removeOne(this,value);\n\t\t_linkToEnd(this,value);\n\t}\n};\n\nLinkedList.prototype.each = function(callback) {\n\tvar visits = Object.create(null),\n\t\tvalue = this.first;\n\twhile(value !== undefined) {\n\t\tcallback(value);\n\t\tvar next = this.next[value];\n\t\tif(typeof next === \"object\") {\n\t\t\tvar i = visits[value] || 0;\n\t\t\tvisits[value] = i+1;\n\t\t\tvalue = next[i];\n\t\t} else {\n\t\t\tvalue = next;\n\t\t}\n\t}\n};\n\nLinkedList.prototype.toArray = function() {\n\tvar output = new Array(this.length),\n\t\tindex = 0;\n\tthis.each(function(value) { output[index++] = value; });\n\treturn output;\n};\n\nfunction _removeOne(list,value) {\n\tvar prevEntry = list.prev[value],\n\t\tnextEntry = list.next[value],\n\t\tprev = prevEntry,\n\t\tnext = nextEntry;\n\tif(typeof nextEntry === \"object\") {\n\t\tnext = nextEntry[0];\n\t\tprev = prevEntry[0];\n\t}\n\t// Relink preceding element.\n\tif(list.first === value) {\n\t\tlist.first = next\n\t} else if(prev !== undefined) {\n\t\tif(typeof list.next[prev] === \"object\") {\n\t\t\tif(next === undefined) {\n\t\t\t\t// Must have been last, and 'i' would be last element.\n\t\t\t\tlist.next[prev].pop();\n\t\t\t} else {\n\t\t\t\tvar i = list.next[prev].indexOf(value);\n\t\t\t\tlist.next[prev][i] = next;\n\t\t\t}\n\t\t} else {\n\t\t\tlist.next[prev] = next;\n\t\t}\n\t} else {\n\t\treturn;\n\t}\n\t// Now relink following element\n\t// Check \"next !== undefined\" rather than \"list.last === value\" because\n\t// we need to know if the FIRST value is the last in the list, not the last.\n\tif(next !== undefined) {\n\t\tif(typeof list.prev[next] === \"object\") {\n\t\t\tif(prev === undefined) {\n\t\t\t\t// Must have been first, and 'i' would be 0.\n\t\t\t\tlist.prev[next].shift();\n\t\t\t} else {\n\t\t\t\tvar i = list.prev[next].indexOf(value);\n\t\t\t\tlist.prev[next][i] = prev;\n\t\t\t}\n\t\t} else {\n\t\t\tlist.prev[next] = prev;\n\t\t}\n\t} else {\n\t\tlist.last = prev;\n\t}\n\t// Delink actual value. If it uses arrays, just remove first entries.\n\tif(typeof nextEntry === \"object\") {\n\t\tnextEntry.shift();\n\t\tprevEntry.shift();\n\t} else {\n\t\tlist.next[value] = undefined;\n\t\tlist.prev[value] = undefined;\n\t}\n\tlist.length -= 1;\n};\n\n// Sticks the given node onto the end of the list.\nfunction _linkToEnd(list,value) {\n\tif(list.first === undefined) {\n\t\tlist.first = value;\n\t} else {\n\t\t// Does it already exists?\n\t\tif(list.first === value || list.prev[value] !== undefined) {\n\t\t\tif(typeof list.next[value] === \"string\") {\n\t\t\t\tlist.next[value] = [list.next[value]];\n\t\t\t\tlist.prev[value] = [list.prev[value]];\n\t\t\t} else if(typeof list.next[value] === \"undefined\") {\n\t\t\t\t// list.next[value] must be undefined.\n\t\t\t\t// Special case. List already has 1 value. It's at the end.\n\t\t\t\tlist.next[value] = [];\n\t\t\t\tlist.prev[value] = [list.prev[value]];\n\t\t\t}\n\t\t\tlist.prev[value].push(list.last);\n\t\t\t// We do NOT append a new value onto \"next\" list. Iteration will\n\t\t\t// figure out it must point to End-of-List on its own.\n\t\t} else {\n\t\t\tlist.prev[value] = list.last;\n\t\t}\n\t\t// Make the old last point to this new one.\n\t\tif(typeof list.next[list.last] === \"object\") {\n\t\t\tlist.next[list.last].push(value);\n\t\t} else {\n\t\t\tlist.next[list.last] = value;\n\t\t}\n\t}\n\tlist.last = value;\n\tlist.length += 1;\n};\n\nfunction _assertString(value) {\n\tif(typeof value !== \"string\") {\n\t\tthrow \"Linked List only accepts string values, not \" + value;\n\t}\n};\n\nexports.LinkedList = LinkedList;\n\n})();\n",
            "module-type": "utils",
            "type": "application/javascript"
        },
        "$:/core/modules/utils/logger.js": {
            "title": "$:/core/modules/utils/logger.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/logger.js\ntype: application/javascript\nmodule-type: utils\n\nA basic logging implementation\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar ALERT_TAG = \"$:/tags/Alert\";\n\n/*\nMake a new logger\n*/\nfunction Logger(componentName,options) {\n\toptions = options || {};\n\tthis.componentName = componentName || \"\";\n\tthis.colour = options.colour || \"white\";\n\tthis.enable = \"enable\" in options ? options.enable : true;\n\tthis.save = \"save\" in options ? options.save : true;\n\tthis.saveLimit = options.saveLimit || 100 * 1024;\n\tthis.saveBufferLogger = this;\n\tthis.buffer = \"\";\n\tthis.alertCount = 0;\n}\n\nLogger.prototype.setSaveBuffer = function(logger) {\n\tthis.saveBufferLogger = logger;\n};\n\n/*\nLog a message\n*/\nLogger.prototype.log = function(/* args */) {\n\tvar self = this;\n\tif(this.enable) {\n\t\tif(this.saveBufferLogger.save) {\n\t\t\tthis.saveBufferLogger.buffer += $tw.utils.formatDateString(new Date(),\"YYYY MM DD 0hh:0mm:0ss.0XXX\") + \":\";\n\t\t\t$tw.utils.each(Array.prototype.slice.call(arguments,0),function(arg,index) {\n\t\t\t\tself.saveBufferLogger.buffer += \" \" + arg;\n\t\t\t});\n\t\t\tthis.saveBufferLogger.buffer += \"\\n\";\n\t\t\tthis.saveBufferLogger.buffer = this.saveBufferLogger.buffer.slice(-this.saveBufferLogger.saveLimit);\t\t\t\n\t\t}\n\t\tif(console !== undefined &amp;&amp; console.log !== undefined) {\n\t\t\treturn Function.apply.call(console.log, console, [$tw.utils.terminalColour(this.colour),this.componentName + \":\"].concat(Array.prototype.slice.call(arguments,0)).concat($tw.utils.terminalColour()));\n\t\t}\n\t} \n};\n\n/*\nRead the message buffer\n*/\nLogger.prototype.getBuffer = function() {\n\treturn this.saveBufferLogger.buffer;\n};\n\n/*\nLog a structure as a table\n*/\nLogger.prototype.table = function(value) {\n\t(console.table || console.log)(value);\n};\n\n/*\nAlert a message\n*/\nLogger.prototype.alert = function(/* args */) {\n\tif(this.enable) {\n\t\t// Prepare the text of the alert\n\t\tvar text = Array.prototype.join.call(arguments,\" \");\n\t\t// Create alert tiddlers in the browser\n\t\tif($tw.browser) {\n\t\t\t// Check if there is an existing alert with the same text and the same component\n\t\t\tvar existingAlerts = $tw.wiki.getTiddlersWithTag(ALERT_TAG),\n\t\t\t\talertFields,\n\t\t\t\texistingCount,\n\t\t\t\tself = this;\n\t\t\t$tw.utils.each(existingAlerts,function(title) {\n\t\t\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\t\t\tif(tiddler.fields.text === text &amp;&amp; tiddler.fields.component === self.componentName &amp;&amp; tiddler.fields.modified &amp;&amp; (!alertFields || tiddler.fields.modified &lt; alertFields.modified)) {\n\t\t\t\t\t\talertFields = $tw.utils.extend({},tiddler.fields);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(alertFields) {\n\t\t\t\texistingCount = alertFields.count || 1;\n\t\t\t} else {\n\t\t\t\talertFields = {\n\t\t\t\t\ttitle: $tw.wiki.generateNewTitle(\"$:/temp/alerts/alert\",{prefix: \"\"}),\n\t\t\t\t\ttext: text,\n\t\t\t\t\ttags: [ALERT_TAG],\n\t\t\t\t\tcomponent: this.componentName\n\t\t\t\t};\n\t\t\t\texistingCount = 0;\n\t\t\t\tthis.alertCount += 1;\n\t\t\t}\n\t\t\talertFields.modified = new Date();\n\t\t\tif(++existingCount &gt; 1) {\n\t\t\t\talertFields.count = existingCount;\n\t\t\t} else {\n\t\t\t\talertFields.count = undefined;\n\t\t\t}\n\t\t\t$tw.wiki.addTiddler(new $tw.Tiddler(alertFields));\n\t\t\t// Log the alert as well\n\t\t\tthis.log.apply(this,Array.prototype.slice.call(arguments,0));\n\t\t} else {\n\t\t\t// Print an orange message to the console if not in the browser\n\t\t\tconsole.error(\"\\x1b[1;33m\" + text + \"\\x1b[0m\");\n\t\t}\t\t\n\t}\n};\n\n/*\nClear outstanding alerts\n*/\nLogger.prototype.clearAlerts = function() {\n\tvar self = this;\n\tif($tw.browser &amp;&amp; this.alertCount &gt; 0) {\n\t\t$tw.utils.each($tw.wiki.getTiddlersWithTag(ALERT_TAG),function(title) {\n\t\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\t\tif(tiddler.fields.component === self.componentName) {\n\t\t\t\t$tw.wiki.deleteTiddler(title);\n\t\t\t}\n\t\t});\n\t\tthis.alertCount = 0;\n\t}\n};\n\nexports.Logger = Logger;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/parsetree.js": {
            "title": "$:/core/modules/utils/parsetree.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/parsetree.js\ntype: application/javascript\nmodule-type: utils\n\nParse tree utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.addAttributeToParseTreeNode = function(node,name,value) {\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[name] = {type: \"string\", value: value};\n};\n\nexports.getAttributeValueFromParseTreeNode = function(node,name,defaultValue) {\n\tif(node.attributes &amp;&amp; node.attributes[name] &amp;&amp; node.attributes[name].value !== undefined) {\n\t\treturn node.attributes[name].value;\n\t}\n\treturn defaultValue;\n};\n\nexports.addClassToParseTreeNode = function(node,classString) {\n\tvar classes = [];\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[\"class\"] = node.attributes[\"class\"] || {type: \"string\", value: \"\"};\n\tif(node.attributes[\"class\"].type === \"string\") {\n\t\tif(node.attributes[\"class\"].value !== \"\") {\n\t\t\tclasses = node.attributes[\"class\"].value.split(\" \");\n\t\t}\n\t\tif(classString !== \"\") {\n\t\t\t$tw.utils.pushTop(classes,classString.split(\" \"));\n\t\t}\n\t\tnode.attributes[\"class\"].value = classes.join(\" \");\n\t}\n};\n\nexports.addStyleToParseTreeNode = function(node,name,value) {\n\t\tnode.attributes = node.attributes || {};\n\t\tnode.attributes.style = node.attributes.style || {type: \"string\", value: \"\"};\n\t\tif(node.attributes.style.type === \"string\") {\n\t\t\tnode.attributes.style.value += name + \":\" + value + \";\";\n\t\t}\n};\n\nexports.findParseTreeNode = function(nodeArray,search) {\n\tfor(var t=0; t&lt;nodeArray.length; t++) {\n\t\tif(nodeArray[t].type === search.type &amp;&amp; nodeArray[t].tag === search.tag) {\n\t\t\treturn nodeArray[t];\n\t\t}\n\t}\n\treturn undefined;\n};\n\n/*\nHelper to get the text of a parse tree node or array of nodes\n*/\nexports.getParseTreeText = function getParseTreeText(tree) {\n\tvar output = [];\n\tif($tw.utils.isArray(tree)) {\n\t\t$tw.utils.each(tree,function(node) {\n\t\t\toutput.push(getParseTreeText(node));\n\t\t});\n\t} else {\n\t\tif(tree.type === \"text\") {\n\t\t\toutput.push(tree.text);\n\t\t}\n\t\tif(tree.children) {\n\t\t\treturn getParseTreeText(tree.children);\n\t\t}\n\t}\n\treturn output.join(\"\");\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/performance.js": {
            "title": "$:/core/modules/utils/performance.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/performance.js\ntype: application/javascript\nmodule-type: global\n\nPerformance measurement.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nfunction Performance(enabled) {\n\tthis.enabled = !!enabled;\n\tthis.measures = {}; // Hashmap by measurement name of {time:, invocations:}\n\tthis.logger = new $tw.utils.Logger(\"performance\");\n\tthis.showGreeting();\n}\n\nPerformance.prototype.showGreeting = function() {\n\tif($tw.browser) {\n\t\tthis.logger.log(\"Execute $tw.perf.log(); to see filter execution timings\");\t\t\n\t}\n};\n\n/*\nWrap performance reporting around a top level function\n*/\nPerformance.prototype.report = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments);\n\t\t\tself.logger.log(name + \": \" + $tw.utils.timer(startTime).toFixed(2) + \"ms\");\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\nPerformance.prototype.log = function() {\n\tvar self = this,\n\t\ttotalTime = 0,\n\t\torderedMeasures = Object.keys(this.measures).sort(function(a,b) {\n\t\t\tif(self.measures[a].time &gt; self.measures[b].time) {\n\t\t\t\treturn -1;\n\t\t\t} else if (self.measures[a].time &lt; self.measures[b].time) {\n\t\t\t\treturn + 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t$tw.utils.each(orderedMeasures,function(name) {\n\t\ttotalTime += self.measures[name].time;\n\t});\n\tvar results = []\n\t$tw.utils.each(orderedMeasures,function(name) {\n\t\tvar measure = self.measures[name];\n\t\tresults.push({name: name,invocations: measure.invocations, avgTime: measure.time / measure.invocations, totalTime: measure.time, percentTime: (measure.time / totalTime) * 100})\n\t});\n\tself.logger.table(results);\n};\n\n/*\nWrap performance measurements around a subfunction\n*/\nPerformance.prototype.measure = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments);\n\t\t\tif(!(name in self.measures)) {\n\t\t\t\tself.measures[name] = {time: 0, invocations: 0};\n\t\t\t}\n\t\t\tself.measures[name].time += $tw.utils.timer(startTime);\n\t\t\tself.measures[name].invocations++;\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\nexports.Performance = Performance;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/utils/pluginmaker.js": {
            "title": "$:/core/modules/utils/pluginmaker.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/pluginmaker.js\ntype: application/javascript\nmodule-type: utils\n\nA quick and dirty way to pack up plugins within the browser.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nRepack a plugin, and then delete any non-shadow payload tiddlers\n*/\nexports.repackPlugin = function(title,additionalTiddlers,excludeTiddlers) {\n\tadditionalTiddlers = additionalTiddlers || [];\n\texcludeTiddlers = excludeTiddlers || [];\n\t// Get the plugin tiddler\n\tvar pluginTiddler = $tw.wiki.getTiddler(title);\n\tif(!pluginTiddler) {\n\t\tthrow \"No such tiddler as \" + title;\n\t}\n\t// Extract the JSON\n\tvar jsonPluginTiddler;\n\ttry {\n\t\tjsonPluginTiddler = JSON.parse(pluginTiddler.fields.text);\n\t} catch(e) {\n\t\tthrow \"Cannot parse plugin tiddler \" + title + \"\\n\" + $tw.language.getString(\"Error/Caption\") + \": \" + e;\n\t}\n\t// Get the list of tiddlers\n\tvar tiddlers = Object.keys(jsonPluginTiddler.tiddlers);\n\t// Add the additional tiddlers\n\t$tw.utils.pushTop(tiddlers,additionalTiddlers);\n\t// Remove any excluded tiddlers\n\tfor(var t=tiddlers.length-1; t&gt;=0; t--) {\n\t\tif(excludeTiddlers.indexOf(tiddlers[t]) !== -1) {\n\t\t\ttiddlers.splice(t,1);\n\t\t}\n\t}\n\t// Pack up the tiddlers into a block of JSON\n\tvar plugins = {};\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = $tw.wiki.getTiddler(title),\n\t\t\tfields = {};\n\t\t$tw.utils.each(tiddler.fields,function (value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\tplugins[title] = fields;\n\t});\n\t// Retrieve and bump the version number\n\tvar pluginVersion = $tw.utils.parseVersion(pluginTiddler.getFieldString(\"version\") || \"0.0.0\") || {\n\t\t\tmajor: \"0\",\n\t\t\tminor: \"0\",\n\t\t\tpatch: \"0\"\n\t\t};\n\tpluginVersion.patch++;\n\tvar version = pluginVersion.major + \".\" + pluginVersion.minor + \".\" + pluginVersion.patch;\n\tif(pluginVersion.prerelease) {\n\t\tversion += \"-\" + pluginVersion.prerelease;\n\t}\n\tif(pluginVersion.build) {\n\t\tversion += \"+\" + pluginVersion.build;\n\t}\n\t// Save the tiddler\n\t$tw.wiki.addTiddler(new $tw.Tiddler(pluginTiddler,{text: JSON.stringify({tiddlers: plugins},null,4), version: version}));\n\t// Delete any non-shadow constituent tiddlers\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tif($tw.wiki.tiddlerExists(title)) {\n\t\t\t$tw.wiki.deleteTiddler(title);\n\t\t}\n\t});\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \"tm-auto-save-wiki\"});\n\t// Return a heartwarming confirmation\n\treturn \"Plugin \" + title + \" successfully saved\";\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/transliterate.js": {
            "title": "$:/core/modules/utils/transliterate.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/transliterate.js\ntype: application/javascript\nmodule-type: utils\n\nTransliteration static utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nTransliterate string to ASCII\n\n(Some pairs taken from http://semplicewebsites.com/removing-accents-javascript)\n*/\nexports.transliterationPairs = {\n\t\"Á\":\"A\",\n\t\"Ă\":\"A\",\n\t\"Ắ\":\"A\",\n\t\"Ặ\":\"A\",\n\t\"Ằ\":\"A\",\n\t\"Ẳ\":\"A\",\n\t\"Ẵ\":\"A\",\n\t\"Ǎ\":\"A\",\n\t\"Â\":\"A\",\n\t\"Ấ\":\"A\",\n\t\"Ậ\":\"A\",\n\t\"Ầ\":\"A\",\n\t\"Ẩ\":\"A\",\n\t\"Ẫ\":\"A\",\n\t\"Ä\":\"A\",\n\t\"Ǟ\":\"A\",\n\t\"Ȧ\":\"A\",\n\t\"Ǡ\":\"A\",\n\t\"Ạ\":\"A\",\n\t\"Ȁ\":\"A\",\n\t\"À\":\"A\",\n\t\"Ả\":\"A\",\n\t\"Ȃ\":\"A\",\n\t\"Ā\":\"A\",\n\t\"Ą\":\"A\",\n\t\"Å\":\"A\",\n\t\"Ǻ\":\"A\",\n\t\"Ḁ\":\"A\",\n\t\"Ⱥ\":\"A\",\n\t\"Ã\":\"A\",\n\t\"Ꜳ\":\"AA\",\n\t\"Æ\":\"AE\",\n\t\"Ǽ\":\"AE\",\n\t\"Ǣ\":\"AE\",\n\t\"Ꜵ\":\"AO\",\n\t\"Ꜷ\":\"AU\",\n\t\"Ꜹ\":\"AV\",\n\t\"Ꜻ\":\"AV\",\n\t\"Ꜽ\":\"AY\",\n\t\"Ḃ\":\"B\",\n\t\"Ḅ\":\"B\",\n\t\"Ɓ\":\"B\",\n\t\"Ḇ\":\"B\",\n\t\"Ƀ\":\"B\",\n\t\"Ƃ\":\"B\",\n\t\"Ć\":\"C\",\n\t\"Č\":\"C\",\n\t\"Ç\":\"C\",\n\t\"Ḉ\":\"C\",\n\t\"Ĉ\":\"C\",\n\t\"Ċ\":\"C\",\n\t\"Ƈ\":\"C\",\n\t\"Ȼ\":\"C\",\n\t\"Ď\":\"D\",\n\t\"Ḑ\":\"D\",\n\t\"Ḓ\":\"D\",\n\t\"Ḋ\":\"D\",\n\t\"Ḍ\":\"D\",\n\t\"Ɗ\":\"D\",\n\t\"Ḏ\":\"D\",\n\t\"ǲ\":\"D\",\n\t\"ǅ\":\"D\",\n\t\"Đ\":\"D\",\n\t\"Ƌ\":\"D\",\n\t\"Ǳ\":\"DZ\",\n\t\"Ǆ\":\"DZ\",\n\t\"É\":\"E\",\n\t\"Ĕ\":\"E\",\n\t\"Ě\":\"E\",\n\t\"Ȩ\":\"E\",\n\t\"Ḝ\":\"E\",\n\t\"Ê\":\"E\",\n\t\"Ế\":\"E\",\n\t\"Ệ\":\"E\",\n\t\"Ề\":\"E\",\n\t\"Ể\":\"E\",\n\t\"Ễ\":\"E\",\n\t\"Ḙ\":\"E\",\n\t\"Ë\":\"E\",\n\t\"Ė\":\"E\",\n\t\"Ẹ\":\"E\",\n\t\"Ȅ\":\"E\",\n\t\"È\":\"E\",\n\t\"Ẻ\":\"E\",\n\t\"Ȇ\":\"E\",\n\t\"Ē\":\"E\",\n\t\"Ḗ\":\"E\",\n\t\"Ḕ\":\"E\",\n\t\"Ę\":\"E\",\n\t\"Ɇ\":\"E\",\n\t\"Ẽ\":\"E\",\n\t\"Ḛ\":\"E\",\n\t\"Ꝫ\":\"ET\",\n\t\"Ḟ\":\"F\",\n\t\"Ƒ\":\"F\",\n\t\"Ǵ\":\"G\",\n\t\"Ğ\":\"G\",\n\t\"Ǧ\":\"G\",\n\t\"Ģ\":\"G\",\n\t\"Ĝ\":\"G\",\n\t\"Ġ\":\"G\",\n\t\"Ɠ\":\"G\",\n\t\"Ḡ\":\"G\",\n\t\"Ǥ\":\"G\",\n\t\"Ḫ\":\"H\",\n\t\"Ȟ\":\"H\",\n\t\"Ḩ\":\"H\",\n\t\"Ĥ\":\"H\",\n\t\"Ⱨ\":\"H\",\n\t\"Ḧ\":\"H\",\n\t\"Ḣ\":\"H\",\n\t\"Ḥ\":\"H\",\n\t\"Ħ\":\"H\",\n\t\"Í\":\"I\",\n\t\"Ĭ\":\"I\",\n\t\"Ǐ\":\"I\",\n\t\"Î\":\"I\",\n\t\"Ï\":\"I\",\n\t\"Ḯ\":\"I\",\n\t\"İ\":\"I\",\n\t\"Ị\":\"I\",\n\t\"Ȉ\":\"I\",\n\t\"Ì\":\"I\",\n\t\"Ỉ\":\"I\",\n\t\"Ȋ\":\"I\",\n\t\"Ī\":\"I\",\n\t\"Į\":\"I\",\n\t\"Ɨ\":\"I\",\n\t\"Ĩ\":\"I\",\n\t\"Ḭ\":\"I\",\n\t\"Ꝺ\":\"D\",\n\t\"Ꝼ\":\"F\",\n\t\"Ᵹ\":\"G\",\n\t\"Ꞃ\":\"R\",\n\t\"Ꞅ\":\"S\",\n\t\"Ꞇ\":\"T\",\n\t\"Ꝭ\":\"IS\",\n\t\"Ĵ\":\"J\",\n\t\"Ɉ\":\"J\",\n\t\"Ḱ\":\"K\",\n\t\"Ǩ\":\"K\",\n\t\"Ķ\":\"K\",\n\t\"Ⱪ\":\"K\",\n\t\"Ꝃ\":\"K\",\n\t\"Ḳ\":\"K\",\n\t\"Ƙ\":\"K\",\n\t\"Ḵ\":\"K\",\n\t\"Ꝁ\":\"K\",\n\t\"Ꝅ\":\"K\",\n\t\"Ĺ\":\"L\",\n\t\"Ƚ\":\"L\",\n\t\"Ľ\":\"L\",\n\t\"Ļ\":\"L\",\n\t\"Ḽ\":\"L\",\n\t\"Ḷ\":\"L\",\n\t\"Ḹ\":\"L\",\n\t\"Ⱡ\":\"L\",\n\t\"Ꝉ\":\"L\",\n\t\"Ḻ\":\"L\",\n\t\"Ŀ\":\"L\",\n\t\"Ɫ\":\"L\",\n\t\"ǈ\":\"L\",\n\t\"Ł\":\"L\",\n\t\"Ǉ\":\"LJ\",\n\t\"Ḿ\":\"M\",\n\t\"Ṁ\":\"M\",\n\t\"Ṃ\":\"M\",\n\t\"Ɱ\":\"M\",\n\t\"Ń\":\"N\",\n\t\"Ň\":\"N\",\n\t\"Ņ\":\"N\",\n\t\"Ṋ\":\"N\",\n\t\"Ṅ\":\"N\",\n\t\"Ṇ\":\"N\",\n\t\"Ǹ\":\"N\",\n\t\"Ɲ\":\"N\",\n\t\"Ṉ\":\"N\",\n\t\"Ƞ\":\"N\",\n\t\"ǋ\":\"N\",\n\t\"Ñ\":\"N\",\n\t\"Ǌ\":\"NJ\",\n\t\"Ó\":\"O\",\n\t\"Ŏ\":\"O\",\n\t\"Ǒ\":\"O\",\n\t\"Ô\":\"O\",\n\t\"Ố\":\"O\",\n\t\"Ộ\":\"O\",\n\t\"Ồ\":\"O\",\n\t\"Ổ\":\"O\",\n\t\"Ỗ\":\"O\",\n\t\"Ö\":\"O\",\n\t\"Ȫ\":\"O\",\n\t\"Ȯ\":\"O\",\n\t\"Ȱ\":\"O\",\n\t\"Ọ\":\"O\",\n\t\"Ő\":\"O\",\n\t\"Ȍ\":\"O\",\n\t\"Ò\":\"O\",\n\t\"Ỏ\":\"O\",\n\t\"Ơ\":\"O\",\n\t\"Ớ\":\"O\",\n\t\"Ợ\":\"O\",\n\t\"Ờ\":\"O\",\n\t\"Ở\":\"O\",\n\t\"Ỡ\":\"O\",\n\t\"Ȏ\":\"O\",\n\t\"Ꝋ\":\"O\",\n\t\"Ꝍ\":\"O\",\n\t\"Ō\":\"O\",\n\t\"Ṓ\":\"O\",\n\t\"Ṑ\":\"O\",\n\t\"Ɵ\":\"O\",\n\t\"Ǫ\":\"O\",\n\t\"Ǭ\":\"O\",\n\t\"Ø\":\"O\",\n\t\"Ǿ\":\"O\",\n\t\"Õ\":\"O\",\n\t\"Ṍ\":\"O\",\n\t\"Ṏ\":\"O\",\n\t\"Ȭ\":\"O\",\n\t\"Ƣ\":\"OI\",\n\t\"Ꝏ\":\"OO\",\n\t\"Ɛ\":\"E\",\n\t\"Ɔ\":\"O\",\n\t\"Ȣ\":\"OU\",\n\t\"Ṕ\":\"P\",\n\t\"Ṗ\":\"P\",\n\t\"Ꝓ\":\"P\",\n\t\"Ƥ\":\"P\",\n\t\"Ꝕ\":\"P\",\n\t\"Ᵽ\":\"P\",\n\t\"Ꝑ\":\"P\",\n\t\"Ꝙ\":\"Q\",\n\t\"Ꝗ\":\"Q\",\n\t\"Ŕ\":\"R\",\n\t\"Ř\":\"R\",\n\t\"Ŗ\":\"R\",\n\t\"Ṙ\":\"R\",\n\t\"Ṛ\":\"R\",\n\t\"Ṝ\":\"R\",\n\t\"Ȑ\":\"R\",\n\t\"Ȓ\":\"R\",\n\t\"Ṟ\":\"R\",\n\t\"Ɍ\":\"R\",\n\t\"Ɽ\":\"R\",\n\t\"Ꜿ\":\"C\",\n\t\"Ǝ\":\"E\",\n\t\"Ś\":\"S\",\n\t\"Ṥ\":\"S\",\n\t\"Š\":\"S\",\n\t\"Ṧ\":\"S\",\n\t\"Ş\":\"S\",\n\t\"Ŝ\":\"S\",\n\t\"Ș\":\"S\",\n\t\"Ṡ\":\"S\",\n\t\"Ṣ\":\"S\",\n\t\"Ṩ\":\"S\",\n\t\"Ť\":\"T\",\n\t\"Ţ\":\"T\",\n\t\"Ṱ\":\"T\",\n\t\"Ț\":\"T\",\n\t\"Ⱦ\":\"T\",\n\t\"Ṫ\":\"T\",\n\t\"Ṭ\":\"T\",\n\t\"Ƭ\":\"T\",\n\t\"Ṯ\":\"T\",\n\t\"Ʈ\":\"T\",\n\t\"Ŧ\":\"T\",\n\t\"Ɐ\":\"A\",\n\t\"Ꞁ\":\"L\",\n\t\"Ɯ\":\"M\",\n\t\"Ʌ\":\"V\",\n\t\"Ꜩ\":\"TZ\",\n\t\"Ú\":\"U\",\n\t\"Ŭ\":\"U\",\n\t\"Ǔ\":\"U\",\n\t\"Û\":\"U\",\n\t\"Ṷ\":\"U\",\n\t\"Ü\":\"U\",\n\t\"Ǘ\":\"U\",\n\t\"Ǚ\":\"U\",\n\t\"Ǜ\":\"U\",\n\t\"Ǖ\":\"U\",\n\t\"Ṳ\":\"U\",\n\t\"Ụ\":\"U\",\n\t\"Ű\":\"U\",\n\t\"Ȕ\":\"U\",\n\t\"Ù\":\"U\",\n\t\"Ủ\":\"U\",\n\t\"Ư\":\"U\",\n\t\"Ứ\":\"U\",\n\t\"Ự\":\"U\",\n\t\"Ừ\":\"U\",\n\t\"Ử\":\"U\",\n\t\"Ữ\":\"U\",\n\t\"Ȗ\":\"U\",\n\t\"Ū\":\"U\",\n\t\"Ṻ\":\"U\",\n\t\"Ų\":\"U\",\n\t\"Ů\":\"U\",\n\t\"Ũ\":\"U\",\n\t\"Ṹ\":\"U\",\n\t\"Ṵ\":\"U\",\n\t\"Ꝟ\":\"V\",\n\t\"Ṿ\":\"V\",\n\t\"Ʋ\":\"V\",\n\t\"Ṽ\":\"V\",\n\t\"Ꝡ\":\"VY\",\n\t\"Ẃ\":\"W\",\n\t\"Ŵ\":\"W\",\n\t\"Ẅ\":\"W\",\n\t\"Ẇ\":\"W\",\n\t\"Ẉ\":\"W\",\n\t\"Ẁ\":\"W\",\n\t\"Ⱳ\":\"W\",\n\t\"Ẍ\":\"X\",\n\t\"Ẋ\":\"X\",\n\t\"Ý\":\"Y\",\n\t\"Ŷ\":\"Y\",\n\t\"Ÿ\":\"Y\",\n\t\"Ẏ\":\"Y\",\n\t\"Ỵ\":\"Y\",\n\t\"Ỳ\":\"Y\",\n\t\"Ƴ\":\"Y\",\n\t\"Ỷ\":\"Y\",\n\t\"Ỿ\":\"Y\",\n\t\"Ȳ\":\"Y\",\n\t\"Ɏ\":\"Y\",\n\t\"Ỹ\":\"Y\",\n\t\"Ź\":\"Z\",\n\t\"Ž\":\"Z\",\n\t\"Ẑ\":\"Z\",\n\t\"Ⱬ\":\"Z\",\n\t\"Ż\":\"Z\",\n\t\"Ẓ\":\"Z\",\n\t\"Ȥ\":\"Z\",\n\t\"Ẕ\":\"Z\",\n\t\"Ƶ\":\"Z\",\n\t\"Ĳ\":\"IJ\",\n\t\"Œ\":\"OE\",\n\t\"ᴀ\":\"A\",\n\t\"ᴁ\":\"AE\",\n\t\"ʙ\":\"B\",\n\t\"ᴃ\":\"B\",\n\t\"ᴄ\":\"C\",\n\t\"ᴅ\":\"D\",\n\t\"ᴇ\":\"E\",\n\t\"ꜰ\":\"F\",\n\t\"ɢ\":\"G\",\n\t\"ʛ\":\"G\",\n\t\"ʜ\":\"H\",\n\t\"ɪ\":\"I\",\n\t\"ʁ\":\"R\",\n\t\"ᴊ\":\"J\",\n\t\"ᴋ\":\"K\",\n\t\"ʟ\":\"L\",\n\t\"ᴌ\":\"L\",\n\t\"ᴍ\":\"M\",\n\t\"ɴ\":\"N\",\n\t\"ᴏ\":\"O\",\n\t\"ɶ\":\"OE\",\n\t\"ᴐ\":\"O\",\n\t\"ᴕ\":\"OU\",\n\t\"ᴘ\":\"P\",\n\t\"ʀ\":\"R\",\n\t\"ᴎ\":\"N\",\n\t\"ᴙ\":\"R\",\n\t\"ꜱ\":\"S\",\n\t\"ᴛ\":\"T\",\n\t\"ⱻ\":\"E\",\n\t\"ᴚ\":\"R\",\n\t\"ᴜ\":\"U\",\n\t\"ᴠ\":\"V\",\n\t\"ᴡ\":\"W\",\n\t\"ʏ\":\"Y\",\n\t\"ᴢ\":\"Z\",\n\t\"á\":\"a\",\n\t\"ă\":\"a\",\n\t\"ắ\":\"a\",\n\t\"ặ\":\"a\",\n\t\"ằ\":\"a\",\n\t\"ẳ\":\"a\",\n\t\"ẵ\":\"a\",\n\t\"ǎ\":\"a\",\n\t\"â\":\"a\",\n\t\"ấ\":\"a\",\n\t\"ậ\":\"a\",\n\t\"ầ\":\"a\",\n\t\"ẩ\":\"a\",\n\t\"ẫ\":\"a\",\n\t\"ä\":\"a\",\n\t\"ǟ\":\"a\",\n\t\"ȧ\":\"a\",\n\t\"ǡ\":\"a\",\n\t\"ạ\":\"a\",\n\t\"ȁ\":\"a\",\n\t\"à\":\"a\",\n\t\"ả\":\"a\",\n\t\"ȃ\":\"a\",\n\t\"ā\":\"a\",\n\t\"ą\":\"a\",\n\t\"ᶏ\":\"a\",\n\t\"ẚ\":\"a\",\n\t\"å\":\"a\",\n\t\"ǻ\":\"a\",\n\t\"ḁ\":\"a\",\n\t\"ⱥ\":\"a\",\n\t\"ã\":\"a\",\n\t\"ꜳ\":\"aa\",\n\t\"æ\":\"ae\",\n\t\"ǽ\":\"ae\",\n\t\"ǣ\":\"ae\",\n\t\"ꜵ\":\"ao\",\n\t\"ꜷ\":\"au\",\n\t\"ꜹ\":\"av\",\n\t\"ꜻ\":\"av\",\n\t\"ꜽ\":\"ay\",\n\t\"ḃ\":\"b\",\n\t\"ḅ\":\"b\",\n\t\"ɓ\":\"b\",\n\t\"ḇ\":\"b\",\n\t\"ᵬ\":\"b\",\n\t\"ᶀ\":\"b\",\n\t\"ƀ\":\"b\",\n\t\"ƃ\":\"b\",\n\t\"ɵ\":\"o\",\n\t\"ć\":\"c\",\n\t\"č\":\"c\",\n\t\"ç\":\"c\",\n\t\"ḉ\":\"c\",\n\t\"ĉ\":\"c\",\n\t\"ɕ\":\"c\",\n\t\"ċ\":\"c\",\n\t\"ƈ\":\"c\",\n\t\"ȼ\":\"c\",\n\t\"ď\":\"d\",\n\t\"ḑ\":\"d\",\n\t\"ḓ\":\"d\",\n\t\"ȡ\":\"d\",\n\t\"ḋ\":\"d\",\n\t\"ḍ\":\"d\",\n\t\"ɗ\":\"d\",\n\t\"ᶑ\":\"d\",\n\t\"ḏ\":\"d\",\n\t\"ᵭ\":\"d\",\n\t\"ᶁ\":\"d\",\n\t\"đ\":\"d\",\n\t\"ɖ\":\"d\",\n\t\"ƌ\":\"d\",\n\t\"ı\":\"i\",\n\t\"ȷ\":\"j\",\n\t\"ɟ\":\"j\",\n\t\"ʄ\":\"j\",\n\t\"ǳ\":\"dz\",\n\t\"ǆ\":\"dz\",\n\t\"é\":\"e\",\n\t\"ĕ\":\"e\",\n\t\"ě\":\"e\",\n\t\"ȩ\":\"e\",\n\t\"ḝ\":\"e\",\n\t\"ê\":\"e\",\n\t\"ế\":\"e\",\n\t\"ệ\":\"e\",\n\t\"ề\":\"e\",\n\t\"ể\":\"e\",\n\t\"ễ\":\"e\",\n\t\"ḙ\":\"e\",\n\t\"ë\":\"e\",\n\t\"ė\":\"e\",\n\t\"ẹ\":\"e\",\n\t\"ȅ\":\"e\",\n\t\"è\":\"e\",\n\t\"ẻ\":\"e\",\n\t\"ȇ\":\"e\",\n\t\"ē\":\"e\",\n\t\"ḗ\":\"e\",\n\t\"ḕ\":\"e\",\n\t\"ⱸ\":\"e\",\n\t\"ę\":\"e\",\n\t\"ᶒ\":\"e\",\n\t\"ɇ\":\"e\",\n\t\"ẽ\":\"e\",\n\t\"ḛ\":\"e\",\n\t\"ꝫ\":\"et\",\n\t\"ḟ\":\"f\",\n\t\"ƒ\":\"f\",\n\t\"ᵮ\":\"f\",\n\t\"ᶂ\":\"f\",\n\t\"ǵ\":\"g\",\n\t\"ğ\":\"g\",\n\t\"ǧ\":\"g\",\n\t\"ģ\":\"g\",\n\t\"ĝ\":\"g\",\n\t\"ġ\":\"g\",\n\t\"ɠ\":\"g\",\n\t\"ḡ\":\"g\",\n\t\"ᶃ\":\"g\",\n\t\"ǥ\":\"g\",\n\t\"ḫ\":\"h\",\n\t\"ȟ\":\"h\",\n\t\"ḩ\":\"h\",\n\t\"ĥ\":\"h\",\n\t\"ⱨ\":\"h\",\n\t\"ḧ\":\"h\",\n\t\"ḣ\":\"h\",\n\t\"ḥ\":\"h\",\n\t\"ɦ\":\"h\",\n\t\"ẖ\":\"h\",\n\t\"ħ\":\"h\",\n\t\"ƕ\":\"hv\",\n\t\"í\":\"i\",\n\t\"ĭ\":\"i\",\n\t\"ǐ\":\"i\",\n\t\"î\":\"i\",\n\t\"ï\":\"i\",\n\t\"ḯ\":\"i\",\n\t\"ị\":\"i\",\n\t\"ȉ\":\"i\",\n\t\"ì\":\"i\",\n\t\"ỉ\":\"i\",\n\t\"ȋ\":\"i\",\n\t\"ī\":\"i\",\n\t\"į\":\"i\",\n\t\"ᶖ\":\"i\",\n\t\"ɨ\":\"i\",\n\t\"ĩ\":\"i\",\n\t\"ḭ\":\"i\",\n\t\"ꝺ\":\"d\",\n\t\"ꝼ\":\"f\",\n\t\"ᵹ\":\"g\",\n\t\"ꞃ\":\"r\",\n\t\"ꞅ\":\"s\",\n\t\"ꞇ\":\"t\",\n\t\"ꝭ\":\"is\",\n\t\"ǰ\":\"j\",\n\t\"ĵ\":\"j\",\n\t\"ʝ\":\"j\",\n\t\"ɉ\":\"j\",\n\t\"ḱ\":\"k\",\n\t\"ǩ\":\"k\",\n\t\"ķ\":\"k\",\n\t\"ⱪ\":\"k\",\n\t\"ꝃ\":\"k\",\n\t\"ḳ\":\"k\",\n\t\"ƙ\":\"k\",\n\t\"ḵ\":\"k\",\n\t\"ᶄ\":\"k\",\n\t\"ꝁ\":\"k\",\n\t\"ꝅ\":\"k\",\n\t\"ĺ\":\"l\",\n\t\"ƚ\":\"l\",\n\t\"ɬ\":\"l\",\n\t\"ľ\":\"l\",\n\t\"ļ\":\"l\",\n\t\"ḽ\":\"l\",\n\t\"ȴ\":\"l\",\n\t\"ḷ\":\"l\",\n\t\"ḹ\":\"l\",\n\t\"ⱡ\":\"l\",\n\t\"ꝉ\":\"l\",\n\t\"ḻ\":\"l\",\n\t\"ŀ\":\"l\",\n\t\"ɫ\":\"l\",\n\t\"ᶅ\":\"l\",\n\t\"ɭ\":\"l\",\n\t\"ł\":\"l\",\n\t\"ǉ\":\"lj\",\n\t\"ſ\":\"s\",\n\t\"ẜ\":\"s\",\n\t\"ẛ\":\"s\",\n\t\"ẝ\":\"s\",\n\t\"ḿ\":\"m\",\n\t\"ṁ\":\"m\",\n\t\"ṃ\":\"m\",\n\t\"ɱ\":\"m\",\n\t\"ᵯ\":\"m\",\n\t\"ᶆ\":\"m\",\n\t\"ń\":\"n\",\n\t\"ň\":\"n\",\n\t\"ņ\":\"n\",\n\t\"ṋ\":\"n\",\n\t\"ȵ\":\"n\",\n\t\"ṅ\":\"n\",\n\t\"ṇ\":\"n\",\n\t\"ǹ\":\"n\",\n\t\"ɲ\":\"n\",\n\t\"ṉ\":\"n\",\n\t\"ƞ\":\"n\",\n\t\"ᵰ\":\"n\",\n\t\"ᶇ\":\"n\",\n\t\"ɳ\":\"n\",\n\t\"ñ\":\"n\",\n\t\"ǌ\":\"nj\",\n\t\"ó\":\"o\",\n\t\"ŏ\":\"o\",\n\t\"ǒ\":\"o\",\n\t\"ô\":\"o\",\n\t\"ố\":\"o\",\n\t\"ộ\":\"o\",\n\t\"ồ\":\"o\",\n\t\"ổ\":\"o\",\n\t\"ỗ\":\"o\",\n\t\"ö\":\"o\",\n\t\"ȫ\":\"o\",\n\t\"ȯ\":\"o\",\n\t\"ȱ\":\"o\",\n\t\"ọ\":\"o\",\n\t\"ő\":\"o\",\n\t\"ȍ\":\"o\",\n\t\"ò\":\"o\",\n\t\"ỏ\":\"o\",\n\t\"ơ\":\"o\",\n\t\"ớ\":\"o\",\n\t\"ợ\":\"o\",\n\t\"ờ\":\"o\",\n\t\"ở\":\"o\",\n\t\"ỡ\":\"o\",\n\t\"ȏ\":\"o\",\n\t\"ꝋ\":\"o\",\n\t\"ꝍ\":\"o\",\n\t\"ⱺ\":\"o\",\n\t\"ō\":\"o\",\n\t\"ṓ\":\"o\",\n\t\"ṑ\":\"o\",\n\t\"ǫ\":\"o\",\n\t\"ǭ\":\"o\",\n\t\"ø\":\"o\",\n\t\"ǿ\":\"o\",\n\t\"õ\":\"o\",\n\t\"ṍ\":\"o\",\n\t\"ṏ\":\"o\",\n\t\"ȭ\":\"o\",\n\t\"ƣ\":\"oi\",\n\t\"ꝏ\":\"oo\",\n\t\"ɛ\":\"e\",\n\t\"ᶓ\":\"e\",\n\t\"ɔ\":\"o\",\n\t\"ᶗ\":\"o\",\n\t\"ȣ\":\"ou\",\n\t\"ṕ\":\"p\",\n\t\"ṗ\":\"p\",\n\t\"ꝓ\":\"p\",\n\t\"ƥ\":\"p\",\n\t\"ᵱ\":\"p\",\n\t\"ᶈ\":\"p\",\n\t\"ꝕ\":\"p\",\n\t\"ᵽ\":\"p\",\n\t\"ꝑ\":\"p\",\n\t\"ꝙ\":\"q\",\n\t\"ʠ\":\"q\",\n\t\"ɋ\":\"q\",\n\t\"ꝗ\":\"q\",\n\t\"ŕ\":\"r\",\n\t\"ř\":\"r\",\n\t\"ŗ\":\"r\",\n\t\"ṙ\":\"r\",\n\t\"ṛ\":\"r\",\n\t\"ṝ\":\"r\",\n\t\"ȑ\":\"r\",\n\t\"ɾ\":\"r\",\n\t\"ᵳ\":\"r\",\n\t\"ȓ\":\"r\",\n\t\"ṟ\":\"r\",\n\t\"ɼ\":\"r\",\n\t\"ᵲ\":\"r\",\n\t\"ᶉ\":\"r\",\n\t\"ɍ\":\"r\",\n\t\"ɽ\":\"r\",\n\t\"ↄ\":\"c\",\n\t\"ꜿ\":\"c\",\n\t\"ɘ\":\"e\",\n\t\"ɿ\":\"r\",\n\t\"ś\":\"s\",\n\t\"ṥ\":\"s\",\n\t\"š\":\"s\",\n\t\"ṧ\":\"s\",\n\t\"ş\":\"s\",\n\t\"ŝ\":\"s\",\n\t\"ș\":\"s\",\n\t\"ṡ\":\"s\",\n\t\"ṣ\":\"s\",\n\t\"ṩ\":\"s\",\n\t\"ʂ\":\"s\",\n\t\"ᵴ\":\"s\",\n\t\"ᶊ\":\"s\",\n\t\"ȿ\":\"s\",\n\t\"ɡ\":\"g\",\n\t\"ᴑ\":\"o\",\n\t\"ᴓ\":\"o\",\n\t\"ᴝ\":\"u\",\n\t\"ť\":\"t\",\n\t\"ţ\":\"t\",\n\t\"ṱ\":\"t\",\n\t\"ț\":\"t\",\n\t\"ȶ\":\"t\",\n\t\"ẗ\":\"t\",\n\t\"ⱦ\":\"t\",\n\t\"ṫ\":\"t\",\n\t\"ṭ\":\"t\",\n\t\"ƭ\":\"t\",\n\t\"ṯ\":\"t\",\n\t\"ᵵ\":\"t\",\n\t\"ƫ\":\"t\",\n\t\"ʈ\":\"t\",\n\t\"ŧ\":\"t\",\n\t\"ᵺ\":\"th\",\n\t\"ɐ\":\"a\",\n\t\"ᴂ\":\"ae\",\n\t\"ǝ\":\"e\",\n\t\"ᵷ\":\"g\",\n\t\"ɥ\":\"h\",\n\t\"ʮ\":\"h\",\n\t\"ʯ\":\"h\",\n\t\"ᴉ\":\"i\",\n\t\"ʞ\":\"k\",\n\t\"ꞁ\":\"l\",\n\t\"ɯ\":\"m\",\n\t\"ɰ\":\"m\",\n\t\"ᴔ\":\"oe\",\n\t\"ɹ\":\"r\",\n\t\"ɻ\":\"r\",\n\t\"ɺ\":\"r\",\n\t\"ⱹ\":\"r\",\n\t\"ʇ\":\"t\",\n\t\"ʌ\":\"v\",\n\t\"ʍ\":\"w\",\n\t\"ʎ\":\"y\",\n\t\"ꜩ\":\"tz\",\n\t\"ú\":\"u\",\n\t\"ŭ\":\"u\",\n\t\"ǔ\":\"u\",\n\t\"û\":\"u\",\n\t\"ṷ\":\"u\",\n\t\"ü\":\"u\",\n\t\"ǘ\":\"u\",\n\t\"ǚ\":\"u\",\n\t\"ǜ\":\"u\",\n\t\"ǖ\":\"u\",\n\t\"ṳ\":\"u\",\n\t\"ụ\":\"u\",\n\t\"ű\":\"u\",\n\t\"ȕ\":\"u\",\n\t\"ù\":\"u\",\n\t\"ủ\":\"u\",\n\t\"ư\":\"u\",\n\t\"ứ\":\"u\",\n\t\"ự\":\"u\",\n\t\"ừ\":\"u\",\n\t\"ử\":\"u\",\n\t\"ữ\":\"u\",\n\t\"ȗ\":\"u\",\n\t\"ū\":\"u\",\n\t\"ṻ\":\"u\",\n\t\"ų\":\"u\",\n\t\"ᶙ\":\"u\",\n\t\"ů\":\"u\",\n\t\"ũ\":\"u\",\n\t\"ṹ\":\"u\",\n\t\"ṵ\":\"u\",\n\t\"ᵫ\":\"ue\",\n\t\"ꝸ\":\"um\",\n\t\"ⱴ\":\"v\",\n\t\"ꝟ\":\"v\",\n\t\"ṿ\":\"v\",\n\t\"ʋ\":\"v\",\n\t\"ᶌ\":\"v\",\n\t\"ⱱ\":\"v\",\n\t\"ṽ\":\"v\",\n\t\"ꝡ\":\"vy\",\n\t\"ẃ\":\"w\",\n\t\"ŵ\":\"w\",\n\t\"ẅ\":\"w\",\n\t\"ẇ\":\"w\",\n\t\"ẉ\":\"w\",\n\t\"ẁ\":\"w\",\n\t\"ⱳ\":\"w\",\n\t\"ẘ\":\"w\",\n\t\"ẍ\":\"x\",\n\t\"ẋ\":\"x\",\n\t\"ᶍ\":\"x\",\n\t\"ý\":\"y\",\n\t\"ŷ\":\"y\",\n\t\"ÿ\":\"y\",\n\t\"ẏ\":\"y\",\n\t\"ỵ\":\"y\",\n\t\"ỳ\":\"y\",\n\t\"ƴ\":\"y\",\n\t\"ỷ\":\"y\",\n\t\"ỿ\":\"y\",\n\t\"ȳ\":\"y\",\n\t\"ẙ\":\"y\",\n\t\"ɏ\":\"y\",\n\t\"ỹ\":\"y\",\n\t\"ź\":\"z\",\n\t\"ž\":\"z\",\n\t\"ẑ\":\"z\",\n\t\"ʑ\":\"z\",\n\t\"ⱬ\":\"z\",\n\t\"ż\":\"z\",\n\t\"ẓ\":\"z\",\n\t\"ȥ\":\"z\",\n\t\"ẕ\":\"z\",\n\t\"ᵶ\":\"z\",\n\t\"ᶎ\":\"z\",\n\t\"ʐ\":\"z\",\n\t\"ƶ\":\"z\",\n\t\"ɀ\":\"z\",\n\t\"ﬀ\":\"ff\",\n\t\"ﬃ\":\"ffi\",\n\t\"ﬄ\":\"ffl\",\n\t\"ﬁ\":\"fi\",\n\t\"ﬂ\":\"fl\",\n\t\"ĳ\":\"ij\",\n\t\"œ\":\"oe\",\n\t\"ﬆ\":\"st\",\n\t\"ₐ\":\"a\",\n\t\"ₑ\":\"e\",\n\t\"ᵢ\":\"i\",\n\t\"ⱼ\":\"j\",\n\t\"ₒ\":\"o\",\n\t\"ᵣ\":\"r\",\n\t\"ᵤ\":\"u\",\n\t\"ᵥ\":\"v\",\n\t\"ₓ\":\"x\",\n\t\"Ё\":\"YO\",\n\t\"Й\":\"I\",\n\t\"Ц\":\"TS\",\n\t\"У\":\"U\",\n\t\"К\":\"K\",\n\t\"Е\":\"E\",\n\t\"Н\":\"N\",\n\t\"Г\":\"G\",\n\t\"Ш\":\"SH\",\n\t\"Щ\":\"SCH\",\n\t\"З\":\"Z\",\n\t\"Х\":\"H\",\n\t\"Ъ\":\"'\",\n\t\"ё\":\"yo\",\n\t\"й\":\"i\",\n\t\"ц\":\"ts\",\n\t\"у\":\"u\",\n\t\"к\":\"k\",\n\t\"е\":\"e\",\n\t\"н\":\"n\",\n\t\"г\":\"g\",\n\t\"ш\":\"sh\",\n\t\"щ\":\"sch\",\n\t\"з\":\"z\",\n\t\"х\":\"h\",\n\t\"ъ\":\"'\",\n\t\"Ф\":\"F\",\n\t\"Ы\":\"I\",\n\t\"В\":\"V\",\n\t\"А\":\"a\",\n\t\"П\":\"P\",\n\t\"Р\":\"R\",\n\t\"О\":\"O\",\n\t\"Л\":\"L\",\n\t\"Д\":\"D\",\n\t\"Ж\":\"ZH\",\n\t\"Э\":\"E\",\n\t\"ф\":\"f\",\n\t\"ы\":\"i\",\n\t\"в\":\"v\",\n\t\"а\":\"a\",\n\t\"п\":\"p\",\n\t\"р\":\"r\",\n\t\"о\":\"o\",\n\t\"л\":\"l\",\n\t\"д\":\"d\",\n\t\"ж\":\"zh\",\n\t\"э\":\"e\",\n\t\"Я\":\"Ya\",\n\t\"Ч\":\"CH\",\n\t\"С\":\"S\",\n\t\"М\":\"M\",\n\t\"И\":\"I\",\n\t\"Т\":\"T\",\n\t\"Ь\":\"'\",\n\t\"Б\":\"B\",\n\t\"Ю\":\"YU\",\n\t\"я\":\"ya\",\n\t\"ч\":\"ch\",\n\t\"с\":\"s\",\n\t\"м\":\"m\",\n\t\"и\":\"i\",\n\t\"т\":\"t\",\n\t\"ь\":\"'\",\n\t\"б\":\"b\",\n\t\"ю\":\"yu\"\n};\n\nexports.transliterate = function(str) {\n\treturn str.replace(/[^A-Za-z0-9\\[\\] ]/g,function(ch) {\n\t\treturn exports.transliterationPairs[ch] || ch\n\t});\n};\n\nexports.transliterateToSafeASCII = function(str) {\n\treturn str.replace(/[^\\x00-\\x7F]/g,function(ch) {\n\t\treturn exports.transliterationPairs[ch] || \"\"\n\t});\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/utils.js": {
            "title": "$:/core/modules/utils/utils.js",
            "text": "/*\\\ntitle: $:/core/modules/utils/utils.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar base64utf8 = require(\"$:/core/modules/utils/base64-utf8/base64-utf8.module.js\");\n\n/*\nDisplay a message, in colour if we're on a terminal\n*/\nexports.log = function(text,colour) {\n\tconsole.log($tw.node ? exports.terminalColour(colour) + text + exports.terminalColour() : text);\n};\n\nexports.terminalColour = function(colour) {\n\tif(!$tw.browser &amp;&amp; $tw.node &amp;&amp; process.stdout.isTTY) {\n\t\tif(colour) {\n\t\t\tvar code = exports.terminalColourLookup[colour];\n\t\t\tif(code) {\n\t\t\t\treturn \"\\x1b[\" + code + \"m\";\n\t\t\t}\n\t\t} else {\n\t\t\treturn \"\\x1b[0m\"; // Cancel colour\n\t\t}\n\t}\n\treturn \"\";\n};\n\nexports.terminalColourLookup = {\n\t\"black\": \"0;30\",\n\t\"red\": \"0;31\",\n\t\"green\": \"0;32\",\n\t\"brown/orange\": \"0;33\",\n\t\"blue\": \"0;34\",\n\t\"purple\": \"0;35\",\n\t\"cyan\": \"0;36\",\n\t\"light gray\": \"0;37\"\n};\n\n/*\nDisplay a warning, in colour if we're on a terminal\n*/\nexports.warning = function(text) {\n\texports.log(text,\"brown/orange\");\n};\n\n/*\nLog a table of name: value pairs\n*/\nexports.logTable = function(data) {\n\tif(console.table) {\n\t\tconsole.table(data);\n\t} else {\n\t\t$tw.utils.each(data,function(value,name) {\n\t\t\tconsole.log(name + \": \" + value);\n\t\t});\n\t}\n}\n\n/*\nReturn the integer represented by the str (string).\nReturn the dflt (default) parameter if str is not a base-10 number.\n*/\nexports.getInt = function(str,deflt) {\n\tvar i = parseInt(str,10);\n\treturn isNaN(i) ? deflt : i;\n}\n\n/*\nRepeatedly replaces a substring within a string. Like String.prototype.replace, but without any of the default special handling of $ sequences in the replace string\n*/\nexports.replaceString = function(text,search,replace) {\n\treturn text.replace(search,function() {\n\t\treturn replace;\n\t});\n};\n\n/*\nRepeats a string\n*/\nexports.repeat = function(str,count) {\n\tvar result = \"\";\n\tfor(var t=0;t&lt;count;t++) {\n\t\tresult += str;\n\t}\n\treturn result;\n};\n\n/*\nTrim whitespace from the start and end of a string\nThanks to Steven Levithan, http://blog.stevenlevithan.com/archives/faster-trim-javascript\n*/\nexports.trim = function(str) {\n\tif(typeof str === \"string\") {\n\t\treturn str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t} else {\n\t\treturn str;\n\t}\n};\n\nexports.trimPrefix = function(str,unwanted) {\n\tif(typeof str === \"string\" &amp;&amp; typeof unwanted === \"string\") {\n\t\tif(unwanted === \"\") {\n\t\t\treturn str.replace(/^\\s\\s*/, '');\n\t\t} else {\n\t\t\t// Safely regexp-escape the unwanted text\n\t\t\tunwanted = unwanted.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;');\n\t\t\tvar regex = new RegExp('^(' + unwanted + ')+');\n\t\t\treturn str.replace(regex, '');\n\t\t}\n\t} else {\n\t\treturn str;\n\t}\n};\n\nexports.trimSuffix = function(str,unwanted) {\n\tif(typeof str === \"string\" &amp;&amp; typeof unwanted === \"string\") {\n\t\tif(unwanted === \"\") {\n\t\t\treturn str.replace(/\\s\\s*$/, '');\n\t\t} else {\n\t\t\t// Safely regexp-escape the unwanted text\n\t\t\tunwanted = unwanted.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;');\n\t\t\tvar regex = new RegExp('(' + unwanted + ')+$');\n\t\t\treturn str.replace(regex, '');\n\t\t}\n\t} else {\n\t\treturn str;\n\t}\n};\n\n/*\nConvert a string to sentence case (ie capitalise first letter)\n*/\nexports.toSentenceCase = function(str) {\n\treturn (str || \"\").replace(/^\\S/, function(c) {return c.toUpperCase();});\n}\n\n/*\nConvert a string to title case (ie capitalise each initial letter)\n*/\nexports.toTitleCase = function(str) {\n\treturn (str || \"\").replace(/(^|\\s)\\S/g, function(c) {return c.toUpperCase();});\n}\n\t\n/*\nFind the line break preceding a given position in a string\nReturns position immediately after that line break, or the start of the string\n*/\nexports.findPrecedingLineBreak = function(text,pos) {\n\tvar result = text.lastIndexOf(\"\\n\",pos - 1);\n\tif(result === -1) {\n\t\tresult = 0;\n\t} else {\n\t\tresult++;\n\t\tif(text.charAt(result) === \"\\r\") {\n\t\t\tresult++;\n\t\t}\n\t}\n\treturn result;\n};\n\n/*\nFind the line break following a given position in a string\n*/\nexports.findFollowingLineBreak = function(text,pos) {\n\t// Cut to just past the following line break, or to the end of the text\n\tvar result = text.indexOf(\"\\n\",pos);\n\tif(result === -1) {\n\t\tresult = text.length;\n\t} else {\n\t\tif(text.charAt(result) === \"\\r\") {\n\t\t\tresult++;\n\t\t}\n\t}\n\treturn result;\n};\n\n/*\nReturn the number of keys in an object\n*/\nexports.count = function(object) {\n\treturn Object.keys(object || {}).length;\n};\n\n/*\nDetermine whether an array-item is an object-property\n*/\nexports.hopArray = function(object,array) {\n\tfor(var i=0; i&lt;array.length; i++) {\n\t\tif($tw.utils.hop(object,array[i])) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/*\nRemove entries from an array\n\tarray: array to modify\n\tvalue: a single value to remove, or an array of values to remove\n*/\nexports.removeArrayEntries = function(array,value) {\n\tvar t,p;\n\tif($tw.utils.isArray(value)) {\n\t\tfor(t=0; t&lt;value.length; t++) {\n\t\t\tp = array.indexOf(value[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tarray.splice(p,1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tp = array.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tarray.splice(p,1);\n\t\t}\n\t}\n};\n\n/*\nCheck whether any members of a hashmap are present in another hashmap\n*/\nexports.checkDependencies = function(dependencies,changes) {\n\tvar hit = false;\n\t$tw.utils.each(changes,function(change,title) {\n\t\tif($tw.utils.hop(dependencies,title)) {\n\t\t\thit = true;\n\t\t}\n\t});\n\treturn hit;\n};\n\nexports.extend = function(object /* [, src] */) {\n\t$tw.utils.each(Array.prototype.slice.call(arguments, 1), function(source) {\n\t\tif(source) {\n\t\t\tfor(var property in source) {\n\t\t\t\tobject[property] = source[property];\n\t\t\t}\n\t\t}\n\t});\n\treturn object;\n};\n\nexports.deepCopy = function(object) {\n\tvar result,t;\n\tif($tw.utils.isArray(object)) {\n\t\t// Copy arrays\n\t\tresult = object.slice(0);\n\t} else if(typeof object === \"object\") {\n\t\tresult = {};\n\t\tfor(t in object) {\n\t\t\tif(object[t] !== undefined) {\n\t\t\t\tresult[t] = $tw.utils.deepCopy(object[t]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tresult = object;\n\t}\n\treturn result;\n};\n\nexports.extendDeepCopy = function(object,extendedProperties) {\n\tvar result = $tw.utils.deepCopy(object),t;\n\tfor(t in extendedProperties) {\n\t\tif(extendedProperties[t] !== undefined) {\n\t\t\tresult[t] = $tw.utils.deepCopy(extendedProperties[t]);\n\t\t}\n\t}\n\treturn result;\n};\n\nexports.deepFreeze = function deepFreeze(object) {\n\tvar property, key;\n\tif(object) {\n\t\tObject.freeze(object);\n\t\tfor(key in object) {\n\t\t\tproperty = object[key];\n\t\t\tif($tw.utils.hop(object,key) &amp;&amp; (typeof property === \"object\") &amp;&amp; !Object.isFrozen(property)) {\n\t\t\t\tdeepFreeze(property);\n\t\t\t}\n\t\t}\n\t}\n};\n\nexports.slowInSlowOut = function(t) {\n\treturn (1 - ((Math.cos(t * Math.PI) + 1) / 2));\n};\n\nexports.formatDateString = function(date,template) {\n\tvar result = \"\",\n\t\tt = template,\n\t\tmatches = [\n\t\t\t[/^0hh12/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getHours12(date));\n\t\t\t}],\n\t\t\t[/^wYYYY/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getYearForWeekNo(date),4);\n\t\t\t}],\n\t\t\t[/^hh12/, function() {\n\t\t\t\treturn $tw.utils.getHours12(date);\n\t\t\t}],\n\t\t\t[/^DDth/, function() {\n\t\t\t\treturn date.getDate() + $tw.utils.getDaySuffix(date);\n\t\t\t}],\n\t\t\t[/^YYYY/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getFullYear(),4);\n\t\t\t}],\n\t\t\t[/^aYYYY/, function() {\n\t\t\t\treturn $tw.utils.pad(Math.abs(date.getFullYear()),4);\n\t\t\t}],\n\t\t\t[/^\\{era:([^,\\|}]*)\\|([^}\\|]*)\\|([^}]*)\\}/, function(match) {\n\t\t\t\tvar year = date.getFullYear();\n\t\t\t\treturn year === 0 ? match[2] : (year &lt; 0 ? match[1] : match[3]);\n\t\t\t}],\n\t\t\t[/^0hh/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getHours());\n\t\t\t}],\n\t\t\t[/^0mm/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getMinutes());\n\t\t\t}],\n\t\t\t[/^0ss/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getSeconds());\n\t\t\t}],\n\t\t\t[/^0XXX/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getMilliseconds(),3);\n\t\t\t}],\n\t\t\t[/^0DD/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getDate());\n\t\t\t}],\n\t\t\t[/^0MM/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getMonth()+1);\n\t\t\t}],\n\t\t\t[/^0WW/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getWeek(date));\n\t\t\t}],\n\t\t\t[/^ddd/, function() {\n\t\t\t\treturn $tw.language.getString(\"Date/Short/Day/\" + date.getDay());\n\t\t\t}],\n\t\t\t[/^mmm/, function() {\n\t\t\t\treturn $tw.language.getString(\"Date/Short/Month/\" + (date.getMonth() + 1));\n\t\t\t}],\n\t\t\t[/^DDD/, function() {\n\t\t\t\treturn $tw.language.getString(\"Date/Long/Day/\" + date.getDay());\n\t\t\t}],\n\t\t\t[/^MMM/, function() {\n\t\t\t\treturn $tw.language.getString(\"Date/Long/Month/\" + (date.getMonth() + 1));\n\t\t\t}],\n\t\t\t[/^TZD/, function() {\n\t\t\t\tvar tz = date.getTimezoneOffset(),\n\t\t\t\tatz = Math.abs(tz);\n\t\t\t\treturn (tz &lt; 0 ? '+' : '-') + $tw.utils.pad(Math.floor(atz / 60)) + ':' + $tw.utils.pad(atz % 60);\n\t\t\t}],\n\t\t\t[/^wYY/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getYearForWeekNo(date) - 2000);\n\t\t\t}],\n\t\t\t[/^[ap]m/, function() {\n\t\t\t\treturn $tw.utils.getAmPm(date).toLowerCase();\n\t\t\t}],\n\t\t\t[/^hh/, function() {\n\t\t\t\treturn date.getHours();\n\t\t\t}],\n\t\t\t[/^mm/, function() {\n\t\t\t\treturn date.getMinutes();\n\t\t\t}],\n\t\t\t[/^ss/, function() {\n\t\t\t\treturn date.getSeconds();\n\t\t\t}],\n\t\t\t[/^XXX/, function() {\n\t\t\t\treturn date.getMilliseconds();\n\t\t\t}],\n\t\t\t[/^[AP]M/, function() {\n\t\t\t\treturn $tw.utils.getAmPm(date).toUpperCase();\n\t\t\t}],\n\t\t\t[/^DD/, function() {\n\t\t\t\treturn date.getDate();\n\t\t\t}],\n\t\t\t[/^MM/, function() {\n\t\t\t\treturn date.getMonth() + 1;\n\t\t\t}],\n\t\t\t[/^WW/, function() {\n\t\t\t\treturn $tw.utils.getWeek(date);\n\t\t\t}],\n\t\t\t[/^YY/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getFullYear() - 2000);\n\t\t\t}]\n\t\t];\n\t// If the user wants everything in UTC, shift the datestamp\n\t// Optimize for format string that essentially means\n\t// 'return raw UTC (tiddlywiki style) date string.'\n\tif(t.indexOf(\"[UTC]\") == 0 ) {\n\t\tif(t == \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\")\n\t\t\treturn $tw.utils.stringifyDate(new Date());\n\t\tvar offset = date.getTimezoneOffset() ; // in minutes\n\t\tdate = new Date(date.getTime()+offset*60*1000) ;\n\t\tt = t.substr(5) ;\n\t}\n\twhile(t.length){\n\t\tvar matchString = \"\";\n\t\t$tw.utils.each(matches, function(m) {\n\t\t\tvar match = m[0].exec(t);\n\t\t\tif(match) {\n\t\t\t\tmatchString = m[1].call(null,match);\n\t\t\t\tt = t.substr(match[0].length);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif(matchString) {\n\t\t\tresult += matchString;\n\t\t} else {\n\t\t\tresult += t.charAt(0);\n\t\t\tt = t.substr(1);\n\t\t}\n\t}\n\tresult = result.replace(/\\\\(.)/g,\"$1\");\n\treturn result;\n};\n\nexports.getAmPm = function(date) {\n\treturn $tw.language.getString(\"Date/Period/\" + (date.getHours() &gt;= 12 ? \"pm\" : \"am\"));\n};\n\nexports.getDaySuffix = function(date) {\n\treturn $tw.language.getString(\"Date/DaySuffix/\" + date.getDate());\n};\n\nexports.getWeek = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) {\n\t\td = 7; // JavaScript Sun=0, ISO Sun=7\n\t}\n\tdt.setTime(dt.getTime() + (4 - d) * 86400000);// shift day to Thurs of same week to calculate weekNo\n\tvar x = new Date(dt.getFullYear(),0,1);\n\tvar n = Math.floor((dt.getTime() - x.getTime()) / 86400000);\n\treturn Math.floor(n / 7) + 1;\n};\n\nexports.getYearForWeekNo = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) {\n\t\td = 7; // JavaScript Sun=0, ISO Sun=7\n\t}\n\tdt.setTime(dt.getTime() + (4 - d) * 86400000);// shift day to Thurs of same week\n\treturn dt.getFullYear();\n};\n\nexports.getHours12 = function(date) {\n\tvar h = date.getHours();\n\treturn h &gt; 12 ? h-12 : ( h &gt; 0 ? h : 12 );\n};\n\n/*\nConvert a date delta in milliseconds into a string representation of \"23 seconds ago\", \"27 minutes ago\" etc.\n\tdelta: delta in milliseconds\nReturns an object with these members:\n\tdescription: string describing the delta period\n\tupdatePeriod: time in millisecond until the string will be inaccurate\n*/\nexports.getRelativeDate = function(delta) {\n\tvar futurep = false;\n\tif(delta &lt; 0) {\n\t\tdelta = -1 * delta;\n\t\tfuturep = true;\n\t}\n\tvar units = [\n\t\t{name: \"Years\",   duration:      365 * 24 * 60 * 60 * 1000},\n\t\t{name: \"Months\",  duration: (365/12) * 24 * 60 * 60 * 1000},\n\t\t{name: \"Days\",    duration:            24 * 60 * 60 * 1000},\n\t\t{name: \"Hours\",   duration:                 60 * 60 * 1000},\n\t\t{name: \"Minutes\", duration:                      60 * 1000},\n\t\t{name: \"Seconds\", duration:                           1000}\n\t];\n\tfor(var t=0; t&lt;units.length; t++) {\n\t\tvar result = Math.floor(delta / units[t].duration);\n\t\tif(result &gt;= 2) {\n\t\t\treturn {\n\t\t\t\tdelta: delta,\n\t\t\t\tdescription: $tw.language.getString(\n\t\t\t\t\t\"RelativeDate/\" + (futurep ? \"Future\" : \"Past\") + \"/\" + units[t].name,\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{period: result.toString()}\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\tupdatePeriod: units[t].duration\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\tdelta: delta,\n\t\tdescription: $tw.language.getString(\n\t\t\t\"RelativeDate/\" + (futurep ? \"Future\" : \"Past\") + \"/Second\",\n\t\t\t{variables:\n\t\t\t\t{period: \"1\"}\n\t\t\t}\n\t\t),\n\t\tupdatePeriod: 1000\n\t};\n};\n\n// Convert &amp; to \"&amp;amp;\", &lt; to \"&amp;lt;\", &gt; to \"&amp;gt;\", \" to \"&amp;quot;\"\nexports.htmlEncode = function(s) {\n\tif(s) {\n\t\treturn s.toString().replace(/&amp;/mg,\"&amp;amp;\").replace(/&lt;/mg,\"&amp;lt;\").replace(/&gt;/mg,\"&amp;gt;\").replace(/\\\"/mg,\"&amp;quot;\");\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\n// Converts like htmlEncode, but forgets the double quote for brevity\nexports.htmlTextEncode = function(s) {\n\tif(s) {\n\t\treturn s.toString().replace(/&amp;/mg,\"&amp;amp;\").replace(/&lt;/mg,\"&amp;lt;\").replace(/&gt;/mg,\"&amp;gt;\");\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\n// Converts all HTML entities to their character equivalents\nexports.entityDecode = function(s) {\n\tvar converter = String.fromCodePoint || String.fromCharCode,\n\t\te = s.substr(1,s.length-2), // Strip the &amp; and the ;\n\t\tc;\n\tif(e.charAt(0) === \"#\") {\n\t\tif(e.charAt(1) === \"x\" || e.charAt(1) === \"X\") {\n\t\t\tc = parseInt(e.substr(2),16);\n\t\t} else {\n\t\t\tc = parseInt(e.substr(1),10);\n\t\t}\n\t\tif(isNaN(c)) {\n\t\t\treturn s;\n\t\t} else {\n\t\t\treturn converter(c);\n\t\t}\n\t} else {\n\t\tc = $tw.config.htmlEntities[e];\n\t\tif(c) {\n\t\t\treturn converter(c);\n\t\t} else {\n\t\t\treturn s; // Couldn't convert it as an entity, just return it raw\n\t\t}\n\t}\n};\n\nexports.unescapeLineBreaks = function(s) {\n\treturn s.replace(/\\\\n/mg,\"\\n\").replace(/\\\\b/mg,\" \").replace(/\\\\s/mg,\"\\\\\").replace(/\\r/mg,\"\");\n};\n\n/*\n * Returns an escape sequence for given character. Uses \\x for characters &lt;=\n * 0xFF to save space, \\u for the rest.\n *\n * The code needs to be in sync with th code template in the compilation\n * function for \"action\" nodes.\n */\n// Copied from peg.js, thanks to David Majda\nexports.escape = function(ch) {\n\tvar charCode = ch.charCodeAt(0);\n\tif(charCode &lt;= 0xFF) {\n\t\treturn '\\\\x' + $tw.utils.pad(charCode.toString(16).toUpperCase());\n\t} else {\n\t\treturn '\\\\u' + $tw.utils.pad(charCode.toString(16).toUpperCase(),4);\n\t}\n};\n\n// Turns a string into a legal JavaScript string\n// Copied from peg.js, thanks to David Majda\nexports.stringify = function(s, rawUnicode) {\n\t/*\n\t* ECMA-262, 5th ed., 7.8.4: All characters may appear literally in a string\n\t* literal except for the closing quote character, backslash, carriage return,\n\t* line separator, paragraph separator, and line feed. Any character may\n\t* appear in the form of an escape sequence.\n\t*\n\t* For portability, we also escape all non-ASCII characters.\n\t*/\n\tvar regex = rawUnicode ? /[\\x00-\\x1f]/g : /[\\x00-\\x1f\\x80-\\uFFFF]/g;\n\treturn (s || \"\")\n\t\t.replace(/\\\\/g, '\\\\\\\\')            // backslash\n\t\t.replace(/\"/g, '\\\\\"')              // double quote character\n\t\t.replace(/'/g, \"\\\\'\")              // single quote character\n\t\t.replace(/\\r/g, '\\\\r')             // carriage return\n\t\t.replace(/\\n/g, '\\\\n')             // line feed\n\t\t.replace(regex, exports.escape);   // non-ASCII characters\n};\n\n// Turns a string into a legal JSON string\n// Derived from peg.js, thanks to David Majda\nexports.jsonStringify = function(s, rawUnicode) {\n\t// See http://www.json.org/\n\tvar regex = rawUnicode ? /[\\x00-\\x1f]/g : /[\\x00-\\x1f\\x80-\\uFFFF]/g;\n\treturn (s || \"\")\n\t\t.replace(/\\\\/g, '\\\\\\\\')            // backslash\n\t\t.replace(/\"/g, '\\\\\"')              // double quote character\n\t\t.replace(/\\r/g, '\\\\r')             // carriage return\n\t\t.replace(/\\n/g, '\\\\n')             // line feed\n\t\t.replace(/\\x08/g, '\\\\b')           // backspace\n\t\t.replace(/\\x0c/g, '\\\\f')           // formfeed\n\t\t.replace(/\\t/g, '\\\\t')             // tab\n\t\t.replace(regex,function(s) {\n\t\t\treturn '\\\\u' + $tw.utils.pad(s.charCodeAt(0).toString(16).toUpperCase(),4);\n\t\t}); // non-ASCII characters\n};\n\n/*\nEscape the RegExp special characters with a preceding backslash\n*/\nexports.escapeRegExp = function(s) {\n    return s.replace(/[\\-\\/\\\\\\^\\$\\*\\+\\?\\.\\(\\)\\|\\[\\]\\{\\}]/g, '\\\\$&amp;');\n};\n\n// Checks whether a link target is external, i.e. not a tiddler title\nexports.isLinkExternal = function(to) {\n\tvar externalRegExp = /^(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|\"\\\\^]+(?:\\/|\\b)/i;\n\treturn externalRegExp.test(to);\n};\n\nexports.nextTick = function(fn) {\n/*global window: false */\n\tif(typeof process === \"undefined\") {\n\t\t// Apparently it would be faster to use postMessage - http://dbaron.org/log/20100309-faster-timeouts\n\t\twindow.setTimeout(fn,0);\n\t} else {\n\t\tprocess.nextTick(fn);\n\t}\n};\n\n/*\nConvert a hyphenated CSS property name into a camel case one\n*/\nexports.unHyphenateCss = function(propName) {\n\treturn propName.replace(/-([a-z])/gi, function(match0,match1) {\n\t\treturn match1.toUpperCase();\n\t});\n};\n\n/*\nConvert a camelcase CSS property name into a dashed one (\"backgroundColor\" --&gt; \"background-color\")\n*/\nexports.hyphenateCss = function(propName) {\n\treturn propName.replace(/([A-Z])/g, function(match0,match1) {\n\t\treturn \"-\" + match1.toLowerCase();\n\t});\n};\n\n/*\nParse a text reference of one of these forms:\n* title\n* !!field\n* title!!field\n* title##index\n* etc\nReturns an object with the following fields, all optional:\n* title: tiddler title\n* field: tiddler field name\n* index: JSON property index\n*/\nexports.parseTextReference = function(textRef) {\n\t// Separate out the title, field name and/or JSON indices\n\tvar reTextRef = /(?:(.*?)!!(.+))|(?:(.*?)##(.+))|(.*)/mg,\n\t\tmatch = reTextRef.exec(textRef),\n\t\tresult = {};\n\tif(match &amp;&amp; reTextRef.lastIndex === textRef.length) {\n\t\t// Return the parts\n\t\tif(match[1]) {\n\t\t\tresult.title = match[1];\n\t\t}\n\t\tif(match[2]) {\n\t\t\tresult.field = match[2];\n\t\t}\n\t\tif(match[3]) {\n\t\t\tresult.title = match[3];\n\t\t}\n\t\tif(match[4]) {\n\t\t\tresult.index = match[4];\n\t\t}\n\t\tif(match[5]) {\n\t\t\tresult.title = match[5];\n\t\t}\n\t} else {\n\t\t// If we couldn't parse it\n\t\tresult.title = textRef\n\t}\n\treturn result;\n};\n\n/*\nChecks whether a string is a valid fieldname\n*/\nexports.isValidFieldName = function(name) {\n\tif(!name || typeof name !== \"string\") {\n\t\treturn false;\n\t}\n\tname = name.toLowerCase().trim();\n\tvar fieldValidatorRegEx = /^[a-z0-9\\-\\._]+$/mg;\n\treturn fieldValidatorRegEx.test(name);\n};\n\n/*\nExtract the version number from the meta tag or from the boot file\n*/\n\n// Browser version\nexports.extractVersionInfo = function() {\n\tif($tw.packageInfo) {\n\t\treturn $tw.packageInfo.version;\n\t} else {\n\t\tvar metatags = document.getElementsByTagName(\"meta\");\n\t\tfor(var t=0; t&lt;metatags.length; t++) {\n\t\t\tvar m = metatags[t];\n\t\t\tif(m.name === \"tiddlywiki-version\") {\n\t\t\t\treturn m.content;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nGet the animation duration in ms\n*/\nexports.getAnimationDuration = function() {\n\treturn parseInt($tw.wiki.getTiddlerText(\"$:/config/AnimationDuration\",\"400\"),10) || 0;\n};\n\n/*\nHash a string to a number\nDerived from http://stackoverflow.com/a/15710692\n*/\nexports.hashString = function(str) {\n\treturn str.split(\"\").reduce(function(a,b) {\n\t\ta = ((a &lt;&lt; 5) - a) + b.charCodeAt(0);\n\t\treturn a &amp; a;\n\t},0);\n};\n\n/*\nDecode a base64 string\n*/\nexports.base64Decode = function(string64) {\n\treturn base64utf8.base64.decode.call(base64utf8,string64);\n};\n\n/*\nEncode a string to base64\n*/\nexports.base64Encode = function(string64) {\n\treturn base64utf8.base64.encode.call(base64utf8,string64);\n};\n\n/*\nConvert a hashmap into a tiddler dictionary format sequence of name:value pairs\n*/\nexports.makeTiddlerDictionary = function(data) {\n\tvar output = [];\n\tfor(var name in data) {\n\t\toutput.push(name + \": \" + data[name]);\n\t}\n\treturn output.join(\"\\n\");\n};\n\n/*\nHigh resolution microsecond timer for profiling\n*/\nexports.timer = function(base) {\n\tvar m;\n\tif($tw.node) {\n\t\tvar r = process.hrtime();\n\t\tm =  r[0] * 1e3 + (r[1] / 1e6);\n\t} else if(window.performance) {\n\t\tm = performance.now();\n\t} else {\n\t\tm = Date.now();\n\t}\n\tif(typeof base !== \"undefined\") {\n\t\tm = m - base;\n\t}\n\treturn m;\n};\n\n/*\nConvert text and content type to a data URI\n*/\nexports.makeDataUri = function(text,type,_canonical_uri) {\n\ttype = type || \"text/vnd.tiddlywiki\";\n\tvar typeInfo = $tw.config.contentTypeInfo[type] || $tw.config.contentTypeInfo[\"text/plain\"],\n\t\tisBase64 = typeInfo.encoding === \"base64\",\n\t\tparts = [];\n\tif(_canonical_uri) {\n\t\tparts.push(_canonical_uri);\n\t} else {\n\t\tparts.push(\"data:\");\n\t\tparts.push(type);\n\t\tparts.push(isBase64 ? \";base64\" : \"\");\n\t\tparts.push(\",\");\n\t\tparts.push(isBase64 ? text : encodeURIComponent(text));\t\t\n\t}\n\treturn parts.join(\"\");\n};\n\n/*\nUseful for finding out the fully escaped CSS selector equivalent to a given tag. For example:\n\n$tw.utils.tagToCssSelector(\"$:/tags/Stylesheet\") --&gt; tc-tagged-\\%24\\%3A\\%2Ftags\\%2FStylesheet\n*/\nexports.tagToCssSelector = function(tagName) {\n\treturn \"tc-tagged-\" + encodeURIComponent(tagName).replace(/[!\"#$%&amp;'()*+,\\-./:;&lt;=&gt;?@[\\\\\\]^`{\\|}~,]/mg,function(c) {\n\t\treturn \"\\\\\" + c;\n\t});\n};\n\n/*\nIE does not have sign function\n*/\nexports.sign = Math.sign || function(x) {\n\tx = +x; // convert to a number\n\tif (x === 0 || isNaN(x)) {\n\t\treturn x;\n\t}\n\treturn x &gt; 0 ? 1 : -1;\n};\n\n/*\nIE does not have an endsWith function\n*/\nexports.strEndsWith = function(str,ending,position) {\n\tif(str.endsWith) {\n\t\treturn str.endsWith(ending,position);\n\t} else {\n\t\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position &gt; str.length) {\n\t\t\tposition = str.length;\n\t\t}\n\t\tposition -= ending.length;\n\t\tvar lastIndex = str.indexOf(ending, position);\n\t\treturn lastIndex !== -1 &amp;&amp; lastIndex === position;\n\t}\n};\n\n/*\nReturn system information useful for debugging\n*/\nexports.getSystemInfo = function(str,ending,position) {\n\tvar results = [],\n\t\tsave = function(desc,value) {\n\t\t\tresults.push(desc + \": \" + value);\n\t\t};\n\tif($tw.browser) {\n\t\tsave(\"User Agent\",navigator.userAgent);\n\t\tsave(\"Online Status\",window.navigator.onLine);\n\t}\n\tif($tw.node) {\n\t\tsave(\"Node Version\",process.version);\n\t}\n\treturn results.join(\"\\n\");\n};\n\nexports.parseNumber = function(str) {\n\treturn parseFloat(str) || 0;\n};\n\nexports.parseInt = function(str) {\n\treturn parseInt(str,10) || 0;\n};\n\nexports.stringifyNumber = function(num) {\n\treturn num + \"\";\n};\n\nexports.makeCompareFunction = function(type,options) {\n\toptions = options || {};\n\tvar gt = options.invert ? -1 : +1,\n\t\tlt = options.invert ? +1 : -1,\n\t\tcompare = function(a,b) {\n\t\t\tif(a &gt; b) {\n\t\t\t\treturn gt ;\n\t\t\t} else if(a &lt; b) {\n\t\t\t\treturn lt;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\ttypes = {\n\t\t\t\"number\": function(a,b) {\n\t\t\t\treturn compare($tw.utils.parseNumber(a),$tw.utils.parseNumber(b));\n\t\t\t},\n\t\t\t\"integer\": function(a,b) {\n\t\t\t\treturn compare($tw.utils.parseInt(a),$tw.utils.parseInt(b));\n\t\t\t},\n\t\t\t\"string\": function(a,b) {\n\t\t\t\treturn compare(\"\" + a,\"\" +b);\n\t\t\t},\n\t\t\t\"date\": function(a,b) {\n\t\t\t\tvar dateA = $tw.utils.parseDate(a),\n\t\t\t\t\tdateB = $tw.utils.parseDate(b);\n\t\t\t\tif(!isFinite(dateA)) {\n\t\t\t\t\tdateA = new Date(0);\n\t\t\t\t}\n\t\t\t\tif(!isFinite(dateB)) {\n\t\t\t\t\tdateB = new Date(0);\n\t\t\t\t}\n\t\t\t\treturn compare(dateA,dateB);\n\t\t\t},\n\t\t\t\"version\": function(a,b) {\n\t\t\t\treturn $tw.utils.compareVersions(a,b);\n\t\t\t}\n\t\t};\n\treturn (types[type] || types[options.defaultType] || types.number);\n};\n\n})();\n",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/widgets/action-confirm.js": {
            "title": "$:/core/modules/widgets/action-confirm.js",
            "text": "/*\\\n\ntitle: $:/core/modules/widgets/action-confirm.js\ntype: application/javascript\nmodule-type: widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ConfirmWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nConfirmWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nConfirmWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.parentDomNode = parent;\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nConfirmWidget.prototype.execute = function() {\n\tthis.message = this.getAttribute(\"$message\",$tw.language.getString(\"ConfirmAction\"));\n\tthis.prompt = (this.getAttribute(\"$prompt\",\"yes\") == \"no\" ? false : true);\n\tthis.makeChildWidgets();\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nConfirmWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"$message\"] || changedAttributes[\"$prompt\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nConfirmWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar invokeActions = true,\n\t\thandled = true;\n\tif(this.prompt) {\n\t\tinvokeActions = confirm(this.message);\n\t}\n\tif(invokeActions) {\n\t\thandled = this.invokeActions(triggeringWidget,event);\n\t}\n\treturn handled;\n};\n\nConfirmWidget.prototype.allowActionPropagation = function() {\n\treturn false;\n};\n\nexports[\"action-confirm\"] = ConfirmWidget;\n\n})();",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-createtiddler.js": {
            "title": "$:/core/modules/widgets/action-createtiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-createtiddler.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to create a new tiddler with a unique name and specified fields.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw:false, require:false, exports:false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar CreateTiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCreateTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCreateTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nCreateTiddlerWidget.prototype.execute = function() {\n\tthis.actionBaseTitle = this.getAttribute(\"$basetitle\");\n\tthis.hasBase = !!this.actionBaseTitle;\n\tthis.actionSaveTitle = this.getAttribute(\"$savetitle\");\n\tthis.actionSaveDraftTitle = this.getAttribute(\"$savedrafttitle\");\n\tthis.actionTimestamp = this.getAttribute(\"$timestamp\",\"yes\") === \"yes\";\n\t//Following params are new since 5.1.22\n\tthis.actionTemplate = this.getAttribute(\"$template\");\n\tthis.useTemplate = !!this.actionTemplate;\n\tthis.actionOverwrite = this.getAttribute(\"$overwrite\",\"no\");\n\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nCreateTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif($tw.utils.count(changedAttributes) &gt; 0) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nCreateTiddlerWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar title = this.wiki.getTiddlerText(\"$:/language/DefaultNewTiddlerTitle\"), // Get the initial new-tiddler title\n\t\tfields = {},\n\t\tcreationFields,\n\t\tmodificationFields;\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \"$\") {\n\t\t\tfields[name] = attribute;\n\t\t}\n\t});\n\tif(this.actionTimestamp) {\n\t\tcreationFields = this.wiki.getCreationFields();\n\t\tmodificationFields = this.wiki.getModificationFields();\n\t}\n\tif(this.hasBase &amp;&amp; this.actionOverwrite === \"no\") {\n\t\ttitle = this.wiki.generateNewTitle(this.actionBaseTitle);\n\t} else if (this.hasBase &amp;&amp; this.actionOverwrite === \"yes\") {\n\t\ttitle = this.actionBaseTitle\n\t}\n\t// NO $basetitle BUT $template parameter is available\n\t// the title MUST be unique, otherwise the template would be overwritten\n\tif (!this.hasBase &amp;&amp; this.useTemplate) {\n\t\ttitle = this.wiki.generateNewTitle(this.actionTemplate);\n\t} else if (!this.hasBase &amp;&amp; !this.useTemplate) {\n\t\t// If NO $basetitle AND NO $template use initial title\n\t\t// DON'T overwrite any stuff\n\t\ttitle = this.wiki.generateNewTitle(title);\n\t}\n\tvar templateTiddler = this.wiki.getTiddler(this.actionTemplate) || {};\n\tvar tiddler = this.wiki.addTiddler(new $tw.Tiddler(templateTiddler.fields,creationFields,fields,modificationFields,{title: title}));\n\tif(this.actionSaveTitle) {\n\t\tthis.wiki.setTextReference(this.actionSaveTitle,title,this.getVariable(\"currentTiddler\"));\n\t}\n\tif(this.actionSaveDraftTitle) {\n\t\tthis.wiki.setTextReference(this.actionSaveDraftTitle,this.wiki.generateDraftTitle(title),this.getVariable(\"currentTiddler\"));\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\"action-createtiddler\"] = CreateTiddlerWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-deletefield.js": {
            "title": "$:/core/modules/widgets/action-deletefield.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-deletefield.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to delete fields of a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar DeleteFieldWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDeleteFieldWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDeleteFieldWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nDeleteFieldWidget.prototype.execute = function() {\n\tthis.actionTiddler = this.getAttribute(\"$tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.actionField = this.getAttribute(\"$field\");\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nDeleteFieldWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"$tiddler\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nDeleteFieldWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar self = this,\n\t\ttiddler = this.wiki.getTiddler(self.actionTiddler),\n\t\tremoveFields = {},\n\t\thasChanged = false;\n\tif(this.actionField &amp;&amp; tiddler) {\n\t\tremoveFields[this.actionField] = undefined;\n\t\tif(this.actionField in tiddler.fields) {\n\t\t\thasChanged = true;\n\t\t}\n\t}\n\tif(tiddler) {\n\t\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\t\tif(name.charAt(0) !== \"$\" &amp;&amp; name !== \"title\") {\n\t\t\t\tremoveFields[name] = undefined;\n\t\t\t\thasChanged = true;\n\t\t\t}\n\t\t});\n\t\tif(hasChanged) {\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),tiddler,removeFields,this.wiki.getModificationFields()));\t\t\t\n\t\t}\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\"action-deletefield\"] = DeleteFieldWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-deletetiddler.js": {
            "title": "$:/core/modules/widgets/action-deletetiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-deletetiddler.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to delete a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar DeleteTiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDeleteTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDeleteTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nDeleteTiddlerWidget.prototype.execute = function() {\n\tthis.actionFilter = this.getAttribute(\"$filter\");\n\tthis.actionTiddler = this.getAttribute(\"$tiddler\");\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nDeleteTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"$filter\"] || changedAttributes[\"$tiddler\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nDeleteTiddlerWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar tiddlers = [];\n\tif(this.actionFilter) {\n\t\ttiddlers = this.wiki.filterTiddlers(this.actionFilter,this);\n\t}\n\tif(this.actionTiddler) {\n\t\ttiddlers.push(this.actionTiddler);\n\t}\n\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\tthis.wiki.deleteTiddler(tiddlers[t]);\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\"action-deletetiddler\"] = DeleteTiddlerWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-listops.js": {
            "title": "$:/core/modules/widgets/action-listops.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-listops.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to apply list operations to any tiddler field (defaults to the 'list' field of the current tiddler)\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\nvar ActionListopsWidget = function(parseTreeNode, options) {\n\tthis.initialise(parseTreeNode, options);\n};\n/**\n * Inherit from the base widget class\n */\nActionListopsWidget.prototype = new Widget();\n/**\n * Render this widget into the DOM\n */\nActionListopsWidget.prototype.render = function(parent, nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n/**\n * Compute the internal state of the widget\n */\nActionListopsWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.target = this.getAttribute(\"$tiddler\", this.getVariable(\n\t\t\"currentTiddler\"));\n\tthis.filter = this.getAttribute(\"$filter\");\n\tthis.subfilter = this.getAttribute(\"$subfilter\");\n\tthis.listField = this.getAttribute(\"$field\", \"list\");\n\tthis.listIndex = this.getAttribute(\"$index\");\n\tthis.filtertags = this.getAttribute(\"$tags\");\n};\n/**\n * \tRefresh the widget by ensuring our attributes are up to date\n */\nActionListopsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.$tiddler || changedAttributes.$filter ||\n\t\tchangedAttributes.$subfilter || changedAttributes.$field ||\n\t\tchangedAttributes.$index || changedAttributes.$tags) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n/**\n * \tInvoke the action associated with this widget\n */\nActionListopsWidget.prototype.invokeAction = function(triggeringWidget,\n\tevent) {\n\t//Apply the specified filters to the lists\n\tvar field = this.listField,\n\t\tindex,\n\t\ttype = \"!!\",\n\t\tlist = this.listField;\n\tif(this.listIndex) {\n\t\tfield = undefined;\n\t\tindex = this.listIndex;\n\t\ttype = \"##\";\n\t\tlist = this.listIndex;\n\t}\n\tif(this.filter) {\n\t\tthis.wiki.setText(this.target, field, index, $tw.utils.stringifyList(\n\t\t\tthis.wiki\n\t\t\t.filterTiddlers(this.filter, this)));\n\t}\n\tif(this.subfilter) {\n\t\tvar subfilter = \"[list[\" + this.target + type + list + \"]] \" + this.subfilter;\n\t\tthis.wiki.setText(this.target, field, index, $tw.utils.stringifyList(\n\t\t\tthis.wiki\n\t\t\t.filterTiddlers(subfilter, this)));\n\t}\n\tif(this.filtertags) {\n\t\tvar tiddler = this.wiki.getTiddler(this.target),\n\t\t\toldtags = tiddler ? (tiddler.fields.tags || []).slice(0) : [],\n\t\t\ttagfilter = \"[list[\" + this.target + \"!!tags]] \" + this.filtertags,\n\t\t\tnewtags = this.wiki.filterTiddlers(tagfilter,this);\n\t\tif($tw.utils.stringifyList(oldtags.sort()) !== $tw.utils.stringifyList(newtags.sort())) {\n\t\t\tthis.wiki.setText(this.target,\"tags\",undefined,$tw.utils.stringifyList(newtags));\t\t\t\n\t\t}\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\"action-listops\"] = ActionListopsWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-log.js": {
            "title": "$:/core/modules/widgets/action-log.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-log.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to log debug messages\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar LogWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nLogWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLogWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\nLogWidget.prototype.execute = function(){\n\tthis.message = this.getAttribute(\"$$message\",\"debug\");\n\tthis.logAll = this.getAttribute(\"$$all\",\"no\") === \"yes\" ? true : false;\n\tthis.filter = this.getAttribute(\"$$filter\");\n}\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nLogWidget.prototype.refresh = function(changedTiddlers) {\n\tthis.refreshSelf();\n\treturn true;\n};\n\n/*\nInvoke the action associated with this widget\n*/\nLogWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tthis.log();\n\treturn true; // Action was invoked\n};\n\nLogWidget.prototype.log = function() {\n\tvar data = {},\n\t\tdataCount,\n\t\tallVars = {},\n\t\tfilteredVars;\n\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.substring(0,2) !== \"$$\") {\n\t\t\tdata[name] = attribute;\n\t\t}\t\t\n\t});\n\n\tfor(var v in this.variables) {\n\t\tallVars[v] = this.getVariable(v,{defaultValue:\"\"});\n\t}\t\n\tif(this.filter) {\n\t\tfilteredVars = this.wiki.compileFilter(this.filter).call(this.wiki,this.wiki.makeTiddlerIterator(allVars));\n\t\t$tw.utils.each(filteredVars,function(name) {\n\t\t\tdata[name] = allVars[name];\n\t\t});\t\t\n\t}\n\tdataCount = $tw.utils.count(data);\n\n\tconsole.group(this.message);\n\tif(dataCount &gt; 0) {\n\t\t$tw.utils.logTable(data);\n\t}\n\tif(this.logAll || !dataCount) {\n\t\tconsole.groupCollapsed(\"All variables\");\n\t\t$tw.utils.logTable(allVars);\n\t\tconsole.groupEnd();\n\t}\n\tconsole.groupEnd();\n}\n\nexports[\"action-log\"] = LogWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-navigate.js": {
            "title": "$:/core/modules/widgets/action-navigate.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-navigate.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to navigate to a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar NavigateWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nNavigateWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nNavigateWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nNavigateWidget.prototype.execute = function() {\n\tthis.actionTo = this.getAttribute(\"$to\");\n\tthis.actionScroll = this.getAttribute(\"$scroll\");\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nNavigateWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"$to\"] || changedAttributes[\"$scroll\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nNavigateWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tevent = event || {};\n\tvar bounds = triggeringWidget &amp;&amp; triggeringWidget.getBoundingClientRect &amp;&amp; triggeringWidget.getBoundingClientRect(),\n\t\tsuppressNavigation = event.metaKey || event.ctrlKey || (event.button === 1);\n\tif(this.actionScroll === \"yes\") {\n\t\tsuppressNavigation = false;\n\t} else if(this.actionScroll === \"no\") {\n\t\tsuppressNavigation = true;\n\t}\n\tthis.dispatchEvent({\n\t\ttype: \"tm-navigate\",\n\t\tnavigateTo: this.actionTo === undefined ? this.getVariable(\"currentTiddler\") : this.actionTo,\n\t\tnavigateFromTitle: this.getVariable(\"storyTiddler\"),\n\t\tnavigateFromNode: triggeringWidget,\n\t\tnavigateFromClientRect: bounds &amp;&amp; { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: suppressNavigation\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\"action-navigate\"] = NavigateWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-popup.js": {
            "title": "$:/core/modules/widgets/action-popup.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-popup.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to trigger a popup.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ActionPopupWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nActionPopupWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nActionPopupWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nActionPopupWidget.prototype.execute = function() {\n\tthis.actionState = this.getAttribute(\"$state\");\n\tthis.actionCoords = this.getAttribute(\"$coords\");\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nActionPopupWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"$state\"] || changedAttributes[\"$coords\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nActionPopupWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\t// Trigger the popup\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/,\n\t\tmatch = popupLocationRegExp.exec(this.actionCoords || \"\");\n\tif(match) {\n\t\t$tw.popup.triggerPopup({\n\t\t\tdomNode: null,\n\t\t\tdomNodeRect: {\n\t\t\t\tleft: parseFloat(match[1]),\n\t\t\t\ttop: parseFloat(match[2]),\n\t\t\t\twidth: parseFloat(match[3]),\n\t\t\t\theight: parseFloat(match[4])\n\t\t\t},\n\t\t\ttitle: this.actionState,\n\t\t\twiki: this.wiki\n\t\t});\n\t} else {\n\t\t$tw.popup.cancel(0);\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\"action-popup\"] = ActionPopupWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-sendmessage.js": {
            "title": "$:/core/modules/widgets/action-sendmessage.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-sendmessage.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to send a message\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar SendMessageWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSendMessageWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSendMessageWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nSendMessageWidget.prototype.execute = function() {\n\tthis.actionMessage = this.getAttribute(\"$message\");\n\tthis.actionParam = this.getAttribute(\"$param\");\n\tthis.actionName = this.getAttribute(\"$name\");\n\tthis.actionValue = this.getAttribute(\"$value\",\"\");\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nSendMessageWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(Object.keys(changedAttributes).length) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nSendMessageWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\t// Get the string parameter\n\tvar param = this.actionParam;\n\t// Assemble the attributes as a hashmap\n\tvar paramObject = Object.create(null);\n\tvar count = 0;\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \"$\") {\n\t\t\tparamObject[name] = attribute;\n\t\t\tcount++;\n\t\t}\n\t});\n\t// Add name/value pair if present\n\tif(this.actionName) {\n\t\tparamObject[this.actionName] = this.actionValue;\n\t}\n\t// Dispatch the message\n\tthis.dispatchEvent({\n\t\ttype: this.actionMessage,\n\t\tparam: param,\n\t\tparamObject: paramObject,\n\t\ttiddlerTitle: this.getVariable(\"currentTiddler\"),\n\t\tnavigateFromTitle: this.getVariable(\"storyTiddler\"),\n\t\tevent: event\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\"action-sendmessage\"] = SendMessageWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/action-setfield.js": {
            "title": "$:/core/modules/widgets/action-setfield.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/action-setfield.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to set a single field or index on a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar SetFieldWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSetFieldWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSetFieldWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nSetFieldWidget.prototype.execute = function() {\n\tthis.actionTiddler = this.getAttribute(\"$tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.actionField = this.getAttribute(\"$field\");\n\tthis.actionIndex = this.getAttribute(\"$index\");\n\tthis.actionValue = this.getAttribute(\"$value\");\n\tthis.actionTimestamp = this.getAttribute(\"$timestamp\",\"yes\") === \"yes\";\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nSetFieldWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"$tiddler\"] || changedAttributes[\"$field\"] || changedAttributes[\"$index\"] || changedAttributes[\"$value\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nSetFieldWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar self = this,\n\t\toptions = {};\n\toptions.suppressTimestamp = !this.actionTimestamp;\n\tif((typeof this.actionField == \"string\") || (typeof this.actionIndex == \"string\")  || (typeof this.actionValue == \"string\")) {\n\t\tthis.wiki.setText(this.actionTiddler,this.actionField,this.actionIndex,this.actionValue,options);\n\t}\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \"$\") {\n\t\t\tself.wiki.setText(self.actionTiddler,name,undefined,attribute,options);\n\t\t}\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\"action-setfield\"] = SetFieldWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/browse.js": {
            "title": "$:/core/modules/widgets/browse.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/browse.js\ntype: application/javascript\nmodule-type: widget\n\nBrowse widget for browsing for files to import\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar BrowseWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nBrowseWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nBrowseWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\"input\");\n\tdomNode.setAttribute(\"type\",\"file\");\n\tif(this.browseMultiple) {\n\t\tdomNode.setAttribute(\"multiple\",\"multiple\");\n\t}\n\tif(this.tooltip) {\n\t\tdomNode.setAttribute(\"title\",this.tooltip);\n\t}\n\t// Nw.js supports \"nwsaveas\" to force a \"save as\" dialogue that allows a new or existing file to be selected\n\tif(this.nwsaveas) {\n\t\tdomNode.setAttribute(\"nwsaveas\",this.nwsaveas);\n\t}\n\tif(this.accept) {\n\t\tdomNode.setAttribute(\"accept\",this.accept);\n\t}\n\t// Nw.js supports \"webkitdirectory\" and \"nwdirectory\" to allow a directory to be selected\n\tif(this.webkitdirectory) {\n\t\tdomNode.setAttribute(\"webkitdirectory\",this.webkitdirectory);\n\t}\n\tif(this.nwdirectory) {\n\t\tdomNode.setAttribute(\"nwdirectory\",this.nwdirectory);\n\t}\n\t// Add a click event handler\n\tdomNode.addEventListener(\"change\",function (event) {\n\t\tif(self.message) {\n\t\t\tself.dispatchEvent({type: self.message, param: self.param, files: event.target.files});\n\t\t} else {\n\t\t\tself.wiki.readFiles(event.target.files,{\n\t\t\t\tcallback: function(tiddlerFieldsArray) {\n\t\t\t\t\tself.dispatchEvent({type: \"tm-import-tiddlers\", param: JSON.stringify(tiddlerFieldsArray)});\n\t\t\t\t},\n\t\t\t\tdeserializer: self.deserializer\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nBrowseWidget.prototype.execute = function() {\n\tthis.browseMultiple = this.getAttribute(\"multiple\");\n\tthis.deserializer = this.getAttribute(\"deserializer\");\n\tthis.message = this.getAttribute(\"message\");\n\tthis.param = this.getAttribute(\"param\");\n\tthis.tooltip = this.getAttribute(\"tooltip\");\n\tthis.nwsaveas = this.getAttribute(\"nwsaveas\");\n\tthis.accept = this.getAttribute(\"accept\");\n\tthis.webkitdirectory = this.getAttribute(\"webkitdirectory\");\n\tthis.nwdirectory = this.getAttribute(\"nwdirectory\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nBrowseWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.browse = BrowseWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/button.js": {
            "title": "$:/core/modules/widgets/button.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/button.js\ntype: application/javascript\nmodule-type: widget\n\nButton widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ButtonWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nButtonWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nButtonWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this,\n\t\ttag = \"button\",\n\t\tdomNode;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tif(this.buttonTag &amp;&amp; $tw.config.htmlUnsafeElements.indexOf(this.buttonTag) === -1) {\n\t\ttag = this.buttonTag;\n\t}\n\tdomNode = this.document.createElement(tag);\n\tthis.domNode = domNode;\n\t// Assign classes\n\tvar classes = this[\"class\"].split(\" \") || [],\n\t\tisPoppedUp = (this.popup || this.popupTitle) &amp;&amp; this.isPoppedUp();\n\tif(this.selectedClass) {\n\t\tif((this.set || this.setTitle) &amp;&amp; this.setTo &amp;&amp; this.isSelected()) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\" \"));\n\t\t}\n\t\tif(isPoppedUp) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\" \"));\n\t\t}\n\t}\n\tif(isPoppedUp) {\n\t\t$tw.utils.pushTop(classes,\"tc-popup-handle\");\n\t}\n\tdomNode.className = classes.join(\" \");\n\t// Assign other attributes\n\tif(this.style) {\n\t\tdomNode.setAttribute(\"style\",this.style);\n\t}\n\tif(this.tooltip) {\n\t\tdomNode.setAttribute(\"title\",this.tooltip);\n\t}\n\tif(this[\"aria-label\"]) {\n\t\tdomNode.setAttribute(\"aria-label\",this[\"aria-label\"]);\n\t}\n\tif(this.popup || this.popupTitle) {\n\t\tdomNode.setAttribute(\"aria-expanded\",isPoppedUp ? \"true\" : \"false\");\n\t}\n\t// Set the tabindex\n\tif(this.tabIndex) {\n\t\tdomNode.setAttribute(\"tabindex\",this.tabIndex);\n\t}\n\tif(this.isDisabled === \"yes\") {\n\t\tdomNode.setAttribute(\"disabled\",true);\n\t}\n\t// Add a click event handler\n\tdomNode.addEventListener(\"click\",function (event) {\n\t\tvar handled = false;\n\t\tif(self.invokeActions(self,event)) {\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.to) {\n\t\t\tself.navigateTo(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.message) {\n\t\t\tself.dispatchMessage(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.popup || self.popupTitle) {\n\t\t\tself.triggerPopup(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.set || self.setTitle) {\n\t\t\tself.setTiddler();\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.actions) {\n\t\t\tvar modifierKey = $tw.keyboardManager.getEventModifierKeyDescriptor(event);\n\t\t\tself.invokeActionString(self.actions,self,event,{modifier: modifierKey});\n\t\t}\n\t\tif(handled) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t\treturn handled;\n\t},false);\n\t// Make it draggable if required\n\tif(this.dragTiddler || this.dragFilter) {\n\t\t$tw.utils.makeDraggable({\n\t\t\tdomNode: domNode,\n\t\t\tdragTiddlerFn: function() {return self.dragTiddler;},\n\t\t\tdragFilterFn: function() {return self.dragFilter;},\n\t\t\twidget: this\n\t\t});\n\t}\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nWe don't allow actions to propagate because we trigger actions ourselves\n*/\nButtonWidget.prototype.allowActionPropagation = function() {\n\treturn false;\n};\n\nButtonWidget.prototype.getBoundingClientRect = function() {\n\treturn this.domNodes[0].getBoundingClientRect();\n};\n\nButtonWidget.prototype.isSelected = function() {\n    return this.setTitle ? (this.setField ? this.wiki.getTiddler(this.setTitle).getFieldString(this.setField) === this.setTo :\n\t\t(this.setIndex ? this.wiki.extractTiddlerDataItem(this.setTitle,this.setIndex) === this.setTo :\n\t\t\tthis.wiki.getTiddlerText(this.setTitle))) || this.defaultSetValue || this.getVariable(\"currentTiddler\") :\n\t\tthis.wiki.getTextReference(this.set,this.defaultSetValue,this.getVariable(\"currentTiddler\")) === this.setTo;\n};\n\nButtonWidget.prototype.isPoppedUp = function() {\n\tvar tiddler = this.popupTitle ? this.wiki.getTiddler(this.popupTitle) : this.wiki.getTiddler(this.popup);\n\tvar result = tiddler &amp;&amp; tiddler.fields.text ? $tw.popup.readPopupState(tiddler.fields.text) : false;\n\treturn result;\n};\n\nButtonWidget.prototype.navigateTo = function(event) {\n\tvar bounds = this.getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \"tm-navigate\",\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\"storyTiddler\"),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1),\n\t\tevent: event\n\t});\n};\n\nButtonWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\"currentTiddler\"), event: event});\n};\n\nButtonWidget.prototype.triggerPopup = function(event) {\n\tif(this.popupTitle) {\n\t\t$tw.popup.triggerPopup({\n\t\t\tdomNode: this.domNodes[0],\n\t\t\ttitle: this.popupTitle,\n\t\t\twiki: this.wiki,\n\t\t\tnoStateReference: true\n\t\t});\n\t} else {\n\t\t$tw.popup.triggerPopup({\n\t\t\tdomNode: this.domNodes[0],\n\t\t\ttitle: this.popup,\n\t\t\twiki: this.wiki\n\t\t});\n\t}\n};\n\nButtonWidget.prototype.setTiddler = function() {\n\tif(this.setTitle) {\n\t\tthis.setField ? this.wiki.setText(this.setTitle,this.setField,undefined,this.setTo) :\n\t\t\t\t(this.setIndex ? this.wiki.setText(this.setTitle,undefined,this.setIndex,this.setTo) :\n\t\t\t\tthis.wiki.setText(this.setTitle,\"text\",undefined,this.setTo));\n\t} else {\n\t\tthis.wiki.setTextReference(this.set,this.setTo,this.getVariable(\"currentTiddler\"));\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nButtonWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.actions = this.getAttribute(\"actions\");\n\tthis.to = this.getAttribute(\"to\");\n\tthis.message = this.getAttribute(\"message\");\n\tthis.param = this.getAttribute(\"param\");\n\tthis.set = this.getAttribute(\"set\");\n\tthis.setTo = this.getAttribute(\"setTo\");\n\tthis.popup = this.getAttribute(\"popup\");\n\tthis.hover = this.getAttribute(\"hover\");\n\tthis[\"aria-label\"] = this.getAttribute(\"aria-label\");\n\tthis.tooltip = this.getAttribute(\"tooltip\");\n\tthis.style = this.getAttribute(\"style\");\n\tthis[\"class\"] = this.getAttribute(\"class\",\"\");\n\tthis.selectedClass = this.getAttribute(\"selectedClass\");\n\tthis.defaultSetValue = this.getAttribute(\"default\",\"\");\n\tthis.buttonTag = this.getAttribute(\"tag\");\n\tthis.dragTiddler = this.getAttribute(\"dragTiddler\");\n\tthis.dragFilter = this.getAttribute(\"dragFilter\");\n\tthis.setTitle = this.getAttribute(\"setTitle\");\n\tthis.setField = this.getAttribute(\"setField\");\n\tthis.setIndex = this.getAttribute(\"setIndex\");\n\tthis.popupTitle = this.getAttribute(\"popupTitle\");\n\tthis.tabIndex = this.getAttribute(\"tabindex\");\n\tthis.isDisabled = this.getAttribute(\"disabled\",\"no\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\nButtonWidget.prototype.updateDomNodeClasses = function() {\n\tvar domNodeClasses = this.domNode.className.split(\" \"),\n\t\toldClasses = this.class.split(\" \"),\n\t\tnewClasses;\t\n\tthis[\"class\"] = this.getAttribute(\"class\",\"\");\n\tnewClasses = this.class.split(\" \");\n\t//Remove classes assigned from the old value of class attribute\n\t$tw.utils.each(oldClasses,function(oldClass){\n\t\tvar i = domNodeClasses.indexOf(oldClass);\n\t\tif(i !== -1) {\n\t\t\tdomNodeClasses.splice(i,1);\n\t\t}\n\t});\n\t//Add new classes from updated class attribute.\n\t$tw.utils.pushTop(domNodeClasses,newClasses);\n\tthis.domNode.className = domNodeClasses.join(\" \");\n}\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nButtonWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.actions || changedAttributes.to || changedAttributes.message || changedAttributes.param || changedAttributes.set || changedAttributes.setTo || changedAttributes.popup || changedAttributes.hover || changedAttributes.selectedClass || changedAttributes.style || changedAttributes.dragFilter || changedAttributes.dragTiddler || (this.set &amp;&amp; changedTiddlers[this.set]) || (this.popup &amp;&amp; changedTiddlers[this.popup]) || (this.popupTitle &amp;&amp; changedTiddlers[this.popupTitle]) || changedAttributes.setTitle || changedAttributes.setField || changedAttributes.setIndex || changedAttributes.popupTitle || changedAttributes.disabled) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedAttributes[\"class\"]) {\n\t\tthis.updateDomNodeClasses();\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.button = ButtonWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/checkbox.js": {
            "title": "$:/core/modules/widgets/checkbox.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/checkbox.js\ntype: application/javascript\nmodule-type: widget\n\nCheckbox widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar CheckboxWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCheckboxWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCheckboxWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\"label\");\n\tthis.labelDomNode.setAttribute(\"class\",this.checkboxClass);\n\tthis.inputDomNode = this.document.createElement(\"input\");\n\tthis.inputDomNode.setAttribute(\"type\",\"checkbox\");\n\tif(this.getValue()) {\n\t\tthis.inputDomNode.setAttribute(\"checked\",\"true\");\n\t}\n\tif(this.isDisabled === \"yes\") {\n\t\tthis.inputDomNode.setAttribute(\"disabled\",true);\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\"span\");\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nCheckboxWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.checkboxTitle);\n\tif(tiddler) {\n\t\tif(this.checkboxTag) {\n\t\t\tif(this.checkboxInvertTag) {\n\t\t\t\treturn !tiddler.hasTag(this.checkboxTag);\n\t\t\t} else {\n\t\t\t\treturn tiddler.hasTag(this.checkboxTag);\n\t\t\t}\n\t\t}\n\t\tif(this.checkboxField) {\n\t\t\tvar value;\n\t\t\tif($tw.utils.hop(tiddler.fields,this.checkboxField)) {\n\t\t\t\tvalue = tiddler.fields[this.checkboxField] || \"\";\n\t\t\t} else {\n\t\t\t\tvalue = this.checkboxDefault || \"\";\n\t\t\t}\n\t\t\tif(value === this.checkboxChecked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(value === this.checkboxUnchecked) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif(this.checkboxIndex) {\n\t\t\tvar value = this.wiki.extractTiddlerDataItem(tiddler,this.checkboxIndex,this.checkboxDefault || \"\");\n\t\t\tif(value === this.checkboxChecked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(value === this.checkboxUnchecked) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif(this.checkboxTag) {\n\t\t\treturn false;\n\t\t}\n\t\tif(this.checkboxField) {\n\t\t\tif(this.checkboxDefault === this.checkboxChecked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(this.checkboxDefault === this.checkboxUnchecked) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nCheckboxWidget.prototype.handleChangeEvent = function(event) {\n\tvar checked = this.inputDomNode.checked,\n\t\ttiddler = this.wiki.getTiddler(this.checkboxTitle),\n\t\tfallbackFields = {text: \"\"},\n\t\tnewFields = {title: this.checkboxTitle},\n\t\thasChanged = false,\n\t\ttagCheck = false,\n\t\thasTag = tiddler &amp;&amp; tiddler.hasTag(this.checkboxTag),\n\t\tvalue = checked ? this.checkboxChecked : this.checkboxUnchecked;\n\tif(this.checkboxTag &amp;&amp; this.checkboxInvertTag === \"yes\") {\n\t\ttagCheck = hasTag === checked;\n\t} else {\n\t\ttagCheck = hasTag !== checked;\n\t}\n\t// Set the tag if specified\n\tif(this.checkboxTag &amp;&amp; (!tiddler || tagCheck)) {\n\t\tnewFields.tags = tiddler ? (tiddler.fields.tags || []).slice(0) : [];\n\t\tvar pos = newFields.tags.indexOf(this.checkboxTag);\n\t\tif(pos !== -1) {\n\t\t\tnewFields.tags.splice(pos,1);\n\t\t}\n\t\tif(this.checkboxInvertTag === \"yes\" &amp;&amp; !checked) {\n\t\t\tnewFields.tags.push(this.checkboxTag);\n\t\t} else if(this.checkboxInvertTag !== \"yes\" &amp;&amp; checked) {\n\t\t\tnewFields.tags.push(this.checkboxTag);\n\t\t}\n\t\thasChanged = true;\n\t}\n\t// Set the field if specified\n\tif(this.checkboxField) {\n\t\tif(!tiddler || tiddler.fields[this.checkboxField] !== value) {\n\t\t\tnewFields[this.checkboxField] = value;\n\t\t\thasChanged = true;\n\t\t}\n\t}\n\t// Set the index if specified\n\tif(this.checkboxIndex) {\n\t\tvar indexValue = this.wiki.extractTiddlerDataItem(this.checkboxTitle,this.checkboxIndex);\n\t\tif(!tiddler || indexValue !== value) {\n\t\t\thasChanged = true;\n\t\t}\n\t}\n\tif(hasChanged) {\n\t\tif(this.checkboxIndex) {\n\t\t\tthis.wiki.setText(this.checkboxTitle,\"\",this.checkboxIndex,value);\n\t\t} else {\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),fallbackFields,tiddler,newFields,this.wiki.getModificationFields()));\n\t\t}\n\t}\n\t// Trigger actions\n\tif(this.checkboxActions) {\n\t\tthis.invokeActionString(this.checkboxActions,this,event);\n\t}\n\tif(this.checkboxCheckActions &amp;&amp; checked) {\n\t\tthis.invokeActionString(this.checkboxCheckActions,this,event);\n\t}\n\tif(this.checkboxUncheckActions &amp;&amp; !checked) {\n\t\tthis.invokeActionString(this.checkboxUncheckActions,this,event);\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCheckboxWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.checkboxActions = this.getAttribute(\"actions\");\n\tthis.checkboxCheckActions = this.getAttribute(\"checkactions\");\n\tthis.checkboxUncheckActions = this.getAttribute(\"uncheckactions\");\n\tthis.checkboxTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.checkboxTag = this.getAttribute(\"tag\");\n\tthis.checkboxField = this.getAttribute(\"field\");\n\tthis.checkboxIndex = this.getAttribute(\"index\");\n\tthis.checkboxChecked = this.getAttribute(\"checked\");\n\tthis.checkboxUnchecked = this.getAttribute(\"unchecked\");\n\tthis.checkboxDefault = this.getAttribute(\"default\");\n\tthis.checkboxClass = this.getAttribute(\"class\",\"\");\n\tthis.checkboxInvertTag = this.getAttribute(\"invertTag\",\"\");\n\tthis.isDisabled = this.getAttribute(\"disabled\",\"no\");\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCheckboxWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.tag || changedAttributes.invertTag || changedAttributes.field || changedAttributes.index || changedAttributes.checked || changedAttributes.unchecked || changedAttributes[\"default\"] || changedAttributes[\"class\"] || changedAttributes.disabled) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.checkboxTitle]) {\n\t\t\tthis.inputDomNode.checked = this.getValue();\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.checkbox = CheckboxWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/codeblock.js": {
            "title": "$:/core/modules/widgets/codeblock.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/codeblock.js\ntype: application/javascript\nmodule-type: widget\n\nCode block node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar CodeBlockWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCodeBlockWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCodeBlockWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar codeNode = this.document.createElement(\"code\"),\n\t\tdomNode = this.document.createElement(\"pre\");\n\tcodeNode.appendChild(this.document.createTextNode(this.getAttribute(\"code\")));\n\tdomNode.appendChild(codeNode);\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n\tif(this.postRender) {\n\t\tthis.postRender();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCodeBlockWidget.prototype.execute = function() {\n\tthis.language = this.getAttribute(\"language\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCodeBlockWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.codeblock = CodeBlockWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/count.js": {
            "title": "$:/core/modules/widgets/count.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/count.js\ntype: application/javascript\nmodule-type: widget\n\nCount widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar CountWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCountWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCountWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.currentCount);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nCountWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\"filter\");\n\t// Execute the filter\n\tif(this.filter) {\n\t\tthis.currentCount = this.wiki.filterTiddlers(this.filter,this).length;\n\t} else {\n\t\tthis.currentCount = \"0\";\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCountWidget.prototype.refresh = function(changedTiddlers) {\n\t// Re-execute the filter to get the count\n\tthis.computeAttributes();\n\tvar oldCount = this.currentCount;\n\tthis.execute();\n\tif(this.currentCount !== oldCount) {\n\t\t// Regenerate and rerender the widget and replace the existing DOM node\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n\n};\n\nexports.count = CountWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/diff-text.js": {
            "title": "$:/core/modules/widgets/diff-text.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/diff-text.js\ntype: application/javascript\nmodule-type: widget\n\nWidget to display a diff between two texts\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget,\n\tdmp = require(\"$:/core/modules/utils/diff-match-patch/diff_match_patch.js\");\n\nvar DiffTextWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDiffTextWidget.prototype = new Widget();\n\nDiffTextWidget.prototype.invisibleCharacters = {\n\t\"\\n\": \"↩︎\\n\",\n\t\"\\r\": \"⇠\",\n\t\"\\t\": \"⇥\\t\"\n};\n\n/*\nRender this widget into the DOM\n*/\nDiffTextWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create the diff\n\tvar dmpObject = new dmp.diff_match_patch(),\n\t\tdiffs = dmpObject.diff_main(this.getAttribute(\"source\"),this.getAttribute(\"dest\"));\n\t// Apply required cleanup\n\tswitch(this.getAttribute(\"cleanup\",\"semantic\")) {\n\t\tcase \"none\":\n\t\t\t// No cleanup\n\t\t\tbreak;\n\t\tcase \"efficiency\":\n\t\t\tdmpObject.diff_cleanupEfficiency(diffs);\n\t\t\tbreak;\n\t\tdefault: // case \"semantic\"\n\t\t\tdmpObject.diff_cleanupSemantic(diffs);\n\t\t\tbreak;\n\t}\n\t// Create the elements\n\tvar domContainer = this.document.createElement(\"div\"), \n\t\tdomDiff = this.createDiffDom(diffs);\n\tparent.insertBefore(domContainer,nextSibling);\n\t// Set variables\n\tthis.setVariable(\"diff-count\",diffs.reduce(function(acc,diff) {\n\t\tif(diff[0] !== dmp.DIFF_EQUAL) {\n\t\t\tacc++;\n\t\t}\n\t\treturn acc;\n\t},0).toString());\n\t// Render child widgets\n\tthis.renderChildren(domContainer,null);\n\t// Render the diff\n\tdomContainer.appendChild(domDiff);\n\t// Save our container\n\tthis.domNodes.push(domContainer);\n};\n\n/*\nCreate DOM elements representing a list of diffs\n*/\nDiffTextWidget.prototype.createDiffDom = function(diffs) {\n\tvar self = this;\n\t// Create the element and assign the attributes\n\tvar domPre = this.document.createElement(\"pre\"),\n\t\tdomCode = this.document.createElement(\"code\");\n\t$tw.utils.each(diffs,function(diff) {\n\t\tvar tag = diff[0] === dmp.DIFF_INSERT ? \"ins\" : (diff[0] === dmp.DIFF_DELETE ? \"del\" : \"span\"),\n\t\t\tclassName = diff[0] === dmp.DIFF_INSERT ? \"tc-diff-insert\" : (diff[0] === dmp.DIFF_DELETE ? \"tc-diff-delete\" : \"tc-diff-equal\"),\n\t\t\tdom = self.document.createElement(tag),\n\t\t\ttext = diff[1],\n\t\t\tcurrPos = 0,\n\t\t\tre = /([\\x00-\\x1F])/mg,\n\t\t\tmatch = re.exec(text),\n\t\t\tspan,\n\t\t\tprintable;\n\t\tdom.className = className;\n\t\twhile(match) {\n\t\t\tif(currPos &lt; match.index) {\n\t\t\t\tdom.appendChild(self.document.createTextNode(text.slice(currPos,match.index)));\n\t\t\t}\n\t\t\tspan = self.document.createElement(\"span\");\n\t\t\tspan.className = \"tc-diff-invisible\";\n\t\t\tprintable = self.invisibleCharacters[match[0]] || (\"[0x\" + match[0].charCodeAt(0).toString(16) + \"]\");\n\t\t\tspan.appendChild(self.document.createTextNode(printable));\n\t\t\tdom.appendChild(span);\n\t\t\tcurrPos = match.index + match[0].length;\n\t\t\tmatch = re.exec(text);\n\t\t}\n\t\tif(currPos &lt; text.length) {\n\t\t\tdom.appendChild(self.document.createTextNode(text.slice(currPos)));\n\t\t}\n\t\tdomCode.appendChild(dom);\n\t});\n\tdomPre.appendChild(domCode);\n\treturn domPre;\n};\n\n/*\nCompute the internal state of the widget\n*/\nDiffTextWidget.prototype.execute = function() {\n\t// Make child widgets\n\tvar parseTreeNodes;\n\tif(this.parseTreeNode &amp;&amp; this.parseTreeNode.children &amp;&amp; this.parseTreeNode.children.length &gt; 0) {\n\t\tparseTreeNodes = this.parseTreeNode.children;\n\t} else {\n\t\tparseTreeNodes = [{\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \"string\", value: \"$:/language/Diffs/CountMessage\"}\n\t\t\t}\n\t\t}];\n\t}\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nDiffTextWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.source || changedAttributes.dest || changedAttributes.cleanup) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports[\"diff-text\"] = DiffTextWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/draggable.js": {
            "title": "$:/core/modules/widgets/draggable.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/draggable.js\ntype: application/javascript\nmodule-type: widget\n\nDraggable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar DraggableWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDraggableWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDraggableWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Sanitise the specified tag\n\tvar tag = this.draggableTag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \"div\";\n\t}\n\t// Create our element\n\tvar domNode = this.document.createElement(tag);\n\t// Assign classes\n\tvar classes = [\"tc-draggable\"];\n\tif(this.draggableClasses) {\n\t\tclasses.push(this.draggableClasses);\n\t}\n\tdomNode.setAttribute(\"class\",classes.join(\" \"));\n\t// Add event handlers\n\t$tw.utils.makeDraggable({\n\t\tdomNode: domNode,\n\t\tdragTiddlerFn: function() {return self.getAttribute(\"tiddler\");},\n\t\tdragFilterFn: function() {return self.getAttribute(\"filter\");},\n\t\tstartActions: self.startActions,\n\t\tendActions: self.endActions,\n\t\twidget: this\n\t});\n\t// Insert the link into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nDraggableWidget.prototype.execute = function() {\n\t// Pick up our attributes\n\tthis.draggableTag = this.getAttribute(\"tag\",\"div\");\n\tthis.draggableClasses = this.getAttribute(\"class\");\n\tthis.startActions = this.getAttribute(\"startactions\");\n\tthis.endActions = this.getAttribute(\"endactions\");\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nDraggableWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tag || changedAttributes[\"class\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.draggable = DraggableWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/droppable.js": {
            "title": "$:/core/modules/widgets/droppable.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/droppable.js\ntype: application/javascript\nmodule-type: widget\n\nDroppable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar DroppableWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDroppableWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDroppableWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this,\n\t\ttag = this.parseTreeNode.isBlock ? \"div\" : \"span\",\n\t\tdomNode;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\tif(this.droppableTag &amp;&amp; $tw.config.htmlUnsafeElements.indexOf(this.droppableTag) === -1) {\n\t\ttag = this.droppableTag;\n\t}\n\t// Create element and assign classes\n\tdomNode = this.document.createElement(tag);\n\tthis.domNode = domNode;\n\tthis.assignDomNodeClasses();\n\t// Add event handlers\n\tif(this.droppableEnable) {\n\t\t$tw.utils.addEventListeners(domNode,[\n\t\t\t{name: \"dragenter\", handlerObject: this, handlerMethod: \"handleDragEnterEvent\"},\n\t\t\t{name: \"dragover\", handlerObject: this, handlerMethod: \"handleDragOverEvent\"},\n\t\t\t{name: \"dragleave\", handlerObject: this, handlerMethod: \"handleDragLeaveEvent\"},\n\t\t\t{name: \"drop\", handlerObject: this, handlerMethod: \"handleDropEvent\"}\n\t\t]);\t\t\n\t} else {\n\t\t$tw.utils.addClass(this.domNode,this.disabledClass);\n\t}\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n\t// Stack of outstanding enter/leave events\n\tthis.currentlyEntered = [];\n};\n\nDroppableWidget.prototype.enterDrag = function(event) {\n\tif(this.currentlyEntered.indexOf(event.target) === -1) {\n\t\tthis.currentlyEntered.push(event.target);\n\t}\n\t// If we're entering for the first time we need to apply highlighting\n\t$tw.utils.addClass(this.domNodes[0],\"tc-dragover\");\n};\n\nDroppableWidget.prototype.leaveDrag = function(event) {\n\tvar pos = this.currentlyEntered.indexOf(event.target);\n\tif(pos !== -1) {\n\t\tthis.currentlyEntered.splice(pos,1);\n\t}\n\t// Remove highlighting if we're leaving externally. The hacky second condition is to resolve a problem with Firefox whereby there is an erroneous dragenter event if the node being dragged is within the dropzone\n\tif(this.currentlyEntered.length === 0 || (this.currentlyEntered.length === 1 &amp;&amp; this.currentlyEntered[0] === $tw.dragInProgress)) {\n\t\tthis.currentlyEntered = [];\n\t\tif(this.domNodes[0]) {\n\t\t\t$tw.utils.removeClass(this.domNodes[0],\"tc-dragover\");\n\t\t}\n\t}\n};\n\nDroppableWidget.prototype.handleDragEnterEvent  = function(event) {\n\tthis.enterDrag(event);\n\t// Tell the browser that we're ready to handle the drop\n\tevent.preventDefault();\n\t// Tell the browser not to ripple the drag up to any parent drop handlers\n\tevent.stopPropagation();\n\treturn false;\n};\n\nDroppableWidget.prototype.handleDragOverEvent  = function(event) {\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\t// Tell the browser that we're still interested in the drop\n\tevent.preventDefault();\n\t// Set the drop effect\n\tevent.dataTransfer.dropEffect = this.droppableEffect;\n\treturn false;\n};\n\nDroppableWidget.prototype.handleDragLeaveEvent  = function(event) {\n\tthis.leaveDrag(event);\n\treturn false;\n};\n\nDroppableWidget.prototype.handleDropEvent  = function(event) {\n\tvar self = this;\n\tthis.leaveDrag(event);\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\tvar dataTransfer = event.dataTransfer;\n\t// Remove highlighting\n\t$tw.utils.removeClass(this.domNodes[0],\"tc-dragover\");\n\t// Try to import the various data types we understand\n\t$tw.utils.importDataTransfer(dataTransfer,null,function(fieldsArray) {\n\t\tfieldsArray.forEach(function(fields) {\n\t\t\tself.performActions(fields.title || fields.text,event);\n\t\t});\n\t});\n\t// Tell the browser that we handled the drop\n\tevent.preventDefault();\n\t// Stop the drop ripple up to any parent handlers\n\tevent.stopPropagation();\n\treturn false;\n};\n\nDroppableWidget.prototype.performActions = function(title,event) {\n\tif(this.droppableActions) {\n\t\tvar modifierKey = $tw.keyboardManager.getEventModifierKeyDescriptor(event);\n\t\tthis.invokeActionString(this.droppableActions,this,event,{actionTiddler: title, modifier: modifierKey});\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nDroppableWidget.prototype.execute = function() {\n\tthis.droppableActions = this.getAttribute(\"actions\");\n\tthis.droppableEffect = this.getAttribute(\"effect\",\"copy\");\n\tthis.droppableTag = this.getAttribute(\"tag\");\n\tthis.droppableEnable = (this.getAttribute(\"enable\") || \"yes\") === \"yes\";\n\tthis.disabledClass = this.getAttribute(\"disabledClass\",\"\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\nDroppableWidget.prototype.assignDomNodeClasses = function() {\n\tvar classes = this.getAttribute(\"class\",\"\").split(\" \");\n\tclasses.push(\"tc-droppable\");\n\tthis.domNode.className = classes.join(\" \");\t\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nDroppableWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tag || changedAttributes.enable || changedAttributes.disabledClass || changedAttributes.actions || changedAttributes.effect) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedAttributes[\"class\"]) {\n\t\tthis.assignDomNodeClasses();\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.droppable = DroppableWidget;\n\n})();",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/dropzone.js": {
            "title": "$:/core/modules/widgets/dropzone.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/dropzone.js\ntype: application/javascript\nmodule-type: widget\n\nDropzone widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar IMPORT_TITLE = \"$:/Import\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar DropZoneWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDropZoneWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDropZoneWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\"div\");\n\tdomNode.className = this.dropzoneClass || \"tc-dropzone\";\n\t// Add event handlers\n\tif(this.dropzoneEnable) {\n\t\t$tw.utils.addEventListeners(domNode,[\n\t\t\t{name: \"dragenter\", handlerObject: this, handlerMethod: \"handleDragEnterEvent\"},\n\t\t\t{name: \"dragover\", handlerObject: this, handlerMethod: \"handleDragOverEvent\"},\n\t\t\t{name: \"dragleave\", handlerObject: this, handlerMethod: \"handleDragLeaveEvent\"},\n\t\t\t{name: \"drop\", handlerObject: this, handlerMethod: \"handleDropEvent\"},\n\t\t\t{name: \"paste\", handlerObject: this, handlerMethod: \"handlePasteEvent\"},\n\t\t\t{name: \"dragend\", handlerObject: this, handlerMethod: \"handleDragEndEvent\"}\n\t\t]);\t\t\n\t}\n\tdomNode.addEventListener(\"click\",function (event) {\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n\t// Stack of outstanding enter/leave events\n\tthis.currentlyEntered = [];\n};\n\nDropZoneWidget.prototype.enterDrag = function(event) {\n\tif(this.currentlyEntered.indexOf(event.target) === -1) {\n\t\tthis.currentlyEntered.push(event.target);\n\t}\n\t// If we're entering for the first time we need to apply highlighting\n\t$tw.utils.addClass(this.domNodes[0],\"tc-dragover\");\n};\n\nDropZoneWidget.prototype.leaveDrag = function(event) {\n\tvar pos = this.currentlyEntered.indexOf(event.target);\n\tif(pos !== -1) {\n\t\tthis.currentlyEntered.splice(pos,1);\n\t}\n\t// Remove highlighting if we're leaving externally\n\tif(this.currentlyEntered.length === 0) {\n\t\t$tw.utils.removeClass(this.domNodes[0],\"tc-dragover\");\n\t}\n};\n\nDropZoneWidget.prototype.handleDragEnterEvent  = function(event) {\n\t// Check for this window being the source of the drag\n\tif($tw.dragInProgress) {\n\t\treturn false;\n\t}\n\tthis.enterDrag(event);\n\t// Tell the browser that we're ready to handle the drop\n\tevent.preventDefault();\n\t// Tell the browser not to ripple the drag up to any parent drop handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.handleDragOverEvent  = function(event) {\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\t// Check for this window being the source of the drag\n\tif($tw.dragInProgress) {\n\t\treturn false;\n\t}\n\t// Tell the browser that we're still interested in the drop\n\tevent.preventDefault();\n\tevent.dataTransfer.dropEffect = \"copy\"; // Explicitly show this is a copy\n};\n\nDropZoneWidget.prototype.handleDragLeaveEvent  = function(event) {\n\tthis.leaveDrag(event);\n};\n\nDropZoneWidget.prototype.handleDragEndEvent = function(event) {\n\t$tw.utils.removeClass(this.domNodes[0],\"tc-dragover\");\n};\n\nDropZoneWidget.prototype.filterByContentTypes = function(tiddlerFieldsArray) {\n\tvar filteredTypes,\n\t\tfiltered = [],\n\t\ttypes = [];\n\t$tw.utils.each(tiddlerFieldsArray,function(tiddlerFields) {\n\t\ttypes.push(tiddlerFields.type);\n\t});\n\tfilteredTypes = this.wiki.filterTiddlers(this.contentTypesFilter,this,this.wiki.makeTiddlerIterator(types));\n\t$tw.utils.each(tiddlerFieldsArray,function(tiddlerFields) {\n\t\tif(filteredTypes.indexOf(tiddlerFields.type) !== -1) {\n\t\t\tfiltered.push(tiddlerFields);\n\t\t}\n\t});\n\treturn filtered;\n};\n\nDropZoneWidget.prototype.readFileCallback = function(tiddlerFieldsArray) {\n\tif(this.contentTypesFilter) {\n\t\ttiddlerFieldsArray = this.filterByContentTypes(tiddlerFieldsArray);\n\t}\n\tif(tiddlerFieldsArray.length) {\n\t\tthis.dispatchEvent({type: \"tm-import-tiddlers\", param: JSON.stringify(tiddlerFieldsArray), autoOpenOnImport: this.autoOpenOnImport, importTitle: this.importTitle});\n\t\tif(this.actions) {\n\t\t\tthis.invokeActionString(this.actions,this,event,{importTitle: this.importTitle});\n\t\t}\n\t}\n};\n\nDropZoneWidget.prototype.handleDropEvent  = function(event) {\n\tvar self = this,\n\t\treadFileCallback = function(tiddlerFieldsArray) {\n\t\t\tself.readFileCallback(tiddlerFieldsArray);\n\t\t};\n\tthis.leaveDrag(event);\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\t// Check for this window being the source of the drag\n\tif($tw.dragInProgress) {\n\t\treturn false;\n\t}\n\tvar self = this,\n\t\tdataTransfer = event.dataTransfer;\n\t// Remove highlighting\n\t$tw.utils.removeClass(this.domNodes[0],\"tc-dragover\");\n\t// Import any files in the drop\n\tvar numFiles = 0;\n\tif(dataTransfer.files) {\n\t\tnumFiles = this.wiki.readFiles(dataTransfer.files,{\n\t\t\tcallback: readFileCallback,\n\t\t\tdeserializer: this.dropzoneDeserializer\n\t\t});\n\t}\n\t// Try to import the various data types we understand\n\tif(numFiles === 0) {\n\t\t$tw.utils.importDataTransfer(dataTransfer,this.wiki.generateNewTitle(\"Untitled\"),readFileCallback);\n\t}\n\t// Tell the browser that we handled the drop\n\tevent.preventDefault();\n\t// Stop the drop ripple up to any parent handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.handlePasteEvent  = function(event) {\n\tvar self = this,\n\t\treadFileCallback = function(tiddlerFieldsArray) {\n\t\t\tself.readFileCallback(tiddlerFieldsArray);\n\t\t};\n\t// Let the browser handle it if we're in a textarea or input box\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) == -1 &amp;&amp; !event.target.isContentEditable) {\n\t\tvar self = this,\n\t\t\titems = event.clipboardData.items;\n\t\t// Enumerate the clipboard items\n\t\tfor(var t = 0; t&lt;items.length; t++) {\n\t\t\tvar item = items[t];\n\t\t\tif(item.kind === \"file\") {\n\t\t\t\t// Import any files\n\t\t\t\tthis.wiki.readFile(item.getAsFile(),{\n\t\t\t\t\tcallback: readFileCallback,\n\t\t\t\t\tdeserializer: this.dropzoneDeserializer\n\t\t\t\t});\n\t\t\t} else if(item.kind === \"string\") {\n\t\t\t\t// Create tiddlers from string items\n\t\t\t\tvar type = item.type;\n\t\t\t\titem.getAsString(function(str) {\n\t\t\t\t\tvar tiddlerFields = {\n\t\t\t\t\t\ttitle: self.wiki.generateNewTitle(\"Untitled\"),\n\t\t\t\t\t\ttext: str,\n\t\t\t\t\t\ttype: type\n\t\t\t\t\t};\n\t\t\t\t\tif($tw.log.IMPORT) {\n\t\t\t\t\t\tconsole.log(\"Importing string '\" + str + \"', type: '\" + type + \"'\");\n\t\t\t\t\t}\n\t\t\t\t\treadFileCallback([tiddlerFields]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t// Tell the browser that we've handled the paste\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nDropZoneWidget.prototype.execute = function() {\n\tthis.dropzoneClass = this.getAttribute(\"class\");\n\tthis.dropzoneDeserializer = this.getAttribute(\"deserializer\");\n\tthis.dropzoneEnable = (this.getAttribute(\"enable\") || \"yes\") === \"yes\";\n\tthis.autoOpenOnImport = this.getAttribute(\"autoOpenOnImport\");\n\tthis.importTitle = this.getAttribute(\"importTitle\",IMPORT_TITLE);\n\tthis.actions = this.getAttribute(\"actions\");\n\tthis.contentTypesFilter = this.getAttribute(\"contentTypesFilter\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nDropZoneWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif($tw.utils.count(changedAttributes) &gt; 0) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.dropzone = DropZoneWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit-binary.js": {
            "title": "$:/core/modules/widgets/edit-binary.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit-binary.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-binary widget; placeholder for editing binary tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar BINARY_WARNING_MESSAGE = \"$:/core/ui/BinaryWarning\";\nvar EXPORT_BUTTON_IMAGE = \"$:/core/images/export-button\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditBinaryWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBinaryWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBinaryWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBinaryWidget.prototype.execute = function() {\n\t// Get our parameters\n\tvar editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tvar tiddler = this.wiki.getTiddler(editTitle);\n\tvar type = tiddler.fields.type;\n\tvar text = tiddler.fields.text;\n\t// Transclude the binary data tiddler warning message\n\tvar warn = {\n\t\ttype: \"element\",\n\t\ttag: \"p\",\n\t\tchildren: [{\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \"string\", value: BINARY_WARNING_MESSAGE}\n\t\t\t}\n\t\t}]\n\t};\n\t// Create download link based on draft tiddler title\n\tvar link = {\n\t\ttype: \"element\",\n\t\ttag: \"a\",\n\t\tattributes: {\n\t\t\ttitle: {type: \"indirect\", textReference: \"!!draft.title\"},\n\t\t\tdownload: {type: \"indirect\", textReference: \"!!draft.title\"}\n\t\t},\n\t\tchildren: [{\n\t\ttype: \"transclude\",\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \"string\", value: EXPORT_BUTTON_IMAGE}\n\t\t\t}\n\t\t}]\n\t};\n\t// Set the link href to internal data URI (no external)\n\tif(text) {\n\t\tlink.attributes.href = {\n\t\t\ttype: \"string\", \n\t\t\tvalue: \"data:\" + type + \";base64,\" + text\n\t\t};\n\t}\n\t// Combine warning message and download link in a div\n\tvar element = {\n\t\ttype: \"element\",\n\t\ttag: \"div\",\n\t\tattributes: {\n\t\t\tclass: {type: \"string\", value: \"tc-binary-warning\"}\n\t\t},\n\t\tchildren: [warn, link]\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets([element]);\n};\n\n/*\nRefresh by refreshing our child widget\n*/\nEditBinaryWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports[\"edit-binary\"] = EditBinaryWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit-bitmap.js": {
            "title": "$:/core/modules/widgets/edit-bitmap.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit-bitmap.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-bitmap widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Default image sizes\nvar DEFAULT_IMAGE_WIDTH = 600,\n\tDEFAULT_IMAGE_HEIGHT = 370,\n\tDEFAULT_IMAGE_TYPE = \"image/png\";\n\n// Configuration tiddlers\nvar LINE_WIDTH_TITLE = \"$:/config/BitmapEditor/LineWidth\",\n\tLINE_COLOUR_TITLE = \"$:/config/BitmapEditor/Colour\",\n\tLINE_OPACITY_TITLE = \"$:/config/BitmapEditor/Opacity\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditBitmapWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBitmapWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBitmapWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Initialise the editor operations if they've not been done already\n\tif(!this.editorOperations) {\n\t\tEditBitmapWidget.prototype.editorOperations = {};\n\t\t$tw.modules.applyMethods(\"bitmapeditoroperation\",this.editorOperations);\n\t}\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create the wrapper for the toolbar and render its content\n\tthis.toolbarNode = this.document.createElement(\"div\");\n\tthis.toolbarNode.className = \"tc-editor-toolbar\";\n\tparent.insertBefore(this.toolbarNode,nextSibling);\n\tthis.domNodes.push(this.toolbarNode);\n\t// Create the on-screen canvas\n\tthis.canvasDomNode = $tw.utils.domMaker(\"canvas\",{\n\t\tdocument: this.document,\n\t\t\"class\":\"tc-edit-bitmapeditor\",\n\t\teventListeners: [{\n\t\t\tname: \"touchstart\", handlerObject: this, handlerMethod: \"handleTouchStartEvent\"\n\t\t},{\n\t\t\tname: \"touchmove\", handlerObject: this, handlerMethod: \"handleTouchMoveEvent\"\n\t\t},{\n\t\t\tname: \"touchend\", handlerObject: this, handlerMethod: \"handleTouchEndEvent\"\n\t\t},{\n\t\t\tname: \"mousedown\", handlerObject: this, handlerMethod: \"handleMouseDownEvent\"\n\t\t},{\n\t\t\tname: \"mousemove\", handlerObject: this, handlerMethod: \"handleMouseMoveEvent\"\n\t\t},{\n\t\t\tname: \"mouseup\", handlerObject: this, handlerMethod: \"handleMouseUpEvent\"\n\t\t}]\n\t});\n\t// Set the width and height variables\n\tthis.setVariable(\"tv-bitmap-editor-width\",this.canvasDomNode.width + \"px\");\n\tthis.setVariable(\"tv-bitmap-editor-height\",this.canvasDomNode.height + \"px\");\n\t// Render toolbar child widgets\n\tthis.renderChildren(this.toolbarNode,null);\n\t// // Insert the elements into the DOM\n\tparent.insertBefore(this.canvasDomNode,nextSibling);\n\tthis.domNodes.push(this.canvasDomNode);\n\t// Load the image into the canvas\n\tif($tw.browser) {\n\t\tthis.loadCanvas();\n\t}\n\t// Add widget message listeners\n\tthis.addEventListeners([\n\t\t{type: \"tm-edit-bitmap-operation\", handler: \"handleEditBitmapOperationMessage\"}\n\t]);\n};\n\n/*\nHandle an edit bitmap operation message from the toolbar\n*/\nEditBitmapWidget.prototype.handleEditBitmapOperationMessage = function(event) {\n\t// Invoke the handler\n\tvar handler = this.editorOperations[event.param];\n\tif(handler) {\n\t\thandler.call(this,event);\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBitmapWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nJust refresh the toolbar\n*/\nEditBitmapWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nSet the bitmap size variables and refresh the toolbar\n*/\nEditBitmapWidget.prototype.refreshToolbar = function() {\n\t// Set the width and height variables\n\tthis.setVariable(\"tv-bitmap-editor-width\",this.canvasDomNode.width + \"px\");\n\tthis.setVariable(\"tv-bitmap-editor-height\",this.canvasDomNode.height + \"px\");\n\t// Refresh each of our child widgets\n\t$tw.utils.each(this.children,function(childWidget) {\n\t\tchildWidget.refreshSelf();\n\t});\n};\n\nEditBitmapWidget.prototype.loadCanvas = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle),\n\t\tcurrImage = new Image();\n\t// Set up event handlers for loading the image\n\tvar self = this;\n\tcurrImage.onload = function() {\n\t\t// Copy the image to the on-screen canvas\n\t\tself.initCanvas(self.canvasDomNode,currImage.width,currImage.height,currImage);\n\t\t// And also copy the current bitmap to the off-screen canvas\n\t\tself.currCanvas = self.document.createElement(\"canvas\");\n\t\tself.initCanvas(self.currCanvas,currImage.width,currImage.height,currImage);\n\t\t// Set the width and height input boxes\n\t\tself.refreshToolbar();\n\t};\n\tcurrImage.onerror = function() {\n\t\t// Set the on-screen canvas size and clear it\n\t\tself.initCanvas(self.canvasDomNode,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the off-screen canvas size and clear it\n\t\tself.currCanvas = self.document.createElement(\"canvas\");\n\t\tself.initCanvas(self.currCanvas,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the width and height input boxes\n\t\tself.refreshToolbar();\n\t};\n\t// Get the current bitmap into an image object\n\tif(tiddler &amp;&amp; tiddler.fields.type &amp;&amp; tiddler.fields.text) {\n\t\tcurrImage.src = \"data:\" + tiddler.fields.type + \";base64,\" + tiddler.fields.text;\t\t\n\t} else {\n\t\tcurrImage.width = DEFAULT_IMAGE_WIDTH;\n\t\tcurrImage.height = DEFAULT_IMAGE_HEIGHT;\n\t\tcurrImage.onerror();\n\t}\n};\n\nEditBitmapWidget.prototype.initCanvas = function(canvas,width,height,image) {\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tvar ctx = canvas.getContext(\"2d\");\n\tif(image) {\n\t\tctx.drawImage(image,0,0);\n\t} else {\n\t\tctx.fillStyle = \"#fff\";\n\t\tctx.fillRect(0,0,canvas.width,canvas.height);\n\t}\n};\n\n/*\n** Change the size of the canvas, preserving the current image\n*/\nEditBitmapWidget.prototype.changeCanvasSize = function(newWidth,newHeight) {\n\t// Create and size a new canvas\n\tvar newCanvas = this.document.createElement(\"canvas\");\n\tthis.initCanvas(newCanvas,newWidth,newHeight);\n\t// Copy the old image\n\tvar ctx = newCanvas.getContext(\"2d\");\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Set the new canvas as the current one\n\tthis.currCanvas = newCanvas;\n\t// Set the size of the onscreen canvas\n\tthis.canvasDomNode.width = newWidth;\n\tthis.canvasDomNode.height = newHeight;\n\t// Paint the onscreen canvas with the offscreen canvas\n\tctx = this.canvasDomNode.getContext(\"2d\");\n\tctx.drawImage(this.currCanvas,0,0);\n};\n\n/*\n** Rotate the canvas left by 90 degrees\n*/\nEditBitmapWidget.prototype.rotateCanvasLeft = function() {\n\t// Get the current size of the image\n\tvar origWidth = this.currCanvas.width,\n\t\torigHeight = this.currCanvas.height;\n\t// Create and size a new canvas\n\tvar newCanvas = this.document.createElement(\"canvas\"),\n\t\tnewWidth = origHeight,\n\t\tnewHeight = origWidth;\n\tthis.initCanvas(newCanvas,newWidth,newHeight);\n\t// Copy the old image\n\tvar ctx = newCanvas.getContext(\"2d\");\n\tctx.save();\n\tctx.translate(newWidth / 2,newHeight / 2);\n\tctx.rotate(-Math.PI / 2);\n\tctx.drawImage(this.currCanvas,-origWidth / 2,-origHeight / 2);\n\tctx.restore();\n\t// Set the new canvas as the current one\n\tthis.currCanvas = newCanvas;\n\t// Set the size of the onscreen canvas\n\tthis.canvasDomNode.width = newWidth;\n\tthis.canvasDomNode.height = newHeight;\n\t// Paint the onscreen canvas with the offscreen canvas\n\tctx = this.canvasDomNode.getContext(\"2d\");\n\tctx.drawImage(this.currCanvas,0,0);\n};\n\nEditBitmapWidget.prototype.handleTouchStartEvent = function(event) {\n\tthis.brushDown = true;\n\tthis.strokeStart(event.touches[0].clientX,event.touches[0].clientY);\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.touches[0].clientX,event.touches[0].clientY);\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchEndEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseDownEvent = function(event) {\n\tthis.strokeStart(event.clientX,event.clientY);\n\tthis.brushDown = true;\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.clientX,event.clientY);\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.handleMouseUpEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.adjustCoordinates = function(x,y) {\n\tvar canvasRect = this.canvasDomNode.getBoundingClientRect(),\n\t\tscale = this.canvasDomNode.width/canvasRect.width;\n\treturn {x: (x - canvasRect.left) * scale, y: (y - canvasRect.top) * scale};\n};\n\nEditBitmapWidget.prototype.strokeStart = function(x,y) {\n\t// Start off a new stroke\n\tthis.stroke = [this.adjustCoordinates(x,y)];\n};\n\nEditBitmapWidget.prototype.strokeMove = function(x,y) {\n\tvar ctx = this.canvasDomNode.getContext(\"2d\"),\n\t\tt;\n\t// Add the new position to the end of the stroke\n\tthis.stroke.push(this.adjustCoordinates(x,y));\n\t// Redraw the previous image\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Render the stroke\n\tctx.globalAlpha = parseFloat(this.wiki.getTiddlerText(LINE_OPACITY_TITLE,\"1.0\"));\n\tctx.strokeStyle = this.wiki.getTiddlerText(LINE_COLOUR_TITLE,\"#ff0\");\n\tctx.lineWidth = parseFloat(this.wiki.getTiddlerText(LINE_WIDTH_TITLE,\"3\"));\n\tctx.lineCap = \"round\";\n\tctx.lineJoin = \"round\";\n\tctx.beginPath();\n\tctx.moveTo(this.stroke[0].x,this.stroke[0].y);\n\tfor(t=1; t&lt;this.stroke.length-1; t++) {\n\t\tvar s1 = this.stroke[t],\n\t\t\ts2 = this.stroke[t-1],\n\t\t\ttx = (s1.x + s2.x)/2,\n\t\t\tty = (s1.y + s2.y)/2;\n\t\tctx.quadraticCurveTo(s2.x,s2.y,tx,ty);\n\t}\n\tctx.stroke();\n};\n\nEditBitmapWidget.prototype.strokeEnd = function() {\n\t// Copy the bitmap to the off-screen canvas\n\tvar ctx = this.currCanvas.getContext(\"2d\");\n\tctx.drawImage(this.canvasDomNode,0,0);\n\t// Save the image into the tiddler\n\tthis.saveChanges();\n};\n\nEditBitmapWidget.prototype.saveChanges = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle) || new $tw.Tiddler({title: this.editTitle,type: DEFAULT_IMAGE_TYPE});\n\t// data URIs look like \"data:&lt;type&gt;;base64,&lt;text&gt;\"\n\tvar dataURL = this.canvasDomNode.toDataURL(tiddler.fields.type),\n\t\tposColon = dataURL.indexOf(\":\"),\n\t\tposSemiColon = dataURL.indexOf(\";\"),\n\t\tposComma = dataURL.indexOf(\",\"),\n\t\ttype = dataURL.substring(posColon+1,posSemiColon),\n\t\ttext = dataURL.substring(posComma+1);\n\tvar update = {type: type, text: text};\n\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getModificationFields(),tiddler,update,this.wiki.getCreationFields()));\n};\n\nexports[\"edit-bitmap\"] = EditBitmapWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit-shortcut.js": {
            "title": "$:/core/modules/widgets/edit-shortcut.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit-shortcut.js\ntype: application/javascript\nmodule-type: widget\n\nWidget to display an editable keyboard shortcut\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditShortcutWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditShortcutWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditShortcutWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.inputNode = this.document.createElement(\"input\");\n\t// Assign classes\n\tif(this.shortcutClass) {\n\t\tthis.inputNode.className = this.shortcutClass;\t\t\n\t}\n\t// Assign other attributes\n\tif(this.shortcutStyle) {\n\t\tthis.inputNode.setAttribute(\"style\",this.shortcutStyle);\n\t}\n\tif(this.shortcutTooltip) {\n\t\tthis.inputNode.setAttribute(\"title\",this.shortcutTooltip);\n\t}\n\tif(this.shortcutPlaceholder) {\n\t\tthis.inputNode.setAttribute(\"placeholder\",this.shortcutPlaceholder);\n\t}\n\tif(this.shortcutAriaLabel) {\n\t\tthis.inputNode.setAttribute(\"aria-label\",this.shortcutAriaLabel);\n\t}\n\t// Assign the current shortcut\n\tthis.updateInputNode();\n\t// Add event handlers\n\t$tw.utils.addEventListeners(this.inputNode,[\n\t\t{name: \"keydown\", handlerObject: this, handlerMethod: \"handleKeydownEvent\"}\n\t]);\n\t// Link into the DOM\n\tparent.insertBefore(this.inputNode,nextSibling);\n\tthis.domNodes.push(this.inputNode);\n\t// Focus the input Node if focus === \"yes\" or focus === \"true\"\n\tif(this.shortcutFocus === \"yes\" || this.shortcutFocus === \"true\") {\n\t\tthis.focus();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditShortcutWidget.prototype.execute = function() {\n\tthis.shortcutTiddler = this.getAttribute(\"tiddler\");\n\tthis.shortcutField = this.getAttribute(\"field\");\n\tthis.shortcutIndex = this.getAttribute(\"index\");\n\tthis.shortcutPlaceholder = this.getAttribute(\"placeholder\");\n\tthis.shortcutDefault = this.getAttribute(\"default\",\"\");\n\tthis.shortcutClass = this.getAttribute(\"class\");\n\tthis.shortcutStyle = this.getAttribute(\"style\");\n\tthis.shortcutTooltip = this.getAttribute(\"tooltip\");\n\tthis.shortcutAriaLabel = this.getAttribute(\"aria-label\");\n\tthis.shortcutFocus = this.getAttribute(\"focus\");\n};\n\n/*\nUpdate the value of the input node\n*/\nEditShortcutWidget.prototype.updateInputNode = function() {\n\tif(this.shortcutField) {\n\t\tvar tiddler = this.wiki.getTiddler(this.shortcutTiddler);\n\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,this.shortcutField)) {\n\t\t\tthis.inputNode.value = tiddler.getFieldString(this.shortcutField);\n\t\t} else {\n\t\t\tthis.inputNode.value = this.shortcutDefault;\n\t\t}\n\t} else if(this.shortcutIndex) {\n\t\tthis.inputNode.value = this.wiki.extractTiddlerDataItem(this.shortcutTiddler,this.shortcutIndex,this.shortcutDefault);\n\t} else {\n\t\tthis.inputNode.value = this.wiki.getTiddlerText(this.shortcutTiddler,this.shortcutDefault);\n\t}\n};\n\n/*\nHandle a dom \"keydown\" event\n*/\nEditShortcutWidget.prototype.handleKeydownEvent = function(event) {\n\t// Ignore shift, ctrl, meta, alt\n\tif(event.keyCode &amp;&amp; $tw.keyboardManager.getModifierKeys().indexOf(event.keyCode) === -1) {\n\t\t// Get the shortcut text representation\n\t\tvar value = $tw.keyboardManager.getPrintableShortcuts([{\n\t\t\tctrlKey: event.ctrlKey,\n\t\t\tshiftKey: event.shiftKey,\n\t\t\taltKey: event.altKey,\n\t\t\tmetaKey: event.metaKey,\n\t\t\tkeyCode: event.keyCode\n\t\t}]);\n\t\tif(value.length &gt; 0) {\n\t\t\tthis.wiki.setText(this.shortcutTiddler,this.shortcutField,this.shortcutIndex,value[0]);\n\t\t}\n\t\t// Ignore the keydown if it was already handled\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn true;\t\t\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nfocus the input node\n*/\nEditShortcutWidget.prototype.focus = function() {\n\tif(this.inputNode.focus &amp;&amp; this.inputNode.select) {\n\t\tthis.inputNode.focus();\n\t\tthis.inputNode.select();\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget needed re-rendering\n*/\nEditShortcutWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes.placeholder || changedAttributes[\"default\"] || changedAttributes[\"class\"] || changedAttributes.style || changedAttributes.tooltip || changedAttributes[\"aria-label\"] || changedAttributes.focus) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedTiddlers[this.shortcutTiddler]) {\n\t\tthis.updateInputNode();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports[\"edit-shortcut\"] = EditShortcutWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit-text.js": {
            "title": "$:/core/modules/widgets/edit-text.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit-text.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-text widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar editTextWidgetFactory = require(\"$:/core/modules/editor/factory.js\").editTextWidgetFactory,\n\tFramedEngine = require(\"$:/core/modules/editor/engines/framed.js\").FramedEngine,\n\tSimpleEngine = require(\"$:/core/modules/editor/engines/simple.js\").SimpleEngine;\n\nexports[\"edit-text\"] = editTextWidgetFactory(FramedEngine,SimpleEngine);\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit.js": {
            "title": "$:/core/modules/widgets/edit.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit.js\ntype: application/javascript\nmodule-type: widget\n\nEdit widget is a meta-widget chooses the appropriate actual editting widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n// Mappings from content type to editor type are stored in tiddlers with this prefix\nvar EDITOR_MAPPING_PREFIX = \"$:/config/EditorTypeMappings/\";\n\n/*\nCompute the internal state of the widget\n*/\nEditWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.editField = this.getAttribute(\"field\",\"text\");\n\tthis.editIndex = this.getAttribute(\"index\");\n\tthis.editClass = this.getAttribute(\"class\");\n\tthis.editPlaceholder = this.getAttribute(\"placeholder\");\n\tthis.editTabIndex = this.getAttribute(\"tabindex\");\n\tthis.editFocus = this.getAttribute(\"focus\",\"\");\n\tthis.editCancelPopups = this.getAttribute(\"cancelPopups\",\"\");\n\tthis.editInputActions = this.getAttribute(\"inputActions\");\n\tthis.editRefreshTitle = this.getAttribute(\"refreshTitle\");\n\tthis.editAutoComplete = this.getAttribute(\"autocomplete\");\n\t// Choose the appropriate edit widget\n\tthis.editorType = this.getEditorType();\n\t// Make the child widgets\n\tthis.makeChildWidgets([{\n\t\ttype: \"edit-\" + this.editorType,\n\t\tattributes: this.parseTreeNode.attributes,\n\t\tchildren: this.parseTreeNode.children\n\t}]);\n};\n\nEditWidget.prototype.getEditorType = function() {\n\t// Get the content type of the thing we're editing\n\tvar type;\n\tif(this.editField === \"text\") {\n\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\tif(tiddler) {\n\t\t\ttype = tiddler.fields.type;\n\t\t}\n\t}\n\ttype = type || \"text/vnd.tiddlywiki\";\n\tvar editorType = this.wiki.getTiddlerText(EDITOR_MAPPING_PREFIX + type);\n\tif(!editorType) {\n\t\tvar typeInfo = $tw.config.contentTypeInfo[type];\n\t\tif(typeInfo &amp;&amp; typeInfo.encoding === \"base64\") {\n\t\t\teditorType = \"binary\";\n\t\t} else {\n\t\t\teditorType = \"text\";\n\t\t}\n\t}\n\treturn editorType;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEditWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Refresh if an attribute has changed, or the type associated with the target tiddler has changed\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes.tabindex || changedAttributes.cancelPopups || changedAttributes.inputActions || changedAttributes.refreshTitle || changedAttributes.autocomplete || (changedTiddlers[this.editTitle] &amp;&amp; this.getEditorType() !== this.editorType)) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.edit = EditWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/element.js": {
            "title": "$:/core/modules/widgets/element.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/element.js\ntype: application/javascript\nmodule-type: widget\n\nElement widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ElementWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nElementWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nElementWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\t// Neuter blacklisted elements\n\tthis.tag = this.parseTreeNode.tag;\n\tif($tw.config.htmlUnsafeElements.indexOf(this.tag) !== -1) {\n\t\tthis.tag = \"safe-\" + this.tag;\n\t}\n\t// Adjust headings by the current base level\n\tvar headingLevel = [\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"].indexOf(this.tag);\n\tif(headingLevel !== -1) {\n\t\tvar baseLevel = parseInt(this.getVariable(\"tv-adjust-heading-level\",\"0\"),10) || 0;\n\t\theadingLevel = Math.min(Math.max(headingLevel + 1 + baseLevel,1),6);\n\t\tthis.tag = \"h\" + headingLevel;\n\t}\n\t// Select the namespace for the tag\n\tvar tagNamespaces = {\n\t\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\t\tmath: \"http://www.w3.org/1998/Math/MathML\",\n\t\t\tbody: \"http://www.w3.org/1999/xhtml\"\n\t\t};\n\tthis.namespace = tagNamespaces[this.tag];\n\tif(this.namespace) {\n\t\tthis.setVariable(\"namespace\",this.namespace);\n\t} else {\n\t\tthis.namespace = this.getVariable(\"namespace\",{defaultValue: \"http://www.w3.org/1999/xhtml\"});\n\t}\n\t// Invoke the th-rendering-element hook\n\tvar parseTreeNodes = $tw.hooks.invokeHook(\"th-rendering-element\",null,this);\n\tthis.isReplaced = !!parseTreeNodes;\n\tif(parseTreeNodes) {\n\t\t// Use the parse tree nodes provided by the hook\n\t\tthis.makeChildWidgets(parseTreeNodes);\n\t\tthis.renderChildren(this.parentDomNode,null);\n\t\treturn;\n\t}\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n\t// Create the DOM node and render children\n\tvar domNode = this.document.createElementNS(this.namespace,this.tag);\n\tthis.assignAttributes(domNode,{excludeEventAttributes: true});\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nElementWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\thasChangedAttributes = $tw.utils.count(changedAttributes) &gt; 0;\n\tif(hasChangedAttributes) {\n\t\tif(!this.isReplaced) {\n\t\t\t// Update our attributes\n\t\t\tthis.assignAttributes(this.domNodes[0],{excludeEventAttributes: true});\t\t\t\n\t\t} else {\n\t\t\t// If we were replaced then completely refresh ourselves\n\t\t\treturn this.refreshSelf();\n\t\t}\n\t}\n\treturn this.refreshChildren(changedTiddlers) || hasChangedAttributes;\n};\n\nexports.element = ElementWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/encrypt.js": {
            "title": "$:/core/modules/widgets/encrypt.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/encrypt.js\ntype: application/javascript\nmodule-type: widget\n\nEncrypt widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EncryptWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEncryptWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEncryptWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.encryptedText);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEncryptWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\"filter\",\"[!is[system]]\");\n\t// Encrypt the filtered tiddlers\n\tvar tiddlers = this.wiki.filterTiddlers(this.filter),\n\t\tjson = {},\n\t\tself = this;\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title),\n\t\t\tjsonTiddler = {};\n\t\tfor(var f in tiddler.fields) {\n\t\t\tjsonTiddler[f] = tiddler.getFieldString(f);\n\t\t}\n\t\tjson[title] = jsonTiddler;\n\t});\n\tthis.encryptedText = $tw.utils.htmlEncode($tw.crypto.encrypt(JSON.stringify(json)));\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEncryptWidget.prototype.refresh = function(changedTiddlers) {\n\t// We don't need to worry about refreshing because the encrypt widget isn't for interactive use\n\treturn false;\n};\n\nexports.encrypt = EncryptWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/entity.js": {
            "title": "$:/core/modules/widgets/entity.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/entity.js\ntype: application/javascript\nmodule-type: widget\n\nHTML entity widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EntityWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEntityWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEntityWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar entityString = this.getAttribute(\"entity\",this.parseTreeNode.entity || \"\"),\n\t\ttextNode = this.document.createTextNode($tw.utils.entityDecode(entityString));\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEntityWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEntityWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.entity) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.entity = EntityWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/eventcatcher.js": {
            "title": "$:/core/modules/widgets/eventcatcher.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/eventcatcher.js\ntype: application/javascript\nmodule-type: widget\n\nEvent handler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EventWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEventWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEventWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar tag = this.parseTreeNode.isBlock ? \"div\" : \"span\";\n\tif(this.elementTag &amp;&amp; $tw.config.htmlUnsafeElements.indexOf(this.elementTag) === -1) {\n\t\ttag = this.elementTag;\n\t}\t\n\tvar domNode = this.document.createElement(tag);\n\tthis.domNode = domNode;\n\t// Assign classes\n\tthis.assignDomNodeClasses();\t\n\t// Add our event handler\n\t$tw.utils.each(this.types,function(type) {\n\t\tdomNode.addEventListener(type,function(event) {\n\t\t\tvar selector = self.getAttribute(\"selector\"),\n\t\t\t\tactions = self.getAttribute(\"actions-\"+type),\n\t\t\t\tselectedNode = event.target,\n\t\t\t\tselectedNodeRect,\n\t\t\t\tcatcherNodeRect,\n\t\t\t\tvariables = {};\n\t\t\tif(selector) {\n\t\t\t\t// Search ancestors for a node that matches the selector\n\t\t\t\twhile(!selectedNode.matches(selector) &amp;&amp; selectedNode !== domNode) {\n\t\t\t\t\tselectedNode = selectedNode.parentNode;\n\t\t\t\t}\n\t\t\t\t// If we found one, copy the attributes as variables, otherwise exit\n\t\t\t\tif(selectedNode.matches(selector)) {\n\t\t\t\t\t$tw.utils.each(selectedNode.attributes,function(attribute) {\n\t\t\t\t\t\tvariables[\"dom-\" + attribute.name] = attribute.value.toString();\n\t\t\t\t\t});\n\t\t\t\t\t//Add a variable with a popup coordinate string for the selected node\n\t\t\t\t\tvariables[\"tv-popup-coords\"] = \"(\" + selectedNode.offsetLeft + \",\" + selectedNode.offsetTop +\",\" + selectedNode.offsetWidth + \",\" + selectedNode.offsetHeight + \")\";\n\t\t\t\t\t\n\t\t\t\t\t//Add variables for offset of selected node\n\t\t\t\t\tvariables[\"tv-selectednode-posx\"] = selectedNode.offsetLeft.toString();\n\t\t\t\t\tvariables[\"tv-selectednode-posy\"] = selectedNode.offsetTop.toString();\n\t\t\t\t\tvariables[\"tv-selectednode-width\"] = selectedNode.offsetWidth.toString();\n\t\t\t\t\tvariables[\"tv-selectednode-height\"] = selectedNode.offsetHeight.toString();\n\n\t\t\t\t\t//Add variables for event X and Y position relative to selected node\n\t\t\t\t\tselectedNodeRect = selectedNode.getBoundingClientRect();\t\t\t\t\n\t\t\t\t\tvariables[\"event-fromselected-posx\"] = (event.clientX - selectedNodeRect.left).toString();\n\t\t\t\t\tvariables[\"event-fromselected-posy\"] = (event.clientY - selectedNodeRect.top).toString();\n\n\t\t\t\t\t//Add variables for event X and Y position relative to event catcher node\n\t\t\t\t\tcatcherNodeRect = self.domNode.getBoundingClientRect();\n\t\t\t\t\tvariables[\"event-fromcatcher-posx\"] = (event.clientX - catcherNodeRect.left).toString();\n\t\t\t\t\tvariables[\"event-fromcatcher-posy\"] = (event.clientY - catcherNodeRect.top).toString();\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Execute our actions with the variables\n\t\t\tif(actions) {\n\t\t\t\t// Add a variable for the modifier key\n\t\t\t\tvariables.modifier = $tw.keyboardManager.getEventModifierKeyDescriptor(event);\n\t\t\t\t// Add a variable for the mouse button\n\t\t\t\tif(\"button\" in event) {\n\t\t\t\t\tif(event.button === 0) {\n\t\t\t\t\t\tvariables[\"event-mousebutton\"] = \"left\";\n\t\t\t\t\t} else if(event.button === 1) {\n\t\t\t\t\t\tvariables[\"event-mousebutton\"] = \"middle\";\n\t\t\t\t\t} else if(event.button === 2) {\n\t\t\t\t\t\tvariables[\"event-mousebutton\"] = \"right\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvariables[\"event-type\"] = event.type.toString();\n\t\t\t\tif(typeof event.detail === \"object\" &amp;&amp; !!event.detail) {\n\t\t\t\t\t$tw.utils.each(event.detail,function(detailValue,detail) {\n\t\t\t\t\t\tvariables[\"event-detail-\" + detail] = detailValue.toString();\n\t\t\t\t\t});\n\t\t\t\t} else if(!!event.detail) {\n\t\t\t\t\tvariables[\"event-detail\"] = event.detail.toString();\n\t\t\t\t}\n\t\t\t\tself.invokeActionString(actions,self,event,variables);\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},false);\n\t});\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEventWidget.prototype.execute = function() {\n\tvar self = this;\n\t// Get attributes that require a refresh on change\n\tthis.types = this.getAttribute(\"events\",\"\").split(\" \");\n\tthis.elementTag = this.getAttribute(\"tag\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\nEventWidget.prototype.assignDomNodeClasses = function() {\n\tvar classes = this.getAttribute(\"class\",\"\").split(\" \");\n\tclasses.push(\"tc-eventcatcher\");\n\tthis.domNode.className = classes.join(\" \");\t\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEventWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"events\"] || changedAttributes[\"tag\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedAttributes[\"class\"]) {\n\t\tthis.assignDomNodeClasses();\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.eventcatcher = EventWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/fieldmangler.js": {
            "title": "$:/core/modules/widgets/fieldmangler.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/fieldmangler.js\ntype: application/javascript\nmodule-type: widget\n\nField mangler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar FieldManglerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldManglerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldManglerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.addEventListeners([\n\t\t{type: \"tm-remove-field\", handler: \"handleRemoveFieldEvent\"},\n\t\t{type: \"tm-add-field\", handler: \"handleAddFieldEvent\"},\n\t\t{type: \"tm-remove-tag\", handler: \"handleRemoveTagEvent\"},\n\t\t{type: \"tm-add-tag\", handler: \"handleAddTagEvent\"}\n\t]);\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldManglerWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.mangleTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldManglerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nFieldManglerWidget.prototype.handleRemoveFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\tdeletion = {};\n\tdeletion[event.param] = undefined;\n\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,deletion));\n\treturn false;\n};\n\nFieldManglerWidget.prototype.handleAddFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\taddition = this.wiki.getModificationFields(),\n\t\thadInvalidFieldName = false,\n\t\taddField = function(name,value) {\n\t\t\tvar trimmedName = name.toLowerCase().trim();\n\t\t\tif(!$tw.utils.isValidFieldName(trimmedName)) {\n\t\t\t\tif(!hadInvalidFieldName) {\n\t\t\t\t\talert($tw.language.getString(\n\t\t\t\t\t\t\"InvalidFieldName\",\n\t\t\t\t\t\t{variables:\n\t\t\t\t\t\t\t{fieldName: trimmedName}\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\t\t\t\t\thadInvalidFieldName = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(!value &amp;&amp; tiddler) {\n\t\t\t\t\tvalue = tiddler.fields[trimmedName];\n\t\t\t\t}\n\t\t\t\taddition[trimmedName] = value || \"\";\n\t\t\t}\n\t\t\treturn;\n\t\t};\n\taddition.title = this.mangleTitle;\n\tif(typeof event.param === \"string\") {\n\t\taddField(event.param,\"\");\n\t}\n\tif(typeof event.paramObject === \"object\") {\n\t\tfor(var name in event.paramObject) {\n\t\t\taddField(name,event.paramObject[name]);\n\t\t}\n\t}\n\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,addition));\n\treturn false;\n};\n\nFieldManglerWidget.prototype.handleRemoveTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\tmodification = this.wiki.getModificationFields();\n\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\tvar p = tiddler.fields.tags.indexOf(event.param);\n\t\tif(p !== -1) {\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\tmodification.tags.splice(p,1);\n\t\t\tif(modification.tags.length === 0) {\n\t\t\t\tmodification.tags = undefined;\n\t\t\t}\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\n\t\t}\n\t}\n\treturn false;\n};\n\nFieldManglerWidget.prototype.handleAddTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\tmodification = this.wiki.getModificationFields();\n\tif(tiddler &amp;&amp; typeof event.param === \"string\") {\n\t\tvar tag = event.param.trim();\n\t\tif(tag !== \"\") {\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\t$tw.utils.pushTop(modification.tags,tag);\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\t\t\t\n\t\t}\n\t} else if(typeof event.param === \"string\" &amp;&amp; event.param.trim() !== \"\" &amp;&amp; this.mangleTitle.trim() !== \"\") {\n\t\tvar tag = [];\n\t\ttag.push(event.param.trim());\n\t\tthis.wiki.addTiddler(new $tw.Tiddler({title: this.mangleTitle, tags: tag},modification));\n\t}\n\treturn false;\n};\n\nexports.fieldmangler = FieldManglerWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/fields.js": {
            "title": "$:/core/modules/widgets/fields.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/fields.js\ntype: application/javascript\nmodule-type: widget\n\nFields widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar FieldsWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldsWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldsWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldsWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.tiddlerTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.template = this.getAttribute(\"template\");\n\tthis.sort = this.getAttribute(\"sort\",\"yes\") === \"yes\";\n\tthis.sortReverse = this.getAttribute(\"sortReverse\",\"no\") === \"yes\";\n\tthis.exclude = this.getAttribute(\"exclude\");\n\tthis.include = this.getAttribute(\"include\",null);\n\tthis.stripTitlePrefix = this.getAttribute(\"stripTitlePrefix\",\"no\") === \"yes\";\n\t// Get the value to display\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle);\n\n\t// Get the inclusion and exclusion list\n\tvar excludeArr = (this.exclude) ? this.exclude.split(\" \") : [\"text\"];\n\t// Include takes precedence\n\tvar includeArr = (this.include) ? this.include.split(\" \") : null;\n\n\t// Compose the template\n\tvar text = [];\n\tif(this.template &amp;&amp; tiddler) {\n\t\tvar fields = [];\n\t\tif (includeArr) { // Include takes precedence\n\t\t\tfor(var i=0; i&lt;includeArr.length; i++) {\n\t\t\t\tif(tiddler.fields[includeArr[i]]) {\n\t\t\t\t\tfields.push(includeArr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor(var fieldName in tiddler.fields) {\n\t\t\t\tif(excludeArr.indexOf(fieldName) === -1) {\n\t\t\t\t\tfields.push(fieldName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.sort) fields.sort();\n\t\tif (this.sortReverse) fields.reverse();\n\t\tfor(var f=0, fmax=fields.length; f&lt;fmax; f++) {\n\t\t\tfieldName = fields[f];\n\t\t\tvar row = this.template,\n\t\t\t\tvalue = tiddler.getFieldString(fieldName);\n\t\t\tif(this.stripTitlePrefix &amp;&amp; fieldName === \"title\") {\n\t\t\t\tvar reStrip = /^\\{[^\\}]+\\}(.+)/mg,\n\t\t\t\t\treMatch = reStrip.exec(value);\n\t\t\t\tif(reMatch) {\n\t\t\t\t\tvalue = reMatch[1];\n\t\t\t\t}\n\t\t\t}\n\t\t\trow = $tw.utils.replaceString(row,\"$name$\",fieldName);\n\t\t\trow = $tw.utils.replaceString(row,\"$value$\",value);\n\t\t\trow = $tw.utils.replaceString(row,\"$encoded_value$\",$tw.utils.htmlEncode(value));\n\t\t\ttext.push(row);\n\t\t}\n\t}\n\tthis.text = text.join(\"\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif( changedAttributes.tiddler || changedAttributes.template || changedAttributes.exclude ||\n\t\tchangedAttributes.include || changedAttributes.sort || changedAttributes.sortReverse ||\n\t\tchangedTiddlers[this.tiddlerTitle] || changedAttributes.stripTitlePrefix) {\n\t\t\tthis.refreshSelf();\n\t\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexports.fields = FieldsWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/image.js": {
            "title": "$:/core/modules/widgets/image.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/image.js\ntype: application/javascript\nmodule-type: widget\n\nThe image widget displays an image referenced with an external URI or with a local tiddler title.\n\n```\n&lt;$image src=\"TiddlerTitle\" width=\"320\" height=\"400\" class=\"classnames\"&gt;\n```\n\nThe image source can be the title of an existing tiddler or the URL of an external image.\n\nExternal images always generate an HTML `&lt;img&gt;` tag.\n\nTiddlers that have a _canonical_uri field generate an HTML `&lt;img&gt;` tag with the src attribute containing the URI.\n\nTiddlers that contain image data generate an HTML `&lt;img&gt;` tag with the src attribute containing a base64 representation of the image.\n\nTiddlers that contain wikitext could be rendered to a DIV of the usual size of a tiddler, and then transformed to the size requested.\n\nThe width and height attributes are interpreted as a number of pixels, and do not need to include the \"px\" suffix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ImageWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImageWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImageWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\t// Determine what type of image it is\n\tvar tag = \"img\", src = \"\",\n\t\ttiddler = this.wiki.getTiddler(this.imageSource);\n\tif(!tiddler) {\n\t\t// The source isn't the title of a tiddler, so we'll assume it's a URL\n\t\tsrc = this.getVariable(\"tv-get-export-image-link\",{params: [{name: \"src\",value: this.imageSource}],defaultValue: this.imageSource});\n\t} else {\n\t\t// Check if it is an image tiddler\n\t\tif(this.wiki.isImageTiddler(this.imageSource)) {\n\t\t\tvar type = tiddler.fields.type,\n\t\t\t\ttext = tiddler.fields.text,\n\t\t\t\t_canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t// If the tiddler has body text then it doesn't need to be lazily loaded\n\t\t\tif(text) {\n\t\t\t\t// Render the appropriate element for the image type\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \"application/pdf\":\n\t\t\t\t\t\ttag = \"embed\";\n\t\t\t\t\t\tsrc = \"data:application/pdf;base64,\" + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"image/svg+xml\":\n\t\t\t\t\t\tsrc = \"data:image/svg+xml,\" + encodeURIComponent(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = \"data:\" + type + \";base64,\" + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if(_canonical_uri) {\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \"application/pdf\":\n\t\t\t\t\t\ttag = \"embed\";\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"image/svg+xml\":\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\t\n\t\t\t} else {\n\t\t\t\t// Just trigger loading of the tiddler\n\t\t\t\tthis.wiki.getTiddlerText(this.imageSource);\n\t\t\t}\n\t\t}\n\t}\n\t// Create the element and assign the attributes\n\tvar domNode = this.document.createElement(tag);\n\tdomNode.setAttribute(\"src\",src);\n\tif(this.imageClass) {\n\t\tdomNode.setAttribute(\"class\",this.imageClass);\t\t\n\t}\n\tif(this.imageWidth) {\n\t\tdomNode.setAttribute(\"width\",this.imageWidth);\n\t}\n\tif(this.imageHeight) {\n\t\tdomNode.setAttribute(\"height\",this.imageHeight);\n\t}\n\tif(this.imageTooltip) {\n\t\tdomNode.setAttribute(\"title\",this.imageTooltip);\t\t\n\t}\n\tif(this.imageAlt) {\n\t\tdomNode.setAttribute(\"alt\",this.imageAlt);\t\t\n\t}\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImageWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.imageSource = this.getAttribute(\"source\");\n\tthis.imageWidth = this.getAttribute(\"width\");\n\tthis.imageHeight = this.getAttribute(\"height\");\n\tthis.imageClass = this.getAttribute(\"class\");\n\tthis.imageTooltip = this.getAttribute(\"tooltip\");\n\tthis.imageAlt = this.getAttribute(\"alt\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImageWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.source || changedAttributes.width || changedAttributes.height || changedAttributes[\"class\"] || changedAttributes.tooltip || changedTiddlers[this.imageSource]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\t\n\t}\n};\n\nexports.image = ImageWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/importvariables.js": {
            "title": "$:/core/modules/widgets/importvariables.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/importvariables.js\ntype: application/javascript\nmodule-type: widget\n\nImport variable definitions from other tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ImportVariablesWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImportVariablesWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImportVariablesWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImportVariablesWidget.prototype.execute = function(tiddlerList) {\n\tvar widgetPointer = this;\n\t// Got to flush all the accumulated variables\n\tthis.variables = new this.variablesConstructor();\n\t// Get our parameters\n\tthis.filter = this.getAttribute(\"filter\");\n\t// Compute the filter\n\tthis.tiddlerList = tiddlerList || this.wiki.filterTiddlers(this.filter,this);\n\t// Accumulate the &lt;$set&gt; widgets from each tiddler\n\t$tw.utils.each(this.tiddlerList,function(title) {\n\t\tvar parser = widgetPointer.wiki.parseTiddler(title);\n\t\tif(parser) {\n\t\t\tvar parseTreeNode = parser.tree[0];\n\t\t\twhile(parseTreeNode &amp;&amp; parseTreeNode.type === \"set\") {\n\t\t\t\tvar node = {\n\t\t\t\t\ttype: \"set\",\n\t\t\t\t\tattributes: parseTreeNode.attributes,\n\t\t\t\t\tparams: parseTreeNode.params,\n\t\t\t\t\tisMacroDefinition: parseTreeNode.isMacroDefinition\n\t\t\t\t};\n\t\t\t\tif (parseTreeNode.isMacroDefinition) {\n\t\t\t\t\t// Macro definitions can be folded into\n\t\t\t\t\t// current widget instead of adding\n\t\t\t\t\t// another link to the chain.\n\t\t\t\t\tvar widget = widgetPointer.makeChildWidget(node);\n\t\t\t\t\twidget.computeAttributes();\n\t\t\t\t\twidget.execute();\n\t\t\t\t\t// We SHALLOW copy over all variables\n\t\t\t\t\t// in widget. We can't use\n\t\t\t\t\t// $tw.utils.assign, because that copies\n\t\t\t\t\t// up the prototype chain, which we\n\t\t\t\t\t// don't want.\n\t\t\t\t\t$tw.utils.each(Object.keys(widget.variables), function(key) {\n\t\t\t\t\t\twidgetPointer.variables[key] = widget.variables[key];\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twidgetPointer.children = [widgetPointer.makeChildWidget(node)];\n\t\t\t\t\t// No more regenerating children for\n\t\t\t\t\t// this widget. If it needs to refresh,\n\t\t\t\t\t// it'll do so along with the the whole\n\t\t\t\t\t// importvariable tree.\n\t\t\t\t\tif (widgetPointer != this) {\n\t\t\t\t\t\twidgetPointer.makeChildWidgets = function(){};\n\t\t\t\t\t}\n\t\t\t\t\twidgetPointer = widgetPointer.children[0];\n\t\t\t\t}\n\t\t\t\tparseTreeNode = parseTreeNode.children &amp;&amp; parseTreeNode.children[0];\n\t\t\t}\n\t\t} \n\t});\n\n\tif (widgetPointer != this) {\n\t\twidgetPointer.parseTreeNode.children = this.parseTreeNode.children;\n\t} else {\n\t\twidgetPointer.makeChildWidgets();\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImportVariablesWidget.prototype.refresh = function(changedTiddlers) {\n\t// Recompute our attributes and the filter list\n\tvar changedAttributes = this.computeAttributes(),\n\t\ttiddlerList = this.wiki.filterTiddlers(this.getAttribute(\"filter\"),this);\n\t// Refresh if the filter has changed, or the list of tiddlers has changed, or any of the tiddlers in the list has changed\n\tfunction haveListedTiddlersChanged() {\n\t\tvar changed = false;\n\t\ttiddlerList.forEach(function(title) {\n\t\t\tif(changedTiddlers[title]) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\t\treturn changed;\n\t}\n\tif(changedAttributes.filter || !$tw.utils.isArrayEqual(this.tiddlerList,tiddlerList) || haveListedTiddlersChanged()) {\n\t\t// Compute the filter\n\t\tthis.removeChildDomNodes();\n\t\tthis.execute(tiddlerList);\n\t\tthis.renderChildren(this.parentDomNode,this.findNextSiblingDomNode());\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.importvariables = ImportVariablesWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/keyboard.js": {
            "title": "$:/core/modules/widgets/keyboard.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/keyboard.js\ntype: application/javascript\nmodule-type: widget\n\nKeyboard shortcut widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar KeyboardWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nKeyboardWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nKeyboardWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar tag = this.parseTreeNode.isBlock ? \"div\" : \"span\";\n\tif(this.tag &amp;&amp; $tw.config.htmlUnsafeElements.indexOf(this.tag) === -1) {\n\t\ttag = this.tag;\n\t}\n\t// Create element\n\tvar domNode = this.document.createElement(tag);\n\t// Assign classes\n\tvar classes = (this[\"class\"] || \"\").split(\" \");\n\tclasses.push(\"tc-keyboard\");\n\tdomNode.className = classes.join(\" \");\n\t// Add a keyboard event handler\n\tdomNode.addEventListener(\"keydown\",function (event) {\n\t\tif($tw.keyboardManager.checkKeyDescriptors(event,self.keyInfoArray)) {\n\t\t\tvar handled = self.invokeActions(self,event);\n\t\t\tif(self.actions) {\n\t\t\t\tself.invokeActionString(self.actions,self,event);\n\t\t\t}\n\t\t\tself.dispatchMessage(event);\n\t\t\tif(handled || self.actions || self.message) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nKeyboardWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\"currentTiddler\")});\n};\n\n/*\nCompute the internal state of the widget\n*/\nKeyboardWidget.prototype.execute = function() {\n\tvar self = this;\n\t// Get attributes\n\tthis.actions = this.getAttribute(\"actions\",\"\");\n\tthis.message = this.getAttribute(\"message\",\"\");\n\tthis.param = this.getAttribute(\"param\",\"\");\n\tthis.key = this.getAttribute(\"key\",\"\");\n\tthis.tag = this.getAttribute(\"tag\",\"\");\n\tthis.keyInfoArray = $tw.keyboardManager.parseKeyDescriptors(this.key);\n\tthis[\"class\"] = this.getAttribute(\"class\",\"\");\n\tif(this.key.substr(0,2) === \"((\" &amp;&amp; this.key.substr(-2,2) === \"))\") {\n\t\tthis.shortcutTiddlers = [];\n\t\tvar name = this.key.substring(2,this.key.length -2);\n\t\t$tw.utils.each($tw.keyboardManager.lookupNames,function(platformDescriptor) {\n\t\t\tself.shortcutTiddlers.push(\"$:/config/\" + platformDescriptor + \"/\" + name);\n\t\t});\n\t}\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nKeyboardWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.message || changedAttributes.param || changedAttributes.key || changedAttributes[\"class\"] || changedAttributes.tag) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\t// Update the keyInfoArray if one of its shortcut-config-tiddlers has changed\n\tif(this.shortcutTiddlers &amp;&amp; $tw.utils.hopArray(changedTiddlers,this.shortcutTiddlers)) {\n\t\tthis.keyInfoArray = $tw.keyboardManager.parseKeyDescriptors(this.key);\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.keyboard = KeyboardWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/link.js": {
            "title": "$:/core/modules/widgets/link.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/link.js\ntype: application/javascript\nmodule-type: widget\n\nLink widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar LinkWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the value of the tv-wikilinks configuration macro\n\tvar wikiLinksMacro = this.getVariable(\"tv-wikilinks\"),\n\t\tuseWikiLinks = wikiLinksMacro ? (wikiLinksMacro.trim() !== \"no\") : true,\n\t\tmissingLinksEnabled = !(this.hideMissingLinks &amp;&amp; this.isMissing &amp;&amp; !this.isShadow);\n\t// Render the link if required\n\tif(useWikiLinks &amp;&amp; missingLinksEnabled) {\n\t\tthis.renderLink(parent,nextSibling);\n\t} else {\n\t\t// Just insert the link text\n\t\tvar domNode = this.document.createElement(\"span\");\n\t\tparent.insertBefore(domNode,nextSibling);\n\t\tthis.renderChildren(domNode,null);\n\t\tthis.domNodes.push(domNode);\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.renderLink = function(parent,nextSibling) {\n\tvar self = this;\n\t// Sanitise the specified tag\n\tvar tag = this.linkTag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \"a\";\n\t}\n\t// Create our element\n\tvar namespace = this.getVariable(\"namespace\",{defaultValue: \"http://www.w3.org/1999/xhtml\"}),\n\t\tdomNode = this.document.createElementNS(namespace,tag);\n\t// Assign classes\n\tvar classes = [];\n\tif(this.overrideClasses === undefined) {\n\t\tclasses.push(\"tc-tiddlylink\");\n\t\tif(this.isShadow) {\n\t\t\tclasses.push(\"tc-tiddlylink-shadow\");\n\t\t}\n\t\tif(this.isMissing &amp;&amp; !this.isShadow) {\n\t\t\tclasses.push(\"tc-tiddlylink-missing\");\n\t\t} else {\n\t\t\tif(!this.isMissing) {\n\t\t\t\tclasses.push(\"tc-tiddlylink-resolves\");\n\t\t\t}\n\t\t}\n\t\tif(this.linkClasses) {\n\t\t\tclasses.push(this.linkClasses);\t\t\t\n\t\t}\n\t} else if(this.overrideClasses !== \"\") {\n\t\tclasses.push(this.overrideClasses)\n\t}\n\tif(classes.length &gt; 0) {\n\t\tdomNode.setAttribute(\"class\",classes.join(\" \"));\n\t}\n\t// Set an href\n\tvar wikilinkTransformFilter = this.getVariable(\"tv-filter-export-link\"),\n\t\twikiLinkText;\n\tif(wikilinkTransformFilter) {\n\t\t// Use the filter to construct the href\n\t\twikiLinkText = this.wiki.filterTiddlers(wikilinkTransformFilter,this,function(iterator) {\n\t\t\titerator(self.wiki.getTiddler(self.to),self.to)\n\t\t})[0];\n\t} else {\n\t\t// Expand the tv-wikilink-template variable to construct the href\n\t\tvar wikiLinkTemplateMacro = this.getVariable(\"tv-wikilink-template\"),\n\t\t\twikiLinkTemplate = wikiLinkTemplateMacro ? wikiLinkTemplateMacro.trim() : \"#$uri_encoded$\";\n\t\twikiLinkText = $tw.utils.replaceString(wikiLinkTemplate,\"$uri_encoded$\",encodeURIComponent(this.to));\n\t\twikiLinkText = $tw.utils.replaceString(wikiLinkText,\"$uri_doubleencoded$\",encodeURIComponent(encodeURIComponent(this.to)));\n\t}\n\t// Override with the value of tv-get-export-link if defined\n\twikiLinkText = this.getVariable(\"tv-get-export-link\",{params: [{name: \"to\",value: this.to}],defaultValue: wikiLinkText});\n\tif(tag === \"a\") {\n\t\tvar namespaceHref = (namespace === \"http://www.w3.org/2000/svg\") ? \"http://www.w3.org/1999/xlink\" : undefined;\n\t\tdomNode.setAttributeNS(namespaceHref,\"href\",wikiLinkText);\n\t}\n\t// Set the tabindex\n\tif(this.tabIndex) {\n\t\tdomNode.setAttribute(\"tabindex\",this.tabIndex);\n\t}\n\t// Set the tooltip\n\t// HACK: Performance issues with re-parsing the tooltip prevent us defaulting the tooltip to \"&lt;$transclude field='tooltip'&gt;&lt;$transclude field='title'/&gt;&lt;/$transclude&gt;\"\n\tvar tooltipWikiText = this.tooltip || this.getVariable(\"tv-wikilink-tooltip\");\n\tif(tooltipWikiText) {\n\t\tvar tooltipText = this.wiki.renderText(\"text/plain\",\"text/vnd.tiddlywiki\",tooltipWikiText,{\n\t\t\t\tparseAsInline: true,\n\t\t\t\tvariables: {\n\t\t\t\t\tcurrentTiddler: this.to\n\t\t\t\t},\n\t\t\t\tparentWidget: this\n\t\t\t});\n\t\tdomNode.setAttribute(\"title\",tooltipText);\n\t}\n\tif(this[\"aria-label\"]) {\n\t\tdomNode.setAttribute(\"aria-label\",this[\"aria-label\"]);\n\t}\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \"click\", handlerObject: this, handlerMethod: \"handleClickEvent\"},\n\t]);\n\t// Make the link draggable if required\n\tif(this.draggable === \"yes\") {\n\t\t$tw.utils.makeDraggable({\n\t\t\tdomNode: domNode,\n\t\t\tdragTiddlerFn: function() {return self.to;},\n\t\t\twidget: this\n\t\t});\n\t}\n\t// Insert the link into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nLinkWidget.prototype.handleClickEvent = function(event) {\n\t// Send the click on its way as a navigate event\n\tvar bounds = this.domNodes[0].getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \"tm-navigate\",\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\"storyTiddler\"),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1),\n\t\tmetaKey: event.metaKey,\n\t\tctrlKey: event.ctrlKey,\n\t\taltKey: event.altKey,\n\t\tshiftKey: event.shiftKey,\n\t\tevent: event\n\t});\n\tif(this.domNodes[0].hasAttribute(\"href\")) {\n\t\tevent.preventDefault();\n\t}\n\tevent.stopPropagation();\n\treturn false;\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkWidget.prototype.execute = function() {\n\t// Pick up our attributes\n\tthis.to = this.getAttribute(\"to\",this.getVariable(\"currentTiddler\"));\n\tthis.tooltip = this.getAttribute(\"tooltip\");\n\tthis[\"aria-label\"] = this.getAttribute(\"aria-label\");\n\tthis.linkClasses = this.getAttribute(\"class\");\n\tthis.overrideClasses = this.getAttribute(\"overrideClass\");\n\tthis.tabIndex = this.getAttribute(\"tabindex\");\n\tthis.draggable = this.getAttribute(\"draggable\",\"yes\");\n\tthis.linkTag = this.getAttribute(\"tag\",\"a\");\n\t// Determine the link characteristics\n\tthis.isMissing = !this.wiki.tiddlerExists(this.to);\n\tthis.isShadow = this.wiki.isShadowTiddler(this.to);\n\tthis.hideMissingLinks = (this.getVariable(\"tv-show-missing-links\") || \"yes\") === \"no\";\n\t// Make the child widgets\n\tvar templateTree;\n\tif(this.parseTreeNode.children &amp;&amp; this.parseTreeNode.children.length &gt; 0) {\n\t\ttemplateTree = this.parseTreeNode.children;\n\t} else {\n\t\t// Default template is a link to the title\n\t\ttemplateTree = [{type: \"text\", text: this.to}];\n\t}\n\tthis.makeChildWidgets(templateTree);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedTiddlers[this.to] || changedAttributes[\"aria-label\"] || changedAttributes.tooltip) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.link = LinkWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/linkcatcher.js": {
            "title": "$:/core/modules/widgets/linkcatcher.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/linkcatcher.js\ntype: application/javascript\nmodule-type: widget\n\nLinkcatcher widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar LinkCatcherWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkCatcherWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkCatcherWidget.prototype.render = function(parent,nextSibling) {\n\tthis.addEventListeners([\n\t\t{type: \"tm-navigate\", handler: \"handleNavigateEvent\"}\n\t]);\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkCatcherWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.catchTo = this.getAttribute(\"to\");\n\tthis.catchMessage = this.getAttribute(\"message\");\n\tthis.catchSet = this.getAttribute(\"set\");\n\tthis.catchSetTo = this.getAttribute(\"setTo\");\n\tthis.catchActions = this.getAttribute(\"actions\");\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n\t// When executing actions we avoid trapping navigate events, so that we don't trigger ourselves recursively\n\tthis.executingActions = false;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkCatcherWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedAttributes.message || changedAttributes.set || changedAttributes.setTo) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\n/*\nHandle a tm-navigate event\n*/\nLinkCatcherWidget.prototype.handleNavigateEvent = function(event) {\n\tif(!this.executingActions) {\n\t\t// Execute the actions\n\t\tif(this.catchTo) {\n\t\t\tthis.wiki.setTextReference(this.catchTo,event.navigateTo,this.getVariable(\"currentTiddler\"));\n\t\t}\n\t\tif(this.catchMessage &amp;&amp; this.parentWidget) {\n\t\t\tthis.parentWidget.dispatchEvent({\n\t\t\t\ttype: this.catchMessage,\n\t\t\t\tparam: event.navigateTo,\n\t\t\t\tnavigateTo: event.navigateTo\n\t\t\t});\n\t\t}\n\t\tif(this.catchSet) {\n\t\t\tvar tiddler = this.wiki.getTiddler(this.catchSet);\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,{title: this.catchSet, text: this.catchSetTo}));\n\t\t}\n\t\tif(this.catchActions) {\n\t\t\tthis.executingActions = true;\n\t\t\tvar modifierKey = $tw.keyboardManager.getEventModifierKeyDescriptor(event);\n\t\t\tthis.invokeActionString(this.catchActions,this,event,{navigateTo: event.navigateTo, modifier: modifierKey});\n\t\t\tthis.executingActions = false;\n\t\t}\n\t} else {\n\t\t// This is a navigate event generated by the actions of this linkcatcher, so we don't trap it again, but just pass it to the parent\n\t\tthis.parentWidget.dispatchEvent({\n\t\t\ttype: \"tm-navigate\",\n\t\t\tparam: event.navigateTo,\n\t\t\tnavigateTo: event.navigateTo\n\t\t});\n\t}\n\treturn false;\n};\n\nexports.linkcatcher = LinkCatcherWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/list.js": {
            "title": "$:/core/modules/widgets/list.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/list.js\ntype: application/javascript\nmodule-type: widget\n\nList and list item widgets\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\n/*\nThe list widget creates list element sub-widgets that reach back into the list widget for their configuration\n*/\n\nvar ListWidget = function(parseTreeNode,options) {\n\t// Main initialisation inherited from widget.js\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListWidget.prototype.render = function(parent,nextSibling) {\n\t// Initialise the storyviews if they've not been done already\n\tif(!this.storyViews) {\n\t\tListWidget.prototype.storyViews = {};\n\t\t$tw.modules.applyMethods(\"storyview\",this.storyViews);\n\t}\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\t// Construct the storyview\n\tvar StoryView = this.storyViews[this.storyViewName];\n\tif(this.storyViewName &amp;&amp; !StoryView) {\n\t\tStoryView = this.storyViews[\"classic\"];\n\t}\n\tif(StoryView &amp;&amp; !this.document.isTiddlyWikiFakeDom) {\n\t\tthis.storyview = new StoryView(this);\n\t} else {\n\t\tthis.storyview = null;\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nListWidget.prototype.execute = function() {\n\t// Get our attributes\n\tthis.template = this.getAttribute(\"template\");\n\tthis.editTemplate = this.getAttribute(\"editTemplate\");\n\tthis.variableName = this.getAttribute(\"variable\",\"currentTiddler\");\n\tthis.storyViewName = this.getAttribute(\"storyview\");\n\tthis.historyTitle = this.getAttribute(\"history\");\n\t// Compose the list elements\n\tthis.list = this.getTiddlerList();\n\tvar members = [],\n\t\tself = this;\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\tmembers = this.getEmptyMessage();\n\t} else {\n\t\t$tw.utils.each(this.list,function(title,index) {\n\t\t\tmembers.push(self.makeItemTemplate(title));\n\t\t});\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(members);\n\t// Clear the last history\n\tthis.history = [];\n};\n\nListWidget.prototype.getTiddlerList = function() {\n\tvar defaultFilter = \"[!is[system]sort[title]]\";\n\treturn this.wiki.filterTiddlers(this.getAttribute(\"filter\",defaultFilter),this);\n};\n\nListWidget.prototype.getEmptyMessage = function() {\n\tvar parser,\n\t\temptyMessage = this.getAttribute(\"emptyMessage\",\"\");\n\t// this.wiki.parseText() calls \n\t// new Parser(..), which should only be done, if needed, because it's heavy!\n\tif (emptyMessage === \"\") {\n\t\treturn [];\n\t}\n\tparser = this.wiki.parseText(\"text/vnd.tiddlywiki\",emptyMessage,{parseAsInline: true});\n\tif(parser) {\n\t\treturn parser.tree;\n\t} else {\n\t\treturn [];\n\t}\n};\n\n/*\nCompose the template for a list item\n*/\nListWidget.prototype.makeItemTemplate = function(title) {\n\t// Check if the tiddler is a draft\n\tvar tiddler = this.wiki.getTiddler(title),\n\t\tisDraft = tiddler &amp;&amp; tiddler.hasField(\"draft.of\"),\n\t\ttemplate = this.template,\n\t\ttemplateTree;\n\tif(isDraft &amp;&amp; this.editTemplate) {\n\t\ttemplate = this.editTemplate;\n\t}\n\t// Compose the transclusion of the template\n\tif(template) {\n\t\ttemplateTree = [{type: \"transclude\", attributes: {tiddler: {type: \"string\", value: template}}}];\n\t} else {\n\t\tif(this.parseTreeNode.children &amp;&amp; this.parseTreeNode.children.length &gt; 0) {\n\t\t\ttemplateTree = this.parseTreeNode.children;\n\t\t} else {\n\t\t\t// Default template is a link to the title\n\t\t\ttemplateTree = [{type: \"element\", tag: this.parseTreeNode.isBlock ? \"div\" : \"span\", children: [{type: \"link\", attributes: {to: {type: \"string\", value: title}}, children: [\n\t\t\t\t\t{type: \"text\", text: title}\n\t\t\t]}]}];\n\t\t}\n\t}\n\t// Return the list item\n\treturn {type: \"listitem\", itemTitle: title, variableName: this.variableName, children: templateTree};\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\tresult;\n\t// Call the storyview\n\tif(this.storyview &amp;&amp; this.storyview.refreshStart) {\n\t\tthis.storyview.refreshStart(changedTiddlers,changedAttributes);\n\t}\n\t// Completely refresh if any of our attributes have changed\n\tif(changedAttributes.filter || changedAttributes.template || changedAttributes.editTemplate || changedAttributes.emptyMessage || changedAttributes.storyview || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\tresult = true;\n\t} else {\n\t\t// Handle any changes to the list\n\t\tresult = this.handleListChanges(changedTiddlers);\n\t\t// Handle any changes to the history stack\n\t\tif(this.historyTitle &amp;&amp; changedTiddlers[this.historyTitle]) {\n\t\t\tthis.handleHistoryChanges();\n\t\t}\n\t}\n\t// Call the storyview\n\tif(this.storyview &amp;&amp; this.storyview.refreshEnd) {\n\t\tthis.storyview.refreshEnd(changedTiddlers,changedAttributes);\n\t}\n\treturn result;\n};\n\n/*\nHandle any changes to the history list\n*/\nListWidget.prototype.handleHistoryChanges = function() {\n\t// Get the history data\n\tvar newHistory = this.wiki.getTiddlerDataCached(this.historyTitle,[]);\n\t// Ignore any entries of the history that match the previous history\n\tvar entry = 0;\n\twhile(entry &lt; newHistory.length &amp;&amp; entry &lt; this.history.length &amp;&amp; newHistory[entry].title === this.history[entry].title) {\n\t\tentry++;\n\t}\n\t// Navigate forwards to each of the new tiddlers\n\twhile(entry &lt; newHistory.length) {\n\t\tif(this.storyview &amp;&amp; this.storyview.navigateTo) {\n\t\t\tthis.storyview.navigateTo(newHistory[entry]);\n\t\t}\n\t\tentry++;\n\t}\n\t// Update the history\n\tthis.history = newHistory;\n};\n\n/*\nProcess any changes to the list\n*/\nListWidget.prototype.handleListChanges = function(changedTiddlers) {\n\t// Get the new list\n\tvar prevList = this.list;\n\tthis.list = this.getTiddlerList();\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\t// Check if it was empty before\n\t\tif(prevList.length === 0) {\n\t\t\t// If so, just refresh the empty message\n\t\t\treturn this.refreshChildren(changedTiddlers);\n\t\t} else {\n\t\t\t// Replace the previous content with the empty message\n\t\t\tfor(t=this.children.length-1; t&gt;=0; t--) {\n\t\t\t\tthis.removeListItem(t);\n\t\t\t}\n\t\t\tvar nextSibling = this.findNextSiblingDomNode();\n\t\t\tthis.makeChildWidgets(this.getEmptyMessage());\n\t\t\tthis.renderChildren(this.parentDomNode,nextSibling);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\t// If the list was empty then we need to remove the empty message\n\t\tif(prevList.length === 0) {\n\t\t\tthis.removeChildDomNodes();\n\t\t\tthis.children = [];\n\t\t}\n\t\t// Cycle through the list, inserting and removing list items as needed\n\t\tvar hasRefreshed = false;\n\t\tfor(var t=0; t&lt;this.list.length; t++) {\n\t\t\tvar index = this.findListItem(t,this.list[t]);\n\t\t\tif(index === undefined) {\n\t\t\t\t// The list item must be inserted\n\t\t\t\tthis.insertListItem(t,this.list[t]);\n\t\t\t\thasRefreshed = true;\n\t\t\t} else {\n\t\t\t\t// There are intervening list items that must be removed\n\t\t\t\tfor(var n=index-1; n&gt;=t; n--) {\n\t\t\t\t\tthis.removeListItem(n);\n\t\t\t\t\thasRefreshed = true;\n\t\t\t\t}\n\t\t\t\t// Refresh the item we're reusing\n\t\t\t\tvar refreshed = this.children[t].refresh(changedTiddlers);\n\t\t\t\thasRefreshed = hasRefreshed || refreshed;\n\t\t\t}\n\t\t}\n\t\t// Remove any left over items\n\t\tfor(t=this.children.length-1; t&gt;=this.list.length; t--) {\n\t\t\tthis.removeListItem(t);\n\t\t\thasRefreshed = true;\n\t\t}\n\t\treturn hasRefreshed;\n\t}\n};\n\n/*\nFind the list item with a given title, starting from a specified position\n*/\nListWidget.prototype.findListItem = function(startIndex,title) {\n\twhile(startIndex &lt; this.children.length) {\n\t\tif(this.children[startIndex].parseTreeNode.itemTitle === title) {\n\t\t\treturn startIndex;\n\t\t}\n\t\tstartIndex++;\n\t}\n\treturn undefined;\n};\n\n/*\nInsert a new list item at the specified index\n*/\nListWidget.prototype.insertListItem = function(index,title) {\n\t// Create, insert and render the new child widgets\n\tvar widget = this.makeChildWidget(this.makeItemTemplate(title));\n\twidget.parentDomNode = this.parentDomNode; // Hack to enable findNextSiblingDomNode() to work\n\tthis.children.splice(index,0,widget);\n\tvar nextSibling = widget.findNextSiblingDomNode();\n\twidget.render(this.parentDomNode,nextSibling);\n\t// Animate the insertion if required\n\tif(this.storyview &amp;&amp; this.storyview.insert) {\n\t\tthis.storyview.insert(widget);\n\t}\n\treturn true;\n};\n\n/*\nRemove the specified list item\n*/\nListWidget.prototype.removeListItem = function(index) {\n\tvar widget = this.children[index];\n\t// Animate the removal if required\n\tif(this.storyview &amp;&amp; this.storyview.remove) {\n\t\tthis.storyview.remove(widget);\n\t} else {\n\t\twidget.removeChildDomNodes();\n\t}\n\t// Remove the child widget\n\tthis.children.splice(index,1);\n};\n\nexports.list = ListWidget;\n\nvar ListItemWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListItemWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListItemWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nListItemWidget.prototype.execute = function() {\n\t// Set the current list item title\n\tthis.setVariable(this.parseTreeNode.variableName,this.parseTreeNode.itemTitle);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListItemWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.listitem = ListItemWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/log.js": {
            "title": "$:/core/modules/widgets/log.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/log.js\ntype: application/javascript\nmodule-type: widget-subclass\n\nWidget to log debug messages\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.baseClass = \"action-log\";\n\nexports.name = \"log\";\n\nexports.constructor = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n}\n\nexports.prototype = {};\n\nexports.prototype.render = function(event) {\n\tObject.getPrototypeOf(Object.getPrototypeOf(this)).render.call(this,event);\t\n\tObject.getPrototypeOf(Object.getPrototypeOf(this)).log.call(this);\n}\n\n})();",
            "type": "application/javascript",
            "module-type": "widget-subclass"
        },
        "$:/core/modules/widgets/macrocall.js": {
            "title": "$:/core/modules/widgets/macrocall.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/macrocall.js\ntype: application/javascript\nmodule-type: widget\n\nMacrocall widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar MacroCallWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nMacroCallWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nMacroCallWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nMacroCallWidget.prototype.execute = function() {\n\t// Get the parse type if specified\n\tthis.parseType = this.getAttribute(\"$type\",\"text/vnd.tiddlywiki\");\n\tthis.renderOutput = this.getAttribute(\"$output\",\"text/html\");\n\t// Merge together the parameters specified in the parse tree with the specified attributes\n\tvar params = this.parseTreeNode.params ? this.parseTreeNode.params.slice(0) : [];\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \"$\") {\n\t\t\tparams.push({name: name, value: attribute});\t\t\t\n\t\t}\n\t});\n\t// Get the macro value\n\tvar macroName = this.parseTreeNode.name || this.getAttribute(\"$name\"),\n\t\tvariableInfo = this.getVariableInfo(macroName,{params: params}),\n\t\ttext = variableInfo.text,\n\t\tparseTreeNodes;\n\t// Are we rendering to HTML?\n\tif(this.renderOutput === \"text/html\") {\n\t\t// If so we'll return the parsed macro\n\t\t// Check if we've already cached parsing this macro\n\t\tvar mode = this.parseTreeNode.isBlock ? \"blockParser\" : \"inlineParser\",\n\t\t\tparser;\n\t\tif(variableInfo.srcVariable &amp;&amp; variableInfo.srcVariable[mode]) {\n\t\t\tparser = variableInfo.srcVariable[mode];\n\t\t} else {\n\t\t\tparser = this.wiki.parseText(this.parseType,text,\n\t\t\t\t\t\t\t\t{parseAsInline: !this.parseTreeNode.isBlock});\n\t\t\tif(variableInfo.isCacheable &amp;&amp; variableInfo.srcVariable) {\n\t\t\t\tvariableInfo.srcVariable[mode] = parser;\n\t\t\t}\n\t\t}\n\t\tvar parseTreeNodes = parser ? parser.tree : [];\n\t\t// Wrap the parse tree in a vars widget assigning the parameters to variables named \"__paramname__\"\n\t\tvar attributes = {};\n\t\t$tw.utils.each(variableInfo.params,function(param) {\n\t\t\tvar name = \"__\" + param.name + \"__\";\n\t\t\tattributes[name] = {\n\t\t\t\tname: name,\n\t\t\t\ttype: \"string\",\n\t\t\t\tvalue: param.value\n\t\t\t};\n\t\t});\n\t\tparseTreeNodes = [{\n\t\t\ttype: \"vars\",\n\t\t\tattributes: attributes,\n\t\t\tchildren: parseTreeNodes\n\t\t}];\n\t} else if(this.renderOutput === \"text/raw\") {\n\t\tparseTreeNodes = [{type: \"text\", text: text}];\n\t} else {\n\t\t// Otherwise, we'll render the text\n\t\tvar plainText = this.wiki.renderText(\"text/plain\",this.parseType,text,{parentWidget: this});\n\t\tparseTreeNodes = [{type: \"text\", text: plainText}];\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nMacroCallWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif($tw.utils.count(changedAttributes) &gt; 0) {\n\t\t// Rerender ourselves\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.macrocall = MacroCallWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/messagecatcher.js": {
            "title": "$:/core/modules/widgets/messagecatcher.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/messagecatcher.js\ntype: application/javascript\nmodule-type: widget\n\nMessage catcher widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar MessageCatcherWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nMessageCatcherWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nMessageCatcherWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Add our message handler\n\tif(this.messageType) {\n\t\tthis.addEventListeners([\n\t\t\t{type: this.messageType, handler: \"handleEvent\"}\n\t\t]);\n\t}\n\t// Render children\n\tthis.renderChildren(parent,null);\n};\n\n/*\nCompute the internal state of the widget\n*/\nMessageCatcherWidget.prototype.execute = function() {\n\tvar self = this;\n\t// Get attributes that require a refresh on change\n\tthis.messageType = this.getAttribute(\"type\");\n\tthis.messageActions = this.getAttribute(\"actions\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nHandle an event\n*/\nMessageCatcherWidget.prototype.handleEvent = function(event) {\n\tif(this.messageActions) {\n\t\t// Collect all the event properties into variables\n\t\tvar collectProps = function(obj,prefix) {\n\t\t\t\tprefix = prefix || \"\";\n\t\t\t\tvar props = {};\n\t\t\t\t$tw.utils.each(obj,function(value,name) {\n\t\t\t\t\tif([\"string\",\"boolean\",\"number\"].indexOf(typeof value) !== -1) {\n\t\t\t\t\t\tprops[prefix + name] = value.toString();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn props;\n\t\t\t};\n\t\tvar variables = $tw.utils.extend(\n\t\t\t{},\n\t\t\tcollectProps(event.paramObject,\"event-paramObject-\"),\n\t\t\tcollectProps(event,\"event-\"),\n\t\t\t{\n\t\t\t\tmodifier: $tw.keyboardManager.getEventModifierKeyDescriptor(event)\n\t\t\t});\n\t\tthis.invokeActionString(this.messageActions,this,event,variables);\n\t}\n\treturn false;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nMessageCatcherWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"type\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.messagecatcher = MessageCatcherWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/navigator.js": {
            "title": "$:/core/modules/widgets/navigator.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/navigator.js\ntype: application/javascript\nmodule-type: widget\n\nNavigator widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar IMPORT_TITLE = \"$:/Import\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar NavigatorWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nNavigatorWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nNavigatorWidget.prototype.render = function(parent,nextSibling) {\n\tthis.addEventListeners([\n\t\t{type: \"tm-navigate\", handler: \"handleNavigateEvent\"},\n\t\t{type: \"tm-edit-tiddler\", handler: \"handleEditTiddlerEvent\"},\n\t\t{type: \"tm-delete-tiddler\", handler: \"handleDeleteTiddlerEvent\"},\n\t\t{type: \"tm-save-tiddler\", handler: \"handleSaveTiddlerEvent\"},\n\t\t{type: \"tm-cancel-tiddler\", handler: \"handleCancelTiddlerEvent\"},\n\t\t{type: \"tm-close-tiddler\", handler: \"handleCloseTiddlerEvent\"},\n\t\t{type: \"tm-close-all-tiddlers\", handler: \"handleCloseAllTiddlersEvent\"},\n\t\t{type: \"tm-close-other-tiddlers\", handler: \"handleCloseOtherTiddlersEvent\"},\n\t\t{type: \"tm-new-tiddler\", handler: \"handleNewTiddlerEvent\"},\n\t\t{type: \"tm-import-tiddlers\", handler: \"handleImportTiddlersEvent\"},\n\t\t{type: \"tm-perform-import\", handler: \"handlePerformImportEvent\"},\n\t\t{type: \"tm-fold-tiddler\", handler: \"handleFoldTiddlerEvent\"},\n\t\t{type: \"tm-fold-other-tiddlers\", handler: \"handleFoldOtherTiddlersEvent\"},\n\t\t{type: \"tm-fold-all-tiddlers\", handler: \"handleFoldAllTiddlersEvent\"},\n\t\t{type: \"tm-unfold-all-tiddlers\", handler: \"handleUnfoldAllTiddlersEvent\"},\n\t\t{type: \"tm-rename-tiddler\", handler: \"handleRenameTiddlerEvent\"}\n\t]);\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nNavigatorWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.storyTitle = this.getAttribute(\"story\");\n\tthis.historyTitle = this.getAttribute(\"history\");\n\tthis.setVariable(\"tv-story-list\",this.storyTitle);\n\tthis.setVariable(\"tv-history-list\",this.historyTitle);\n\tthis.story = new $tw.Story({\n\t\twiki: this.wiki,\n\t\tstoryTitle: this.storyTitle,\n\t\thistoryTitle: this.historyTitle\n\t});\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nNavigatorWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.story || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nNavigatorWidget.prototype.getStoryList = function() {\n\treturn this.storyTitle ? this.wiki.getTiddlerList(this.storyTitle) : null;\n};\n\nNavigatorWidget.prototype.saveStoryList = function(storyList) {\n\tif(this.storyTitle) {\n\t\tvar storyTiddler = this.wiki.getTiddler(this.storyTitle);\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\t\t{title: this.storyTitle},\n\t\t\tstoryTiddler,\n\t\t\t{list: storyList}\n\t\t));\t\t\n\t}\n};\n\nNavigatorWidget.prototype.removeTitleFromStory = function(storyList,title) {\n\tif(storyList) {\n\t\tvar p = storyList.indexOf(title);\n\t\twhile(p !== -1) {\n\t\t\tstoryList.splice(p,1);\n\t\t\tp = storyList.indexOf(title);\n\t\t}\t\t\n\t}\n};\n\nNavigatorWidget.prototype.replaceFirstTitleInStory = function(storyList,oldTitle,newTitle) {\n\tif(storyList) {\n\t\tvar pos = storyList.indexOf(oldTitle);\n\t\tif(pos !== -1) {\n\t\t\tstoryList[pos] = newTitle;\n\t\t\tdo {\n\t\t\t\tpos = storyList.indexOf(oldTitle,pos + 1);\n\t\t\t\tif(pos !== -1) {\n\t\t\t\t\tstoryList.splice(pos,1);\n\t\t\t\t}\n\t\t\t} while(pos !== -1);\n\t\t} else {\n\t\t\tstoryList.splice(0,0,newTitle);\n\t\t}\t\t\n\t}\n};\n\nNavigatorWidget.prototype.addToStory = function(title,fromTitle) {\n\tif(this.storyTitle) {\n\t\tthis.story.addToStory(title,fromTitle,{\n\t\t\topenLinkFromInsideRiver: this.getAttribute(\"openLinkFromInsideRiver\",\"top\"),\n\t\t\topenLinkFromOutsideRiver: this.getAttribute(\"openLinkFromOutsideRiver\",\"top\")\n\t\t});\n\t}\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\n*/\nNavigatorWidget.prototype.addToHistory = function(title,fromPageRect) {\n\tthis.story.addToHistory(title,fromPageRect,this.historyTitle);\n};\n\n/*\nHandle a tm-navigate event\n*/\nNavigatorWidget.prototype.handleNavigateEvent = function(event) {\n\tevent = $tw.hooks.invokeHook(\"th-navigating\",event);\n\tif(event.navigateTo) {\n\t\tthis.addToStory(event.navigateTo,event.navigateFromTitle);\n\t\tif(!event.navigateSuppressNavigation) {\n\t\t\tthis.addToHistory(event.navigateTo,event.navigateFromClientRect);\n\t\t}\n\t}\n\treturn false;\n};\n\n// Close a specified tiddler\nNavigatorWidget.prototype.handleCloseTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\tstoryList = this.getStoryList();\n\t// Look for tiddlers with this title to close\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\treturn false;\n};\n\n// Close all tiddlers\nNavigatorWidget.prototype.handleCloseAllTiddlersEvent = function(event) {\n\tthis.saveStoryList([]);\n\treturn false;\n};\n\n// Close other tiddlers\nNavigatorWidget.prototype.handleCloseOtherTiddlersEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle;\n\tthis.saveStoryList([title]);\n\treturn false;\n};\n\n// Place a tiddler in edit mode\nNavigatorWidget.prototype.handleEditTiddlerEvent = function(event) {\n\tvar editTiddler = $tw.hooks.invokeHook(\"th-editing-tiddler\",event);\n\tif(!editTiddler) {\n\t\treturn false;\n\t}\n\tvar self = this;\n\tfunction isUnmodifiedShadow(title) {\n\t\treturn self.wiki.isShadowTiddler(title) &amp;&amp; !self.wiki.tiddlerExists(title);\n\t}\n\tfunction confirmEditShadow(title) {\n\t\treturn confirm($tw.language.getString(\n\t\t\t\"ConfirmEditShadowTiddler\",\n\t\t\t{variables:\n\t\t\t\t{title: title}\n\t\t\t}\n\t\t));\n\t}\n\tvar title = event.param || event.tiddlerTitle;\n\tif(isUnmodifiedShadow(title) &amp;&amp; !confirmEditShadow(title)) {\n\t\treturn false;\n\t}\n\t// Replace the specified tiddler with a draft in edit mode\n\tvar draftTiddler = this.makeDraftTiddler(title);\n\t// Update the story and history if required\n\tif(!event.paramObject || event.paramObject.suppressNavigation !== \"yes\") {\n\t\tvar draftTitle = draftTiddler.fields.title,\n\t\t\tstoryList = this.getStoryList();\n\t\tthis.removeTitleFromStory(storyList,draftTitle);\n\t\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\t\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\t\tthis.saveStoryList(storyList);\n\t\treturn false;\n\t}\n};\n\n// Delete a tiddler\nNavigatorWidget.prototype.handleDeleteTiddlerEvent = function(event) {\n\t// Get the tiddler we're deleting\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList(),\n\t\toriginalTitle = tiddler ? tiddler.fields[\"draft.of\"] : \"\",\n\t\toriginalTiddler = originalTitle ? this.wiki.getTiddler(originalTitle) : undefined,\n\t\tconfirmationTitle;\n\tif(!tiddler) {\n\t\treturn false;\n\t}\n\t// Check if the tiddler we're deleting is in draft mode\n\tif(originalTitle) {\n\t\t// If so, we'll prompt for confirmation referencing the original tiddler\n\t\tconfirmationTitle = originalTitle;\n\t} else {\n\t\t// If not a draft, then prompt for confirmation referencing the specified tiddler\n\t\tconfirmationTitle = title;\n\t}\n\t// Seek confirmation\n\tif((this.wiki.getTiddler(originalTitle) || (tiddler.fields.text || \"\") !== \"\") &amp;&amp; !confirm($tw.language.getString(\n\t\t\t\t\"ConfirmDeleteTiddler\",\n\t\t\t\t{variables:\n\t\t\t\t\t{title: confirmationTitle}\n\t\t\t\t}\n\t\t\t))) {\n\t\treturn false;\n\t}\n\t// Delete the original tiddler\n\tif(originalTitle) {\n\t\tif(originalTiddler) {\n\t\t\t$tw.hooks.invokeHook(\"th-deleting-tiddler\",originalTiddler);\n\t\t}\n\t\tthis.wiki.deleteTiddler(originalTitle);\n\t\tthis.removeTitleFromStory(storyList,originalTitle);\n\t}\n\t// Invoke the hook function and delete this tiddler\n\t$tw.hooks.invokeHook(\"th-deleting-tiddler\",tiddler);\n\tthis.wiki.deleteTiddler(title);\n\t// Remove the closed tiddler from the story\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \"tm-auto-save-wiki\"});\n\treturn false;\n};\n\n/*\nCreate/reuse the draft tiddler for a given title\n*/\nNavigatorWidget.prototype.makeDraftTiddler = function(targetTitle) {\n\t// See if there is already a draft tiddler for this tiddler\n\tvar draftTitle = this.wiki.findDraft(targetTitle);\n\tif(draftTitle) {\n\t\treturn this.wiki.getTiddler(draftTitle);\n\t}\n\t// Get the current value of the tiddler we're editing\n\tvar tiddler = this.wiki.getTiddler(targetTitle);\n\t// Save the initial value of the draft tiddler\n\tdraftTitle = this.generateDraftTitle(targetTitle);\n\tvar draftTiddler = new $tw.Tiddler({\n\t\t\t\ttext: \"\",\n\t\t\t},\n\t\t\ttiddler,\n\t\t\t{\n\t\t\t\ttitle: draftTitle,\n\t\t\t\t\"draft.title\": targetTitle,\n\t\t\t\t\"draft.of\": targetTitle\n\t\t\t},\n\t\t\tthis.wiki.getModificationFields()\n\t\t);\n\tthis.wiki.addTiddler(draftTiddler);\n\treturn draftTiddler;\n};\n\n/*\nGenerate a title for the draft of a given tiddler\n*/\nNavigatorWidget.prototype.generateDraftTitle = function(title) {\n\treturn this.wiki.generateDraftTitle(title);\n};\n\n// Take a tiddler out of edit mode, saving the changes\nNavigatorWidget.prototype.handleSaveTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList();\n\t// Replace the original tiddler with the draft\n\tif(tiddler) {\n\t\tvar draftTitle = (tiddler.fields[\"draft.title\"] || \"\").trim(),\n\t\t\tdraftOf = (tiddler.fields[\"draft.of\"] || \"\").trim();\n\t\tif(draftTitle) {\n\t\t\tvar isRename = draftOf !== draftTitle,\n\t\t\t\tisConfirmed = true;\n\t\t\tif(isRename &amp;&amp; this.wiki.tiddlerExists(draftTitle)) {\n\t\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\t\"ConfirmOverwriteTiddler\",\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{title: draftTitle}\n\t\t\t\t\t}\n\t\t\t\t));\n\t\t\t}\n\t\t\tif(isConfirmed) {\n\t\t\t\t// Create the new tiddler and pass it through the th-saving-tiddler hook\n\t\t\t\tvar newTiddler = new $tw.Tiddler(this.wiki.getCreationFields(),tiddler,{\n\t\t\t\t\ttitle: draftTitle,\n\t\t\t\t\t\"draft.title\": undefined,\n\t\t\t\t\t\"draft.of\": undefined\n\t\t\t\t},this.wiki.getModificationFields());\n\t\t\t\tnewTiddler = $tw.hooks.invokeHook(\"th-saving-tiddler\",newTiddler,tiddler);\n\t\t\t\tthis.wiki.addTiddler(newTiddler);\n\t\t\t\t// If enabled, relink references to renamed tiddler\n\t\t\t\tvar shouldRelink = this.getAttribute(\"relinkOnRename\",\"no\").toLowerCase().trim() === \"yes\";\n\t\t\t\tif(isRename &amp;&amp; shouldRelink &amp;&amp; this.wiki.tiddlerExists(draftOf)) {\n\t\t\t\t\tthis.wiki.relinkTiddler(draftOf,draftTitle);\n\t\t\t\t}\n\t\t\t\t// Remove the draft tiddler\n\t\t\t\tthis.wiki.deleteTiddler(title);\n\t\t\t\t// Remove the original tiddler if we're renaming it\n\t\t\t\tif(isRename) {\n\t\t\t\t\tthis.wiki.deleteTiddler(draftOf);\n\t\t\t\t}\n\t\t\t\t// #2381 always remove new title &amp; old\n\t\t\t\tthis.removeTitleFromStory(storyList,draftTitle);\n\t\t\t\tthis.removeTitleFromStory(storyList,draftOf);\n\t\t\t\tif(!event.paramObject || event.paramObject.suppressNavigation !== \"yes\") {\n\t\t\t\t\t// Replace the draft in the story with the original\n\t\t\t\t\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\t\t\t\t\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\t\t\t\t\tif(draftTitle !== this.storyTitle) {\n\t\t\t\t\t\tthis.saveStoryList(storyList);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Trigger an autosave\n\t\t\t\t$tw.rootWidget.dispatchEvent({type: \"tm-auto-save-wiki\"});\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\n// Take a tiddler out of edit mode without saving the changes\nNavigatorWidget.prototype.handleCancelTiddlerEvent = function(event) {\n\tevent = $tw.hooks.invokeHook(\"th-cancelling-tiddler\", event);\n\t// Flip the specified tiddler from draft back to the original\n\tvar draftTitle = event.param || event.tiddlerTitle,\n\t\tdraftTiddler = this.wiki.getTiddler(draftTitle),\n\t\toriginalTitle = draftTiddler &amp;&amp; draftTiddler.fields[\"draft.of\"];\n\tif(draftTiddler &amp;&amp; originalTitle) {\n\t\t// Ask for confirmation if the tiddler text has changed\n\t\tvar isConfirmed = true,\n\t\t\toriginalTiddler = this.wiki.getTiddler(originalTitle),\n\t\t\tstoryList = this.getStoryList();\n\t\tif(this.wiki.isDraftModified(draftTitle)) {\n\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\"ConfirmCancelTiddler\",\n\t\t\t\t{variables:\n\t\t\t\t\t{title: draftTitle}\n\t\t\t\t}\n\t\t\t));\n\t\t}\n\t\t// Remove the draft tiddler\n\t\tif(isConfirmed) {\n\t\t\tthis.wiki.deleteTiddler(draftTitle);\n\t\t\tif(!event.paramObject || event.paramObject.suppressNavigation !== \"yes\") {\n\t\t\t\tif(originalTiddler) {\n\t\t\t\t\tthis.replaceFirstTitleInStory(storyList,draftTitle,originalTitle);\n\t\t\t\t\tthis.addToHistory(originalTitle,event.navigateFromClientRect);\n\t\t\t\t} else {\n\t\t\t\t\tthis.removeTitleFromStory(storyList,draftTitle);\n\t\t\t\t}\n\t\t\t\tthis.saveStoryList(storyList);\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\n// Create a new draft tiddler\n// event.param can either be the title of a template tiddler, or a hashmap of fields.\n//\n// The title of the newly created tiddler follows these rules:\n// * If a hashmap was used and a title field was specified, use that title\n// * If a hashmap was used without a title field, use a default title, if necessary making it unique with a numeric suffix\n// * If a template tiddler was used, use the title of the template, if necessary making it unique with a numeric suffix\n//\n// If a draft of the target tiddler already exists then it is reused\nNavigatorWidget.prototype.handleNewTiddlerEvent = function(event) {\n\tevent = $tw.hooks.invokeHook(\"th-new-tiddler\", event);\n\t// Get the story details\n\tvar storyList = this.getStoryList(),\n\t\ttemplateTiddler, additionalFields, title, draftTitle, existingTiddler;\n\t// Get the template tiddler (if any)\n\tif(typeof event.param === \"string\") {\n\t\t// Get the template tiddler\n\t\ttemplateTiddler = this.wiki.getTiddler(event.param);\n\t\t// Generate a new title\n\t\ttitle = this.wiki.generateNewTitle(event.param || $tw.language.getString(\"DefaultNewTiddlerTitle\"));\n\t}\n\t// Get the specified additional fields\n\tif(typeof event.paramObject === \"object\") {\n\t\tadditionalFields = event.paramObject;\n\t}\n\tif(typeof event.param === \"object\") { // Backwards compatibility with 5.1.3\n\t\tadditionalFields = event.param;\n\t}\n\tif(additionalFields &amp;&amp; additionalFields.title) {\n\t\ttitle = additionalFields.title;\n\t}\n\t// Make a copy of the additional fields excluding any blank ones\n\tvar filteredAdditionalFields = $tw.utils.extend({},additionalFields);\n\tObject.keys(filteredAdditionalFields).forEach(function(fieldName) {\n\t\tif(filteredAdditionalFields[fieldName] === \"\") {\n\t\t\tdelete filteredAdditionalFields[fieldName];\n\t\t}\n\t});\n\t// Generate a title if we don't have one\n\ttitle = title || this.wiki.generateNewTitle($tw.language.getString(\"DefaultNewTiddlerTitle\"));\n\t// Find any existing draft for this tiddler\n\tdraftTitle = this.wiki.findDraft(title);\n\t// Pull in any existing tiddler\n\tif(draftTitle) {\n\t\texistingTiddler = this.wiki.getTiddler(draftTitle);\n\t} else {\n\t\tdraftTitle = this.generateDraftTitle(title);\n\t\texistingTiddler = this.wiki.getTiddler(title);\n\t}\n\t// Merge the tags\n\tvar mergedTags = [];\n\tif(existingTiddler &amp;&amp; existingTiddler.fields.tags) {\n\t\t$tw.utils.pushTop(mergedTags,existingTiddler.fields.tags);\n\t}\n\tif(additionalFields &amp;&amp; additionalFields.tags) {\n\t\t// Merge tags\n\t\tmergedTags = $tw.utils.pushTop(mergedTags,$tw.utils.parseStringArray(additionalFields.tags));\n\t}\n\tif(templateTiddler &amp;&amp; templateTiddler.fields.tags) {\n\t\t// Merge tags\n\t\tmergedTags = $tw.utils.pushTop(mergedTags,templateTiddler.fields.tags);\n\t}\n\t// Save the draft tiddler\n\tvar draftTiddler = new $tw.Tiddler({\n\t\t\ttext: \"\",\n\t\t\t\"draft.title\": title\n\t\t},\n\t\ttemplateTiddler,\n\t\tadditionalFields,\n\t\tthis.wiki.getCreationFields(),\n\t\texistingTiddler,\n\t\tfilteredAdditionalFields,\n\t\t{\n\t\t\ttitle: draftTitle,\n\t\t\t\"draft.of\": title,\n\t\t\ttags: mergedTags\n\t\t},this.wiki.getModificationFields());\n\tthis.wiki.addTiddler(draftTiddler);\n\t// Update the story to insert the new draft at the top and remove any existing tiddler\n\tif(storyList &amp;&amp; storyList.indexOf(draftTitle) === -1) {\n\t\tvar slot = storyList.indexOf(event.navigateFromTitle);\n\t\tif(slot === -1) {\n\t\t\tslot = this.getAttribute(\"openLinkFromOutsideRiver\",\"top\") === \"bottom\" ? storyList.length - 1 : slot;\n\t\t}\n\t\tstoryList.splice(slot + 1,0,draftTitle);\n\t}\n\tif(storyList &amp;&amp; storyList.indexOf(title) !== -1) {\n\t\tstoryList.splice(storyList.indexOf(title),1);\n\t}\n\tthis.saveStoryList(storyList);\n\t// Add a new record to the top of the history stack\n\tthis.addToHistory(draftTitle);\n\treturn false;\n};\n\n// Import JSON tiddlers into a pending import tiddler\nNavigatorWidget.prototype.handleImportTiddlersEvent = function(event) {\n\t// Get the tiddlers\n\tvar tiddlers = [];\n\ttry {\n\t\ttiddlers = JSON.parse(event.param);\n\t} catch(e) {\n\t}\n\t// Get the current $:/Import tiddler\n\tvar importTitle = event.importTitle ? event.importTitle : IMPORT_TITLE,\n\t\timportTiddler = this.wiki.getTiddler(importTitle),\n\t\timportData = this.wiki.getTiddlerData(importTitle,{}),\n\t\tnewFields = new Object({\n\t\t\ttitle: importTitle,\n\t\t\ttype: \"application/json\",\n\t\t\t\"plugin-type\": \"import\",\n\t\t\t\"status\": \"pending\"\n\t\t}),\n\t\tincomingTiddlers = [];\n\t// Process each tiddler\n\timportData.tiddlers = importData.tiddlers || {};\n\t$tw.utils.each(tiddlers,function(tiddlerFields) {\n\t\ttiddlerFields.title = $tw.utils.trim(tiddlerFields.title);\n\t\tvar title = tiddlerFields.title;\n\t\tif(title) {\n\t\t\tincomingTiddlers.push(title);\n\t\t\timportData.tiddlers[title] = tiddlerFields;\n\t\t}\n\t});\n\t// Give the active upgrader modules a chance to process the incoming tiddlers\n\tvar messages = this.wiki.invokeUpgraders(incomingTiddlers,importData.tiddlers);\n\t$tw.utils.each(messages,function(message,title) {\n\t\tnewFields[\"message-\" + title] = message;\n\t});\n\t// Deselect any suppressed tiddlers\n\t$tw.utils.each(importData.tiddlers,function(tiddler,title) {\n\t\tif($tw.utils.count(tiddler) === 0) {\n\t\t\tnewFields[\"selection-\" + title] = \"unchecked\";\n\t\t\tnewFields[\"suppressed-\" + title] = \"yes\";\n\t\t}\n\t});\n\t// Save the $:/Import tiddler\n\tnewFields.text = JSON.stringify(importData,null,$tw.config.preferences.jsonSpaces);\n\tthis.wiki.addTiddler(new $tw.Tiddler(importTiddler,newFields));\n\t// Update the story and history details\n\tvar autoOpenOnImport = event.autoOpenOnImport ? event.autoOpenOnImport : this.getVariable(\"tv-auto-open-on-import\");  \n\tif(autoOpenOnImport !== \"no\") {\n\t\tvar storyList = this.getStoryList(),\n\t\t\thistory = [];\n\t\t// Add it to the story\n\t\tif(storyList &amp;&amp; storyList.indexOf(importTitle) === -1) {\n\t\t\tstoryList.unshift(importTitle);\n\t\t}\n\t\t// And to history\n\t\thistory.push(importTitle);\n\t\t// Save the updated story and history\n\t\tthis.saveStoryList(storyList);\n\t\tthis.addToHistory(history);\n\t}\n\treturn false;\n};\n\n//\nNavigatorWidget.prototype.handlePerformImportEvent = function(event) {\n\tvar self = this,\n\t\timportTiddler = this.wiki.getTiddler(event.param),\n\t\timportData = this.wiki.getTiddlerDataCached(event.param,{tiddlers: {}}),\n\t\timportReport = [];\n\t// Add the tiddlers to the store\n\timportReport.push($tw.language.getString(\"Import/Imported/Hint\") + \"\\n\");\n\t$tw.utils.each(importData.tiddlers,function(tiddlerFields) {\n\t\tvar title = tiddlerFields.title;\n\t\tif(title &amp;&amp; importTiddler &amp;&amp; importTiddler.fields[\"selection-\" + title] !== \"unchecked\") {\n\t\t\tif($tw.utils.hop(importTiddler.fields,[\"rename-\" + title])) {\n\t\t\t\tvar tiddler = new $tw.Tiddler(tiddlerFields,{title : importTiddler.fields[\"rename-\" + title]});\n\t\t\t} else {\n\t\t\t\tvar tiddler = new $tw.Tiddler(tiddlerFields);\n\t\t\t}\n\t\t\ttiddler = $tw.hooks.invokeHook(\"th-importing-tiddler\",tiddler);\n\t\t\tself.wiki.addTiddler(tiddler);\n\t\t\timportReport.push(\"# [[\" + tiddler.fields.title + \"]]\");\n\t\t}\n\t});\n\t// Replace the $:/Import tiddler with an import report\n\tthis.wiki.addTiddler(new $tw.Tiddler({\n\t\ttitle: event.param,\n\t\ttext: importReport.join(\"\\n\"),\n\t\t\"status\": \"complete\"\n\t}));\n\t// Navigate to the $:/Import tiddler\n\tthis.addToHistory([event.param]);\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \"tm-auto-save-wiki\"});\n};\n\nNavigatorWidget.prototype.handleFoldTiddlerEvent = function(event) {\n\tvar paramObject = event.paramObject || {};\n\tif(paramObject.foldedState) {\n\t\tvar foldedState = this.wiki.getTiddlerText(paramObject.foldedState,\"show\") === \"show\" ? \"hide\" : \"show\";\n\t\tthis.wiki.setText(paramObject.foldedState,\"text\",null,foldedState);\n\t}\n};\n\nNavigatorWidget.prototype.handleFoldOtherTiddlersEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {},\n\t\tprefix = paramObject.foldedStatePrefix;\n\t$tw.utils.each(this.getStoryList(),function(title) {\n\t\tself.wiki.setText(prefix + title,\"text\",null,event.param === title ? \"show\" : \"hide\");\n\t});\n};\n\nNavigatorWidget.prototype.handleFoldAllTiddlersEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {},\n\t\tprefix = paramObject.foldedStatePrefix || \"$:/state/folded/\";\n\t$tw.utils.each(this.getStoryList(),function(title) {\n\t\tself.wiki.setText(prefix + title,\"text\",null,\"hide\");\n\t});\n};\n\nNavigatorWidget.prototype.handleUnfoldAllTiddlersEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {},\n\t\tprefix = paramObject.foldedStatePrefix;\n\t$tw.utils.each(this.getStoryList(),function(title) {\n\t\tself.wiki.setText(prefix + title,\"text\",null,\"show\");\n\t});\n};\n\nNavigatorWidget.prototype.handleRenameTiddlerEvent = function(event) {\n\tvar options = {},\n\t\tparamObject = event.paramObject || {},\n\t\tfrom = paramObject.from || event.tiddlerTitle,\n\t\tto = paramObject.to;\n\toptions.dontRenameInTags = (paramObject.renameInTags === \"false\" || paramObject.renameInTags === \"no\") ? true : false;\n\toptions.dontRenameInLists = (paramObject.renameInLists === \"false\" || paramObject.renameInLists === \"no\") ? true : false;\n\tthis.wiki.renameTiddler(from,to,options);\n};\n\nexports.navigator = NavigatorWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/password.js": {
            "title": "$:/core/modules/widgets/password.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/password.js\ntype: application/javascript\nmodule-type: widget\n\nPassword widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar PasswordWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nPasswordWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nPasswordWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the current password\n\tvar password = $tw.browser ? $tw.utils.getPassword(this.passwordName) || \"\" : \"\";\n\t// Create our element\n\tvar domNode = this.document.createElement(\"input\");\n\tdomNode.setAttribute(\"type\",\"password\");\n\tdomNode.setAttribute(\"value\",password);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nPasswordWidget.prototype.handleChangeEvent = function(event) {\n\tvar password = this.domNodes[0].value;\n\treturn $tw.utils.savePassword(this.passwordName,password);\n};\n\n/*\nCompute the internal state of the widget\n*/\nPasswordWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.passwordName = this.getAttribute(\"name\",\"\");\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nPasswordWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.password = PasswordWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/qualify.js": {
            "title": "$:/core/modules/widgets/qualify.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/qualify.js\ntype: application/javascript\nmodule-type: widget\n\nQualify text to a variable \n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar QualifyWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nQualifyWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nQualifyWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nQualifyWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.qualifyName = this.getAttribute(\"name\");\n\tthis.qualifyTitle = this.getAttribute(\"title\");\n\t// Set context variable\n\tif(this.qualifyName) {\n\t\tthis.setVariable(this.qualifyName,this.qualifyTitle + \"-\" + this.getStateQualifier());\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nQualifyWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name || changedAttributes.title) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.qualify = QualifyWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/radio.js": {
            "title": "$:/core/modules/widgets/radio.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/radio.js\ntype: application/javascript\nmodule-type: widget\n\nSet a field or index at a given tiddler via radio buttons\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\nvar RadioWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRadioWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRadioWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\tvar isChecked = this.getValue() === this.radioValue;\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\"label\");\n\tthis.labelDomNode.setAttribute(\"class\",\n\t\t\"tc-radio \" + this.radioClass + (isChecked ? \" tc-radio-selected\" : \"\")\n\t);\n\tthis.inputDomNode = this.document.createElement(\"input\");\n\tthis.inputDomNode.setAttribute(\"type\",\"radio\");\n\tif(isChecked) {\n\t\tthis.inputDomNode.checked = true;\n\t}\n\tif(this.isDisabled === \"yes\") {\n\t\tthis.inputDomNode.setAttribute(\"disabled\",true);\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\"span\");\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nRadioWidget.prototype.getValue = function() {\n\tvar value,\n\t\ttiddler = this.wiki.getTiddler(this.radioTitle);\n\tif(tiddler) {\n\t\tif(this.radioIndex) {\n\t\t\tvalue = this.wiki.extractTiddlerDataItem(this.radioTitle,this.radioIndex);\n\t\t} else {\n\t\t\tvalue = tiddler.getFieldString(this.radioField);\n\t\t}\n\t} else {\n\t\tvalue = this.radioDefault;\n\t}\n\treturn value;\n};\n\nRadioWidget.prototype.setValue = function() {\n\tif(this.radioIndex) {\n\t\tthis.wiki.setText(this.radioTitle,\"\",this.radioIndex,this.radioValue);\n\t} else {\n\t\tvar tiddler = this.wiki.getTiddler(this.radioTitle),\n\t\t\taddition = {};\n\t\taddition[this.radioField] = this.radioValue;\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),{title: this.radioTitle},tiddler,addition,this.wiki.getModificationFields()));\n\t}\n};\n\nRadioWidget.prototype.handleChangeEvent = function(event) {\n\tif(this.inputDomNode.checked) {\n\t\tthis.setValue();\n\t}\n\t// Trigger actions\n\tif(this.radioActions) {\n\t\tthis.invokeActionString(this.radioActions,this,event,{\"actionValue\": this.radioValue});\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRadioWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.radioTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.radioField = this.getAttribute(\"field\",\"text\");\n\tthis.radioIndex = this.getAttribute(\"index\");\n\tthis.radioValue = this.getAttribute(\"value\");\n\tthis.radioClass = this.getAttribute(\"class\",\"\");\n\tthis.radioDefault = this.getAttribute(\"default\");\n\tthis.isDisabled = this.getAttribute(\"disabled\",\"no\");\n\tthis.radioActions = this.getAttribute(\"actions\",\"\");\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRadioWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(($tw.utils.count(changedAttributes) &gt; 0)) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedTiddlers[this.radioTitle]) {\n\t\tthis.inputDomNode.checked = this.getValue() === this.radioValue;\n\t\treturn this.refreshChildren(changedTiddlers);\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.radio = RadioWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/range.js": {
            "title": "$:/core/modules/widgets/range.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/range.js\ntype: application/javascript\nmodule-type: widget\n\nRange widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar RangeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRangeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRangeWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.inputDomNode = this.document.createElement(\"input\");\n\tthis.inputDomNode.setAttribute(\"type\",\"range\");\n\tthis.inputDomNode.setAttribute(\"class\",this.elementClass);\n\tif(this.minValue){\n\t\tthis.inputDomNode.setAttribute(\"min\", this.minValue);\n\t}\n\tif(this.maxValue){\n\t\tthis.inputDomNode.setAttribute(\"max\", this.maxValue);\n\t}\n\tif(this.increment){\n\t\tthis.inputDomNode.setAttribute(\"step\", this.increment);\n\t}\n\tif(this.isDisabled === \"yes\") {\n\t\tthis.inputDomNode.setAttribute(\"disabled\",true);\n\t}\n\tthis.inputDomNode.value = this.getValue();\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name:\"mousedown\", handlerObject:this, handlerMethod:\"handleMouseDownEvent\"},\n\t\t{name:\"mouseup\",   handlerObject:this, handlerMethod:\"handleMouseUpEvent\"},\n\t\t{name:\"change\",    handlerObject:this, handlerMethod:\"handleChangeEvent\"},\n\t\t{name:\"input\",     handlerObject:this, handlerMethod:\"handleInputEvent\"},\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.inputDomNode,nextSibling);\n\tthis.domNodes.push(this.inputDomNode);\n};\n\nRangeWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle),\n\t\tfieldName = this.tiddlerField,\n\t\tvalue = this.defaultValue;\n\tif(tiddler) {\n\t\tif(this.tiddlerIndex) {\n\t\t\tvalue = this.wiki.extractTiddlerDataItem(tiddler,this.tiddlerIndex,this.defaultValue);\n\t\t} else {\n\t\t\tif($tw.utils.hop(tiddler.fields,fieldName)) {\n\t\t\t\tvalue = tiddler.fields[fieldName] || \"\";\n\t\t\t} else {\n\t\t\t\tvalue = this.defaultValue;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\nRangeWidget.prototype.getActionVariables = function(options) {\n\toptions = options || {};\n\tvar hasChanged = (this.startValue !== this.inputDomNode.value) ? \"yes\" : \"no\";\n\t// Trigger actions. Use variables = {key:value, key:value ...}\n\t// the \"value\" is needed.\n\treturn $tw.utils.extend({\"actionValue\": this.inputDomNode.value, \"actionValueHasChanged\": hasChanged}, options);\n}\n\n// actionsStart\nRangeWidget.prototype.handleMouseDownEvent = function(event) {\n\tthis.mouseDown = true; // TODO remove once IE is gone.\n\tthis.startValue = this.inputDomNode.value; // TODO remove this line once IE is gone!\n\tthis.handleEvent(event);\n\t// Trigger actions\n\tif(this.actionsMouseDown) {\n\t\tvar variables = this.getActionVariables() // TODO this line will go into the function call below.\n\t\tthis.invokeActionString(this.actionsMouseDown,this,event,variables);\n\t}\n}\n\n// actionsStop\nRangeWidget.prototype.handleMouseUpEvent = function(event) {\n\tthis.mouseDown = false; // TODO remove once IE is gone.\n\tthis.handleEvent(event);\n\t// Trigger actions\n\tif(this.actionsMouseUp) {\n\t\tvar variables = this.getActionVariables()\n\t\tthis.invokeActionString(this.actionsMouseUp,this,event,variables);\n\t}\n\t// TODO remove the following if() once IE is gone!\n\tif ($tw.browser.isIE) {\n\t\tif (this.startValue !== this.inputDomNode.value) {\n\t\t\tthis.handleChangeEvent(event);\n\t\t\tthis.startValue = this.inputDomNode.value;\n\t\t}\n\t}\n}\n\nRangeWidget.prototype.handleChangeEvent = function(event) {\n\tif (this.mouseDown) {  // TODO refactor this function once IE is gone.\n\t\tthis.handleInputEvent(event);\n\t}\n};\n\nRangeWidget.prototype.handleInputEvent = function(event) {\n\tthis.handleEvent(event);\n\t// Trigger actions\n\tif(this.actionsInput) {\n\t\t// \"tiddler\" parameter may be missing. See .execute() below\n\t\tvar variables = this.getActionVariables({\"actionValueHasChanged\": \"yes\"}) // TODO this line will go into the function call below.\n\t\tthis.invokeActionString(this.actionsInput,this,event,variables);\n\t}\n};\n\nRangeWidget.prototype.handleEvent = function(event) {\n\tif(this.getValue() !== this.inputDomNode.value) {\n\t\tif(this.tiddlerIndex) {\n\t\t\tthis.wiki.setText(this.tiddlerTitle,\"\",this.tiddlerIndex,this.inputDomNode.value);\n\t\t} else {\n\t\t\tthis.wiki.setText(this.tiddlerTitle,this.tiddlerField,null,this.inputDomNode.value);\n\t\t}\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRangeWidget.prototype.execute = function() {\n\t// TODO remove the next 1 lines once IE is gone!\n\tthis.mouseUp = true; // Needed for IE10\n\t// Get the parameters from the attributes\n\tthis.tiddlerTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.tiddlerField = this.getAttribute(\"field\",\"text\");\n\tthis.tiddlerIndex = this.getAttribute(\"index\");\n\tthis.minValue = this.getAttribute(\"min\");\n\tthis.maxValue = this.getAttribute(\"max\");\n\tthis.increment = this.getAttribute(\"increment\");\n\tthis.defaultValue = this.getAttribute(\"default\",\"\");\n\tthis.elementClass = this.getAttribute(\"class\",\"\");\n\tthis.isDisabled = this.getAttribute(\"disabled\",\"no\");\n\t// Actions since 5.1.23\n\t// Next 2 only fire once!\n\tthis.actionsMouseDown = this.getAttribute(\"actionsStart\",\"\");\n\tthis.actionsMouseUp = this.getAttribute(\"actionsStop\",\"\");\n\t// Input fires very often!\n\tthis.actionsInput = this.getAttribute(\"actions\",\"\");\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRangeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif($tw.utils.count(changedAttributes) &gt; 0) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.tiddlerTitle]) {\n\t\t\tvar value = this.getValue();\n\t\t\tif(this.inputDomNode.value !== value) {\n\t\t\t\tthis.inputDomNode.value = value;\n\t\t\t}\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.range = RangeWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/raw.js": {
            "title": "$:/core/modules/widgets/raw.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/raw.js\ntype: application/javascript\nmodule-type: widget\n\nRaw widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar RawWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRawWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRawWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tvar div = this.document.createElement(\"div\");\n\tdiv.innerHTML=this.parseTreeNode.html;\n\tparent.insertBefore(div,nextSibling);\n\tthis.domNodes.push(div);\t\n};\n\n/*\nCompute the internal state of the widget\n*/\nRawWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRawWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.raw = RawWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/reveal.js": {
            "title": "$:/core/modules/widgets/reveal.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/reveal.js\ntype: application/javascript\nmodule-type: widget\n\nReveal widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar RevealWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRevealWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRevealWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar tag = this.parseTreeNode.isBlock ? \"div\" : \"span\";\n\tif(this.revealTag &amp;&amp; $tw.config.htmlUnsafeElements.indexOf(this.revealTag) === -1) {\n\t\ttag = this.revealTag;\n\t}\n\tvar domNode = this.document.createElement(tag);\n\tthis.domNode = domNode;\n\tthis.assignDomNodeClasses();\n\tif(this.style) {\n\t\tdomNode.setAttribute(\"style\",this.style);\n\t}\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \"popup\" &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\"tc-popup\"); // Make sure that clicks don't dismiss popups within the revealed content\n\t}\n\tif(!this.isOpen) {\n\t\tdomNode.setAttribute(\"hidden\",\"true\");\n\t}\n\tthis.domNodes.push(domNode);\n};\n\nRevealWidget.prototype.positionPopup = function(domNode) {\n\tdomNode.style.position = \"absolute\";\n\tdomNode.style.zIndex = \"1000\";\n\tvar left,top;\n\tswitch(this.position) {\n\t\tcase \"left\":\n\t\t\tleft = this.popup.left - domNode.offsetWidth;\n\t\t\ttop = this.popup.top;\n\t\t\tbreak;\n\t\tcase \"above\":\n\t\t\tleft = this.popup.left;\n\t\t\ttop = this.popup.top - domNode.offsetHeight;\n\t\t\tbreak;\n\t\tcase \"aboveright\":\n\t\t\tleft = this.popup.left + this.popup.width;\n\t\t\ttop = this.popup.top + this.popup.height - domNode.offsetHeight;\n\t\t\tbreak;\n\t\tcase \"belowright\":\n\t\t\tleft = this.popup.left + this.popup.width;\n\t\t\ttop = this.popup.top + this.popup.height;\n\t\t\tbreak;\t\t\t\n\t\tcase \"right\":\n\t\t\tleft = this.popup.left + this.popup.width;\n\t\t\ttop = this.popup.top;\n\t\t\tbreak;\n\t\tcase \"belowleft\":\n\t\t\tleft = this.popup.left + this.popup.width - domNode.offsetWidth;\n\t\t\ttop = this.popup.top + this.popup.height;\n\t\t\tbreak;\n\t\tcase \"aboveleft\":\n\t\t\tleft = this.popup.left - domNode.offsetWidth;\n\t\t\ttop = this.popup.top - domNode.offsetHeight;\n\t\t\tbreak;\t\t\t\n\t\tdefault: // Below\n\t\t\tleft = this.popup.left;\n\t\t\ttop = this.popup.top + this.popup.height;\n\t\t\tbreak;\n\t}\n\tif(!this.positionAllowNegative) {\n\t\tleft = Math.max(0,left);\n\t\ttop = Math.max(0,top);\n\t}\n\tdomNode.style.left = left + \"px\";\n\tdomNode.style.top = top + \"px\";\n};\n\n/*\nCompute the internal state of the widget\n*/\nRevealWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.state = this.getAttribute(\"state\");\n\tthis.revealTag = this.getAttribute(\"tag\");\n\tthis.type = this.getAttribute(\"type\");\n\tthis.text = this.getAttribute(\"text\");\n\tthis.position = this.getAttribute(\"position\");\n\tthis.positionAllowNegative = this.getAttribute(\"positionAllowNegative\") === \"yes\";\n\t// class attribute handled in assignDomNodeClasses()\n\tthis.style = this.getAttribute(\"style\",\"\");\n\tthis[\"default\"] = this.getAttribute(\"default\",\"\");\n\tthis.animate = this.getAttribute(\"animate\",\"no\");\n\tthis.retain = this.getAttribute(\"retain\",\"no\");\n\tthis.openAnimation = this.animate === \"no\" ? undefined : \"open\";\n\tthis.closeAnimation = this.animate === \"no\" ? undefined : \"close\";\n\tthis.updatePopupPosition = this.getAttribute(\"updatePopupPosition\",\"no\") === \"yes\";\n\t// Compute the title of the state tiddler and read it\n\tthis.stateTiddlerTitle = this.state;\n\tthis.stateTitle = this.getAttribute(\"stateTitle\");\n\tthis.stateField = this.getAttribute(\"stateField\");\n\tthis.stateIndex = this.getAttribute(\"stateIndex\");\n\tthis.readState();\n\t// Construct the child widgets\n\tvar childNodes = this.isOpen ? this.parseTreeNode.children : [];\n\tthis.hasChildNodes = this.isOpen;\n\tthis.makeChildWidgets(childNodes);\n};\n\n/*\nRead the state tiddler\n*/\nRevealWidget.prototype.readState = function() {\n\t// Read the information from the state tiddler\n\tvar state,\n\t    defaultState = this[\"default\"];\n\tif(this.stateTitle) {\n\t\tvar stateTitleTiddler = this.wiki.getTiddler(this.stateTitle);\n\t\tif(this.stateField) {\n\t\t\tstate = stateTitleTiddler ? stateTitleTiddler.getFieldString(this.stateField) || defaultState : defaultState;\n\t\t} else if(this.stateIndex) {\n\t\t\tstate = stateTitleTiddler ? this.wiki.extractTiddlerDataItem(this.stateTitle,this.stateIndex) || defaultState : defaultState;\n\t\t} else if(stateTitleTiddler) {\n\t\t\tstate = this.wiki.getTiddlerText(this.stateTitle) || defaultState;\n\t\t} else {\n\t\t\tstate = defaultState;\n\t\t}\n\t} else {\n\t\tstate = this.stateTiddlerTitle ? this.wiki.getTextReference(this.state,this[\"default\"],this.getVariable(\"currentTiddler\")) : this[\"default\"];\n\t}\n\tif(state === null) {\n\t\tstate = this[\"default\"];\n\t}\n\tswitch(this.type) {\n\t\tcase \"popup\":\n\t\t\tthis.readPopupState(state);\n\t\t\tbreak;\n\t\tcase \"match\":\n\t\t\tthis.isOpen = this.text === state;\n\t\t\tbreak;\n\t\tcase \"nomatch\":\n\t\t\tthis.isOpen = this.text !== state;\n\t\t\tbreak;\n\t\tcase \"lt\":\n\t\t\tthis.isOpen = !!(this.compareStateText(state) &lt; 0);\n\t\t\tbreak;\n\t\tcase \"gt\":\n\t\t\tthis.isOpen = !!(this.compareStateText(state) &gt; 0);\n\t\t\tbreak;\n\t\tcase \"lteq\":\n\t\t\tthis.isOpen = !(this.compareStateText(state) &gt; 0);\n\t\t\tbreak;\n\t\tcase \"gteq\":\n\t\t\tthis.isOpen = !(this.compareStateText(state) &lt; 0);\n\t\t\tbreak;\n\t}\n};\n\nRevealWidget.prototype.compareStateText = function(state) {\n\treturn state.localeCompare(this.text,undefined,{numeric: true,sensitivity: \"case\"});\n};\n\nRevealWidget.prototype.readPopupState = function(state) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/,\n\t\tmatch = popupLocationRegExp.exec(state);\n\t// Check if the state matches the location regexp\n\tif(match) {\n\t\t// If so, we're open\n\t\tthis.isOpen = true;\n\t\t// Get the location\n\t\tthis.popup = {\n\t\t\tleft: parseFloat(match[1]),\n\t\t\ttop: parseFloat(match[2]),\n\t\t\twidth: parseFloat(match[3]),\n\t\t\theight: parseFloat(match[4])\n\t\t};\n\t} else {\n\t\t// If not, we're closed\n\t\tthis.isOpen = false;\n\t}\n};\n\nRevealWidget.prototype.assignDomNodeClasses = function() {\n\tvar classes = this.getAttribute(\"class\",\"\").split(\" \");\n\tclasses.push(\"tc-reveal\");\n\tthis.domNode.className = classes.join(\" \");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRevealWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.state || changedAttributes.type || changedAttributes.text || changedAttributes.position || changedAttributes.positionAllowNegative || changedAttributes[\"default\"] || changedAttributes.animate || changedAttributes.stateTitle || changedAttributes.stateField || changedAttributes.stateIndex) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar currentlyOpen = this.isOpen;\n\t\tthis.readState();\n\t\tif(this.isOpen !== currentlyOpen) {\n\t\t\tif(this.retain === \"yes\") {\n\t\t\t\tthis.updateState();\n\t\t\t} else {\n\t\t\t\tthis.refreshSelf();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if(this.type === \"popup\" &amp;&amp; this.updatePopupPosition &amp;&amp; (changedTiddlers[this.state] || changedTiddlers[this.stateTitle])) {\n\t\t\tthis.positionPopup(this.domNode);\n\t\t}\n\t\tif(changedAttributes.style) {\n\t\t\tthis.domNode.style = this.getAttribute(\"style\",\"\");\n\t\t}\n\t\tif(changedAttributes[\"class\"]) {\n\t\t\tthis.assignDomNodeClasses();\n\t\t}\t\t\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\n/*\nCalled by refresh() to dynamically show or hide the content\n*/\nRevealWidget.prototype.updateState = function() {\n\tvar self = this;\n\t// Read the current state\n\tthis.readState();\n\t// Construct the child nodes if needed\n\tvar domNode = this.domNodes[0];\n\tif(this.isOpen &amp;&amp; !this.hasChildNodes) {\n\t\tthis.hasChildNodes = true;\n\t\tthis.makeChildWidgets(this.parseTreeNode.children);\n\t\tthis.renderChildren(domNode,null);\n\t}\n\t// Animate our DOM node\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \"popup\" &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\"tc-popup\"); // Make sure that clicks don't dismiss popups within the revealed content\n\n\t}\n\tif(this.isOpen) {\n\t\tdomNode.removeAttribute(\"hidden\");\n        $tw.anim.perform(this.openAnimation,domNode);\n\t} else {\n\t\t$tw.anim.perform(this.closeAnimation,domNode,{callback: function() {\n\t\t\t//make sure that the state hasn't changed during the close animation\n\t\t\tself.readState()\n\t\t\tif(!self.isOpen) {\n\t\t\t\tdomNode.setAttribute(\"hidden\",\"true\");\n\t\t\t}\n\t\t}});\n\t}\n};\n\nexports.reveal = RevealWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/scrollable.js": {
            "title": "$:/core/modules/widgets/scrollable.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/scrollable.js\ntype: application/javascript\nmodule-type: widget\n\nScrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ScrollableWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nScrollableWidget.prototype = new Widget();\n\nScrollableWidget.prototype.cancelScroll = function() {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(window,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle a scroll event\n*/\nScrollableWidget.prototype.handleScrollEvent = function(event) {\n\t// Pass the scroll event through if our offsetsize is larger than our scrollsize\n\tif(this.outerDomNode.scrollWidth &lt;= this.outerDomNode.offsetWidth &amp;&amp; this.outerDomNode.scrollHeight &lt;= this.outerDomNode.offsetHeight &amp;&amp; this.fallthrough === \"yes\") {\n\t\treturn true;\n\t}\n\tif(event.paramObject &amp;&amp; event.paramObject.selector) {\n\t\tthis.scrollSelectorIntoView(null,event.paramObject.selector);\n\t} else {\n\t\tthis.scrollIntoView(event.target);\t\t\t\n\t}\n\treturn false; // Handled event\n};\n\n/*\nScroll an element into view\n*/\nScrollableWidget.prototype.scrollIntoView = function(element) {\n\tvar duration = $tw.utils.getAnimationDuration(),\n\tsrcWindow = element ? element.ownerDocument.defaultView : window;\n\tthis.cancelScroll();\n\tthis.startTime = Date.now();\n\tvar scrollPosition = {\n\t\tx: this.outerDomNode.scrollLeft,\n\t\ty: this.outerDomNode.scrollTop\n\t};\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar scrollableBounds = this.outerDomNode.getBoundingClientRect(),\n\t\tclientTargetBounds = element.getBoundingClientRect(),\n\t\tbounds = {\n\t\t\tleft: clientTargetBounds.left + scrollPosition.x - scrollableBounds.left,\n\t\t\ttop: clientTargetBounds.top + scrollPosition.y - scrollableBounds.top,\n\t\t\twidth: clientTargetBounds.width,\n\t\t\theight: clientTargetBounds.height\n\t\t};\n\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\tvar getEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\t// If the target is already visible then stay where we are\n\t\t\tif(targetPos &gt;= currentPos &amp;&amp; (targetPos + targetSize) &lt;= (currentPos + currentSize)) {\n\t\t\t\treturn currentPos;\n\t\t\t// If the target is above/left of the current view, then scroll to its top/left\n\t\t\t} else if(targetPos &lt;= currentPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// If the target is smaller than the window and the scroll position is too far up, then scroll till the target is at the bottom of the window\n\t\t\t} else if(targetSize &lt; currentSize &amp;&amp; currentPos &lt; (targetPos + targetSize - currentSize)) {\n\t\t\t\treturn targetPos + targetSize - currentSize;\n\t\t\t// If the target is big, then just scroll to the top\n\t\t\t} else if(currentPos &lt; targetPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// Otherwise, stay where we are\n\t\t\t} else {\n\t\t\t\treturn currentPos;\n\t\t\t}\n\t\t},\n\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,this.outerDomNode.offsetWidth),\n\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,this.outerDomNode.offsetHeight);\n\t// Only scroll if necessary\n\tif(endX !== scrollPosition.x || endY !== scrollPosition.y) {\n\t\tvar self = this,\n\t\t\tdrawFrame;\n\t\tdrawFrame = function () {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll();\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\tself.outerDomNode.scrollLeft = scrollPosition.x + (endX - scrollPosition.x) * t;\n\t\t\tself.outerDomNode.scrollTop = scrollPosition.y + (endY - scrollPosition.y) * t;\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(srcWindow,drawFrame);\n\t\t\t}\n\t\t};\n\t\tdrawFrame();\n\t}\n};\n\nScrollableWidget.prototype.scrollSelectorIntoView = function(baseElement,selector,callback) {\n\tbaseElement = baseElement || document.body;\n\tvar element = baseElement.querySelector(selector);\n\tif(element) {\n\t\tthis.scrollIntoView(element,callback);\t\t\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nScrollableWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\tthis.scaleFactor = 1;\n\tthis.addEventListeners([\n\t\t{type: \"tm-scroll\", handler: \"handleScrollEvent\"}\n\t]);\n\tif($tw.browser) {\n\t\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t\t};\n\t\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.mozCancelRequestAnimationFrame ||\n\t\t\tfunction(id) {\n\t\t\t\twindow.clearTimeout(id);\n\t\t\t};\n\t}\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create elements\n\tthis.outerDomNode = this.document.createElement(\"div\");\n\t$tw.utils.setStyle(this.outerDomNode,[\n\t\t{overflowY: \"auto\"},\n\t\t{overflowX: \"auto\"},\n\t\t{webkitOverflowScrolling: \"touch\"}\n\t]);\n\tthis.innerDomNode = this.document.createElement(\"div\");\n\tthis.outerDomNode.appendChild(this.innerDomNode);\n\t// Assign classes\n\tthis.outerDomNode.className = this[\"class\"] || \"\";\n\t// Insert element\n\tparent.insertBefore(this.outerDomNode,nextSibling);\n\tthis.renderChildren(this.innerDomNode,null);\n\tthis.domNodes.push(this.outerDomNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nScrollableWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.fallthrough = this.getAttribute(\"fallthrough\",\"yes\");\n\tthis[\"class\"] = this.getAttribute(\"class\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nScrollableWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"class\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.scrollable = ScrollableWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/select.js": {
            "title": "$:/core/modules/widgets/select.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/select.js\ntype: application/javascript\nmodule-type: widget\n\nSelect widget:\n\n```\n&lt;$select tiddler=\"MyTiddler\" field=\"text\"&gt;\n&lt;$list filter=\"[tag[chapter]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$view field=\"description\"/&gt;\n&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar SelectWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSelectWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSelectWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\tthis.setSelectValue();\n\t$tw.utils.addEventListeners(this.getSelectDomNode(),[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n};\n\n/*\nHandle a change event\n*/\nSelectWidget.prototype.handleChangeEvent = function(event) {\n\t// Get the new value and assign it to the tiddler\n\tif(this.selectMultiple == false) {\n\t\tvar value = this.getSelectDomNode().value;\n\t} else {\n\t\tvar value = this.getSelectValues()\n\t\t\t\tvalue = $tw.utils.stringifyList(value);\n\t}\n\tthis.wiki.setText(this.selectTitle,this.selectField,this.selectIndex,value);\n\t// Trigger actions\n\tif(this.selectActions) {\n\t\tthis.invokeActionString(this.selectActions,this,event);\n\t}\n};\n\n/*\nIf necessary, set the value of the select element to the current value\n*/\nSelectWidget.prototype.setSelectValue = function() {\n\tvar value = this.selectDefault;\n\t// Get the value\n\tif(this.selectIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.selectTitle,this.selectIndex,value);\n\t} else {\n\t\tvar tiddler = this.wiki.getTiddler(this.selectTitle);\n\t\tif(tiddler) {\n\t\t\tif(this.selectField === \"text\") {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.selectTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.selectField)) {\n\t\t\t\t\tvalue = tiddler.getFieldString(this.selectField);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.selectField === \"title\") {\n\t\t\t\tvalue = this.selectTitle;\n\t\t\t}\n\t\t}\n\t}\n\t// Assign it to the select element if it's different than the current value\n\tif (this.selectMultiple) {\n\t\tvalue = value === undefined ? \"\" : value;\n\t\tvar select = this.getSelectDomNode();\n\t\tvar values = Array.isArray(value) ? value : $tw.utils.parseStringArray(value);\n\t\tfor(var i=0; i &lt; select.children.length; i++){\n\t\t\tselect.children[i].selected = values.indexOf(select.children[i].value) !== -1\n\t\t}\n\t} else {\n\t\tvar domNode = this.getSelectDomNode();\n\t\tif(domNode.value !== value) {\n\t\t\tdomNode.value = value;\n\t\t}\n\t}\n};\n\n/*\nGet the DOM node of the select element\n*/\nSelectWidget.prototype.getSelectDomNode = function() {\n\treturn this.children[0].domNodes[0];\n};\n\n// Return an array of the selected opion values\n// select is an HTML select element\nSelectWidget.prototype.getSelectValues = function() {\n\tvar select, result, options, opt;\n\tselect = this.getSelectDomNode();\n\tresult = [];\n\toptions = select &amp;&amp; select.options;\n\tfor (var i=0; i&lt;options.length; i++) {\n\t\topt = options[i];\n\t\tif (opt.selected) {\n\t\t\tresult.push(opt.value || opt.text);\n\t\t}\n\t}\n\treturn result;\n}\n\n/*\nCompute the internal state of the widget\n*/\nSelectWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.selectActions = this.getAttribute(\"actions\");\n\tthis.selectTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.selectField = this.getAttribute(\"field\",\"text\");\n\tthis.selectIndex = this.getAttribute(\"index\");\n\tthis.selectClass = this.getAttribute(\"class\");\n\tthis.selectDefault = this.getAttribute(\"default\");\n\tthis.selectMultiple = this.getAttribute(\"multiple\", false);\n\tthis.selectSize = this.getAttribute(\"size\");\n\tthis.selectTooltip = this.getAttribute(\"tooltip\");\n\t// Make the child widgets\n\tvar selectNode = {\n\t\ttype: \"element\",\n\t\ttag: \"select\",\n\t\tchildren: this.parseTreeNode.children\n\t};\n\tif(this.selectClass) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\"class\",this.selectClass);\n\t}\n\tif(this.selectMultiple) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\"multiple\",\"multiple\");\n\t}\n\tif(this.selectSize) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\"size\",this.selectSize);\n\t}\n\tif(this.selectTooltip) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\"title\",this.selectTooltip);\n\t}\n\tthis.makeChildWidgets([selectNode]);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSelectWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// If we're using a different tiddler/field/index then completely refresh ourselves\n\tif(changedAttributes.selectTitle || changedAttributes.selectField || changedAttributes.selectIndex || changedAttributes.selectTooltip) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t// If the target tiddler value has changed, just update setting and refresh the children\n\t} else {\n\t\tvar childrenRefreshed = this.refreshChildren(changedTiddlers);\n\t\tif(changedTiddlers[this.selectTitle] || childrenRefreshed) {\n\t\t\tthis.setSelectValue();\n\t\t} \n\t\treturn childrenRefreshed;\n\t}\n};\n\nexports.select = SelectWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/set.js": {
            "title": "$:/core/modules/widgets/set.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/set.js\ntype: application/javascript\nmodule-type: widget\n\nSet variable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar SetWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSetWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSetWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nSetWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.setName = this.getAttribute(\"name\",\"currentTiddler\");\n\tthis.setFilter = this.getAttribute(\"filter\");\n\tthis.setSelect = this.getAttribute(\"select\");\n\tthis.setTiddler = this.getAttribute(\"tiddler\");\n\tthis.setSubTiddler = this.getAttribute(\"subtiddler\");\n\tthis.setField = this.getAttribute(\"field\");\n\tthis.setIndex = this.getAttribute(\"index\");\n\tthis.setValue = this.getAttribute(\"value\");\n\tthis.setEmptyValue = this.getAttribute(\"emptyValue\");\n\t// Set context variable\n\tthis.setVariable(this.setName,this.getValue(),this.parseTreeNode.params,!!this.parseTreeNode.isMacroDefinition);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nGet the value to be assigned\n*/\nSetWidget.prototype.getValue = function() {\n\tvar value = this.setValue;\n\tif(this.setTiddler) {\n\t\tvar tiddler;\n\t\tif(this.setSubTiddler) {\n\t\t\ttiddler = this.wiki.getSubTiddler(this.setTiddler,this.setSubTiddler);\n\t\t} else {\n\t\t\ttiddler = this.wiki.getTiddler(this.setTiddler);\t\t\t\n\t\t}\n\t\tif(!tiddler) {\n\t\t\tvalue = this.setEmptyValue;\n\t\t} else if(this.setField) {\n\t\t\tvalue = tiddler.getFieldString(this.setField) || this.setEmptyValue;\n\t\t} else if(this.setIndex) {\n\t\t\tvalue = this.wiki.extractTiddlerDataItem(this.setTiddler,this.setIndex,this.setEmptyValue);\n\t\t} else {\n\t\t\tvalue = tiddler.fields.text || this.setEmptyValue ;\n\t\t}\n\t} else if(this.setFilter) {\n\t\tvar results = this.wiki.filterTiddlers(this.setFilter,this);\n\t\tif(this.setValue == null) {\n\t\t\tvar select;\n\t\t\tif(this.setSelect) {\n\t\t\t\tselect = parseInt(this.setSelect,10);\n\t\t\t}\n\t\t\tif(select !== undefined) {\n\t\t\t\tvalue = results[select] || \"\";\n\t\t\t} else {\n\t\t\t\tvalue = $tw.utils.stringifyList(results);\t\t\t\n\t\t\t}\n\t\t}\n\t\tif(results.length === 0 &amp;&amp; this.setEmptyValue !== undefined) {\n\t\t\tvalue = this.setEmptyValue;\n\t\t}\n\t} else if(!value &amp;&amp; this.setEmptyValue) {\n\t\tvalue = this.setEmptyValue;\n\t}\n\treturn value || \"\";\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSetWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name || changedAttributes.filter || changedAttributes.select || changedAttributes.tiddler || (this.setTiddler &amp;&amp; changedTiddlers[this.setTiddler]) || changedAttributes.field || changedAttributes.index || changedAttributes.value || changedAttributes.emptyValue ||\n\t   (this.setFilter &amp;&amp; this.getValue() != this.variables[this.setName].value)) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.setvariable = SetWidget;\nexports.set = SetWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/text.js": {
            "title": "$:/core/modules/widgets/text.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/text.js\ntype: application/javascript\nmodule-type: widget\n\nText node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar TextNodeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTextNodeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTextNodeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar text = this.getAttribute(\"text\",this.parseTreeNode.text || \"\");\n\ttext = text.replace(/\\r/mg,\"\");\n\tvar textNode = this.document.createTextNode(text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTextNodeWidget.prototype.execute = function() {\n\t// Nothing to do for a text node\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTextNodeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.text) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.text = TextNodeWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/tiddler.js": {
            "title": "$:/core/modules/widgets/tiddler.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/tiddler.js\ntype: application/javascript\nmodule-type: widget\n\nTiddler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar TiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTiddlerWidget.prototype.execute = function() {\n\tthis.tiddlerState = this.computeTiddlerState();\n\tthis.setVariable(\"currentTiddler\",this.tiddlerState.currentTiddler);\n\tthis.setVariable(\"missingTiddlerClass\",this.tiddlerState.missingTiddlerClass);\n\tthis.setVariable(\"shadowTiddlerClass\",this.tiddlerState.shadowTiddlerClass);\n\tthis.setVariable(\"systemTiddlerClass\",this.tiddlerState.systemTiddlerClass);\n\tthis.setVariable(\"tiddlerTagClasses\",this.tiddlerState.tiddlerTagClasses);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nCompute the tiddler state flags\n*/\nTiddlerWidget.prototype.computeTiddlerState = function() {\n\t// Get our parameters\n\tthis.tiddlerTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\t// Compute the state\n\tvar state = {\n\t\tcurrentTiddler: this.tiddlerTitle || \"\",\n\t\tmissingTiddlerClass: (this.wiki.tiddlerExists(this.tiddlerTitle) || this.wiki.isShadowTiddler(this.tiddlerTitle)) ? \"tc-tiddler-exists\" : \"tc-tiddler-missing\",\n\t\tshadowTiddlerClass: this.wiki.isShadowTiddler(this.tiddlerTitle) ? \"tc-tiddler-shadow\" : \"\",\n\t\tsystemTiddlerClass: this.wiki.isSystemTiddler(this.tiddlerTitle) ? \"tc-tiddler-system\" : \"\",\n\t\ttiddlerTagClasses: this.getTagClasses()\n\t};\n\t// Compute a simple hash to make it easier to detect changes\n\tstate.hash = state.currentTiddler + state.missingTiddlerClass + state.shadowTiddlerClass + state.systemTiddlerClass + state.tiddlerTagClasses;\n\treturn state;\n};\n\n/*\nCreate a string of CSS classes derived from the tags of the current tiddler\n*/\nTiddlerWidget.prototype.getTagClasses = function() {\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle);\n\tif(tiddler) {\n\t\tvar tags = [];\n\t\t$tw.utils.each(tiddler.fields.tags,function(tag) {\n\t\t\ttags.push(\"tc-tagged-\" + encodeURIComponent(tag));\n\t\t});\n\t\treturn tags.join(\" \");\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\tnewTiddlerState = this.computeTiddlerState();\n\tif(changedAttributes.tiddler || newTiddlerState.hash !== this.tiddlerState.hash) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.tiddler = TiddlerWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/transclude.js": {
            "title": "$:/core/modules/widgets/transclude.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/transclude.js\ntype: application/javascript\nmodule-type: widget\n\nTransclude widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar TranscludeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTranscludeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTranscludeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTranscludeWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.transcludeTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.transcludeSubTiddler = this.getAttribute(\"subtiddler\");\n\tthis.transcludeField = this.getAttribute(\"field\");\n\tthis.transcludeIndex = this.getAttribute(\"index\");\n\tthis.transcludeMode = this.getAttribute(\"mode\");\n\tthis.recursionMarker = this.getAttribute(\"recursionMarker\",\"yes\");\n\t// Parse the text reference\n\tvar parseAsInline = !this.parseTreeNode.isBlock;\n\tif(this.transcludeMode === \"inline\") {\n\t\tparseAsInline = true;\n\t} else if(this.transcludeMode === \"block\") {\n\t\tparseAsInline = false;\n\t}\n\tvar parser = this.wiki.parseTextReference(\n\t\t\t\t\t\tthis.transcludeTitle,\n\t\t\t\t\t\tthis.transcludeField,\n\t\t\t\t\t\tthis.transcludeIndex,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparseAsInline: parseAsInline,\n\t\t\t\t\t\t\tsubTiddler: this.transcludeSubTiddler\n\t\t\t\t\t\t}),\n\t\tparseTreeNodes = parser ? parser.tree : this.parseTreeNode.children;\n\t// Set context variables for recursion detection\n\tvar recursionMarker = this.makeRecursionMarker();\n\tif(this.recursionMarker === \"yes\") {\n\t\tthis.setVariable(\"transclusion\",recursionMarker);\n\t}\n\t// Check for recursion\n\tif(parser) {\n\t\tif(this.parentWidget &amp;&amp; this.parentWidget.hasVariable(\"transclusion\",recursionMarker)) {\n\t\t\tparseTreeNodes = [{type: \"element\", tag: \"span\", attributes: {\n\t\t\t\t\"class\": {type: \"string\", value: \"tc-error\"}\n\t\t\t}, children: [\n\t\t\t\t{type: \"text\", text: $tw.language.getString(\"Error/RecursiveTransclusion\")}\n\t\t\t]}];\n\t\t}\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nCompose a string comprising the title, field and/or index to identify this transclusion for recursion detection\n*/\nTranscludeWidget.prototype.makeRecursionMarker = function() {\n\tvar output = [];\n\toutput.push(\"{\");\n\toutput.push(this.getVariable(\"currentTiddler\",{defaultValue: \"\"}));\n\toutput.push(\"|\");\n\toutput.push(this.transcludeTitle || \"\");\n\toutput.push(\"|\");\n\toutput.push(this.transcludeField || \"\");\n\toutput.push(\"|\");\n\toutput.push(this.transcludeIndex || \"\");\n\toutput.push(\"|\");\n\toutput.push(this.transcludeSubTiddler || \"\");\n\toutput.push(\"}\");\n\treturn output.join(\"\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTranscludeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedTiddlers[this.transcludeTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.transclude = TranscludeWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/vars.js": {
            "title": "$:/core/modules/widgets/vars.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/vars.js\ntype: application/javascript\nmodule-type: widget\n\nThis widget allows multiple variables to be set in one go:\n\n```\n\\define helloworld() Hello world!\n&lt;$vars greeting=\"Hi\" me={{!!title}} sentence=&lt;&lt;helloworld&gt;&gt;&gt;\n  &lt;&lt;greeting&gt;&gt;! I am &lt;&lt;me&gt;&gt; and I say: &lt;&lt;sentence&gt;&gt;\n&lt;/$vars&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar VarsWidget = function(parseTreeNode,options) {\n\t// Initialise\t\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nVarsWidget.prototype = Object.create(Widget.prototype);\n\n/*\nRender this widget into the DOM\n*/\nVarsWidget.prototype.render = function(parent,nextSibling) {\n\t// Call the constructor\n\tWidget.call(this);\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nVarsWidget.prototype.execute = function() {\n\t// Parse variables\n\tvar self = this;\n\t$tw.utils.each(this.attributes,function(val,key) {\n\t\tif(key.charAt(0) !== \"$\") {\n\t\t\tself.setVariable(key,val);\n\t\t}\n\t});\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nVarsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(Object.keys(changedAttributes).length) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports[\"vars\"] = VarsWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/view.js": {
            "title": "$:/core/modules/widgets/view.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/view.js\ntype: application/javascript\nmodule-type: widget\n\nView widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ViewWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nViewWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nViewWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tif(this.text) {\n\t\tvar textNode = this.document.createTextNode(this.text);\n\t\tparent.insertBefore(textNode,nextSibling);\n\t\tthis.domNodes.push(textNode);\n\t} else {\n\t\tthis.makeChildWidgets();\n\t\tthis.renderChildren(parent,nextSibling);\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nViewWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.viewTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.viewSubtiddler = this.getAttribute(\"subtiddler\");\n\tthis.viewField = this.getAttribute(\"field\",\"text\");\n\tthis.viewIndex = this.getAttribute(\"index\");\n\tthis.viewFormat = this.getAttribute(\"format\",\"text\");\n\tthis.viewTemplate = this.getAttribute(\"template\",\"\");\n\tthis.viewMode = this.getAttribute(\"mode\",\"block\");\n\tswitch(this.viewFormat) {\n\t\tcase \"htmlwikified\":\n\t\t\tthis.text = this.getValueAsHtmlWikified(this.viewMode);\n\t\t\tbreak;\n\t\tcase \"plainwikified\":\n\t\t\tthis.text = this.getValueAsPlainWikified(this.viewMode);\n\t\t\tbreak;\n\t\tcase \"htmlencodedplainwikified\":\n\t\t\tthis.text = this.getValueAsHtmlEncodedPlainWikified(this.viewMode);\n\t\t\tbreak;\n\t\tcase \"htmlencoded\":\n\t\t\tthis.text = this.getValueAsHtmlEncoded();\n\t\t\tbreak;\n\t\tcase \"htmltextencoded\":\n\t\t\tthis.text = this.getValueAsHtmlTextEncoded();\n\t\t\tbreak;\n\t\tcase \"urlencoded\":\n\t\t\tthis.text = this.getValueAsUrlEncoded();\n\t\t\tbreak;\n\t\tcase \"doubleurlencoded\":\n\t\t\tthis.text = this.getValueAsDoubleUrlEncoded();\n\t\t\tbreak;\n\t\tcase \"date\":\n\t\t\tthis.text = this.getValueAsDate(this.viewTemplate);\n\t\t\tbreak;\n\t\tcase \"relativedate\":\n\t\t\tthis.text = this.getValueAsRelativeDate();\n\t\t\tbreak;\n\t\tcase \"stripcomments\":\n\t\t\tthis.text = this.getValueAsStrippedComments();\n\t\t\tbreak;\n\t\tcase \"jsencoded\":\n\t\t\tthis.text = this.getValueAsJsEncoded();\n\t\t\tbreak;\n\t\tdefault: // \"text\"\n\t\t\tthis.text = this.getValueAsText();\n\t\t\tbreak;\n\t}\n};\n\n/*\nThe various formatter functions are baked into this widget for the moment. Eventually they will be replaced by macro functions\n*/\n\n/*\nRetrieve the value of the widget. Options are:\nasString: Optionally return the value as a string\n*/\nViewWidget.prototype.getValue = function(options) {\n\toptions = options || {};\n\tvar value = options.asString ? \"\" : undefined;\n\tif(this.viewIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.viewTitle,this.viewIndex);\n\t} else {\n\t\tvar tiddler;\n\t\tif(this.viewSubtiddler) {\n\t\t\ttiddler = this.wiki.getSubTiddler(this.viewTitle,this.viewSubtiddler);\t\n\t\t} else {\n\t\t\ttiddler = this.wiki.getTiddler(this.viewTitle);\n\t\t}\n\t\tif(tiddler) {\n\t\t\tif(this.viewField === \"text\" &amp;&amp; !this.viewSubtiddler) {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.viewTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.viewField)) {\n\t\t\t\t\tif(options.asString) {\n\t\t\t\t\t\tvalue = tiddler.getFieldString(this.viewField);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = tiddler.fields[this.viewField];\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.viewField === \"title\") {\n\t\t\t\tvalue = this.viewTitle;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\nViewWidget.prototype.getValueAsText = function() {\n\treturn this.getValue({asString: true});\n};\n\nViewWidget.prototype.getValueAsHtmlWikified = function(mode) {\n\treturn this.wiki.renderText(\"text/html\",\"text/vnd.tiddlywiki\",this.getValueAsText(),{\n\t\tparseAsInline: mode !== \"block\",\n\t\tparentWidget: this\n\t});\n};\n\nViewWidget.prototype.getValueAsPlainWikified = function(mode) {\n\treturn this.wiki.renderText(\"text/plain\",\"text/vnd.tiddlywiki\",this.getValueAsText(),{\n\t\tparseAsInline: mode !== \"block\",\n\t\tparentWidget: this\n\t});\n};\n\nViewWidget.prototype.getValueAsHtmlEncodedPlainWikified = function(mode) {\n\treturn $tw.utils.htmlEncode(this.wiki.renderText(\"text/plain\",\"text/vnd.tiddlywiki\",this.getValueAsText(),{\n\t\tparseAsInline: mode !== \"block\",\n\t\tparentWidget: this\n\t}));\n};\n\nViewWidget.prototype.getValueAsHtmlEncoded = function() {\n\treturn $tw.utils.htmlEncode(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsHtmlTextEncoded = function() {\n\treturn $tw.utils.htmlTextEncode(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsUrlEncoded = function() {\n\treturn encodeURIComponent(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsDoubleUrlEncoded = function() {\n\treturn encodeURIComponent(encodeURIComponent(this.getValueAsText()));\n};\n\nViewWidget.prototype.getValueAsDate = function(format) {\n\tformat = format || \"YYYY MM DD 0hh:0mm\";\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \"Invalid Date\") {\n\t\treturn $tw.utils.formatDateString(value,format);\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\nViewWidget.prototype.getValueAsRelativeDate = function(format) {\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \"Invalid Date\") {\n\t\treturn $tw.utils.getRelativeDate((new Date()) - (new Date(value))).description;\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\nViewWidget.prototype.getValueAsStrippedComments = function() {\n\tvar lines = this.getValueAsText().split(\"\\n\"),\n\t\tout = [];\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar text = lines[line];\n\t\tif(!/^\\s*\\/\\/#/.test(text)) {\n\t\t\tout.push(text);\n\t\t}\n\t}\n\treturn out.join(\"\\n\");\n};\n\nViewWidget.prototype.getValueAsJsEncoded = function() {\n\treturn $tw.utils.stringify(this.getValueAsText());\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nViewWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes.template || changedAttributes.format || changedTiddlers[this.viewTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.view = ViewWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/widget.js": {
            "title": "$:/core/modules/widgets/widget.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/widget.js\ntype: application/javascript\nmodule-type: widget\n\nWidget base class\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nCreate a widget object for a parse tree node\n\tparseTreeNode: reference to the parse tree node to be rendered\n\toptions: see below\nOptions include:\n\twiki: mandatory reference to wiki associated with this render tree\n\tparentWidget: optional reference to a parent renderer node for the context chain\n\tdocument: optional document object to use instead of global document\n*/\nvar Widget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInitialise widget properties. These steps are pulled out of the constructor so that we can reuse them in subclasses\n*/\nWidget.prototype.initialise = function(parseTreeNode,options) {\n\t// Bail if parseTreeNode is undefined, meaning  that the widget constructor was called without any arguments so that it can be subclassed\n\tif(parseTreeNode === undefined) {\n\t\treturn;\n\t}\n\toptions = options || {};\n\t// Save widget info\n\tthis.parseTreeNode = parseTreeNode;\n\tthis.wiki = options.wiki;\n\tthis.parentWidget = options.parentWidget;\n\tthis.variablesConstructor = function() {};\n\tthis.variablesConstructor.prototype = this.parentWidget ? this.parentWidget.variables : {};\n\tthis.variables = new this.variablesConstructor();\n\tthis.document = options.document;\n\tthis.attributes = {};\n\tthis.children = [];\n\tthis.domNodes = [];\n\tthis.eventListeners = {};\n\t// Hashmap of the widget classes\n\tif(!this.widgetClasses) {\n\t\t// Get widget classes\n\t\tWidget.prototype.widgetClasses = $tw.modules.applyMethods(\"widget\");\n\t\t// Process any subclasses\n\t\t$tw.modules.forEachModuleOfType(\"widget-subclass\",function(title,module) {\n\t\t\tif(module.baseClass) {\n\t\t\t\tvar baseClass = Widget.prototype.widgetClasses[module.baseClass];\n\t\t\t\tif(!baseClass) {\n\t\t\t\t\tthrow \"Module '\" + title + \"' is attemping to extend a non-existent base class '\" + module.baseClass + \"'\";\n\t\t\t\t}\n\t\t\t\tvar subClass = module.constructor;\n\t\t\t\tsubClass.prototype = new baseClass();\n\t\t\t\t$tw.utils.extend(subClass.prototype,module.prototype);\n\t\t\t\tWidget.prototype.widgetClasses[module.name || module.baseClass] = subClass;\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nWidget.prototype.execute = function() {\n\tthis.makeChildWidgets();\n};\n\n/*\nSet the value of a context variable\nname: name of the variable\nvalue: value of the variable\nparams: array of {name:, default:} for each parameter\nisMacroDefinition: true if the variable is set via a \\define macro pragma (and hence should have variable substitution performed)\n*/\nWidget.prototype.setVariable = function(name,value,params,isMacroDefinition) {\n\tthis.variables[name] = {value: value, params: params, isMacroDefinition: !!isMacroDefinition};\n};\n\n/*\nGet the prevailing value of a context variable\nname: name of variable\noptions: see below\nOptions include\nparams: array of {name:, value:} for each parameter\ndefaultValue: default value if the variable is not defined\n\nReturns an object with the following fields:\n\nparams: array of {name:,value:} of parameters passed to wikitext variables\ntext: text of variable, with parameters properly substituted\n*/\nWidget.prototype.getVariableInfo = function(name,options) {\n\toptions = options || {};\n\tvar actualParams = options.params || [],\n\t\tparentWidget = this.parentWidget;\n\t// Check for the variable defined in the parent widget (or an ancestor in the prototype chain)\n\tif(parentWidget &amp;&amp; name in parentWidget.variables) {\n\t\tvar variable = parentWidget.variables[name],\n\t\t\toriginalValue = variable.value,\n\t\t\tvalue = originalValue,\n\t\t\tparams = this.resolveVariableParameters(variable.params,actualParams);\n\t\t// Substitute any parameters specified in the definition\n\t\t$tw.utils.each(params,function(param) {\n\t\t\tvalue = $tw.utils.replaceString(value,new RegExp(\"\\\\$\" + $tw.utils.escapeRegExp(param.name) + \"\\\\$\",\"mg\"),param.value);\n\t\t});\n\t\t// Only substitute variable references if this variable was defined with the \\define pragma\n\t\tif(variable.isMacroDefinition) {\n\t\t\tvalue = this.substituteVariableReferences(value);\t\t\t\n\t\t}\n\t\treturn {\n\t\t\ttext: value,\n\t\t\tparams: params,\n\t\t\tsrcVariable: variable,\n\t\t\tisCacheable: originalValue === value\n\t\t};\n\t}\n\t// If the variable doesn't exist in the parent widget then look for a macro module\n\treturn {\n\t\ttext: this.evaluateMacroModule(name,actualParams,options.defaultValue)\n\t};\n};\n\n/*\nSimplified version of getVariableInfo() that just returns the text\n*/\nWidget.prototype.getVariable = function(name,options) {\n\treturn this.getVariableInfo(name,options).text;\n};\n\nWidget.prototype.resolveVariableParameters = function(formalParams,actualParams) {\n\tformalParams = formalParams || [];\n\tactualParams = actualParams || [];\n\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\tparamInfo, paramValue,\n\t\tresults = [];\n\t// Step through each of the parameters in the macro definition\n\tfor(var p=0; p&lt;formalParams.length; p++) {\n\t\t// Check if we've got a macro call parameter with the same name\n\t\tparamInfo = formalParams[p];\n\t\tparamValue = undefined;\n\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t}\n\t\t}\n\t\t// If not, use the next available anonymous macro call parameter\n\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\tnextAnonParameter++;\n\t\t}\n\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t}\n\t\t// If we've still not got a value, use the default, if any\n\t\tparamValue = paramValue || paramInfo[\"default\"] || \"\";\n\t\t// Store the parameter name and value\n\t\tresults.push({name: paramInfo.name, value: paramValue});\n\t}\n\treturn results;\n};\n\nWidget.prototype.substituteVariableReferences = function(text) {\n\tvar self = this;\n\treturn (text || \"\").replace(/\\$\\(([^\\)\\$]+)\\)\\$/g,function(match,p1,offset,string) {\n\t\treturn self.getVariable(p1,{defaultValue: \"\"});\n\t});\n};\n\nWidget.prototype.evaluateMacroModule = function(name,actualParams,defaultValue) {\n\tif($tw.utils.hop($tw.macros,name)) {\n\t\tvar macro = $tw.macros[name],\n\t\t\targs = [];\n\t\tif(macro.params.length &gt; 0) {\n\t\t\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\t\t\tparamInfo, paramValue;\n\t\t\t// Step through each of the parameters in the macro definition\n\t\t\tfor(var p=0; p&lt;macro.params.length; p++) {\n\t\t\t\t// Check if we've got a macro call parameter with the same name\n\t\t\t\tparamInfo = macro.params[p];\n\t\t\t\tparamValue = undefined;\n\t\t\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If not, use the next available anonymous macro call parameter\n\t\t\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\t\t\tnextAnonParameter++;\n\t\t\t\t}\n\t\t\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t\t\t}\n\t\t\t\t// If we've still not got a value, use the default, if any\n\t\t\t\tparamValue = paramValue || paramInfo[\"default\"] || \"\";\n\t\t\t\t// Save the parameter\n\t\t\t\targs.push(paramValue);\n\t\t\t}\n\t\t}\n\t\telse for(var i=0; i&lt;actualParams.length; ++i) {\n\t\t\targs.push(actualParams[i].value);\n\t\t}\n\t\treturn (macro.run.apply(this,args) || \"\").toString();\n\t} else {\n\t\treturn defaultValue;\n\t}\n};\n\n/*\nCheck whether a given context variable value exists in the parent chain\n*/\nWidget.prototype.hasVariable = function(name,value) {\n\tvar node = this;\n\twhile(node) {\n\t\tif($tw.utils.hop(node.variables,name) &amp;&amp; node.variables[name].value === value) {\n\t\t\treturn true;\n\t\t}\n\t\tnode = node.parentWidget;\n\t}\n\treturn false;\n};\n\n/*\nConstruct a qualifying string based on a hash of concatenating the values of a given variable in the parent chain\n*/\nWidget.prototype.getStateQualifier = function(name) {\n\tthis.qualifiers = this.qualifiers || Object.create(null);\n\tname = name || \"transclusion\";\n\tif(this.qualifiers[name]) {\n\t\treturn this.qualifiers[name];\n\t} else {\n\t\tvar output = [],\n\t\t\tnode = this;\n\t\twhile(node &amp;&amp; node.parentWidget) {\n\t\t\tif($tw.utils.hop(node.parentWidget.variables,name)) {\n\t\t\t\toutput.push(node.getVariable(name));\n\t\t\t}\n\t\t\tnode = node.parentWidget;\n\t\t}\n\t\tvar value = $tw.utils.hashString(output.join(\"\"));\n\t\tthis.qualifiers[name] = value;\n\t\treturn value;\n\t}\n};\n\n/*\nCompute the current values of the attributes of the widget. Returns a hashmap of the names of the attributes that have changed\n*/\nWidget.prototype.computeAttributes = function() {\n\tvar changedAttributes = {},\n\t\tself = this,\n\t\tvalue;\n\t$tw.utils.each(this.parseTreeNode.attributes,function(attribute,name) {\n\t\tif(attribute.type === \"filtered\") {\n\t\t\tvalue = self.wiki.filterTiddlers(attribute.filter,self)[0] || \"\";\n\t\t} else if(attribute.type === \"indirect\") {\n\t\t\tvalue = self.wiki.getTextReference(attribute.textReference,\"\",self.getVariable(\"currentTiddler\"));\n\t\t} else if(attribute.type === \"macro\") {\n\t\t\tvalue = self.getVariable(attribute.value.name,{params: attribute.value.params});\n\t\t} else { // String attribute\n\t\t\tvalue = attribute.value;\n\t\t}\n\t\t// Check whether the attribute has changed\n\t\tif(self.attributes[name] !== value) {\n\t\t\tself.attributes[name] = value;\n\t\t\tchangedAttributes[name] = true;\n\t\t}\n\t});\n\treturn changedAttributes;\n};\n\n/*\nCheck for the presence of an attribute\n*/\nWidget.prototype.hasAttribute = function(name) {\n\treturn $tw.utils.hop(this.attributes,name);\n};\n\n/*\nGet the value of an attribute\n*/\nWidget.prototype.getAttribute = function(name,defaultText) {\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\treturn this.attributes[name];\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nAssign the computed attributes of the widget to a domNode\noptions include:\nexcludeEventAttributes: ignores attributes whose name begins with \"on\"\n*/\nWidget.prototype.assignAttributes = function(domNode,options) {\n\toptions = options || {};\n\tvar self = this;\n\t$tw.utils.each(this.attributes,function(v,a) {\n\t\t// Check exclusions\n\t\tif(options.excludeEventAttributes &amp;&amp; a.substr(0,2) === \"on\") {\n\t\t\tv = undefined;\n\t\t}\n\t\tif(v !== undefined) {\n\t\t\tvar b = a.split(\":\");\n\t\t\t// Setting certain attributes can cause a DOM error (eg xmlns on the svg element)\n\t\t\ttry {\n\t\t\t\tif (b.length == 2 &amp;&amp; b[0] == \"xlink\"){\n\t\t\t\t\tdomNode.setAttributeNS(\"http://www.w3.org/1999/xlink\",b[1],v);\n\t\t\t\t} else {\n\t\t\t\t\tdomNode.setAttributeNS(null,a,v);\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nMake child widgets correspondng to specified parseTreeNodes\n*/\nWidget.prototype.makeChildWidgets = function(parseTreeNodes,options) {\n\toptions = options || {};\n\tthis.children = [];\n\tvar self = this;\n\t// Create set variable widgets for each variable\n\t$tw.utils.each(options.variables,function(value,name) {\n\t\tvar setVariableWidget = {\n\t\t\ttype: \"set\",\n\t\t\tattributes: {\n\t\t\t\tname: {type: \"string\", value: name},\n\t\t\t\tvalue: {type: \"string\", value: value}\n\t\t\t},\n\t\t\tchildren: parseTreeNodes\n\t\t};\n\t\tparseTreeNodes = [setVariableWidget];\n\t});\n\t$tw.utils.each(parseTreeNodes || (this.parseTreeNode &amp;&amp; this.parseTreeNode.children),function(childNode) {\n\t\tself.children.push(self.makeChildWidget(childNode));\n\t});\n};\n\n/*\nConstruct the widget object for a parse tree node\noptions include:\n\tvariables: optional hashmap of variables to wrap around the widget\n*/\nWidget.prototype.makeChildWidget = function(parseTreeNode,options) {\n\toptions = options || {};\n\tvar WidgetClass = this.widgetClasses[parseTreeNode.type];\n\tif(!WidgetClass) {\n\t\tWidgetClass = this.widgetClasses.text;\n\t\tparseTreeNode = {type: \"text\", text: \"Undefined widget '\" + parseTreeNode.type + \"'\"};\n\t}\n\t// Create set variable widgets for each variable\n\t$tw.utils.each(options.variables,function(value,name) {\n\t\tvar setVariableWidget = {\n\t\t\ttype: \"set\",\n\t\t\tattributes: {\n\t\t\t\tname: {type: \"string\", value: name},\n\t\t\t\tvalue: {type: \"string\", value: value}\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\tparseTreeNode\n\t\t\t]\n\t\t};\n\t\tparseTreeNode = setVariableWidget;\n\t});\n\treturn new WidgetClass(parseTreeNode,{\n\t\twiki: this.wiki,\n\t\tparentWidget: this,\n\t\tdocument: this.document\n\t});\n};\n\n/*\nGet the next sibling of this widget\n*/\nWidget.prototype.nextSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &lt; this.parentWidget.children.length-1) {\n\t\t\treturn this.parentWidget.children[index+1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nGet the previous sibling of this widget\n*/\nWidget.prototype.previousSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &gt; 0) {\n\t\t\treturn this.parentWidget.children[index-1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRender the children of this widget into the DOM\n*/\nWidget.prototype.renderChildren = function(parent,nextSibling) {\n\tvar children = this.children;\n\tfor(var i = 0; i &lt; children.length; i++) {\n\t\tchildren[i].render(parent,nextSibling);\n\t};\n};\n\n/*\nAdd a list of event listeners from an array [{type:,handler:},...]\n*/\nWidget.prototype.addEventListeners = function(listeners) {\n\tvar self = this;\n\t$tw.utils.each(listeners,function(listenerInfo) {\n\t\tself.addEventListener(listenerInfo.type,listenerInfo.handler);\n\t});\n};\n\n/*\nAdd an event listener\n*/\nWidget.prototype.addEventListener = function(type,handler) {\n\tvar self = this;\n\tif(typeof handler === \"string\") { // The handler is a method name on this widget\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn self[handler].call(self,event);\n\t\t};\n\t} else { // The handler is a function\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn handler.call(self,event);\n\t\t};\n\t}\n};\n\n/*\nDispatch an event to a widget. If the widget doesn't handle the event then it is also dispatched to the parent widget\n*/\nWidget.prototype.dispatchEvent = function(event) {\n\tevent.widget = event.widget || this;\n\t// Dispatch the event if this widget handles it\n\tvar listener = this.eventListeners[event.type];\n\tif(listener) {\n\t\t// Don't propagate the event if the listener returned false\n\t\tif(!listener(event)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Dispatch the event to the parent widget\n\tif(this.parentWidget) {\n\t\treturn this.parentWidget.dispatchEvent(event);\n\t}\n\treturn true;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nRebuild a previously rendered widget\n*/\nWidget.prototype.refreshSelf = function() {\n\tvar nextSibling = this.findNextSiblingDomNode();\n\tthis.removeChildDomNodes();\n\tthis.render(this.parentDomNode,nextSibling);\n};\n\n/*\nRefresh all the children of a widget\n*/\nWidget.prototype.refreshChildren = function(changedTiddlers) {\n\tvar children = this.children,\n\t\trefreshed = false;\n\tfor (var i = 0; i &lt; children.length; i++) {\n\t\trefreshed = children[i].refresh(changedTiddlers) || refreshed;\n\t}\n\treturn refreshed;\n};\n\n/*\nFind the next sibling in the DOM to this widget. This is done by scanning the widget tree through all next siblings and their descendents that share the same parent DOM node\n*/\nWidget.prototype.findNextSiblingDomNode = function(startIndex) {\n\t// Refer to this widget by its index within its parents children\n\tvar parent = this.parentWidget,\n\t\tindex = startIndex !== undefined ? startIndex : parent.children.indexOf(this);\nif(index === -1) {\n\tthrow \"node not found in parents children\";\n}\n\t// Look for a DOM node in the later siblings\n\twhile(++index &lt; parent.children.length) {\n\t\tvar domNode = parent.children[index].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\t// Go back and look for later siblings of our parent if it has the same parent dom node\n\tvar grandParent = parent.parentWidget;\n\tif(grandParent &amp;&amp; parent.parentDomNode === this.parentDomNode) {\n\t\tindex = grandParent.children.indexOf(parent);\n\t\tif(index !== -1) {\n\t\t\treturn parent.findNextSiblingDomNode(index);\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nFind the first DOM node generated by a widget or its children\n*/\nWidget.prototype.findFirstDomNode = function() {\n\t// Return the first dom node of this widget, if we've got one\n\tif(this.domNodes.length &gt; 0) {\n\t\treturn this.domNodes[0];\n\t}\n\t// Otherwise, recursively call our children\n\tfor(var t=0; t&lt;this.children.length; t++) {\n\t\tvar domNode = this.children[t].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRemove any DOM nodes created by this widget or its children\n*/\nWidget.prototype.removeChildDomNodes = function() {\n\t// If this widget has directly created DOM nodes, delete them and exit. This assumes that any child widgets are contained within the created DOM nodes, which would normally be the case\n\tif(this.domNodes.length &gt; 0) {\n\t\t$tw.utils.each(this.domNodes,function(domNode) {\n\t\t\tdomNode.parentNode.removeChild(domNode);\n\t\t});\n\t\tthis.domNodes = [];\n\t} else {\n\t\t// Otherwise, ask the child widgets to delete their DOM nodes\n\t\t$tw.utils.each(this.children,function(childWidget) {\n\t\t\tchildWidget.removeChildDomNodes();\n\t\t});\n\t}\n};\n\n/*\nInvoke the action widgets that are descendents of the current widget.\n*/\nWidget.prototype.invokeActions = function(triggeringWidget,event) {\n\tvar handled = false;\n\t// For each child widget\n\tfor(var t=0; t&lt;this.children.length; t++) {\n\t\tvar child = this.children[t];\n\t\t// Invoke the child if it is an action widget\n\t\tif(child.invokeAction) {\n\t\t\tchild.refreshSelf();\n\t\t\tif(child.invokeAction(triggeringWidget,event)) {\n\t\t\t\thandled = true;\n\t\t\t}\n\t\t}\n\t\t// Propagate through through the child if it permits it\n\t\tif(child.allowActionPropagation() &amp;&amp; child.invokeActions(triggeringWidget,event)) {\n\t\t\thandled = true;\n\t\t}\n\t}\n\treturn handled;\n};\n\n/*\nInvoke the action widgets defined in a string\n*/\nWidget.prototype.invokeActionString = function(actions,triggeringWidget,event,variables) {\n\tactions = actions || \"\";\n\tvar parser = this.wiki.parseText(\"text/vnd.tiddlywiki\",actions,{\n\t\t\tparentWidget: this,\n\t\t\tdocument: this.document\n\t\t}),\n\t\twidgetNode = this.wiki.makeWidget(parser,{\n\t\t\tparentWidget: this,\n\t\t\tdocument: this.document,\n\t\t\tvariables: variables\n\t\t});\n\tvar container = this.document.createElement(\"div\");\n\twidgetNode.render(container,null);\n\treturn widgetNode.invokeActions(this,event);\n};\n\n/*\nExecute action tiddlers by tag\n*/\nWidget.prototype.invokeActionsByTag = function(tag,event,variables) {\n\tvar self = this;\n\t$tw.utils.each(self.wiki.filterTiddlers(\"[all[shadows+tiddlers]tag[\" + tag + \"]!has[draft.of]]\"),function(title) {\n\t\tself.invokeActionString(self.wiki.getTiddlerText(title),self,event,variables);\n\t});\n};\n\nWidget.prototype.allowActionPropagation = function() {\n\treturn true;\n};\n\nexports.widget = Widget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/wikify.js": {
            "title": "$:/core/modules/widgets/wikify.js",
            "text": "/*\\\ntitle: $:/core/modules/widgets/wikify.js\ntype: application/javascript\nmodule-type: widget\n\nWidget to wikify text into a variable\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar WikifyWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nWikifyWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nWikifyWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nWikifyWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.wikifyName = this.getAttribute(\"name\");\n\tthis.wikifyText = this.getAttribute(\"text\");\n\tthis.wikifyType = this.getAttribute(\"type\");\n\tthis.wikifyMode = this.getAttribute(\"mode\",\"block\");\n\tthis.wikifyOutput = this.getAttribute(\"output\",\"text\");\n\t// Create the parse tree\n\tthis.wikifyParser = this.wiki.parseText(this.wikifyType,this.wikifyText,{\n\t\t\tparseAsInline: this.wikifyMode === \"inline\"\n\t\t});\n\t// Create the widget tree \n\tthis.wikifyWidgetNode = this.wiki.makeWidget(this.wikifyParser,{\n\t\t\tdocument: $tw.fakeDocument,\n\t\t\tparentWidget: this\n\t\t});\n\t// Render the widget tree to the container\n\tthis.wikifyContainer = $tw.fakeDocument.createElement(\"div\");\n\tthis.wikifyWidgetNode.render(this.wikifyContainer,null);\n\tthis.wikifyResult = this.getResult();\n\t// Set context variable\n\tthis.setVariable(this.wikifyName,this.wikifyResult);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nReturn the result string\n*/\nWikifyWidget.prototype.getResult = function() {\n\tvar result;\n\tswitch(this.wikifyOutput) {\n\t\tcase \"text\":\n\t\t\tresult = this.wikifyContainer.textContent;\n\t\t\tbreak;\n\t\tcase \"formattedtext\":\n\t\t\tresult = this.wikifyContainer.formattedTextContent;\n\t\t\tbreak;\n\t\tcase \"html\":\n\t\t\tresult = this.wikifyContainer.innerHTML;\n\t\t\tbreak;\n\t\tcase \"parsetree\":\n\t\t\tresult = JSON.stringify(this.wikifyParser.tree,0,$tw.config.preferences.jsonSpaces);\n\t\t\tbreak;\n\t\tcase \"widgettree\":\n\t\t\tresult = JSON.stringify(this.getWidgetTree(),0,$tw.config.preferences.jsonSpaces);\n\t\t\tbreak;\n\t}\n\treturn result;\n};\n\n/*\nReturn a string of the widget tree\n*/\nWikifyWidget.prototype.getWidgetTree = function() {\n\tvar copyNode = function(widgetNode,resultNode) {\n\t\t\tvar type = widgetNode.parseTreeNode.type;\n\t\t\tresultNode.type = type;\n\t\t\tswitch(type) {\n\t\t\t\tcase \"element\":\n\t\t\t\t\tresultNode.tag = widgetNode.parseTreeNode.tag;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"text\":\n\t\t\t\t\tresultNode.text = widgetNode.parseTreeNode.text;\n\t\t\t\t\tbreak;\t\n\t\t\t}\n\t\t\tif(Object.keys(widgetNode.attributes || {}).length &gt; 0) {\n\t\t\t\tresultNode.attributes = {};\n\t\t\t\t$tw.utils.each(widgetNode.attributes,function(attr,attrName) {\n\t\t\t\t\tresultNode.attributes[attrName] = widgetNode.getAttribute(attrName);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif(Object.keys(widgetNode.children || {}).length &gt; 0) {\n\t\t\t\tresultNode.children = [];\n\t\t\t\t$tw.utils.each(widgetNode.children,function(widgetChildNode) {\n\t\t\t\t\tvar node = {};\n\t\t\t\t\tresultNode.children.push(node);\n\t\t\t\t\tcopyNode(widgetChildNode,node);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tresults = {};\n\tcopyNode(this.wikifyWidgetNode,results);\n\treturn results;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nWikifyWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Refresh ourselves entirely if any of our attributes have changed\n\tif(changedAttributes.name || changedAttributes.text || changedAttributes.type || changedAttributes.mode || changedAttributes.output) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\t// Refresh the widget tree\n\t\tif(this.wikifyWidgetNode.refresh(changedTiddlers)) {\n\t\t\t// Check if there was any change\n\t\t\tvar result = this.getResult();\n\t\t\tif(result !== this.wikifyResult) {\n\t\t\t\t// If so, save the change\n\t\t\t\tthis.wikifyResult = result;\n\t\t\t\tthis.setVariable(this.wikifyName,this.wikifyResult);\n\t\t\t\t// Refresh each of our child widgets\n\t\t\t\t$tw.utils.each(this.children,function(childWidget) {\n\t\t\t\t\tchildWidget.refreshSelf();\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t// Just refresh the children\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.wikify = WikifyWidget;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/wiki-bulkops.js": {
            "title": "$:/core/modules/wiki-bulkops.js",
            "text": "/*\\\ntitle: $:/core/modules/wiki-bulkops.js\ntype: application/javascript\nmodule-type: wikimethod\n\nBulk tiddler operations such as rename.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nRename a tiddler, and relink any tags or lists that reference it.\n*/\nfunction renameTiddler(fromTitle,toTitle,options) {\n\tfromTitle = (fromTitle || \"\").trim();\n\ttoTitle = (toTitle || \"\").trim();\n\toptions = options || {};\n\tif(fromTitle &amp;&amp; toTitle &amp;&amp; fromTitle !== toTitle) {\n\t\t// Rename the tiddler itself\n\t\tvar oldTiddler = this.getTiddler(fromTitle),\n\t\t\tnewTiddler = new $tw.Tiddler(oldTiddler,{title: toTitle},this.getModificationFields());\n\t\tnewTiddler = $tw.hooks.invokeHook(\"th-renaming-tiddler\",newTiddler,oldTiddler);\n\t\tthis.addTiddler(newTiddler);\n\t\tthis.deleteTiddler(fromTitle);\n\t\t// Rename any tags or lists that reference it\n\t\tthis.relinkTiddler(fromTitle,toTitle,options)\n\t}\n}\n\n/*\nRelink any tags or lists that reference a given tiddler\n*/\nfunction relinkTiddler(fromTitle,toTitle,options) {\n\tvar self = this;\n\tfromTitle = (fromTitle || \"\").trim();\n\ttoTitle = (toTitle || \"\").trim();\n\toptions = options || {};\n\tif(fromTitle &amp;&amp; toTitle &amp;&amp; fromTitle !== toTitle) {\n\t\tthis.each(function(tiddler,title) {\n\t\t\tvar type = tiddler.fields.type || \"\";\n\t\t\t// Don't touch plugins or JavaScript modules\n\t\t\tif(!tiddler.fields[\"plugin-type\"] &amp;&amp; type !== \"application/javascript\") {\n\t\t\t\tvar tags = tiddler.fields.tags ? tiddler.fields.tags.slice(0) : undefined,\n\t\t\t\t\tlist = tiddler.fields.list ? tiddler.fields.list.slice(0) : undefined,\n\t\t\t\t\tisModified = false;\n\t\t\t\tif(!options.dontRenameInTags) {\n\t\t\t\t\t// Rename tags\n\t\t\t\t\t$tw.utils.each(tags,function (title,index) {\n\t\t\t\t\t\tif(title === fromTitle) {\nconsole.log(\"Renaming tag '\" + tags[index] + \"' to '\" + toTitle + \"' of tiddler '\" + tiddler.fields.title + \"'\");\n\t\t\t\t\t\t\ttags[index] = toTitle;\n\t\t\t\t\t\t\tisModified = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(!options.dontRenameInLists) {\n\t\t\t\t\t// Rename lists\n\t\t\t\t\t$tw.utils.each(list,function (title,index) {\n\t\t\t\t\t\tif(title === fromTitle) {\nconsole.log(\"Renaming list item '\" + list[index] + \"' to '\" + toTitle + \"' of tiddler '\" + tiddler.fields.title + \"'\");\n\t\t\t\t\t\t\tlist[index] = toTitle;\n\t\t\t\t\t\t\tisModified = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(isModified) {\n\t\t\t\t\tvar newTiddler = new $tw.Tiddler(tiddler,{tags: tags, list: list},self.getModificationFields())\n\t\t\t\t\tnewTiddler = $tw.hooks.invokeHook(\"th-relinking-tiddler\",newTiddler,tiddler);\n\t\t\t\t\tself.addTiddler(newTiddler);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\nexports.renameTiddler = renameTiddler;\nexports.relinkTiddler = relinkTiddler;\n\n})();\n",
            "type": "application/javascript",
            "module-type": "wikimethod"
        },
        "$:/core/modules/wiki.js": {
            "title": "$:/core/modules/wiki.js",
            "text": "/*\\\ntitle: $:/core/modules/wiki.js\ntype: application/javascript\nmodule-type: wikimethod\n\nExtension methods for the $tw.Wiki object\n\nAdds the following properties to the wiki object:\n\n* `eventListeners` is a hashmap by type of arrays of listener functions\n* `changedTiddlers` is a hashmap describing changes to named tiddlers since wiki change events were last dispatched. Each entry is a hashmap containing two fields:\n\tmodified: true/false\n\tdeleted: true/false\n* `changeCount` is a hashmap by tiddler title containing a numerical index that starts at zero and is incremented each time a tiddler is created changed or deleted\n* `caches` is a hashmap by tiddler title containing a further hashmap of named cache objects. Caches are automatically cleared when a tiddler is modified or deleted\n* `globalCache` is a hashmap by cache name of cache objects that are cleared whenever any tiddler change occurs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nvar USER_NAME_TITLE = \"$:/status/UserName\",\n\tTIMESTAMP_DISABLE_TITLE = \"$:/config/TimestampDisable\";\n\n/*\nAdd available indexers to this wiki\n*/\nexports.addIndexersToWiki = function() {\n\tvar self = this;\n\t$tw.utils.each($tw.modules.applyMethods(\"indexer\"),function(Indexer,name) {\n\t\tself.addIndexer(new Indexer(self),name);\n\t});\n};\n\n/*\nGet the value of a text reference. Text references can have any of these forms:\n\t&lt;tiddlertitle&gt;\n\t&lt;tiddlertitle&gt;!!&lt;fieldname&gt;\n\t!!&lt;fieldname&gt; - specifies a field of the current tiddlers\n\t&lt;tiddlertitle&gt;##&lt;index&gt;\n*/\nexports.getTextReference = function(textRef,defaultText,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tif(tr.field) {\n\t\tvar tiddler = this.getTiddler(title);\n\t\tif(tr.field === \"title\") { // Special case so we can return the title of a non-existent tiddler\n\t\t\treturn title;\n\t\t} else if(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\treturn tiddler.getFieldString(tr.field);\n\t\t} else {\n\t\t\treturn defaultText;\n\t\t}\n\t} else if(tr.index) {\n\t\treturn this.extractTiddlerDataItem(title,tr.index,defaultText);\n\t} else {\n\t\treturn this.getTiddlerText(title,defaultText);\n\t}\n};\n\nexports.setTextReference = function(textRef,value,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tthis.setText(title,tr.field,tr.index,value);\n};\n\nexports.setText = function(title,field,index,value,options) {\n\toptions = options || {};\n\tvar creationFields = options.suppressTimestamp ? {} : this.getCreationFields(),\n\t\tmodificationFields = options.suppressTimestamp ? {} : this.getModificationFields();\n\t// Check if it is a reference to a tiddler field\n\tif(index) {\n\t\tvar data = this.getTiddlerData(title,Object.create(null));\n\t\tif(value !== undefined) {\n\t\t\tdata[index] = value;\n\t\t} else {\n\t\t\tdelete data[index];\n\t\t}\n\t\tthis.setTiddlerData(title,data,modificationFields);\n\t} else {\n\t\tvar tiddler = this.getTiddler(title),\n\t\t\tfields = {title: title};\n\t\tfields[field || \"text\"] = value;\n\t\tthis.addTiddler(new $tw.Tiddler(creationFields,tiddler,fields,modificationFields));\n\t}\n};\n\nexports.deleteTextReference = function(textRef,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle,tiddler,fields;\n\t// Check if it is a reference to a tiddler\n\tif(tr.title &amp;&amp; !tr.field) {\n\t\tthis.deleteTiddler(tr.title);\n\t// Else check for a field reference\n\t} else if(tr.field) {\n\t\ttitle = tr.title || currTiddlerTitle;\n\t\ttiddler = this.getTiddler(title);\n\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\tfields = Object.create(null);\n\t\t\tfields[tr.field] = undefined;\n\t\t\tthis.addTiddler(new $tw.Tiddler(tiddler,fields,this.getModificationFields()));\n\t\t}\n\t}\n};\n\nexports.addEventListener = function(type,listener) {\n\tthis.eventListeners = this.eventListeners || {};\n\tthis.eventListeners[type] = this.eventListeners[type]  || [];\n\tthis.eventListeners[type].push(listener);\t\n};\n\nexports.removeEventListener = function(type,listener) {\n\tvar listeners = this.eventListeners[type];\n\tif(listeners) {\n\t\tvar p = listeners.indexOf(listener);\n\t\tif(p !== -1) {\n\t\t\tlisteners.splice(p,1);\n\t\t}\n\t}\n};\n\nexports.dispatchEvent = function(type /*, args */) {\n\tvar args = Array.prototype.slice.call(arguments,1),\n\t\tlisteners = this.eventListeners[type];\n\tif(listeners) {\n\t\tfor(var p=0; p&lt;listeners.length; p++) {\n\t\t\tvar listener = listeners[p];\n\t\t\tlistener.apply(listener,args);\n\t\t}\n\t}\n};\n\n/*\nCauses a tiddler to be marked as changed, incrementing the change count, and triggers event handlers.\nThis method should be called after the changes it describes have been made to the wiki.tiddlers[] array.\n\ttitle: Title of tiddler\n\tisDeleted: defaults to false (meaning the tiddler has been created or modified),\n\t\ttrue if the tiddler has been deleted\n*/\nexports.enqueueTiddlerEvent = function(title,isDeleted) {\n\t// Record the touch in the list of changed tiddlers\n\tthis.changedTiddlers = this.changedTiddlers || Object.create(null);\n\tthis.changedTiddlers[title] = this.changedTiddlers[title] || Object.create(null);\n\tthis.changedTiddlers[title][isDeleted ? \"deleted\" : \"modified\"] = true;\n\t// Increment the change count\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\tthis.changeCount[title]++;\n\t} else {\n\t\tthis.changeCount[title] = 1;\n\t}\n\t// Trigger events\n\tthis.eventListeners = this.eventListeners || {};\n\tif(!this.eventsTriggered) {\n\t\tvar self = this;\n\t\t$tw.utils.nextTick(function() {\n\t\t\tvar changes = self.changedTiddlers;\n\t\t\tself.changedTiddlers = Object.create(null);\n\t\t\tself.eventsTriggered = false;\n\t\t\tif($tw.utils.count(changes) &gt; 0) {\n\t\t\t\tself.dispatchEvent(\"change\",changes);\n\t\t\t}\n\t\t});\n\t\tthis.eventsTriggered = true;\n\t}\n};\n\nexports.getSizeOfTiddlerEventQueue = function() {\n\treturn $tw.utils.count(this.changedTiddlers);\n};\n\nexports.clearTiddlerEventQueue = function() {\n\tthis.changedTiddlers = Object.create(null);\n\tthis.changeCount = Object.create(null);\n};\n\nexports.getChangeCount = function(title) {\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\treturn this.changeCount[title];\n\t} else {\n\t\treturn 0;\n\t}\n};\n\n/*\nGenerate an unused title from the specified base\n*/\nexports.generateNewTitle = function(baseTitle,options) {\n\toptions = options || {};\n\tvar c = 0,\n\t\ttitle = baseTitle;\n\twhile(this.tiddlerExists(title) || this.isShadowTiddler(title) || this.findDraft(title)) {\n\t\ttitle = baseTitle + \n\t\t\t(options.prefix || \" \") + \n\t\t\t(++c);\n\t}\n\treturn title;\n};\n\nexports.isSystemTiddler = function(title) {\n\treturn title &amp;&amp; title.indexOf(\"$:/\") === 0;\n};\n\nexports.isTemporaryTiddler = function(title) {\n\treturn title &amp;&amp; title.indexOf(\"$:/temp/\") === 0;\n};\n\nexports.isImageTiddler = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\t\t\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type || \"text/vnd.tiddlywiki\"];\n\t\treturn !!contentTypeInfo &amp;&amp; contentTypeInfo.flags.indexOf(\"image\") !== -1;\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexports.isBinaryTiddler = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\t\t\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type || \"text/vnd.tiddlywiki\"];\n\t\treturn !!contentTypeInfo &amp;&amp; contentTypeInfo.encoding === \"base64\";\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLike addTiddler() except it will silently reject any plugin tiddlers that are older than the currently loaded version. Returns true if the tiddler was imported\n*/\nexports.importTiddler = function(tiddler) {\n\tvar existingTiddler = this.getTiddler(tiddler.fields.title);\n\t// Check if we're dealing with a plugin\n\tif(tiddler &amp;&amp; tiddler.hasField(\"plugin-type\") &amp;&amp; tiddler.hasField(\"version\") &amp;&amp; existingTiddler &amp;&amp; existingTiddler.hasField(\"plugin-type\") &amp;&amp; existingTiddler.hasField(\"version\")) {\n\t\t// Reject the incoming plugin if it is older\n\t\tif(!$tw.utils.checkVersions(tiddler.fields.version,existingTiddler.fields.version)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Fall through to adding the tiddler\n\tthis.addTiddler(tiddler);\n\treturn true;\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is created\n*/\nexports.getCreationFields = function() {\n\tif(this.getTiddlerText(TIMESTAMP_DISABLE_TITLE,\"\").toLowerCase() !== \"yes\") {\n\t\tvar fields = {\n\t\t\t\tcreated: new Date()\n\t\t\t},\n\t\t\tcreator = this.getTiddlerText(USER_NAME_TITLE);\n\t\tif(creator) {\n\t\t\tfields.creator = creator;\n\t\t}\n\t\treturn fields;\n\t} else {\n\t\treturn {};\n\t}\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is modified\n*/\nexports.getModificationFields = function() {\n\tif(this.getTiddlerText(TIMESTAMP_DISABLE_TITLE,\"\").toLowerCase() !== \"yes\") {\n\t\tvar fields = Object.create(null),\n\t\t\tmodifier = this.getTiddlerText(USER_NAME_TITLE);\n\t\tfields.modified = new Date();\n\t\tif(modifier) {\n\t\t\tfields.modifier = modifier;\n\t\t}\n\t\treturn fields;\n\t} else {\n\t\treturn {};\n\t}\n};\n\n/*\nReturn a sorted array of tiddler titles.  Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.getTiddlers = function(options) {\n\toptions = options || Object.create(null);\n\tvar self = this,\n\t\tsortField = options.sortField || \"title\",\n\t\ttiddlers = [], t, titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tif(options.includeSystem || !self.isSystemTiddler(title)) {\n\t\t\tif(!options.excludeTag || !tiddler.hasTag(options.excludeTag)) {\n\t\t\t\ttiddlers.push(tiddler);\n\t\t\t}\n\t\t}\n\t});\n\ttiddlers.sort(function(a,b) {\n\t\tvar aa = a.fields[sortField].toLowerCase() || \"\",\n\t\t\tbb = b.fields[sortField].toLowerCase() || \"\";\n\t\tif(aa &lt; bb) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(aa &gt; bb) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n\tfor(t=0; t&lt;tiddlers.length; t++) {\n\t\ttitles.push(tiddlers[t].fields.title);\n\t}\n\treturn titles;\n};\n\nexports.countTiddlers = function(excludeTag) {\n\tvar tiddlers = this.getTiddlers({excludeTag: excludeTag});\n\treturn $tw.utils.count(tiddlers);\n};\n\n/*\nReturns a function iterator(callback) that iterates through the specified titles, and invokes the callback with callback(tiddler,title)\n*/\nexports.makeTiddlerIterator = function(titles) {\n\tvar self = this;\n\tif(!$tw.utils.isArray(titles)) {\n\t\ttitles = Object.keys(titles);\n\t} else {\n\t\ttitles = titles.slice(0);\n\t}\n\treturn function(callback) {\n\t\ttitles.forEach(function(title) {\n\t\t\tcallback(self.getTiddler(title),title);\n\t\t});\n\t};\n};\n\n/*\nSort an array of tiddler titles by a specified field\n\ttitles: array of titles (sorted in place)\n\tsortField: name of field to sort by\n\tisDescending: true if the sort should be descending\n\tisCaseSensitive: true if the sort should consider upper and lower case letters to be different\n*/\nexports.sortTiddlers = function(titles,sortField,isDescending,isCaseSensitive,isNumeric,isAlphaNumeric) {\n\tvar self = this;\n\ttitles.sort(function(a,b) {\n\t\tvar x,y,\n\t\t\tcompareNumbers = function(x,y) {\n\t\t\t\tvar result = \n\t\t\t\t\tisNaN(x) &amp;&amp; !isNaN(y) ? (isDescending ? -1 : 1) :\n\t\t\t\t\t!isNaN(x) &amp;&amp; isNaN(y) ? (isDescending ? 1 : -1) :\n\t\t\t\t\t\t\t\t\t\t\t(isDescending ? y - x :  x - y);\n\t\t\t\treturn result;\n\t\t\t};\n\t\tif(sortField !== \"title\") {\n\t\t\tvar tiddlerA = self.getTiddler(a),\n\t\t\t\ttiddlerB = self.getTiddler(b);\n\t\t\tif(tiddlerA) {\n\t\t\t\ta = tiddlerA.fields[sortField] || \"\";\n\t\t\t} else {\n\t\t\t\ta = \"\";\n\t\t\t}\n\t\t\tif(tiddlerB) {\n\t\t\t\tb = tiddlerB.fields[sortField] || \"\";\n\t\t\t} else {\n\t\t\t\tb = \"\";\n\t\t\t}\n\t\t}\n\t\tx = Number(a);\n\t\ty = Number(b);\n\t\tif(isNumeric &amp;&amp; (!isNaN(x) || !isNaN(y))) {\n\t\t\treturn compareNumbers(x,y);\n\t\t} else if($tw.utils.isDate(a) &amp;&amp; $tw.utils.isDate(b)) {\n\t\t\treturn isDescending ? b - a : a - b;\n\t\t} else if(isAlphaNumeric) {\n\t\t\treturn isDescending ? b.localeCompare(a,undefined,{numeric: true,sensitivity: \"base\"}) : a.localeCompare(b,undefined,{numeric: true,sensitivity: \"base\"});\n\t\t} else {\n\t\t\ta = String(a);\n\t\t\tb = String(b);\n\t\t\tif(!isCaseSensitive) {\n\t\t\t\ta = a.toLowerCase();\n\t\t\t\tb = b.toLowerCase();\n\t\t\t}\n\t\t\treturn isDescending ? b.localeCompare(a) : a.localeCompare(b);\n\t\t}\n\t});\n};\n\n/*\nFor every tiddler invoke a callback(title,tiddler) with `this` set to the wiki object. Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.forEachTiddler = function(/* [options,]callback */) {\n\tvar arg = 0,\n\t\toptions = arguments.length &gt;= 2 ? arguments[arg++] : {},\n\t\tcallback = arguments[arg++],\n\t\ttitles = this.getTiddlers(options),\n\t\tt, tiddler;\n\tfor(t=0; t&lt;titles.length; t++) {\n\t\ttiddler = this.getTiddler(titles[t]);\n\t\tif(tiddler) {\n\t\t\tcallback.call(this,tiddler.fields.title,tiddler);\n\t\t}\n\t}\n};\n\n/*\nReturn an array of tiddler titles that are directly linked within the given parse tree\n */\nexports.extractLinks = function(parseTreeRoot) {\n\t// Count up the links\n\tvar links = [],\n\t\tcheckParseTree = function(parseTree) {\n\t\t\tfor(var t=0; t&lt;parseTree.length; t++) {\n\t\t\t\tvar parseTreeNode = parseTree[t];\n\t\t\t\tif(parseTreeNode.type === \"link\" &amp;&amp; parseTreeNode.attributes.to &amp;&amp; parseTreeNode.attributes.to.type === \"string\") {\n\t\t\t\t\tvar value = parseTreeNode.attributes.to.value;\n\t\t\t\t\tif(links.indexOf(value) === -1) {\n\t\t\t\t\t\tlinks.push(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(parseTreeNode.children) {\n\t\t\t\t\tcheckParseTree(parseTreeNode.children);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\tcheckParseTree(parseTreeRoot);\n\treturn links;\n};\n\n/*\nReturn an array of tiddler titles that are directly linked from the specified tiddler\n*/\nexports.getTiddlerLinks = function(title) {\n\tvar self = this;\n\t// We'll cache the links so they only get computed if the tiddler changes\n\treturn this.getCacheForTiddler(title,\"links\",function() {\n\t\t// Parse the tiddler\n\t\tvar parser = self.parseTiddler(title);\n\t\tif(parser) {\n\t\t\treturn self.extractLinks(parser.tree);\n\t\t}\n\t\treturn [];\n\t});\n};\n\n/*\nReturn an array of tiddler titles that link to the specified tiddler\n*/\nexports.getTiddlerBacklinks = function(targetTitle) {\n\tvar self = this,\n\t\tbacklinksIndexer = this.getIndexer(\"BacklinksIndexer\"),\n\t\tbacklinks = backlinksIndexer &amp;&amp; backlinksIndexer.lookup(targetTitle);\n\n\tif(!backlinks) {\n\t\tbacklinks = [];\n\t\tthis.forEachTiddler(function(title,tiddler) {\n\t\t\tvar links = self.getTiddlerLinks(title);\n\t\t\tif(links.indexOf(targetTitle) !== -1) {\n\t\t\t\tbacklinks.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn backlinks;\n};\n\n/*\nReturn a hashmap of tiddler titles that are referenced but not defined. Each value is the number of times the missing tiddler is referenced\n*/\nexports.getMissingTitles = function() {\n\tvar self = this,\n\t\tmissing = [];\n// We should cache the missing tiddler list, even if we recreate it every time any tiddler is modified\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tif((!self.tiddlerExists(link) &amp;&amp; !self.isShadowTiddler(link)) &amp;&amp; missing.indexOf(link) === -1) {\n\t\t\t\tmissing.push(link);\n\t\t\t}\n\t\t});\n\t});\n\treturn missing;\n};\n\nexports.getOrphanTitles = function() {\n\tvar self = this,\n\t\torphans = this.getTiddlers();\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tvar p = orphans.indexOf(link);\n\t\t\tif(p !== -1) {\n\t\t\t\torphans.splice(p,1);\n\t\t\t}\n\t\t});\n\t});\n\treturn orphans; // Todo\n};\n\n/*\nRetrieves a list of the tiddler titles that are tagged with a given tag\n*/\nexports.getTiddlersWithTag = function(tag) {\n\t// Try to use the indexer\n\tvar self = this,\n\t\ttagIndexer = this.getIndexer(\"TagIndexer\"),\n\t\tresults = tagIndexer &amp;&amp; tagIndexer.subIndexers[3].lookup(tag);\n\tif(!results) {\n\t\t// If not available, perform a manual scan\n\t\tresults = this.getGlobalCache(\"taglist-\" + tag,function() {\n\t\t\tvar tagmap = self.getTagMap();\n\t\t\treturn self.sortByList(tagmap[tag],tag);\n\t\t});\n\t}\n\treturn results;\n};\n\n/*\nGet a hashmap by tag of arrays of tiddler titles\n*/\nexports.getTagMap = function() {\n\tvar self = this;\n\treturn this.getGlobalCache(\"tagmap\",function() {\n\t\tvar tags = Object.create(null),\n\t\t\tstoreTags = function(tagArray,title) {\n\t\t\t\tif(tagArray) {\n\t\t\t\t\tfor(var index=0; index&lt;tagArray.length; index++) {\n\t\t\t\t\t\tvar tag = tagArray[index];\n\t\t\t\t\t\tif($tw.utils.hop(tags,tag)) {\n\t\t\t\t\t\t\ttags[tag].push(title);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[tag] = [title];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttitle, tiddler;\n\t\t// Collect up all the tags\n\t\tself.eachShadow(function(tiddler,title) {\n\t\t\tif(!self.tiddlerExists(title)) {\n\t\t\t\ttiddler = self.getTiddler(title);\n\t\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t\t}\n\t\t});\n\t\tself.each(function(tiddler,title) {\n\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t});\n\t\treturn tags;\n\t});\n};\n\n/*\nLookup a given tiddler and return a list of all the tiddlers that include it in the specified list field\n*/\nexports.findListingsOfTiddler = function(targetTitle,fieldName) {\n\tfieldName = fieldName || \"list\";\n\tvar titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tvar list = $tw.utils.parseStringArray(tiddler.fields[fieldName]);\n\t\tif(list &amp;&amp; list.indexOf(targetTitle) !== -1) {\n\t\t\ttitles.push(title);\n\t\t}\n\t});\n\treturn titles;\n};\n\n/*\nSorts an array of tiddler titles according to an ordered list\n*/\nexports.sortByList = function(array,listTitle) {\n\tvar self = this,\n\t\treplacedTitles = Object.create(null);\n\t// Given a title, this function will place it in the correct location\n\t// within titles.\n\tfunction moveItemInList(title) {\n\t\tif(!$tw.utils.hop(replacedTitles, title)) {\n\t\t\treplacedTitles[title] = true;\n\t\t\tvar newPos = -1,\n\t\t\t\ttiddler = self.getTiddler(title);\n\t\t\tif(tiddler) {\n\t\t\t\tvar beforeTitle = tiddler.fields[\"list-before\"],\n\t\t\t\t\tafterTitle = tiddler.fields[\"list-after\"];\n\t\t\t\tif(beforeTitle === \"\") {\n\t\t\t\t\tnewPos = 0;\n\t\t\t\t} else if(afterTitle === \"\") {\n\t\t\t\t\tnewPos = titles.length;\n\t\t\t\t} else if(beforeTitle) {\n\t\t\t\t\t// if this title is placed relative\n\t\t\t\t\t// to another title, make sure that\n\t\t\t\t\t// title is placed before we place\n\t\t\t\t\t// this one.\n\t\t\t\t\tmoveItemInList(beforeTitle);\n\t\t\t\t\tnewPos = titles.indexOf(beforeTitle);\n\t\t\t\t} else if(afterTitle) {\n\t\t\t\t\t// Same deal\n\t\t\t\t\tmoveItemInList(afterTitle);\n\t\t\t\t\tnewPos = titles.indexOf(afterTitle);\n\t\t\t\t\tif(newPos &gt;= 0) {\n\t\t\t\t\t\t++newPos;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If a new position is specified, let's move it\n\t\t\t\tif (newPos !== -1) {\n\t\t\t\t\t// get its current Pos, and make sure\n\t\t\t\t\t// sure that it's _actually_ in the list\n\t\t\t\t\t// and that it would _actually_ move\n\t\t\t\t\t// (#4275) We don't bother calling\n\t\t\t\t\t//         indexOf unless we have a new\n\t\t\t\t\t//         position to work with\n\t\t\t\t\tvar currPos = titles.indexOf(title);\n\t\t\t\t\tif(currPos &gt;= 0 &amp;&amp; newPos !== currPos) {\n\t\t\t\t\t\t// move it!\n\t\t\t\t\t\ttitles.splice(currPos,1);\n\t\t\t\t\t\tif(newPos &gt;= currPos) {\n\t\t\t\t\t\t\tnewPos--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitles.splice(newPos,0,title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tvar list = this.getTiddlerList(listTitle);\n\tif(!array || array.length === 0) {\n\t\treturn [];\n\t} else {\n\t\tvar titles = [], t, title;\n\t\t// First place any entries that are present in the list\n\t\tfor(t=0; t&lt;list.length; t++) {\n\t\t\ttitle = list[t];\n\t\t\tif(array.indexOf(title) !== -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Then place any remaining entries\n\t\tfor(t=0; t&lt;array.length; t++) {\n\t\t\ttitle = array[t];\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Finally obey the list-before and list-after fields of each tiddler in turn\n\t\tvar sortedTitles = titles.slice(0);\n\t\tfor(t=0; t&lt;sortedTitles.length; t++) {\n\t\t\ttitle = sortedTitles[t];\n\t\t\tmoveItemInList(title);\n\t\t}\n\t\treturn titles;\n\t}\n};\n\nexports.getSubTiddler = function(title,subTiddlerTitle) {\n\tvar bundleInfo = this.getPluginInfo(title) || this.getTiddlerDataCached(title);\n\tif(bundleInfo &amp;&amp; bundleInfo.tiddlers) {\n\t\tvar subTiddler = bundleInfo.tiddlers[subTiddlerTitle];\n\t\tif(subTiddler) {\n\t\t\treturn new $tw.Tiddler(subTiddler);\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRetrieve a tiddler as a JSON string of the fields\n*/\nexports.getTiddlerAsJson = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\tvar fields = Object.create(null);\n\t\t$tw.utils.each(tiddler.fields,function(value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\treturn JSON.stringify(fields);\n\t} else {\n\t\treturn JSON.stringify({title: title});\n\t}\n};\n\nexports.getTiddlersAsJson = function(filter,spaces) {\n\tvar tiddlers = this.filterTiddlers(filter),\n\t\tspaces = (spaces === undefined) ? $tw.config.preferences.jsonSpaces : spaces,\n\t\tdata = [];\n\tfor(var t=0;t&lt;tiddlers.length; t++) {\n\t\tvar tiddler = this.getTiddler(tiddlers[t]);\n\t\tif(tiddler) {\n\t\t\tvar fields = new Object();\n\t\t\tfor(var field in tiddler.fields) {\n\t\t\t\tfields[field] = tiddler.getFieldString(field);\n\t\t\t}\n\t\t\tdata.push(fields);\n\t\t}\n\t}\n\treturn JSON.stringify(data,null,spaces);\n};\n\n/*\nGet the content of a tiddler as a JavaScript object. How this is done depends on the type of the tiddler:\n\napplication/json: the tiddler JSON is parsed into an object\napplication/x-tiddler-dictionary: the tiddler is parsed as sequence of name:value pairs\n\nOther types currently just return null.\n\ntitleOrTiddler: string tiddler title or a tiddler object\ndefaultData: default data to be returned if the tiddler is missing or doesn't contain data\n\nNote that the same value is returned for repeated calls for the same tiddler data. The value is frozen to prevent modification; otherwise modifications would be visible to all callers\n*/\nexports.getTiddlerDataCached = function(titleOrTiddler,defaultData) {\n\tvar self = this,\n\t\ttiddler = titleOrTiddler;\n\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\ttiddler = this.getTiddler(tiddler);\t\n\t}\n\tif(tiddler) {\n\t\treturn this.getCacheForTiddler(tiddler.fields.title,\"data\",function() {\n\t\t\t// Return the frozen value\n\t\t\tvar value = self.getTiddlerData(tiddler.fields.title,undefined);\n\t\t\t$tw.utils.deepFreeze(value);\n\t\t\treturn value;\n\t\t}) || defaultData;\n\t} else {\n\t\treturn defaultData;\n\t}\n};\n\n/*\nAlternative, uncached version of getTiddlerDataCached(). The return value can be mutated freely and reused\n*/\nexports.getTiddlerData = function(titleOrTiddler,defaultData) {\n\tvar tiddler = titleOrTiddler,\n\t\tdata;\n\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\ttiddler = this.getTiddler(tiddler);\t\n\t}\n\tif(tiddler &amp;&amp; tiddler.fields.text) {\n\t\tswitch(tiddler.fields.type) {\n\t\t\tcase \"application/json\":\n\t\t\t\t// JSON tiddler\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse(tiddler.fields.text);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\treturn defaultData;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\tcase \"application/x-tiddler-dictionary\":\n\t\t\t\treturn $tw.utils.parseFields(tiddler.fields.text);\n\t\t}\n\t}\n\treturn defaultData;\n};\n\n/*\nExtract an indexed field from within a data tiddler\n*/\nexports.extractTiddlerDataItem = function(titleOrTiddler,index,defaultText) {\n\tvar data = this.getTiddlerDataCached(titleOrTiddler,Object.create(null)),\n\t\ttext;\n\tif(data &amp;&amp; $tw.utils.hop(data,index)) {\n\t\ttext = data[index];\n\t}\n\tif(typeof text === \"string\" || typeof text === \"number\") {\n\t\treturn text.toString();\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nSet a tiddlers content to a JavaScript object. Currently this is done by setting the tiddler's type to \"application/json\" and setting the text to the JSON text of the data.\ntitle: title of tiddler\ndata: object that can be serialised to JSON\nfields: optional hashmap of additional tiddler fields to be set\n*/\nexports.setTiddlerData = function(title,data,fields) {\n\tvar existingTiddler = this.getTiddler(title),\n\t\tnewFields = {\n\t\t\ttitle: title\n\t};\n\tif(existingTiddler &amp;&amp; existingTiddler.fields.type === \"application/x-tiddler-dictionary\") {\n\t\tnewFields.text = $tw.utils.makeTiddlerDictionary(data);\n\t} else {\n\t\tnewFields.type = \"application/json\";\n\t\tnewFields.text = JSON.stringify(data,null,$tw.config.preferences.jsonSpaces);\n\t}\n\tthis.addTiddler(new $tw.Tiddler(this.getCreationFields(),existingTiddler,fields,newFields,this.getModificationFields()));\n};\n\n/*\nReturn the content of a tiddler as an array containing each line\n*/\nexports.getTiddlerList = function(title,field,index) {\n\tif(index) {\n\t\treturn $tw.utils.parseStringArray(this.extractTiddlerDataItem(title,index,\"\"));\n\t}\n\tfield = field || \"list\";\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\treturn ($tw.utils.parseStringArray(tiddler.fields[field]) || []).slice(0);\n\t}\n\treturn [];\n};\n\n// Return a named global cache object. Global cache objects are cleared whenever a tiddler change occurs\nexports.getGlobalCache = function(cacheName,initializer) {\n\tthis.globalCache = this.globalCache || Object.create(null);\n\tif($tw.utils.hop(this.globalCache,cacheName)) {\n\t\treturn this.globalCache[cacheName];\n\t} else {\n\t\tthis.globalCache[cacheName] = initializer();\n\t\treturn this.globalCache[cacheName];\n\t}\n};\n\nexports.clearGlobalCache = function() {\n\tthis.globalCache = Object.create(null);\n};\n\n// Return the named cache object for a tiddler. If the cache doesn't exist then the initializer function is invoked to create it\nexports.getCacheForTiddler = function(title,cacheName,initializer) {\n\tthis.caches = this.caches || Object.create(null);\n\tvar caches = this.caches[title];\n\tif(caches &amp;&amp; caches[cacheName]) {\n\t\treturn caches[cacheName];\n\t} else {\n\t\tif(!caches) {\n\t\t\tcaches = Object.create(null);\n\t\t\tthis.caches[title] = caches;\n\t\t}\n\t\tcaches[cacheName] = initializer();\n\t\treturn caches[cacheName];\n\t}\n};\n\n// Clear all caches associated with a particular tiddler, or, if the title is null, clear all the caches for all the tiddlers\nexports.clearCache = function(title) {\n\tif(title) {\n\t\tthis.caches = this.caches || Object.create(null);\n\t\tif($tw.utils.hop(this.caches,title)) {\n\t\t\tdelete this.caches[title];\n\t\t}\n\t} else {\n\t\tthis.caches = Object.create(null);\n\t}\n};\n\nexports.initParsers = function(moduleType) {\n\t// Install the parser modules\n\t$tw.Wiki.parsers = {};\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(\"parser\",function(title,module) {\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\t$tw.Wiki.parsers[f] = module[f]; // Store the parser class\n\t\t\t}\n\t\t}\n\t});\n\t// Use the generic binary parser for any binary types not registered so far\n\tif($tw.Wiki.parsers[\"application/octet-stream\"]) {\n\t\tObject.keys($tw.config.contentTypeInfo).forEach(function(type) {\n\t\t\tif(!$tw.utils.hop($tw.Wiki.parsers,type) &amp;&amp; $tw.config.contentTypeInfo[type].encoding === \"base64\") {\n\t\t\t\t$tw.Wiki.parsers[type] = $tw.Wiki.parsers[\"application/octet-stream\"];\n\t\t\t}\n\t\t});\t\t\n\t}\n};\n\n/*\nParse a block of text of a specified MIME type\n\ttype: content type of text to be parsed\n\ttext: text\n\toptions: see below\nOptions include:\n\tparseAsInline: if true, the text of the tiddler will be parsed as an inline run\n\t_canonical_uri: optional string of the canonical URI of this content\n*/\nexports.parseText = function(type,text,options) {\n\ttext = text || \"\";\n\toptions = options || {};\n\t// Select a parser\n\tvar Parser = $tw.Wiki.parsers[type];\n\tif(!Parser &amp;&amp; $tw.utils.getFileExtensionInfo(type)) {\n\t\tParser = $tw.Wiki.parsers[$tw.utils.getFileExtensionInfo(type).type];\n\t}\n\tif(!Parser) {\n\t\tParser = $tw.Wiki.parsers[options.defaultType || \"text/vnd.tiddlywiki\"];\n\t}\n\tif(!Parser) {\n\t\treturn null;\n\t}\n\t// Return the parser instance\n\treturn new Parser(type,text,{\n\t\tparseAsInline: options.parseAsInline,\n\t\twiki: this,\n\t\t_canonical_uri: options._canonical_uri\n\t});\n};\n\n/*\nParse a tiddler according to its MIME type\n*/\nexports.parseTiddler = function(title,options) {\n\toptions = $tw.utils.extend({},options);\n\tvar cacheType = options.parseAsInline ? \"inlineParseTree\" : \"blockParseTree\",\n\t\ttiddler = this.getTiddler(title),\n\t\tself = this;\n\treturn tiddler ? this.getCacheForTiddler(title,cacheType,function() {\n\t\t\tif(tiddler.hasField(\"_canonical_uri\")) {\n\t\t\t\toptions._canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t}\n\t\t\treturn self.parseText(tiddler.fields.type,tiddler.fields.text,options);\n\t\t}) : null;\n};\n\nexports.parseTextReference = function(title,field,index,options) {\n\tvar tiddler,text;\n\tif(options.subTiddler) {\n\t\ttiddler = this.getSubTiddler(title,options.subTiddler);\n\t} else {\n\t\ttiddler = this.getTiddler(title);\n\t\tif(field === \"text\" || (!field &amp;&amp; !index)) {\n\t\t\tthis.getTiddlerText(title); // Force the tiddler to be lazily loaded\n\t\t\treturn this.parseTiddler(title,options);\n\t\t}\n\t}\n\tif(field === \"text\" || (!field &amp;&amp; !index)) {\n\t\tif(tiddler &amp;&amp; tiddler.fields) {\n\t\t\treturn this.parseText(tiddler.fields.type,tiddler.fields.text,options);\t\t\t\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t} else if(field) {\n\t\tif(field === \"title\") {\n\t\t\ttext = title;\n\t\t} else {\n\t\t\tif(!tiddler || !tiddler.hasField(field)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttext = tiddler.fields[field];\n\t\t}\n\t\treturn this.parseText(\"text/vnd.tiddlywiki\",text.toString(),options);\n\t} else if(index) {\n\t\tthis.getTiddlerText(title); // Force the tiddler to be lazily loaded\n\t\ttext = this.extractTiddlerDataItem(tiddler,index,undefined);\n\t\tif(text === undefined) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.parseText(\"text/vnd.tiddlywiki\",text,options);\n\t}\n};\n\n/*\nMake a widget tree for a parse tree\nparser: parser object\noptions: see below\nOptions include:\ndocument: optional document to use\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.makeWidget = function(parser,options) {\n\toptions = options || {};\n\tvar widgetNode = {\n\t\t\ttype: \"widget\",\n\t\t\tchildren: []\n\t\t},\n\t\tcurrWidgetNode = widgetNode;\n\t// Create set variable widgets for each variable\n\t$tw.utils.each(options.variables,function(value,name) {\n\t\tvar setVariableWidget = {\n\t\t\ttype: \"set\",\n\t\t\tattributes: {\n\t\t\t\tname: {type: \"string\", value: name},\n\t\t\t\tvalue: {type: \"string\", value: value}\n\t\t\t},\n\t\t\tchildren: []\n\t\t};\n\t\tcurrWidgetNode.children = [setVariableWidget];\n\t\tcurrWidgetNode = setVariableWidget;\n\t});\n\t// Add in the supplied parse tree nodes\n\tcurrWidgetNode.children = parser ? parser.tree : [];\n\t// Create the widget\n\treturn new widget.widget(widgetNode,{\n\t\twiki: this,\n\t\tdocument: options.document || $tw.fakeDocument,\n\t\tparentWidget: options.parentWidget\n\t});\n};\n\n/*\nMake a widget tree for transclusion\ntitle: target tiddler title\noptions: as for wiki.makeWidget() plus:\noptions.field: optional field to transclude (defaults to \"text\")\noptions.mode: transclusion mode \"inline\" or \"block\"\noptions.recursionMarker : optional flag to set a recursion marker, defaults to \"yes\"\noptions.children: optional array of children for the transclude widget\noptions.importVariables: optional importvariables filter string for macros to be included\noptions.importPageMacros: optional boolean; if true, equivalent to passing \"[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\" to options.importVariables\n*/\nexports.makeTranscludeWidget = function(title,options) {\n\toptions = options || {};\n\tvar parseTreeDiv = {tree: [{\n\t\t\ttype: \"element\",\n\t\t\ttag: \"div\",\n\t\t\tchildren: []}]},\n\t\tparseTreeImportVariables = {\n\t\t\ttype: \"importvariables\",\n\t\t\tattributes: {\n\t\t\t\tfilter: {\n\t\t\t\t\tname: \"filter\",\n\t\t\t\t\ttype: \"string\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tisBlock: false,\n\t\t\tchildren: []},\n\t\tparseTreeTransclude = {\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {\n\t\t\t\trecursionMarker: {\n\t\t\t\t\tname: \"recursionMarker\",\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tvalue: options.recursionMarker || \"yes\"\n\t\t\t\t\t},\n\t\t\t\ttiddler: {\n\t\t\t\t\tname: \"tiddler\",\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tvalue: title\n\t\t\t\t}\n\t\t\t},\n\t\t\tisBlock: !options.parseAsInline};\n\tif(options.importVariables || options.importPageMacros) {\n\t\tif(options.importVariables) {\n\t\t\tparseTreeImportVariables.attributes.filter.value = options.importVariables;\n\t\t} else if(options.importPageMacros) {\n\t\t\tparseTreeImportVariables.attributes.filter.value = \"[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\";\n\t\t}\n\t\tparseTreeDiv.tree[0].children.push(parseTreeImportVariables);\n\t\tparseTreeImportVariables.children.push(parseTreeTransclude);\n\t} else {\n\t\tparseTreeDiv.tree[0].children.push(parseTreeTransclude);\n\t}\n\tif(options.field) {\n\t\tparseTreeTransclude.attributes.field = {type: \"string\", value: options.field};\n\t}\n\tif(options.mode) {\n\t\tparseTreeTransclude.attributes.mode = {type: \"string\", value: options.mode};\n\t}\n\tif(options.children) {\n\t\tparseTreeTransclude.children = options.children;\n\t}\n\treturn this.makeWidget(parseTreeDiv,options);\n};\n\n/*\nParse text in a specified format and render it into another format\n\toutputType: content type for the output\n\ttextType: content type of the input text\n\ttext: input text\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderText = function(outputType,textType,text,options) {\n\toptions = options || {};\n\tvar parser = this.parseText(textType,text,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\"div\");\n\twidgetNode.render(container,null);\n\treturn outputType === \"text/html\" ? container.innerHTML : container.textContent;\n};\n\n/*\nParse text from a tiddler and render it into another format\n\toutputType: content type for the output\n\ttitle: title of the tiddler to be rendered\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderTiddler = function(outputType,title,options) {\n\toptions = options || {};\n\tvar parser = this.parseTiddler(title,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\"div\");\n\twidgetNode.render(container,null);\n\treturn outputType === \"text/html\" ? container.innerHTML : (outputType === \"text/plain-formatted\" ? container.formattedTextContent : container.textContent);\n};\n\n/*\nReturn an array of tiddler titles that match a search string\n\ttext: The text string to search for\n\toptions: see below\nOptions available:\n\tsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\n\texclude: An array of tiddler titles to exclude from the search\n\tinvert: If true returns tiddlers that do not contain the specified string\n\tcaseSensitive: If true forces a case sensitive search\n\tfield: If specified, restricts the search to the specified field, or an array of field names\n\tanchored: If true, forces all but regexp searches to be anchored to the start of text\n\texcludeField: If true, the field options are inverted to specify the fields that are not to be searched\n\tThe search mode is determined by the first of these boolean flags to be true\n\t\tliteral: searches for literal string\n\t\twhitespace: same as literal except runs of whitespace are treated as a single space\n\t\tregexp: treats the search term as a regular expression\n\t\twords: (default) treats search string as a list of tokens, and matches if all tokens are found, regardless of adjacency or ordering\n*/\nexports.search = function(text,options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tt,\n\t\tinvert = !!options.invert;\n\t// Convert the search string into a regexp for each term\n\tvar terms, searchTermsRegExps,\n\t\tflags = options.caseSensitive ? \"\" : \"i\",\n\t\tanchor = options.anchored ? \"^\" : \"\";\n\tif(options.literal) {\n\t\tif(text.length === 0) {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [new RegExp(\"(\" + anchor + $tw.utils.escapeRegExp(text) + \")\",flags)];\n\t\t}\n\t} else if(options.whitespace) {\n\t\tterms = [];\n\t\t$tw.utils.each(text.split(/\\s+/g),function(term) {\n\t\t\tif(term) {\n\t\t\t\tterms.push($tw.utils.escapeRegExp(term));\n\t\t\t}\n\t\t});\n\t\tsearchTermsRegExps = [new RegExp(\"(\" + anchor + terms.join(\"\\\\s+\") + \")\",flags)];\n\t} else if(options.regexp) {\n\t\ttry {\n\t\t\tsearchTermsRegExps = [new RegExp(\"(\" + text + \")\",flags)];\t\t\t\n\t\t} catch(e) {\n\t\t\tsearchTermsRegExps = null;\n\t\t\tconsole.log(\"Regexp error parsing /(\" + text + \")/\" + flags + \": \",e);\n\t\t}\n\t} else {\n\t\tterms = text.split(/ +/);\n\t\tif(terms.length === 1 &amp;&amp; terms[0] === \"\") {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [];\n\t\t\tfor(t=0; t&lt;terms.length; t++) {\n\t\t\t\tsearchTermsRegExps.push(new RegExp(\"(\" + anchor + $tw.utils.escapeRegExp(terms[t]) + \")\",flags));\n\t\t\t}\n\t\t}\n\t}\n\t// Accumulate the array of fields to be searched or excluded from the search\n\tvar fields = [];\n\tif(options.field) {\n\t\tif($tw.utils.isArray(options.field)) {\n\t\t\t$tw.utils.each(options.field,function(fieldName) {\n\t\t\t\tif(fieldName) {\n\t\t\t\t\tfields.push(fieldName);\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tfields.push(options.field);\n\t\t}\n\t}\n\t// Use default fields if none specified and we're not excluding fields (excluding fields with an empty field array is the same as searching all fields)\n\tif(fields.length === 0 &amp;&amp; !options.excludeField) {\n\t\tfields.push(\"title\");\n\t\tfields.push(\"tags\");\n\t\tfields.push(\"text\");\n\t}\n\t// Function to check a given tiddler for the search term\n\tvar searchTiddler = function(title) {\n\t\tif(!searchTermsRegExps) {\n\t\t\treturn true;\n\t\t}\n\t\tvar notYetFound = searchTermsRegExps.slice();\n\n\t\tvar tiddler = self.getTiddler(title);\n\t\tif(!tiddler) {\n\t\t\ttiddler = new $tw.Tiddler({title: title, text: \"\", type: \"text/vnd.tiddlywiki\"});\n\t\t}\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type] || $tw.config.contentTypeInfo[\"text/vnd.tiddlywiki\"],\n\t\t\tsearchFields;\n\t\t// Get the list of fields we're searching\n\t\tif(options.excludeField) {\n\t\t\tsearchFields = Object.keys(tiddler.fields);\n\t\t\t$tw.utils.each(fields,function(fieldName) {\n\t\t\t\tvar p = searchFields.indexOf(fieldName);\n\t\t\t\tif(p !== -1) {\n\t\t\t\t\tsearchFields.splice(p,1);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsearchFields = fields;\n\t\t}\n\t\tfor(var fieldIndex=0; notYetFound.length&gt;0 &amp;&amp; fieldIndex&lt;searchFields.length; fieldIndex++) {\n\t\t\t// Don't search the text field if the content type is binary\n\t\t\tvar fieldName = searchFields[fieldIndex];\n\t\t\tif(fieldName === \"text\" &amp;&amp; contentTypeInfo.encoding !== \"utf8\") {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar str = tiddler.fields[fieldName],\n\t\t\t\tt;\n\t\t\tif(str) {\n\t\t\t\tif($tw.utils.isArray(str)) {\n\t\t\t\t\t// If the field value is an array, test each regexp against each field array entry and fail if each regexp doesn't match at least one field array entry\n\t\t\t\t\tfor(var s=0; s&lt;str.length; s++) {\n\t\t\t\t\t\tfor(t=0; t&lt;notYetFound.length;) {\n\t\t\t\t\t\t\tif(notYetFound[t].test(str[s])) {\n\t\t\t\t\t\t\t\tnotYetFound.splice(t, 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// If the field isn't an array, force it to a string and test each regexp against it and fail if any do not match\n\t\t\t\t\tstr = tiddler.getFieldString(fieldName);\n\t\t\t\t\tfor(t=0; t&lt;notYetFound.length;) {\n\t\t\t\t\t\tif(notYetFound[t].test(str)) {\n\t\t\t\t\t\t\tnotYetFound.splice(t, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn notYetFound.length == 0;\n\t};\n\t// Loop through all the tiddlers doing the search\n\tvar results = [],\n\t\tsource = options.source || this.each;\n\tsource(function(tiddler,title) {\n\t\tif(searchTiddler(title) !== invert) {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\t// Remove any of the results we have to exclude\n\tif(options.exclude) {\n\t\tfor(t=0; t&lt;options.exclude.length; t++) {\n\t\t\tvar p = results.indexOf(options.exclude[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tresults.splice(p,1);\n\t\t\t}\n\t\t}\n\t}\n\treturn results;\n};\n\n/*\nTrigger a load for a tiddler if it is skinny. Returns the text, or undefined if the tiddler is missing, null if the tiddler is being lazily loaded.\n*/\nexports.getTiddlerText = function(title,defaultText) {\n\tvar tiddler = this.getTiddler(title);\n\t// Return undefined if the tiddler isn't found\n\tif(!tiddler) {\n\t\treturn defaultText;\n\t}\n\tif(!tiddler.hasField(\"_is_skinny\")) {\n\t\t// Just return the text if we've got it\n\t\treturn tiddler.fields.text || \"\";\n\t} else {\n\t\t// Tell any listeners about the need to lazily load this tiddler\n\t\tthis.dispatchEvent(\"lazyLoad\",title);\n\t\t// Indicate that the text is being loaded\n\t\treturn null;\n\t}\n};\n\n/*\nCheck whether the text of a tiddler matches a given value. By default, the comparison is case insensitive, and any spaces at either end of the tiddler text is trimmed\n*/\nexports.checkTiddlerText = function(title,targetText,options) {\n\toptions = options || {};\n\tvar text = this.getTiddlerText(title,\"\");\n\tif(!options.noTrim) {\n\t\ttext = text.trim();\n\t}\n\tif(!options.caseSensitive) {\n\t\ttext = text.toLowerCase();\n\t\ttargetText = targetText.toLowerCase();\n\t}\n\treturn text === targetText;\n}\n\n/*\nRead an array of browser File objects, invoking callback(tiddlerFieldsArray) once they're all read\n*/\nexports.readFiles = function(files,options) {\n\tvar callback;\n\tif(typeof options === \"function\") {\n\t\tcallback = options;\n\t\toptions = {};\n\t} else {\n\t\tcallback = options.callback;\n\t}\n\tvar result = [],\n\t\toutstanding = files.length,\n\t\treadFileCallback = function(tiddlerFieldsArray) {\n\t\t\tresult.push.apply(result,tiddlerFieldsArray);\n\t\t\tif(--outstanding === 0) {\n\t\t\t\tcallback(result);\n\t\t\t}\n\t\t};\n\tfor(var f=0; f&lt;files.length; f++) {\n\t\tthis.readFile(files[f],$tw.utils.extend({},options,{callback: readFileCallback}));\n\t}\n\treturn files.length;\n};\n\n/*\nRead a browser File object, invoking callback(tiddlerFieldsArray) with an array of tiddler fields objects\n*/\nexports.readFile = function(file,options) {\n\tvar callback;\n\tif(typeof options === \"function\") {\n\t\tcallback = options;\n\t\toptions = {};\n\t} else {\n\t\tcallback = options.callback;\n\t}\n\t// Get the type, falling back to the filename extension\n\tvar self = this,\n\t\ttype = file.type;\n\tif(type === \"\" || !type) {\n\t\tvar dotPos = file.name.lastIndexOf(\".\");\n\t\tif(dotPos !== -1) {\n\t\t\tvar fileExtensionInfo = $tw.utils.getFileExtensionInfo(file.name.substr(dotPos));\n\t\t\tif(fileExtensionInfo) {\n\t\t\t\ttype = fileExtensionInfo.type;\n\t\t\t}\n\t\t}\n\t}\n\t// Figure out if we're reading a binary file\n\tvar contentTypeInfo = $tw.config.contentTypeInfo[type],\n\t\tisBinary = contentTypeInfo ? contentTypeInfo.encoding === \"base64\" : false;\n\t// Log some debugging information\n\tif($tw.log.IMPORT) {\n\t\tconsole.log(\"Importing file '\" + file.name + \"', type: '\" + type + \"', isBinary: \" + isBinary);\n\t}\n\t// Give the hook a chance to process the drag\n\tif($tw.hooks.invokeHook(\"th-importing-file\",{\n\t\tfile: file,\n\t\ttype: type,\n\t\tisBinary: isBinary,\n\t\tcallback: callback\n\t}) !== true) {\n\t\tthis.readFileContent(file,type,isBinary,options.deserializer,callback);\n\t}\n};\n\n/*\nLower level utility to read the content of a browser File object, invoking callback(tiddlerFieldsArray) with an array of tiddler fields objects\n*/\nexports.readFileContent = function(file,type,isBinary,deserializer,callback) {\n\tvar self = this;\n\t// Create the FileReader\n\tvar reader = new FileReader();\n\t// Onload\n\treader.onload = function(event) {\n\t\tvar text = event.target.result,\n\t\t\ttiddlerFields = {title: file.name || \"Untitled\"};\n\t\tif(isBinary) {\n\t\t\tvar commaPos = text.indexOf(\",\");\n\t\t\tif(commaPos !== -1) {\n\t\t\t\ttext = text.substr(commaPos + 1);\n\t\t\t}\n\t\t}\n\t\t// Check whether this is an encrypted TiddlyWiki file\n\t\tvar encryptedJson = $tw.utils.extractEncryptedStoreArea(text);\n\t\tif(encryptedJson) {\n\t\t\t// If so, attempt to decrypt it with the current password\n\t\t\t$tw.utils.decryptStoreAreaInteractive(encryptedJson,function(tiddlers) {\n\t\t\t\tcallback(tiddlers);\n\t\t\t});\n\t\t} else {\n\t\t\t// Otherwise, just try to deserialise any tiddlers in the file\n\t\t\tcallback(self.deserializeTiddlers(type,text,tiddlerFields,{deserializer: deserializer}));\n\t\t}\n\t};\n\t// Kick off the read\n\tif(isBinary) {\n\t\treader.readAsDataURL(file);\n\t} else {\n\t\treader.readAsText(file);\n\t}\n};\n\n/*\nFind any existing draft of a specified tiddler\n*/\nexports.findDraft = function(targetTitle) {\n\tvar draftTitle = undefined;\n\tthis.forEachTiddler({includeSystem: true},function(title,tiddler) {\n\t\tif(tiddler.fields[\"draft.title\"] &amp;&amp; tiddler.fields[\"draft.of\"] === targetTitle) {\n\t\t\tdraftTitle = title;\n\t\t}\n\t});\n\treturn draftTitle;\n}\n\n/*\nCheck whether the specified draft tiddler has been modified.\nIf the original tiddler doesn't exist, create  a vanilla tiddler variable,\nto check if additional fields have been added.\n*/\nexports.isDraftModified = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(!tiddler.isDraft()) {\n\t\treturn false;\n\t}\n\tvar ignoredFields = [\"created\", \"modified\", \"title\", \"draft.title\", \"draft.of\"],\n\t\torigTiddler = this.getTiddler(tiddler.fields[\"draft.of\"]) || new $tw.Tiddler({text:\"\", tags:[]}),\n\t\ttitleModified = tiddler.fields[\"draft.title\"] !== tiddler.fields[\"draft.of\"];\n\treturn titleModified || !tiddler.isEqual(origTiddler,ignoredFields);\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\nhistoryTitle: title of history tiddler (defaults to $:/HistoryList)\n*/\nexports.addToHistory = function(title,fromPageRect,historyTitle) {\n\tvar story = new $tw.Story({wiki: this, historyTitle: historyTitle});\n\tstory.addToHistory(title,fromPageRect);\t\n\tconsole.log(\"$tw.wiki.addToHistory() is deprecated since V5.1.23! Use the this.story.addToHistory() from the story-object!\")\n};\n\n/*\nAdd a new tiddler to the story river\ntitle: a title string or an array of title strings\nfromTitle: the title of the tiddler from which the navigation originated\nstoryTitle: title of story tiddler (defaults to $:/StoryList)\noptions: see story.js\n*/\nexports.addToStory = function(title,fromTitle,storyTitle,options) {\n\tvar story = new $tw.Story({wiki: this, storyTitle: storyTitle});\n\tstory.addToStory(title,fromTitle,options);\n\tconsole.log(\"$tw.wiki.addToStory() is deprecated since V5.1.23! Use the this.story.addToStory() from the story-object!\")\n};\n\n/*\nGenerate a title for the draft of a given tiddler\n*/\nexports.generateDraftTitle = function(title) {\n\tvar c = 0,\n\t\tdraftTitle,\n\t\tusername = this.getTiddlerText(\"$:/status/UserName\"),\n\t\tattribution = username ? \" by \" + username : \"\";\n\tdo {\n\t\tdraftTitle = \"Draft \" + (c ? (c + 1) + \" \" : \"\") + \"of '\" + title + \"'\" + attribution;\n\t\tc++;\n\t} while(this.tiddlerExists(draftTitle));\n\treturn draftTitle;\n};\n\n/*\nInvoke the available upgrader modules\ntitles: array of tiddler titles to be processed\ntiddlers: hashmap by title of tiddler fields of pending import tiddlers. These can be modified by the upgraders. An entry with no fields indicates a tiddler that was pending import has been suppressed. When entries are added to the pending import the tiddlers hashmap may have entries that are not present in the titles array\nReturns a hashmap of messages keyed by tiddler title.\n*/\nexports.invokeUpgraders = function(titles,tiddlers) {\n\t// Collect up the available upgrader modules\n\tvar self = this;\n\tif(!this.upgraderModules) {\n\t\tthis.upgraderModules = [];\n\t\t$tw.modules.forEachModuleOfType(\"upgrader\",function(title,module) {\n\t\t\tif(module.upgrade) {\n\t\t\t\tself.upgraderModules.push(module);\n\t\t\t}\n\t\t});\n\t}\n\t// Invoke each upgrader in turn\n\tvar messages = {};\n\tfor(var t=0; t&lt;this.upgraderModules.length; t++) {\n\t\tvar upgrader = this.upgraderModules[t],\n\t\t\tupgraderMessages = upgrader.upgrade(this,titles,tiddlers);\n\t\t$tw.utils.extend(messages,upgraderMessages);\n\t}\n\treturn messages;\n};\n\n// Determine whether a plugin by title is dynamically loadable\nexports.doesPluginRequireReload = function(title) {\n\treturn this.doesPluginInfoRequireReload(this.getPluginInfo(title) || this.getTiddlerDataCached(title));\n};\n\n// Determine whether a plugin info structure is dynamically loadable\nexports.doesPluginInfoRequireReload = function(pluginInfo) {\n\tif(pluginInfo) {\n\t\tvar foundModule = false;\n\t\t$tw.utils.each(pluginInfo.tiddlers,function(tiddler) {\n\t\t\tif(tiddler.type === \"application/javascript\" &amp;&amp; $tw.utils.hop(tiddler,\"module-type\")) {\n\t\t\t\tfoundModule = true;\n\t\t\t}\n\t\t});\n\t\treturn foundModule;\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexports.slugify = function(title,options) {\n\tvar tiddler = this.getTiddler(title),\n\t\tslug;\n\tif(tiddler &amp;&amp; tiddler.fields.slug) {\n\t\tslug = tiddler.fields.slug;\n\t} else {\n\t\tslug = $tw.utils.transliterate(title.toString().toLowerCase()) // Replace diacritics with basic lowercase ASCII\n\t\t\t.replace(/\\s+/g,\"-\")                                       // Replace spaces with -\n\t\t\t.replace(/[^\\w\\-\\.]+/g,\"\")                                 // Remove all non-word chars except dash and dot\n\t\t\t.replace(/\\-\\-+/g,\"-\")                                     // Replace multiple - with single -\n\t\t\t.replace(/^-+/,\"\")                                         // Trim - from start of text\n\t\t\t.replace(/-+$/,\"\");                                        // Trim - from end of text\n\t}\n\t// If the resulting slug is blank (eg because the title is just punctuation characters)\n\tif(!slug) {\n\t\t// ...then just use the character codes of the title\n\t\tvar result = [];\n\t\t$tw.utils.each(title.split(\"\"),function(char) {\n\t\t\tresult.push(char.charCodeAt(0).toString());\n\t\t});\n\t\tslug = result.join(\"-\");\n\t}\n\treturn slug;\n};\n\n})();\n\n",
            "type": "application/javascript",
            "module-type": "wikimethod"
        },
        "$:/palettes/Blanca": {
            "title": "$:/palettes/Blanca",
            "name": "Blanca",
            "description": "A clean white palette to let you focus",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #66cccc\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ffffff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #7897f3\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ccc\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ffffff\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #7897f3\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #eeeeee\ntab-border-selected: #cccccc\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffeedd\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: #eee\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #ff9900\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/Blue": {
            "title": "$:/palettes/Blue",
            "name": "Blue",
            "description": "A blue theme",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #fff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour foreground&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333353\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ddddff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #5959c0\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: #ccccdd\ntab-border-selected: #ccccdd\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #eeeeff\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #666666\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #ffffff\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #ffffff\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #5959c0\ntoolbar-new-button: #5eb95e\ntoolbar-options-button: rgb(128, 88, 165)\ntoolbar-save-button: #0e90d2\ntoolbar-info-button: #0e90d2\ntoolbar-edit-button: rgb(243, 123, 29)\ntoolbar-close-button: #dd514c\ntoolbar-delete-button: #dd514c\ntoolbar-cancel-button: rgb(243, 123, 29)\ntoolbar-done-button: #5eb95e\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/Muted": {
            "title": "$:/palettes/Muted",
            "name": "Muted",
            "description": "Bright tiddlers on a muted background",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #6f6f70\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #29a6ee\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #c2c1c2\nsidebar-foreground-shadow: rgba(255,255,255,0)\nsidebar-foreground: #d3d2d4\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #6f6f70\nsidebar-tab-background: #666667\nsidebar-tab-border-selected: #999\nsidebar-tab-border: #515151\nsidebar-tab-divider: #999\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: #999\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #d1d0d2\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #d5ad34\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/ContrastLight": {
            "title": "$:/palettes/ContrastLight",
            "name": "Contrast (Light)",
            "description": "High contrast and unambiguous (light version)",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #f00\nalert-border: &lt;&lt;colour background&gt;&gt;\nalert-highlight: &lt;&lt;colour foreground&gt;&gt;\nalert-muted-foreground: #800\nbackground: #fff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background: &lt;&lt;colour background&gt;&gt;\nbutton-foreground: &lt;&lt;colour foreground&gt;&gt;\nbutton-border: &lt;&lt;colour foreground&gt;&gt;\ncode-background: &lt;&lt;colour background&gt;&gt;\ncode-border: &lt;&lt;colour foreground&gt;&gt;\ncode-foreground: &lt;&lt;colour foreground&gt;&gt;\ndirty-indicator: #f00\ndownload-background: #080\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: &lt;&lt;colour foreground&gt;&gt;\ndropdown-tab-background: &lt;&lt;colour foreground&gt;&gt;\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #00a\nexternal-link-foreground: #00e\nforeground: #000\nmessage-background: &lt;&lt;colour foreground&gt;&gt;\nmessage-border: &lt;&lt;colour background&gt;&gt;\nmessage-foreground: &lt;&lt;colour background&gt;&gt;\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-footer-background: &lt;&lt;colour background&gt;&gt;\nmodal-footer-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-header-border: &lt;&lt;colour foreground&gt;&gt;\nmuted-foreground: &lt;&lt;colour foreground&gt;&gt;\nnotification-background: &lt;&lt;colour background&gt;&gt;\nnotification-border: &lt;&lt;colour foreground&gt;&gt;\npage-background: &lt;&lt;colour background&gt;&gt;\npre-background: &lt;&lt;colour background&gt;&gt;\npre-border: &lt;&lt;colour foreground&gt;&gt;\nprimary: #00f\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: &lt;&lt;colour background&gt;&gt;\nsidebar-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-foreground-shadow: rgba(0,0,0, 0)\nsidebar-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-background-selected: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: &lt;&lt;colour foreground&gt;&gt;\ntab-border-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-border: &lt;&lt;colour foreground&gt;&gt;\ntab-divider: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground: &lt;&lt;colour background&gt;&gt;\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #000\ntag-foreground: #fff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-controls-foreground-hover: #ddd\ntiddler-controls-foreground-selected: #fdd\ntiddler-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-background: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-border-image: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-fields-odd: &lt;&lt;colour background&gt;&gt;\ntiddler-info-background: &lt;&lt;colour background&gt;&gt;\ntiddler-info-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-info-tab-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-title-foreground: &lt;&lt;colour foreground&gt;&gt;\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: &lt;&lt;colour foreground&gt;&gt;\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/ContrastDark": {
            "title": "$:/palettes/ContrastDark",
            "name": "Contrast (Dark)",
            "description": "High contrast and unambiguous (dark version)",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #f00\nalert-border: &lt;&lt;colour background&gt;&gt;\nalert-highlight: &lt;&lt;colour foreground&gt;&gt;\nalert-muted-foreground: #800\nbackground: #000\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background: &lt;&lt;colour background&gt;&gt;\nbutton-foreground: &lt;&lt;colour foreground&gt;&gt;\nbutton-border: &lt;&lt;colour foreground&gt;&gt;\ncode-background: &lt;&lt;colour background&gt;&gt;\ncode-border: &lt;&lt;colour foreground&gt;&gt;\ncode-foreground: &lt;&lt;colour foreground&gt;&gt;\ndirty-indicator: #f00\ndownload-background: #080\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: &lt;&lt;colour foreground&gt;&gt;\ndropdown-tab-background: &lt;&lt;colour foreground&gt;&gt;\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #00a\nexternal-link-foreground: #00e\nforeground: #fff\nmessage-background: &lt;&lt;colour foreground&gt;&gt;\nmessage-border: &lt;&lt;colour background&gt;&gt;\nmessage-foreground: &lt;&lt;colour background&gt;&gt;\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-footer-background: &lt;&lt;colour background&gt;&gt;\nmodal-footer-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-header-border: &lt;&lt;colour foreground&gt;&gt;\nmuted-foreground: &lt;&lt;colour foreground&gt;&gt;\nnotification-background: &lt;&lt;colour background&gt;&gt;\nnotification-border: &lt;&lt;colour foreground&gt;&gt;\npage-background: &lt;&lt;colour background&gt;&gt;\npre-background: &lt;&lt;colour background&gt;&gt;\npre-border: &lt;&lt;colour foreground&gt;&gt;\nprimary: #00f\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: &lt;&lt;colour background&gt;&gt;\nsidebar-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-foreground-shadow: rgba(0,0,0, 0)\nsidebar-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-background-selected: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: &lt;&lt;colour foreground&gt;&gt;\ntab-border-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-border: &lt;&lt;colour foreground&gt;&gt;\ntab-divider: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground: &lt;&lt;colour background&gt;&gt;\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #fff\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-controls-foreground-hover: #ddd\ntiddler-controls-foreground-selected: #fdd\ntiddler-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-background: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-border-image: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-fields-odd: &lt;&lt;colour background&gt;&gt;\ntiddler-info-background: &lt;&lt;colour background&gt;&gt;\ntiddler-info-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-info-tab-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-title-foreground: &lt;&lt;colour foreground&gt;&gt;\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: &lt;&lt;colour foreground&gt;&gt;\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/CupertinoDark": {
            "title": "$:/palettes/CupertinoDark",
            "tags": "$:/tags/Palette",
            "name": "Cupertino Dark",
            "description": "A macOS inspired dark palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #FF453A\nalert-border: #FF453A\nalert-highlight: #FFD60A\nalert-muted-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\nbackground: #282828\nblockquote-bar: &lt;&lt;colour page-background&gt;&gt;\nbutton-foreground: &lt;&lt;colour background&gt;&gt;\ncode-background: &lt;&lt;colour pre-background&gt;&gt;\ncode-border: &lt;&lt;colour pre-border&gt;&gt;\ncode-foreground: rgba(255, 255, 255, 0.54)\ndirty-indicator: #FF453A\ndownload-background: &lt;&lt;colour primary&gt;&gt;\ndownload-foreground: &lt;&lt;colour foreground&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour tiddler-info-background&gt;&gt;\ndropdown-border: &lt;&lt;colour dropdown-background&gt;&gt;\ndropdown-tab-background-selected: #3F638B\ndropdown-tab-background: #323232\ndropzone-background: #30D158\nexternal-link-background-hover: transparent\nexternal-link-background-visited: transparent\nexternal-link-background: transparent\nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #BF5AF2\nexternal-link-foreground: #32D74B\nforeground: #FFFFFF\nmenubar-background: #464646\nmenubar-foreground: #ffffff\nmessage-background: &lt;&lt;colour background&gt;&gt;\nmessage-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmessage-foreground: rgba(255, 255, 255, 0.54)\nmodal-backdrop: &lt;&lt;colour page-background&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmodal-footer-background: &lt;&lt;colour background&gt;&gt;\nmodal-footer-border: &lt;&lt;colour background&gt;&gt;\nmodal-header-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmuted-foreground: #98989D\nnotification-background: &lt;&lt;colour dropdown-background&gt;&gt;\nnotification-border: &lt;&lt;colour dropdown-background&gt;&gt;\npage-background: #323232\npre-background: #464646\npre-border: transparent\nprimary: #0A84FF\nselect-tag-background: &lt;&lt;colour background&gt;&gt;\nselect-tag-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-button-foreground: &lt;&lt;colour background&gt;&gt;\nsidebar-controls-foreground-hover: #FF9F0A\nsidebar-controls-foreground: #8E8E93\nsidebar-foreground-shadow: transparent\nsidebar-foreground: rgba(255, 255, 255, 0.54)\nsidebar-muted-foreground-hover: rgba(255, 255, 255, 0.54)\nsidebar-muted-foreground: rgba(255, 255, 255, 0.38)\nsidebar-tab-background-selected: #3F638B\nsidebar-tab-background: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-foreground-selected: rgba(255, 255, 255, 0.87)\nsidebar-tab-foreground: rgba(255, 255, 255, 0.54)\nsidebar-tiddler-link-foreground-hover: rgba(255, 255, 255, 0.7)\nsidebar-tiddler-link-foreground: rgba(255, 255, 255, 0.54)\nsite-title-foreground: #ffffff\nstatic-alert-foreground: #B4B4B4\ntab-background-selected: #3F638B\ntab-background: &lt;&lt;colour page-background&gt;&gt;\ntab-border-selected: &lt;&lt;colour page-background&gt;&gt;\ntab-border: &lt;&lt;colour page-background&gt;&gt;\ntab-divider: &lt;&lt;colour page-background&gt;&gt;\ntab-foreground-selected: rgba(255, 255, 255, 0.87)\ntab-foreground: rgba(255, 255, 255, 0.54)\ntable-border: #464646\ntable-footer-background: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;\ntable-header-background: &lt;&lt;colour tiddler-editor-fields-even&gt;&gt;\ntag-background: #48484A\ntag-foreground: #323232\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: transparent\ntiddler-controls-foreground-hover: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;\ntiddler-controls-foreground-selected: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;\ntiddler-controls-foreground: #48484A\ntiddler-editor-background: transparent\ntiddler-editor-border-image: \ntiddler-editor-border: rgba(255, 255, 255, 0.08)\ntiddler-editor-fields-even: rgba(255, 255, 255, 0.1)\ntiddler-editor-fields-odd: rgba(255, 255, 255, 0.04)\ntiddler-info-background: #1E1E1E\ntiddler-info-border: #1E1E1E\ntiddler-info-tab-background: #3F638B\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ntiddler-title-foreground: #FFFFFF\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: &lt;&lt;colour very-muted-foreground&gt;&gt;\nvery-muted-foreground: #464646\nselection-background: #3F638B\nselection-foreground: #ffffff\nwikilist-background: &lt;&lt;colour page-background&gt;&gt;\nwikilist-button-background: #3F638B\nwikilist-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nwikilist-button-open: #32D74B\nwikilist-button-open-hover: #32D74B\nwikilist-button-reveal: #0A84FF\nwikilist-button-reveal-hover: #0A84FF\nwikilist-button-remove: #FF453A\nwikilist-button-remove-hover: #FF453A\nwikilist-droplink-dragover: #32D74B\nwikilist-item: &lt;&lt;colour background&gt;&gt;\nwikilist-toolbar-background: &lt;&lt;colour background&gt;&gt;\nwikilist-title: &lt;&lt;colour foreground&gt;&gt;\nwikilist-title-svg: &lt;&lt;colour foreground&gt;&gt;\nwikilist-toolbar-foreground: &lt;&lt;colour foreground&gt;&gt;\nwikilist-url: &lt;&lt;colour muted-foreground&gt;&gt;\n"
        },
        "$:/palettes/DarkPhotos": {
            "title": "$:/palettes/DarkPhotos",
            "created": "20150402111612188",
            "description": "Good with dark photo backgrounds",
            "modified": "20150402112344080",
            "name": "DarkPhotos",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background: \nbutton-foreground: \nbutton-border: \ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #ddd\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #336438\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #ccf\nsidebar-controls-foreground: #fff\nsidebar-foreground-shadow: rgba(0,0,0, 0.5)\nsidebar-foreground: #fff\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #eee\nsidebar-tab-background-selected: rgba(255,255,255, 0.8)\nsidebar-tab-background: rgba(255,255,255, 0.4)\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: rgba(255,255,255, 0.2)\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #aaf\nsidebar-tiddler-link-foreground: #ddf\nsite-title-foreground: #fff\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ec6\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/DesertSand": {
            "title": "$:/palettes/DesertSand",
            "tags": "$:/tags/Palette",
            "name": "Desert Sand",
            "description": "A desert sand palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #E9E0C7\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-foreground: &lt;&lt;colour foreground&gt;&gt;\ncode-background: #F3EDDF\ncode-border: #C3BAA1\ncode-foreground: #ab3250\ndiff-delete-background: #bd8b8b\ndiff-delete-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-equal-background: \ndiff-equal-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-insert-background: #91c093\ndiff-insert-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-invisible-background: \ndiff-invisible-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ndirty-indicator: #ad3434\ndownload-background: #6ca16c\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #E9E0C7\ndropdown-tab-background: #BAB29C\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #313163\nexternal-link-foreground: #555592\nforeground: #2D2A23\nmenubar-background: #CDC2A6\nmenubar-foreground: #5A5446\nmessage-background: #ECE5CF\nmessage-border: #D6CBAA\nmessage-foreground: #5f6e7d\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #8A8885\nmodal-footer-background: #CDC2A6\nmodal-footer-border: #9D998E\nmodal-header-border: #9D998E\nmuted-foreground: #9D998E\nnotification-background: #F0E9D7\nnotification-border: #939189\npage-background: #e0d3af\npre-background: #D6CBAA\npre-border: #CDC2A6\nprimary: #5B6F55\nselection-background: #9D947B\nselection-foreground: &lt;&lt;colour foreground&gt;&gt;\nselect-tag-background: #F0E9D7\nselect-tag-foreground: #2D2A23\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #2D2A23\nsidebar-controls-foreground: #867F69\nsidebar-foreground-shadow: transparent\nsidebar-foreground: #867F69\nsidebar-muted-foreground-hover: #706A58\nsidebar-muted-foreground: #B3A98C\nsidebar-tab-background-selected: #e0d3af\nsidebar-tab-background: #A6A193\nsidebar-tab-border-selected: #C3BAA1\nsidebar-tab-border: #C3BAA1\nsidebar-tab-divider: #CDC2A6\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: #2D2A23\nsidebar-tiddler-link-foreground-hover: #433F35\nsidebar-tiddler-link-foreground: #706A58\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #A6A193\ntab-background-selected: #E9E0C7\ntab-background: #A6A193\ntab-border-selected: #C3BAA1\ntab-border: #C3BAA1\ntab-divider: #CDC2A6\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #2D2A23\ntable-border: #9D998E\ntable-footer-background: #8A8885\ntable-header-background: #B0AA98\ntag-background: #706A58\ntag-foreground: #E3D7B7\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #9D947B\ntiddler-controls-foreground-selected: #706A58\ntiddler-controls-foreground: #C3BAA1\ntiddler-editor-background: #E9E0C7\ntiddler-editor-border-image: #A6A193\ntiddler-editor-border: #A6A193\ntiddler-editor-fields-even: #D6CBAA\ntiddler-editor-fields-odd: #C3BAA1\ntiddler-info-background: #E3D7B7\ntiddler-info-border: #BAB29C\ntiddler-info-tab-background: #E9E0C7\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #867F69\ntiddler-title-foreground: #374464\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #8A8885\nvery-muted-foreground: #CDC2A6\nwikilist-background: &lt;&lt;colour page-background&gt;&gt;\nwikilist-item: #CDC2A6\nwikilist-info: #161512\nwikilist-title: #433F35\nwikilist-title-svg: &lt;&lt;colour wikilist-title&gt;&gt;\nwikilist-url: #706A58\nwikilist-button-open: #7db66a\nwikilist-button-open-hover: #56a556\nwikilist-button-reveal: #5a6c9e\nwikilist-button-reveal-hover: #454591\nwikilist-button-remove: #bc5972\nwikilist-button-remove-hover: #814040\nwikilist-toolbar-background: #CDC2A6\nwikilist-toolbar-foreground: #2D2A23\nwikilist-droplink-dragover: rgba(255,192,192,0.5)\nwikilist-button-background: #A6A193\nwikilist-button-foreground: #161512\n"
        },
        "$:/palettes/GruvboxDark": {
            "title": "$:/palettes/GruvboxDark",
            "name": "Gruvbox Dark",
            "description": "Retro groove color scheme",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "license": "https://github.com/morhetz/gruvbox",
            "text": "alert-background: #cc241d\nalert-border: #cc241d\nalert-highlight: #d79921\nalert-muted-foreground: #504945\nbackground: #3c3836\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-foreground: &lt;&lt;colour page-background&gt;&gt;\ncode-background: #504945\ncode-border: #504945\ncode-foreground: #fb4934\ndiff-delete-background: #fb4934\ndiff-delete-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-equal-background: \ndiff-equal-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-insert-background: #b8bb26\ndiff-insert-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-invisible-background: \ndiff-invisible-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ndirty-indicator: #fb4934\ndownload-background: #b8bb26\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: #665c54\ndropdown-border: &lt;&lt;colour background&gt;&gt;\ndropdown-tab-background-selected: #ebdbb2\ndropdown-tab-background: #665c54\ndropzone-background: #98971a\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #d3869b\nexternal-link-foreground: #8ec07c\nforeground: #fbf1c7\nmenubar-background: #504945\nmenubar-foreground: &lt;&lt;colour foreground&gt;&gt;\nmessage-background: #83a598\nmessage-border: #83a598\nmessage-foreground: #3c3836\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #504945\nmodal-footer-background: #3c3836\nmodal-footer-border: #3c3836\nmodal-header-border: #3c3836\nmuted-foreground: #d5c4a1\nnotification-background: &lt;&lt;colour primary&gt;&gt;\nnotification-border: &lt;&lt;colour primary&gt;&gt;\npage-background: #282828\npre-background: #504945\npre-border: #504945\nprimary: #d79921\nselect-tag-background: #665c54\nselect-tag-foreground: &lt;&lt;colour foreground&gt;&gt;\nselection-background: #458588\nselection-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-button-foreground: &lt;&lt;colour page-background&gt;&gt;\nsidebar-controls-foreground-hover: #7c6f64\nsidebar-controls-foreground: #504945\nsidebar-foreground-shadow: transparent\nsidebar-foreground: #fbf1c7\nsidebar-muted-foreground-hover: #7c6f64\nsidebar-muted-foreground: #504945\nsidebar-tab-background-selected: #bdae93\nsidebar-tab-background: #3c3836\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: #bdae93\nsidebar-tab-divider: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-foreground-selected: #282828\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #458588\nsidebar-tiddler-link-foreground: #98971a\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #B48EAD\ntab-background-selected: #ebdbb2\ntab-background: #665c54\ntab-border-selected: #665c54\ntab-border: #665c54\ntab-divider: #bdae93\ntab-foreground-selected: #282828\ntab-foreground: #ebdbb2\ntable-border: #7c6f64\ntable-footer-background: #665c54\ntable-header-background: #504945\ntag-background: #d3869b\ntag-foreground: #282828\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #7c6f64\ntiddler-controls-foreground-selected: &lt;&lt;colour primary&gt;&gt;\ntiddler-controls-foreground: #665c54\ntiddler-editor-background: #32302f\ntiddler-editor-border-image: #282828\ntiddler-editor-border: #282828\ntiddler-editor-fields-even: #504945\ntiddler-editor-fields-odd: #7c6f64\ntiddler-info-background: #32302f\ntiddler-info-border: #ebdbb2\ntiddler-info-tab-background: #ebdbb2\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #7c6f64\ntiddler-title-foreground: #a89984\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #504945\nvery-muted-foreground: #bdae93\nwikilist-background: &lt;&lt;colour page-background&gt;&gt;\nwikilist-button-background: #acacac\nwikilist-button-foreground: &lt;&lt;colour button-foreground&gt;&gt;\nwikilist-item: &lt;&lt;colour background&gt;&gt;\nwikilist-toolbar-background: &lt;&lt;colour background&gt;&gt;\nwikilist-toolbar-foreground: &lt;&lt;colour foreground&gt;&gt;\nwikilist-title: &lt;&lt;colour foreground&gt;&gt;\nwikilist-title-svg: &lt;&lt;colour wikilist-title&gt;&gt;\nwikilist-url: &lt;&lt;colour muted-foreground&gt;&gt;\nwikilist-button-open-hover: &lt;&lt;colour primary&gt;&gt;\nwikilist-button-open: &lt;&lt;colour dropzone-background&gt;&gt;\nwikilist-button-remove: &lt;&lt;colour dirty-indicator&gt;&gt;\nwikilist-button-remove-hover: &lt;&lt;colour alert-background&gt;&gt;\nwikilist-droplink-dragover: &lt;&lt;colour dropzone-background&gt;&gt;\nwikilist-button-reveal: &lt;&lt;colour sidebar-tiddler-link-foreground-hover&gt;&gt;\nwikilist-button-reveal-hover: &lt;&lt;colour message-background&gt;&gt;\n"
        },
        "$:/palettes/Nord": {
            "title": "$:/palettes/Nord",
            "name": "Nord",
            "description": "An arctic, north-bluish color palette.",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "license": "MIT, arcticicestudio, https://github.com/arcticicestudio/nord/blob/develop/LICENSE.md",
            "text": "alert-background: #D08770\nalert-border: #D08770\nalert-highlight: #B48EAD\nalert-muted-foreground: #4C566A\nbackground: #3b4252\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-foreground: &lt;&lt;colour page-background&gt;&gt;\ncode-background: #2E3440\ncode-border: #2E3440\ncode-foreground: #BF616A\ndiff-delete-background: #BF616A\ndiff-delete-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-equal-background: \ndiff-equal-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-insert-background: #A3BE8C\ndiff-insert-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-invisible-background: \ndiff-invisible-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ndirty-indicator: #BF616A\ndownload-background: #A3BE8C\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour background&gt;&gt;\ndropdown-tab-background-selected: #ECEFF4\ndropdown-tab-background: #4C566A\ndropzone-background: #A3BE8C\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #5E81AC\nexternal-link-foreground: #8FBCBB\nforeground: #d8dee9\nmenubar-background: #2E3440\nmenubar-foreground: #d8dee9\nmessage-background: #2E3440\nmessage-border: #2E3440\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #3b4252\nmodal-footer-background: #3b4252\nmodal-footer-border: #3b4252\nmodal-header-border: #3b4252\nmuted-foreground: #4C566A\nnotification-background: &lt;&lt;colour primary&gt;&gt;\nnotification-border: #EBCB8B\npage-background: #2e3440\npre-background: #2E3440\npre-border: #2E3440\nprimary: #5E81AC\nselect-tag-background: #3b4252\nselect-tag-foreground: &lt;&lt;colour foreground&gt;&gt;\nselection-background: #5E81AC\nselection-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-button-foreground: &lt;&lt;colour page-background&gt;&gt;\nsidebar-controls-foreground-hover: #D8DEE9\nsidebar-controls-foreground: #4C566A\nsidebar-foreground-shadow: transparent\nsidebar-foreground: #D8DEE9\nsidebar-muted-foreground-hover: #4C566A\nsidebar-muted-foreground: #4C566A\nsidebar-tab-background-selected: #ECEFF4\nsidebar-tab-background: #4C566A\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: #4C566A\nsidebar-tab-divider: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-foreground-selected: #4C566A\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #A3BE8C\nsidebar-tiddler-link-foreground: #81A1C1\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #B48EAD\ntab-background-selected: #ECEFF4\ntab-background: #4C566A\ntab-border-selected: #4C566A\ntab-border: #4C566A\ntab-divider: #4C566A\ntab-foreground-selected: #4C566A\ntab-foreground: #D8DEE9\ntable-border: #4C566A\ntable-footer-background: #2e3440\ntable-header-background: #2e3440\ntag-background: #A3BE8C\ntag-foreground: #4C566A\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: \ntiddler-controls-foreground-selected: #EBCB8B\ntiddler-controls-foreground: #4C566A\ntiddler-editor-background: #2e3440\ntiddler-editor-border-image: #2e3440\ntiddler-editor-border: #3b4252\ntiddler-editor-fields-even: #2e3440\ntiddler-editor-fields-odd: #2e3440\ntiddler-info-background: #2e3440\ntiddler-info-border: #2e3440\ntiddler-info-tab-background: #2e3440\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #4C566A\ntiddler-title-foreground: #81A1C1\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #2d3038\nvery-muted-foreground: #2d3038\nwikilist-background: &lt;&lt;colour page-background&gt;&gt;\nwikilist-toolbar-background: &lt;&lt;colour background&gt;&gt;\nwikilist-item: &lt;&lt;colour background&gt;&gt;\nwikilist-title: &lt;&lt;colour foreground&gt;&gt;\nwikilist-info: &lt;&lt;colour muted-foreground&gt;&gt;\nwikilist-button-open: #A3BE8C\nwikilist-button-open-hover: #A3BE8C\nwikilist-button-reveal: #81A1C1\nwikilist-button-reveal-hover: #81A1C1\nwikilist-button-remove: #B48EAD\nwikilist-button-remove-hover: #B48EAD\n"
        },
        "$:/palettes/Rocker": {
            "title": "$:/palettes/Rocker",
            "name": "Rocker",
            "description": "A dark theme",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #000\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #cc0000\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.0)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #000\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #ffbb99\nsidebar-tiddler-link-foreground: #cc0000\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffbb99\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #cc0000\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/SolarFlare": {
            "title": "$:/palettes/SolarFlare",
            "name": "Solar Flare",
            "description": "Warm, relaxing earth colours",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": ": Background Tones\n\nbase03: #002b36\nbase02: #073642\n\n: Content Tones\n\nbase01: #586e75\nbase00: #657b83\nbase0: #839496\nbase1: #93a1a1\n\n: Background Tones\n\nbase2: #eee8d5\nbase3: #fdf6e3\n\n: Accent Colors\n\nyellow: #b58900\norange: #cb4b16\nred: #dc322f\nmagenta: #d33682\nviolet: #6c71c4\nblue: #268bd2\ncyan: #2aa198\ngreen: #859900\n\n: Additional Tones (RA)\n\nbase10: #c0c4bb\nviolet-muted: #7c81b0\nblue-muted: #4e7baa\n\nyellow-hot: #ffcc44\norange-hot: #eb6d20\nred-hot: #ff2222\nblue-hot: #2298ee\ngreen-hot: #98ee22\n\n: Palette\n\n: Do not use colour macro for background and foreground\nbackground: #fdf6e3\n    download-foreground: &lt;&lt;colour background&gt;&gt;\n    dragger-foreground: &lt;&lt;colour background&gt;&gt;\n    dropdown-background: &lt;&lt;colour background&gt;&gt;\n    modal-background: &lt;&lt;colour background&gt;&gt;\n    sidebar-foreground-shadow: &lt;&lt;colour background&gt;&gt;\n    tiddler-background: &lt;&lt;colour background&gt;&gt;\n    tiddler-border: &lt;&lt;colour background&gt;&gt;\n    tiddler-link-background: &lt;&lt;colour background&gt;&gt;\n    tab-background-selected: &lt;&lt;colour background&gt;&gt;\n        dropdown-tab-background-selected: &lt;&lt;colour tab-background-selected&gt;&gt;\nforeground: #657b83\n    dragger-background: &lt;&lt;colour foreground&gt;&gt;\n    tab-foreground: &lt;&lt;colour foreground&gt;&gt;\n        tab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\n            sidebar-tab-foreground-selected: &lt;&lt;colour tab-foreground-selected&gt;&gt;\n        sidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\n    sidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\n    sidebar-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\n    sidebar-foreground: &lt;&lt;colour foreground&gt;&gt;\n: base03\n: base02\n: base01\n    alert-muted-foreground: &lt;&lt;colour base01&gt;&gt;\n: base00\n    code-foreground: &lt;&lt;colour base00&gt;&gt;\n    message-foreground: &lt;&lt;colour base00&gt;&gt;\n    tag-foreground: &lt;&lt;colour base00&gt;&gt;\n: base0\n    sidebar-tiddler-link-foreground: &lt;&lt;colour base0&gt;&gt;\n: base1\n    muted-foreground: &lt;&lt;colour base1&gt;&gt;\n        blockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\n        dropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\n        sidebar-muted-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\n        tiddler-title-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\n            site-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\n: base2\n    modal-footer-background: &lt;&lt;colour base2&gt;&gt;\n    page-background: &lt;&lt;colour base2&gt;&gt;\n        modal-backdrop: &lt;&lt;colour page-background&gt;&gt;\n        notification-background: &lt;&lt;colour page-background&gt;&gt;\n        code-background: &lt;&lt;colour page-background&gt;&gt;\n            code-border: &lt;&lt;colour code-background&gt;&gt;\n        pre-background: &lt;&lt;colour page-background&gt;&gt;\n            pre-border: &lt;&lt;colour pre-background&gt;&gt;\n        sidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\n    table-header-background: &lt;&lt;colour base2&gt;&gt;\n    tag-background: &lt;&lt;colour base2&gt;&gt;\n    tiddler-editor-background: &lt;&lt;colour base2&gt;&gt;\n    tiddler-info-background: &lt;&lt;colour base2&gt;&gt;\n    tiddler-info-tab-background: &lt;&lt;colour base2&gt;&gt;\n    tab-background: &lt;&lt;colour base2&gt;&gt;\n        dropdown-tab-background: &lt;&lt;colour tab-background&gt;&gt;\n: base3\n    alert-background: &lt;&lt;colour base3&gt;&gt;\n    message-background: &lt;&lt;colour base3&gt;&gt;\n: yellow\n: orange\n: red\n: magenta\n    alert-highlight: &lt;&lt;colour magenta&gt;&gt;\n: violet\n    external-link-foreground: &lt;&lt;colour violet&gt;&gt;\n: blue\n: cyan\n: green\n: base10\n    tiddler-controls-foreground: &lt;&lt;colour base10&gt;&gt;\n: violet-muted\n    external-link-foreground-visited: &lt;&lt;colour violet-muted&gt;&gt;\n: blue-muted\n    primary: &lt;&lt;colour blue-muted&gt;&gt;\n        download-background: &lt;&lt;colour primary&gt;&gt;\n        tiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\n\nalert-border: #b99e2f\ndirty-indicator: #ff0000\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nmessage-border: #cfd6e6\nmodal-border: #999999\nselect-tag-background:\nselect-tag-foreground:\nsidebar-controls-foreground-hover:\nsidebar-muted-foreground-hover:\nsidebar-tab-background: #ded8c5\nsidebar-tiddler-link-foreground-hover:\nstatic-alert-foreground: #aaaaaa\ntab-border: #cccccc\n    modal-footer-border: &lt;&lt;colour tab-border&gt;&gt;\n    modal-header-border: &lt;&lt;colour tab-border&gt;&gt;\n    notification-border: &lt;&lt;colour tab-border&gt;&gt;\n    sidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\n    tab-border-selected: &lt;&lt;colour tab-border&gt;&gt;\n        sidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\ntab-divider: #d8d8d8\n    sidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-border: #dddddd\ntiddler-subtitle-foreground: #c0c0c0\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/SolarizedDark": {
            "title": "$:/palettes/SolarizedDark",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "description": "Precision dark colors for machines and people",
            "license": "MIT, Ethan Schoonover, https://github.com/altercation/solarized/blob/master/LICENSE",
            "name": "SolarizedDark",
            "text": "alert-background: #073642\nalert-border: #93a1a1\nalert-highlight: #d33682\nalert-muted-foreground: #d33682\nbackground: #073642\nblockquote-bar: #d33682\nbutton-background: #073642\nbutton-border: #586e75\nbutton-foreground: #93a1a1\ncode-background: #073642\ncode-border: #586e75\ncode-foreground: #93a1a1\ndirty-indicator: inherit\ndownload-background: #859900\ndownload-foreground: #073642\ndragger-background: #073642\ndragger-foreground: #839496\ndropdown-background: #073642\ndropdown-border: #93a1a1\ndropdown-tab-background: #002b36\ndropdown-tab-background-selected: #073642\ndropzone-background: #859900\nexternal-link-background: inherit\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-foreground: #268bd2\nexternal-link-foreground-hover:\nexternal-link-foreground-visited: #268bd2\nforeground: #839496\nmessage-background: #002b36\nmessage-border: #586e75\nmessage-foreground: #839496\nmodal-backdrop: #657b83\nmodal-background: #002b36\nmodal-border: #586e75\nmodal-footer-background: #073642\nmodal-footer-border: #586e75\nmodal-header-border: #586e75\nmuted-foreground: #93a1a1\nnotification-background: #002b36\nnotification-border: #586e75\npage-background: #073642\npre-background: inherit\npre-border: #657b83\nprimary: #859900\nselect-tag-background: #002b36\nselect-tag-foreground: #839496\nsidebar-button-foreground: #93a1a1\nsidebar-controls-foreground: #93a1a1\nsidebar-controls-foreground-hover: #eee8d5\nsidebar-foreground: #93a1a1\nsidebar-foreground-shadow: transparent\nsidebar-muted-foreground: #839496\nsidebar-muted-foreground-hover: #93a1a1\nsidebar-tab-background: #002b36\nsidebar-tab-background-selected: #073642\nsidebar-tab-border: #073642\nsidebar-tab-border-selected: #839496\nsidebar-tab-divider: #002b36\nsidebar-tab-foreground: #657b83\nsidebar-tab-foreground-selected: #93a1a1\nsidebar-tiddler-link-foreground: #2aa198\nsidebar-tiddler-link-foreground-hover: #eee8d5\nsite-title-foreground: #d33682\nstatic-alert-foreground: #93a1a1\ntab-background: #073642\ntab-background-selected: #002b36\ntab-border: #586e75\ntab-border-selected: #93a1a1\ntab-divider: #93a1a1\ntab-foreground: #839496\ntab-foreground-selected: #93a1a1\ntable-border: #586e75\ntable-footer-background: #073642\ntable-header-background: #073642\ntag-background: #b58900\ntag-foreground: #002b36\ntiddler-background: #002b36\ntiddler-border: #586e75\ntiddler-controls-foreground: inherit\ntiddler-controls-foreground-hover: #d33682\ntiddler-controls-foreground-selected: #2aa198\ntiddler-editor-background: #002b36\ntiddler-editor-border: #073642\ntiddler-editor-border-image: #002b36\ntiddler-editor-fields-even: #002b36\ntiddler-editor-fields-odd: #073642\ntiddler-info-background: #073642\ntiddler-info-border: #657b83\ntiddler-info-tab-background: #002b36\ntiddler-link-background: #002b36\ntiddler-link-foreground: #2aa198\ntiddler-subtitle-foreground: #839496\ntiddler-title-foreground: #d33682\ntoolbar-cancel-button: #839496\ntoolbar-close-button: #839496\ntoolbar-delete-button: #dc322f\ntoolbar-done-button: #839496\ntoolbar-edit-button: #839496\ntoolbar-info-button: #839496\ntoolbar-new-button: #839496\ntoolbar-options-button: #839496\ntoolbar-save-button: inherit\nuntagged-background: #586e75\nvery-muted-foreground: #586e75\n"
        },
        "$:/palettes/SolarizedLight": {
            "title": "$:/palettes/SolarizedLight",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "description": "Precision colors for machines and people",
            "license": "MIT, Ethan Schoonover, https://github.com/altercation/solarized/blob/master/LICENSE",
            "name": "SolarizedLight",
            "text": "alert-background: #eee8d5\nalert-border: #586e75\nalert-highlight: #d33682\nalert-muted-foreground: #d33682\nbackground: #eee8d5\nblockquote-bar: #d33682\nbutton-background: #eee8d5\nbutton-border: #93a1a1\nbutton-foreground: #586e75\ncode-background: #eee8d5\ncode-border: #93a1a1\ncode-foreground: #586e75\ndirty-indicator: inherit\ndownload-background: #859900\ndownload-foreground: #eee8d5\ndragger-background: #eee8d5\ndragger-foreground: #657b83\ndropdown-background: #eee8d5\ndropdown-border: #586e75\ndropdown-tab-background: #fdf6e3\ndropdown-tab-background-selected: #eee8d5\ndropzone-background: #859900\nexternal-link-background: inherit\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-foreground: #268bd2\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #268bd2\nforeground: #657b83\nmessage-background: #fdf6e3\nmessage-border: #93a1a1\nmessage-foreground: #657b83\nmodal-backdrop: #839496\nmodal-background: #fdf6e3\nmodal-border: #93a1a1\nmodal-footer-background: #eee8d5\nmodal-footer-border: #93a1a1\nmodal-header-border: #93a1a1\nmuted-foreground: #586e75\nnotification-background: #fdf6e3\nnotification-border: #93a1a1\npage-background: #eee8d5\npre-background: #eee8d5\npre-border: #839496\nprimary: #859900\nselect-tag-background: #fdf6e3\nselect-tag-foreground: #657b83\nsidebar-button-foreground: #586e75\nsidebar-controls-foreground: #586e75\nsidebar-controls-foreground-hover: #d33682\nsidebar-foreground: #586e75\nsidebar-foreground-shadow: transparent\nsidebar-muted-foreground: #657b83\nsidebar-muted-foreground-hover: #586e75\nsidebar-tab-background: #fdf6e3\nsidebar-tab-background-selected: #eee8d5\nsidebar-tab-border: #eee8d5\nsidebar-tab-border-selected: #657b83\nsidebar-tab-divider: #fdf6e3\nsidebar-tab-foreground: #839496\nsidebar-tab-foreground-selected: #586e75\nsidebar-tiddler-link-foreground: #2aa198\nsidebar-tiddler-link-foreground-hover: #002b36\nsite-title-foreground: #d33682\nstatic-alert-foreground: #586e75\ntab-background: #eee8d5\ntab-background-selected: #fdf6e3\ntab-border: #93a1a1\ntab-border-selected: #586e75\ntab-divider: #586e75\ntab-foreground: #657b83\ntab-foreground-selected: #586e75\ntable-border: #93a1a1\ntable-footer-background: #eee8d5\ntable-header-background: #eee8d5\ntag-background: #b58900\ntag-foreground: #fdf6e3\ntiddler-background: #fdf6e3\ntiddler-border: #93a1a1\ntiddler-controls-foreground: inherit\ntiddler-controls-foreground-hover: #d33682\ntiddler-controls-foreground-selected: #2aa198\ntiddler-editor-background: #fdf6e3\ntiddler-editor-border: #eee8d5\ntiddler-editor-border-image: #fdf6e3\ntiddler-editor-fields-even: #fdf6e3\ntiddler-editor-fields-odd: #eee8d5\ntiddler-info-background: #eee8d5\ntiddler-info-border: #839496\ntiddler-info-tab-background: #fdf6e3\ntiddler-link-background: #fdf6e3\ntiddler-link-foreground: #2aa198\ntiddler-subtitle-foreground: #657b83\ntiddler-title-foreground: #d33682\ntoolbar-cancel-button: #657b83\ntoolbar-close-button: #657b83\ntoolbar-delete-button: #dc322f\ntoolbar-done-button: #657b83\ntoolbar-edit-button: #657b83\ntoolbar-info-button: #657b83\ntoolbar-new-button: #657b83\ntoolbar-options-button: #657b83\ntoolbar-save-button: inherit\nuntagged-background: #586e75\nvery-muted-foreground: #93a1a1\n"
        },
        "$:/palettes/SpartanDay": {
            "title": "$:/palettes/SpartanDay",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "description": "Cold, spartan day colors",
            "name": "Spartan Day",
            "text": "alert-background: &lt;&lt;colour background&gt;&gt;\nalert-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nalert-highlight: &lt;&lt;colour very-muted-foreground&gt;&gt;\nalert-muted-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\nbackground: #FAFAFA\nblockquote-bar: &lt;&lt;colour page-background&gt;&gt;\nbutton-background: transparent\nbutton-foreground: inherit\nbutton-border: &lt;&lt;colour tag-background&gt;&gt;\ncode-background: #ececec\ncode-border: #ececec\ncode-foreground: \ndirty-indicator: #c80000\ndownload-background: &lt;&lt;colour primary&gt;&gt;\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: #FFFFFF\ndropdown-border: &lt;&lt;colour dropdown-background&gt;&gt;\ndropdown-tab-background-selected: &lt;&lt;colour dropdown-background&gt;&gt;\ndropdown-tab-background: #F5F5F5\ndropzone-background: &lt;&lt;colour tag-background&gt;&gt;\nexternal-link-background-hover: transparent\nexternal-link-background-visited: transparent\nexternal-link-background: transparent\nexternal-link-foreground-hover: \nexternal-link-foreground-visited: \nexternal-link-foreground: \nforeground: rgba(0, 0, 0, 0.87)\nmessage-background: &lt;&lt;colour background&gt;&gt;\nmessage-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmessage-foreground: rgba(0, 0, 0, 0.54)\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmodal-footer-background: &lt;&lt;colour background&gt;&gt;\nmodal-footer-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmodal-header-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmuted-foreground: rgba(0, 0, 0, 0.54)\nnotification-background: &lt;&lt;colour dropdown-background&gt;&gt;\nnotification-border: &lt;&lt;colour dropdown-background&gt;&gt;\npage-background: #f4f4f4\npre-background: #ececec\npre-border: #ececec\nprimary: #3949ab\nselect-tag-background: &lt;&lt;colour background&gt;&gt;\nselect-tag-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #aeaeae\nsidebar-controls-foreground: #c6c6c6\nsidebar-foreground-shadow: transparent\nsidebar-foreground: rgba(0, 0, 0, 0.54)\nsidebar-muted-foreground-hover: rgba(0, 0, 0, 0.54)\nsidebar-muted-foreground: rgba(0, 0, 0, 0.38)\nsidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-background: transparent\nsidebar-tab-border-selected: &lt;&lt;colour table-border&gt;&gt;\nsidebar-tab-border: transparent\nsidebar-tab-divider: &lt;&lt;colour table-border&gt;&gt;\nsidebar-tab-foreground-selected: rgba(0, 0, 0, 0.87)\nsidebar-tab-foreground: rgba(0, 0, 0, 0.54)\nsidebar-tiddler-link-foreground-hover: rgba(0, 0, 0, 0.87)\nsidebar-tiddler-link-foreground: rgba(0, 0, 0, 0.54)\nsite-title-foreground: rgba(0, 0, 0, 0.87)\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: transparent\ntab-border-selected: &lt;&lt;colour table-border&gt;&gt;\ntab-border: transparent\ntab-divider: &lt;&lt;colour table-border&gt;&gt;\ntab-foreground-selected: rgba(0, 0, 0, 0.87)\ntab-foreground: rgba(0, 0, 0, 0.54)\ntable-border: #d8d8d8\ntable-footer-background: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;\ntable-header-background: &lt;&lt;colour tiddler-editor-fields-even&gt;&gt;\ntag-background: #ec6\ntag-foreground: &lt;&lt;colour button-foreground&gt;&gt;\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: #f9f9f9\ntiddler-controls-foreground-hover: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;\ntiddler-controls-foreground-selected: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;\ntiddler-controls-foreground: &lt;&lt;colour sidebar-controls-foreground&gt;&gt;\ntiddler-editor-background: transparent\ntiddler-editor-border-image: \ntiddler-editor-border: #e8e7e7\ntiddler-editor-fields-even: rgba(0, 0, 0, 0.1)\ntiddler-editor-fields-odd: rgba(0, 0, 0, 0.04)\ntiddler-info-background: #F5F5F5\ntiddler-info-border: #F5F5F5\ntiddler-info-tab-background: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ntiddler-title-foreground: #000000\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: &lt;&lt;colour very-muted-foreground&gt;&gt;\nvery-muted-foreground: rgba(0, 0, 0, 0.12)\n"
        },
        "$:/palettes/SpartanNight": {
            "title": "$:/palettes/SpartanNight",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "description": "Dark spartan colors",
            "name": "Spartan Night",
            "text": "alert-background: &lt;&lt;colour background&gt;&gt;\nalert-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nalert-highlight: &lt;&lt;colour very-muted-foreground&gt;&gt;\nalert-muted-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\nbackground: #303030\nblockquote-bar: &lt;&lt;colour page-background&gt;&gt;\nbutton-background: transparent\nbutton-foreground: inherit\nbutton-border: &lt;&lt;colour tag-background&gt;&gt;\ncode-background: &lt;&lt;colour pre-background&gt;&gt;\ncode-border: &lt;&lt;colour pre-border&gt;&gt;\ncode-foreground: rgba(255, 255, 255, 0.54)\ndirty-indicator: #c80000\ndownload-background: &lt;&lt;colour primary&gt;&gt;\ndownload-foreground: &lt;&lt;colour foreground&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: #424242\ndropdown-border: &lt;&lt;colour dropdown-background&gt;&gt;\ndropdown-tab-background-selected: &lt;&lt;colour dropdown-background&gt;&gt;\ndropdown-tab-background: #050505\ndropzone-background: &lt;&lt;colour tag-background&gt;&gt;\nexternal-link-background-hover: transparent\nexternal-link-background-visited: transparent\nexternal-link-background: transparent\nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #7c318c\nexternal-link-foreground: #9e3eb3\nforeground: rgba(255, 255, 255, 0.7)\nmessage-background: &lt;&lt;colour background&gt;&gt;\nmessage-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmessage-foreground: rgba(255, 255, 255, 0.54)\nmodal-backdrop: &lt;&lt;colour page-background&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmodal-footer-background: &lt;&lt;colour background&gt;&gt;\nmodal-footer-border: &lt;&lt;colour background&gt;&gt;\nmodal-header-border: &lt;&lt;colour very-muted-foreground&gt;&gt;\nmuted-foreground: rgba(255, 255, 255, 0.54)\nnotification-background: &lt;&lt;colour dropdown-background&gt;&gt;\nnotification-border: &lt;&lt;colour dropdown-background&gt;&gt;\npage-background: #212121\npre-background: #2a2a2a\npre-border: transparent\nprimary: #5656f3\nselect-tag-background: &lt;&lt;colour background&gt;&gt;\nselect-tag-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #494949\nsidebar-controls-foreground: #5d5d5d\nsidebar-foreground-shadow: transparent\nsidebar-foreground: rgba(255, 255, 255, 0.54)\nsidebar-muted-foreground-hover: rgba(255, 255, 255, 0.54)\nsidebar-muted-foreground: rgba(255, 255, 255, 0.38)\nsidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-background: transparent\nsidebar-tab-border-selected: &lt;&lt;colour table-border&gt;&gt;\nsidebar-tab-border: transparent\nsidebar-tab-divider: &lt;&lt;colour table-border&gt;&gt;\nsidebar-tab-foreground-selected: rgba(255, 255, 255, 0.87)\nsidebar-tab-foreground: rgba(255, 255, 255, 0.54)\nsidebar-tiddler-link-foreground-hover: rgba(255, 255, 255, 0.7)\nsidebar-tiddler-link-foreground: rgba(255, 255, 255, 0.54)\nsite-title-foreground: rgba(255, 255, 255, 0.7)\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: transparent\ntab-border-selected: &lt;&lt;colour table-border&gt;&gt;\ntab-border: transparent\ntab-divider: &lt;&lt;colour table-border&gt;&gt;\ntab-foreground-selected: rgba(255, 255, 255, 0.87)\ntab-foreground: rgba(255, 255, 255, 0.54)\ntable-border: #3a3a3a\ntable-footer-background: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;\ntable-header-background: &lt;&lt;colour tiddler-editor-fields-even&gt;&gt;\ntag-background: #ec6\ntag-foreground: &lt;&lt;colour button-foreground&gt;&gt;\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: rgb(55,55,55)\ntiddler-controls-foreground-hover: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;\ntiddler-controls-foreground-selected: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;\ntiddler-controls-foreground: &lt;&lt;colour sidebar-controls-foreground&gt;&gt;\ntiddler-editor-background: transparent\ntiddler-editor-border-image: \ntiddler-editor-border: rgba(255, 255, 255, 0.08)\ntiddler-editor-fields-even: rgba(255, 255, 255, 0.1)\ntiddler-editor-fields-odd: rgba(255, 255, 255, 0.04)\ntiddler-info-background: #454545\ntiddler-info-border: #454545\ntiddler-info-tab-background: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ntiddler-title-foreground: #FFFFFF\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: &lt;&lt;colour very-muted-foreground&gt;&gt;\nvery-muted-foreground: rgba(255, 255, 255, 0.12)\n"
        },
        "$:/palettes/Twilight": {
            "title": "$:/palettes/Twilight",
            "tags": "$:/tags/Palette",
            "author": "Thomas Elmiger",
            "type": "application/x-tiddler-dictionary",
            "name": "Twilight",
            "description": "Delightful, soft darkness.",
            "text": "alert-background: rgb(255, 255, 102)\nalert-border: rgb(232, 232, 125)\nalert-highlight: rgb(255, 51, 51)\nalert-muted-foreground: rgb(224, 82, 82)\nbackground: rgb(38, 38, 38)\nblockquote-bar: rgba(240, 196, 117, 0.7)\nbutton-background: rgb(63, 63, 63)\nbutton-border: rgb(127, 127, 127)\nbutton-foreground: rgb(179, 179, 179)\ncode-background: rgba(0,0,0,0.03)\ncode-border: rgba(0,0,0,0.08)\ncode-foreground: rgb(255, 94, 94)\ndiff-delete-background: #ffc9c9\ndiff-delete-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-equal-background: \ndiff-equal-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-insert-background: #aaefad\ndiff-insert-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-invisible-background: \ndiff-invisible-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ndirty-indicator: rgb(255, 94, 94)\ndownload-background: #19a974\ndownload-foreground: rgb(38, 38, 38)\ndragger-background: rgb(179, 179, 179)\ndragger-foreground: rgb(38, 38, 38)\ndropdown-background: rgb(38, 38, 38)\ndropdown-border: rgb(255, 255, 255)\ndropdown-tab-background: rgba(0,0,0,.1)\ndropdown-tab-background-selected: rgba(255,255,255,1)\ndropzone-background: #9eebcf\nexternal-link-background: inherit\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-foreground: rgb(179, 179, 255)\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: rgb(153, 153, 255)\nforeground: rgb(179, 179, 179)\nmessage-background: &lt;&lt;colour tag-foreground&gt;&gt;\nmessage-border: #96ccff\nmessage-foreground: &lt;&lt;colour tag-background&gt;&gt;\nmodal-backdrop: rgb(179, 179, 179)\nmodal-background: rgb(38, 38, 38)\nmodal-border: rgba(0,0,0,.5)\nmodal-footer-background: #f4f4f4\nmodal-footer-border: rgba(0,0,0,.1)\nmodal-header-border: rgba(0,0,0,.2)\nmuted-foreground: rgb(255, 255, 255)\nnotification-background: &lt;&lt;colour tag-foreground&gt;&gt;\nnotification-border: &lt;&lt;colour tag-background&gt;&gt;\npage-background: rgb(26, 26, 26)\npre-background: rgb(25, 25, 25)\npre-border: rgba(0,0,0,.2)\nprimary: rgb(255, 201, 102)\nselect-tag-background: \nselect-tag-foreground: \nsidebar-button-foreground: rgb(179, 179, 179)\nsidebar-controls-foreground: rgb(153, 153, 153)\nsidebar-controls-foreground-hover: &lt;&lt;colour tiddler-controls-foreground-hover&gt;&gt;\nsidebar-foreground: rgb(141, 141, 141)\nsidebar-foreground-shadow: transparent\nsidebar-muted-foreground: rgba(0, 0, 0, 0.5)\nsidebar-muted-foreground-hover: rgb(141, 141, 141)\nsidebar-tab-background: rgba(141, 141, 141, 0.2)\nsidebar-tab-background-selected: rgb(26, 26, 26)\nsidebar-tab-border: rgb(127, 127, 127)\nsidebar-tab-border-selected: rgb(127, 127, 127)\nsidebar-tab-divider: rgb(127, 127, 127)\nsidebar-tab-foreground: rgb(179, 179, 179)\nsidebar-tab-foreground-selected: rgb(179, 179, 179)\nsidebar-tiddler-link-foreground: rgb(179, 179, 179)\nsidebar-tiddler-link-foreground-hover: rgb(115, 115, 115)\nsite-title-foreground: rgb(255, 201, 102)\nstatic-alert-foreground: rgba(0,0,0,.3)\ntab-background: rgba(0,0,0,0.125)\ntab-background-selected: rgb(38, 38, 38)\ntab-border: rgb(255, 201, 102)\ntab-border-selected: rgb(255, 201, 102)\ntab-divider: rgb(255, 201, 102)\ntab-foreground: rgb(179, 179, 179)\ntab-foreground-selected: rgb(179, 179, 179)\ntable-border: rgba(255,255,255,.3)\ntable-footer-background: rgba(0,0,0,.4)\ntable-header-background: rgba(0,0,0,.1)\ntag-background: rgb(255, 201, 102)\ntag-foreground: rgb(25, 25, 25)\ntiddler-background: rgb(38, 38, 38)\ntiddler-border: rgba(240, 196, 117, 0.7)\ntiddler-controls-foreground: rgb(128, 128, 128)\ntiddler-controls-foreground-hover: rgba(255, 255, 255, 0.8)\ntiddler-controls-foreground-selected: rgba(255, 255, 255, 0.9)\ntiddler-editor-background: rgb(33, 33, 33)\ntiddler-editor-border: rgb(63, 63, 63)\ntiddler-editor-border-image: rgb(25, 25, 25)\ntiddler-editor-fields-even: rgb(33, 33, 33)\ntiddler-editor-fields-odd: rgb(28, 28, 28)\ntiddler-info-background: rgb(43, 43, 43)\ntiddler-info-border: rgb(25, 25, 25)\ntiddler-info-tab-background: rgb(43, 43, 43)\ntiddler-link-background: rgb(38, 38, 38)\ntiddler-link-foreground: rgb(204, 204, 255)\ntiddler-subtitle-foreground: rgb(255, 255, 255)\ntiddler-title-foreground: rgb(255, 192, 76)\ntoolbar-cancel-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-done-button: \ntoolbar-edit-button: \ntoolbar-info-button: \ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \nuntagged-background: rgb(255, 255, 255)\nvery-muted-foreground: rgba(240, 196, 117, 0.7)\n"
        },
        "$:/palettes/Vanilla": {
            "title": "$:/palettes/Vanilla",
            "name": "Vanilla",
            "description": "Pale and unobtrusive",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndiff-delete-background: #ffc9c9\ndiff-delete-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-equal-background: \ndiff-equal-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-insert-background: #aaefad\ndiff-insert-foreground: &lt;&lt;colour foreground&gt;&gt;\ndiff-invisible-background: \ndiff-invisible-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #f4f4f4\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nselection-background:\nselection-foreground:\nselect-tag-background:\nselect-tag-foreground:\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #aaaaaa\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #f4f4f4\nsidebar-tab-background: #e0e0e0\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: #e4e4e4\nsidebar-tab-foreground-selected:\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #999999\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ec6\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\nwikilist-background: #e5e5e5\nwikilist-item: #fff\nwikilist-info: #000\nwikilist-title: #666\nwikilist-title-svg: &lt;&lt;colour wikilist-title&gt;&gt;\nwikilist-url: #aaa\nwikilist-button-open: #4fb82b\nwikilist-button-open-hover: green\nwikilist-button-reveal: #5778d8\nwikilist-button-reveal-hover: blue\nwikilist-button-remove: #d85778\nwikilist-button-remove-hover: red\nwikilist-toolbar-background: #d3d3d3\nwikilist-toolbar-foreground: #888\nwikilist-droplink-dragover: rgba(255,192,192,0.5)\nwikilist-button-background: #acacac\nwikilist-button-foreground: #000\n"
        },
        "$:/core/readme": {
            "title": "$:/core/readme",
            "text": "This plugin contains TiddlyWiki's core components, comprising:\n\n* JavaScript code modules\n* Icons\n* Templates needed to create TiddlyWiki's user interface\n* British English (''en-GB'') translations of the localisable strings used by the core\n"
        },
        "$:/library/sjcl.js/license": {
            "title": "$:/library/sjcl.js/license",
            "type": "text/plain",
            "text": "SJCL is open. You can use, modify and redistribute it under a BSD\nlicense or under the GNU GPL, version 2.0.\n\n---------------------------------------------------------------------\n\nhttp://opensource.org/licenses/BSD-2-Clause\n\nCopyright (c) 2009-2015, Emily Stark, Mike Hamburg and Dan Boneh at\nStanford University. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n1. Redistributions of source code must retain the above copyright\nnotice, this list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright\nnotice, this list of conditions and the following disclaimer in the\ndocumentation and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\nIS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\nTO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\nPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nHOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\nTO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\nLIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\nNEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n---------------------------------------------------------------------\n\nhttp://opensource.org/licenses/GPL-2.0\n\nThe Stanford Javascript Crypto Library (hosted here on GitHub) is a\nproject by the Stanford Computer Security Lab to build a secure,\npowerful, fast, small, easy-to-use, cross-browser library for\ncryptography in Javascript.\n\nCopyright (c) 2009-2015, Emily Stark, Mike Hamburg and Dan Boneh at\nStanford University.\n\nThis program is free software; you can redistribute it and/or modify it\nunder the terms of the GNU General Public License as published by the\nFree Software Foundation; either version 2 of the License, or (at your\noption) any later version.\n\nThis program is distributed in the hope that it will be useful, but\nWITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General\nPublic License for more details.\n\nYou should have received a copy of the GNU General Public License along\nwith this program; if not, write to the Free Software Foundation, Inc.,\n59 Temple Place, Suite 330, Boston, MA 02111-1307 USA"
        },
        "$:/core/templates/MOTW.html": {
            "title": "$:/core/templates/MOTW.html",
            "text": "\\rules only filteredtranscludeinline transcludeinline entity\n&lt;!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension --&gt;\n&lt;!-- saved from url=(0021)https://tiddlywiki.com --&gt;&amp;#13;&amp;#10;"
        },
        "$:/core/templates/alltiddlers.template.html": {
            "title": "$:/core/templates/alltiddlers.template.html",
            "type": "text/vnd.tiddlywiki-html",
            "text": "&lt;!-- This template is provided for backwards compatibility with older versions of TiddlyWiki --&gt;\n\n&lt;$set name=\"exportFilter\" value=\"[!is[system]sort[title]]\"&gt;\n\n{{$:/core/templates/exporters/StaticRiver}}\n\n&lt;/$set&gt;\n"
        },
        "$:/core/templates/canonical-uri-external-image": {
            "title": "$:/core/templates/canonical-uri-external-image",
            "text": "&lt;!--\n\nThis template is used to assign the ''_canonical_uri'' field to external images.\n\nChange the `./images/` part to a different base URI. The URI can be relative or absolute.\n\n--&gt;\n./images/&lt;$view field=\"title\" format=\"doubleurlencoded\"/&gt;"
        },
        "$:/core/templates/canonical-uri-external-raw": {
            "title": "$:/core/templates/canonical-uri-external-raw",
            "text": "&lt;!--\n\nThis template is used to assign the ''_canonical_uri'' field to external raw files that are stored in the same directory\n\n--&gt;\n&lt;$view field=\"title\" format=\"doubleurlencoded\"/&gt;"
        },
        "$:/core/templates/canonical-uri-external-text": {
            "title": "$:/core/templates/canonical-uri-external-text",
            "text": "&lt;!--\n\nThis template is used to assign the ''_canonical_uri'' field to external text files.\n\nChange the `./text/` part to a different base URI. The URI can be relative or absolute.\n\n--&gt;\n./text/&lt;$view field=\"title\" format=\"doubleurlencoded\"/&gt;.tid"
        },
        "$:/core/templates/css-tiddler": {
            "title": "$:/core/templates/css-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving CSS tiddlers as a style tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;style`&lt;$fields template=' data-tiddler-$name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;` type=\"text/css\"&gt;`&lt;$view field=\"text\" format=\"text\" /&gt;`&lt;/style&gt;`"
        },
        "$:/core/templates/exporters/CsvFile": {
            "title": "$:/core/templates/exporters/CsvFile",
            "tags": "$:/tags/Exporter",
            "description": "{{$:/language/Exporters/CsvFile}}",
            "extension": ".csv",
            "text": "&lt;$macrocall $name=\"csvtiddlers\" filter=&lt;&lt;exportFilter&gt;&gt; format=\"quoted-comma-sep\" $output=\"text/raw\"/&gt;\n"
        },
        "$:/core/templates/exporters/JsonFile": {
            "title": "$:/core/templates/exporters/JsonFile",
            "tags": "$:/tags/Exporter",
            "description": "{{$:/language/Exporters/JsonFile}}",
            "extension": ".json",
            "text": "&lt;$macrocall $name=\"jsontiddlers\" filter=&lt;&lt;exportFilter&gt;&gt; $output=\"text/raw\"/&gt;\n"
        },
        "$:/core/templates/exporters/StaticRiver": {
            "title": "$:/core/templates/exporters/StaticRiver",
            "tags": "$:/tags/Exporter",
            "description": "{{$:/language/Exporters/StaticRiver}}",
            "extension": ".html",
            "text": "\\define tv-wikilink-template() #$uri_encoded$\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"{{$:/core/templates/version}}\" /&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\"styleArea\"&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\"text/css\"&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\"tc-body\"&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n&lt;section class=\"tc-story-river tc-static-story-river\"&gt;\n{{$:/core/templates/exporters/StaticRiver/Content||$:/core/templates/html-tiddler}}\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n"
        },
        "$:/core/templates/exporters/StaticRiver/Content": {
            "title": "$:/core/templates/exporters/StaticRiver/Content",
            "text": "\\define renderContent()\n{{{ $(exportFilter)$ ||$:/core/templates/static-tiddler}}}\n\\end\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n&lt;&lt;renderContent&gt;&gt;\n"
        },
        "$:/core/templates/exporters/TidFile": {
            "title": "$:/core/templates/exporters/TidFile",
            "tags": "$:/tags/Exporter",
            "description": "{{$:/language/Exporters/TidFile}}",
            "extension": ".tid",
            "condition": "[&lt;count&gt;compare:lte[1]]",
            "text": "\\define renderContent()\n{{{ $(exportFilter)$ +[limit[1]] ||$:/core/templates/tid-tiddler}}}\n\\end\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n&lt;&lt;renderContent&gt;&gt;"
        },
        "$:/core/save/all-external-js": {
            "title": "$:/core/save/all-external-js",
            "text": "\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[prefix[$:/temp/]] -[prefix[$:/HistoryList]] -[status[pending]plugin-type[import]] -[[$:/core]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]] $(publishFilter)$\n\\end\n{{$:/core/templates/tiddlywiki5-external-js.html}}\n"
        },
        "$:/core/templates/tiddlywiki5.js": {
            "title": "$:/core/templates/tiddlywiki5.js",
            "text": "\\rules only filteredtranscludeinline transcludeinline codeinline\n\n/*\n{{ $:/core/copyright.txt ||$:/core/templates/plain-text-tiddler}}\n`*/\n`&lt;!--~~ Library modules ~~--&gt;\n{{{ [is[system]type[application/javascript]library[yes]] ||$:/core/templates/plain-text-tiddler}}}\n&lt;!--~~ Boot prefix ~~--&gt;\n{{ $:/boot/bootprefix.js ||$:/core/templates/plain-text-tiddler}}\n&lt;!--~~ Core plugin ~~--&gt;\n{{$:/core/templates/tiddlywiki5.js/tiddlers}}\n&lt;!--~~ Boot kernel ~~--&gt;\n{{ $:/boot/boot.js ||$:/core/templates/plain-text-tiddler}}\n"
        },
        "$:/core/templates/tiddlywiki5.js/tiddlers": {
            "title": "$:/core/templates/tiddlywiki5.js/tiddlers",
            "text": "`\n$tw.preloadTiddlerArray(`&lt;$text text=&lt;&lt;jsontiddlers \"[[$:/core]]\"&gt;&gt;/&gt;`);\n`\n"
        },
        "$:/core/templates/tiddlywiki5-external-js.html": {
            "title": "$:/core/templates/tiddlywiki5-external-js.html",
            "text": "\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n{{$:/core/templates/MOTW.html}}&lt;html lang=\"`&lt;$text text={{{ [{$:/language}get[name]] }}}/&gt;`\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;!--~~ Raw markup for the top of the head section ~~--&gt;\n{{{ [all[shadows+tiddlers]tag[$:/tags/RawMarkupWikified/TopHead]] ||$:/core/templates/raw-static-tiddler}}}\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\"/&gt;\n&lt;meta name=\"application-name\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"{{$:/core/templates/version}}\" /&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /&gt;\n&lt;meta name=\"mobile-web-app-capable\" content=\"yes\"/&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\" /&gt;\n&lt;meta name=\"copyright\" content=\"{{$:/core/copyright.txt}}\" /&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--&gt;\n\n&lt;!--~~ Raw markup ~~--&gt;\n{{{ [all[shadows+tiddlers]tag[$:/core/wiki/rawmarkup]] [all[shadows+tiddlers]tag[$:/tags/RawMarkup]] ||$:/core/templates/plain-text-tiddler}}}\n{{{ [all[shadows+tiddlers]tag[$:/tags/RawMarkupWikified]] ||$:/core/templates/raw-static-tiddler}}}\n&lt;/head&gt;\n&lt;body class=\"tc-body\"&gt;\n&lt;!--~~ Raw markup for the top of the body section ~~--&gt;\n{{{ [all[shadows+tiddlers]tag[$:/tags/RawMarkupWikified/TopBody]] ||$:/core/templates/raw-static-tiddler}}}\n&lt;!--~~ Static styles ~~--&gt;\n&lt;div id=\"styleArea\"&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;!--~~ Static content for Google and browsers without JavaScript ~~--&gt;\n&lt;noscript&gt;\n&lt;div id=\"splashArea\"&gt;\n{{$:/core/templates/static.area}}\n&lt;/div&gt;\n&lt;/noscript&gt;\n&lt;!--~~ Ordinary tiddlers ~~--&gt;\n{{$:/core/templates/store.area.template.html}}\n&lt;!--~~ Raw markup for the bottom of the body section ~~--&gt;\n{{{ [all[shadows+tiddlers]tag[$:/tags/RawMarkupWikified/BottomBody]] ||$:/core/templates/raw-static-tiddler}}}\n&lt;/body&gt;\n&lt;script src=\"%24%3A%2Fcore%2Ftemplates%2Ftiddlywiki5.js\" onerror=\"alert('Error: Cannot load tiddlywiki.js');\"&gt;&lt;/script&gt;\n&lt;/html&gt;\n"
        },
        "$:/core/templates/html-div-skinny-tiddler": {
            "title": "$:/core/templates/html-div-skinny-tiddler",
            "text": "&lt;!--\n\nThis template is a variant of $:/core/templates/html-div-tiddler used for saving skinny tiddlers (with no text field)\n\n--&gt;`&lt;div`&lt;$fields template=' $name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;`&gt;\n&lt;pre&gt;&lt;/pre&gt;\n&lt;/div&gt;`\n"
        },
        "$:/core/templates/html-div-tiddler": {
            "title": "$:/core/templates/html-div-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers as an HTML DIV tag with attributes representing the tiddler fields.\n\n--&gt;`&lt;div`&lt;$fields template=' $name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;`&gt;\n&lt;pre&gt;`&lt;$view field=\"text\" format=\"htmltextencoded\" /&gt;`&lt;/pre&gt;\n&lt;/div&gt;`\n"
        },
        "$:/core/templates/html-tiddler": {
            "title": "$:/core/templates/html-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers as raw HTML\n\n--&gt;&lt;$view field=\"text\" format=\"htmlwikified\" /&gt;"
        },
        "$:/core/templates/javascript-tiddler": {
            "title": "$:/core/templates/javascript-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;` type=\"text/javascript\"&gt;`&lt;$view field=\"text\" format=\"text\" /&gt;`&lt;/script&gt;`"
        },
        "$:/core/templates/json-tiddler": {
            "title": "$:/core/templates/json-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers as raw JSON\n\n--&gt;&lt;$text text=&lt;&lt;jsontiddler&gt;&gt;/&gt;"
        },
        "$:/core/templates/module-tiddler": {
            "title": "$:/core/templates/module-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields. The body of the tiddler is wrapped in a call to the `$tw.modules.define` function in order to define the body of the tiddler as a module\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;` type=\"text/javascript\" data-module=\"yes\"&gt;$tw.modules.define(\"`&lt;$view field=\"title\" format=\"jsencoded\" /&gt;`\",\"`&lt;$view field=\"module-type\" format=\"jsencoded\" /&gt;`\",function(module,exports,require) {`&lt;$view field=\"text\" format=\"text\" /&gt;`});\n&lt;/script&gt;`"
        },
        "$:/core/templates/plain-text-tiddler": {
            "title": "$:/core/templates/plain-text-tiddler",
            "text": "&lt;$view field=\"text\" format=\"text\" /&gt;"
        },
        "$:/core/templates/raw-static-tiddler": {
            "title": "$:/core/templates/raw-static-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers as static HTML\n\n--&gt;&lt;$view field=\"text\" format=\"plainwikified\" /&gt;"
        },
        "$:/core/save/all": {
            "title": "$:/core/save/all",
            "text": "\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[prefix[$:/temp/]] -[prefix[$:/HistoryList]] -[status[pending]plugin-type[import]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]] $(publishFilter)$\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n"
        },
        "$:/core/save/empty": {
            "title": "$:/core/save/empty",
            "text": "\\define saveTiddlerFilter()\n[is[system]] -[prefix[$:/state/popup/]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n"
        },
        "$:/core/save/lazy-all": {
            "title": "$:/core/save/lazy-all",
            "text": "\\define saveTiddlerFilter()\n[is[system]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]] \n\\end\n\\define skinnySaveTiddlerFilter()\n[!is[system]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n"
        },
        "$:/core/save/lazy-images": {
            "title": "$:/core/save/lazy-images",
            "text": "\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] -[!is[system]is[image]] +[sort[title]] \n\\end\n\\define skinnySaveTiddlerFilter()\n[!is[system]is[image]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n"
        },
        "$:/core/templates/server/static.sidebar.wikitext": {
            "title": "$:/core/templates/server/static.sidebar.wikitext",
            "text": "\\whitespace trim\n&lt;div class=\"tc-sidebar-scrollable\" style=\"overflow: auto;\"&gt;\n&lt;div class=\"tc-sidebar-header\"&gt;\n&lt;h1 class=\"tc-site-title\"&gt;\n&lt;$transclude tiddler=\"$:/SiteTitle\"/&gt;\n&lt;/h1&gt;\n&lt;div class=\"tc-site-subtitle\"&gt;\n&lt;$transclude tiddler=\"$:/SiteSubtitle\"/&gt;\n&lt;/div&gt;\n&lt;h2&gt;\n&lt;/h2&gt;\n&lt;div class=\"tc-sidebar-lists\"&gt;\n&lt;$list filter={{$:/DefaultTiddlers}}&gt;\n&lt;div class=\"tc-menu-list-subitem\"&gt;\n&lt;$link&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;!-- Currently disabled the recent list as it is unweildy when the responsive narrow view kicks in\n&lt;h2&gt;\n{{$:/language/SideBar/Recent/Caption}}\n&lt;/h2&gt;\n&lt;div class=\"tc-sidebar-lists\"&gt;\n&lt;$macrocall $name=\"timeline\" format={{$:/language/RecentChanges/DateFormat}}/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n--&gt;\n"
        },
        "$:/core/templates/server/static.tiddler.html": {
            "title": "$:/core/templates/server/static.tiddler.html",
            "text": "\\whitespace trim\n\\define tv-wikilink-template() $uri_encoded$\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content={{$:/core/templates/version}} /&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /&gt;\n&lt;meta name=\"mobile-web-app-capable\" content=\"yes\"/&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;link rel=\"stylesheet\" href=\"%24%3A%2Fcore%2Ftemplates%2Fstatic.template.css\"&gt;\n&lt;title&gt;&lt;$view field=\"caption\" format=\"plainwikified\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;: &lt;$view tiddler=\"$:/core/wiki/title\" format=\"plainwikified\"/&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class=\"tc-body\"&gt;\n&lt;$transclude tiddler=\"$:/core/templates/server/static.sidebar.wikitext\" mode=\"inline\"/&gt;\n&lt;section class=\"tc-story-river\"&gt;\n&lt;div class=\"tc-tiddler-frame\"&gt;\n&lt;$transclude tiddler=\"$:/core/templates/server/static.tiddler.wikitext\" mode=\"inline\"/&gt;\n&lt;/div&gt;\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;"
        },
        "$:/core/templates/server/static.tiddler.wikitext": {
            "title": "$:/core/templates/server/static.tiddler.wikitext",
            "text": "\\whitespace trim\n&lt;div class=\"tc-tiddler-title\"&gt;\n&lt;div class=\"tc-titlebar\"&gt;\n&lt;h2&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;&lt;/h2&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-subtitle\"&gt;\n&lt;$link to={{!!modifier}}&gt;\n&lt;$view field=\"modifier\"/&gt;\n&lt;/$link&gt; &lt;$view field=\"modified\" format=\"date\" template={{$:/language/Tiddler/DateFormat}}/&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-tags-wrapper\"&gt;\n&lt;$list filter=\"[all[current]tags[]sort[title]]\"&gt;\n&lt;a href={{{ [&lt;currentTiddler&gt;encodeuricomponent[]] }}}&gt;\n&lt;$macrocall $name=\"tag-pill\" tag=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n&lt;/a&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-tiddler-body\"&gt;\n&lt;$transclude mode=\"block\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/templates/single.tiddler.window": {
            "title": "$:/core/templates/single.tiddler.window",
            "text": "\\whitespace trim\n\\define containerClasses()\ntc-page-container tc-page-view-$(storyviewTitle)$ tc-language-$(languageTitle)$\n\\end\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n\n&lt;$vars\n\ttv-config-toolbar-icons={{$:/config/Toolbar/Icons}}\n\ttv-config-toolbar-text={{$:/config/Toolbar/Text}}\n\ttv-config-toolbar-class={{$:/config/Toolbar/ButtonClass}}\n\ttv-show-missing-links={{$:/config/MissingLinks}}\n\tstoryviewTitle={{$:/view}}\n\tlanguageTitle={{{ [{$:/language}get[name]] }}}&gt;\n\n&lt;div class=&lt;&lt;containerClasses&gt;&gt;&gt;\n\n&lt;$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\"&gt;\n\n&lt;$transclude mode=\"block\"/&gt;\n\n&lt;/$navigator&gt;\n\n&lt;/div&gt;\n\n&lt;/$vars&gt;\n"
        },
        "$:/core/templates/split-recipe": {
            "title": "$:/core/templates/split-recipe",
            "text": "&lt;$list filter=\"[!is[system]]\"&gt;\ntiddler: &lt;$view field=\"title\" format=\"urlencoded\"/&gt;.tid\n&lt;/$list&gt;\n"
        },
        "$:/core/templates/static-tiddler": {
            "title": "$:/core/templates/static-tiddler",
            "text": "&lt;a name=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ViewTemplate\"/&gt;\n&lt;/a&gt;"
        },
        "$:/core/templates/static.area": {
            "title": "$:/core/templates/static.area",
            "text": "&lt;$reveal type=\"nomatch\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n{{{ [all[shadows+tiddlers]tag[$:/tags/RawStaticContent]!has[draft.of]] ||$:/core/templates/raw-static-tiddler}}}\n{{$:/core/templates/static.content||$:/core/templates/html-tiddler}}\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\nThis file contains an encrypted ~TiddlyWiki. Enable ~JavaScript and enter the decryption password when prompted.\n&lt;/$reveal&gt;\n&lt;!-- ensure splash screen isn't shown when JS is disabled --&gt;\n`&lt;style&gt;\n.tc-remove-when-wiki-loaded {display: none;}\n&lt;/style&gt;`\n"
        },
        "$:/core/templates/static.content": {
            "title": "$:/core/templates/static.content",
            "text": "&lt;!-- For Google, and people without JavaScript--&gt;\nThis [[TiddlyWiki|https://tiddlywiki.com]] contains the following tiddlers:\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt;&gt;\n&lt;li&gt;&lt;$view field=\"title\" format=\"text\"&gt;&lt;/$view&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n"
        },
        "$:/core/templates/static.template.css": {
            "title": "$:/core/templates/static.template.css",
            "text": "{{$:/boot/boot.css||$:/core/templates/plain-text-tiddler}}\n\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n"
        },
        "$:/core/templates/static.template.html": {
            "title": "$:/core/templates/static.template.html",
            "type": "text/vnd.tiddlywiki-html",
            "text": "\\define tv-wikilink-template() static/$uri_doubleencoded$.html\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"{{$:/core/templates/version}}\" /&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /&gt;\n&lt;meta name=\"mobile-web-app-capable\" content=\"yes\"/&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\"styleArea\"&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\"text/css\"&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\"tc-body\"&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n{{$:/core/ui/PageTemplate||$:/core/templates/html-tiddler}}\n&lt;/body&gt;\n&lt;/html&gt;\n"
        },
        "$:/core/templates/static.tiddler.html": {
            "title": "$:/core/templates/static.tiddler.html",
            "text": "\\define tv-wikilink-template() $uri_doubleencoded$.html\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n`&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"`{{$:/core/templates/version}}`\" /&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /&gt;\n&lt;meta name=\"mobile-web-app-capable\" content=\"yes\"/&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;link rel=\"stylesheet\" href=\"static.css\"&gt;\n&lt;title&gt;`&lt;$view field=\"caption\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;: {{$:/core/wiki/title}}`&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class=\"tc-body\"&gt;\n`{{$:/StaticBanner||$:/core/templates/html-tiddler}}`\n&lt;section class=\"tc-story-river tc-static-story-river\"&gt;\n`&lt;$view tiddler=\"$:/core/ui/ViewTemplate\" format=\"htmlwikified\"/&gt;`\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n`\n"
        },
        "$:/core/templates/store.area.template.html": {
            "title": "$:/core/templates/store.area.template.html",
            "text": "&lt;$reveal type=\"nomatch\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n`&lt;div id=\"storeArea\" style=\"display:none;\"&gt;`\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt; template=\"$:/core/templates/html-div-tiddler\"/&gt;\n&lt;$list filter={{{ [&lt;skinnySaveTiddlerFilter&gt;] }}} template=\"$:/core/templates/html-div-skinny-tiddler\"/&gt;\n`&lt;/div&gt;`\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n`&lt;!--~~ Encrypted tiddlers ~~--&gt;`\n`&lt;pre id=\"encryptedStoreArea\" type=\"text/plain\" style=\"display:none;\"&gt;`\n&lt;$encrypt filter=&lt;&lt;saveTiddlerFilter&gt;&gt;/&gt;\n`&lt;/pre&gt;`\n&lt;/$reveal&gt;"
        },
        "$:/core/templates/tid-tiddler": {
            "title": "$:/core/templates/tid-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers in TiddlyWeb *.tid format\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;`\n`&lt;$view field=\"text\" format=\"text\" /&gt;"
        },
        "$:/core/templates/tiddler-metadata": {
            "title": "$:/core/templates/tiddler-metadata",
            "text": "&lt;!--\n\nThis template is used for saving tiddler metadata *.meta files\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;"
        },
        "$:/core/templates/tiddlywiki5.html": {
            "title": "$:/core/templates/tiddlywiki5.html",
            "text": "&lt;$set name=\"saveTiddlerAndShadowsFilter\" filter=\"[subfilter&lt;saveTiddlerFilter&gt;] [subfilter&lt;saveTiddlerFilter&gt;plugintiddlers[]]\"&gt;\n`&lt;!doctype html&gt;\n`{{$:/core/templates/MOTW.html}}`&lt;html lang=\"`&lt;$text text={{{ [{$:/language}get[name]] }}}/&gt;`\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;!--~~ Raw markup for the top of the head section ~~--&gt;\n`{{{ [&lt;saveTiddlerAndShadowsFilter&gt;tag[$:/tags/RawMarkupWikified/TopHead]] ||$:/core/templates/raw-static-tiddler}}}`\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\"/&gt;\n&lt;meta name=\"application-name\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"`{{$:/core/templates/version}}`\" /&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /&gt;\n&lt;meta name=\"mobile-web-app-capable\" content=\"yes\"/&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\" /&gt;\n&lt;meta name=\"copyright\" content=\"`{{$:/core/copyright.txt}}`\" /&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;title&gt;`{{$:/core/wiki/title}}`&lt;/title&gt;\n&lt;!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--&gt;\n\n&lt;!--~~ Raw markup ~~--&gt;\n`{{{ [enlist&lt;saveTiddlerAndShadowsFilter&gt;tag[$:/core/wiki/rawmarkup]] ||$:/core/templates/plain-text-tiddler}}}\n{{{ [enlist&lt;saveTiddlerAndShadowsFilter&gt;tag[$:/tags/RawMarkup]] ||$:/core/templates/plain-text-tiddler}}}\n{{{ [enlist&lt;saveTiddlerAndShadowsFilter&gt;tag[$:/tags/RawMarkupWikified]] ||$:/core/templates/raw-static-tiddler}}}`\n&lt;/head&gt;\n&lt;body class=\"tc-body\"&gt;\n&lt;!--~~ Raw markup for the top of the body section ~~--&gt;\n`{{{ [enlist&lt;saveTiddlerAndShadowsFilter&gt;tag[$:/tags/RawMarkupWikified/TopBody]] ||$:/core/templates/raw-static-tiddler}}}`\n&lt;!--~~ Static styles ~~--&gt;\n&lt;div id=\"styleArea\"&gt;\n`{{$:/boot/boot.css||$:/core/templates/css-tiddler}}`\n&lt;/div&gt;\n&lt;!--~~ Static content for Google and browsers without JavaScript ~~--&gt;\n&lt;noscript&gt;\n&lt;div id=\"splashArea\"&gt;\n`{{$:/core/templates/static.area}}`\n&lt;/div&gt;\n&lt;/noscript&gt;\n&lt;!--~~ Ordinary tiddlers ~~--&gt;\n`{{$:/core/templates/store.area.template.html}}`\n&lt;!--~~ Library modules ~~--&gt;\n&lt;div id=\"libraryModules\" style=\"display:none;\"&gt;\n`{{{ [is[system]type[application/javascript]library[yes]] ||$:/core/templates/javascript-tiddler}}}`\n&lt;/div&gt;\n&lt;!--~~ Boot kernel prologue ~~--&gt;\n&lt;div id=\"bootKernelPrefix\" style=\"display:none;\"&gt;\n`{{ $:/boot/bootprefix.js ||$:/core/templates/javascript-tiddler}}`\n&lt;/div&gt;\n&lt;!--~~ Boot kernel ~~--&gt;\n&lt;div id=\"bootKernel\" style=\"display:none;\"&gt;\n`{{ $:/boot/boot.js ||$:/core/templates/javascript-tiddler}}`\n&lt;/div&gt;\n&lt;!--~~ Raw markup for the bottom of the body section ~~--&gt;\n`{{{ [enlist&lt;saveTiddlerAndShadowsFilter&gt;tag[$:/tags/RawMarkupWikified/BottomBody]] ||$:/core/templates/raw-static-tiddler}}}`\n&lt;/body&gt;\n&lt;/html&gt;`\n"
        },
        "$:/core/templates/version": {
            "title": "$:/core/templates/version",
            "text": "&lt;&lt;version&gt;&gt;"
        },
        "$:/core/templates/wikified-tiddler": {
            "title": "$:/core/templates/wikified-tiddler",
            "text": "&lt;$transclude /&gt;"
        },
        "$:/core/ui/AboveStory/tw2-plugin-check": {
            "title": "$:/core/ui/AboveStory/tw2-plugin-check",
            "tags": "$:/tags/AboveStory",
            "text": "\\define lingo-base() $:/language/AboveStory/ClassicPlugin/\n&lt;$list filter=\"[all[system+tiddlers]tag[systemConfig]limit[1]]\"&gt;\n\n&lt;div class=\"tc-message-box\"&gt;\n\n&lt;&lt;lingo Warning&gt;&gt;\n\n&lt;ul&gt;\n\n&lt;$list filter=\"[all[system+tiddlers]tag[systemConfig]]\"&gt;\n\n&lt;li&gt;\n\n&lt;$link&gt;&lt;$view field=\"title\"/&gt;&lt;/$link&gt;\n\n&lt;/li&gt;\n\n&lt;/$list&gt;\n\n&lt;/ul&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/Actions/new-image": {
            "title": "$:/core/ui/Actions/new-image",
            "tags": "$:/tags/Actions",
            "description": "create a new image tiddler",
            "text": "\\define get-type()\nimage/$(imageType)$\n\\end\n\\define get-tags() $(textFieldTags)$ $(tagsFieldTags)$\n&lt;$vars imageType={{$:/config/NewImageType}} textFieldTags={{$:/config/NewJournal/Tags}} tagsFieldTags={{$:/config/NewJournal/Tags!!tags}}&gt;\n&lt;$action-sendmessage $message=\"tm-new-tiddler\" type=&lt;&lt;get-type&gt;&gt; tags=&lt;&lt;get-tags&gt;&gt;/&gt;\n&lt;/$vars&gt;\n"
        },
        "$:/core/ui/Actions/new-journal": {
            "title": "$:/core/ui/Actions/new-journal",
            "tags": "$:/tags/Actions",
            "description": "create a new journal tiddler",
            "text": "\\define get-tags() $(textFieldTags)$ $(tagsFieldTags)$\n&lt;$vars journalTitleTemplate={{$:/config/NewJournal/Title}} textFieldTags={{$:/config/NewJournal/Tags}} tagsFieldTags={{$:/config/NewJournal/Tags!!tags}} journalText={{$:/config/NewJournal/Text}}&gt;\n&lt;$wikify name=\"journalTitle\" text=\"\"\"&lt;$macrocall $name=\"now\" format=&lt;&lt;journalTitleTemplate&gt;&gt;/&gt;\"\"\"&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;journalTitle&gt;&gt; text=\"\"&gt;\n&lt;$action-sendmessage $message=\"tm-new-tiddler\" title=&lt;&lt;journalTitle&gt;&gt; tags=&lt;&lt;get-tags&gt;&gt; text={{{ [&lt;journalTitle&gt;get[]] }}}/&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;journalTitle&gt;&gt; text=\"\"&gt;\n&lt;$action-sendmessage $message=\"tm-new-tiddler\" title=&lt;&lt;journalTitle&gt;&gt; tags=&lt;&lt;get-tags&gt;&gt; text=&lt;&lt;journalText&gt;&gt;/&gt;\n&lt;/$reveal&gt;\n&lt;/$wikify&gt;\n&lt;/$vars&gt;\n"
        },
        "$:/core/ui/Actions/new-tiddler": {
            "title": "$:/core/ui/Actions/new-tiddler",
            "tags": "$:/tags/Actions",
            "description": "create a new empty tiddler",
            "text": "\\define get-tags() $(textFieldTags)$ $(tagsFieldTags)$\n&lt;$vars textFieldTags={{$:/config/NewTiddler/Tags}} tagsFieldTags={{$:/config/NewTiddler/Tags!!tags}}&gt;\n&lt;$action-sendmessage $message=\"tm-new-tiddler\" tags=&lt;&lt;get-tags&gt;&gt;/&gt;\n&lt;/$vars&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Filter": {
            "title": "$:/core/ui/AdvancedSearch/Filter",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/Filter/Caption}}",
            "text": "\\define lingo-base() $:/language/Search/\n\\define set-next-input-tab(beforeafter:\"after\") &lt;$macrocall $name=\"change-input-tab\" stateTitle=\"$:/state/tab--1498284803\" tag=\"$:/tags/AdvancedSearch\" beforeafter=\"$beforeafter$\" defaultState=\"$:/core/ui/AdvancedSearch/System\" actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/advancedsearch/currentTab\" text=&lt;&lt;nextTab&gt;&gt;/&gt;\"\"\"/&gt;\n\n\\define cancel-search-actions() &lt;$list filter=\"[{$:/temp/advancedsearch/input}!match{$:/temp/advancedsearch}]\" emptyMessage=\"\"\"&lt;$action-deletetiddler $filter=\"[[$:/temp/advancedsearch]] [[$:/temp/advancedsearch/input]] [[$:/temp/advancedsearch/selected-item]]\" /&gt;\"\"\"&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/input\" text={{$:/temp/advancedsearch}}/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/refresh\" text=\"yes\"/&gt;&lt;/$list&gt;\n\n\\define input-accept-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\n\n\\define input-accept-variant-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\n\n&lt;&lt;lingo Filter/Hint&gt;&gt;\n\n&lt;div class=\"tc-search tc-advanced-search\"&gt;\n&lt;$keyboard key=\"((input-tab-right))\" actions=&lt;&lt;set-next-input-tab&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-tab-left))\" actions=&lt;&lt;set-next-input-tab \"before\"&gt;&gt;&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=\"$:/temp/advancedsearch/input\" storeTitle=\"$:/temp/advancedsearch\" \n\t\trefreshTitle=\"$:/temp/advancedsearch/refresh\" selectionStateTitle=\"$:/temp/advancedsearch/selected-item\" type=\"search\" \n\t\ttag=\"input\" focus={{$:/config/Search/AutoFocus}} configTiddlerFilter=\"[[$:/temp/advancedsearch]]\" firstSearchFilterField=\"text\" \n\t\tinputAcceptActions=&lt;&lt;input-accept-actions&gt;&gt; inputAcceptVariantActions=&lt;&lt;input-accept-variant-actions&gt;&gt; \n\t\tinputCancelActions=&lt;&lt;cancel-search-actions&gt;&gt;/&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/AdvancedSearch/FilterButton]!has[draft.of]]\"&gt;&lt;$transclude/&gt;&lt;/$list&gt;\n&lt;/div&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$set name=\"resultCount\" value=\"\"\"&lt;$count filter={{$:/temp/advancedsearch}}/&gt;\"\"\"&gt;\n&lt;div class=\"tc-search-results\"&gt;\n&lt;&lt;lingo Filter/Matches&gt;&gt;\n&lt;$list filter={{$:/temp/advancedsearch}}&gt;\n&lt;span class={{{[&lt;currentTiddler&gt;addsuffix[-primaryList]] -[[$:/temp/advancedsearch/selected-item]get[text]] +[then[]else[tc-list-item-selected]] }}}&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Filter/FilterButtons/clear": {
            "title": "$:/core/ui/AdvancedSearch/Filter/FilterButtons/clear",
            "tags": "$:/tags/AdvancedSearch/FilterButton",
            "text": "&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;&lt;cancel-search-actions&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\"\"\".tc-advanced-search input\"\"\" /&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Filter/FilterButtons/delete": {
            "title": "$:/core/ui/AdvancedSearch/Filter/FilterButtons/delete",
            "tags": "$:/tags/AdvancedSearch/FilterButton",
            "text": "&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/filterDeleteDropdown\"&gt;&gt; class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/delete-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/filterDeleteDropdown\"&gt;&gt; type=\"popup\" position=\"belowleft\" animate=\"yes\"&gt;\n&lt;div class=\"tc-block-dropdown-wrapper\"&gt;\n&lt;div class=\"tc-block-dropdown tc-edit-type-dropdown\"&gt;\n&lt;div class=\"tc-dropdown-item-plain\"&gt;\n&lt;$set name=\"resultCount\" value=\"\"\"&lt;$count filter={{$:/temp/advancedsearch}}/&gt;\"\"\"&gt;\nAre you sure you wish to delete &lt;&lt;resultCount&gt;&gt; tiddler(s)?\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-dropdown-item-plain\"&gt;\n&lt;$button class=\"tc-btn\"&gt;\n&lt;$action-deletetiddler $filter={{$:/temp/advancedsearch}}/&gt;\nDelete these tiddlers\n&lt;/$button&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Filter/FilterButtons/dropdown": {
            "title": "$:/core/ui/AdvancedSearch/Filter/FilterButtons/dropdown",
            "tags": "$:/tags/AdvancedSearch/FilterButton",
            "text": "&lt;span class=\"tc-popup-keep\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/filterDropdown\"&gt;&gt; class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/span&gt;\n\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/filterDropdown\"&gt;&gt; type=\"popup\" position=\"belowleft\" animate=\"yes\"&gt;\n&lt;$set name=\"tv-show-missing-links\" value=\"yes\"&gt;\n&lt;$linkcatcher actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch\" text=&lt;&lt;navigateTo&gt;&gt;/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/input\" text=&lt;&lt;navigateTo&gt;&gt;/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/refresh\" text=\"yes\"/&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param='.tc-advanced-search input' /&gt;\"\"\"&gt;\n&lt;div class=\"tc-block-dropdown-wrapper\"&gt;\n&lt;div class=\"tc-block-dropdown tc-edit-type-dropdown\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Filter]]\"&gt;&lt;$link to={{!!filter}}&gt;&lt;$transclude field=\"description\"/&gt;&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Filter/FilterButtons/export": {
            "title": "$:/core/ui/AdvancedSearch/Filter/FilterButtons/export",
            "tags": "$:/tags/AdvancedSearch/FilterButton",
            "text": "&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$macrocall $name=\"exportButton\" exportFilter={{$:/temp/advancedsearch}} lingoBase=\"$:/language/Buttons/ExportTiddlers/\"/&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Shadows": {
            "title": "$:/core/ui/AdvancedSearch/Shadows",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/Shadows/Caption}}",
            "first-search-filter": "[all[shadows]search&lt;userInput&gt;sort[title]limit[250]] -[[$:/temp/advancedsearch]] -[[$:/temp/advancedsearch/input]]",
            "text": "\\define lingo-base() $:/language/Search/\n\n\\define set-next-input-tab(beforeafter:\"after\") &lt;$macrocall $name=\"change-input-tab\" stateTitle=\"$:/state/tab--1498284803\" tag=\"$:/tags/AdvancedSearch\" beforeafter=\"$beforeafter$\" defaultState=\"$:/core/ui/AdvancedSearch/System\" actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/advancedsearch/currentTab\" text=&lt;&lt;nextTab&gt;&gt;/&gt;\"\"\"/&gt;\n\n\\define cancel-search-actions() &lt;$list filter=\"[{$:/temp/advancedsearch}!match{$:/temp/advancedsearch/input}]\" emptyMessage=\"\"\"&lt;$action-deletetiddler $filter=\"[[$:/temp/advancedsearch]] [[$:/temp/advancedsearch/input]] [[$:/temp/advancedsearch/selected-item]]\" /&gt;\"\"\"&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/input\" text={{$:/temp/advancedsearch}}/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/refresh\" text=\"yes\"/&gt;&lt;/$list&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\"\"\".tc-advanced-search input\"\"\"/&gt;\n\n\\define input-accept-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\n\n\\define input-accept-variant-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\n\n&lt;&lt;lingo Shadows/Hint&gt;&gt;\n\n&lt;div class=\"tc-search\"&gt;\n&lt;$keyboard key=\"((input-tab-right))\" actions=&lt;&lt;set-next-input-tab&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-tab-left))\" actions=&lt;&lt;set-next-input-tab \"before\"&gt;&gt;&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=\"$:/temp/advancedsearch/input\" storeTitle=\"$:/temp/advancedsearch\"\n\t\trefreshTitle=\"$:/temp/advancedsearch/refresh\" selectionStateTitle=\"$:/temp/advancedsearch/selected-item\" type=\"search\"\n\t\ttag=\"input\" focus={{$:/config/Search/AutoFocus}} configTiddlerFilter=\"[[$:/core/ui/AdvancedSearch/Shadows]]\"\n\t\tinputCancelActions=&lt;&lt;cancel-search-actions&gt;&gt; inputAcceptActions=&lt;&lt;input-accept-actions&gt;&gt; \n\t\tinputAcceptVariantActions=&lt;&lt;input-accept-variant-actions&gt;&gt;  filterMinLength={{$:/config/Search/MinLength}}/&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;&lt;cancel-search-actions&gt;&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n\n&lt;$list filter=\"[{$:/temp/advancedsearch}minlength{$:/config/Search/MinLength}limit[1]]\" emptyMessage=\"\"\"&lt;div class=\"tc-search-results\"&gt;{{$:/language/Search/Search/TooShort}}&lt;/div&gt;\"\"\" variable=\"listItem\"&gt;\n\n&lt;$set name=\"resultCount\" value=\"\"\"&lt;$count filter=\"[all[shadows]search{$:/temp/advancedsearch}] -[[$:/temp/advancedsearch]] -[[$:/temp/advancedsearch/input]]\"/&gt;\"\"\"&gt;\n\n&lt;div class=\"tc-search-results\"&gt;\n\n&lt;&lt;lingo Shadows/Matches&gt;&gt;\n\n&lt;$list filter=\"[all[shadows]search{$:/temp/advancedsearch}sort[title]limit[250]] -[[$:/temp/advancedsearch]] -[[$:/temp/advancedsearch/input]]\"&gt;\n&lt;span class={{{[&lt;currentTiddler&gt;addsuffix[-primaryList]] -[[$:/temp/advancedsearch/selected-item]get[text]] +[then[]else[tc-list-item-selected]] }}}&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$list&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"match\" text=\"\"&gt;\n\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Standard": {
            "title": "$:/core/ui/AdvancedSearch/Standard",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/Standard/Caption}}",
            "text": "\\define lingo-base() $:/language/Search/\n\\define set-next-input-tab(beforeafter:\"after\") &lt;$macrocall $name=\"change-input-tab\" stateTitle=\"$:/state/tab--1498284803\" tag=\"$:/tags/AdvancedSearch\" beforeafter=\"$beforeafter$\" defaultState=\"$:/core/ui/AdvancedSearch/System\" actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/advancedsearch/currentTab\" text=&lt;&lt;nextTab&gt;&gt;/&gt;\"\"\"/&gt;\n\n\\define next-search-tab(beforeafter:\"after\") &lt;$macrocall $name=\"change-input-tab\" stateTitle=\"$:/state/tab/search-results/advancedsearch\" tag=\"$:/tags/SearchResults\" beforeafter=\"$beforeafter$\" defaultState={{$:/config/SearchResults/Default}} actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/advancedsearch/standard/currentTab\" text=&lt;&lt;nextTab&gt;&gt;/&gt;\"\"\"/&gt;\n\n\\define cancel-search-actions() &lt;$list filter=\"[{$:/temp/advancedsearch}!match{$:/temp/advancedsearch/input}]\" emptyMessage=\"\"\"&lt;$action-deletetiddler $filter=\"[[$:/temp/advancedsearch]] [[$:/temp/advancedsearch/input]] [[$:/temp/advancedsearch/selected-item]]\" /&gt;\"\"\"&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/input\" text={{$:/temp/advancedsearch}}/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/refresh\" text=\"yes\"/&gt;&lt;/$list&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\"\"\".tc-advanced-search input\"\"\"/&gt;\n\n\\define input-accept-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\n\n\\define input-accept-variant-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\n\n&lt;&lt;lingo Standard/Hint&gt;&gt;\n\n&lt;div class=\"tc-search\"&gt;\n&lt;$keyboard key=\"((input-tab-right))\" actions=&lt;&lt;set-next-input-tab&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-tab-left))\" actions=&lt;&lt;set-next-input-tab \"before\"&gt;&gt;&gt;\n&lt;$keyboard key=\"shift-alt-Right\" actions=&lt;&lt;next-search-tab&gt;&gt;&gt;\n&lt;$keyboard key=\"shift-alt-Left\" actions=&lt;&lt;next-search-tab \"before\"&gt;&gt;&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=\"$:/temp/advancedsearch/input\" storeTitle=\"$:/temp/advancedsearch\"\n\t\trefreshTitle=\"$:/temp/advancedsearch/refresh\" selectionStateTitle=\"$:/temp/advancedsearch/selected-item\" type=\"search\"\n\t\ttag=\"input\" focus={{$:/config/Search/AutoFocus}} inputCancelActions=&lt;&lt;cancel-search-actions&gt;&gt; \n\t\tinputAcceptActions=&lt;&lt;input-accept-actions&gt;&gt; inputAcceptVariantActions=&lt;&lt;input-accept-variant-actions&gt;&gt; \n\t\tconfigTiddlerFilter=\"[[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}]\"\n\t\tfilterMinLength={{$:/config/Search/MinLength}}/&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;&lt;cancel-search-actions&gt;&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$list filter=\"[{$:/temp/advancedsearch}minlength{$:/config/Search/MinLength}limit[1]]\" emptyMessage=\"\"\"&lt;div class=\"tc-search-results\"&gt;{{$:/language/Search/Search/TooShort}}&lt;/div&gt;\"\"\" variable=\"listItem\"&gt;\n&lt;$vars userInput={{{ [[$:/temp/advancedsearch]get[text]] }}} configTiddler={{{ [[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}] }}} searchListState=\"$:/temp/advancedsearch/selected-item\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]butfirst[]limit[1]]\" emptyMessage=\"\"\"\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\"&gt;\n&lt;$transclude/&gt;\n&lt;/$list&gt;\n\"\"\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\" default={{$:/config/SearchResults/Default}} actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/advancedsearch/standard/currentTab\" text=&lt;&lt;currentTab&gt;&gt;/&gt;\"\"\" explicitState=\"$:/state/tab/search-results/advancedsearch\" /&gt;\n&lt;/$list&gt;\n&lt;/$vars&gt;\n&lt;/$list&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/System": {
            "title": "$:/core/ui/AdvancedSearch/System",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/System/Caption}}",
            "first-search-filter": "[is[system]search&lt;userInput&gt;sort[title]limit[250]] -[[$:/temp/advancedsearch]] -[[$:/temp/advancedsearch/input]] -[[$:/temp/advancedsearch/selected-item]]",
            "text": "\\define lingo-base() $:/language/Search/\n\\define set-next-input-tab(beforeafter:\"after\",stateTitle,tag,defaultState,currentTabTiddler) &lt;$macrocall $name=\"change-input-tab\" stateTitle=\"$:/state/tab--1498284803\" tag=\"$:/tags/AdvancedSearch\" beforeafter=\"$beforeafter$\" defaultState=\"$:/core/ui/AdvancedSearch/System\" actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/advancedsearch/currentTab\" text=&lt;&lt;nextTab&gt;&gt;/&gt;\"\"\"/&gt;\n\n\\define cancel-search-actions() &lt;$list filter=\"[{$:/temp/advancedsearch}!match{$:/temp/advancedsearch/input}]\" emptyMessage=\"\"\"&lt;$action-deletetiddler $filter=\"[[$:/temp/advancedsearch]] [[$:/temp/advancedsearch/input]] [[$:/temp/advancedsearch/selected-item]]\" /&gt;\"\"\"&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/input\" text={{$:/temp/advancedsearch}}/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/refresh\" text=\"yes\"/&gt;&lt;/$list&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\"\"\".tc-advanced-search input\"\"\"/&gt;\n\n\\define input-accept-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\n\n\\define input-accept-variant-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\n\n&lt;&lt;lingo System/Hint&gt;&gt;\n\n&lt;div class=\"tc-search\"&gt;\n&lt;$keyboard key=\"((input-tab-right))\" actions=&lt;&lt;set-next-input-tab&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-tab-left))\" actions=&lt;&lt;set-next-input-tab \"before\"&gt;&gt;&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=\"$:/temp/advancedsearch/input\" storeTitle=\"$:/temp/advancedsearch\"\n\t\trefreshTitle=\"$:/temp/advancedsearch/refresh\" selectionStateTitle=\"$:/temp/advancedsearch/selected-item\"\n\t\ttype=\"search\" tag=\"input\" focus={{$:/config/Search/AutoFocus}} configTiddlerFilter=\"[[$:/core/ui/AdvancedSearch/System]]\"\n\t\tinputCancelActions=&lt;&lt;cancel-search-actions&gt;&gt; inputAcceptActions=&lt;&lt;input-accept-actions&gt;&gt; \n\t\tinputAcceptVariantActions=&lt;&lt;input-accept-variant-actions&gt;&gt; filterMinLength={{$:/config/Search/MinLength}}/&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;&lt;cancel-search-actions&gt;&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n\n&lt;$list filter=\"[{$:/temp/advancedsearch}minlength{$:/config/Search/MinLength}limit[1]]\" emptyMessage=\"\"\"&lt;div class=\"tc-search-results\"&gt;{{$:/language/Search/Search/TooShort}}&lt;/div&gt;\"\"\" variable=\"listItem\"&gt;\n\n&lt;$set name=\"resultCount\" value=\"\"\"&lt;$count filter=\"[is[system]search{$:/temp/advancedsearch}] -[[$:/temp/advancedsearch]] -[[$:/temp/advancedsearch/input]] -[[$:/temp/advancedsearch/selected-item]]\"/&gt;\"\"\"&gt;\n\n&lt;div class=\"tc-search-results\"&gt;\n\n&lt;&lt;lingo System/Matches&gt;&gt;\n\n&lt;$list filter=\"[is[system]search{$:/temp/advancedsearch}sort[title]limit[250]] -[[$:/temp/advancedsearch]] -[[$:/temp/advancedsearch/input]] -[[$:/temp/advancedsearch/selected-item]]\"&gt;\n&lt;span class={{{[&lt;currentTiddler&gt;addsuffix[-primaryList]] -[[$:/temp/advancedsearch/selected-item]get[text]] +[then[]else[tc-list-item-selected]] }}}&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$list&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"match\" text=\"\"&gt;\n\n&lt;/$reveal&gt;\n"
        },
        "$:/AdvancedSearch": {
            "title": "$:/AdvancedSearch",
            "icon": "$:/core/images/advanced-search-button",
            "color": "#bbb",
            "text": "&lt;div class=\"tc-advanced-search\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/AdvancedSearch]!has[draft.of]]\" default=\"$:/core/ui/AdvancedSearch/System\" actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/advancedsearch/currentTab\" text=&lt;&lt;currentTab&gt;&gt;/&gt;\"\"\" explicitState=\"$:/state/tab--1498284803\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/AlertTemplate": {
            "title": "$:/core/ui/AlertTemplate",
            "text": "&lt;div class=\"tc-alert\"&gt;\n&lt;div class=\"tc-alert-toolbar\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;&lt;$action-deletetiddler $tiddler=&lt;&lt;currentTiddler&gt;&gt;/&gt;{{$:/core/images/cancel-button}}&lt;/$button&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-alert-subtitle\"&gt;\n&lt;$wikify name=\"format\" text=&lt;&lt;lingo Tiddler/DateFormat&gt;&gt;&gt;\n&lt;$view field=\"component\"/&gt; - &lt;$view field=\"modified\" format=\"date\" template=&lt;&lt;format&gt;&gt;/&gt; &lt;$reveal type=\"nomatch\" state=\"!!count\" text=\"\"&gt;&lt;span class=\"tc-alert-highlight\"&gt;({{$:/language/Count}}: &lt;$view field=\"count\"/&gt;)&lt;/span&gt;&lt;/$reveal&gt;\n&lt;/$wikify&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-alert-body\"&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/BinaryWarning": {
            "title": "$:/core/ui/BinaryWarning",
            "text": "\\define lingo-base() $:/language/BinaryWarning/\n&lt;&lt;lingo Prompt&gt;&gt;\n"
        },
        "$:/core/ui/Components/plugin-info": {
            "title": "$:/core/ui/Components/plugin-info",
            "text": "\\define lingo-base() $:/language/ControlPanel/Plugins/\n\n\\define popup-state-macro()\n$(qualified-state)$-$(currentTiddler)$\n\\end\n\n\\define tabs-state-macro()\n$(popup-state)$-$(pluginInfoType)$\n\\end\n\n\\define plugin-icon-title()\n$(currentTiddler)$/icon\n\\end\n\n\\define plugin-disable-title()\n$:/config/Plugins/Disabled/$(currentTiddler)$\n\\end\n\n\\define plugin-table-body(type,disabledMessage,default-popup-state)\n&lt;div class=\"tc-plugin-info-chunk tc-plugin-info-toggle\"&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;popup-state&gt;&gt; text=\"yes\" default=\"\"\"$default-popup-state$\"\"\"&gt;\n&lt;$button class=\"tc-btn-invisible tc-btn-dropdown\" set=&lt;&lt;popup-state&gt;&gt; setTo=\"yes\"&gt;\n{{$:/core/images/chevron-right}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;popup-state&gt;&gt; text=\"yes\" default=\"\"\"$default-popup-state$\"\"\"&gt;\n&lt;$button class=\"tc-btn-invisible tc-btn-dropdown\" set=&lt;&lt;popup-state&gt;&gt; setTo=\"no\"&gt;\n{{$:/core/images/chevron-down}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-plugin-info-chunk tc-plugin-info-icon\"&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;plugin-icon-title&gt;&gt;&gt;\n&lt;$transclude tiddler=\"$:/core/images/plugin-generic-$type$\"/&gt;\n&lt;/$transclude&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-plugin-info-chunk tc-plugin-info-description\"&gt;\n&lt;h1&gt;\n''&lt;$text text={{{ [&lt;currentTiddler&gt;get[name]] ~[&lt;currentTiddler&gt;split[/]last[1]] }}}/&gt;'': &lt;$view field=\"description\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt; $disabledMessage$\n&lt;/h1&gt;\n&lt;h2&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/h2&gt;\n&lt;h2&gt;\n&lt;div&gt;&lt;em&gt;&lt;$view field=\"version\"/&gt;&lt;/em&gt;&lt;/div&gt;\n&lt;/h2&gt;\n&lt;/div&gt;\n\\end\n\n\\define plugin-info(type,default-popup-state)\n&lt;$set name=\"popup-state\" value=&lt;&lt;popup-state-macro&gt;&gt;&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;plugin-disable-title&gt;&gt; text=\"yes\"&gt;\n&lt;$link to={{!!title}} class=\"tc-plugin-info\"&gt;\n&lt;&lt;plugin-table-body type:\"$type$\" default-popup-state:\"\"\"$default-popup-state$\"\"\"&gt;&gt;\n&lt;/$link&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;plugin-disable-title&gt;&gt; text=\"yes\"&gt;\n&lt;$link to={{!!title}} class=\"tc-plugin-info tc-plugin-info-disabled\"&gt;\n&lt;&lt;plugin-table-body type:\"$type$\" default-popup-state:\"\"\"$default-popup-state$\"\"\" disabledMessage:\"&lt;$macrocall $name='lingo' title='Disabled/Status'/&gt;\"&gt;&gt;\n&lt;/$link&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" text=\"yes\" state=&lt;&lt;popup-state&gt;&gt; default=\"\"\"$default-popup-state$\"\"\"&gt;\n&lt;div class=\"tc-plugin-info-dropdown\"&gt;\n&lt;div class=\"tc-plugin-info-dropdown-body\"&gt;\n&lt;$list filter=\"[all[current]] -[[$:/core]]\"&gt;\n&lt;div style=\"float:right;\"&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;plugin-disable-title&gt;&gt; text=\"yes\"&gt;\n&lt;$button set=&lt;&lt;plugin-disable-title&gt;&gt; setTo=\"yes\" tooltip={{$:/language/ControlPanel/Plugins/Disable/Hint}} aria-label={{$:/language/ControlPanel/Plugins/Disable/Caption}}&gt;\n&lt;&lt;lingo Disable/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;plugin-disable-title&gt;&gt; text=\"yes\"&gt;\n&lt;$button set=&lt;&lt;plugin-disable-title&gt;&gt; setTo=\"no\" tooltip={{$:/language/ControlPanel/Plugins/Enable/Hint}} aria-label={{$:/language/ControlPanel/Plugins/Enable/Caption}}&gt;\n&lt;&lt;lingo Enable/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;$set name=\"tabsList\" filter=\"[&lt;currentTiddler&gt;list[]] contents\"&gt;\n&lt;$macrocall $name=\"tabs\" state=&lt;&lt;tabs-state-macro&gt;&gt; tabsList=&lt;&lt;tabsList&gt;&gt; default={{{ [enlist&lt;tabsList&gt;] }}} template=\"$:/core/ui/PluginInfo\"/&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n\\end\n\n&lt;$macrocall $name=\"plugin-info\" type=&lt;&lt;plugin-type&gt;&gt; default-popup-state=&lt;&lt;default-popup-state&gt;&gt;/&gt;\n"
        },
        "$:/core/ui/Components/tag-link": {
            "title": "$:/core/ui/Components/tag-link",
            "text": "&lt;$link&gt;\n&lt;$set name=\"backgroundColor\" value={{!!color}}&gt;\n&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\"tc-tag-label\"&gt;\n&lt;$view field=\"title\" format=\"text\"/&gt;\n&lt;/span&gt;\n&lt;/$set&gt;\n&lt;/$link&gt;"
        },
        "$:/core/ui/ControlPanel/Advanced": {
            "title": "$:/core/ui/ControlPanel/Advanced",
            "tags": "$:/tags/ControlPanel/Info",
            "caption": "{{$:/language/ControlPanel/Advanced/Caption}}",
            "text": "{{$:/language/ControlPanel/Advanced/Hint}}\n\n&lt;div class=\"tc-control-panel\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Advanced]!has[draft.of]]\" default=\"$:/core/ui/ControlPanel/TiddlerFields\" explicitState=\"$:/state/tab--959111941\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/Appearance": {
            "title": "$:/core/ui/ControlPanel/Appearance",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Appearance/Caption}}",
            "text": "{{$:/language/ControlPanel/Appearance/Hint}}\n\n&lt;div class=\"tc-control-panel\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Appearance]!has[draft.of]]\" default=\"$:/core/ui/ControlPanel/Theme\" explicitState=\"$:/state/tab--1963855381\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/Basics": {
            "title": "$:/core/ui/ControlPanel/Basics",
            "tags": "$:/tags/ControlPanel/Info",
            "caption": "{{$:/language/ControlPanel/Basics/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Basics/\n\n\\define show-filter-count(filter)\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch\" $value=\"\"\"$filter$\"\"\"/&gt;\n&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/input\" $value=\"\"\"$filter$\"\"\"/&gt;\n&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/refresh\" text=\"yes\"/&gt;\n&lt;$action-setfield $tiddler=\"$:/state/tab--1498284803\" $value=\"$:/core/ui/AdvancedSearch/Filter\"/&gt;\n&lt;$action-navigate $to=\"$:/AdvancedSearch\"/&gt;\n&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\".tc-advanced-search input\"/&gt;\n''&lt;$count filter=\"\"\"$filter$\"\"\"/&gt;''\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n\\end\n\n|&lt;&lt;lingo Version/Prompt&gt;&gt; |''&lt;&lt;version&gt;&gt;'' |\n|&lt;$link to=\"$:/SiteTitle\"&gt;&lt;&lt;lingo Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/SiteTitle\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/SiteSubtitle\"&gt;&lt;&lt;lingo Subtitle/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/SiteSubtitle\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/status/UserName\"&gt;&lt;&lt;lingo Username/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/status/UserName\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/config/AnimationDuration\"&gt;&lt;&lt;lingo AnimDuration/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/config/AnimationDuration\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/DefaultTiddlers\"&gt;&lt;&lt;lingo DefaultTiddlers/Prompt&gt;&gt;&lt;/$link&gt; |&lt;&lt;lingo DefaultTiddlers/TopHint&gt;&gt;&lt;br&gt; &lt;$edit tag=\"textarea\" tiddler=\"$:/DefaultTiddlers\" class=\"tc-edit-texteditor\"/&gt;&lt;br&gt;//&lt;&lt;lingo DefaultTiddlers/BottomHint&gt;&gt;// |\n|&lt;$link to=\"$:/language/DefaultNewTiddlerTitle\"&gt;&lt;&lt;lingo NewTiddler/Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/language/DefaultNewTiddlerTitle\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/config/NewJournal/Title\"&gt;&lt;&lt;lingo NewJournal/Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/config/NewJournal/Title\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/config/NewJournal/Text\"&gt;&lt;&lt;lingo NewJournal/Text/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit tiddler=\"$:/config/NewJournal/Text\" tag=\"textarea\" class=\"tc-edit-texteditor\" default=\"\"/&gt; |\n|&lt;$link to=\"$:/config/NewTiddler/Tags\"&gt;&lt;&lt;lingo NewTiddler/Tags/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$vars currentTiddler=\"$:/config/NewTiddler/Tags\" tagField=\"text\"&gt;{{||$:/core/ui/EditTemplate/tags}}&lt;$list filter=\"[&lt;currentTiddler&gt;tags[]] +[limit[1]]\" variable=\"ignore\"&gt;&lt;$button tooltip={{$:/language/ControlPanel/Basics/RemoveTags/Hint}}&gt;&lt;&lt;lingo RemoveTags&gt;&gt;&lt;$action-listops $tiddler=&lt;&lt;currentTiddler&gt;&gt; $field=\"text\" $subfilter={{{ [&lt;currentTiddler&gt;get[tags]] }}}/&gt;&lt;$action-setfield $tiddler=&lt;&lt;currentTiddler&gt;&gt; tags=\"\"/&gt;&lt;/$button&gt;&lt;/$list&gt;&lt;/$vars&gt; |\n|&lt;$link to=\"$:/config/NewJournal/Tags\"&gt;&lt;&lt;lingo NewJournal/Tags/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$vars currentTiddler=\"$:/config/NewJournal/Tags\" tagField=\"text\"&gt;{{||$:/core/ui/EditTemplate/tags}}&lt;$list filter=\"[&lt;currentTiddler&gt;tags[]] +[limit[1]]\" variable=\"ignore\"&gt;&lt;$button tooltip={{$:/language/ControlPanel/Basics/RemoveTags/Hint}}&gt;&lt;&lt;lingo RemoveTags&gt;&gt;&lt;$action-listops $tiddler=&lt;&lt;currentTiddler&gt;&gt; $field=\"text\" $subfilter={{{ [&lt;currentTiddler&gt;get[tags]] }}}/&gt;&lt;$action-setfield $tiddler=&lt;&lt;currentTiddler&gt;&gt; tags=\"\"/&gt;&lt;/$button&gt;&lt;/$list&gt;&lt;/$vars&gt; |\n|&lt;$link to=\"$:/config/AutoFocus\"&gt;&lt;&lt;lingo AutoFocus/Prompt&gt;&gt;&lt;/$link&gt; |{{$:/snippets/minifocusswitcher}} |\n|&lt;&lt;lingo Language/Prompt&gt;&gt; |{{$:/snippets/minilanguageswitcher}} |\n|&lt;&lt;lingo Tiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \"[!is[system]sort[title]]\"&gt;&gt; |\n|&lt;&lt;lingo Tags/Prompt&gt;&gt; |&lt;&lt;show-filter-count \"[tags[]sort[title]]\"&gt;&gt; |\n|&lt;&lt;lingo SystemTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \"[is[system]sort[title]]\"&gt;&gt; |\n|&lt;&lt;lingo ShadowTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \"[all[shadows]sort[title]]\"&gt;&gt; |\n|&lt;&lt;lingo OverriddenShadowTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \"[is[tiddler]is[shadow]sort[title]]\"&gt;&gt; |\n"
        },
        "$:/core/ui/ControlPanel/EditorTypes": {
            "title": "$:/core/ui/ControlPanel/EditorTypes",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/EditorTypes/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/EditorTypes/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Type/Caption&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Editor/Caption&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]prefix[$:/config/EditorTypeMappings/]sort[title]]\"&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$link&gt;\n&lt;$list filter=\"[all[current]removeprefix[$:/config/EditorTypeMappings/]]\"&gt;\n&lt;$text text={{!!title}}/&gt;\n&lt;/$list&gt;\n&lt;/$link&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=\"text\"/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/ControlPanel/Info": {
            "title": "$:/core/ui/ControlPanel/Info",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Info/Caption}}",
            "text": "{{$:/language/ControlPanel/Info/Hint}}\n\n&lt;div class=\"tc-control-panel\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Info]!has[draft.of]]\" default=\"$:/core/ui/ControlPanel/Basics\" explicitState=\"$:/state/tab--2112689675\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/KeyboardShortcuts": {
            "title": "$:/core/ui/ControlPanel/KeyboardShortcuts",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/KeyboardShortcuts/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/KeyboardShortcuts/\n\n\\define new-shortcut(title)\n&lt;div class=\"tc-dropdown-item-plain\"&gt;\n&lt;$edit-shortcut tiddler=\"$title$\" placeholder={{$:/language/ControlPanel/KeyboardShortcuts/Add/Prompt}} focus=\"true\" style=\"width:auto;\"/&gt; &lt;$button&gt;\n&lt;&lt;lingo Add/Caption&gt;&gt;\n&lt;$action-listops\n\t$tiddler=\"$(shortcutTitle)$\"\n\t$field=\"text\"\n\t$subfilter=\"[{$title$}]\"\n/&gt;\n&lt;$action-deletetiddler\n\t$tiddler=\"$title$\"\n/&gt;\n&lt;/$button&gt;\n&lt;/div&gt;\n\\end\n\n\\define shortcut-list-item(caption)\n&lt;td&gt;\n&lt;/td&gt;\n&lt;td style=\"text-align:right;font-size:0.7em;\"&gt;\n&lt;&lt;lingo Platform/$caption$&gt;&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;div style=\"position:relative;\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/dropdown/$(shortcutTitle)$\"&gt;&gt; class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/edit-button}}\n&lt;/$button&gt;\n&lt;$macrocall $name=\"displayshortcuts\" $output=\"text/html\" shortcuts={{$(shortcutTitle)$}} prefix=\"&lt;kbd&gt;\" separator=\"&lt;/kbd&gt; &lt;kbd&gt;\" suffix=\"&lt;/kbd&gt;\"/&gt;\n\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/dropdown/$(shortcutTitle)$\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tc-block-dropdown-wrapper\"&gt;\n&lt;div class=\"tc-block-dropdown tc-edit-type-dropdown tc-popup-keep\"&gt;\n&lt;$list filter=\"[list[$(shortcutTitle)$!!text]sort[title]]\" variable=\"shortcut\" emptyMessage=\"\"\"\n&lt;div class=\"tc-dropdown-item-plain\"&gt;\n//&lt;&lt;lingo NoShortcuts/Caption&gt;&gt;//\n&lt;/div&gt;\n\"\"\"&gt;\n&lt;div class=\"tc-dropdown-item-plain\"&gt;\n&lt;$button class=\"tc-btn-invisible\" tooltip={{$:/language/ControlPanel/KeyboardShortcuts/Remove/Hint}}&gt;\n&lt;$action-listops\n\t$tiddler=\"$(shortcutTitle)$\"\n\t$field=\"text\"\n\t$subfilter=\"+[remove&lt;shortcut&gt;]\"\n/&gt;\n&lt;small&gt;{{$:/core/images/close-button}}&lt;/small&gt;\n&lt;/$button&gt;\n&lt;kbd&gt;\n&lt;$macrocall $name=\"displayshortcuts\" $output=\"text/html\" shortcuts=&lt;&lt;shortcut&gt;&gt;/&gt;\n&lt;/kbd&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;hr/&gt;\n&lt;$macrocall $name=\"new-shortcut\" title=&lt;&lt;qualify \"$:/state/new-shortcut/$(shortcutTitle)$\"&gt;&gt;/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/td&gt;\n\\end\n\n\\define shortcut-list(caption,prefix)\n&lt;tr&gt;\n&lt;$list filter=\"[[$prefix$$(shortcutName)$]]\" variable=\"shortcutTitle\"&gt;\n&lt;&lt;shortcut-list-item \"$caption$\"&gt;&gt;\n&lt;/$list&gt;\n&lt;/tr&gt;\n\\end\n\n\\define shortcut-editor()\n&lt;&lt;shortcut-list \"All\" \"$:/config/shortcuts/\"&gt;&gt;\n&lt;&lt;shortcut-list \"Mac\" \"$:/config/shortcuts-mac/\"&gt;&gt;\n&lt;&lt;shortcut-list \"NonMac\" \"$:/config/shortcuts-not-mac/\"&gt;&gt;\n&lt;&lt;shortcut-list \"Linux\" \"$:/config/shortcuts-linux/\"&gt;&gt;\n&lt;&lt;shortcut-list \"NonLinux\" \"$:/config/shortcuts-not-linux/\"&gt;&gt;\n&lt;&lt;shortcut-list \"Windows\" \"$:/config/shortcuts-windows/\"&gt;&gt;\n&lt;&lt;shortcut-list \"NonWindows\" \"$:/config/shortcuts-not-windows/\"&gt;&gt;\n\\end\n\n\\define shortcut-preview()\n&lt;$macrocall $name=\"displayshortcuts\" $output=\"text/html\" shortcuts={{$(shortcutPrefix)$$(shortcutName)$}} prefix=\"&lt;kbd&gt;\" separator=\"&lt;/kbd&gt; &lt;kbd&gt;\" suffix=\"&lt;/kbd&gt;\"/&gt;\n\\end\n\n\\define shortcut-item-inner()\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;dropdownStateTitle&gt;&gt; text=\"open\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;$action-setfield\n\t$tiddler=&lt;&lt;dropdownStateTitle&gt;&gt;\n\t$value=\"open\"\n/&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;dropdownStateTitle&gt;&gt; text=\"open\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;$action-setfield\n\t$tiddler=&lt;&lt;dropdownStateTitle&gt;&gt;\n\t$value=\"close\"\n/&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n''&lt;$text text=&lt;&lt;shortcutName&gt;&gt;/&gt;''\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$transclude tiddler=\"$:/config/ShortcutInfo/$(shortcutName)$\"/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$list filter=\"$:/config/shortcuts/ $:/config/shortcuts-mac/ $:/config/shortcuts-not-mac/ $:/config/shortcuts-linux/ $:/config/shortcuts-not-linux/ $:/config/shortcuts-windows/ $:/config/shortcuts-not-windows/\" variable=\"shortcutPrefix\"&gt;\n&lt;&lt;shortcut-preview&gt;&gt;\n&lt;/$list&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;$set name=\"dropdownState\" value={{$(dropdownStateTitle)$}}&gt;\n&lt;$list filter=\"[&lt;dropdownState&gt;match[open]]\" variable=\"listItem\"&gt;\n&lt;&lt;shortcut-editor&gt;&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n\\define shortcut-item()\n&lt;$set name=\"dropdownStateTitle\" value=&lt;&lt;qualify \"$:/state/dropdown/keyboardshortcut/$(shortcutName)$\"&gt;&gt;&gt;\n&lt;&lt;shortcut-item-inner&gt;&gt;\n&lt;/$set&gt;\n\\end\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]removeprefix[$:/config/ShortcutInfo/]]\" variable=\"shortcutName\"&gt;\n&lt;&lt;shortcut-item&gt;&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/ControlPanel/LoadedModules": {
            "title": "$:/core/ui/ControlPanel/LoadedModules",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/LoadedModules/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/\n&lt;&lt;lingo LoadedModules/Hint&gt;&gt;\n\n{{$:/snippets/modules}}\n"
        },
        "$:/core/ui/ControlPanel/Modals/AddPlugins": {
            "title": "$:/core/ui/ControlPanel/Modals/AddPlugins",
            "subtitle": "{{$:/core/images/download-button}} {{$:/language/ControlPanel/Plugins/Add/Caption}}",
            "text": "\\define install-plugin-actions()\n&lt;$action-sendmessage $message=\"tm-load-plugin-from-library\" url={{!!url}} title={{$(assetInfo)$!!original-title}}/&gt;\n&lt;$set name=\"url\" value={{!!url}}&gt;\n&lt;$set name=\"currentTiddler\" value=&lt;&lt;assetInfo&gt;&gt;&gt;\n&lt;$list filter=\"[enlist{!!dependents}] [{!!parent-plugin}] +[sort[name]]\" variable=\"dependency\"&gt;\n&lt;$action-sendmessage $message=\"tm-load-plugin-from-library\" url=&lt;&lt;url&gt;&gt; title=&lt;&lt;dependency&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define install-plugin-button()\n&lt;div&gt;\n&lt;$set name=\"libraryVersion\" value={{{ [&lt;assetInfo&gt;get[version]] }}}&gt;\n&lt;$set name=\"installedVersion\" value={{{ [&lt;assetInfo&gt;get[original-title]get[version]] }}}&gt;\n&lt;$set name=\"reinstall-type\" value={{{ [&lt;libraryVersion&gt;compare:version:eq&lt;installedVersion&gt;then[tc-reinstall]] [&lt;libraryVersion&gt;compare:version:gt&lt;installedVersion&gt;then[tc-reinstall-upgrade]] [&lt;libraryVersion&gt;compare:version:lt&lt;installedVersion&gt;then[tc-reinstall-downgrade]] }}}&gt;\n&lt;$button actions=&lt;&lt;install-plugin-actions&gt;&gt; class={{{ [&lt;assetInfo&gt;get[original-title]has[version]then&lt;reinstall-type&gt;] tc-btn-invisible tc-install-plugin +[join[ ]] }}}&gt;\n{{$:/core/images/download-button}}\n&lt;$list filter=\"[&lt;assetInfo&gt;get[original-title]get[version]]\" variable=\"ignore\" emptyMessage=\"{{$:/language/ControlPanel/Plugins/Install/Caption}}\"&gt;\n&lt;$list filter=\"[&lt;libraryVersion&gt;compare:version:gt&lt;installedVersion&gt;]\" variable=\"ignore\" emptyMessage=\"\"\"\n&lt;$list filter=\"[&lt;libraryVersion&gt;compare:version:lt&lt;installedVersion&gt;]\" variable=\"ignore\" emptyMessage=\"{{$:/language/ControlPanel/Plugins/Reinstall/Caption}}\"&gt;\n{{$:/language/ControlPanel/Plugins/Downgrade/Caption}}\n&lt;/$list&gt;\n\"\"\"&gt;\n{{$:/language/ControlPanel/Plugins/Update/Caption}}\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;div&gt;\n&lt;/div&gt;\n&lt;$reveal stateTitle=&lt;&lt;assetInfo&gt;&gt; stateField=\"requires-reload\" type=\"match\" text=\"yes\"&gt;{{$:/language/ControlPanel/Plugins/PluginWillRequireReload}}&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n\\end\n\n\\define popup-state-macro()\n$:/state/add-plugin-info/$(connectionTiddler)$/$(assetInfo)$\n\\end\n\n\\define display-plugin-info(type)\n&lt;$set name=\"popup-state\" value=&lt;&lt;popup-state-macro&gt;&gt;&gt;\n&lt;div class=\"tc-plugin-info\"&gt;\n&lt;div class=\"tc-plugin-info-chunk tc-plugin-info-toggle\"&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;popup-state&gt;&gt; text=\"yes\"&gt;\n&lt;$button class=\"tc-btn-invisible tc-btn-dropdown\" set=&lt;&lt;popup-state&gt;&gt; setTo=\"yes\"&gt;\n{{$:/core/images/chevron-right}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;popup-state&gt;&gt; text=\"yes\"&gt;\n&lt;$button class=\"tc-btn-invisible tc-btn-dropdown\" set=&lt;&lt;popup-state&gt;&gt; setTo=\"no\"&gt;\n{{$:/core/images/chevron-down}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-plugin-info-chunk tc-plugin-info-icon\"&gt;\n&lt;$list filter=\"[&lt;assetInfo&gt;has[icon]]\" emptyMessage=\"\"\"&lt;$transclude tiddler=\"$:/core/images/plugin-generic-$type$\"/&gt;\"\"\"&gt;\n&lt;img src={{$(assetInfo)$!!icon}}/&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-plugin-info-chunk tc-plugin-info-description\"&gt;\n&lt;h1&gt;&lt;strong&gt;&lt;$text text={{{ [&lt;assetInfo&gt;get[name]] ~[&lt;assetInfo&gt;get[original-title]split[/]last[1]] }}}/&gt;&lt;/strong&gt;: &lt;$view tiddler=&lt;&lt;assetInfo&gt;&gt; field=\"description\"/&gt;&lt;/h1&gt;\n&lt;h2&gt;&lt;$view tiddler=&lt;&lt;assetInfo&gt;&gt; field=\"original-title\"/&gt;&lt;/h2&gt;\n&lt;div&gt;&lt;em&gt;&lt;$view tiddler=&lt;&lt;assetInfo&gt;&gt; field=\"version\"/&gt;&lt;/em&gt;&lt;/div&gt;\n&lt;$list filter=\"[&lt;assetInfo&gt;get[original-title]get[version]]\" variable=\"installedVersion\"&gt;&lt;div&gt;&lt;em&gt;{{$:/language/ControlPanel/Plugins/AlreadyInstalled/Hint}}&lt;/em&gt;&lt;/div&gt;&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-plugin-info-chunk tc-plugin-info-buttons\"&gt;\n&lt;&lt;install-plugin-button&gt;&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;$set name=\"original-title\" value={{{ [&lt;assetInfo&gt;get[original-title]] }}}&gt;\n&lt;$reveal type=\"match\" text=\"yes\" state=&lt;&lt;popup-state&gt;&gt;&gt;\n&lt;div class=\"tc-plugin-info-dropdown\"&gt;\n&lt;$list filter=\"[enlist{!!dependents}] [&lt;currentTiddler&gt;get[parent-plugin]] +[limit[1]] ~[&lt;assetInfo&gt;get[original-title]!is[tiddler]]\" variable=\"ignore\"&gt;\n&lt;div class=\"tc-plugin-info-dropdown-message\"&gt;\n&lt;$list filter=\"[&lt;assetInfo&gt;get[original-title]!is[tiddler]]\"&gt;\n{{$:/language/ControlPanel/Plugins/NotInstalled/Hint}}\n&lt;/$list&gt;\n&lt;$set name=\"currentTiddler\" value=&lt;&lt;assetInfo&gt;&gt;&gt;\n&lt;$list filter=\"[enlist{!!dependents}] [&lt;currentTiddler&gt;get[parent-plugin]] +[limit[1]]\" variable=\"ignore\"&gt;\n&lt;div&gt;\n{{$:/language/ControlPanel/Plugins/AlsoRequires}}\n&lt;$list filter=\"[enlist{!!dependents}] [{!!parent-plugin}] +[sort[name]]\" variable=\"dependency\"&gt;\n&lt;$text text=&lt;&lt;dependency&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;div class=\"tc-plugin-info-dropdown-body\"&gt;\n&lt;$transclude tiddler=&lt;&lt;assetInfo&gt;&gt; field=\"readme\" mode=\"block\"/&gt;\n&lt;/div&gt;\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[$type$]has[parent-plugin]parent-plugin&lt;original-title&gt;limit[1]]\" variable=\"ignore\"&gt;\n&lt;div class=\"tc-plugin-info-sub-plugins\"&gt;\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[$type$]has[parent-plugin]parent-plugin&lt;original-title&gt;sort[name]]\" variable=\"assetInfo\"&gt;\n&lt;&lt;display-plugin-info \"$type$\"&gt;&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[$type$]has[parent-plugin]parent-plugin&lt;original-title&gt;limit[1]]\" variable=\"ignore\"&gt;\n&lt;$reveal type=\"nomatch\" text=\"yes\" state=&lt;&lt;popup-state&gt;&gt; tag=\"div\" class=\"tc-plugin-info-sub-plugin-indicator\"&gt;\n&lt;$wikify name=\"count\" text=\"\"\"&lt;$count filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[$type$]has[parent-plugin]parent-plugin&lt;original-title&gt;]\"/&gt;\"\"\"&gt;\n&lt;$button class=\"tc-btn-invisible\" set=&lt;&lt;popup-state&gt;&gt; setTo=\"yes\"&gt;\n{{$:/language/ControlPanel/Plugins/SubPluginPrompt}}\n&lt;/$button&gt;\n&lt;/$wikify&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define load-plugin-library-button()\n&lt;$list filter=\"[&lt;currentTiddler&gt;get[enabled]else[yes]match[yes]]\" variable=\"ignore\"&gt;\n&lt;$button class=\"tc-btn-big-green\"&gt;\n&lt;$action-sendmessage $message=\"tm-load-plugin-library\" url={{!!url}} infoTitlePrefix=\"$:/temp/RemoteAssetInfo/\"/&gt;\n{{$:/core/images/chevron-right}} {{$:/language/ControlPanel/Plugins/OpenPluginLibrary}}\n&lt;/$button&gt;\n&lt;/$list&gt;\n\\end\n\n\\define display-server-assets(type)\n{{$:/language/Search/Search}}: &lt;$edit-text tiddler=\"\"\"$:/temp/RemoteAssetSearch/$(currentTiddler)$\"\"\" default=\"\" type=\"search\" tag=\"input\"/&gt;\n&lt;$reveal state=\"\"\"$:/temp/RemoteAssetSearch/$(currentTiddler)$\"\"\" type=\"nomatch\" text=\"\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;$action-setfield $tiddler=\"\"\"$:/temp/RemoteAssetSearch/$(currentTiddler)$\"\"\" $field=\"text\" $value=\"\"/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;div class=\"tc-plugin-library-listing\"&gt;\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[$type$]search:author,description,original-title,readme,title{$:/temp/RemoteAssetSearch/$(currentTiddler)$}sort[name]]\" variable=\"assetInfo\"&gt;\n&lt;$list filter=\"[[$:/temp/RemoteAssetSearch/$(currentTiddler)$]has[text]] ~[&lt;assetInfo&gt;!has[parent-plugin]]\" variable=\"ignore\"&gt;&lt;!-- Hide sub-plugins if we're not searching --&gt;\n&lt;&lt;display-plugin-info \"$type$\"&gt;&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\\end\n\n\\define display-server-connection()\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/ServerConnection]suffix{!!url}]\" variable=\"connectionTiddler\" emptyMessage=&lt;&lt;load-plugin-library-button&gt;&gt;&gt;\n\n&lt;$set name=\"transclusion\" value=&lt;&lt;connectionTiddler&gt;&gt;&gt;\n\n&lt;&lt;tabs \"[[$:/core/ui/ControlPanel/Plugins/Add/Updates]] [[$:/core/ui/ControlPanel/Plugins/Add/Plugins]] [[$:/core/ui/ControlPanel/Plugins/Add/Themes]] [[$:/core/ui/ControlPanel/Plugins/Add/Languages]]\" \"$:/core/ui/ControlPanel/Plugins/Add/Plugins\"&gt;&gt;\n\n&lt;/$set&gt;\n\n&lt;/$list&gt;\n\\end\n\n\\define close-library-button()\n&lt;$reveal type='nomatch' state='$:/temp/ServerConnection/$(PluginLibraryURL)$' text=''&gt;\n&lt;$button class='tc-btn-big-green'&gt;\n&lt;$action-sendmessage $message=\"tm-unload-plugin-library\" url={{!!url}}/&gt;\n{{$:/core/images/chevron-left}} {{$:/language/ControlPanel/Plugins/ClosePluginLibrary}}\n&lt;$action-deletetiddler $filter=\"[prefix[$:/temp/ServerConnection/$(PluginLibraryURL)$]][prefix[$:/temp/RemoteAssetInfo/$(PluginLibraryURL)$]]\"/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n\\end\n\n\\define plugin-library-listing()\n&lt;div class=\"tc-tab-set\"&gt;\n&lt;$set name=\"defaultTab\" value={{{ [all[tiddlers+shadows]tag[$:/tags/PluginLibrary]] }}}&gt;\n&lt;div class=\"tc-tab-buttons\"&gt;\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/PluginLibrary]]\"&gt;\n&lt;$button set=&lt;&lt;qualify \"$:/state/addplugins/tab\"&gt;&gt; setTo=&lt;&lt;currentTiddler&gt;&gt; default=&lt;&lt;defaultTab&gt;&gt; selectedClass=\"tc-tab-selected\"&gt;\n&lt;$set name=\"tv-wikilinks\" value=\"no\"&gt;\n&lt;$transclude field=\"caption\"/&gt;\n&lt;/$set&gt;\n&lt;/$button&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-tab-divider\"/&gt;\n&lt;div class=\"tc-tab-content\"&gt;\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/PluginLibrary]]\"&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;qualify \"$:/state/addplugins/tab\"&gt;&gt; text=&lt;&lt;currentTiddler&gt;&gt; default=&lt;&lt;defaultTab&gt;&gt;&gt;\n&lt;h2&gt;&lt;$link&gt;&lt;$transclude field=\"caption\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$transclude&gt;&lt;/$link&gt;&lt;/h2&gt;\n//&lt;$view field=\"url\"/&gt;//\n&lt;$transclude mode=\"block\"/&gt;\n&lt;$set name=PluginLibraryURL value={{!!url}}&gt;\n&lt;&lt;close-library-button&gt;&gt;\n&lt;/$set&gt;\n&lt;&lt;display-server-connection&gt;&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n\\end\n\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n\n&lt;div&gt;\n&lt;&lt;plugin-library-listing&gt;&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/Palette": {
            "title": "$:/core/ui/ControlPanel/Palette",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/Palette/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Palette/\n\n{{$:/snippets/paletteswitcher}}\n\n&lt;$reveal type=\"nomatch\" state=\"$:/state/ShowPaletteEditor\" text=\"yes\"&gt;\n\n&lt;$button set=\"$:/state/ShowPaletteEditor\" setTo=\"yes\"&gt;&lt;&lt;lingo ShowEditor/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal type=\"match\" state=\"$:/state/ShowPaletteEditor\" text=\"yes\"&gt;\n\n&lt;$button set=\"$:/state/ShowPaletteEditor\" setTo=\"no\"&gt;&lt;&lt;lingo HideEditor/Caption&gt;&gt;&lt;/$button&gt;\n{{$:/PaletteManager}}\n\n&lt;/$reveal&gt;\n\n"
        },
        "$:/core/ui/ControlPanel/Parsing": {
            "title": "$:/core/ui/ControlPanel/Parsing",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/Parsing/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Parsing/\n\n\\define toggle(Type)\n&lt;$checkbox\ntiddler=\"\"\"$:/config/WikiParserRules/$Type$/$(rule)$\"\"\"\nfield=\"text\"\nchecked=\"enable\"\nunchecked=\"disable\"\ndefault=\"enable\"&gt;\n&lt;&lt;rule&gt;&gt;\n&lt;/$checkbox&gt;\n\\end\n\n\\define rules(type,Type)\n&lt;$list filter=\"[wikiparserrules[$type$]]\" variable=\"rule\"&gt;\n&lt;dd&gt;&lt;&lt;toggle $Type$&gt;&gt;&lt;/dd&gt;\n&lt;/$list&gt;\n\\end\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;dl&gt;\n&lt;dt&gt;&lt;&lt;lingo Pragma/Caption&gt;&gt;&lt;/dt&gt;\n&lt;&lt;rules pragma Pragma&gt;&gt;\n&lt;dt&gt;&lt;&lt;lingo Inline/Caption&gt;&gt;&lt;/dt&gt;\n&lt;&lt;rules inline Inline&gt;&gt;\n&lt;dt&gt;&lt;&lt;lingo Block/Caption&gt;&gt;&lt;/dt&gt;\n&lt;&lt;rules block Block&gt;&gt;\n&lt;/dl&gt;"
        },
        "$:/core/ui/ControlPanel/Plugins/Add/Languages": {
            "title": "$:/core/ui/ControlPanel/Plugins/Add/Languages",
            "caption": "{{$:/language/ControlPanel/Plugins/Languages/Caption}} (&lt;$count filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[language]]\"/&gt;)",
            "text": "&lt;&lt;display-server-assets language&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins/Add/Plugins": {
            "title": "$:/core/ui/ControlPanel/Plugins/Add/Plugins",
            "caption": "{{$:/language/ControlPanel/Plugins/Plugins/Caption}}  (&lt;$count filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[plugin]]\"/&gt;)",
            "text": "&lt;&lt;display-server-assets plugin&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins/Add/Themes": {
            "title": "$:/core/ui/ControlPanel/Plugins/Add/Themes",
            "caption": "{{$:/language/ControlPanel/Plugins/Themes/Caption}}  (&lt;$count filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[theme]]\"/&gt;)",
            "text": "&lt;&lt;display-server-assets theme&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins/Add/Updates": {
            "title": "$:/core/ui/ControlPanel/Plugins/Add/Updates",
            "caption": "&lt;$importvariables filter=\"$:/core/ui/ControlPanel/Plugins/Add/Updates\"&gt;{{$:/language/ControlPanel/Plugins/Updates/Caption}} (&lt;&lt;update-count&gt;&gt;)&lt;/$importvariables&gt;",
            "text": "\\define each-updateable-plugin(body)\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}sort[title]]\" variable=\"assetInfo\"&gt;\n&lt;$set name=\"libraryVersion\" value={{{ [&lt;assetInfo&gt;get[version]] }}}&gt;\n&lt;$list filter=\"[&lt;assetInfo&gt;get[original-title]has[version]!version&lt;libraryVersion&gt;]\" variable=\"ignore\"&gt;\n&lt;$set name=\"installedVersion\" value={{{ [&lt;assetInfo&gt;get[original-title]get[version]] }}}&gt;\n&lt;$list filter=\"[&lt;installedversion&gt;!match&lt;libraryVersion&gt;]\" variable=\"ignore\"&gt;\n$body$\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\\end\n\n\\define update-all-actions()\n&lt;$macrocall $name=\"each-updateable-plugin\" body=\"\"\"\n&lt;&lt;install-plugin-actions&gt;&gt;\n\"\"\"/&gt;\n\\end\n\n\\define update-count()\n&lt;$wikify name=\"count-filter\" text=&lt;&lt;each-updateable-plugin \"&amp;#91;&amp;#91;&lt;$text text=&lt;&lt;assetInfo&gt;&gt;/&gt;]]\"&gt;&gt;&gt;&lt;$count filter=&lt;&lt;count-filter&gt;&gt;/&gt;&lt;/$wikify&gt;\n\\end\n\n&lt;$button actions=&lt;&lt;update-all-actions&gt;&gt; class=\"tc-btn-invisible tc-install-plugin tc-reinstall-upgrade\"&gt;\n{{$:/core/images/download-button}} {{||$:/language/ControlPanel/Plugins/Updates/UpdateAll/Caption}}\n&lt;/$button&gt;\n\n&lt;div class=\"tc-plugin-library-listing\"&gt;\n&lt;$macrocall $name=\"each-updateable-plugin\" body=\"\"\"\n&lt;$macrocall $name=\"display-plugin-info\" type={{{ [&lt;assetInfo&gt;get[original-plugin-type]] }}}/&gt;\n\"\"\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins/AddPlugins": {
            "title": "$:/core/ui/ControlPanel/Plugins/AddPlugins",
            "text": "\\define lingo-base() $:/language/ControlPanel/Plugins/\n\n&lt;$button message=\"tm-modal\" param=\"$:/core/ui/ControlPanel/Modals/AddPlugins\" tooltip={{$:/language/ControlPanel/Plugins/Add/Hint}} class=\"tc-btn-big-green tc-primary-btn\"&gt;\n{{$:/core/images/download-button}} &lt;&lt;lingo Add/Caption&gt;&gt;\n&lt;/$button&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins/Installed/Languages": {
            "title": "$:/core/ui/ControlPanel/Plugins/Installed/Languages",
            "caption": "{{$:/language/ControlPanel/Plugins/Languages/Caption}} (&lt;$count filter=\"[!has[draft.of]plugin-type[language]]\"/&gt;)",
            "text": "&lt;&lt;plugin-table language&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins/Installed/Plugins": {
            "title": "$:/core/ui/ControlPanel/Plugins/Installed/Plugins",
            "caption": "{{$:/language/ControlPanel/Plugins/Plugins/Caption}} (&lt;$count filter=\"[!has[draft.of]plugin-type[plugin]]\"/&gt;)",
            "text": "&lt;&lt;plugin-table plugin&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins/Installed/Themes": {
            "title": "$:/core/ui/ControlPanel/Plugins/Installed/Themes",
            "caption": "{{$:/language/ControlPanel/Plugins/Themes/Caption}} (&lt;$count filter=\"[!has[draft.of]plugin-type[theme]]\"/&gt;)",
            "text": "&lt;&lt;plugin-table theme&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Plugins": {
            "title": "$:/core/ui/ControlPanel/Plugins",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Plugins/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Plugins/\n\n\\define plugin-table(type)\n&lt;$set name=\"plugin-type\" value=\"\"\"$type$\"\"\"&gt;\n&lt;$set name=\"qualified-state\" value=&lt;&lt;qualify \"$:/state/plugin-info\"&gt;&gt;&gt;\n&lt;$list filter=\"[!has[draft.of]plugin-type[$type$]sort[name]]\" emptyMessage=&lt;&lt;lingo \"Empty/Hint\"&gt;&gt; template=\"$:/core/ui/Components/plugin-info\"/&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n{{$:/core/ui/ControlPanel/Plugins/AddPlugins}}\n\n&lt;&lt;lingo Installed/Hint&gt;&gt;\n\n&lt;$macrocall $name=\"tabs\" tabsList=\"[[$:/core/ui/ControlPanel/Plugins/Installed/Plugins]] [[$:/core/ui/ControlPanel/Plugins/Installed/Themes]] [[$:/core/ui/ControlPanel/Plugins/Installed/Languages]]\" default=\"$:/core/ui/ControlPanel/Plugins/Installed/Plugins\" explicitState=\"$:/state/tab--86143343\"/&gt;\n"
        },
        "$:/core/ui/ControlPanel/Saving/DownloadSaver": {
            "title": "$:/core/ui/ControlPanel/Saving/DownloadSaver",
            "tags": "$:/tags/ControlPanel/Saving",
            "caption": "{{$:/language/ControlPanel/Saving/DownloadSaver/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Saving/DownloadSaver/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n!! &lt;$link to=\"$:/config/DownloadSaver/AutoSave\"&gt;&lt;&lt;lingo AutoSave/Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$checkbox tiddler=\"$:/config/DownloadSaver/AutoSave\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"no\"&gt; &lt;&lt;lingo AutoSave/Description&gt;&gt; &lt;/$checkbox&gt;\n"
        },
        "$:/core/ui/ControlPanel/Saving/General": {
            "title": "$:/core/ui/ControlPanel/Saving/General",
            "tags": "$:/tags/ControlPanel/Saving",
            "caption": "{{$:/language/ControlPanel/Saving/General/Caption}}",
            "list-before": "",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/\n\n{{$:/language/ControlPanel/Saving/General/Hint}}\n\n!! &lt;$link to=\"$:/config/AutoSave\"&gt;&lt;&lt;lingo AutoSave/Caption&gt;&gt;&lt;/$link&gt;\n\n&lt;&lt;lingo AutoSave/Hint&gt;&gt;\n\n&lt;$radio tiddler=\"$:/config/AutoSave\" value=\"yes\"&gt; &lt;&lt;lingo AutoSave/Enabled/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/AutoSave\" value=\"no\"&gt; &lt;&lt;lingo AutoSave/Disabled/Description&gt;&gt; &lt;/$radio&gt;\n"
        },
        "$:/core/ui/ControlPanel/Saving/GitHub": {
            "title": "$:/core/ui/ControlPanel/Saving/GitHub",
            "tags": "$:/tags/ControlPanel/Saving",
            "caption": "{{$:/language/ControlPanel/Saving/GitService/GitHub/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Saving/GitService/\n\\define service-name() ~GitHub\n\n&lt;&lt;lingo Description&gt;&gt;\n\n|&lt;&lt;lingo UserName&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitHub/Username\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo GitHub/Password&gt;&gt; |&lt;$password name=\"github\"/&gt; |\n|&lt;&lt;lingo Repo&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitHub/Repo\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Branch&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitHub/Branch\" default=\"main\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Path&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitHub/Path\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Filename&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitHub/Filename\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo ServerURL&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitHub/ServerURL\" default=\"https://api.github.com\" tag=\"input\"/&gt; |"
        },
        "$:/core/ui/ControlPanel/Saving/GitLab": {
            "title": "$:/core/ui/ControlPanel/Saving/GitLab",
            "tags": "$:/tags/ControlPanel/Saving",
            "caption": "{{$:/language/ControlPanel/Saving/GitService/GitLab/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Saving/GitService/\n\\define service-name() ~GitLab\n\n&lt;&lt;lingo Description&gt;&gt;\n\n|&lt;&lt;lingo UserName&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitLab/Username\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo GitLab/Password&gt;&gt; |&lt;$password name=\"gitlab\"/&gt; |\n|&lt;&lt;lingo Repo&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitLab/Repo\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Branch&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitLab/Branch\" default=\"master\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Path&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitLab/Path\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Filename&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitLab/Filename\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo ServerURL&gt;&gt; |&lt;$edit-text tiddler=\"$:/GitLab/ServerURL\" default=\"https://gitlab.com/api/v4\" tag=\"input\"/&gt; |"
        },
        "$:/core/ui/ControlPanel/Saving/TiddlySpot": {
            "title": "$:/core/ui/ControlPanel/Saving/TiddlySpot",
            "tags": "$:/tags/ControlPanel/Saving",
            "caption": "{{$:/language/ControlPanel/Saving/TiddlySpot/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Saving/TiddlySpot/\n\n\\define siteURL(path)\nhttp://$(userName)$.tiddlyspot.com/$path$/\n\\end\n\\define siteLink(path)\n&lt;$reveal type=\"nomatch\" state=\"$:/UploadName\" text=\"\"&gt;\n&lt;$set name=\"userName\" value={{$:/UploadName}}&gt;\n&lt;$reveal type=\"match\" state=\"$:/UploadURL\" text=\"\"&gt;\n&lt;&lt;siteURL $path$&gt;&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"nomatch\" state=\"$:/UploadURL\" text=\"\"&gt;\n&lt;$macrocall $name=resolvePath source={{$:/UploadBackupDir}} root={{$:/UploadURL}}&gt;&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n\\end\n\n&lt;div class=\"tc-message-box\"&gt;\n\n&lt;&lt;lingo ReadOnly&gt;&gt;\n\n&lt;/div&gt;\n\n&lt;&lt;lingo Description&gt;&gt;\n\n|&lt;&lt;lingo UserName&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadName\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Password&gt;&gt; |&lt;$password name=\"upload\"/&gt; |\n|&lt;&lt;lingo Backups&gt;&gt; |&lt;&lt;siteLink backup&gt;&gt; |\n|&lt;&lt;lingo ControlPanel&gt;&gt; |&lt;&lt;siteLink controlpanel&gt;&gt; |\n\n''&lt;&lt;lingo Advanced/Heading&gt;&gt;''\n\n|&lt;&lt;lingo ServerURL&gt;&gt;  |&lt;$edit-text tiddler=\"$:/UploadURL\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Filename&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadFilename\" default=\"index.html\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo UploadDir&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadDir\" default=\".\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo BackupDir&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadBackupDir\" default=\".\" tag=\"input\"/&gt; |\n\n&lt;&lt;lingo TiddlySpot/Hint&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Saving/Gitea": {
            "title": "$:/core/ui/ControlPanel/Saving/Gitea",
            "tags": "$:/tags/ControlPanel/Saving",
            "caption": "{{$:/language/ControlPanel/Saving/GitService/Gitea/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Saving/GitService/\n\\define service-name() ~Gitea\n\n&lt;&lt;lingo Description&gt;&gt;\n\n|&lt;&lt;lingo UserName&gt;&gt; |&lt;$edit-text tiddler=\"$:/Gitea/Username\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Gitea/Password&gt;&gt; |&lt;$password name=\"Gitea\"/&gt; |\n|&lt;&lt;lingo Repo&gt;&gt; |&lt;$edit-text tiddler=\"$:/Gitea/Repo\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Branch&gt;&gt; |&lt;$edit-text tiddler=\"$:/Gitea/Branch\" default=\"master\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Path&gt;&gt; |&lt;$edit-text tiddler=\"$:/Gitea/Path\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo Filename&gt;&gt; |&lt;$edit-text tiddler=\"$:/Gitea/Filename\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo ServerURL&gt;&gt; |&lt;$edit-text tiddler=\"$:/Gitea/ServerURL\" default=\"https://gitea/api/v1\" tag=\"input\"/&gt; |\n"
        },
        "$:/core/ui/ControlPanel/Saving": {
            "title": "$:/core/ui/ControlPanel/Saving",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Saving/Caption}}",
            "text": "{{$:/language/ControlPanel/Saving/Hint}}\n\n&lt;div class=\"tc-control-panel\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Saving]!has[draft.of]]\" default=\"$:/core/ui/ControlPanel/Saving/General\" explicitState=\"$:/state/tab-2065006209\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/buttonstyles/Borderless": {
            "title": "$:/core/buttonstyles/Borderless",
            "tags": "$:/tags/ToolbarButtonStyle",
            "caption": "{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Borderless}}",
            "text": "tc-btn-invisible"
        },
        "$:/core/buttonstyles/Boxed": {
            "title": "$:/core/buttonstyles/Boxed",
            "tags": "$:/tags/ToolbarButtonStyle",
            "caption": "{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Boxed}}",
            "text": "tc-btn-boxed"
        },
        "$:/core/buttonstyles/Rounded": {
            "title": "$:/core/buttonstyles/Rounded",
            "tags": "$:/tags/ToolbarButtonStyle",
            "caption": "{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Rounded}}",
            "text": "tc-btn-rounded"
        },
        "$:/core/ui/ControlPanel/Settings/CamelCase": {
            "title": "$:/core/ui/ControlPanel/Settings/CamelCase",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/CamelCase/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/CamelCase/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\"$:/config/WikiParserRules/Inline/wikilink\" field=\"text\" checked=\"enable\" unchecked=\"disable\" default=\"enable\"&gt; &lt;$link to=\"$:/config/WikiParserRules/Inline/wikilink\"&gt;&lt;&lt;lingo Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/DefaultMoreSidebarTab": {
            "title": "$:/core/ui/ControlPanel/Settings/DefaultMoreSidebarTab",
            "caption": "{{$:/language/ControlPanel/Settings/DefaultMoreSidebarTab/Caption}}",
            "tags": "$:/tags/ControlPanel/Settings",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/DefaultMoreSidebarTab/\n\n&lt;$link to=\"$:/config/DefaultMoreSidebarTab\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\"$:/config/DefaultMoreSidebarTab\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/MoreSideBar]!has[draft.of]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$transclude field=\"caption\"&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;&lt;/$transclude&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/DefaultSidebarTab": {
            "title": "$:/core/ui/ControlPanel/Settings/DefaultSidebarTab",
            "caption": "{{$:/language/ControlPanel/Settings/DefaultSidebarTab/Caption}}",
            "tags": "$:/tags/ControlPanel/Settings",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/DefaultSidebarTab/\n\n&lt;$link to=\"$:/config/DefaultSidebarTab\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\"$:/config/DefaultSidebarTab\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/SideBar]!has[draft.of]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$transclude field=\"caption\"&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;&lt;/$transclude&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/EditorToolbar": {
            "title": "$:/core/ui/ControlPanel/Settings/EditorToolbar",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/EditorToolbar/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/EditorToolbar/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\"$:/config/TextEditor/EnableToolbar\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"yes\"&gt; &lt;$link to=\"$:/config/TextEditor/EnableToolbar\"&gt;&lt;&lt;lingo Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n\n"
        },
        "$:/core/ui/ControlPanel/Settings/InfoPanelMode": {
            "title": "$:/core/ui/ControlPanel/Settings/InfoPanelMode",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/InfoPanelMode/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/InfoPanelMode/\n&lt;$link to=\"$:/config/TiddlerInfo/Mode\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\"$:/config/TiddlerInfo/Mode\" value=\"popup\"&gt; &lt;&lt;lingo Popup/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/TiddlerInfo/Mode\" value=\"sticky\"&gt; &lt;&lt;lingo Sticky/Description&gt;&gt; &lt;/$radio&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/LinkToBehaviour": {
            "title": "$:/core/ui/ControlPanel/Settings/LinkToBehaviour",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/LinkToBehaviour/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/LinkToBehaviour/\n\n&lt;$link to=\"$:/config/Navigation/openLinkFromInsideRiver\"&gt;&lt;&lt;lingo \"InsideRiver/Hint\"&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\"$:/config/Navigation/openLinkFromInsideRiver\"&gt;\n  &lt;option value=\"above\"&gt;&lt;&lt;lingo \"OpenAbove\"&gt;&gt;&lt;/option&gt;\n  &lt;option value=\"below\"&gt;&lt;&lt;lingo \"OpenBelow\"&gt;&gt;&lt;/option&gt;\n  &lt;option value=\"top\"&gt;&lt;&lt;lingo \"OpenAtTop\"&gt;&gt;&lt;/option&gt;\n  &lt;option value=\"bottom\"&gt;&lt;&lt;lingo \"OpenAtBottom\"&gt;&gt;&lt;/option&gt;\n&lt;/$select&gt;\n\n&lt;$link to=\"$:/config/Navigation/openLinkFromOutsideRiver\"&gt;&lt;&lt;lingo \"OutsideRiver/Hint\"&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\"$:/config/Navigation/openLinkFromOutsideRiver\"&gt;\n  &lt;option value=\"top\"&gt;&lt;&lt;lingo \"OpenAtTop\"&gt;&gt;&lt;/option&gt;\n  &lt;option value=\"bottom\"&gt;&lt;&lt;lingo \"OpenAtBottom\"&gt;&gt;&lt;/option&gt;\n&lt;/$select&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/MissingLinks": {
            "title": "$:/core/ui/ControlPanel/Settings/MissingLinks",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/MissingLinks/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/MissingLinks/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\"$:/config/MissingLinks\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"yes\"&gt; &lt;$link to=\"$:/config/MissingLinks\"&gt;&lt;&lt;lingo Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n\n"
        },
        "$:/core/ui/ControlPanel/Settings/NavigationAddressBar": {
            "title": "$:/core/ui/ControlPanel/Settings/NavigationAddressBar",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/NavigationAddressBar/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/NavigationAddressBar/\n\n&lt;$link to=\"$:/config/Navigation/UpdateAddressBar\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateAddressBar\" value=\"permaview\"&gt; &lt;&lt;lingo Permaview/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateAddressBar\" value=\"permalink\"&gt; &lt;&lt;lingo Permalink/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateAddressBar\" value=\"no\"&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/NavigationHistory": {
            "title": "$:/core/ui/ControlPanel/Settings/NavigationHistory",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/NavigationHistory/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/NavigationHistory/\n&lt;$link to=\"$:/config/Navigation/UpdateHistory\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateHistory\" value=\"yes\"&gt; &lt;&lt;lingo Yes/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateHistory\" value=\"no\"&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/NavigationPermalinkviewMode": {
            "title": "$:/core/ui/ControlPanel/Settings/NavigationPermalinkviewMode",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/NavigationPermalinkviewMode/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/NavigationPermalinkviewMode/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\"$:/config/Navigation/Permalinkview/CopyToClipboard\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"yes\"&gt; &lt;$link to=\"$:/config/Navigation/Permalinkview/CopyToClipboard\"&gt;&lt;&lt;lingo CopyToClipboard/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n\n&lt;$checkbox tiddler=\"$:/config/Navigation/Permalinkview/UpdateAddressBar\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"yes\"&gt; &lt;$link to=\"$:/config/Navigation/Permalinkview/UpdateAddressBar\"&gt;&lt;&lt;lingo UpdateAddressBar/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/PerformanceInstrumentation": {
            "title": "$:/core/ui/ControlPanel/Settings/PerformanceInstrumentation",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/PerformanceInstrumentation/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/PerformanceInstrumentation/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\"$:/config/Performance/Instrumentation\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"no\"&gt; &lt;$link to=\"$:/config/Performance/Instrumentation\"&gt;&lt;&lt;lingo Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/TitleLinks": {
            "title": "$:/core/ui/ControlPanel/Settings/TitleLinks",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/TitleLinks/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/TitleLinks/\n&lt;$link to=\"$:/config/Tiddlers/TitleLinks\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\"$:/config/Tiddlers/TitleLinks\" value=\"yes\"&gt; &lt;&lt;lingo Yes/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/Tiddlers/TitleLinks\" value=\"no\"&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/ToolbarButtonStyle": {
            "title": "$:/core/ui/ControlPanel/Settings/ToolbarButtonStyle",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/ToolbarButtonStyle/\n&lt;$link to=\"$:/config/Toolbar/ButtonClass\"&gt;&lt;&lt;lingo \"Hint\"&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\"$:/config/Toolbar/ButtonClass\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ToolbarButtonStyle]]\"&gt;\n&lt;option value={{!!text}}&gt;{{!!caption}}&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings/ToolbarButtons": {
            "title": "$:/core/ui/ControlPanel/Settings/ToolbarButtons",
            "tags": "$:/tags/ControlPanel/Settings",
            "caption": "{{$:/language/ControlPanel/Settings/ToolbarButtons/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/ToolbarButtons/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\"$:/config/Toolbar/Icons\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"yes\"&gt; &lt;$link to=\"$:/config/Toolbar/Icons\"&gt;&lt;&lt;lingo Icons/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n\n&lt;$checkbox tiddler=\"$:/config/Toolbar/Text\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"no\"&gt; &lt;$link to=\"$:/config/Toolbar/Text\"&gt;&lt;&lt;lingo Text/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n"
        },
        "$:/core/ui/ControlPanel/Settings": {
            "title": "$:/core/ui/ControlPanel/Settings",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Settings/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Settings/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\"&gt;\n\n&lt;div style=\"border-top:1px solid #eee;\"&gt;\n\n!! &lt;$link&gt;&lt;$transclude field=\"caption\"/&gt;&lt;/$link&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/ControlPanel/StoryView": {
            "title": "$:/core/ui/ControlPanel/StoryView",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/StoryView/Caption}}",
            "text": "{{$:/snippets/viewswitcher}}\n"
        },
        "$:/core/ui/ControlPanel/Stylesheets": {
            "title": "$:/core/ui/ControlPanel/Stylesheets",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/Stylesheets/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/\n\n&lt;&lt;lingo Stylesheets/Hint&gt;&gt;\n\n{{$:/snippets/peek-stylesheets}}\n"
        },
        "$:/core/ui/ControlPanel/Theme": {
            "title": "$:/core/ui/ControlPanel/Theme",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/Theme/Caption}}",
            "text": "{{$:/snippets/themeswitcher}}\n"
        },
        "$:/core/ui/ControlPanel/TiddlerFields": {
            "title": "$:/core/ui/ControlPanel/TiddlerFields",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/TiddlerFields/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/\n\n&lt;&lt;lingo TiddlerFields/Hint&gt;&gt;\n\n{{$:/snippets/allfields}}"
        },
        "$:/core/ui/ControlPanel/Toolbars/EditToolbar": {
            "title": "$:/core/ui/ControlPanel/Toolbars/EditToolbar",
            "tags": "$:/tags/ControlPanel/Toolbars",
            "caption": "{{$:/language/ControlPanel/Toolbars/EditToolbar/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n\n\\define config-base() $:/config/EditToolbarButtons/Visibility/\n\n{{$:/language/ControlPanel/Toolbars/EditToolbar/Hint}}\n\n&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$macrocall $name=\"list-tagged-draggable\" tag=\"$:/tags/EditToolbar\" itemTemplate=\"$:/core/ui/ControlPanel/Toolbars/ItemTemplate\"/&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;"
        },
        "$:/core/ui/ControlPanel/Toolbars/EditorItemTemplate": {
            "title": "$:/core/ui/ControlPanel/Toolbars/EditorItemTemplate",
            "text": "\\define config-title()\n$(config-base)$$(currentTiddler)$\n\\end\n\n&lt;$draggable tiddler=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\"text\" checked=\"show\" unchecked=\"hide\" default=\"show\"/&gt; &lt;span class=\"tc-icon-wrapper\"&gt;&lt;$transclude tiddler={{!!icon}}/&gt;&lt;/span&gt; &lt;$transclude field=\"caption\"/&gt; -- &lt;i class=\"tc-muted\"&gt;&lt;$transclude field=\"description\"/&gt;&lt;/i&gt;\n&lt;/$draggable&gt;\n"
        },
        "$:/core/ui/ControlPanel/Toolbars/EditorToolbar": {
            "title": "$:/core/ui/ControlPanel/Toolbars/EditorToolbar",
            "tags": "$:/tags/ControlPanel/Toolbars",
            "caption": "{{$:/language/ControlPanel/Toolbars/EditorToolbar/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n\n\\define config-base() $:/config/EditorToolbarButtons/Visibility/\n\n{{$:/language/ControlPanel/Toolbars/EditorToolbar/Hint}}\n\n&lt;$macrocall $name=\"list-tagged-draggable\" tag=\"$:/tags/EditorToolbar\" itemTemplate=\"$:/core/ui/ControlPanel/Toolbars/EditorItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/ControlPanel/Toolbars/ItemTemplate": {
            "title": "$:/core/ui/ControlPanel/Toolbars/ItemTemplate",
            "text": "\\define config-title()\n$(config-base)$$(currentTiddler)$\n\\end\n\n&lt;$draggable tiddler=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\"text\" checked=\"show\" unchecked=\"hide\" default=\"show\"/&gt; &lt;span class=\"tc-icon-wrapper\"&gt; &lt;$transclude field=\"caption\"/&gt; &lt;i class=\"tc-muted\"&gt;-- &lt;$transclude field=\"description\"/&gt;&lt;/i&gt;&lt;/span&gt;\n&lt;/$draggable&gt;\n"
        },
        "$:/core/ui/ControlPanel/Toolbars/PageControls": {
            "title": "$:/core/ui/ControlPanel/Toolbars/PageControls",
            "tags": "$:/tags/ControlPanel/Toolbars",
            "caption": "{{$:/language/ControlPanel/Toolbars/PageControls/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n\n\\define config-base() $:/config/PageControlButtons/Visibility/\n\n{{$:/language/ControlPanel/Toolbars/PageControls/Hint}}\n\n&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$macrocall $name=\"list-tagged-draggable\" tag=\"$:/tags/PageControls\" itemTemplate=\"$:/core/ui/ControlPanel/Toolbars/ItemTemplate\"/&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/ControlPanel/Toolbars/ViewToolbar": {
            "title": "$:/core/ui/ControlPanel/Toolbars/ViewToolbar",
            "tags": "$:/tags/ControlPanel/Toolbars",
            "caption": "{{$:/language/ControlPanel/Toolbars/ViewToolbar/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n\n\\define config-base() $:/config/ViewToolbarButtons/Visibility/\n\n{{$:/language/ControlPanel/Toolbars/ViewToolbar/Hint}}\n\n&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$macrocall $name=\"list-tagged-draggable\" tag=\"$:/tags/ViewToolbar\" itemTemplate=\"$:/core/ui/ControlPanel/Toolbars/ItemTemplate\"/&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/ControlPanel/Toolbars": {
            "title": "$:/core/ui/ControlPanel/Toolbars",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/Toolbars/Caption}}",
            "text": "{{$:/language/ControlPanel/Toolbars/Hint}}\n\n&lt;div class=\"tc-control-panel\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Toolbars]!has[draft.of]]\" default=\"$:/core/ui/ControlPanel/Toolbars/ViewToolbar\" class=\"tc-vertical\" explicitState=\"$:/state/tabs/controlpanel/toolbars-1345989671\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/ControlPanel": {
            "title": "$:/ControlPanel",
            "icon": "$:/core/images/options-button",
            "color": "#bbb",
            "text": "&lt;div class=\"tc-control-panel\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel]!has[draft.of]]\" default=\"$:/core/ui/ControlPanel/Info\" explicitState=\"$:/state/tab-1749438307\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/DefaultSearchResultList": {
            "title": "$:/core/ui/DefaultSearchResultList",
            "tags": "$:/tags/SearchResults",
            "caption": "{{$:/language/Search/DefaultResults/Caption}}",
            "first-search-filter": "[!is[system]search:title&lt;userInput&gt;sort[title]limit[250]]",
            "second-search-filter": "[!is[system]search&lt;userInput&gt;sort[title]limit[250]]",
            "text": "\\define searchResultList()\n//&lt;small&gt;{{$:/language/Search/Matches/Title}}&lt;/small&gt;//\n\n&lt;$list filter=\"[&lt;userInput&gt;minlength[1]]\" variable=\"ignore\"&gt;\n&lt;$list filter={{{ [&lt;configTiddler&gt;get[first-search-filter]] }}}&gt;\n&lt;span class={{{[&lt;currentTiddler&gt;addsuffix[-primaryList]] -[&lt;searchListState&gt;get[text]] +[then[]else[tc-list-item-selected]] }}}&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n\n//&lt;small&gt;{{$:/language/Search/Matches/All}}&lt;/small&gt;//\n\n&lt;$list filter=\"[&lt;userInput&gt;minlength[1]]\" variable=\"ignore\"&gt;\n&lt;$list filter={{{ [&lt;configTiddler&gt;get[second-search-filter]] }}}&gt;\n&lt;span class={{{[&lt;currentTiddler&gt;addsuffix[-secondaryList]] -[&lt;searchListState&gt;get[text]] +[then[]else[tc-list-item-selected]] }}}&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n\n\\end\n&lt;&lt;searchResultList&gt;&gt;\n"
        },
        "$:/core/ui/EditTemplate/body/preview/diffs-current": {
            "title": "$:/core/ui/EditTemplate/body/preview/diffs-current",
            "tags": "$:/tags/EditPreview",
            "caption": "differences from current",
            "list-after": "$:/core/ui/EditTemplate/body/preview/output",
            "text": "&lt;$list filter=\"[&lt;currentTiddler&gt;!is[image]]\" emptyMessage={{$:/core/ui/EditTemplate/body/preview/output}}&gt;\n\n&lt;$macrocall $name=\"compareTiddlerText\" sourceTiddlerTitle={{!!draft.of}} destTiddlerTitle=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n\n"
        },
        "$:/core/ui/EditTemplate/body/preview/diffs-shadow": {
            "title": "$:/core/ui/EditTemplate/body/preview/diffs-shadow",
            "tags": "$:/tags/EditPreview",
            "caption": "differences from shadow (if any)",
            "list-after": "$:/core/ui/EditTemplate/body/preview/output",
            "text": "&lt;$list filter=\"[&lt;currentTiddler&gt;!is[image]]\" emptyMessage={{$:/core/ui/EditTemplate/body/preview/output}}&gt;\n\n&lt;$macrocall $name=\"compareTiddlerText\" sourceTiddlerTitle={{{ [{!!draft.of}shadowsource[]] }}} sourceSubTiddlerTitle={{!!draft.of}} destTiddlerTitle=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n\n"
        },
        "$:/core/ui/EditTemplate/body/preview/output": {
            "title": "$:/core/ui/EditTemplate/body/preview/output",
            "tags": "$:/tags/EditPreview",
            "caption": "{{$:/language/EditTemplate/Body/Preview/Type/Output}}",
            "text": "\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View]!has[draft.of]]\n&lt;$set name=\"tv-tiddler-preview\" value=\"yes\"&gt;\n\n&lt;$transclude /&gt;\n\n&lt;/$set&gt;\n"
        },
        "$:/state/showeditpreview": {
            "title": "$:/state/showeditpreview",
            "text": "no"
        },
        "$:/core/ui/EditTemplate/body/editor": {
            "title": "$:/core/ui/EditTemplate/body/editor",
            "text": "&lt;$edit\n\n  field=\"text\"\n  class=\"tc-edit-texteditor tc-edit-texteditor-body\"\n  placeholder={{$:/language/EditTemplate/Body/Placeholder}}\n  tabindex={{$:/config/EditTabIndex}}\n  focus={{{ [{$:/config/AutoFocus}match[text]then[true]] ~[[false]] }}}\n  cancelPopups=\"yes\"\n\n&gt;&lt;$set\n\n  name=\"targetTiddler\"\n  value=&lt;&lt;currentTiddler&gt;&gt;\n\n&gt;&lt;$list\n\n  filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]]\"\n\n&gt;&lt;$reveal\n\n  type=\"nomatch\"\n  state=&lt;&lt;config-visibility-title&gt;&gt;\n  text=\"hide\"\n  class=\"tc-text-editor-toolbar-item-wrapper\"\n\n&gt;&lt;$transclude\n\n  tiddler=\"$:/core/ui/EditTemplate/body/toolbar/button\"\n  mode=\"inline\"\n\n/&gt;&lt;/$reveal&gt;&lt;/$list&gt;&lt;/$set&gt;&lt;/$edit&gt;\n"
        },
        "$:/core/ui/EditTemplate/body/toolbar/button": {
            "title": "$:/core/ui/EditTemplate/body/toolbar/button",
            "text": "\\define toolbar-button-icon()\n&lt;$list\n\n  filter=\"[all[current]!has[custom-icon]]\"\n  variable=\"no-custom-icon\"\n\n&gt;&lt;$transclude\n\n  tiddler={{!!icon}}\n\n/&gt;&lt;/$list&gt;\n\\end\n\n\\define toolbar-button-tooltip()\n{{!!description}}&lt;$macrocall $name=\"displayshortcuts\" $output=\"text/plain\" shortcuts={{!!shortcuts}} prefix=\"` - [\" separator=\"] [\" suffix=\"]`\"/&gt;\n\\end\n\n\\define toolbar-button()\n&lt;$list\n\n  filter={{!!condition}}\n  variable=\"list-condition\"\n\n&gt;&lt;$wikify\n\n  name=\"tooltip-text\"\n  text=&lt;&lt;toolbar-button-tooltip&gt;&gt;\n  mode=\"inline\"\n  output=\"text\"\n\n&gt;&lt;$list\n\n  filter=\"[all[current]!has[dropdown]]\"\n  variable=\"no-dropdown\"\n\n&gt;&lt;$button\n\n  class=\"tc-btn-invisible $(buttonClasses)$\"\n  tooltip=&lt;&lt;tooltip-text&gt;&gt;\n  actions={{!!actions}}\n\n&gt;&lt;span\n\n  data-tw-keyboard-shortcut={{!!shortcuts}}\n\n/&gt;&lt;&lt;toolbar-button-icon&gt;&gt;&lt;$transclude\n\n  tiddler=&lt;&lt;currentTiddler&gt;&gt;\n  field=\"text\"\n\n/&gt;&lt;/$button&gt;&lt;/$list&gt;&lt;$list\n\n  filter=\"[all[current]has[dropdown]]\"\n  variable=\"dropdown\"\n\n&gt;&lt;$set\n\n  name=\"dropdown-state\"\n  value=&lt;&lt;qualify \"$:/state/EditorToolbarDropdown\"&gt;&gt;\n\n&gt;&lt;$button\n\n  popup=&lt;&lt;dropdown-state&gt;&gt;\n  class=\"tc-popup-keep tc-btn-invisible $(buttonClasses)$\"\n  selectedClass=\"tc-selected\"\n  tooltip=&lt;&lt;tooltip-text&gt;&gt;\n  actions={{!!actions}}\n\n&gt;&lt;span\n\n  data-tw-keyboard-shortcut={{!!shortcuts}}\n\n/&gt;&lt;&lt;toolbar-button-icon&gt;&gt;&lt;$transclude\n\n  tiddler=&lt;&lt;currentTiddler&gt;&gt;\n  field=\"text\"\n\n/&gt;&lt;/$button&gt;&lt;$reveal\n\n  state=&lt;&lt;dropdown-state&gt;&gt;\n  type=\"popup\"\n  position=\"below\"\n  animate=\"yes\"\n  tag=\"span\"\n\n&gt;&lt;div\n\n  class=\"tc-drop-down tc-popup-keep\"\n\n&gt;&lt;$transclude\n\n  tiddler={{!!dropdown}}\n  mode=\"block\"\n\n/&gt;&lt;/div&gt;&lt;/$reveal&gt;&lt;/$set&gt;&lt;/$list&gt;&lt;/$wikify&gt;&lt;/$list&gt;\n\\end\n\n\\define toolbar-button-outer()\n&lt;$set\n\n  name=\"buttonClasses\"\n  value={{!!button-classes}}\n\n&gt;&lt;&lt;toolbar-button&gt;&gt;&lt;/$set&gt;\n\\end\n\n&lt;&lt;toolbar-button-outer&gt;&gt;"
        },
        "$:/core/ui/EditTemplate/body": {
            "title": "$:/core/ui/EditTemplate/body",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/Body/\n\\define config-visibility-title()\n$:/config/EditorToolbarButtons/Visibility/$(currentTiddler)$\n\\end\n&lt;$list filter=\"[all[current]has[_canonical_uri]]\"&gt;\n\n&lt;div class=\"tc-message-box\"&gt;\n\n&lt;&lt;lingo External/Hint&gt;&gt;\n\n&lt;a href={{!!_canonical_uri}}&gt;&lt;$text text={{!!_canonical_uri}}/&gt;&lt;/a&gt;\n\n&lt;$edit-text field=\"_canonical_uri\" class=\"tc-edit-fields\" tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"&gt;&lt;/$edit-text&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]!has[_canonical_uri]]\"&gt;\n\n&lt;$reveal state=\"$:/state/showeditpreview\" type=\"match\" text=\"yes\"&gt;\n\n&lt;div class=\"tc-tiddler-preview\"&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/EditTemplate/body/editor\" mode=\"inline\"/&gt;\n\n&lt;div class=\"tc-tiddler-preview-preview\"&gt;\n\n&lt;$transclude tiddler={{$:/state/editpreviewtype}} mode=\"inline\"&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/EditTemplate/body/preview/output\" mode=\"inline\"/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/state/showeditpreview\" type=\"nomatch\" text=\"yes\"&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/EditTemplate/body/editor\" mode=\"inline\"/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/EditTemplate/controls": {
            "title": "$:/core/ui/EditTemplate/controls",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define config-title()\n$:/config/EditToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\"tc-tiddler-title tc-tiddler-edit-title\"&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;span class=\"tc-tiddler-controls tc-titlebar\"&gt;&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditToolbar]!has[draft.of]]\" variable=\"listItem\"&gt;&lt;$reveal type=\"nomatch\" state=&lt;&lt;config-title&gt;&gt; text=\"hide\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$reveal&gt;&lt;/$list&gt;&lt;/span&gt;\n&lt;div style=\"clear: both;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/EditTemplate/fields": {
            "title": "$:/core/ui/EditTemplate/fields",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/\n\\define config-title()\n$:/config/EditTemplateFields/Visibility/$(currentField)$\n\\end\n\n\\define config-filter()\n[[hide]] -[title{$(config-title)$}]\n\\end\n\n\\define current-tiddler-new-field-selector()\n[data-tiddler-title=\"$(currentTiddlerCSSescaped)$\"] .tc-edit-field-add-name-wrapper input\n\\end\n\n\\define new-field-actions()\n&lt;$action-sendmessage $message=\"tm-add-field\" $name={{{ [&lt;newFieldNameTiddler&gt;get[text]] }}} $value={{{ [&lt;newFieldValueTiddler&gt;get[text]] }}}/&gt;\n&lt;$action-deletetiddler $filter=\"[&lt;newFieldNameTiddler&gt;] [&lt;newFieldValueTiddler&gt;] [&lt;storeTitle&gt;] [&lt;searchListState&gt;]\"/&gt;\n&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=&lt;&lt;current-tiddler-new-field-selector&gt;&gt;/&gt;\n\\end\n\n\\define delete-state-tiddlers() &lt;$action-deletetiddler $filter=\"[&lt;newFieldNameTiddler&gt;] [&lt;storeTitle&gt;] [&lt;searchListState&gt;]\"/&gt;\n\n\\define cancel-search-actions-inner()\n&lt;$list filter=\"[&lt;storeTitle&gt;has[text]] [&lt;newFieldNameTiddler&gt;has[text]]\" variable=\"ignore\" emptyMessage=\"\"\"&lt;&lt;cancel-delete-tiddler-actions \"cancel\"&gt;&gt;\"\"\"&gt;\n&lt;&lt;delete-state-tiddlers&gt;&gt;\n&lt;/$list&gt;\n\\end\n\n\\define cancel-search-actions()\n&lt;$set name=\"userInput\" value={{{ [&lt;storeTitle&gt;get[text]] }}}&gt;\n&lt;$list filter=\"[&lt;newFieldNameTiddler&gt;get[text]!match&lt;userInput&gt;]\" emptyMessage=\"\"\"&lt;&lt;cancel-search-actions-inner&gt;&gt;\"\"\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;newFieldNameTiddler&gt;&gt; text=&lt;&lt;userInput&gt;&gt;/&gt;&lt;$action-setfield $tiddler=&lt;&lt;refreshTitle&gt;&gt; text=\"yes\"/&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n\\define new-field()\n&lt;$vars name={{{ [&lt;newFieldNameTiddler&gt;get[text]] }}}&gt;\n&lt;$reveal type=\"nomatch\" text=\"\" default=&lt;&lt;name&gt;&gt;&gt;\n&lt;$button tooltip=&lt;&lt;lingo Fields/Add/Button/Hint&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-add-field\"\n$name=&lt;&lt;name&gt;&gt;\n$value={{{ [&lt;newFieldValueTiddler&gt;get[text]] }}}/&gt;\n&lt;$action-deletetiddler $filter=\"[&lt;newFieldNameTiddler&gt;] [&lt;newFieldValueTiddler&gt;] [&lt;storeTitle&gt;] [&lt;searchListState&gt;]\"/&gt;\n&lt;&lt;lingo Fields/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" text=\"\" default=&lt;&lt;name&gt;&gt;&gt;\n&lt;$button&gt;\n&lt;&lt;lingo Fields/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$vars&gt;\n\\end\n\\whitespace trim\n\n&lt;div class=\"tc-edit-fields\"&gt;\n&lt;table class={{{ [all[current]fields[]] :filter[lookup[$:/config/EditTemplateFields/Visibility/]!match[hide]] +[count[]!match[0]] +[then[tc-edit-fields]] ~[[tc-edit-fields tc-edit-fields-small]] }}}&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[current]fields[]] +[sort[title]]\" variable=\"currentField\" storyview=\"pop\"&gt;\n&lt;$list filter=&lt;&lt;config-filter&gt;&gt; variable=\"temp\"&gt;\n&lt;tr class=\"tc-edit-field\"&gt;\n&lt;td class=\"tc-edit-field-name\"&gt;\n&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;:&lt;/td&gt;\n&lt;td class=\"tc-edit-field-value\"&gt;\n&lt;$keyboard key=\"((delete-field))\" actions=\"\"\"&lt;$action-deletefield $field=&lt;&lt;currentField&gt;&gt;/&gt;&lt;$set name=\"currentTiddlerCSSescaped\" value={{{ [&lt;currentTiddler&gt;escapecss[]] }}}&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=&lt;&lt;current-tiddler-new-field-selector&gt;&gt;/&gt;&lt;/$set&gt;\"\"\"&gt;\n&lt;$edit-text tiddler=&lt;&lt;currentTiddler&gt;&gt; field=&lt;&lt;currentField&gt;&gt; placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"/&gt;\n&lt;/$keyboard&gt;\n&lt;/td&gt;\n&lt;td class=\"tc-edit-field-remove\"&gt;\n&lt;$button class=\"tc-btn-invisible\" tooltip={{$:/language/EditTemplate/Field/Remove/Hint}} aria-label={{$:/language/EditTemplate/Field/Remove/Caption}}&gt;\n&lt;$action-deletefield $field=&lt;&lt;currentField&gt;&gt;/&gt;&lt;$set name=\"currentTiddlerCSSescaped\" value={{{ [&lt;currentTiddler&gt;escapecss[]] }}}&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=&lt;&lt;current-tiddler-new-field-selector&gt;&gt;/&gt;&lt;/$set&gt;\n{{$:/core/images/delete-button}}\n&lt;/$button&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n\n&lt;$fieldmangler&gt;\n&lt;div class=\"tc-edit-field-add\"&gt;\n&lt;em class=\"tc-edit tc-small-gap-right\"&gt;\n&lt;&lt;lingo Fields/Add/Prompt&gt;&gt;\n&lt;/em&gt;\n&lt;$vars refreshTitle=&lt;&lt;qualify \"$:/temp/fieldname/refresh\"&gt;&gt; storeTitle=&lt;&lt;newFieldNameInputTiddler&gt;&gt; searchListState=&lt;&lt;newFieldNameSelectionTiddler&gt;&gt;&gt;\n&lt;div class=\"tc-edit-field-add-name-wrapper\"&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=&lt;&lt;newFieldNameTiddler&gt;&gt; storeTitle=&lt;&lt;storeTitle&gt;&gt; refreshTitle=&lt;&lt;refreshTitle&gt;&gt;\n\t\tselectionStateTitle=&lt;&lt;searchListState&gt;&gt; tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}}\n\t\tfocusPopup=&lt;&lt;qualify \"$:/state/popup/field-dropdown\"&gt;&gt; class=\"tc-edit-texteditor tc-popup-handle\" tabindex={{$:/config/EditTabIndex}}\n\t\tfocus={{{ [{$:/config/AutoFocus}match[fields]then[true]] ~[[false]] }}} cancelPopups=\"yes\"\n\t\tconfigTiddlerFilter=\"[[$:/config/EditMode/fieldname-filter]]\" inputCancelActions=&lt;&lt;cancel-search-actions&gt;&gt; /&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/field-dropdown\"&gt;&gt; class=\"tc-btn-invisible tc-btn-dropdown tc-small-gap\" tooltip={{$:/language/EditTemplate/Field/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Field/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/field-dropdown\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n&lt;div class=\"tc-block-dropdown tc-edit-type-dropdown\"&gt;\n&lt;$set name=\"tv-show-missing-links\" value=\"yes\"&gt;\n&lt;$linkcatcher to=&lt;&lt;newFieldNameTiddler&gt;&gt;&gt;\n&lt;div class=\"tc-dropdown-item\"&gt;\n&lt;&lt;lingo Fields/Add/Dropdown/User&gt;&gt;\n&lt;/div&gt;\n&lt;$set name=\"newFieldName\" value={{{ [&lt;storeTitle&gt;get[text]] }}}&gt;\n&lt;$list filter=\"[!is[shadow]!is[system]fields[]search:title&lt;newFieldName&gt;sort[]] -created -creator -draft.of -draft.title -modified -modifier -tags -text -title -type\"  variable=\"currentField\"&gt;\n&lt;$list filter=\"[&lt;currentField&gt;addsuffix[-primaryList]] -[&lt;searchListState&gt;get[text]]\" emptyMessage=\"\"\"&lt;$link to=&lt;&lt;currentField&gt;&gt; class=\"tc-list-item-selected\"&gt;&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;&lt;/$link&gt;\"\"\"&gt;\n&lt;$link to=&lt;&lt;currentField&gt;&gt;&gt;\n&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;div class=\"tc-dropdown-item\"&gt;\n&lt;&lt;lingo Fields/Add/Dropdown/System&gt;&gt;\n&lt;/div&gt;\n&lt;$list filter=\"[fields[]search:title&lt;newFieldName&gt;sort[]] -[!is[shadow]!is[system]fields[]]\" variable=\"currentField\"&gt;\n&lt;$list filter=\"[&lt;currentField&gt;addsuffix[-secondaryList]] -[&lt;searchListState&gt;get[text]]\" emptyMessage=\"\"\"&lt;$link to=&lt;&lt;currentField&gt;&gt; class=\"tc-list-item-selected\"&gt;&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;&lt;/$link&gt;\"\"\"&gt;\n&lt;$link to=&lt;&lt;currentField&gt;&gt;&gt;\n&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$linkcatcher&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;span class=\"tc-edit-field-add-value tc-small-gap-right\"&gt;\n&lt;$set name=\"currentTiddlerCSSescaped\" value={{{ [&lt;currentTiddler&gt;escapecss[]] }}}&gt;\n&lt;$keyboard key=\"((add-field))\" actions=&lt;&lt;new-field-actions&gt;&gt;&gt;\n&lt;$edit-text tiddler=&lt;&lt;newFieldValueTiddler&gt;&gt; tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} class=\"tc-edit-texteditor\" tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"/&gt;\n&lt;/$keyboard&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;span class=\"tc-edit-field-add-button\"&gt;\n&lt;$macrocall $name=\"new-field\"/&gt;\n&lt;/span&gt;\n&lt;/$vars&gt;\n&lt;/div&gt;\n&lt;/$fieldmangler&gt;\n"
        },
        "$:/core/ui/EditTemplate/shadow": {
            "title": "$:/core/ui/EditTemplate/shadow",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/Shadow/\n\\define pluginLinkBody()\n&lt;$link to=\"\"\"$(pluginTitle)$\"\"\"&gt;\n&lt;$text text=\"\"\"$(pluginTitle)$\"\"\"/&gt;\n&lt;/$link&gt;\n\\end\n&lt;$list filter=\"[all[current]get[draft.of]is[shadow]!is[tiddler]]\"&gt;\n\n&lt;$list filter=\"[all[current]shadowsource[]]\" variable=\"pluginTitle\"&gt;\n\n&lt;$set name=\"pluginLink\" value=&lt;&lt;pluginLinkBody&gt;&gt;&gt;\n&lt;div class=\"tc-message-box\"&gt;\n\n&lt;&lt;lingo Warning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]get[draft.of]is[shadow]is[tiddler]]\"&gt;\n\n&lt;$list filter=\"[all[current]shadowsource[]]\" variable=\"pluginTitle\"&gt;\n\n&lt;$set name=\"pluginLink\" value=&lt;&lt;pluginLinkBody&gt;&gt;&gt;\n&lt;div class=\"tc-message-box\"&gt;\n\n&lt;&lt;lingo OverriddenWarning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\n&lt;/$list&gt;"
        },
        "$:/core/ui/EditTemplate/tags": {
            "title": "$:/core/ui/EditTemplate/tags",
            "tags": "$:/tags/EditTemplate",
            "text": "\\whitespace trim\n\n\\define lingo-base() $:/language/EditTemplate/\n\n\\define tag-styles()\nbackground-color:$(backgroundColor)$;\nfill:$(foregroundColor)$;\ncolor:$(foregroundColor)$;\n\\end\n\n\\define tag-body-inner(colour,fallbackTarget,colourA,colourB,icon,tagField:\"tags\")\n\\whitespace trim\n&lt;$vars foregroundColor=&lt;&lt;contrastcolour target:\"\"\"$colour$\"\"\" fallbackTarget:\"\"\"$fallbackTarget$\"\"\" colourA:\"\"\"$colourA$\"\"\" colourB:\"\"\"$colourB$\"\"\"&gt;&gt; backgroundColor=\"\"\"$colour$\"\"\"&gt;\n&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\"tc-tag-label tc-tag-list-item\"&gt;\n&lt;$transclude tiddler=\"\"\"$icon$\"\"\"/&gt;&lt;$view field=\"title\" format=\"text\" /&gt;\n&lt;$button class=\"tc-btn-invisible tc-remove-tag-button\" style=&lt;&lt;tag-styles&gt;&gt;&gt;&lt;$action-listops $tiddler=&lt;&lt;saveTiddler&gt;&gt; $field=&lt;&lt;__tagField__&gt;&gt; $subfilter=\"-[{!!title}]\"/&gt;{{$:/core/images/close-button}}&lt;/$button&gt;\n&lt;/span&gt;\n&lt;/$vars&gt;\n\\end\n\n\\define tag-body(colour,palette,icon,tagField:\"tags\")\n&lt;$macrocall $name=\"tag-body-inner\" colour=\"\"\"$colour$\"\"\" fallbackTarget={{$palette$##tag-background}} colourA={{$palette$##foreground}} colourB={{$palette$##background}} icon=\"\"\"$icon$\"\"\" tagField=&lt;&lt;__tagField__&gt;&gt;/&gt;\n\\end\n\n\\define edit-tags-template(tagField:\"tags\")\n\\whitespace trim\n&lt;div class=\"tc-edit-tags\"&gt;\n&lt;$list filter=\"[list[!!$tagField$]sort[title]]\" storyview=\"pop\"&gt;\n&lt;$macrocall $name=\"tag-body\" colour={{!!color}} palette={{$:/palette}} icon={{!!icon}} tagField=&lt;&lt;__tagField__&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;$vars tabIndex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"&gt;\n&lt;$macrocall $name=\"tag-picker\" tagField=&lt;&lt;__tagField__&gt;&gt;/&gt;\n&lt;/$vars&gt;\n&lt;/div&gt;\n\\end\n&lt;$set name=\"saveTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$macrocall $name=\"edit-tags-template\" tagField=&lt;&lt;tagField&gt;&gt;/&gt;\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/EditTemplate/title": {
            "title": "$:/core/ui/EditTemplate/title",
            "tags": "$:/tags/EditTemplate",
            "text": "&lt;$edit-text field=\"draft.title\" class=\"tc-titlebar tc-edit-texteditor\" focus={{{ [{$:/config/AutoFocus}match[title]then[true]] ~[[false]] }}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"/&gt;\n\n&lt;$vars pattern=\"\"\"[\\|\\[\\]{}]\"\"\" bad-chars=\"\"\"`| [ ] { }`\"\"\"&gt;\n\n&lt;$list filter=\"[all[current]regexp:draft.title&lt;pattern&gt;]\" variable=\"listItem\"&gt;\n\n&lt;div class=\"tc-message-box\"&gt;\n\n{{$:/core/images/warning}} {{$:/language/EditTemplate/Title/BadCharacterWarning}}\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;/$vars&gt;\n\n&lt;$reveal state=\"!!draft.title\" type=\"nomatch\" text={{!!draft.of}} tag=\"div\"&gt;\n\n&lt;$list filter=\"[{!!draft.title}!is[missing]]\" variable=\"listItem\"&gt;\n\n&lt;div class=\"tc-message-box\"&gt;\n\n{{$:/core/images/warning}} {{$:/language/EditTemplate/Title/Exists/Prompt}}\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[{!!draft.of}!is[missing]]\" variable=\"listItem\"&gt;\n\n&lt;$vars fromTitle={{!!draft.of}} toTitle={{!!draft.title}}&gt;\n\n&lt;$checkbox tiddler=\"$:/config/RelinkOnRename\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"no\"&gt; {{$:/language/EditTemplate/Title/Relink/Prompt}}&lt;/$checkbox&gt;\n\n&lt;$list filter=\"[title&lt;fromTitle&gt;backlinks[]limit[1]]\" variable=\"listItem\"&gt;\n\n&lt;$vars stateTiddler=&lt;&lt;qualify \"$:/state/edit/references\"&gt;&gt; &gt;\n\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;stateTiddler&gt;&gt; text=\"show\"&gt;\n&lt;$button set=&lt;&lt;stateTiddler&gt;&gt; setTo=\"show\" class=\"tc-btn-invisible\"&gt;{{$:/core/images/right-arrow}} \n&lt;&lt;lingo EditTemplate/Title/References/Prompt&gt;&gt;&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;stateTiddler&gt;&gt; text=\"show\"&gt;\n&lt;$button set=&lt;&lt;stateTiddler&gt;&gt; setTo=\"hide\" class=\"tc-btn-invisible\"&gt;{{$:/core/images/down-arrow}} \n&lt;&lt;lingo EditTemplate/Title/References/Prompt&gt;&gt;&lt;/$button&gt;\n&lt;/$reveal&gt;\n\n&lt;$reveal type=\"match\" state=&lt;&lt;stateTiddler&gt;&gt; text=\"show\"&gt;\n&lt;$tiddler tiddler=&lt;&lt;fromTitle&gt;&gt; &gt;\n&lt;$transclude tiddler=\"$:/core/ui/TiddlerInfo/References\"/&gt;\n&lt;/$tiddler&gt;\n&lt;/$reveal&gt;\n\n&lt;/$vars&gt;\n\n&lt;/$list&gt;\n\n&lt;/$vars&gt;\n\n&lt;/$list&gt;\n\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/EditTemplate/type": {
            "title": "$:/core/ui/EditTemplate/type",
            "tags": "$:/tags/EditTemplate",
            "first-search-filter": "[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]sort[description]sort[group-sort]removeprefix[$:/language/Docs/Types/]search&lt;userInput&gt;]",
            "text": "\\define lingo-base() $:/language/EditTemplate/\n\\define input-cancel-actions() &lt;$list filter=\"[&lt;storeTitle&gt;get[text]] [&lt;currentTiddler&gt;get[type]] +[limit[1]]\" emptyMessage=\"\"\"&lt;&lt;cancel-delete-tiddler-actions \"cancel\"&gt;&gt;\"\"\"&gt;&lt;$action-sendmessage $message=\"tm-remove-field\" $param=\"type\"/&gt;&lt;$action-deletetiddler $filter=\"[&lt;typeInputTiddler&gt;] [&lt;refreshTitle&gt;] [&lt;typeSelectionTiddler&gt;]\"/&gt;&lt;/$list&gt;\n\\whitespace trim\n&lt;$set name=\"refreshTitle\" value=&lt;&lt;qualify \"$:/temp/type-search/refresh\"&gt;&gt;&gt;\n&lt;div class=\"tc-edit-type-selector-wrapper\"&gt;\n&lt;em class=\"tc-edit tc-small-gap-right\"&gt;&lt;&lt;lingo Type/Prompt&gt;&gt;&lt;/em&gt;\n&lt;div class=\"tc-type-selector-dropdown-wrapper\"&gt;\n&lt;div class=\"tc-type-selector\"&gt;&lt;$fieldmangler&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=&lt;&lt;currentTiddler&gt;&gt; storeTitle=&lt;&lt;typeInputTiddler&gt;&gt; refreshTitle=&lt;&lt;refreshTitle&gt;&gt; selectionStateTitle=&lt;&lt;typeSelectionTiddler&gt;&gt; field=\"type\" tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Type/Placeholder}} focusPopup=&lt;&lt;qualify \"$:/state/popup/type-dropdown\"&gt;&gt; class=\"tc-edit-typeeditor tc-edit-texteditor tc-popup-handle\" tabindex={{$:/config/EditTabIndex}} focus={{{ [{$:/config/AutoFocus}match[type]then[true]] ~[[false]] }}} cancelPopups=\"yes\" configTiddlerFilter=\"[[$:/core/ui/EditTemplate/type]]\" inputCancelActions=&lt;&lt;input-cancel-actions&gt;&gt;/&gt;&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/type-dropdown\"&gt;&gt; class=\"tc-btn-invisible tc-btn-dropdown tc-small-gap\" tooltip={{$:/language/EditTemplate/Type/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Type/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;&lt;$button message=\"tm-remove-field\" param=\"type\" class=\"tc-btn-invisible tc-btn-icon\" tooltip={{$:/language/EditTemplate/Type/Delete/Hint}} aria-label={{$:/language/EditTemplate/Type/Delete/Caption}}&gt;{{$:/core/images/delete-button}}&lt;$action-deletetiddler $filter=\"[&lt;storeTitle&gt;] [&lt;refreshTitle&gt;] [&lt;selectionStateTitle&gt;]\"/&gt;&lt;/$button&gt;\n&lt;/$fieldmangler&gt;&lt;/div&gt;\n\n&lt;div class=\"tc-block-dropdown-wrapper\"&gt;\n&lt;$set name=\"tv-show-missing-links\" value=\"yes\"&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/type-dropdown\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n&lt;div class=\"tc-block-dropdown tc-edit-type-dropdown\"&gt;\n&lt;$linkcatcher to=\"!!type\"&gt;\n&lt;$list filter='[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]each[group]sort[group-sort]]'&gt;\n&lt;div class=\"tc-dropdown-item\"&gt;\n&lt;$text text={{!!group}}/&gt;\n&lt;/div&gt;\n&lt;$set name=\"userInput\" value={{{ [&lt;typeInputTiddler&gt;get[text]] }}}&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]group{!!group}] +[sort[description]] +[removeprefix[$:/language/Docs/Types/]] +[search&lt;userInput&gt;]\"&gt;&lt;span class={{{ [&lt;currentTiddler&gt;addsuffix[-primaryList]] -[&lt;typeSelectionTiddler&gt;get[text]] +[then[]else[tc-list-item-selected]] }}}&gt;&lt;$link to={{{ [&lt;currentTiddler&gt;addprefix[$:/language/Docs/Types/]get[name]] }}}&gt;&lt;$view tiddler={{{ [&lt;currentTiddler&gt;addprefix[$:/language/Docs/Types/]] }}} field=\"description\"/&gt; (&lt;$view tiddler={{{ [&lt;currentTiddler&gt;addprefix[$:/language/Docs/Types/]] }}} field=\"name\"/&gt;)&lt;/$link&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/EditTemplate": {
            "title": "$:/core/ui/EditTemplate",
            "text": "\\define delete-edittemplate-state-tiddlers() &lt;$action-deletetiddler $filter=\"[&lt;newFieldNameTiddler&gt;] [&lt;newFieldValueTiddler&gt;] [&lt;newFieldNameInputTiddler&gt;] [&lt;newFieldNameSelectionTiddler&gt;] [&lt;newTagNameTiddler&gt;] [&lt;newTagNameInputTiddler&gt;] [&lt;newTagNameSelectionTiddler&gt;] [&lt;typeInputTiddler&gt;] [&lt;typeSelectionTiddler&gt;]\"/&gt;\n\\define save-tiddler-actions()\n&lt;$action-sendmessage $message=\"tm-add-tag\" $param={{{ [&lt;newTagNameTiddler&gt;get[text]] }}}/&gt;\n&lt;$action-sendmessage $message=\"tm-add-field\" $name={{{ [&lt;newFieldNameTiddler&gt;get[text]] }}} $value={{{ [&lt;newFieldValueTiddler&gt;get[text]] }}}/&gt;\n&lt;&lt;delete-edittemplate-state-tiddlers&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-save-tiddler\"/&gt;\n\\end\n\\define cancel-delete-tiddler-actions(message)\n&lt;&lt;delete-edittemplate-state-tiddlers&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-$message$-tiddler\"/&gt;\n\\end\n&lt;div data-tiddler-title=&lt;&lt;currentTiddler&gt;&gt; data-tags={{!!tags}} class={{{ tc-tiddler-frame tc-tiddler-edit-frame [&lt;currentTiddler&gt;is[tiddler]then[tc-tiddler-exists]] [&lt;currentTiddler&gt;is[missing]!is[shadow]then[tc-tiddler-missing]] [&lt;currentTiddler&gt;is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [&lt;currentTiddler&gt;is[system]then[tc-tiddler-system]] [{!!class}] [&lt;currentTiddler&gt;tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}}&gt;\n&lt;$fieldmangler&gt;\n&lt;$vars storyTiddler=&lt;&lt;currentTiddler&gt;&gt; newTagNameTiddler=&lt;&lt;qualify \"$:/temp/NewTagName\"&gt;&gt; newFieldNameTiddler=&lt;&lt;qualify \"$:/temp/NewFieldName\"&gt;&gt; newFieldValueTiddler=&lt;&lt;qualify \"$:/temp/NewFieldValue\"&gt;&gt; newFieldNameInputTiddler=&lt;&lt;qualify \"$:/temp/NewFieldName/input\"&gt;&gt; newFieldNameSelectionTiddler=&lt;&lt;qualify \"$:/temp/NewFieldName/selected-item\"&gt;&gt; newTagNameInputTiddler=&lt;&lt;qualify \"$:/temp/NewTagName/input\"&gt;&gt; newTagNameSelectionTiddler=&lt;&lt;qualify \"$:/temp/NewTagName/selected-item\"&gt;&gt; typeInputTiddler=&lt;&lt;qualify \"$:/temp/Type/input\"&gt;&gt; typeSelectionTiddler=&lt;&lt;qualify \"$:/temp/Type/selected-item\"&gt;&gt;&gt;\n&lt;$keyboard key=\"((cancel-edit-tiddler))\" actions=&lt;&lt;cancel-delete-tiddler-actions \"cancel\"&gt;&gt;&gt;\n&lt;$keyboard key=\"((save-tiddler))\" actions=&lt;&lt;save-tiddler-actions&gt;&gt;&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditTemplate]!has[draft.of]]\" variable=\"listItem\"&gt;\n&lt;$set name=\"tv-config-toolbar-class\" filter=\"[&lt;tv-config-toolbar-class&gt;] [&lt;listItem&gt;encodeuricomponent[]addprefix[tc-btn-]]\"&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$vars&gt;\n&lt;/$fieldmangler&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/Buttons/cancel": {
            "title": "$:/core/ui/Buttons/cancel",
            "tags": "$:/tags/EditToolbar",
            "caption": "{{$:/core/images/cancel-button}} {{$:/language/Buttons/Cancel/Caption}}",
            "description": "{{$:/language/Buttons/Cancel/Hint}}",
            "text": "\\whitespace trim\n&lt;$button actions=&lt;&lt;cancel-delete-tiddler-actions \"cancel\"&gt;&gt; tooltip={{$:/language/Buttons/Cancel/Hint}} aria-label={{$:/language/Buttons/Cancel/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/cancel-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Cancel/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n"
        },
        "$:/core/ui/Buttons/delete": {
            "title": "$:/core/ui/Buttons/delete",
            "tags": "$:/tags/EditToolbar $:/tags/ViewToolbar",
            "caption": "{{$:/core/images/delete-button}} {{$:/language/Buttons/Delete/Caption}}",
            "description": "{{$:/language/Buttons/Delete/Hint}}",
            "text": "\\whitespace trim\n&lt;$button actions=&lt;&lt;cancel-delete-tiddler-actions \"delete\"&gt;&gt; tooltip={{$:/language/Buttons/Delete/Hint}} aria-label={{$:/language/Buttons/Delete/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/delete-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Delete/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n"
        },
        "$:/core/ui/Buttons/save": {
            "title": "$:/core/ui/Buttons/save",
            "tags": "$:/tags/EditToolbar",
            "caption": "{{$:/core/images/done-button}} {{$:/language/Buttons/Save/Caption}}",
            "description": "{{$:/language/Buttons/Save/Hint}}",
            "text": "\\define save-tiddler-button()\n\\whitespace trim\n&lt;$fieldmangler&gt;&lt;$button tooltip={{$:/language/Buttons/Save/Hint}} aria-label={{$:/language/Buttons/Save/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;&lt;save-tiddler-actions&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/done-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Save/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;/$fieldmangler&gt;\n\\end\n&lt;&lt;save-tiddler-button&gt;&gt;\n"
        },
        "$:/core/ui/EditorToolbar/bold": {
            "title": "$:/core/ui/EditorToolbar/bold",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/bold",
            "caption": "{{$:/language/Buttons/Bold/Caption}}",
            "description": "{{$:/language/Buttons/Bold/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((bold))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"''\"\n\tsuffix=\"''\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/clear-dropdown": {
            "title": "$:/core/ui/EditorToolbar/clear-dropdown",
            "text": "''{{$:/language/Buttons/Clear/Hint}}''\n\n&lt;div class=\"tc-colour-chooser\"&gt;\n\n&lt;$macrocall $name=\"colour-picker\" actions=\"\"\"\n\n&lt;$action-sendmessage\n\t$message=\"tm-edit-bitmap-operation\"\n\t$param=\"clear\"\n\tcolour=&lt;&lt;colour-picker-value&gt;&gt;\n/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n\"\"\"/&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/EditorToolbar/clear": {
            "title": "$:/core/ui/EditorToolbar/clear",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/erase",
            "caption": "{{$:/language/Buttons/Clear/Caption}}",
            "description": "{{$:/language/Buttons/Clear/Hint}}",
            "condition": "[&lt;targetTiddler&gt;is[image]] -[&lt;targetTiddler&gt;type[image/svg+xml]]",
            "dropdown": "$:/core/ui/EditorToolbar/clear-dropdown",
            "text": ""
        },
        "$:/core/ui/EditorToolbar/editor-height-dropdown": {
            "title": "$:/core/ui/EditorToolbar/editor-height-dropdown",
            "text": "\\define lingo-base() $:/language/Buttons/EditorHeight/\n''&lt;&lt;lingo Hint&gt;&gt;''\n\n&lt;$radio tiddler=\"$:/config/TextEditor/EditorHeight/Mode\" value=\"auto\"&gt; {{$:/core/images/auto-height}} &lt;&lt;lingo Caption/Auto&gt;&gt;&lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/TextEditor/EditorHeight/Mode\" value=\"fixed\"&gt; {{$:/core/images/fixed-height}} &lt;&lt;lingo Caption/Fixed&gt;&gt; &lt;$edit-text tag=\"input\" tiddler=\"$:/config/TextEditor/EditorHeight/Height\" default=\"100px\"/&gt;&lt;/$radio&gt;\n"
        },
        "$:/core/ui/EditorToolbar/editor-height": {
            "title": "$:/core/ui/EditorToolbar/editor-height",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/fixed-height",
            "custom-icon": "yes",
            "caption": "{{$:/language/Buttons/EditorHeight/Caption}}",
            "description": "{{$:/language/Buttons/EditorHeight/Hint}}",
            "condition": "[&lt;targetTiddler&gt;type[]] [&lt;targetTiddler&gt;get[type]prefix[text/]] [&lt;targetTiddler&gt;get[type]match[application/javascript]] [&lt;targetTiddler&gt;get[type]match[application/json]] [&lt;targetTiddler&gt;get[type]match[application/x-tiddler-dictionary]] [&lt;targetTiddler&gt;get[type]match[image/svg+xml]] +[first[]]",
            "dropdown": "$:/core/ui/EditorToolbar/editor-height-dropdown",
            "text": "&lt;$reveal tag=\"span\" state=\"$:/config/TextEditor/EditorHeight/Mode\" type=\"match\" text=\"fixed\"&gt;\n{{$:/core/images/fixed-height}}\n&lt;/$reveal&gt;\n&lt;$reveal tag=\"span\" state=\"$:/config/TextEditor/EditorHeight/Mode\" type=\"match\" text=\"auto\"&gt;\n{{$:/core/images/auto-height}}\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/EditorToolbar/excise-dropdown": {
            "title": "$:/core/ui/EditorToolbar/excise-dropdown",
            "text": "\\define lingo-base() $:/language/Buttons/Excise/\n\n\\define body(config-title)\n''&lt;&lt;lingo Hint&gt;&gt;''\n\n&lt;&lt;lingo Caption/NewTitle&gt;&gt; &lt;$edit-text tag=\"input\" tiddler=\"$config-title$/new-title\" default=\"\" focus=\"true\"/&gt;\n\n&lt;$set name=\"new-title\" value={{$config-title$/new-title}}&gt;\n&lt;$list filter=\"\"\"[&lt;new-title&gt;is[tiddler]]\"\"\"&gt;\n&lt;div class=\"tc-error\"&gt;\n&lt;&lt;lingo Caption/TiddlerExists&gt;&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\n&lt;$checkbox tiddler=\"\"\"$config-title$/tagnew\"\"\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"false\"&gt; &lt;&lt;lingo Caption/Tag&gt;&gt;&lt;/$checkbox&gt;\n\n&lt;&lt;lingo Caption/Replace&gt;&gt; &lt;$select tiddler=\"\"\"$config-title$/type\"\"\" default=\"transclude\"&gt;\n&lt;option value=\"link\"&gt;&lt;&lt;lingo Caption/Replace/Link&gt;&gt;&lt;/option&gt;\n&lt;option value=\"transclude\"&gt;&lt;&lt;lingo Caption/Replace/Transclusion&gt;&gt;&lt;/option&gt;\n&lt;option value=\"macro\"&gt;&lt;&lt;lingo Caption/Replace/Macro&gt;&gt;&lt;/option&gt;\n&lt;/$select&gt;\n\n&lt;$reveal state=\"\"\"$config-title$/type\"\"\" type=\"match\" text=\"macro\"&gt;\n&lt;&lt;lingo Caption/MacroName&gt;&gt; &lt;$edit-text tag=\"input\" tiddler=\"\"\"$config-title$/macro-title\"\"\" default=\"translink\"/&gt;\n&lt;/$reveal&gt;\n\n&lt;$button&gt;\n&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"excise\"\n\ttitle={{$config-title$/new-title}}\n\ttype={{$config-title$/type}}\n\tmacro={{$config-title$/macro-title}}\n\ttagnew={{$config-title$/tagnew}}\n/&gt;\n&lt;$action-deletetiddler\n\t$tiddler=\"$config-title$/new-title\"\n/&gt;\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n&lt;&lt;lingo Caption/Excise&gt;&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$macrocall $name=\"body\" config-title=&lt;&lt;qualify \"$:/state/Excise/\"&gt;&gt;/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/excise": {
            "title": "$:/core/ui/EditorToolbar/excise",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/excise",
            "caption": "{{$:/language/Buttons/Excise/Caption}}",
            "description": "{{$:/language/Buttons/Excise/Hint}}",
            "condition": "[&lt;targetTiddler&gt;type[]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]] +[first[]]",
            "shortcuts": "((excise))",
            "dropdown": "$:/core/ui/EditorToolbar/excise-dropdown",
            "text": ""
        },
        "$:/core/ui/EditorToolbar/heading-1": {
            "title": "$:/core/ui/EditorToolbar/heading-1",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/heading-1",
            "caption": "{{$:/language/Buttons/Heading1/Caption}}",
            "description": "{{$:/language/Buttons/Heading1/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "button-classes": "tc-text-editor-toolbar-item-start-group",
            "shortcuts": "((heading-1))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"!\"\n\tcount=\"1\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/heading-2": {
            "title": "$:/core/ui/EditorToolbar/heading-2",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/heading-2",
            "caption": "{{$:/language/Buttons/Heading2/Caption}}",
            "description": "{{$:/language/Buttons/Heading2/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((heading-2))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"!\"\n\tcount=\"2\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/heading-3": {
            "title": "$:/core/ui/EditorToolbar/heading-3",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/heading-3",
            "caption": "{{$:/language/Buttons/Heading3/Caption}}",
            "description": "{{$:/language/Buttons/Heading3/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((heading-3))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"!\"\n\tcount=\"3\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/heading-4": {
            "title": "$:/core/ui/EditorToolbar/heading-4",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/heading-4",
            "caption": "{{$:/language/Buttons/Heading4/Caption}}",
            "description": "{{$:/language/Buttons/Heading4/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((heading-4))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"!\"\n\tcount=\"4\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/heading-5": {
            "title": "$:/core/ui/EditorToolbar/heading-5",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/heading-5",
            "caption": "{{$:/language/Buttons/Heading5/Caption}}",
            "description": "{{$:/language/Buttons/Heading5/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((heading-5))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"!\"\n\tcount=\"5\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/heading-6": {
            "title": "$:/core/ui/EditorToolbar/heading-6",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/heading-6",
            "caption": "{{$:/language/Buttons/Heading6/Caption}}",
            "description": "{{$:/language/Buttons/Heading6/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((heading-6))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"!\"\n\tcount=\"6\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/italic": {
            "title": "$:/core/ui/EditorToolbar/italic",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/italic",
            "caption": "{{$:/language/Buttons/Italic/Caption}}",
            "description": "{{$:/language/Buttons/Italic/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((italic))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"//\"\n\tsuffix=\"//\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/line-width-dropdown": {
            "title": "$:/core/ui/EditorToolbar/line-width-dropdown",
            "text": "\\define lingo-base() $:/language/Buttons/LineWidth/\n\n\\define toolbar-line-width-inner()\n&lt;$button tag=\"a\" tooltip=\"\"\"$(line-width)$\"\"\"&gt;\n\n&lt;$action-setfield\n\t$tiddler=\"$:/config/BitmapEditor/LineWidth\"\n\t$value=\"$(line-width)$\"\n/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n&lt;div style=\"display: inline-block; margin: 4px calc(80px - $(line-width)$); background-color: #000; width: calc(100px + $(line-width)$ * 2); height: $(line-width)$; border-radius: 120px; vertical-align: middle;\"/&gt;\n\n&lt;span style=\"margin-left: 8px;\"&gt;\n\n&lt;$text text=\"\"\"$(line-width)$\"\"\"/&gt;\n\n&lt;$reveal state=\"$:/config/BitmapEditor/LineWidth\" type=\"match\" text=\"\"\"$(line-width)$\"\"\" tag=\"span\"&gt;\n\n&lt;$entity entity=\"&amp;nbsp;\"/&gt;\n\n&lt;$entity entity=\"&amp;#x2713;\"/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/span&gt;\n\n&lt;/$button&gt;\n\\end\n\n''&lt;&lt;lingo Hint&gt;&gt;''\n\n&lt;$list filter={{$:/config/BitmapEditor/LineWidths}} variable=\"line-width\"&gt;\n\n&lt;&lt;toolbar-line-width-inner&gt;&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/EditorToolbar/line-width": {
            "title": "$:/core/ui/EditorToolbar/line-width",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/line-width",
            "caption": "{{$:/language/Buttons/LineWidth/Caption}}",
            "description": "{{$:/language/Buttons/LineWidth/Hint}}",
            "condition": "[&lt;targetTiddler&gt;is[image]] -[&lt;targetTiddler&gt;type[image/svg+xml]]",
            "dropdown": "$:/core/ui/EditorToolbar/line-width-dropdown",
            "text": "&lt;$text text={{$:/config/BitmapEditor/LineWidth}}/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/link-dropdown": {
            "title": "$:/core/ui/EditorToolbar/link-dropdown",
            "text": "\\define lingo-base() $:/language/Buttons/Link/\n\n\\define add-link-actions()\n&lt;$action-sendmessage $message=\"tm-edit-text-operation\" $param=\"make-link\" text={{$(linkTiddler)$}} /&gt;\n&lt;$action-deletetiddler $filter=\"[&lt;dropdown-state&gt;] [&lt;searchTiddler&gt;] [&lt;linkTiddler&gt;] [&lt;storeTitle&gt;] [&lt;searchListState&gt;]\"/&gt;\n\\end\n\n\\define get-focus-selector() [data-tiddler-title=\"$(cssEscapedTitle)$\"] .tc-create-wikitext-link input\n\n\\define cancel-search-actions-inner()\n&lt;$set name=\"userInput\" value={{{ [&lt;storeTitle&gt;get[text]] }}}&gt;&lt;$list filter=\"[&lt;searchTiddler&gt;get[text]!match&lt;userInput&gt;]\" emptyMessage=\"\"\"&lt;$action-deletetiddler $filter=\"[&lt;searchTiddler&gt;] [&lt;linkTiddler&gt;] [&lt;storeTitle&gt;] [&lt;searchListState&gt;]\"/&gt;\"\"\"&gt;&lt;$action-setfield $tiddler=&lt;&lt;searchTiddler&gt;&gt; text=&lt;&lt;userInput&gt;&gt;/&gt;&lt;$action-setfield $tiddler=&lt;&lt;refreshTitle&gt;&gt; text=\"yes\"/&gt;&lt;/$list&gt;&lt;/$set&gt;\n\\end\n\n\\define cancel-search-actions() &lt;$list filter=\"[&lt;storeTitle&gt;!has[text]] +[&lt;searchTiddler&gt;!has[text]]\" emptyMessage=\"\"\"&lt;&lt;cancel-search-actions-inner&gt;&gt;\"\"\"&gt;&lt;$action-sendmessage $message=\"tm-edit-text-operation\" $param=\"wrap-selection\" prefix=\"\" suffix=\"\"/&gt;&lt;/$list&gt;\n\n\\define external-link()\n&lt;$button class=\"tc-btn-invisible\" style=\"width: auto; display: inline-block; background-colour: inherit;\" actions=&lt;&lt;add-link-actions&gt;&gt;&gt;\n{{$:/core/images/chevron-right}}\n&lt;/$button&gt;\n\\end\n\n\\define set-next-input-tab(beforeafter:\"after\") &lt;$macrocall $name=\"change-input-tab\" stateTitle=\"$:/state/tab/search-results/sidebar\" tag=\"$:/tags/SearchResults\" beforeafter=\"$beforeafter$\" defaultState={{$:/config/SearchResults/Default}} actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/search/currentTab\" text=&lt;&lt;nextTab&gt;&gt;/&gt;\"\"\"/&gt;\n\n\\define body(config-title)\n''&lt;&lt;lingo Hint&gt;&gt;''\n\n&lt;$vars searchTiddler=\"\"\"$config-title$/search\"\"\" linkTiddler=\"\"\"$config-title$/link\"\"\" linktext=\"\" searchListState=&lt;&lt;qualify \"$:/temp/link-search/selected-item\"&gt;&gt; refreshTitle=&lt;&lt;qualify \"$:/temp/link-search/refresh\"&gt;&gt; storeTitle=&lt;&lt;qualify \"$:/temp/link-search/input\"&gt;&gt;&gt;\n\n&lt;$vars linkTiddler=&lt;&lt;searchTiddler&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-tab-right))\" actions=&lt;&lt;set-next-input-tab&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-tab-left))\" actions=&lt;&lt;set-next-input-tab \"before\"&gt;&gt; class=\"tc-create-wikitext-link\"&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=&lt;&lt;searchTiddler&gt;&gt; storeTitle=&lt;&lt;storeTitle&gt;&gt;\n\t\tselectionStateTitle=&lt;&lt;searchListState&gt;&gt; refreshTitle=&lt;&lt;refreshTitle&gt;&gt; type=\"search\" filterMinLength=\"1\"\n\t\ttag=\"input\" focus=\"true\" class=\"tc-popup-handle\" inputCancelActions=&lt;&lt;cancel-search-actions&gt;&gt; \n\t\tinputAcceptActions=&lt;&lt;add-link-actions&gt;&gt; placeholder={{$:/language/Search/Search}} default=\"\" \n\t\tconfigTiddlerFilter=\"[[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}]\" /&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;$reveal tag=\"span\" state=&lt;&lt;storeTitle&gt;&gt; type=\"nomatch\" text=\"\"&gt;\n&lt;&lt;external-link&gt;&gt;\n&lt;$button class=\"tc-btn-invisible\" style=\"width: auto; display: inline-block; background-colour: inherit;\"&gt;\n&lt;&lt;cancel-search-actions&gt;&gt;&lt;$set name=\"cssEscapedTitle\" value={{{ [&lt;storyTiddler&gt;escapecss[]] }}}&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=&lt;&lt;get-focus-selector&gt;&gt;/&gt;&lt;/$set&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$vars&gt;\n\n&lt;$reveal tag=\"div\" state=&lt;&lt;storeTitle&gt;&gt; type=\"nomatch\" text=\"\"&gt;\n\n&lt;$linkcatcher actions=&lt;&lt;add-link-actions&gt;&gt; to=&lt;&lt;linkTiddler&gt;&gt;&gt;\n\n&lt;$vars userInput={{{ [&lt;storeTitle&gt;get[text]] }}} configTiddler={{{ [[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}] }}}&gt;\n\n{{$:/core/ui/SearchResults}}\n\n&lt;/$vars&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$vars&gt;\n\n\\end\n\n&lt;$macrocall $name=\"body\" config-title=&lt;&lt;qualify \"$:/state/Link/\"&gt;&gt;/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/link": {
            "title": "$:/core/ui/EditorToolbar/link",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/link",
            "caption": "{{$:/language/Buttons/Link/Caption}}",
            "description": "{{$:/language/Buttons/Link/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "button-classes": "tc-text-editor-toolbar-item-start-group",
            "shortcuts": "((link))",
            "dropdown": "$:/core/ui/EditorToolbar/link-dropdown",
            "text": ""
        },
        "$:/core/ui/EditorToolbar/linkify": {
            "title": "$:/core/ui/EditorToolbar/linkify",
            "caption": "{{$:/language/Buttons/Linkify/Caption}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "description": "{{$:/language/Buttons/Linkify/Hint}}",
            "icon": "$:/core/images/linkify",
            "list-before": "$:/core/ui/EditorToolbar/mono-block",
            "shortcuts": "((linkify))",
            "tags": "$:/tags/EditorToolbar",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"[[\"\n\tsuffix=\"]]\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/list-bullet": {
            "title": "$:/core/ui/EditorToolbar/list-bullet",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/list-bullet",
            "caption": "{{$:/language/Buttons/ListBullet/Caption}}",
            "description": "{{$:/language/Buttons/ListBullet/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((list-bullet))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"*\"\n\tcount=\"1\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/list-number": {
            "title": "$:/core/ui/EditorToolbar/list-number",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/list-number",
            "caption": "{{$:/language/Buttons/ListNumber/Caption}}",
            "description": "{{$:/language/Buttons/ListNumber/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((list-number))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"prefix-lines\"\n\tcharacter=\"#\"\n\tcount=\"1\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/mono-block": {
            "title": "$:/core/ui/EditorToolbar/mono-block",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/mono-block",
            "caption": "{{$:/language/Buttons/MonoBlock/Caption}}",
            "description": "{{$:/language/Buttons/MonoBlock/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "button-classes": "tc-text-editor-toolbar-item-start-group",
            "shortcuts": "((mono-block))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-lines\"\n\tprefix=\"\n```\"\n\tsuffix=\"```\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/mono-line": {
            "title": "$:/core/ui/EditorToolbar/mono-line",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/mono-line",
            "caption": "{{$:/language/Buttons/MonoLine/Caption}}",
            "description": "{{$:/language/Buttons/MonoLine/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((mono-line))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"`\"\n\tsuffix=\"`\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/more-dropdown": {
            "title": "$:/core/ui/EditorToolbar/more-dropdown",
            "text": "\\define config-title()\n$:/config/EditorToolbarButtons/Visibility/$(toolbarItem)$\n\\end\n\n\\define conditional-button()\n&lt;$list filter={{$(toolbarItem)$!!condition}} variable=\"condition\"&gt;\n&lt;$transclude tiddler=\"$:/core/ui/EditTemplate/body/toolbar/button\" mode=\"inline\"/&gt; &lt;$transclude tiddler=&lt;&lt;toolbarItem&gt;&gt; field=\"description\"/&gt;\n&lt;/$list&gt;\n\\end\n\n&lt;div class=\"tc-text-editor-toolbar-more\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]] -[[$:/core/ui/EditorToolbar/more]]\"&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;config-visibility-title&gt;&gt; text=\"hide\" tag=\"div\"&gt;\n&lt;&lt;conditional-button&gt;&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/EditorToolbar/more": {
            "title": "$:/core/ui/EditorToolbar/more",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/down-arrow",
            "caption": "{{$:/language/Buttons/More/Caption}}",
            "description": "{{$:/language/Buttons/More/Hint}}",
            "condition": "[&lt;targetTiddler&gt;]",
            "dropdown": "$:/core/ui/EditorToolbar/more-dropdown",
            "text": ""
        },
        "$:/core/ui/EditorToolbar/opacity-dropdown": {
            "title": "$:/core/ui/EditorToolbar/opacity-dropdown",
            "text": "\\define lingo-base() $:/language/Buttons/Opacity/\n\n\\define toolbar-opacity-inner()\n&lt;$button tag=\"a\" tooltip=\"\"\"$(opacity)$\"\"\"&gt;\n\n&lt;$action-setfield\n\t$tiddler=\"$:/config/BitmapEditor/Opacity\"\n\t$value=\"$(opacity)$\"\n/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n&lt;div style=\"display: inline-block; vertical-align: middle; background-color: $(current-paint-colour)$; opacity: $(opacity)$; width: 1em; height: 1em; border-radius: 50%;\"/&gt;\n\n&lt;span style=\"margin-left: 8px;\"&gt;\n\n&lt;$text text=\"\"\"$(opacity)$\"\"\"/&gt;\n\n&lt;$reveal state=\"$:/config/BitmapEditor/Opacity\" type=\"match\" text=\"\"\"$(opacity)$\"\"\" tag=\"span\"&gt;\n\n&lt;$entity entity=\"&amp;nbsp;\"/&gt;\n\n&lt;$entity entity=\"&amp;#x2713;\"/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/span&gt;\n\n&lt;/$button&gt;\n\\end\n\n\\define toolbar-opacity()\n''&lt;&lt;lingo Hint&gt;&gt;''\n\n&lt;$list filter={{$:/config/BitmapEditor/Opacities}} variable=\"opacity\"&gt;\n\n&lt;&lt;toolbar-opacity-inner&gt;&gt;\n\n&lt;/$list&gt;\n\\end\n\n&lt;$set name=\"current-paint-colour\" value={{$:/config/BitmapEditor/Colour}}&gt;\n\n&lt;$set name=\"current-opacity\" value={{$:/config/BitmapEditor/Opacity}}&gt;\n\n&lt;&lt;toolbar-opacity&gt;&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/EditorToolbar/opacity": {
            "title": "$:/core/ui/EditorToolbar/opacity",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/opacity",
            "caption": "{{$:/language/Buttons/Opacity/Caption}}",
            "description": "{{$:/language/Buttons/Opacity/Hint}}",
            "condition": "[&lt;targetTiddler&gt;is[image]] -[&lt;targetTiddler&gt;type[image/svg+xml]]",
            "dropdown": "$:/core/ui/EditorToolbar/opacity-dropdown",
            "text": "&lt;$text text={{$:/config/BitmapEditor/Opacity}}/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/paint-dropdown": {
            "title": "$:/core/ui/EditorToolbar/paint-dropdown",
            "text": "''{{$:/language/Buttons/Paint/Hint}}''\n\n&lt;$macrocall $name=\"colour-picker\" actions=\"\"\"\n\n&lt;$action-setfield\n\t$tiddler=\"$:/config/BitmapEditor/Colour\"\n\t$value=&lt;&lt;colour-picker-value&gt;&gt;\n/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n\"\"\"/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/paint": {
            "title": "$:/core/ui/EditorToolbar/paint",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/paint",
            "caption": "{{$:/language/Buttons/Paint/Caption}}",
            "description": "{{$:/language/Buttons/Paint/Hint}}",
            "condition": "[&lt;targetTiddler&gt;is[image]] -[&lt;targetTiddler&gt;type[image/svg+xml]]",
            "dropdown": "$:/core/ui/EditorToolbar/paint-dropdown",
            "text": "\\define toolbar-paint()\n&lt;div style=\"display: inline-block; vertical-align: middle; background-color: $(colour-picker-value)$; width: 1em; height: 1em; border-radius: 50%;\"/&gt;\n\\end\n&lt;$set name=\"colour-picker-value\" value={{$:/config/BitmapEditor/Colour}}&gt;\n&lt;&lt;toolbar-paint&gt;&gt;\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/EditorToolbar/picture-dropdown": {
            "title": "$:/core/ui/EditorToolbar/picture-dropdown",
            "text": "\\define replacement-text()\n[img[$(imageTitle)$]]\n\\end\n\n''{{$:/language/Buttons/Picture/Hint}}''\n\n&lt;$macrocall $name=\"image-picker\" actions=\"\"\"\n\n&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"replace-selection\"\n\ttext=&lt;&lt;replacement-text&gt;&gt;\n/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n\"\"\"/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/picture": {
            "title": "$:/core/ui/EditorToolbar/picture",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/picture",
            "caption": "{{$:/language/Buttons/Picture/Caption}}",
            "description": "{{$:/language/Buttons/Picture/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((picture))",
            "dropdown": "$:/core/ui/EditorToolbar/picture-dropdown",
            "text": ""
        },
        "$:/core/ui/EditorToolbar/preview-type-dropdown": {
            "title": "$:/core/ui/EditorToolbar/preview-type-dropdown",
            "text": "\\define preview-type-button()\n&lt;$button tag=\"a\"&gt;\n\n&lt;$action-setfield $tiddler=\"$:/state/editpreviewtype\" $value=\"$(previewType)$\"/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n&lt;$transclude tiddler=&lt;&lt;previewType&gt;&gt; field=\"caption\" mode=\"inline\"&gt;\n\n&lt;$view tiddler=&lt;&lt;previewType&gt;&gt; field=\"title\" mode=\"inline\"/&gt;\n\n&lt;/$transclude&gt; \n\n&lt;$reveal tag=\"span\" state=\"$:/state/editpreviewtype\" type=\"match\" text=&lt;&lt;previewType&gt;&gt; default=\"$:/core/ui/EditTemplate/body/preview/output\"&gt;\n\n&lt;$entity entity=\"&amp;nbsp;\"/&gt;\n\n&lt;$entity entity=\"&amp;#x2713;\"/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditPreview]!has[draft.of]]\" variable=\"previewType\"&gt;\n\n&lt;&lt;preview-type-button&gt;&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/EditorToolbar/preview-type": {
            "title": "$:/core/ui/EditorToolbar/preview-type",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/chevron-down",
            "caption": "{{$:/language/Buttons/PreviewType/Caption}}",
            "description": "{{$:/language/Buttons/PreviewType/Hint}}",
            "condition": "[all[shadows+tiddlers]tag[$:/tags/EditPreview]!has[draft.of]butfirst[]limit[1]]",
            "button-classes": "tc-text-editor-toolbar-item-adjunct",
            "dropdown": "$:/core/ui/EditorToolbar/preview-type-dropdown"
        },
        "$:/core/ui/EditorToolbar/preview": {
            "title": "$:/core/ui/EditorToolbar/preview",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/preview-open",
            "custom-icon": "yes",
            "caption": "{{$:/language/Buttons/Preview/Caption}}",
            "description": "{{$:/language/Buttons/Preview/Hint}}",
            "condition": "[&lt;targetTiddler&gt;]",
            "button-classes": "tc-text-editor-toolbar-item-start-group",
            "shortcuts": "((preview))",
            "text": "&lt;$reveal state=\"$:/state/showeditpreview\" type=\"match\" text=\"yes\" tag=\"span\"&gt;\n{{$:/core/images/preview-open}}\n&lt;$action-setfield $tiddler=\"$:/state/showeditpreview\" $value=\"no\"/&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\"$:/state/showeditpreview\" type=\"nomatch\" text=\"yes\" tag=\"span\"&gt;\n{{$:/core/images/preview-closed}}\n&lt;$action-setfield $tiddler=\"$:/state/showeditpreview\" $value=\"yes\"/&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/EditorToolbar/quote": {
            "title": "$:/core/ui/EditorToolbar/quote",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/quote",
            "caption": "{{$:/language/Buttons/Quote/Caption}}",
            "description": "{{$:/language/Buttons/Quote/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((quote))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-lines\"\n\tprefix=\"\n&lt;&lt;&lt;\"\n\tsuffix=\"&lt;&lt;&lt;\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/rotate-left": {
            "title": "$:/core/ui/EditorToolbar/rotate-left",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/rotate-left",
            "caption": "{{$:/language/Buttons/RotateLeft/Caption}}",
            "description": "{{$:/language/Buttons/RotateLeft/Hint}}",
            "condition": "[&lt;targetTiddler&gt;is[image]] -[&lt;targetTiddler&gt;type[image/svg+xml]]",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-bitmap-operation\"\n\t$param=\"rotate-left\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/size-dropdown": {
            "title": "$:/core/ui/EditorToolbar/size-dropdown",
            "text": "\\define lingo-base() $:/language/Buttons/Size/\n\n\\define toolbar-button-size-preset(config-title)\n&lt;$set name=\"width\" filter=\"$(sizePair)$ +[first[]]\"&gt;\n\n&lt;$set name=\"height\" filter=\"$(sizePair)$ +[last[]]\"&gt;\n\n&lt;$button tag=\"a\"&gt;\n\n&lt;$action-setfield\n\t$tiddler=\"\"\"$config-title$/new-width\"\"\"\n\t$value=&lt;&lt;width&gt;&gt;\n/&gt;\n\n&lt;$action-setfield\n\t$tiddler=\"\"\"$config-title$/new-height\"\"\"\n\t$value=&lt;&lt;height&gt;&gt;\n/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=\"\"\"$config-title$/presets-popup\"\"\"\n/&gt;\n\n&lt;$text text=&lt;&lt;width&gt;&gt;/&gt; &amp;times; &lt;$text text=&lt;&lt;height&gt;&gt;/&gt;\n\n&lt;/$button&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\\end\n\n\\define toolbar-button-size(config-title)\n''{{$:/language/Buttons/Size/Hint}}''\n\n&lt;&lt;lingo Caption/Width&gt;&gt; &lt;$edit-text tag=\"input\" tiddler=\"\"\"$config-title$/new-width\"\"\" default=&lt;&lt;tv-bitmap-editor-width&gt;&gt; focus=\"true\" size=\"8\"/&gt; &lt;&lt;lingo Caption/Height&gt;&gt; &lt;$edit-text tag=\"input\" tiddler=\"\"\"$config-title$/new-height\"\"\" default=&lt;&lt;tv-bitmap-editor-height&gt;&gt; size=\"8\"/&gt; &lt;$button popup=\"\"\"$config-title$/presets-popup\"\"\" class=\"tc-btn-invisible tc-popup-keep\" style=\"width: auto; display: inline-block; background-colour: inherit;\" selectedClass=\"tc-selected\"&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n\n&lt;$reveal tag=\"span\" state=\"\"\"$config-title$/presets-popup\"\"\" type=\"popup\" position=\"belowleft\" animate=\"yes\"&gt;\n\n&lt;div class=\"tc-drop-down tc-popup-keep\"&gt;\n\n&lt;$list filter={{$:/config/BitmapEditor/ImageSizes}} variable=\"sizePair\"&gt;\n\n&lt;$macrocall $name=\"toolbar-button-size-preset\" config-title=\"$config-title$\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$button&gt;\n&lt;$action-sendmessage\n\t$message=\"tm-edit-bitmap-operation\"\n\t$param=\"resize\"\n\twidth={{$config-title$/new-width}}\n\theight={{$config-title$/new-height}}\n/&gt;\n&lt;$action-deletetiddler\n\t$tiddler=\"\"\"$config-title$/new-width\"\"\"\n/&gt;\n&lt;$action-deletetiddler\n\t$tiddler=\"\"\"$config-title$/new-height\"\"\"\n/&gt;\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n&lt;&lt;lingo Caption/Resize&gt;&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$macrocall $name=\"toolbar-button-size\" config-title=&lt;&lt;qualify \"$:/state/Size/\"&gt;&gt;/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/size": {
            "title": "$:/core/ui/EditorToolbar/size",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/size",
            "caption": "{{$:/language/Buttons/Size/Caption}}",
            "description": "{{$:/language/Buttons/Size/Hint}}",
            "condition": "[&lt;targetTiddler&gt;is[image]] -[&lt;targetTiddler&gt;type[image/svg+xml]]",
            "dropdown": "$:/core/ui/EditorToolbar/size-dropdown",
            "text": ""
        },
        "$:/core/ui/EditorToolbar/stamp-dropdown": {
            "title": "$:/core/ui/EditorToolbar/stamp-dropdown",
            "text": "\\define toolbar-button-stamp-inner()\n&lt;$button tag=\"a\"&gt;\n\n&lt;$list filter=\"[[$(snippetTitle)$]addsuffix[/prefix]is[missing]removesuffix[/prefix]addsuffix[/suffix]is[missing]]\"&gt;\n\n&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"replace-selection\"\n\ttext={{$(snippetTitle)$}}\n/&gt;\n\n&lt;/$list&gt;\n\n\n&lt;$list filter=\"[[$(snippetTitle)$]addsuffix[/prefix]is[missing]removesuffix[/prefix]addsuffix[/suffix]!is[missing]] [[$(snippetTitle)$]addsuffix[/prefix]!is[missing]removesuffix[/prefix]addsuffix[/suffix]is[missing]] [[$(snippetTitle)$]addsuffix[/prefix]!is[missing]removesuffix[/prefix]addsuffix[/suffix]!is[missing]]\"&gt;\n\n&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix={{{ [[$(snippetTitle)$]addsuffix[/prefix]get[text]] }}}\nsuffix={{{ [[$(snippetTitle)$]addsuffix[/suffix]get[text]] }}}\n/&gt;\n\n&lt;/$list&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n&lt;$transclude tiddler=&lt;&lt;snippetTitle&gt;&gt; field=\"caption\" mode=\"inline\"&gt;\n\n&lt;$view tiddler=&lt;&lt;snippetTitle&gt;&gt; field=\"title\" /&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TextEditor/Snippet]!has[draft.of]sort[caption]]\" variable=\"snippetTitle\"&gt;\n\n&lt;&lt;toolbar-button-stamp-inner&gt;&gt;\n\n&lt;/$list&gt;\n\n----\n\n&lt;$button tag=\"a\"&gt;\n\n&lt;$action-sendmessage\n\t$message=\"tm-new-tiddler\"\n\ttags=\"$:/tags/TextEditor/Snippet\"\n\tcaption={{$:/language/Buttons/Stamp/New/Title}}\n\ttext={{$:/language/Buttons/Stamp/New/Text}}\n/&gt;\n\n&lt;$action-deletetiddler\n\t$tiddler=&lt;&lt;dropdown-state&gt;&gt;\n/&gt;\n\n&lt;em&gt;\n\n&lt;$text text={{$:/language/Buttons/Stamp/Caption/New}}/&gt;\n\n&lt;/em&gt;\n\n&lt;/$button&gt;\n"
        },
        "$:/core/ui/EditorToolbar/stamp": {
            "title": "$:/core/ui/EditorToolbar/stamp",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/stamp",
            "caption": "{{$:/language/Buttons/Stamp/Caption}}",
            "description": "{{$:/language/Buttons/Stamp/Hint}}",
            "condition": "[&lt;targetTiddler&gt;type[]] [&lt;targetTiddler&gt;get[type]prefix[text/]] [&lt;targetTiddler&gt;get[type]match[application/javascript]] [&lt;targetTiddler&gt;get[type]match[application/json]] [&lt;targetTiddler&gt;get[type]match[application/x-tiddler-dictionary]] [&lt;targetTiddler&gt;get[type]match[image/svg+xml]] +[first[]]",
            "shortcuts": "((stamp))",
            "dropdown": "$:/core/ui/EditorToolbar/stamp-dropdown",
            "text": ""
        },
        "$:/core/ui/EditorToolbar/strikethrough": {
            "title": "$:/core/ui/EditorToolbar/strikethrough",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/strikethrough",
            "caption": "{{$:/language/Buttons/Strikethrough/Caption}}",
            "description": "{{$:/language/Buttons/Strikethrough/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((strikethrough))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"~~\"\n\tsuffix=\"~~\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/subscript": {
            "title": "$:/core/ui/EditorToolbar/subscript",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/subscript",
            "caption": "{{$:/language/Buttons/Subscript/Caption}}",
            "description": "{{$:/language/Buttons/Subscript/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((subscript))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\",,\"\n\tsuffix=\",,\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/superscript": {
            "title": "$:/core/ui/EditorToolbar/superscript",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/superscript",
            "caption": "{{$:/language/Buttons/Superscript/Caption}}",
            "description": "{{$:/language/Buttons/Superscript/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((superscript))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"^^\"\n\tsuffix=\"^^\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/transcludify": {
            "title": "$:/core/ui/EditorToolbar/transcludify",
            "caption": "{{$:/language/Buttons/Transcludify/Caption}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "description": "{{$:/language/Buttons/Transcludify/Hint}}",
            "icon": "$:/core/images/transcludify",
            "list-before": "$:/core/ui/EditorToolbar/mono-block",
            "shortcuts": "((transcludify))",
            "tags": "$:/tags/EditorToolbar",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"{{\"\n\tsuffix=\"}}\"\n/&gt;\n"
        },
        "$:/core/ui/EditorToolbar/underline": {
            "title": "$:/core/ui/EditorToolbar/underline",
            "tags": "$:/tags/EditorToolbar",
            "icon": "$:/core/images/underline",
            "caption": "{{$:/language/Buttons/Underline/Caption}}",
            "description": "{{$:/language/Buttons/Underline/Hint}}",
            "condition": "[&lt;targetTiddler&gt;!has[type]] [&lt;targetTiddler&gt;type[text/vnd.tiddlywiki]]",
            "shortcuts": "((underline))",
            "text": "&lt;$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"__\"\n\tsuffix=\"__\"\n/&gt;\n"
        },
        "$:/core/Filters/AllTags": {
            "title": "$:/core/Filters/AllTags",
            "tags": "$:/tags/Filter",
            "filter": "[tags[]!is[system]sort[title]]",
            "description": "{{$:/language/Filters/AllTags}}",
            "text": ""
        },
        "$:/core/Filters/AllTiddlers": {
            "title": "$:/core/Filters/AllTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[!is[system]sort[title]]",
            "description": "{{$:/language/Filters/AllTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/Drafts": {
            "title": "$:/core/Filters/Drafts",
            "tags": "$:/tags/Filter",
            "filter": "[has[draft.of]sort[title]]",
            "description": "{{$:/language/Filters/Drafts}}",
            "text": ""
        },
        "$:/core/Filters/Missing": {
            "title": "$:/core/Filters/Missing",
            "tags": "$:/tags/Filter",
            "filter": "[all[missing]sort[title]]",
            "description": "{{$:/language/Filters/Missing}}",
            "text": ""
        },
        "$:/core/Filters/Orphans": {
            "title": "$:/core/Filters/Orphans",
            "tags": "$:/tags/Filter",
            "filter": "[all[orphans]sort[title]]",
            "description": "{{$:/language/Filters/Orphans}}",
            "text": ""
        },
        "$:/core/Filters/OverriddenShadowTiddlers": {
            "title": "$:/core/Filters/OverriddenShadowTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[is[shadow]]",
            "description": "{{$:/language/Filters/OverriddenShadowTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/RecentSystemTiddlers": {
            "title": "$:/core/Filters/RecentSystemTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[has[modified]!sort[modified]limit[50]]",
            "description": "{{$:/language/Filters/RecentSystemTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/RecentTiddlers": {
            "title": "$:/core/Filters/RecentTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[!is[system]has[modified]!sort[modified]limit[50]]",
            "description": "{{$:/language/Filters/RecentTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/SessionTiddlers": {
            "title": "$:/core/Filters/SessionTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[haschanged[]]",
            "description": "{{$:/language/Filters/SessionTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/ShadowTiddlers": {
            "title": "$:/core/Filters/ShadowTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[all[shadows]sort[title]]",
            "description": "{{$:/language/Filters/ShadowTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/StoryList": {
            "title": "$:/core/Filters/StoryList",
            "tags": "$:/tags/Filter",
            "filter": "[list[$:/StoryList]] -$:/AdvancedSearch",
            "description": "{{$:/language/Filters/StoryList}}",
            "text": ""
        },
        "$:/core/Filters/SystemTags": {
            "title": "$:/core/Filters/SystemTags",
            "tags": "$:/tags/Filter",
            "filter": "[all[shadows+tiddlers]tags[]is[system]sort[title]]",
            "description": "{{$:/language/Filters/SystemTags}}",
            "text": ""
        },
        "$:/core/Filters/SystemTiddlers": {
            "title": "$:/core/Filters/SystemTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[is[system]sort[title]]",
            "description": "{{$:/language/Filters/SystemTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/TypedTiddlers": {
            "title": "$:/core/Filters/TypedTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[!is[system]has[type]each[type]sort[type]] -[type[text/vnd.tiddlywiki]]",
            "description": "{{$:/language/Filters/TypedTiddlers}}",
            "text": ""
        },
        "$:/core/ui/ImportListing": {
            "title": "$:/core/ui/ImportListing",
            "text": "\\define lingo-base() $:/language/Import/\n\n\\define messageField() message-$(payloadTiddler)$\n\n\\define payloadTitleFilter() [&lt;currentTiddler&gt;get&lt;renameField&gt;minlength[1]else&lt;payloadTiddler&gt;]\n\n\\define overWriteWarning()\n&lt;$list filter=\"[&lt;currentTiddler&gt;!has&lt;suppressedField&gt;]\"&gt;\n&lt;$text text={{{[subfilter&lt;payloadTitleFilter&gt;!is[tiddler]then[]] ~[&lt;lingo-base&gt;addsuffix[Listing/Rename/OverwriteWarning]get[text]]}}}/&gt;\n&lt;/$list&gt;\n\\end\n\n\\define selectionField() selection-$(payloadTiddler)$\n\n\\define renameField() rename-$(payloadTiddler)$\n\n\\define suppressedField() suppressed-$(payloadTiddler)$\n\n\\define newImportTitleTiddler() $:/temp/NewImportTitle-$(payloadTiddler)$\n\n\\define previewPopupState() $(currentTiddler)$!!popup-$(payloadTiddler)$\n\n\\define renameFieldState() $(currentTiddler)$!!state-rename-$(payloadTiddler)$\n\n\\define select-all-actions()\n&lt;$list filter=\"[all[current]plugintiddlers[]sort[title]]\" variable=\"payloadTiddler\"&gt;\n&lt;$action-setfield $field={{{ [&lt;payloadTiddler&gt;addprefix[selection-]] }}} $value={{$:/state/import/select-all}}/&gt;\n&lt;/$list&gt;\n\\end\n\n&lt;table class=\"tc-import-table\"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;\n&lt;$checkbox tiddler=\"$:/state/import/select-all\" field=\"text\" checked=\"checked\" unchecked=\"unchecked\" default=\"checked\" actions=&lt;&lt;select-all-actions&gt;&gt;&gt;\n&lt;&lt;lingo Listing/Select/Caption&gt;&gt;\n&lt;/$checkbox&gt;\n&lt;/th&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Title/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Status/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\"[all[current]plugintiddlers[]sort[title]]\" variable=\"payloadTiddler\"&gt;\n&lt;tr class={{{[&lt;currentTiddler&gt;has&lt;suppressedField&gt;then[tc-row-disabled]] ~[subfilter&lt;payloadTitleFilter&gt;is[tiddler]then[tc-row-warning]] }}}&gt;\n&lt;td&gt;\n&lt;$checkbox field=&lt;&lt;selectionField&gt;&gt; checked=\"checked\" unchecked=\"unchecked\" default=\"checked\" disabled={{{[&lt;currentTiddler&gt;has&lt;suppressedField&gt;then[yes]else[no]]}}}/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;renameFieldState&gt;&gt; text=\"yes\" tag=\"div\"&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;previewPopupState&gt;&gt; text=\"yes\" tag=\"div\" class=\"tc-flex\"&gt;\n&lt;$button class=\"tc-btn-invisible tc-btn-dropdown tc-flex-grow-1 tc-word-break\" set=&lt;&lt;previewPopupState&gt;&gt; setTo=\"yes\" disabled={{{[&lt;currentTiddler&gt;has&lt;suppressedField&gt;then[yes]else[no]]}}}&gt;\n&lt;span class=\"tc-small-gap-right\"&gt;{{$:/core/images/right-arrow}}&lt;/span&gt;&lt;$text text={{{[subfilter&lt;payloadTitleFilter&gt;]}}}/&gt;\n&lt;/$button&gt;\n&lt;$list filter=\"[&lt;currentTiddler&gt;!has&lt;suppressedField&gt;]\"&gt;&lt;$button class=\"tc-btn-invisible\" set=&lt;&lt;renameFieldState&gt;&gt; setTo=\"yes\" tooltip={{{[&lt;lingo-base&gt;addsuffix[Listing/Rename/Tooltip]get[text]]}}}&gt;{{$:/core/images/edit-button}}&lt;/$button&gt;&lt;/$list&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;previewPopupState&gt;&gt; text=\"yes\" tag=\"div\"&gt;\n&lt;$button class=\"tc-btn-invisible tc-btn-dropdown\" set=&lt;&lt;previewPopupState&gt;&gt; setTo=\"no\"&gt;\n&lt;span class=\"tc-small-gap-right\"&gt;{{$:/core/images/down-arrow}}&lt;/span&gt;&lt;$text text={{{[subfilter&lt;payloadTitleFilter&gt;]}}}/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;renameFieldState&gt;&gt; text=\"yes\" tag=\"div\"&gt;\n&lt;$text text={{{[&lt;lingo-base&gt;addsuffix[Listing/Rename/Prompt]get[text]]}}}/&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=&lt;&lt;messageField&gt;&gt;/&gt;\n&lt;&lt;overWriteWarning&gt;&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;renameFieldState&gt;&gt; text=\"yes\" tag=\"tr\"&gt;\n&lt;td colspan=\"3\"&gt;\n&lt;div class=\"tc-flex\"&gt;\n&lt;$edit-text tiddler=&lt;&lt;newImportTitleTiddler&gt;&gt;  default={{{[subfilter&lt;payloadTitleFilter&gt;]}}} tag=\"input\" class=\"tc-import-rename tc-flex-grow-1\"/&gt;&lt;span class=\"tc-small-gap-left\"&gt;&lt;$button  class=\"tc-btn-invisible\" set=&lt;&lt;renameFieldState&gt;&gt; setTo=\"no\" tooltip={{{[&lt;lingo-base&gt;addsuffix[Listing/Rename/CancelRename]get[text]]}}}&gt;{{$:/core/images/close-button}}&lt;$action-deletetiddler $tiddler=&lt;&lt;newImportTitleTiddler&gt;&gt;/&gt;&lt;/$button&gt;&lt;span class=\"tc-small-gap-right\"/&gt;&lt;/span&gt;&lt;$button  class=\"tc-btn-invisible\" set=&lt;&lt;renameFieldState&gt;&gt; setTo=\"no\" tooltip={{{[&lt;lingo-base&gt;addsuffix[Listing/Rename/ConfirmRename]get[text]]}}}&gt;{{$:/core/images/done-button}}&lt;$action-setfield $field=&lt;&lt;renameField&gt;&gt; $value={{{[&lt;newImportTitleTiddler&gt;get[text]minlength[1]else&lt;payloadTiddler&gt;]}}} /&gt;&lt;$action-deletetiddler $tiddler=&lt;&lt;newImportTitleTiddler&gt;&gt;/&gt;&lt;/$button&gt;\n&lt;/div&gt;\n&lt;/td&gt;\n&lt;/$reveal&gt;\n&lt;tr&gt;\n&lt;td colspan=\"3\"&gt;\n&lt;$reveal type=\"match\" text=\"yes\" state=&lt;&lt;previewPopupState&gt;&gt; tag=\"div\"&gt;\n&lt;$list filter=\"[{$:/state/importpreviewtype}has[text]]\" variable=\"listItem\" emptyMessage={{$:/core/ui/ImportPreviews/Text}}&gt;\n&lt;$transclude tiddler={{$:/state/importpreviewtype}}/&gt;\n&lt;/$list&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/ImportPreviews/Diff": {
            "title": "$:/core/ui/ImportPreviews/Diff",
            "tags": "$:/tags/ImportPreview",
            "caption": "{{$:/language/Import/Listing/Preview/Diff}}",
            "text": "&lt;$macrocall $name=\"compareTiddlerText\" sourceTiddlerTitle=&lt;&lt;payloadTiddler&gt;&gt; destTiddlerTitle=&lt;&lt;currentTiddler&gt;&gt; destSubTiddlerTitle=&lt;&lt;payloadTiddler&gt;&gt;/&gt;\n"
        },
        "$:/core/ui/ImportPreviews/DiffFields": {
            "title": "$:/core/ui/ImportPreviews/DiffFields",
            "tags": "$:/tags/ImportPreview",
            "caption": "{{$:/language/Import/Listing/Preview/DiffFields}}",
            "text": "&lt;$macrocall $name=\"compareTiddlers\" sourceTiddlerTitle=&lt;&lt;payloadTiddler&gt;&gt; destTiddlerTitle=&lt;&lt;currentTiddler&gt;&gt; destSubTiddlerTitle=&lt;&lt;payloadTiddler&gt;&gt; exclude=\"text\"/&gt;\n"
        },
        "$:/core/ui/ImportPreviews/Fields": {
            "title": "$:/core/ui/ImportPreviews/Fields",
            "tags": "$:/tags/ImportPreview",
            "caption": "{{$:/language/Import/Listing/Preview/Fields}}",
            "text": "&lt;table class=\"tc-view-field-table\"&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[&lt;payloadTiddler&gt;subtiddlerfields&lt;currentTiddler&gt;sort[]] -text\" variable=\"fieldName\"&gt;\n&lt;tr class=\"tc-view-field\"&gt;\n&lt;td class=\"tc-view-field-name\"&gt;\n&lt;$text text=&lt;&lt;fieldName&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;td class=\"tc-view-field-value\"&gt;\n&lt;$view field=&lt;&lt;fieldName&gt;&gt; tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;payloadTiddler&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/ImportPreviews/Text": {
            "title": "$:/core/ui/ImportPreviews/Text",
            "tags": "$:/tags/ImportPreview",
            "caption": "{{$:/language/Import/Listing/Preview/Text}}",
            "text": "&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;payloadTiddler&gt;&gt; mode=\"block\"/&gt;\n"
        },
        "$:/core/ui/ImportPreviews/TextRaw": {
            "title": "$:/core/ui/ImportPreviews/TextRaw",
            "tags": "$:/tags/ImportPreview",
            "caption": "{{$:/language/Import/Listing/Preview/TextRaw}}",
            "text": "&lt;pre&gt;&lt;code&gt;&lt;$view tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;payloadTiddler&gt;&gt; /&gt;&lt;/code&gt;&lt;/pre&gt;"
        },
        "$:/core/ui/KeyboardShortcuts/advanced-search": {
            "title": "$:/core/ui/KeyboardShortcuts/advanced-search",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((advanced-search))",
            "text": "&lt;$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\"&gt;\n&lt;$action-navigate $to=\"$:/AdvancedSearch\"/&gt;\n&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\"\"\"[data-tiddler-title=\"$:/AdvancedSearch\"] .tc-search input\"\"\" preventScroll=\"true\"/&gt;\n&lt;/$navigator&gt;\n"
        },
        "$:/core/ui/KeyboardShortcuts/change-sidebar-layout": {
            "title": "$:/core/ui/KeyboardShortcuts/change-sidebar-layout",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((change-sidebar-layout))",
            "text": "&lt;$list filter=\"[{$:/themes/tiddlywiki/vanilla/options/sidebarlayout}match[fixed-fluid]]\" \nemptyMessage=\"\"\"&lt;$action-setfield $tiddler=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\" text=\"fixed-fluid\"/&gt;\"\"\"&gt;\n&lt;$action-setfield $tiddler=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\" text=\"fluid-fixed\"/&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/KeyboardShortcuts/new-image": {
            "title": "$:/core/ui/KeyboardShortcuts/new-image",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((new-image))",
            "text": "&lt;$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}&gt;\n{{$:/core/ui/Actions/new-image}}\n&lt;/$navigator&gt;\n"
        },
        "$:/core/ui/KeyboardShortcuts/new-journal": {
            "title": "$:/core/ui/KeyboardShortcuts/new-journal",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((new-journal))",
            "text": "&lt;$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}&gt;\n{{$:/core/ui/Actions/new-journal}}\n&lt;/$navigator&gt;\n"
        },
        "$:/core/ui/KeyboardShortcuts/new-tiddler": {
            "title": "$:/core/ui/KeyboardShortcuts/new-tiddler",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((new-tiddler))",
            "text": "&lt;$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}&gt;\n{{$:/core/ui/Actions/new-tiddler}}\n&lt;/$navigator&gt;\n"
        },
        "$:/core/ui/KeyboardShortcuts/save-wiki": {
            "title": "$:/core/ui/KeyboardShortcuts/save-wiki",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((save-wiki))",
            "text": "&lt;$wikify name=\"site-title\" text={{$:/config/SaveWikiButton/Filename}}&gt;\n&lt;$action-sendmessage $message=\"tm-save-wiki\" $param={{$:/config/SaveWikiButton/Template}} filename=&lt;&lt;site-title&gt;&gt;/&gt;\n&lt;/$wikify&gt;\n"
        },
        "$:/core/ui/KeyboardShortcuts/sidebar-search": {
            "title": "$:/core/ui/KeyboardShortcuts/sidebar-search",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((sidebar-search))",
            "text": "&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\".tc-search input\"/&gt;\n"
        },
        "$:/core/ui/KeyboardShortcuts/switcher": {
            "title": "$:/core/ui/KeyboardShortcuts/switcher",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((layout-switcher))",
            "text": "&lt;$action-sendmessage $message=\"tm-show-switcher\" switch=\"layout\"/&gt;"
        },
        "$:/core/ui/KeyboardShortcuts/toggle-sidebar": {
            "title": "$:/core/ui/KeyboardShortcuts/toggle-sidebar",
            "tags": "$:/tags/KeyboardShortcut",
            "key": "((toggle-sidebar))",
            "text": "&lt;$list filter=\"[[$:/state/sidebar]is[missing]] [{$:/state/sidebar}removeprefix[yes]]\" emptyMessage=\"\"\"\n&lt;$action-setfield $tiddler=\"$:/state/sidebar\" text=\"yes\"/&gt;\n\"\"\"&gt;\n&lt;$action-setfield $tiddler=\"$:/state/sidebar\" text=\"no\"/&gt;\n&lt;/$list&gt;\n"
        },
        "$:/snippets/LayoutSwitcher": {
            "title": "$:/snippets/LayoutSwitcher",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/LayoutSwitcher/Caption}}",
            "text": "&lt;$linkcatcher to=\"$:/layout\"&gt;\n&lt;div class=\"tc-chooser\"&gt;\n&lt;$list filter=\"[all[tiddlers+shadows]tag[$:/tags/Layout]] [[$:/core/ui/PageTemplate]] +[!is[draft]sort[name]]\"&gt;\n&lt;$list filter=\"[{$:/layout}!has[text]]\" variable=\"ignore\" emptyMessage=\"\"\"\n&lt;$set name=\"cls\" filter=\"[all[current]field:title{$:/layout}]\" value=\"tc-chooser-item tc-chosen\" emptyValue=\"tc-chooser-item\"&gt;&lt;div class=&lt;&lt;cls&gt;&gt;&gt;&lt;$link to={{!!title}}&gt;''&lt;$transclude field=\"name\"/&gt;'' - &lt;$transclude field=\"description\"/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$set&gt;\n\"\"\"&gt;\n&lt;$set name=\"cls\" filter=\"[all[current]field:title[$:/core/ui/PageTemplate]]\" value=\"tc-chooser-item tc-chosen\" emptyValue=\"tc-chooser-item\"&gt;&lt;div class=&lt;&lt;cls&gt;&gt;&gt;&lt;$link to={{!!title}}&gt;''&lt;$transclude field=\"name\"/&gt;'' - &lt;$transclude field=\"description\"/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;\n"
        },
        "$:/core/ui/ListItemTemplate": {
            "title": "$:/core/ui/ListItemTemplate",
            "text": "&lt;div class=\"tc-menu-list-item\"&gt;\n&lt;$link /&gt;\n&lt;/div&gt;"
        },
        "$:/Manager/ItemMain/Fields": {
            "title": "$:/Manager/ItemMain/Fields",
            "tags": "$:/tags/Manager/ItemMain",
            "caption": "{{$:/language/Manager/Item/Fields}}",
            "text": "&lt;table&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[current]fields[]sort[title]] -text\" template=\"$:/core/ui/TiddlerFieldTemplate\" variable=\"listItem\"/&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/Manager/ItemMain/RawText": {
            "title": "$:/Manager/ItemMain/RawText",
            "tags": "$:/tags/Manager/ItemMain",
            "caption": "{{$:/language/Manager/Item/RawText}}",
            "text": "&lt;pre&gt;&lt;code&gt;&lt;$view/&gt;&lt;/code&gt;&lt;/pre&gt;\n"
        },
        "$:/Manager/ItemMain/WikifiedText": {
            "title": "$:/Manager/ItemMain/WikifiedText",
            "tags": "$:/tags/Manager/ItemMain",
            "caption": "{{$:/language/Manager/Item/WikifiedText}}",
            "text": "&lt;$transclude mode=\"block\"/&gt;\n"
        },
        "$:/Manager/ItemSidebar/Colour": {
            "title": "$:/Manager/ItemSidebar/Colour",
            "tags": "$:/tags/Manager/ItemSidebar",
            "caption": "{{$:/language/Manager/Item/Colour}}",
            "text": "\\define swatch-styles()\nheight: 1em;\nbackground-color: $(colour)$\n\\end\n\n&lt;$vars colour={{!!color}}&gt;\n&lt;p style=&lt;&lt;swatch-styles&gt;&gt;/&gt;\n&lt;/$vars&gt;\n&lt;p&gt;\n&lt;$edit-text field=\"color\" tag=\"input\" type=\"color\"/&gt; / &lt;$edit-text field=\"color\" tag=\"input\" type=\"text\" size=\"9\"/&gt;\n&lt;/p&gt;\n"
        },
        "$:/Manager/ItemSidebar/Icon": {
            "title": "$:/Manager/ItemSidebar/Icon",
            "tags": "$:/tags/Manager/ItemSidebar",
            "caption": "{{$:/language/Manager/Item/Icon}}",
            "text": "&lt;p&gt;\n&lt;div class=\"tc-manager-icon-editor\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/image-picker\"&gt;&gt; class=\"tc-btn-invisible\"&gt;\n&lt;$transclude tiddler={{!!icon}}&gt;\n{{$:/language/Manager/Item/Icon/None}}\n&lt;/$transclude&gt;\n&lt;/$button&gt;\n&lt;div class=\"tc-block-dropdown-wrapper\" style=\"position: static;\"&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/image-picker\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\" tag=\"div\" class=\"tc-popup\"&gt;\n&lt;div class=\"tc-block-dropdown tc-popup-keep\" style=\"width: 80%; left: 10%; right: 10%; padding: 0.5em;\"&gt;\n&lt;$macrocall $name=\"image-picker-include-tagged-images\" actions=\"\"\"\n&lt;$action-setfield $field=\"icon\" $value=&lt;&lt;imageTitle&gt;&gt;/&gt;\n&lt;$action-deletetiddler $tiddler=&lt;&lt;qualify \"$:/state/popup/image-picker\"&gt;&gt;/&gt;\n\"\"\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/p&gt;\n"
        },
        "$:/Manager/ItemSidebar/Tags": {
            "title": "$:/Manager/ItemSidebar/Tags",
            "tags": "$:/tags/Manager/ItemSidebar",
            "caption": "{{$:/language/Manager/Item/Tags}}",
            "text": "\\whitespace trim\n\\define tag-checkbox-actions()\n&lt;$action-listops\n\t$tiddler=\"$:/config/Manager/RecentTags\"\n\t$subfilter=\"[&lt;tag&gt;] [list[$:/config/Manager/RecentTags]] +[limit[12]]\"\n/&gt;\n\\end\n\n\\define tag-picker-actions()\n&lt;&lt;tag-checkbox-actions&gt;&gt;\n\\end\n\n&lt;p&gt;\n&lt;$list filter=\"[all[current]tags[]] [list[$:/config/Manager/RecentTags]] +[sort[title]] \" variable=\"tag\" storyview=\"pop\"&gt;\n&lt;div&gt;\n&lt;$checkbox tiddler=&lt;&lt;currentTiddler&gt;&gt; tag=&lt;&lt;tag&gt;&gt; actions=&lt;&lt;tag-checkbox-actions&gt;&gt;&gt;\n&lt;$macrocall $name=\"tag-pill\" tag=&lt;&lt;tag&gt;&gt;/&gt;\n&lt;/$checkbox&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/p&gt;\n&lt;p&gt;\n&lt;$fieldmangler&gt;\n&lt;$macrocall $name=\"tag-picker\" actions=&lt;&lt;tag-picker-actions&gt;&gt;/&gt;\n&lt;/$fieldmangler&gt;\n&lt;/p&gt;\n"
        },
        "$:/Manager/ItemSidebar/Tools": {
            "title": "$:/Manager/ItemSidebar/Tools",
            "tags": "$:/tags/Manager/ItemSidebar",
            "caption": "{{$:/language/Manager/Item/Tools}}",
            "text": "&lt;p&gt;\n&lt;$button to=&lt;&lt;currentTiddler&gt;&gt;&gt;{{$:/core/images/link}} open&lt;/$button&gt;\n&lt;/p&gt;\n&lt;p&gt;\n&lt;$button message=\"tm-edit-tiddler\" param=&lt;&lt;currentTiddler&gt;&gt;&gt;{{$:/core/images/edit-button}} edit&lt;/$button&gt;\n&lt;/p&gt;\n"
        },
        "$:/Manager": {
            "title": "$:/Manager",
            "icon": "$:/core/images/list",
            "color": "#bbb",
            "text": "\\define lingo-base() $:/language/Manager/\n\n\\define list-item-content-item()\n&lt;div class=\"tc-manager-list-item-content-item\"&gt;\n\t&lt;$vars state-title=\"\"\"$:/state/popup/manager/item/$(listItem)$\"\"\"&gt;\n\t\t&lt;$reveal state=&lt;&lt;state-title&gt;&gt; type=\"match\" text=\"show\" default=\"show\" tag=\"div\"&gt;\n\t\t\t&lt;$button set=&lt;&lt;state-title&gt;&gt; setTo=\"hide\" class=\"tc-btn-invisible tc-manager-list-item-content-item-heading\"&gt;\n\t\t\t\t{{$:/core/images/down-arrow}} &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\"caption\"/&gt;\n\t\t\t&lt;/$button&gt;\n\t\t&lt;/$reveal&gt;\n\t\t&lt;$reveal state=&lt;&lt;state-title&gt;&gt; type=\"nomatch\" text=\"show\" default=\"show\" tag=\"div\"&gt;\n\t\t\t&lt;$button set=&lt;&lt;state-title&gt;&gt; setTo=\"show\" class=\"tc-btn-invisible tc-manager-list-item-content-item-heading\"&gt;\n\t\t\t\t{{$:/core/images/right-arrow}} &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\"caption\"/&gt;\n\t\t\t&lt;/$button&gt;\n\t\t&lt;/$reveal&gt;\n\t\t&lt;$reveal state=&lt;&lt;state-title&gt;&gt; type=\"match\" text=\"show\" default=\"show\" tag=\"div\" class=\"tc-manager-list-item-content-item-body\"&gt;\n\t\t\t&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\t\t&lt;/$reveal&gt;\n\t&lt;/$vars&gt;\n&lt;/div&gt;\n\\end\n\n&lt;div class=\"tc-manager-wrapper\"&gt;\n\t&lt;div class=\"tc-manager-controls\"&gt;\n\t\t&lt;div class=\"tc-manager-control\"&gt;\n\t\t\t&lt;&lt;lingo Controls/Show/Prompt&gt;&gt; &lt;$select tiddler=\"$:/config/Manager/Show\" default=\"tiddlers\"&gt;\n\t\t\t\t&lt;option value=\"tiddlers\"&gt;&lt;&lt;lingo Controls/Show/Option/Tiddlers&gt;&gt;&lt;/option&gt;\n\t\t\t\t&lt;option value=\"tags\"&gt;&lt;&lt;lingo Controls/Show/Option/Tags&gt;&gt;&lt;/option&gt;\n\t\t\t&lt;/$select&gt;\n\t\t&lt;/div&gt;\n\t\t&lt;div class=\"tc-manager-control\"&gt;\n\t\t\t&lt;&lt;lingo Controls/Search/Prompt&gt;&gt; &lt;$edit-text tiddler=\"$:/config/Manager/Filter\" tag=\"input\" default=\"\" placeholder={{$:/language/Manager/Controls/Search/Placeholder}}/&gt;\n\t\t&lt;/div&gt;\n\t\t&lt;div class=\"tc-manager-control\"&gt;\n\t\t\t&lt;&lt;lingo Controls/FilterByTag/Prompt&gt;&gt; &lt;$select tiddler=\"$:/config/Manager/Tag\" default=\"\"&gt;\n\t\t\t\t&lt;option value=\"\"&gt;&lt;&lt;lingo Controls/FilterByTag/None&gt;&gt;&lt;/option&gt;\n\t\t\t\t&lt;$list filter=\"[!is{$:/config/Manager/System}tags[]!is[system]sort[title]]\" variable=\"tag\"&gt;\n\t\t\t\t\t&lt;option value=&lt;&lt;tag&gt;&gt;&gt;&lt;$text text=&lt;&lt;tag&gt;&gt;/&gt;&lt;/option&gt;\n\t\t\t\t&lt;/$list&gt;\n\t\t\t&lt;/$select&gt;\n\t\t&lt;/div&gt;\n\t\t&lt;div class=\"tc-manager-control\"&gt;\n\t\t\t&lt;&lt;lingo Controls/Sort/Prompt&gt;&gt; &lt;$select tiddler=\"$:/config/Manager/Sort\" default=\"title\"&gt;\n\t\t\t\t&lt;optgroup label=\"Common\"&gt;\n\t\t\t\t\t&lt;$list filter=\"title modified modifier created creator created\" variable=\"field\"&gt;\n\t\t\t\t\t\t&lt;option value=&lt;&lt;field&gt;&gt;&gt;&lt;$text text=&lt;&lt;field&gt;&gt;/&gt;&lt;/option&gt;\n\t\t\t\t\t&lt;/$list&gt;\n\t\t\t\t&lt;/optgroup&gt;\n\t\t\t\t&lt;optgroup label=\"All\"&gt;\n\t\t\t\t\t&lt;$list filter=\"[all{$:/config/Manager/Show}!is{$:/config/Manager/System}fields[]sort[title]] -title -modified -modifier -created -creator -created\" variable=\"field\"&gt;\n\t\t\t\t\t\t&lt;option value=&lt;&lt;field&gt;&gt;&gt;&lt;$text text=&lt;&lt;field&gt;&gt;/&gt;&lt;/option&gt;\n\t\t\t\t\t&lt;/$list&gt;\n\t\t\t\t&lt;/optgroup&gt;\n\t\t\t&lt;/$select&gt;\n\t\t\t&lt;$checkbox tiddler=\"$:/config/Manager/Order\" field=\"text\" checked=\"reverse\" unchecked=\"forward\" default=\"forward\"&gt;\n\t\t\t\t&lt;&lt;lingo Controls/Order/Prompt&gt;&gt;\n\t\t\t&lt;/$checkbox&gt;\n\t\t&lt;/div&gt;\n\t\t&lt;div class=\"tc-manager-control\"&gt;\n\t\t\t&lt;$checkbox tiddler=\"$:/config/Manager/System\" field=\"text\" checked=\"\" unchecked=\"system\" default=\"system\"&gt;\n\t\t\t\t{{$:/language/SystemTiddlers/Include/Prompt}}\n\t\t\t&lt;/$checkbox&gt;\n\t\t&lt;/div&gt;\n\t&lt;/div&gt;\n\t&lt;div class=\"tc-manager-list\"&gt;\n\t\t&lt;$list filter=\"[all{$:/config/Manager/Show}!is{$:/config/Manager/System}search{$:/config/Manager/Filter}tag:strict{$:/config/Manager/Tag}sort{$:/config/Manager/Sort}order{$:/config/Manager/Order}]\"&gt;\n\t\t\t&lt;$vars transclusion=&lt;&lt;currentTiddler&gt;&gt;&gt;\n\t\t\t\t&lt;div style=\"tc-manager-list-item\"&gt;\n\t\t\t\t\t&lt;$button popup=&lt;&lt;qualify \"$:/state/manager/popup\"&gt;&gt; class=\"tc-btn-invisible tc-manager-list-item-heading\" selectedClass=\"tc-manager-list-item-heading-selected\"&gt;\n\t\t\t\t\t\t&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n\t\t\t\t\t&lt;/$button&gt;\n\t\t\t\t\t&lt;$reveal state=&lt;&lt;qualify \"$:/state/manager/popup\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\" tag=\"div\" class=\"tc-manager-list-item-content tc-popup-handle\"&gt;\n\t\t\t\t\t\t&lt;div class=\"tc-manager-list-item-content-tiddler\"&gt;\n\t\t\t\t\t\t\t&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Manager/ItemMain]!has[draft.of]]\" variable=\"listItem\"&gt;\n\t\t\t\t\t\t\t\t&lt;&lt;list-item-content-item&gt;&gt;\n\t\t\t\t\t\t\t&lt;/$list&gt;\n\t\t\t\t\t\t&lt;/div&gt;\n\t\t\t\t\t\t&lt;div class=\"tc-manager-list-item-content-sidebar\"&gt;\n\t\t\t\t\t\t\t&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Manager/ItemSidebar]!has[draft.of]]\" variable=\"listItem\"&gt;\n\t\t\t\t\t\t\t\t&lt;&lt;list-item-content-item&gt;&gt;\n\t\t\t\t\t\t\t&lt;/$list&gt;\n\t\t\t\t\t\t&lt;/div&gt;\n\t\t\t\t\t&lt;/$reveal&gt;\n\t\t\t\t&lt;/div&gt;\n\t\t\t&lt;/$vars&gt;\n\t\t&lt;/$list&gt;\n\t&lt;/div&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/MissingTemplate": {
            "title": "$:/core/ui/MissingTemplate",
            "text": "&lt;div class=\"tc-tiddler-missing\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/missing\"&gt;&gt; class=\"tc-btn-invisible tc-missing-tiddler-label\"&gt;\n&lt;$view field=\"title\" format=\"text\" /&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/missing\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;hr&gt;\n&lt;$list filter=\"[all[current]backlinks[]sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/MoreSideBar/All": {
            "title": "$:/core/ui/MoreSideBar/All",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/All/Caption}}",
            "text": "&lt;$list filter={{$:/core/Filters/AllTiddlers!!filter}} template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Drafts": {
            "title": "$:/core/ui/MoreSideBar/Drafts",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Drafts/Caption}}",
            "text": "&lt;$list filter={{$:/core/Filters/Drafts!!filter}} template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Explorer": {
            "title": "$:/core/ui/MoreSideBar/Explorer",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Explorer/Caption}}",
            "text": "&lt;&lt;tree \"$:/\"&gt;&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Missing": {
            "title": "$:/core/ui/MoreSideBar/Missing",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Missing/Caption}}",
            "text": "&lt;$list filter={{$:/core/Filters/Missing!!filter}} template=\"$:/core/ui/MissingTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Orphans": {
            "title": "$:/core/ui/MoreSideBar/Orphans",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Orphans/Caption}}",
            "text": "&lt;$list filter={{$:/core/Filters/Orphans!!filter}} template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Plugins": {
            "title": "$:/core/ui/MoreSideBar/Plugins",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/ControlPanel/Plugins/Caption}}",
            "text": "\n{{$:/language/ControlPanel/Plugins/Installed/Hint}}\n\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/MoreSideBar/Plugins]!has[draft.of]]\" default=\"$:/core/ui/MoreSideBar/Plugins/Plugins\" explicitState=\"$:/state/tab-1163638994\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Recent": {
            "title": "$:/core/ui/MoreSideBar/Recent",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Recent/Caption}}",
            "text": "&lt;$macrocall $name=\"timeline\" format={{$:/language/RecentChanges/DateFormat}}/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Shadows": {
            "title": "$:/core/ui/MoreSideBar/Shadows",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Shadows/Caption}}",
            "text": "&lt;$list filter={{$:/core/Filters/ShadowTiddlers!!filter}} template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/System": {
            "title": "$:/core/ui/MoreSideBar/System",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/System/Caption}}",
            "text": "&lt;$list filter={{$:/core/Filters/SystemTiddlers!!filter}} template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Tags": {
            "title": "$:/core/ui/MoreSideBar/Tags",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Tags/Caption}}",
            "text": "&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" value=\"\"&gt;\n\n{{$:/core/ui/Buttons/tag-manager}}\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;$list filter={{$:/core/Filters/AllTags!!filter}}&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/TagTemplate\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;hr class=\"tc-untagged-separator\"&gt;\n\n{{$:/core/ui/UntaggedTemplate}}\n"
        },
        "$:/core/ui/MoreSideBar/Types": {
            "title": "$:/core/ui/MoreSideBar/Types",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Types/Caption}}",
            "text": "&lt;$list filter={{$:/core/Filters/TypedTiddlers!!filter}}&gt;\n&lt;div class=\"tc-menu-list-item\"&gt;\n&lt;$view field=\"type\"/&gt;\n&lt;$list filter=\"[type{!!type}!is[system]sort[title]]\"&gt;\n&lt;div class=\"tc-menu-list-subitem\"&gt;\n&lt;$link to={{!!title}}&gt;&lt;$view field=\"title\"/&gt;&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Plugins/Languages": {
            "title": "$:/core/ui/MoreSideBar/Plugins/Languages",
            "tags": "$:/tags/MoreSideBar/Plugins",
            "caption": "{{$:/language/ControlPanel/Plugins/Languages/Caption}}",
            "text": "&lt;$list filter=\"[!has[draft.of]plugin-type[language]sort[description]]\" template=\"$:/core/ui/PluginListItemTemplate\" emptyMessage={{$:/language/ControlPanel/Plugins/Empty/Hint}}/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Plugins/Plugins": {
            "title": "$:/core/ui/MoreSideBar/Plugins/Plugins",
            "tags": "$:/tags/MoreSideBar/Plugins",
            "caption": "{{$:/language/ControlPanel/Plugins/Plugins/Caption}}",
            "text": "&lt;$list filter=\"[!has[draft.of]plugin-type[plugin]sort[description]]\" template=\"$:/core/ui/PluginListItemTemplate\" emptyMessage={{$:/language/ControlPanel/Plugins/Empty/Hint}}&gt;&gt;/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Plugins/Theme": {
            "title": "$:/core/ui/MoreSideBar/Plugins/Theme",
            "tags": "$:/tags/MoreSideBar/Plugins",
            "caption": "{{$:/language/ControlPanel/Plugins/Themes/Caption}}",
            "text": "&lt;$list filter=\"[!has[draft.of]plugin-type[theme]sort[description]]\" template=\"$:/core/ui/PluginListItemTemplate\" emptyMessage={{$:/language/ControlPanel/Plugins/Empty/Hint}}/&gt;\n"
        },
        "$:/core/ui/Buttons/advanced-search": {
            "title": "$:/core/ui/Buttons/advanced-search",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/advanced-search-button}} {{$:/language/Buttons/AdvancedSearch/Caption}}",
            "description": "{{$:/language/Buttons/AdvancedSearch/Hint}}",
            "text": "\\whitespace trim\n\\define advanced-search-button(class)\n&lt;$button to=\"$:/AdvancedSearch\" tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\"\"\"$(tv-config-toolbar-class)$ $class$\"\"\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/AdvancedSearch/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\"[list[$:/StoryList]] +[field:title[$:/AdvancedSearch]]\" emptyMessage=&lt;&lt;advanced-search-button&gt;&gt;&gt;\n&lt;&lt;advanced-search-button \"tc-selected\"&gt;&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/Buttons/close-all": {
            "title": "$:/core/ui/Buttons/close-all",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/close-all-button}} {{$:/language/Buttons/CloseAll/Caption}}",
            "description": "{{$:/language/Buttons/CloseAll/Hint}}",
            "text": "&lt;$button message=\"tm-close-all-tiddlers\" tooltip={{$:/language/Buttons/CloseAll/Hint}} aria-label={{$:/language/Buttons/CloseAll/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/close-all-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/CloseAll/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/control-panel": {
            "title": "$:/core/ui/Buttons/control-panel",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/options-button}} {{$:/language/Buttons/ControlPanel/Caption}}",
            "description": "{{$:/language/Buttons/ControlPanel/Hint}}",
            "text": "\\whitespace trim\n\\define control-panel-button(class)\n&lt;$button to=\"$:/ControlPanel\" tooltip={{$:/language/Buttons/ControlPanel/Hint}} aria-label={{$:/language/Buttons/ControlPanel/Caption}} class=\"\"\"$(tv-config-toolbar-class)$ $class$\"\"\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/options-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/ControlPanel/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\"[list[$:/StoryList]] +[field:title[$:/ControlPanel]]\" emptyMessage=&lt;&lt;control-panel-button&gt;&gt;&gt;\n&lt;&lt;control-panel-button \"tc-selected\"&gt;&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/Buttons/encryption": {
            "title": "$:/core/ui/Buttons/encryption",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/locked-padlock}} {{$:/language/Buttons/Encryption/Caption}}",
            "description": "{{$:/language/Buttons/Encryption/Hint}}",
            "text": "\\whitespace trim\n&lt;$reveal type=\"match\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n&lt;$button message=\"tm-clear-password\" tooltip={{$:/language/Buttons/Encryption/ClearPassword/Hint}} aria-label={{$:/language/Buttons/Encryption/ClearPassword/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/locked-padlock}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Encryption/ClearPassword/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"nomatch\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n&lt;$button message=\"tm-set-password\" tooltip={{$:/language/Buttons/Encryption/SetPassword/Hint}} aria-label={{$:/language/Buttons/Encryption/SetPassword/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/unlocked-padlock}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Encryption/SetPassword/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/Buttons/export-page": {
            "title": "$:/core/ui/Buttons/export-page",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/export-button}} {{$:/language/Buttons/ExportPage/Caption}}",
            "description": "{{$:/language/Buttons/ExportPage/Hint}}",
            "text": "&lt;$macrocall $name=\"exportButton\" exportFilter=\"[!is[system]sort[title]]\" lingoBase=\"$:/language/Buttons/ExportPage/\"/&gt;"
        },
        "$:/core/ui/Buttons/fold-all": {
            "title": "$:/core/ui/Buttons/fold-all",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/fold-all-button}} {{$:/language/Buttons/FoldAll/Caption}}",
            "description": "{{$:/language/Buttons/FoldAll/Hint}}",
            "text": "&lt;$button tooltip={{$:/language/Buttons/FoldAll/Hint}} aria-label={{$:/language/Buttons/FoldAll/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-fold-all-tiddlers\" $param=&lt;&lt;currentTiddler&gt;&gt; foldedStatePrefix=\"$:/state/folded/\"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\" variable=\"listItem\"&gt;\n{{$:/core/images/fold-all-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/FoldAll/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/full-screen": {
            "title": "$:/core/ui/Buttons/full-screen",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/full-screen-button}} {{$:/language/Buttons/FullScreen/Caption}}",
            "description": "{{$:/language/Buttons/FullScreen/Hint}}",
            "text": "&lt;$button message=\"tm-full-screen\" tooltip={{$:/language/Buttons/FullScreen/Hint}} aria-label={{$:/language/Buttons/FullScreen/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/full-screen-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/FullScreen/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/home": {
            "title": "$:/core/ui/Buttons/home",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/home-button}} {{$:/language/Buttons/Home/Caption}}",
            "description": "{{$:/language/Buttons/Home/Hint}}",
            "text": "&lt;$button message=\"tm-home\" tooltip={{$:/language/Buttons/Home/Hint}} aria-label={{$:/language/Buttons/Home/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/home-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Home/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/import": {
            "title": "$:/core/ui/Buttons/import",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/import-button}} {{$:/language/Buttons/Import/Caption}}",
            "description": "{{$:/language/Buttons/Import/Hint}}",
            "text": "&lt;div class=\"tc-file-input-wrapper\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/Import/Hint}} aria-label={{$:/language/Buttons/Import/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/import-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Import/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;$browse tooltip={{$:/language/Buttons/Import/Hint}}/&gt;\n&lt;/div&gt;"
        },
        "$:/core/ui/Buttons/language": {
            "title": "$:/core/ui/Buttons/language",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/globe}} {{$:/language/Buttons/Language/Caption}}",
            "description": "{{$:/language/Buttons/Language/Hint}}",
            "text": "\\whitespace trim\n\\define flag-title()\n$(languagePluginTitle)$/icon\n\\end\n&lt;span class=\"tc-popup-keep\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/language\"&gt;&gt; tooltip={{$:/language/Buttons/Language/Hint}} aria-label={{$:/language/Buttons/Language/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-image-button\"&gt;\n&lt;$set name=\"languagePluginTitle\" value={{$:/language}}&gt;\n&lt;$image source=&lt;&lt;flag-title&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Language/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/language\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n{{$:/snippets/languageswitcher}}\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/Buttons/manager": {
            "title": "$:/core/ui/Buttons/manager",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/list}} {{$:/language/Buttons/Manager/Caption}}",
            "description": "{{$:/language/Buttons/Manager/Hint}}",
            "text": "\\whitespace trim\n\\define manager-button(class)\n&lt;$button to=\"$:/Manager\" tooltip={{$:/language/Buttons/Manager/Hint}} aria-label={{$:/language/Buttons/Manager/Caption}} class=\"\"\"$(tv-config-toolbar-class)$ $class$\"\"\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/list}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Manager/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\"[list[$:/StoryList]] +[field:title[$:/Manager]]\" emptyMessage=&lt;&lt;manager-button&gt;&gt;&gt;\n&lt;&lt;manager-button \"tc-selected\"&gt;&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/Buttons/more-page-actions": {
            "title": "$:/core/ui/Buttons/more-page-actions",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/down-arrow}} {{$:/language/Buttons/More/Caption}}",
            "description": "{{$:/language/Buttons/More/Hint}}",
            "text": "\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/more\"&gt;&gt; tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/More/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/more\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n\n&lt;div class=\"tc-drop-down\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" value=\"tc-btn-invisible\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]] -[[$:/core/ui/Buttons/more-page-actions]]\" variable=\"listItem\"&gt;\n\n&lt;$reveal type=\"match\" state=&lt;&lt;config-title&gt;&gt; text=\"hide\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" filter=\"[&lt;tv-config-toolbar-class&gt;] [&lt;listItem&gt;encodeuricomponent[]addprefix[tc-btn-]]\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n\n&lt;/$set&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;"
        },
        "$:/core/ui/Buttons/new-image": {
            "title": "$:/core/ui/Buttons/new-image",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/new-image-button}} {{$:/language/Buttons/NewImage/Caption}}",
            "description": "{{$:/language/Buttons/NewImage/Hint}}",
            "text": "\\whitespace trim\n&lt;$button tooltip={{$:/language/Buttons/NewImage/Hint}} aria-label={{$:/language/Buttons/NewImage/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; actions={{$:/core/ui/Actions/new-image}}&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/new-image-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/NewImage/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n"
        },
        "$:/core/ui/Buttons/new-journal": {
            "title": "$:/core/ui/Buttons/new-journal",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/new-journal-button}} {{$:/language/Buttons/NewJournal/Caption}}",
            "description": "{{$:/language/Buttons/NewJournal/Hint}}",
            "text": "\\whitespace trim\n\\define journalButton()\n&lt;$button tooltip={{$:/language/Buttons/NewJournal/Hint}} aria-label={{$:/language/Buttons/NewJournal/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; actions={{$:/core/ui/Actions/new-journal}}&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/new-journal-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/NewJournal/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;&lt;journalButton&gt;&gt;\n"
        },
        "$:/core/ui/Buttons/new-tiddler": {
            "title": "$:/core/ui/Buttons/new-tiddler",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/new-button}} {{$:/language/Buttons/NewTiddler/Caption}}",
            "description": "{{$:/language/Buttons/NewTiddler/Hint}}",
            "text": "\\whitespace trim\n&lt;$button actions={{$:/core/ui/Actions/new-tiddler}} tooltip={{$:/language/Buttons/NewTiddler/Hint}} aria-label={{$:/language/Buttons/NewTiddler/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/new-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/NewTiddler/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n"
        },
        "$:/core/ui/Buttons/palette": {
            "title": "$:/core/ui/Buttons/palette",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/palette}} {{$:/language/Buttons/Palette/Caption}}",
            "description": "{{$:/language/Buttons/Palette/Hint}}",
            "text": "\\whitespace trim\n&lt;span class=\"tc-popup-keep\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/palette\"&gt;&gt; tooltip={{$:/language/Buttons/Palette/Hint}} aria-label={{$:/language/Buttons/Palette/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/palette}}\n&lt;/$list&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Palette/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/palette\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tc-drop-down\" style=\"font-size:0.7em;\"&gt;\n{{$:/snippets/paletteswitcher}}\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/Buttons/print": {
            "title": "$:/core/ui/Buttons/print",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/print-button}} {{$:/language/Buttons/Print/Caption}}",
            "description": "{{$:/language/Buttons/Print/Hint}}",
            "text": "&lt;$button message=\"tm-print\" tooltip={{$:/language/Buttons/Print/Hint}} aria-label={{$:/language/Buttons/Print/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/print-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Print/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/refresh": {
            "title": "$:/core/ui/Buttons/refresh",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/refresh-button}} {{$:/language/Buttons/Refresh/Caption}}",
            "description": "{{$:/language/Buttons/Refresh/Hint}}",
            "text": "&lt;$button message=\"tm-browser-refresh\" tooltip={{$:/language/Buttons/Refresh/Hint}} aria-label={{$:/language/Buttons/Refresh/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/refresh-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Refresh/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/save-wiki": {
            "title": "$:/core/ui/Buttons/save-wiki",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/save-button}} {{$:/language/Buttons/SaveWiki/Caption}}",
            "description": "{{$:/language/Buttons/SaveWiki/Hint}}",
            "text": "&lt;$button tooltip={{$:/language/Buttons/SaveWiki/Hint}} aria-label={{$:/language/Buttons/SaveWiki/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$wikify name=\"site-title\" text={{$:/config/SaveWikiButton/Filename}}&gt;\n&lt;$action-sendmessage $message=\"tm-save-wiki\" $param={{$:/config/SaveWikiButton/Template}} filename=&lt;&lt;site-title&gt;&gt;/&gt;\n&lt;/$wikify&gt;\n&lt;span class=\"tc-dirty-indicator\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/save-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/SaveWiki/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/span&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/storyview": {
            "title": "$:/core/ui/Buttons/storyview",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/storyview-classic}} {{$:/language/Buttons/StoryView/Caption}}",
            "description": "{{$:/language/Buttons/StoryView/Hint}}",
            "text": "\\whitespace trim\n\\define icon()\n$:/core/images/storyview-$(storyview)$\n\\end\n&lt;span class=\"tc-popup-keep\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/storyview\"&gt;&gt; tooltip={{$:/language/Buttons/StoryView/Hint}} aria-label={{$:/language/Buttons/StoryView/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n&lt;$set name=\"storyview\" value={{$:/view}}&gt;\n&lt;$transclude tiddler=&lt;&lt;icon&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/StoryView/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/storyview\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n{{$:/snippets/viewswitcher}}\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/Buttons/tag-manager": {
            "title": "$:/core/ui/Buttons/tag-manager",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/tag-button}} {{$:/language/Buttons/TagManager/Caption}}",
            "description": "{{$:/language/Buttons/TagManager/Hint}}",
            "text": "\\whitespace trim\n\\define control-panel-button(class)\n&lt;$button to=\"$:/TagManager\" tooltip={{$:/language/Buttons/TagManager/Hint}} aria-label={{$:/language/Buttons/TagManager/Caption}} class=\"\"\"$(tv-config-toolbar-class)$ $class$\"\"\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/tag-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/TagManager/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\"[list[$:/StoryList]] +[field:title[$:/TagManager]]\" emptyMessage=&lt;&lt;control-panel-button&gt;&gt;&gt;\n&lt;&lt;control-panel-button \"tc-selected\"&gt;&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/Buttons/theme": {
            "title": "$:/core/ui/Buttons/theme",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/theme-button}} {{$:/language/Buttons/Theme/Caption}}",
            "description": "{{$:/language/Buttons/Theme/Hint}}",
            "text": "\\whitespace trim\n&lt;span class=\"tc-popup-keep\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/theme\"&gt;&gt; tooltip={{$:/language/Buttons/Theme/Hint}} aria-label={{$:/language/Buttons/Theme/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/theme-button}}\n&lt;/$list&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Theme/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/theme\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n&lt;$linkcatcher to=\"$:/theme\"&gt;\n{{$:/snippets/themeswitcher}}\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/Buttons/timestamp": {
            "title": "$:/core/ui/Buttons/timestamp",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/timestamp-on}} {{$:/language/Buttons/Timestamp/Caption}}",
            "description": "{{$:/language/Buttons/Timestamp/Hint}}",
            "text": "\\whitespace trim\n&lt;$reveal type=\"nomatch\" state=\"$:/config/TimestampDisable\" text=\"yes\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/Timestamp/On/Hint}} aria-label={{$:/language/Buttons/Timestamp/On/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-setfield $tiddler=\"$:/config/TimestampDisable\" $value=\"yes\"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/timestamp-on}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Timestamp/On/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=\"$:/config/TimestampDisable\" text=\"yes\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/Timestamp/Off/Hint}} aria-label={{$:/language/Buttons/Timestamp/Off/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-setfield $tiddler=\"$:/config/TimestampDisable\" $value=\"no\"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/timestamp-off}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/Timestamp/Off/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/Buttons/unfold-all": {
            "title": "$:/core/ui/Buttons/unfold-all",
            "tags": "$:/tags/PageControls",
            "caption": "{{$:/core/images/unfold-all-button}} {{$:/language/Buttons/UnfoldAll/Caption}}",
            "description": "{{$:/language/Buttons/UnfoldAll/Hint}}",
            "text": "&lt;$button tooltip={{$:/language/Buttons/UnfoldAll/Hint}} aria-label={{$:/language/Buttons/UnfoldAll/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-unfold-all-tiddlers\" $param=&lt;&lt;currentTiddler&gt;&gt; foldedStatePrefix=\"$:/state/folded/\"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\" variable=\"listItem\"&gt;\n{{$:/core/images/unfold-all-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text={{$:/language/Buttons/UnfoldAll/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/PageTemplate/pagecontrols": {
            "title": "$:/core/ui/PageTemplate/pagecontrols",
            "text": "\\whitespace trim\n\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\"tc-page-controls\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\" variable=\"listItem\"&gt;\n&lt;$set name=\"hidden\" value=&lt;&lt;config-title&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;hidden&gt;!text[hide]]\" storyview=\"pop\" variable=\"ignore\"&gt;\n&lt;$set name=\"tv-config-toolbar-class\" filter=\"[&lt;tv-config-toolbar-class&gt;] [&lt;listItem&gt;encodeuricomponent[]addprefix[tc-btn-]]\"&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/PageStylesheet": {
            "title": "$:/core/ui/PageStylesheet",
            "text": "\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n\n&lt;$set name=\"currentTiddler\" value={{$:/language}}&gt;\n\n&lt;$set name=\"languageTitle\" value={{!!name}}&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Stylesheet]!has[draft.of]]\"&gt;\n&lt;$transclude mode=\"block\"/&gt;\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/PageTemplate/alerts": {
            "title": "$:/core/ui/PageTemplate/alerts",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;div class=\"tc-alerts\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Alert]!has[draft.of]]\" template=\"$:/core/ui/AlertTemplate\" storyview=\"pop\"/&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/PageTemplate/drafts": {
            "title": "$:/core/ui/PageTemplate/drafts",
            "tags": "$:/tags/PageTemplate",
            "text": "\\whitespace trim\n&lt;$reveal state=\"$:/status/IsReadOnly\" type=\"nomatch\" text=\"yes\" tag=\"div\" class=\"tc-drafts-list\"&gt;\n&lt;$list filter=\"[has[draft.of]!sort[modified]] -[list[$:/StoryList]]\"&gt;\n&lt;$link&gt;\n{{$:/core/images/edit-button}} &lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/PageTemplate/pluginreloadwarning": {
            "title": "$:/core/ui/PageTemplate/pluginreloadwarning",
            "tags": "$:/tags/PageTemplate",
            "text": "\\define lingo-base() $:/language/\n\n&lt;$list filter=\"[{$:/status/RequireReloadDueToPluginChange}match[yes]]\"&gt;\n\n&lt;$reveal type=\"nomatch\" state=\"$:/temp/HidePluginWarning\" text=\"yes\"&gt;\n\n&lt;div class=\"tc-plugin-reload-warning\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" value=\"\"&gt;\n\n&lt;&lt;lingo PluginReloadWarning&gt;&gt; &lt;$button set=\"$:/temp/HidePluginWarning\" setTo=\"yes\" class=\"tc-btn-invisible\"&gt;{{$:/core/images/close-button}}&lt;/$button&gt;\n\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/PageTemplate/sidebar": {
            "title": "$:/core/ui/PageTemplate/sidebar",
            "tags": "$:/tags/PageTemplate",
            "text": "\\whitespace trim\n\\define config-title()\n$:/config/SideBarSegments/Visibility/$(listItem)$\n\\end\n\n&lt;$scrollable fallthrough=\"no\" class=\"tc-sidebar-scrollable\"&gt;\n\n&lt;div class=\"tc-sidebar-header\"&gt;\n\n&lt;$reveal state=\"$:/state/sidebar\" type=\"match\" text=\"yes\" default=\"yes\" retain=\"yes\" animate=\"yes\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/SideBarSegment]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;config-title&gt;&gt; text=\"hide\"  tag=\"div\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"block\"/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/div&gt;\n\n&lt;/$scrollable&gt;\n"
        },
        "$:/core/ui/PageTemplate/story": {
            "title": "$:/core/ui/PageTemplate/story",
            "tags": "$:/tags/PageTemplate",
            "text": "\\whitespace trim\n&lt;section class=\"tc-story-river\"&gt;\n\n&lt;section class=\"story-backdrop\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/AboveStory]!has[draft.of]]\"&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/$list&gt;\n\n&lt;/section&gt;\n\n&lt;$list filter=\"[list[$:/StoryList]]\" history=\"$:/HistoryList\" template={{$:/config/ui/ViewTemplate}} editTemplate={{$:/config/ui/EditTemplate}} storyview={{$:/view}} emptyMessage={{$:/config/EmptyStoryMessage}}/&gt;\n\n&lt;section class=\"story-frontdrop\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/BelowStory]!has[draft.of]]\"&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/$list&gt;\n\n&lt;/section&gt;\n\n&lt;/section&gt;\n"
        },
        "$:/core/ui/PageTemplate/topleftbar": {
            "title": "$:/core/ui/PageTemplate/topleftbar",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;span class=\"tc-topbar tc-topbar-left\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TopLeftBar]!has[draft.of]]\" variable=\"listItem\" storyview=\"pop\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n"
        },
        "$:/core/ui/PageTemplate/toprightbar": {
            "title": "$:/core/ui/PageTemplate/toprightbar",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;span class=\"tc-topbar tc-topbar-right\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TopRightBar]!has[draft.of]]\" variable=\"listItem\" storyview=\"pop\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n"
        },
        "$:/core/ui/PageTemplate": {
            "title": "$:/core/ui/PageTemplate",
            "name": "{{$:/language/PageTemplate/Name}}",
            "description": "{{$:/language/PageTemplate/Description}}",
            "text": "\\whitespace trim\n\\define containerClasses()\ntc-page-container tc-page-view-$(storyviewTitle)$ tc-language-$(languageTitle)$\n\\end\n\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n\n&lt;$vars\n\ttv-config-toolbar-icons={{$:/config/Toolbar/Icons}}\n\ttv-config-toolbar-text={{$:/config/Toolbar/Text}}\n\ttv-config-toolbar-class={{$:/config/Toolbar/ButtonClass}}\n\ttv-enable-drag-and-drop={{$:/config/DragAndDrop/Enable}}\n\ttv-show-missing-links={{$:/config/MissingLinks}}\n\tstoryviewTitle={{$:/view}}\n\tlanguageTitle={{{ [{$:/language}get[name]] }}}&gt;\n\n&lt;div class=&lt;&lt;containerClasses&gt;&gt;&gt;\n\n&lt;$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}&gt;\n\n&lt;$dropzone enable=&lt;&lt;tv-enable-drag-and-drop&gt;&gt;&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/PageTemplate]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/$dropzone&gt;\n\n&lt;/$navigator&gt;\n\n&lt;/div&gt;\n\n&lt;/$vars&gt;\n"
        },
        "$:/PaletteManager": {
            "title": "$:/PaletteManager",
            "text": "\\define lingo-base() $:/language/ControlPanel/Palette/Editor/\n\\define describePaletteColour(colour)\n&lt;$transclude tiddler=\"$:/language/Docs/PaletteColours/$colour$\"&gt;&lt;$text text=\"$colour$\"/&gt;&lt;/$transclude&gt;\n\\end\n\\define edit-colour-placeholder()\n edit $(colourName)$\n\\end\n\\define colour-tooltip(showhide) $showhide$ editor for $(newColourName)$ \n\\define resolve-colour(macrocall)\n\\import $:/core/macros/utils\n\\whitespace trim\n&lt;$wikify name=\"name\" text=\"\"\"$macrocall$\"\"\"&gt;\n&lt;&lt;name&gt;&gt;\n&lt;/$wikify&gt;\n\\end\n\\define delete-colour-index-actions() &lt;$action-setfield $index=&lt;&lt;colourName&gt;&gt;/&gt;\n\\define palette-manager-colour-row-segment()\n\\whitespace trim\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; tag=\"input\" placeholder=&lt;&lt;edit-colour-placeholder&gt;&gt; default=\"\"/&gt;\n&lt;br&gt;\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; type=\"color\" tag=\"input\" class=\"tc-palette-manager-colour-input\"/&gt;\n&lt;$list filter=\"[&lt;currentTiddler&gt;getindex&lt;colourName&gt;removeprefix[&lt;&lt;]removesuffix[&gt;&gt;]] [&lt;currentTiddler&gt;getindex&lt;colourName&gt;removeprefix[&lt;$]removesuffix[/&gt;]]\" variable=\"ignore\"&gt;\n&lt;$set name=\"state\" value={{{ [[$:/state/palettemanager/]addsuffix&lt;currentTiddler&gt;addsuffix[/]addsuffix&lt;colourName&gt;] }}}&gt;\n&lt;$wikify name=\"newColourName\" text=\"\"\"&lt;$macrocall $name=\"resolve-colour\" macrocall={{{ [&lt;currentTiddler&gt;getindex&lt;colourName&gt;] }}}/&gt;\"\"\"&gt;\n&lt;$reveal state=&lt;&lt;state&gt;&gt; type=\"nomatch\" text=\"show\"&gt;\n&lt;$button tooltip=&lt;&lt;colour-tooltip show&gt;&gt; aria-label=&lt;&lt;colour-tooltip show&gt;&gt; class=\"tc-btn-invisible\" set=&lt;&lt;state&gt;&gt; setTo=\"show\"&gt;{{$:/core/images/down-arrow}}&lt;$text text=&lt;&lt;newColourName&gt;&gt; class=\"tc-small-gap-left\"/&gt;&lt;/$button&gt;&lt;br&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=&lt;&lt;state&gt;&gt; type=\"match\" text=\"show\"&gt;\n&lt;$button tooltip=&lt;&lt;colour-tooltip hide&gt;&gt; aria-label=&lt;&lt;colour-tooltip show&gt;&gt; class=\"tc-btn-invisible\" actions=\"\"\"&lt;$action-deletetiddler $tiddler=&lt;&lt;state&gt;&gt;/&gt;\"\"\"&gt;{{$:/core/images/up-arrow}}&lt;$text text=&lt;&lt;newColourName&gt;&gt; class=\"tc-small-gap-left\"/&gt;&lt;/$button&gt;&lt;br&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=&lt;&lt;state&gt;&gt; type=\"match\" text=\"show\"&gt;\n&lt;$set name=\"colourName\" value=&lt;&lt;newColourName&gt;&gt;&gt;\n&lt;br&gt;\n&lt;&lt;palette-manager-colour-row-segment&gt;&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n&lt;/$wikify&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\\end\n\\define palette-manager-colour-row()\n\\whitespace trim\n&lt;tr&gt;\n&lt;td&gt;\n&lt;span style=\"float:right;\"&gt;\n&lt;$button tooltip={{$:/language/ControlPanel/Palette/Editor/Delete/Hint}} aria-label={{$:/language/ControlPanel/Palette/Editor/Delete/Hint}} class=\"tc-btn-invisible\" actions=&lt;&lt;delete-colour-index-actions&gt;&gt;&gt;\n{{$:/core/images/delete-button}}&lt;/$button&gt;\n&lt;/span&gt;\n''&lt;$macrocall $name=\"describePaletteColour\" colour=&lt;&lt;colourName&gt;&gt;/&gt;''&lt;br/&gt;\n&lt;$macrocall $name=\"colourName\" $output=\"text/plain\"/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;&lt;palette-manager-colour-row-segment&gt;&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n\\end\n\\define palette-manager-table()\n\\whitespace trim\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Palette]indexes[]]\" variable=\"colourName\"&gt;\n&lt;$list filter=\"[&lt;currentTiddler&gt;indexes[]removeprefix&lt;colourName&gt;suffix[]]\" variable=\"ignore\" emptyMessage=\"\"\"\n&lt;$list filter=\"[{$:/state/palettemanager/showexternal}removeprefix[yes]suffix[]]\" variable=\"ignore\"&gt;\n&lt;&lt;palette-manager-colour-row&gt;&gt;\n&lt;/$list&gt;\n\"\"\"&gt;\n&lt;&lt;palette-manager-colour-row&gt;&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n\\end\n&lt;$set name=\"currentTiddler\" value={{$:/palette}}&gt;\n\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$link to={{$:/palette}}&gt;&lt;$macrocall $name=\"currentTiddler\" $output=\"text/plain\"/&gt;&lt;/$link&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]is[tiddler]]\" variable=\"listItem\"&gt;\n&lt;&lt;lingo Prompt/Modified&gt;&gt;\n&lt;$button message=\"tm-delete-tiddler\" param={{$:/palette}}&gt;&lt;&lt;lingo Reset/Caption&gt;&gt;&lt;/$button&gt;\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]!is[tiddler]]\" variable=\"listItem\"&gt;\n&lt;&lt;lingo Clone/Prompt&gt;&gt;\n&lt;/$list&gt;\n\n&lt;$button message=\"tm-new-tiddler\" param={{$:/palette}}&gt;&lt;&lt;lingo Clone/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;$checkbox tiddler=\"$:/state/palettemanager/showexternal\" field=\"text\" checked=\"yes\" unchecked=\"no\"&gt;&lt;span class=\"tc-small-gap-left\"&gt;&lt;&lt;lingo Names/External/Show&gt;&gt;&lt;/span&gt;&lt;/$checkbox&gt;\n\n&lt;&lt;palette-manager-table&gt;&gt;\n"
        },
        "$:/core/ui/PluginInfo": {
            "title": "$:/core/ui/PluginInfo",
            "text": "\\define localised-info-tiddler-title()\n$(currentTiddler)$/$(languageTitle)$/$(currentTab)$\n\\end\n\\define info-tiddler-title()\n$(currentTiddler)$/$(currentTab)$\n\\end\n\\define default-tiddler-title()\n$:/core/ui/PluginInfo/Default/$(currentTab)$\n\\end\n&lt;$transclude tiddler=&lt;&lt;localised-info-tiddler-title&gt;&gt; mode=\"block\"&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;localised-info-tiddler-title&gt;&gt; mode=\"block\"&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;info-tiddler-title&gt;&gt; mode=\"block\"&gt;\n&lt;$transclude tiddler=&lt;&lt;default-tiddler-title&gt;&gt; mode=\"block\"&gt;\n{{$:/language/ControlPanel/Plugin/NoInfoFound/Hint}}\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n"
        },
        "$:/core/ui/PluginInfo/Default/contents": {
            "title": "$:/core/ui/PluginInfo/Default/contents",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/Advanced/PluginInfo/\n&lt;&lt;lingo Hint&gt;&gt;\n&lt;ul&gt;\n&lt;$list filter=\"[all[current]plugintiddlers[]sort[title]]\" emptyMessage=&lt;&lt;lingo Empty/Hint&gt;&gt;&gt;\n&lt;li&gt;\n&lt;$link /&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n"
        },
        "$:/core/ui/PluginListItemTemplate": {
            "title": "$:/core/ui/PluginListItemTemplate",
            "text": "&lt;div class=\"tc-menu-list-item\"&gt;\n&lt;$link to={{!!title}}&gt;&lt;$view field=\"description\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;&lt;/$link&gt;\n&lt;/div&gt;"
        },
        "$:/core/ui/RootTemplate": {
            "title": "$:/core/ui/RootTemplate",
            "text": "&lt;$transclude tiddler={{{ [{$:/layout}has[text]] ~[[$:/core/ui/PageTemplate]] }}} mode=\"inline\"/&gt;\n\n"
        },
        "$:/core/ui/SearchResults": {
            "title": "$:/core/ui/SearchResults",
            "text": "&lt;div class=\"tc-search-results\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]butfirst[]limit[1]]\" emptyMessage=\"\"\"\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\"&gt;\n&lt;$transclude mode=\"block\"/&gt;\n&lt;/$list&gt;\n\"\"\"&gt;\n\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\" default={{$:/config/SearchResults/Default}} actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/search/currentTab\" text=&lt;&lt;currentTab&gt;&gt;/&gt;\"\"\" explicitState=\"$:/state/tab/search-results/sidebar\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/SideBar/More": {
            "title": "$:/core/ui/SideBar/More",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/More/Caption}}",
            "text": "&lt;div class=\"tc-more-sidebar\"&gt;\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/MoreSideBar]!has[draft.of]]\" default={{$:/config/DefaultMoreSidebarTab}} state=\"$:/state/tab/moresidebar\" class=\"tc-vertical tc-sidebar-tabs-more\" explicitState=\"$:/state/tab/moresidebar-1850697562\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/SideBar/Open": {
            "title": "$:/core/ui/SideBar/Open",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/Open/Caption}}",
            "text": "\\whitespace trim\n\\define lingo-base() $:/language/CloseAll/\n\n\\define drop-actions()\n&lt;$action-listops $tiddler=&lt;&lt;tv-story-list&gt;&gt; $subfilter=\"+[insertbefore:currentTiddler&lt;actionTiddler&gt;]\"/&gt;\n\\end\n\n\\define placeholder()\n&lt;div class=\"tc-droppable-placeholder\"/&gt;\n\\end\n\n\\define droppable-item(button)\n\\whitespace trim\n&lt;$droppable actions=&lt;&lt;drop-actions&gt;&gt; enable=&lt;&lt;tv-allow-drag-and-drop&gt;&gt;&gt;\n&lt;&lt;placeholder&gt;&gt;\n&lt;div&gt;\n$button$\n&lt;/div&gt;\n&lt;/$droppable&gt;\n\\end\n\n&lt;div class=\"tc-sidebar-tab-open\"&gt;\n&lt;$list filter=\"[list&lt;tv-story-list&gt;]\" history=&lt;&lt;tv-history-list&gt;&gt; storyview=\"pop\"&gt;\n&lt;div class=\"tc-sidebar-tab-open-item\"&gt;\n&lt;$macrocall $name=\"droppable-item\" button=\"\"\"&lt;$button message=\"tm-close-tiddler\" tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=\"tc-btn-invisible tc-btn-mini tc-small-gap-right\"&gt;{{$:/core/images/close-button}}&lt;/$button&gt;&lt;$link to={{!!title}}&gt;&lt;$view field=\"title\"/&gt;&lt;/$link&gt;\"\"\"/&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;$tiddler tiddler=\"\"&gt;\n&lt;div&gt;\n&lt;$macrocall $name=\"droppable-item\" button=\"\"\"&lt;$button message=\"tm-close-all-tiddlers\" class=\"tc-btn-invisible tc-btn-mini\"&gt;&lt;&lt;lingo Button&gt;&gt;&lt;/$button&gt;\"\"\"/&gt;\n&lt;/div&gt;\n&lt;/$tiddler&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/SideBar/Recent": {
            "title": "$:/core/ui/SideBar/Recent",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/Recent/Caption}}",
            "text": "&lt;$macrocall $name=\"timeline\" format={{$:/language/RecentChanges/DateFormat}}/&gt;\n"
        },
        "$:/core/ui/SideBar/Tools": {
            "title": "$:/core/ui/SideBar/Tools",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/Tools/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/\n\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n\n&lt;&lt;lingo Basics/Version/Prompt&gt;&gt; &lt;&lt;version&gt;&gt;\n\n&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" value=\"\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;div style=\"position:relative;\" class={{{ [&lt;listItem&gt;encodeuricomponent[]addprefix[tc-btn-]] }}}&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\"text\" checked=\"show\" unchecked=\"hide\" default=\"show\"/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt; &lt;i class=\"tc-muted\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\"description\"/&gt;&lt;/i&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/SideBarLists": {
            "title": "$:/core/ui/SideBarLists",
            "text": "&lt;$transclude tiddler=\"$:/core/ui/SideBarSegments/search\"/&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/SideBarSegments/tabs\"/&gt;\n\n"
        },
        "$:/core/ui/SideBarSegments/page-controls": {
            "title": "$:/core/ui/SideBarSegments/page-controls",
            "tags": "$:/tags/SideBarSegment",
            "text": "{{||$:/core/ui/PageTemplate/pagecontrols}}\n"
        },
        "$:/core/ui/SideBarSegments/search": {
            "title": "$:/core/ui/SideBarSegments/search",
            "tags": "$:/tags/SideBarSegment",
            "text": "\\whitespace trim\n\n\\define count-popup-button()\n\\whitespace trim\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/search-dropdown\"&gt;&gt; class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/down-arrow}}\n&lt;$list filter=\"[{$(searchTiddler)$}minlength{$:/config/Search/MinLength}limit[1]]\" variable=\"listItem\"&gt;\n&lt;$vars userInput={{{ [&lt;searchTiddler&gt;get[text]] }}} configTiddler={{{ [[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}] }}} replaceRegexp=\"limit\\[\\d+\\]\"&gt;\n&lt;$vars primaryListFilter={{{ [&lt;configTiddler&gt;get[first-search-filter]search-replace:g:regexp&lt;replaceRegexp&gt;,[]] }}} secondaryListFilter={{{ [&lt;configTiddler&gt;get[second-search-filter]search-replace:g:regexp&lt;replaceRegexp&gt;,[]] }}}&gt;\n&lt;$set name=\"resultCount\" value=\"\"\"&lt;$count filter=\"[subfilter&lt;primaryListFilter&gt;] [subfilter&lt;secondaryListFilter&gt;]\"/&gt;\"\"\"&gt;\n{{$:/language/Search/Matches}}\n&lt;/$set&gt;\n&lt;/$vars&gt;\n&lt;/$vars&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n\\define search-results-list()\n\\whitespace trim\n&lt;$vars userInput={{$(searchTiddler)$}} configTiddler={{{ [[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}] }}}&gt;\n&lt;$list filter=\"[&lt;userInput&gt;minlength{$:/config/Search/MinLength}limit[1]]\" emptyMessage=\"\"\"&lt;div class=\"tc-search-results\"&gt;{{$:/language/Search/Search/TooShort}}&lt;/div&gt;\"\"\" variable=\"listItem\"&gt;\n\n&lt;$tiddler tiddler=&lt;&lt;configTiddler&gt;&gt;&gt;\n\n{{$:/core/ui/SearchResults}}\n\n&lt;/$tiddler&gt;\n\n&lt;/$list&gt;\n&lt;/$vars&gt;\n\\end\n\n\\define cancel-search-actions() &lt;$list filter=\"[&lt;searchTiddler&gt;get[text]!match{$:/temp/search}]\" emptyMessage=\"\"\"&lt;$action-deletetiddler $filter=\"[[$:/temp/search]] [&lt;searchTiddler&gt;] [&lt;searchListState&gt;]\"/&gt;\"\"\"&gt;&lt;$action-setfield $tiddler=\"$:/temp/search\" text={{{ [&lt;searchTiddler&gt;get[text]] }}}/&gt;&lt;$action-setfield $tiddler=\"$:/temp/search/refresh\" text=\"yes\"/&gt;&lt;/$list&gt;\n\n\\define input-accept-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$action-navigate $to={{{ [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;\n\n\\define input-accept-variant-actions() &lt;$list filter=\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\" emptyMessage=\"\"\"&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]!is[missing]] ~[&lt;__tiddler__&gt;get[text]is[shadow]]\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\"\"\"&gt;&lt;$list filter=\"[&lt;__tiddler__&gt;get[text]minlength[1]]\"&gt;&lt;$action-sendmessage $message=\"tm-edit-tiddler\" $param={{{  [&lt;__tiddler__&gt;get[text]] }}}/&gt;&lt;/$list&gt;&lt;/$list&gt;\n\n\\define set-next-input-tab(beforeafter:\"after\") &lt;$macrocall $name=\"change-input-tab\" stateTitle=\"$:/state/tab/search-results/sidebar\" tag=\"$:/tags/SearchResults\" beforeafter=\"$beforeafter$\" defaultState={{$:/config/SearchResults/Default}} actions=\"\"\"&lt;$action-setfield $tiddler=\"$:/state/search/currentTab\" text=&lt;&lt;nextTab&gt;&gt;/&gt;\"\"\"/&gt;\n\n\\define advanced-search-actions() &lt;$action-setfield $tiddler=\"$:/temp/advancedsearch\" text={{$:/temp/search/input}}/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/input\" text={{$:/temp/search/input}}/&gt;&lt;&lt;delete-state-tiddlers&gt;&gt;&lt;$action-navigate $to=\"$:/AdvancedSearch\"/&gt;&lt;$action-setfield $tiddler=\"$:/temp/advancedsearch/refresh\" text=\"yes\"/&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\"\"\"[data-tiddler-title=\"$:/AdvancedSearch\"] .tc-search input\"\"\" preventScroll=\"true\"/&gt;&lt;$action-deletetiddler $filter=\"$:/temp/search $:/temp/search/input $:/temp/search/refresh [&lt;searchListState&gt;]\"/&gt;\n\n&lt;div class=\"tc-sidebar-lists tc-sidebar-search\"&gt;\n\n&lt;$vars editTiddler=\"$:/temp/search\" searchTiddler=\"$:/temp/search/input\" searchListState=&lt;&lt;qualify \"$:/state/search-list/selected-item\"&gt;&gt;&gt;\n&lt;div class=\"tc-search\"&gt;\n&lt;$keyboard key=\"((input-tab-right))\" actions=&lt;&lt;set-next-input-tab&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-tab-left))\" actions=&lt;&lt;set-next-input-tab \"before\"&gt;&gt;&gt;\n&lt;$keyboard key=\"((advanced-search-sidebar))\" actions=&lt;&lt;advanced-search-actions&gt;&gt;&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=&lt;&lt;editTiddler&gt;&gt; storeTitle=&lt;&lt;searchTiddler&gt;&gt; \n\t\tselectionStateTitle=&lt;&lt;searchListState&gt;&gt; refreshTitle=\"$:/temp/search/refresh\" type=\"search\" \n\t\ttag=\"input\" focus={{$:/config/Search/AutoFocus}} focusPopup=&lt;&lt;qualify \"$:/state/popup/search-dropdown\"&gt;&gt; \n\t\tclass=\"tc-popup-handle\" filterMinLength={{$:/config/Search/MinLength}} inputCancelActions=&lt;&lt;cancel-search-actions&gt;&gt; \n\t\tinputAcceptActions=&lt;&lt;input-accept-actions&gt;&gt; inputAcceptVariantActions=&lt;&lt;input-accept-variant-actions&gt;&gt; cancelPopups=\"yes\" \n\t\tconfigTiddlerFilter=\"[[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}]\"/&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;$reveal state=&lt;&lt;searchTiddler&gt;&gt; type=\"nomatch\" text=\"\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\"tc-btn-invisible\"&gt;\n&lt;&lt;advanced-search-actions&gt;&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;&lt;cancel-search-actions&gt;&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=\".tc-search input\"/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;&lt;count-popup-button&gt;&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=&lt;&lt;searchTiddler&gt;&gt; type=\"match\" text=\"\"&gt;\n&lt;$button to=\"$:/AdvancedSearch\" tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;$reveal tag=\"div\" class=\"tc-block-dropdown-wrapper\" state=&lt;&lt;searchTiddler&gt;&gt; type=\"nomatch\" text=\"\"&gt;\n\n&lt;$reveal tag=\"div\" class=\"tc-block-dropdown tc-search-drop-down tc-popup-handle\" state=&lt;&lt;qualify \"$:/state/popup/search-dropdown\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n\n&lt;&lt;search-results-list&gt;&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$vars&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/SideBarSegments/site-subtitle": {
            "title": "$:/core/ui/SideBarSegments/site-subtitle",
            "tags": "$:/tags/SideBarSegment",
            "text": "&lt;div class=\"tc-site-subtitle\"&gt;\n\n&lt;$transclude tiddler=\"$:/SiteSubtitle\" mode=\"inline\"/&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/SideBarSegments/site-title": {
            "title": "$:/core/ui/SideBarSegments/site-title",
            "tags": "$:/tags/SideBarSegment",
            "text": "&lt;h1 class=\"tc-site-title\"&gt;\n\n&lt;$transclude tiddler=\"$:/SiteTitle\" mode=\"inline\"/&gt;\n\n&lt;/h1&gt;\n"
        },
        "$:/core/ui/SideBarSegments/tabs": {
            "title": "$:/core/ui/SideBarSegments/tabs",
            "tags": "$:/tags/SideBarSegment",
            "text": "&lt;div class=\"tc-sidebar-lists tc-sidebar-tabs\"&gt;\n\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/SideBar]!has[draft.of]]\" default={{$:/config/DefaultSidebarTab}} state=\"$:/state/tab/sidebar\" class=\"tc-sidebar-tabs-main\" explicitState=\"$:/state/tab/sidebar--595412856\"/&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/SwitcherModal": {
            "title": "$:/core/ui/SwitcherModal",
            "subtitle": "&lt;$text text={{{[&lt;switch&gt;lookup[$:/language/Switcher/Subtitle/]]}}}/&gt;",
            "class": "tc-modal-centered",
            "text": "&lt;$tiddler tiddler={{{[&lt;switch&gt;lookup[$:/config/SwitcherTargets/]]}}}&gt;\n\n\n&lt;$transclude/&gt;\n\n\n&lt;/$tiddler&gt;"
        },
        "$:/TagManager": {
            "title": "$:/TagManager",
            "icon": "$:/core/images/tag-button",
            "color": "#bbb",
            "text": "\\define lingo-base() $:/language/TagManager/\n\\define iconEditorTab(type)\n\\whitespace trim\n&lt;$link to=\"\"&gt;&lt;&lt;lingo Icons/None&gt;&gt;&lt;/$link&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]is[image]] [all[shadows+tiddlers]tag[$:/tags/Image]] -[type[application/pdf]] +[sort[title]] +[$type$is[system]]\"&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude/&gt; &lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n\\end\n\\define iconEditor(title)\n\\whitespace trim\n&lt;div class=\"tc-drop-down-wrapper\"&gt;\n&lt;$button popupTitle={{{ [[$:/state/popup/icon/]addsuffix&lt;__title__&gt;] }}} class=\"tc-btn-invisible tc-btn-dropdown\"&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;$reveal stateTitle={{{ [[$:/state/popup/icon/]addsuffix&lt;__title__&gt;] }}} type=\"popup\" position=\"belowleft\" text=\"\" default=\"\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n&lt;$linkcatcher actions=\"\"\"&lt;$action-setfield $tiddler=&lt;&lt;__title__&gt;&gt; icon=&lt;&lt;navigateTo&gt;&gt;/&gt;\"\"\"&gt;\n&lt;&lt;iconEditorTab type:\"!\"&gt;&gt;\n&lt;hr/&gt;\n&lt;&lt;iconEditorTab type:\"\"&gt;&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\\end\n\\define toggleButton(state)\n\\whitespace trim\n&lt;$reveal stateTitle=&lt;&lt;__state__&gt;&gt; type=\"match\" text=\"closed\" default=\"closed\"&gt;\n&lt;$button setTitle=&lt;&lt;__state__&gt;&gt; setTo=\"open\" class=\"tc-btn-invisible tc-btn-dropdown\" selectedClass=\"tc-selected\"&gt;\n{{$:/core/images/info-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal stateTitle=&lt;&lt;__state__&gt;&gt; type=\"match\" text=\"open\" default=\"closed\"&gt;\n&lt;$button setTitle=&lt;&lt;__state__&gt;&gt; setTo=\"closed\" class=\"tc-btn-invisible tc-btn-dropdown\" selectedClass=\"tc-selected\"&gt;\n{{$:/core/images/info-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n\\end\n\\whitespace trim\n&lt;table class=\"tc-tag-manager-table\"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Colour/Heading&gt;&gt;&lt;/th&gt;\n&lt;th class=\"tc-tag-manager-tag\"&gt;&lt;&lt;lingo Tag/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Count/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Icon/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Info/Heading&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\"[tags[]!is[system]sort[title]]\"&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;$edit-text field=\"color\" tag=\"input\" type=\"color\"/&gt;&lt;/td&gt;\n&lt;td&gt;{{||$:/core/ui/TagTemplate}}&lt;/td&gt;\n&lt;td&gt;&lt;$count filter=\"[all[current]tagging[]]\"/&gt;&lt;/td&gt;\n&lt;td&gt;\n&lt;$macrocall $name=\"iconEditor\" title={{!!title}}/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$macrocall $name=\"toggleButton\" state={{{ [[$:/state/tag-manager/]addsuffix&lt;currentTiddler&gt;] }}} /&gt; \n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td colspan=\"4\"&gt;\n&lt;$reveal stateTitle={{{ [[$:/state/tag-manager/]addsuffix&lt;currentTiddler&gt;] }}} type=\"match\" text=\"open\" default=\"\"&gt;\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;&lt;&lt;lingo Colour/Heading&gt;&gt;&lt;/td&gt;&lt;td&gt;&lt;$edit-text field=\"color\" tag=\"input\" type=\"text\" size=\"9\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&lt;&lt;lingo Icon/Heading&gt;&gt;&lt;/td&gt;&lt;td&gt;&lt;$edit-text field=\"icon\" tag=\"input\" size=\"45\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td style=\"position:relative;\"&gt;\n{{$:/core/ui/UntaggedTemplate}}\n&lt;/td&gt;\n&lt;td&gt;\n&lt;small class=\"tc-menu-list-count\"&gt;&lt;$count filter=\"[untagged[]!is[system]] -[tags[]]\"/&gt;&lt;/small&gt;\n&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/TagPickerTagTemplate": {
            "title": "$:/core/ui/TagPickerTagTemplate",
            "text": "\\whitespace trim\n&lt;$button class=&lt;&lt;button-classes&gt;&gt; tag=\"a\" tooltip={{$:/language/EditTemplate/Tags/Add/Button/Hint}}&gt;\n&lt;$list filter=\"[&lt;saveTiddler&gt;minlength[1]]\"&gt;\n&lt;$action-listops $tiddler=&lt;&lt;saveTiddler&gt;&gt; $field=&lt;&lt;tagField&gt;&gt; $subfilter=\"[&lt;tag&gt;]\"/&gt;\n&lt;/$list&gt;\n&lt;$set name=\"currentTiddlerCSSEscaped\" value={{{ [&lt;saveTiddler&gt;escapecss[]] }}}&gt;\n&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=&lt;&lt;get-tagpicker-focus-selector&gt;&gt; preventScroll=\"true\"/&gt;\n&lt;/$set&gt;\n&lt;&lt;delete-tag-state-tiddlers&gt;&gt;\n&lt;$list filter=\"[&lt;refreshTitle&gt;minlength[1]]\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;refreshTitle&gt;&gt; text=\"yes\"/&gt;\n&lt;/$list&gt;\n&lt;&lt;actions&gt;&gt;\n&lt;$set name=\"backgroundColor\" value={{!!color}}&gt;\n&lt;$wikify name=\"foregroundColor\" text=\"\"\"&lt;$macrocall $name=\"contrastcolour\" target={{!!color}} fallbackTarget=&lt;&lt;fallbackTarget&gt;&gt; colourA=&lt;&lt;colourA&gt;&gt; colourB=&lt;&lt;colourB&gt;&gt;/&gt;\"\"\"&gt;\n&lt;span class=\"tc-tag-label tc-btn-invisible\" style=&lt;&lt;tag-pill-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}/&gt;&lt;$view field=\"title\" format=\"text\"/&gt;\n&lt;/span&gt;\n&lt;/$wikify&gt;\n&lt;/$set&gt;\n&lt;/$button&gt;\n"
        },
        "$:/core/ui/TagTemplate": {
            "title": "$:/core/ui/TagTemplate",
            "text": "\\whitespace trim\n&lt;span class=\"tc-tag-list-item\" data-tag-title=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$set name=\"transclusion\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$macrocall $name=\"tag-pill-body\" tag=&lt;&lt;currentTiddler&gt;&gt; icon={{!!icon}} colour={{!!color}} palette={{$:/palette}} element-tag=\"\"\"$button\"\"\" element-attributes=\"\"\"popup=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; dragFilter='[all[current]tagging[]]' tag='span'\"\"\"/&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\" class=\"tc-drop-down\"&gt;\n&lt;$set name=\"tv-show-missing-links\" value=\"yes\"&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/$set&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\" variable=\"listItem\"&gt; \n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt; \n&lt;/$list&gt;\n&lt;hr&gt;\n&lt;$macrocall $name=\"list-tagged-draggable\" tag=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n"
        },
        "$:/core/ui/TiddlerFieldTemplate": {
            "title": "$:/core/ui/TiddlerFieldTemplate",
            "text": "&lt;tr class=\"tc-view-field\"&gt;\n&lt;td class=\"tc-view-field-name\"&gt;\n&lt;$text text=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;td class=\"tc-view-field-value\"&gt;\n&lt;$view field=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;"
        },
        "$:/core/ui/TiddlerFields": {
            "title": "$:/core/ui/TiddlerFields",
            "text": "&lt;table class=\"tc-view-field-table\"&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[current]fields[]sort[title]] -text\" template=\"$:/core/ui/TiddlerFieldTemplate\" variable=\"listItem\"/&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Advanced/PluginInfo": {
            "title": "$:/core/ui/TiddlerInfo/Advanced/PluginInfo",
            "tags": "$:/tags/TiddlerInfo/Advanced",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/Advanced/PluginInfo/\n&lt;$list filter=\"[all[current]has[plugin-type]]\"&gt;\n\n! &lt;&lt;lingo Heading&gt;&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n&lt;ul&gt;\n&lt;$list filter=\"[all[current]plugintiddlers[]sort[title]]\" emptyMessage=&lt;&lt;lingo Empty/Hint&gt;&gt;&gt;\n&lt;li&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Advanced/ShadowInfo": {
            "title": "$:/core/ui/TiddlerInfo/Advanced/ShadowInfo",
            "tags": "$:/tags/TiddlerInfo/Advanced",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/Advanced/ShadowInfo/\n&lt;$set name=\"infoTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n\n''&lt;&lt;lingo Heading&gt;&gt;''\n\n&lt;$list filter=\"[all[current]!is[shadow]]\"&gt;\n\n&lt;&lt;lingo NotShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]]\"&gt;\n\n&lt;&lt;lingo Shadow/Hint&gt;&gt;\n\n&lt;$list filter=\"[all[current]shadowsource[]]\"&gt;\n\n&lt;$set name=\"pluginTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;&lt;lingo Shadow/Source&gt;&gt;\n&lt;/$set&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]is[tiddler]]\"&gt;\n\n&lt;&lt;lingo OverriddenShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n\n&lt;/$list&gt;\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Advanced": {
            "title": "$:/core/ui/TiddlerInfo/Advanced",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Advanced/Caption}}",
            "text": "&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo/Advanced]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"block\"/&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Fields": {
            "title": "$:/core/ui/TiddlerInfo/Fields",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Fields/Caption}}",
            "text": "&lt;$transclude tiddler=\"$:/core/ui/TiddlerFields\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/List": {
            "title": "$:/core/ui/TiddlerInfo/List",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/List/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[list{!!title}]\" emptyMessage=&lt;&lt;lingo List/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Listed": {
            "title": "$:/core/ui/TiddlerInfo/Listed",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Listed/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[all[current]listed[]!is[system]]\" emptyMessage=&lt;&lt;lingo Listed/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/References": {
            "title": "$:/core/ui/TiddlerInfo/References",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/References/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[all[current]backlinks[]sort[title]]\" emptyMessage=&lt;&lt;lingo References/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"&gt;\n&lt;/$list&gt;"
        },
        "$:/core/ui/TiddlerInfo/Tagging": {
            "title": "$:/core/ui/TiddlerInfo/Tagging",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Tagging/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[all[current]tagging[]]\" emptyMessage=&lt;&lt;lingo Tagging/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Tools": {
            "title": "$:/core/ui/TiddlerInfo/Tools",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Tools/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" value=\"\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\"text\" checked=\"show\" unchecked=\"hide\" default=\"show\"/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt; &lt;i class=\"tc-muted\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\"description\"/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/TiddlerInfo": {
            "title": "$:/core/ui/TiddlerInfo",
            "text": "&lt;div style=\"position:relative;\"&gt;\n&lt;div class=\"tc-tiddler-controls\" style=\"position:absolute;right:0;\"&gt;\n&lt;$reveal state=\"$:/config/TiddlerInfo/Mode\" type=\"match\" text=\"sticky\"&gt;\n&lt;$button set=&lt;&lt;tiddlerInfoState&gt;&gt; setTo=\"\" tooltip={{$:/language/Buttons/Info/Hint}} aria-label={{$:/language/Buttons/Info/Caption}} class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo]!has[draft.of]]\" default={{$:/config/TiddlerInfo/Default}}/&gt;\n"
        },
        "$:/core/ui/TopBar/menu": {
            "title": "$:/core/ui/TopBar/menu",
            "tags": "$:/tags/TopRightBar",
            "text": "&lt;$list filter=\"[[$:/state/sidebar]get[text]] +[else[yes]!match[no]]\" variable=\"ignore\"&gt;\n&lt;$button set=\"$:/state/sidebar\" setTo=\"no\" tooltip={{$:/language/Buttons/HideSideBar/Hint}} aria-label={{$:/language/Buttons/HideSideBar/Caption}} class=\"tc-btn-invisible tc-hide-sidebar-btn\"&gt;{{$:/core/images/chevron-right}}&lt;/$button&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[[$:/state/sidebar]get[text]] +[else[yes]match[no]]\" variable=\"ignore\"&gt;\n&lt;$button set=\"$:/state/sidebar\" setTo=\"yes\" tooltip={{$:/language/Buttons/ShowSideBar/Hint}} aria-label={{$:/language/Buttons/ShowSideBar/Caption}} class=\"tc-btn-invisible tc-show-sidebar-btn\"&gt;{{$:/core/images/chevron-left}}&lt;/$button&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/UntaggedTemplate": {
            "title": "$:/core/ui/UntaggedTemplate",
            "text": "\\define lingo-base() $:/language/SideBar/\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; class=\"tc-btn-invisible tc-untagged-label tc-tag-label\"&gt;\n&lt;&lt;lingo Tags/Untagged/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; type=\"popup\" position=\"below\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n&lt;$list filter=\"[untagged[]!is[system]] -[tags[]] +[sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/ViewTemplate/body": {
            "title": "$:/core/ui/ViewTemplate/body",
            "tags": "$:/tags/ViewTemplate",
            "text": "&lt;$reveal tag=\"div\" class=\"tc-tiddler-body\" type=\"nomatch\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"hide\" retain=\"yes\" animate=\"yes\"&gt;\n\n&lt;$list filter=\"[all[current]!has[plugin-type]!field:hide-body[yes]]\"&gt;\n\n&lt;$transclude&gt;\n\n&lt;$transclude tiddler=\"$:/language/MissingTiddler/Hint\"/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/$list&gt;\n\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/ViewTemplate/classic": {
            "title": "$:/core/ui/ViewTemplate/classic",
            "tags": "$:/tags/ViewTemplate $:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/ClassicWarning/\n&lt;$list filter=\"[all[current]type[text/x-tiddlywiki]]\"&gt;\n&lt;div class=\"tc-message-box\"&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$button set=\"!!type\" setTo=\"text/vnd.tiddlywiki\"&gt;&lt;&lt;lingo Upgrade/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/ViewTemplate/import": {
            "title": "$:/core/ui/ViewTemplate/import",
            "tags": "$:/tags/ViewTemplate",
            "text": "\\define lingo-base() $:/language/Import/\n\n\\define buttons()\n&lt;$button message=\"tm-delete-tiddler\" param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Cancel/Caption&gt;&gt;&lt;/$button&gt;\n&lt;$button message=\"tm-perform-import\" param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Import/Caption&gt;&gt;&lt;/$button&gt;\n&lt;&lt;lingo Listing/Preview&gt;&gt; &lt;$select tiddler=\"$:/state/importpreviewtype\" default=\"$:/core/ui/ImportPreviews/Text\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ImportPreview]!has[draft.of]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;{{!!caption}}&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n\\end\n\n&lt;$list filter=\"[all[current]field:plugin-type[import]]\"&gt;\n\n&lt;div class=\"tc-import\"&gt;\n\n&lt;&lt;lingo Listing/Hint&gt;&gt;\n\n&lt;&lt;buttons&gt;&gt;\n\n{{||$:/core/ui/ImportListing}}\n\n&lt;&lt;buttons&gt;&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/ViewTemplate/plugin": {
            "title": "$:/core/ui/ViewTemplate/plugin",
            "tags": "$:/tags/ViewTemplate",
            "text": "&lt;$reveal tag=\"div\" class=\"tc-tiddler-plugin-info\" type=\"nomatch\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"hide\" retain=\"yes\" animate=\"yes\"&gt;\n\n&lt;$list filter=\"[all[current]has[plugin-type]] -[all[current]field:plugin-type[import]]\"&gt;\n&lt;$set name=\"plugin-type\" value={{!!plugin-type}}&gt;\n&lt;$set name=\"default-popup-state\" value=\"yes\"&gt;\n&lt;$set name=\"qualified-state\" value=&lt;&lt;qualify \"$:/state/plugin-info\"&gt;&gt;&gt;\n{{||$:/core/ui/Components/plugin-info}}\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$reveal&gt;"
        },
        "$:/core/ui/ViewTemplate/subtitle": {
            "title": "$:/core/ui/ViewTemplate/subtitle",
            "tags": "$:/tags/ViewTemplate",
            "text": "\\whitespace trim\n&lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"hide\" tag=\"div\" retain=\"yes\" animate=\"yes\"&gt;\n&lt;div class=\"tc-subtitle\"&gt;\n&lt;$link to={{!!modifier}} /&gt;\n&lt;$view field=\"modified\" format=\"date\" template={{$:/language/Tiddler/DateFormat}}/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/ViewTemplate/tags": {
            "title": "$:/core/ui/ViewTemplate/tags",
            "tags": "$:/tags/ViewTemplate",
            "text": "&lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"hide\" tag=\"div\" retain=\"yes\" animate=\"yes\"&gt;\n&lt;div class=\"tc-tags-wrapper\"&gt;&lt;$list filter=\"[all[current]tags[]sort[title]]\" template=\"$:/core/ui/TagTemplate\" storyview=\"pop\"/&gt;&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/ViewTemplate/title": {
            "title": "$:/core/ui/ViewTemplate/title",
            "tags": "$:/tags/ViewTemplate",
            "text": "\\whitespace trim\n\\define title-styles()\nfill:$(foregroundColor)$;\n\\end\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\"tc-tiddler-title\"&gt;\n&lt;div class=\"tc-titlebar\"&gt;\n&lt;span class=\"tc-tiddler-controls\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\" variable=\"listItem\"&gt;&lt;$reveal type=\"nomatch\" state=&lt;&lt;config-title&gt;&gt; text=\"hide\"&gt;&lt;$set name=\"tv-config-toolbar-class\" filter=\"[&lt;tv-config-toolbar-class&gt;] [&lt;listItem&gt;encodeuricomponent[]addprefix[tc-btn-]]\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$set&gt;&lt;/$reveal&gt;&lt;/$list&gt;\n&lt;/span&gt;\n&lt;$set name=\"tv-wikilinks\" value={{$:/config/Tiddlers/TitleLinks}}&gt;\n&lt;$link&gt;\n&lt;$set name=\"foregroundColor\" value={{!!color}}&gt;\n&lt;$list filter=\"[all[current]has[icon]]~[[$:/config/DefaultTiddlerIcon]has[text]]\"&gt;\n&lt;span class=\"tc-tiddler-title-icon\" style=&lt;&lt;title-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}&gt;\n&lt;$transclude tiddler={{$:/config/DefaultTiddlerIcon}}/&gt;\n&lt;/$transclude&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;$list filter=\"[all[current]removeprefix[$:/]]\"&gt;\n&lt;h2 class=\"tc-title\" title={{$:/language/SystemTiddler/Tooltip}}&gt;\n&lt;span class=\"tc-system-title-prefix\"&gt;$:/&lt;/span&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n&lt;/h2&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[all[current]!prefix[$:/]]\"&gt;\n&lt;h2 class=\"tc-title\"&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/h2&gt;\n&lt;/$list&gt;\n&lt;/$link&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n\n&lt;$reveal type=\"nomatch\" text=\"\" default=\"\" state=&lt;&lt;tiddlerInfoState&gt;&gt; class=\"tc-tiddler-info tc-popup-handle\" animate=\"yes\" retain=\"yes\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlerInfoSegment]!has[draft.of]] [[$:/core/ui/TiddlerInfo]]\" variable=\"listItem\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"block\"/&gt;&lt;/$list&gt;\n\n&lt;/$reveal&gt;\n&lt;/div&gt;"
        },
        "$:/core/ui/ViewTemplate/unfold": {
            "title": "$:/core/ui/ViewTemplate/unfold",
            "tags": "$:/tags/ViewTemplate",
            "text": "&lt;$reveal tag=\"div\" type=\"nomatch\" state=\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\" text=\"hide\"&gt;\n&lt;$reveal tag=\"div\" type=\"nomatch\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"hide\" default=\"show\" retain=\"yes\" animate=\"yes\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/Fold/Hint}} aria-label={{$:/language/Buttons/Fold/Caption}} class=\"tc-fold-banner\"&gt;\n&lt;$action-sendmessage $message=\"tm-fold-tiddler\" $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n{{$:/core/images/chevron-up}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal tag=\"div\" type=\"nomatch\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"show\" default=\"show\" retain=\"yes\" animate=\"yes\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/Unfold/Hint}} aria-label={{$:/language/Buttons/Unfold/Caption}} class=\"tc-unfold-banner\"&gt;\n&lt;$action-sendmessage $message=\"tm-fold-tiddler\" $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n{{$:/core/images/chevron-down}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/ViewTemplate": {
            "title": "$:/core/ui/ViewTemplate",
            "text": "\\define folded-state()\n$:/state/folded/$(currentTiddler)$\n\\end\n\\define cancel-delete-tiddler-actions(message) &lt;$action-sendmessage $message=\"tm-$message$-tiddler\"/&gt;\n\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View]!has[draft.of]]\n&lt;$vars storyTiddler=&lt;&lt;currentTiddler&gt;&gt; tiddlerInfoState=&lt;&lt;qualify \"$:/state/popup/tiddler-info\"&gt;&gt;&gt;&lt;div data-tiddler-title=&lt;&lt;currentTiddler&gt;&gt; data-tags={{!!tags}} class={{{ tc-tiddler-frame tc-tiddler-view-frame [&lt;currentTiddler&gt;is[tiddler]then[tc-tiddler-exists]] [&lt;currentTiddler&gt;is[missing]!is[shadow]then[tc-tiddler-missing]] [&lt;currentTiddler&gt;is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [&lt;currentTiddler&gt;is[shadow]is[tiddler]then[tc-tiddler-overridden-shadow]] [&lt;currentTiddler&gt;is[system]then[tc-tiddler-system]] [{!!class}] [&lt;currentTiddler&gt;tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}}&gt;&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]]\" variable=\"listItem\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$vars&gt;\n"
        },
        "$:/core/ui/Buttons/clone": {
            "title": "$:/core/ui/Buttons/clone",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/clone-button}} {{$:/language/Buttons/Clone/Caption}}",
            "description": "{{$:/language/Buttons/Clone/Hint}}",
            "text": "\\whitespace trim\n&lt;$button message=\"tm-new-tiddler\" param=&lt;&lt;currentTiddler&gt;&gt; tooltip={{$:/language/Buttons/Clone/Hint}} aria-label={{$:/language/Buttons/Clone/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/clone-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/Clone/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/close-others": {
            "title": "$:/core/ui/Buttons/close-others",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/close-others-button}} {{$:/language/Buttons/CloseOthers/Caption}}",
            "description": "{{$:/language/Buttons/CloseOthers/Hint}}",
            "text": "\\whitespace trim\n&lt;$button message=\"tm-close-other-tiddlers\" param=&lt;&lt;currentTiddler&gt;&gt; tooltip={{$:/language/Buttons/CloseOthers/Hint}} aria-label={{$:/language/Buttons/CloseOthers/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/close-others-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/CloseOthers/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/close": {
            "title": "$:/core/ui/Buttons/close",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/close-button}} {{$:/language/Buttons/Close/Caption}}",
            "description": "{{$:/language/Buttons/Close/Hint}}",
            "text": "\\whitespace trim\n&lt;$button message=\"tm-close-tiddler\" tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/close-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text={{$:/language/Buttons/Close/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/edit": {
            "title": "$:/core/ui/Buttons/edit",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/edit-button}} {{$:/language/Buttons/Edit/Caption}}",
            "description": "{{$:/language/Buttons/Edit/Hint}}",
            "text": "\\whitespace trim\n&lt;$button message=\"tm-edit-tiddler\" tooltip={{$:/language/Buttons/Edit/Hint}} aria-label={{$:/language/Buttons/Edit/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/edit-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/Edit/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/export-tiddler": {
            "title": "$:/core/ui/Buttons/export-tiddler",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/export-button}} {{$:/language/Buttons/ExportTiddler/Caption}}",
            "description": "{{$:/language/Buttons/ExportTiddler/Hint}}",
            "text": "\\define makeExportFilter()\n[[$(currentTiddler)$]]\n\\end\n&lt;$macrocall $name=\"exportButton\" exportFilter=&lt;&lt;makeExportFilter&gt;&gt; lingoBase=\"$:/language/Buttons/ExportTiddler/\" baseFilename=&lt;&lt;currentTiddler&gt;&gt;/&gt;"
        },
        "$:/core/ui/Buttons/fold-bar": {
            "title": "$:/core/ui/Buttons/fold-bar",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/chevron-up}} {{$:/language/Buttons/Fold/FoldBar/Caption}}",
            "description": "{{$:/language/Buttons/Fold/FoldBar/Hint}}",
            "text": "&lt;!-- This dummy toolbar button is here to allow visibility of the fold-bar to be controlled as if it were a toolbar button --&gt;"
        },
        "$:/core/ui/Buttons/fold-others": {
            "title": "$:/core/ui/Buttons/fold-others",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/fold-others-button}} {{$:/language/Buttons/FoldOthers/Caption}}",
            "description": "{{$:/language/Buttons/FoldOthers/Hint}}",
            "text": "\\whitespace trim\n&lt;$button tooltip={{$:/language/Buttons/FoldOthers/Hint}} aria-label={{$:/language/Buttons/FoldOthers/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-fold-other-tiddlers\" $param=&lt;&lt;currentTiddler&gt;&gt; foldedStatePrefix=\"$:/state/folded/\"/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\" variable=\"listItem\"&gt;\n{{$:/core/images/fold-others-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/FoldOthers/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/fold": {
            "title": "$:/core/ui/Buttons/fold",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/fold-button}} {{$:/language/Buttons/Fold/Caption}}",
            "description": "{{$:/language/Buttons/Fold/Hint}}",
            "text": "\\whitespace trim\n&lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"hide\" default=\"show\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/Fold/Hint}} aria-label={{$:/language/Buttons/Fold/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-fold-tiddler\" $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\" variable=\"listItem\"&gt;\n{{$:/core/images/fold-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/Fold/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" stateTitle=&lt;&lt;folded-state&gt;&gt; text=\"hide\" default=\"show\"&gt;\n&lt;$button tooltip={{$:/language/Buttons/Unfold/Hint}} aria-label={{$:/language/Buttons/Unfold/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-fold-tiddler\" $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\" variable=\"listItem\"&gt;\n{{$:/core/images/unfold-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/Unfold/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/Buttons/info": {
            "title": "$:/core/ui/Buttons/info",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/info-button}} {{$:/language/Buttons/Info/Caption}}",
            "description": "{{$:/language/Buttons/Info/Hint}}",
            "text": "\\whitespace trim\n\\define button-content()\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/info-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text={{$:/language/Buttons/Info/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n\\end\n&lt;$reveal state=\"$:/config/TiddlerInfo/Mode\" type=\"match\" text=\"popup\"&gt;\n&lt;$button popup=&lt;&lt;tiddlerInfoState&gt;&gt; tooltip={{$:/language/Buttons/Info/Hint}} aria-label={{$:/language/Buttons/Info/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$macrocall $name=\"button-content\" mode=\"inline\"/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\"$:/config/TiddlerInfo/Mode\" type=\"match\" text=\"sticky\"&gt;\n&lt;$reveal state=&lt;&lt;tiddlerInfoState&gt;&gt; type=\"match\" text=\"\" default=\"\"&gt;\n&lt;$button set=&lt;&lt;tiddlerInfoState&gt;&gt; setTo=\"yes\" tooltip={{$:/language/Buttons/Info/Hint}} aria-label={{$:/language/Buttons/Info/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$macrocall $name=\"button-content\" mode=\"inline\"/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=&lt;&lt;tiddlerInfoState&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n&lt;$button set=&lt;&lt;tiddlerInfoState&gt;&gt; setTo=\"\" tooltip={{$:/language/Buttons/Info/Hint}} aria-label={{$:/language/Buttons/Info/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$macrocall $name=\"button-content\" mode=\"inline\"/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$reveal&gt;"
        },
        "$:/core/ui/Buttons/more-tiddler-actions": {
            "title": "$:/core/ui/Buttons/more-tiddler-actions",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/down-arrow}} {{$:/language/Buttons/More/Caption}}",
            "description": "{{$:/language/Buttons/More/Hint}}",
            "text": "\\whitespace trim\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/more\"&gt;&gt; tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/More/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/more\"&gt;&gt; type=\"popup\" position=\"belowleft\" animate=\"yes\"&gt;\n\n&lt;div class=\"tc-drop-down\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-icons\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-text\" value=\"yes\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" value=\"tc-btn-invisible\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]] -[[$:/core/ui/Buttons/more-tiddler-actions]]\" variable=\"listItem\"&gt;\n\n&lt;$reveal type=\"match\" state=&lt;&lt;config-title&gt;&gt; text=\"hide\"&gt;\n\n&lt;$set name=\"tv-config-toolbar-class\" filter=\"[&lt;tv-config-toolbar-class&gt;] [&lt;listItem&gt;encodeuricomponent[]addprefix[tc-btn-]]\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n\n&lt;/$set&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;"
        },
        "$:/core/ui/Buttons/new-here": {
            "title": "$:/core/ui/Buttons/new-here",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/new-here-button}} {{$:/language/Buttons/NewHere/Caption}}",
            "description": "{{$:/language/Buttons/NewHere/Hint}}",
            "text": "\\whitespace trim\n\\define newHereActions()\n&lt;$set name=\"tags\" filter=\"[&lt;currentTiddler&gt;] [{$:/config/NewTiddler/Tags}]\"&gt;\n&lt;$action-sendmessage $message=\"tm-new-tiddler\" tags=&lt;&lt;tags&gt;&gt;/&gt;\n&lt;/$set&gt;\n\\end\n\\define newHereButton()\n&lt;$button actions=&lt;&lt;newHereActions&gt;&gt; tooltip={{$:/language/Buttons/NewHere/Hint}} aria-label={{$:/language/Buttons/NewHere/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/new-here-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text={{$:/language/Buttons/NewHere/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;&lt;newHereButton&gt;&gt;\n"
        },
        "$:/core/ui/Buttons/new-journal-here": {
            "title": "$:/core/ui/Buttons/new-journal-here",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/new-journal-button}} {{$:/language/Buttons/NewJournalHere/Caption}}",
            "description": "{{$:/language/Buttons/NewJournalHere/Hint}}",
            "text": "\\whitespace trim\n\\define journalButtonTags()\n[[$(currentTiddlerTag)$]] $(journalTags)$\n\\end\n\\define journalButton()\n&lt;$button tooltip={{$:/language/Buttons/NewJournalHere/Hint}} aria-label={{$:/language/Buttons/NewJournalHere/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$wikify name=\"journalTitle\" text=\"\"\"&lt;$macrocall $name=\"now\" format=&lt;&lt;journalTitleTemplate&gt;&gt;/&gt;\"\"\"&gt;\n&lt;$action-sendmessage $message=\"tm-new-tiddler\" title=&lt;&lt;journalTitle&gt;&gt; tags=&lt;&lt;journalButtonTags&gt;&gt;/&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/new-journal-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text={{$:/language/Buttons/NewJournalHere/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$wikify&gt;\n&lt;/$button&gt;\n\\end\n&lt;$set name=\"journalTitleTemplate\" value={{$:/config/NewJournal/Title}}&gt;\n&lt;$set name=\"journalTags\" value={{$:/config/NewJournal/Tags}}&gt;\n&lt;$set name=\"currentTiddlerTag\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;&lt;journalButton&gt;&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/Buttons/open-window": {
            "title": "$:/core/ui/Buttons/open-window",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/open-window}} {{$:/language/Buttons/OpenWindow/Caption}}",
            "description": "{{$:/language/Buttons/OpenWindow/Hint}}",
            "text": "\\whitespace trim\n&lt;$button message=\"tm-open-window\" tooltip={{$:/language/Buttons/OpenWindow/Hint}} aria-label={{$:/language/Buttons/OpenWindow/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/open-window}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/OpenWindow/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/permalink": {
            "title": "$:/core/ui/Buttons/permalink",
            "tags": "$:/tags/ViewToolbar",
            "caption": "{{$:/core/images/permalink-button}} {{$:/language/Buttons/Permalink/Caption}}",
            "description": "{{$:/language/Buttons/Permalink/Hint}}",
            "text": "\\whitespace trim\n&lt;$button message=\"tm-permalink\" tooltip={{$:/language/Buttons/Permalink/Hint}} aria-label={{$:/language/Buttons/Permalink/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/permalink-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/Permalink/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/core/ui/Buttons/permaview": {
            "title": "$:/core/ui/Buttons/permaview",
            "tags": "$:/tags/ViewToolbar $:/tags/PageControls",
            "caption": "{{$:/core/images/permaview-button}} {{$:/language/Buttons/Permaview/Caption}}",
            "description": "{{$:/language/Buttons/Permaview/Hint}}",
            "text": "\\whitespace trim\n&lt;$button message=\"tm-permaview\" tooltip={{$:/language/Buttons/Permaview/Hint}} aria-label={{$:/language/Buttons/Permaview/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/permaview-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;\n&lt;$text text=\" \"/&gt;\n&lt;$text text={{$:/language/Buttons/Permaview/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;"
        },
        "$:/DefaultTiddlers": {
            "title": "$:/DefaultTiddlers",
            "text": "GettingStarted\n"
        },
        "$:/temp/advancedsearch": {
            "title": "$:/temp/advancedsearch",
            "text": ""
        },
        "$:/snippets/allfields": {
            "title": "$:/snippets/allfields",
            "text": "\\define renderfield(title)\n&lt;tr class=\"tc-view-field\"&gt;&lt;td class=\"tc-view-field-name\"&gt;''$title$'':&lt;/td&gt;&lt;td class=\"tc-view-field-value\"&gt;//{{$:/language/Docs/Fields/$title$}}//&lt;/td&gt;&lt;/tr&gt;\n\\end\n&lt;table class=\"tc-view-field-table\"&gt;&lt;tbody&gt;&lt;$list filter=\"[fields[]sort[title]]\" variable=\"listItem\"&gt;&lt;$macrocall $name=\"renderfield\" title=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n"
        },
        "$:/config/AnimationDuration": {
            "title": "$:/config/AnimationDuration",
            "text": "400"
        },
        "$:/config/AutoFocus": {
            "title": "$:/config/AutoFocus",
            "text": "title"
        },
        "$:/config/AutoSave": {
            "title": "$:/config/AutoSave",
            "text": "yes"
        },
        "$:/config/BitmapEditor/Colour": {
            "title": "$:/config/BitmapEditor/Colour",
            "text": "#444"
        },
        "$:/config/BitmapEditor/ImageSizes": {
            "title": "$:/config/BitmapEditor/ImageSizes",
            "text": "[[62px 100px]] [[100px 62px]] [[124px 200px]] [[200px 124px]] [[248px 400px]] [[371px 600px]] [[400px 248px]] [[556px 900px]] [[600px 371px]] [[742px 1200px]] [[900px 556px]] [[1200px 742px]]"
        },
        "$:/config/BitmapEditor/LineWidth": {
            "title": "$:/config/BitmapEditor/LineWidth",
            "text": "3px"
        },
        "$:/config/BitmapEditor/LineWidths": {
            "title": "$:/config/BitmapEditor/LineWidths",
            "text": "0.25px 0.5px 1px 2px 3px 4px 6px 8px 10px 16px 20px 28px 40px 56px 80px"
        },
        "$:/config/BitmapEditor/Opacities": {
            "title": "$:/config/BitmapEditor/Opacities",
            "text": "0.01 0.025 0.05 0.075 0.1 0.15 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0"
        },
        "$:/config/BitmapEditor/Opacity": {
            "title": "$:/config/BitmapEditor/Opacity",
            "text": "1.0"
        },
        "$:/config/DefaultMoreSidebarTab": {
            "title": "$:/config/DefaultMoreSidebarTab",
            "text": "$:/core/ui/MoreSideBar/Tags"
        },
        "$:/config/DefaultSidebarTab": {
            "title": "$:/config/DefaultSidebarTab",
            "text": "$:/core/ui/SideBar/Open"
        },
        "$:/config/DownloadSaver/AutoSave": {
            "title": "$:/config/DownloadSaver/AutoSave",
            "text": "no"
        },
        "$:/config/Drafts/TypingTimeout": {
            "title": "$:/config/Drafts/TypingTimeout",
            "text": "400"
        },
        "$:/config/EditMode/fieldname-filter": {
            "title": "$:/config/EditMode/fieldname-filter",
            "first-search-filter": "[!is[shadow]!is[system]fields[]search:title&lt;userInput&gt;sort[]] -created -creator -draft.of -draft.title -modified -modifier -tags -text -title -type",
            "second-search-filter": "[fields[]search:title&lt;userInput&gt;sort[]] -[!is[shadow]!is[system]fields[]]"
        },
        "$:/config/EditTabIndex": {
            "title": "$:/config/EditTabIndex",
            "text": "1\n"
        },
        "$:/config/EditTemplateFields/Visibility/title": {
            "title": "$:/config/EditTemplateFields/Visibility/title",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/tags": {
            "title": "$:/config/EditTemplateFields/Visibility/tags",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/text": {
            "title": "$:/config/EditTemplateFields/Visibility/text",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/creator": {
            "title": "$:/config/EditTemplateFields/Visibility/creator",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/created": {
            "title": "$:/config/EditTemplateFields/Visibility/created",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/modified": {
            "title": "$:/config/EditTemplateFields/Visibility/modified",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/modifier": {
            "title": "$:/config/EditTemplateFields/Visibility/modifier",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/type": {
            "title": "$:/config/EditTemplateFields/Visibility/type",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/draft.title": {
            "title": "$:/config/EditTemplateFields/Visibility/draft.title",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/draft.of": {
            "title": "$:/config/EditTemplateFields/Visibility/draft.of",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/revision": {
            "title": "$:/config/EditTemplateFields/Visibility/revision",
            "text": "hide"
        },
        "$:/config/EditTemplateFields/Visibility/bag": {
            "title": "$:/config/EditTemplateFields/Visibility/bag",
            "text": "hide"
        },
        "$:/config/EditorToolbarButtons/Visibility/$:/core/ui/EditorToolbar/heading-4": {
            "title": "$:/config/EditorToolbarButtons/Visibility/$:/core/ui/EditorToolbar/heading-4",
            "text": "hide"
        },
        "$:/config/EditorToolbarButtons/Visibility/$:/core/ui/EditorToolbar/heading-5": {
            "title": "$:/config/EditorToolbarButtons/Visibility/$:/core/ui/EditorToolbar/heading-5",
            "text": "hide"
        },
        "$:/config/EditorToolbarButtons/Visibility/$:/core/ui/EditorToolbar/heading-6": {
            "title": "$:/config/EditorToolbarButtons/Visibility/$:/core/ui/EditorToolbar/heading-6",
            "text": "hide"
        },
        "$:/config/EditorTypeMappings/image/gif": {
            "title": "$:/config/EditorTypeMappings/image/gif",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/webp": {
            "title": "$:/config/EditorTypeMappings/image/webp",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/heic": {
            "title": "$:/config/EditorTypeMappings/image/heic",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/heif": {
            "title": "$:/config/EditorTypeMappings/image/heif",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/jpeg": {
            "title": "$:/config/EditorTypeMappings/image/jpeg",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/jpg": {
            "title": "$:/config/EditorTypeMappings/image/jpg",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/png": {
            "title": "$:/config/EditorTypeMappings/image/png",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/x-icon": {
            "title": "$:/config/EditorTypeMappings/image/x-icon",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/text/vnd.tiddlywiki": {
            "title": "$:/config/EditorTypeMappings/text/vnd.tiddlywiki",
            "text": "text"
        },
        "$:/config/Manager/Show": {
            "title": "$:/config/Manager/Show",
            "text": "tiddlers"
        },
        "$:/config/Manager/Filter": {
            "title": "$:/config/Manager/Filter",
            "text": ""
        },
        "$:/config/Manager/Order": {
            "title": "$:/config/Manager/Order",
            "text": "forward"
        },
        "$:/config/Manager/Sort": {
            "title": "$:/config/Manager/Sort",
            "text": "title"
        },
        "$:/config/Manager/System": {
            "title": "$:/config/Manager/System",
            "text": "system"
        },
        "$:/config/Manager/Tag": {
            "title": "$:/config/Manager/Tag",
            "text": ""
        },
        "$:/state/popup/manager/item/$:/Manager/ItemMain/RawText": {
            "title": "$:/state/popup/manager/item/$:/Manager/ItemMain/RawText",
            "text": "hide"
        },
        "$:/config/MissingLinks": {
            "title": "$:/config/MissingLinks",
            "text": "yes"
        },
        "$:/config/Navigation/UpdateAddressBar": {
            "title": "$:/config/Navigation/UpdateAddressBar",
            "text": "no"
        },
        "$:/config/Navigation/UpdateHistory": {
            "title": "$:/config/Navigation/UpdateHistory",
            "text": "no"
        },
        "$:/config/NewImageType": {
            "title": "$:/config/NewImageType",
            "text": "jpeg"
        },
        "$:/config/OfficialPluginLibrary": {
            "title": "$:/config/OfficialPluginLibrary",
            "tags": "$:/tags/PluginLibrary",
            "url": "https://tiddlywiki.com/library/v5.1.24/index.html",
            "caption": "{{$:/language/OfficialPluginLibrary}}",
            "text": "{{$:/language/OfficialPluginLibrary/Hint}}\n"
        },
        "$:/config/Navigation/openLinkFromInsideRiver": {
            "title": "$:/config/Navigation/openLinkFromInsideRiver",
            "text": "below"
        },
        "$:/config/Navigation/openLinkFromOutsideRiver": {
            "title": "$:/config/Navigation/openLinkFromOutsideRiver",
            "text": "top"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/advanced-search": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/advanced-search",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/fold-all": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/fold-all",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/full-screen": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/full-screen",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/language": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/language",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/manager": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/manager",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-image": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-image",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/palette": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/palette",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/permaview": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/permaview",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/print": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/print",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/storyview": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/storyview",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/timestamp": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/timestamp",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/theme": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/theme",
            "text": "hide"
        },
        "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/unfold-all": {
            "title": "$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/unfold-all",
            "text": "hide"
        },
        "$:/config/Performance/Instrumentation": {
            "title": "$:/config/Performance/Instrumentation",
            "text": "no"
        },
        "$:/config/RegisterPluginType/plugin": {
            "title": "$:/config/RegisterPluginType/plugin",
            "text": "yes"
        },
        "$:/config/RegisterPluginType/theme": {
            "title": "$:/config/RegisterPluginType/theme",
            "text": "no"
        },
        "$:/config/RegisterPluginType/language": {
            "title": "$:/config/RegisterPluginType/language",
            "text": "no"
        },
        "$:/config/RegisterPluginType/info": {
            "title": "$:/config/RegisterPluginType/info",
            "text": "yes"
        },
        "$:/config/RegisterPluginType/import": {
            "title": "$:/config/RegisterPluginType/import",
            "text": "no"
        },
        "$:/config/SaveWikiButton/Template": {
            "title": "$:/config/SaveWikiButton/Template",
            "text": "$:/core/save/all"
        },
        "$:/config/SaverFilter": {
            "title": "$:/config/SaverFilter",
            "text": "[all[]] -[prefix[$:/HistoryList]] -[prefix[$:/StoryList]] -[status[pending]plugin-type[import]] -[[$:/isEncrypted]] -[[$:/UploadName]] -[prefix[$:/state/]] -[prefix[$:/temp/]]\n"
        },
        "$:/config/Search/AutoFocus": {
            "title": "$:/config/Search/AutoFocus",
            "text": "true"
        },
        "$:/config/Search/MinLength": {
            "title": "$:/config/Search/MinLength",
            "text": "3"
        },
        "$:/config/SearchResults/Default": {
            "title": "$:/config/SearchResults/Default",
            "text": "$:/core/ui/DefaultSearchResultList"
        },
        "$:/config/Server/ExternalFilters/[all[tiddlers]!is[system]sort[title]]": {
            "title": "$:/config/Server/ExternalFilters/[all[tiddlers]!is[system]sort[title]]",
            "text": "yes"
        },
        "$:/config/ShortcutInfo/add-field": {
            "title": "$:/config/ShortcutInfo/add-field",
            "text": "{{$:/language/EditTemplate/Fields/Add/Button/Hint}}"
        },
        "$:/config/ShortcutInfo/advanced-search": {
            "title": "$:/config/ShortcutInfo/advanced-search",
            "text": "{{$:/language/Buttons/AdvancedSearch/Hint}}"
        },
        "$:/config/ShortcutInfo/advanced-search-sidebar": {
            "title": "$:/config/ShortcutInfo/advanced-search-sidebar",
            "text": "{{$:/language/Shortcuts/Input/AdvancedSearch/Hint}}"
        },
        "$:/config/ShortcutInfo/bold": {
            "title": "$:/config/ShortcutInfo/bold",
            "text": "{{$:/language/Buttons/Bold/Hint}}"
        },
        "$:/config/ShortcutInfo/cancel-edit-tiddler": {
            "title": "$:/config/ShortcutInfo/cancel-edit-tiddler",
            "text": "{{$:/language/Buttons/Cancel/Hint}}"
        },
        "$:/config/ShortcutInfo/change-sidebar-layout": {
            "title": "$:/config/ShortcutInfo/change-sidebar-layout",
            "text": "{{$:/language/Shortcuts/SidebarLayout/Hint}}"
        },
        "$:/config/ShortcutInfo/delete-field": {
            "title": "$:/config/ShortcutInfo/delete-field",
            "text": "{{$:/language/EditTemplate/Field/Remove/Hint}}"
        },
        "$:/config/ShortcutInfo/excise": {
            "title": "$:/config/ShortcutInfo/excise",
            "text": "{{$:/language/Buttons/Excise/Hint}}"
        },
        "$:/config/ShortcutInfo/heading-1": {
            "title": "$:/config/ShortcutInfo/heading-1",
            "text": "{{$:/language/Buttons/Heading1/Hint}}"
        },
        "$:/config/ShortcutInfo/heading-2": {
            "title": "$:/config/ShortcutInfo/heading-2",
            "text": "{{$:/language/Buttons/Heading2/Hint}}"
        },
        "$:/config/ShortcutInfo/heading-3": {
            "title": "$:/config/ShortcutInfo/heading-3",
            "text": "{{$:/language/Buttons/Heading3/Hint}}"
        },
        "$:/config/ShortcutInfo/heading-4": {
            "title": "$:/config/ShortcutInfo/heading-4",
            "text": "{{$:/language/Buttons/Heading4/Hint}}"
        },
        "$:/config/ShortcutInfo/heading-5": {
            "title": "$:/config/ShortcutInfo/heading-5",
            "text": "{{$:/language/Buttons/Heading5/Hint}}"
        },
        "$:/config/ShortcutInfo/heading-6": {
            "title": "$:/config/ShortcutInfo/heading-6",
            "text": "{{$:/language/Buttons/Heading6/Hint}}"
        },
        "$:/config/ShortcutInfo/input-accept": {
            "title": "$:/config/ShortcutInfo/input-accept",
            "text": "{{$:/language/Shortcuts/Input/Accept/Hint}}"
        },
        "$:/config/ShortcutInfo/input-accept-variant": {
            "title": "$:/config/ShortcutInfo/input-accept-variant",
            "text": "{{$:/language/Shortcuts/Input/AcceptVariant/Hint}}"
        },
        "$:/config/ShortcutInfo/input-cancel": {
            "title": "$:/config/ShortcutInfo/input-cancel",
            "text": "{{$:/language/Shortcuts/Input/Cancel/Hint}}"
        },
        "$:/config/ShortcutInfo/input-down": {
            "title": "$:/config/ShortcutInfo/input-down",
            "text": "{{$:/language/Shortcuts/Input/Down/Hint}}"
        },
        "$:/config/ShortcutInfo/input-tab-left": {
            "title": "$:/config/ShortcutInfo/input-tab-left",
            "text": "{{$:/language/Shortcuts/Input/Tab-Left/Hint}}"
        },
        "$:/config/ShortcutInfo/input-tab-right": {
            "title": "$:/config/ShortcutInfo/input-tab-right",
            "text": "{{$:/language/Shortcuts/Input/Tab-Right/Hint}}"
        },
        "$:/config/ShortcutInfo/input-up": {
            "title": "$:/config/ShortcutInfo/input-up",
            "text": "{{$:/language/Shortcuts/Input/Up/Hint}}"
        },
        "$:/config/ShortcutInfo/italic": {
            "title": "$:/config/ShortcutInfo/italic",
            "text": "{{$:/language/Buttons/Italic/Hint}}"
        },
        "$:/config/ShortcutInfo/layout-switcher": {
            "title": "$:/config/ShortcutInfo/layout-switcher",
            "text": "{{$:/language/LayoutSwitcher/Description}}"
        },
        "$:/config/ShortcutInfo/link": {
            "title": "$:/config/ShortcutInfo/link",
            "text": "{{$:/language/Buttons/Link/Hint}}"
        },
        "$:/config/ShortcutInfo/linkify": {
            "title": "$:/config/ShortcutInfo/linkify",
            "text": "{{$:/language/Buttons/Linkify/Hint}}"
        },
        "$:/config/ShortcutInfo/list-bullet": {
            "title": "$:/config/ShortcutInfo/list-bullet",
            "text": "{{$:/language/Buttons/ListBullet/Hint}}"
        },
        "$:/config/ShortcutInfo/list-number": {
            "title": "$:/config/ShortcutInfo/list-number",
            "text": "{{$:/language/Buttons/ListNumber/Hint}}"
        },
        "$:/config/ShortcutInfo/mono-block": {
            "title": "$:/config/ShortcutInfo/mono-block",
            "text": "{{$:/language/Buttons/MonoBlock/Hint}}"
        },
        "$:/config/ShortcutInfo/mono-line": {
            "title": "$:/config/ShortcutInfo/mono-line",
            "text": "{{$:/language/Buttons/MonoLine/Hint}}"
        },
        "$:/config/ShortcutInfo/new-image": {
            "title": "$:/config/ShortcutInfo/new-image",
            "text": "{{$:/language/Buttons/NewImage/Hint}}"
        },
        "$:/config/ShortcutInfo/new-journal": {
            "title": "$:/config/ShortcutInfo/new-journal",
            "text": "{{$:/language/Buttons/NewJournal/Hint}}"
        },
        "$:/config/ShortcutInfo/new-tiddler": {
            "title": "$:/config/ShortcutInfo/new-tiddler",
            "text": "{{$:/language/Buttons/NewTiddler/Hint}}"
        },
        "$:/config/ShortcutInfo/picture": {
            "title": "$:/config/ShortcutInfo/picture",
            "text": "{{$:/language/Buttons/Picture/Hint}}"
        },
        "$:/config/ShortcutInfo/preview": {
            "title": "$:/config/ShortcutInfo/preview",
            "text": "{{$:/language/Buttons/Preview/Hint}}"
        },
        "$:/config/ShortcutInfo/quote": {
            "title": "$:/config/ShortcutInfo/quote",
            "text": "{{$:/language/Buttons/Quote/Hint}}"
        },
        "$:/config/ShortcutInfo/save-tiddler": {
            "title": "$:/config/ShortcutInfo/save-tiddler",
            "text": "{{$:/language/Buttons/Save/Hint}}"
        },
        "$:/config/ShortcutInfo/save-wiki": {
            "title": "$:/config/ShortcutInfo/save-wiki",
            "text": "{{$:/language/Buttons/SaveWiki/Hint}}"
        },
        "$:/config/ShortcutInfo/sidebar-search": {
            "title": "$:/config/ShortcutInfo/sidebar-search",
            "text": "{{$:/language/Buttons/SidebarSearch/Hint}}"
        },
        "$:/config/ShortcutInfo/stamp": {
            "title": "$:/config/ShortcutInfo/stamp",
            "text": "{{$:/language/Buttons/Stamp/Hint}}"
        },
        "$:/config/ShortcutInfo/strikethrough": {
            "title": "$:/config/ShortcutInfo/strikethrough",
            "text": "{{$:/language/Buttons/Strikethrough/Hint}}"
        },
        "$:/config/ShortcutInfo/subscript": {
            "title": "$:/config/ShortcutInfo/subscript",
            "text": "{{$:/language/Buttons/Subscript/Hint}}"
        },
        "$:/config/ShortcutInfo/superscript": {
            "title": "$:/config/ShortcutInfo/superscript",
            "text": "{{$:/language/Buttons/Superscript/Hint}}"
        },
        "$:/config/ShortcutInfo/toggle-sidebar": {
            "title": "$:/config/ShortcutInfo/toggle-sidebar",
            "text": "{{$:/language/Buttons/ToggleSidebar/Hint}}"
        },
        "$:/config/ShortcutInfo/transcludify": {
            "title": "$:/config/ShortcutInfo/transcludify",
            "text": "{{$:/language/Buttons/Transcludify/Hint}}"
        },
        "$:/config/ShortcutInfo/underline": {
            "title": "$:/config/ShortcutInfo/underline",
            "text": "{{$:/language/Buttons/Underline/Hint}}"
        },
        "$:/config/SwitcherTargets/layout": {
            "title": "$:/config/SwitcherTargets/layout",
            "text": "$:/snippets/LayoutSwitcher"
        },
        "$:/config/SwitcherTargets/language": {
            "title": "$:/config/SwitcherTargets/language",
            "text": "$:/snippets/languageswitcher"
        },
        "$:/config/SwitcherTargets/palette": {
            "title": "$:/config/SwitcherTargets/palette",
            "text": "$:/core/ui/ControlPanel/Palette"
        },
        "$:/config/SwitcherTargets/theme": {
            "title": "$:/config/SwitcherTargets/theme",
            "text": "$:/core/ui/ControlPanel/Theme"
        },
        "$:/config/SyncFilter": {
            "title": "$:/config/SyncFilter",
            "text": "[is[tiddler]] -[[$:/core]] -[[$:/library/sjcl.js]] -[prefix[$:/boot/]] -[prefix[$:/HistoryList]] -[status[pending]plugin-type[import]] -[[$:/isEncrypted]] -[prefix[$:/status/]] -[prefix[$:/state/]] -[prefix[$:/temp/]]\n"
        },
        "$:/config/SyncSystemTiddlersFromServer": {
            "title": "$:/config/SyncSystemTiddlersFromServer",
            "text": "no"
        },
        "$:/config/Tags/MinLength": {
            "title": "$:/config/Tags/MinLength",
            "text": "0"
        },
        "$:/config/TextEditor/EditorHeight/Height": {
            "title": "$:/config/TextEditor/EditorHeight/Height",
            "text": "400px"
        },
        "$:/config/TextEditor/EditorHeight/Mode": {
            "title": "$:/config/TextEditor/EditorHeight/Mode",
            "text": "auto"
        },
        "$:/config/TiddlerInfo/Default": {
            "title": "$:/config/TiddlerInfo/Default",
            "text": "$:/core/ui/TiddlerInfo/Fields"
        },
        "$:/config/TiddlerInfo/Mode": {
            "title": "$:/config/TiddlerInfo/Mode",
            "text": "popup"
        },
        "$:/config/Tiddlers/TitleLinks": {
            "title": "$:/config/Tiddlers/TitleLinks",
            "text": "no"
        },
        "$:/config/Toolbar/ButtonClass": {
            "title": "$:/config/Toolbar/ButtonClass",
            "text": "tc-btn-invisible"
        },
        "$:/config/Toolbar/Icons": {
            "title": "$:/config/Toolbar/Icons",
            "text": "yes"
        },
        "$:/config/Toolbar/Text": {
            "title": "$:/config/Toolbar/Text",
            "text": "no"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/clone": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/clone",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/export-tiddler": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/export-tiddler",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/info": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/info",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/more-tiddler-actions": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/more-tiddler-actions",
            "text": "show"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-here": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-here",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-journal-here": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-journal-here",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/open-window": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/open-window",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permalink": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permalink",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permaview": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permaview",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/delete": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/delete",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar",
            "text": "hide"
        },
        "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-others": {
            "title": "$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-others",
            "text": "hide"
        },
        "$:/config/shortcuts-mac/bold": {
            "title": "$:/config/shortcuts-mac/bold",
            "text": "meta-B"
        },
        "$:/config/shortcuts-mac/input-tab-left": {
            "title": "$:/config/shortcuts-mac/input-tab-left",
            "text": "ctrl-Left"
        },
        "$:/config/shortcuts-mac/input-tab-right": {
            "title": "$:/config/shortcuts-mac/input-tab-right",
            "text": "ctrl-Right"
        },
        "$:/config/shortcuts-mac/italic": {
            "title": "$:/config/shortcuts-mac/italic",
            "text": "meta-I"
        },
        "$:/config/shortcuts-mac/underline": {
            "title": "$:/config/shortcuts-mac/underline",
            "text": "meta-U"
        },
        "$:/config/shortcuts-mac/new-image": {
            "title": "$:/config/shortcuts-mac/new-image",
            "text": "ctrl-I"
        },
        "$:/config/shortcuts-mac/new-journal": {
            "title": "$:/config/shortcuts-mac/new-journal",
            "text": "ctrl-J"
        },
        "$:/config/shortcuts-mac/new-tiddler": {
            "title": "$:/config/shortcuts-mac/new-tiddler",
            "text": "ctrl-N"
        },
        "$:/config/shortcuts-mac/save-wiki": {
            "title": "$:/config/shortcuts-mac/save-wiki",
            "text": "meta-S"
        },
        "$:/config/shortcuts-not-mac/bold": {
            "title": "$:/config/shortcuts-not-mac/bold",
            "text": "ctrl-B"
        },
        "$:/config/shortcuts-not-mac/italic": {
            "title": "$:/config/shortcuts-not-mac/italic",
            "text": "ctrl-I"
        },
        "$:/config/shortcuts-not-mac/underline": {
            "title": "$:/config/shortcuts-not-mac/underline",
            "text": "ctrl-U"
        },
        "$:/config/shortcuts-not-mac/new-image": {
            "title": "$:/config/shortcuts-not-mac/new-image",
            "text": "alt-I"
        },
        "$:/config/shortcuts-not-mac/new-journal": {
            "title": "$:/config/shortcuts-not-mac/new-journal",
            "text": "alt-J"
        },
        "$:/config/shortcuts-not-mac/new-tiddler": {
            "title": "$:/config/shortcuts-not-mac/new-tiddler",
            "text": "alt-N"
        },
        "$:/config/shortcuts/add-field": {
            "title": "$:/config/shortcuts/add-field",
            "text": "enter"
        },
        "$:/config/shortcuts/advanced-search": {
            "title": "$:/config/shortcuts/advanced-search",
            "text": "ctrl-shift-A"
        },
        "$:/config/shortcuts/advanced-search-sidebar": {
            "title": "$:/config/shortcuts/advanced-search-sidebar",
            "text": "alt-Enter"
        },
        "$:/config/shortcuts/cancel-edit-tiddler": {
            "title": "$:/config/shortcuts/cancel-edit-tiddler",
            "text": "escape"
        },
        "$:/config/shortcuts/change-sidebar-layout": {
            "title": "$:/config/shortcuts/change-sidebar-layout",
            "text": "shift-alt-Down"
        },
        "$:/config/shortcuts/delete-field": {
            "title": "$:/config/shortcuts/delete-field",
            "text": "shift-alt-D"
        },
        "$:/config/shortcuts/excise": {
            "title": "$:/config/shortcuts/excise",
            "text": "ctrl-E"
        },
        "$:/config/shortcuts/sidebar-search": {
            "title": "$:/config/shortcuts/sidebar-search",
            "text": "ctrl-shift-F"
        },
        "$:/config/shortcuts/heading-1": {
            "title": "$:/config/shortcuts/heading-1",
            "text": "ctrl-1"
        },
        "$:/config/shortcuts/heading-2": {
            "title": "$:/config/shortcuts/heading-2",
            "text": "ctrl-2"
        },
        "$:/config/shortcuts/heading-3": {
            "title": "$:/config/shortcuts/heading-3",
            "text": "ctrl-3"
        },
        "$:/config/shortcuts/heading-4": {
            "title": "$:/config/shortcuts/heading-4",
            "text": "ctrl-4"
        },
        "$:/config/shortcuts/heading-5": {
            "title": "$:/config/shortcuts/heading-5",
            "text": "ctrl-5"
        },
        "$:/config/shortcuts/heading-6": {
            "title": "$:/config/shortcuts/heading-6",
            "text": "ctrl-6"
        },
        "$:/config/shortcuts/input-accept": {
            "title": "$:/config/shortcuts/input-accept",
            "text": "Enter"
        },
        "$:/config/shortcuts/input-accept-variant": {
            "title": "$:/config/shortcuts/input-accept-variant",
            "text": "ctrl-Enter"
        },
        "$:/config/shortcuts/input-cancel": {
            "title": "$:/config/shortcuts/input-cancel",
            "text": "Escape"
        },
        "$:/config/shortcuts/input-down": {
            "title": "$:/config/shortcuts/input-down",
            "text": "Down"
        },
        "$:/config/shortcuts/input-tab-left": {
            "title": "$:/config/shortcuts/input-tab-left",
            "text": "alt-Left"
        },
        "$:/config/shortcuts/input-tab-right": {
            "title": "$:/config/shortcuts/input-tab-right",
            "text": "alt-Right"
        },
        "$:/config/shortcuts/input-up": {
            "title": "$:/config/shortcuts/input-up",
            "text": "Up"
        },
        "$:/config/shortcuts/layout-switcher": {
            "title": "$:/config/shortcuts/layout-switcher",
            "text": "ctrl-shift-L"
        },
        "$:/config/shortcuts/link": {
            "title": "$:/config/shortcuts/link",
            "text": "ctrl-L"
        },
        "$:/config/shortcuts/linkify": {
            "title": "$:/config/shortcuts/linkify",
            "text": "alt-shift-L"
        },
        "$:/config/shortcuts/list-bullet": {
            "title": "$:/config/shortcuts/list-bullet",
            "text": "ctrl-shift-L"
        },
        "$:/config/shortcuts/list-number": {
            "title": "$:/config/shortcuts/list-number",
            "text": "ctrl-shift-N"
        },
        "$:/config/shortcuts/mono-block": {
            "title": "$:/config/shortcuts/mono-block",
            "text": "ctrl-shift-M"
        },
        "$:/config/shortcuts/mono-line": {
            "title": "$:/config/shortcuts/mono-line",
            "text": "ctrl-M"
        },
        "$:/config/shortcuts/picture": {
            "title": "$:/config/shortcuts/picture",
            "text": "ctrl-shift-I"
        },
        "$:/config/shortcuts/preview": {
            "title": "$:/config/shortcuts/preview",
            "text": "alt-P"
        },
        "$:/config/shortcuts/quote": {
            "title": "$:/config/shortcuts/quote",
            "text": "ctrl-Q"
        },
        "$:/config/shortcuts/save-tiddler": {
            "title": "$:/config/shortcuts/save-tiddler",
            "text": "ctrl+enter"
        },
        "$:/config/shortcuts/save-wiki": {
            "title": "$:/config/shortcuts/save-wiki",
            "text": "ctrl-S"
        },
        "$:/config/shortcuts/stamp": {
            "title": "$:/config/shortcuts/stamp",
            "text": "ctrl-S"
        },
        "$:/config/shortcuts/strikethrough": {
            "title": "$:/config/shortcuts/strikethrough",
            "text": "ctrl-T"
        },
        "$:/config/shortcuts/subscript": {
            "title": "$:/config/shortcuts/subscript",
            "text": "ctrl-shift-B"
        },
        "$:/config/shortcuts/superscript": {
            "title": "$:/config/shortcuts/superscript",
            "text": "ctrl-shift-P"
        },
        "$:/config/shortcuts/toggle-sidebar": {
            "title": "$:/config/shortcuts/toggle-sidebar",
            "text": "alt-shift-S"
        },
        "$:/config/shortcuts/transcludify": {
            "title": "$:/config/shortcuts/transcludify",
            "text": "alt-shift-T"
        },
        "$:/config/ui/EditTemplate": {
            "title": "$:/config/ui/EditTemplate",
            "text": "$:/core/ui/EditTemplate"
        },
        "$:/config/ui/ViewTemplate": {
            "title": "$:/config/ui/ViewTemplate",
            "text": "$:/core/ui/ViewTemplate"
        },
        "$:/config/WikiParserRules/Inline/wikilink": {
            "title": "$:/config/WikiParserRules/Inline/wikilink",
            "text": "enable"
        },
        "$:/snippets/currpalettepreview": {
            "title": "$:/snippets/currpalettepreview",
            "text": "\\define resolve-colour(macrocall)\n\\import $:/core/macros/utils\n\\whitespace trim\n&lt;$wikify name=\"name\" text=\"\"\"$macrocall$\"\"\"&gt;\n&lt;&lt;name&gt;&gt;\n&lt;/$wikify&gt;\n\\end\n\\define swatchStyle()\nbackground-color: $(swatchColour)$;\n\\end\n\\define swatch-inner()\n&lt;$set name=\"swatchColour\" value={{##$(colourResolved)$}}&gt;\n&lt;$list filter=\"[&lt;swatchColour&gt;!prefix[&lt;&lt;colour ]!suffix[&gt;&gt;]]\" variable=\"ignore\"&gt;\n&lt;div class=\"tc-swatch\" style=&lt;&lt;swatchStyle&gt;&gt; title=&lt;&lt;swatchTitle&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;swatchColour&gt;prefix[&lt;&lt;colour ]suffix[&gt;&gt;]]\" variable=\"ignore\"&gt;\n&lt;$wikify name=\"colourResolved\" text=\"\"\"&lt;$macrocall $name=\"resolve-colour\" macrocall=&lt;&lt;swatchColour&gt;&gt;/&gt;\"\"\"&gt;\n&lt;&lt;swatch-inner&gt;&gt;\n&lt;/$wikify&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\\define swatch()\n&lt;$set name=\"swatchColour\" value={{##$(colour)$}}&gt;\n&lt;$set name=\"swatchTitle\" value=&lt;&lt;colour&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;swatchColour&gt;!prefix[&lt;&lt;colour ]!suffix[&gt;&gt;]]\" variable=\"ignore\"&gt;\n&lt;div class=\"tc-swatch\" style=&lt;&lt;swatchStyle&gt;&gt; title=&lt;&lt;swatchTitle&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;swatchColour&gt;prefix[&lt;&lt;colour ]suffix[&gt;&gt;]]\" variable=\"ignore\"&gt;\n&lt;$wikify name=\"colourResolved\" text=\"\"\"&lt;$macrocall $name=\"resolve-colour\" macrocall=&lt;&lt;swatchColour&gt;&gt;/&gt;\"\"\"&gt;\n&lt;&lt;swatch-inner&gt;&gt;\n&lt;/$wikify&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n&lt;div class=\"tc-swatches-horiz\"&gt;&lt;$list filter=\"\nforeground\nbackground\nmuted-foreground\nprimary\npage-background\ntab-background\ntiddler-info-background\n\" variable=\"colour\"&gt;&lt;&lt;swatch&gt;&gt;&lt;/$list&gt;&lt;/div&gt;\n"
        },
        "$:/snippets/download-wiki-button": {
            "title": "$:/snippets/download-wiki-button",
            "text": "\\define lingo-base() $:/language/ControlPanel/Tools/Download/\n&lt;$button class=\"tc-btn-big-green\"&gt;\n&lt;$action-sendmessage $message=\"tm-download-file\" $param=\"$:/core/save/all\" filename=\"index.html\"/&gt;\n&lt;&lt;lingo Full/Caption&gt;&gt; {{$:/core/images/save-button}}\n&lt;/$button&gt;"
        },
        "$:/language": {
            "title": "$:/language",
            "text": "$:/languages/en-GB"
        },
        "$:/snippets/languageswitcher": {
            "title": "$:/snippets/languageswitcher",
            "text": "\\define flag-title()\n$(languagePluginTitle)$/icon\n\\end\n\n&lt;$linkcatcher to=\"$:/language\"&gt;\n&lt;div class=\"tc-chooser tc-language-chooser\"&gt;\n&lt;$list filter=\"[[$:/languages/en-GB]] [plugin-type[language]sort[description]]\"&gt;\n&lt;$set name=\"cls\" filter=\"[all[current]field:title{$:/language}]\" value=\"tc-chooser-item tc-chosen\" emptyValue=\"tc-chooser-item\"&gt;&lt;div class=&lt;&lt;cls&gt;&gt;&gt;\n&lt;$link&gt;\n&lt;span class=\"tc-image-button\"&gt;\n&lt;$set name=\"languagePluginTitle\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$transclude subtiddler=&lt;&lt;flag-title&gt;&gt;&gt;\n&lt;$list filter=\"[all[current]field:title[$:/languages/en-GB]]\"&gt;\n&lt;$transclude tiddler=\"$:/languages/en-GB/icon\"/&gt;\n&lt;/$list&gt;\n&lt;/$transclude&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;$view field=\"description\"&gt;\n&lt;$view field=\"name\"&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$view&gt;\n&lt;/$view&gt;\n&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;"
        },
        "$:/core/macros/CSS": {
            "title": "$:/core/macros/CSS",
            "tags": "$:/tags/Macro",
            "text": "\\define colour(name)\n&lt;$transclude tiddler={{$:/palette}} index=\"$name$\"&gt;&lt;$transclude tiddler=\"$:/palettes/Vanilla\" index=\"$name$\"&gt;&lt;$transclude tiddler=\"$:/config/DefaultColourMappings/$name$\"/&gt;&lt;/$transclude&gt;&lt;/$transclude&gt;\n\\end\n\n\\define color(name)\n&lt;&lt;colour $name$&gt;&gt;\n\\end\n\n\\define box-shadow(shadow)\n``\n  -webkit-box-shadow: $shadow$;\n     -moz-box-shadow: $shadow$;\n          box-shadow: $shadow$;\n``\n\\end\n\n\\define filter(filter)\n``\n  -webkit-filter: $filter$;\n     -moz-filter: $filter$;\n          filter: $filter$;\n``\n\\end\n\n\\define transition(transition)\n``\n  -webkit-transition: $transition$;\n     -moz-transition: $transition$;\n          transition: $transition$;\n``\n\\end\n\n\\define transform-origin(origin)\n``\n  -webkit-transform-origin: $origin$;\n     -moz-transform-origin: $origin$;\n          transform-origin: $origin$;\n``\n\\end\n\n\\define background-linear-gradient(gradient)\n``\nbackground-image: linear-gradient($gradient$);\nbackground-image: -o-linear-gradient($gradient$);\nbackground-image: -moz-linear-gradient($gradient$);\nbackground-image: -webkit-linear-gradient($gradient$);\nbackground-image: -ms-linear-gradient($gradient$);\n``\n\\end\n\n\\define column-count(columns)\n``\n-moz-column-count: $columns$;\n-webkit-column-count: $columns$;\ncolumn-count: $columns$;\n``\n\\end\n\n\\define datauri(title)\n&lt;$macrocall $name=\"makedatauri\" type={{$title$!!type}} text={{$title$}} _canonical_uri={{$title$!!_canonical_uri}}/&gt;\n\\end\n\n\\define if-sidebar(text)\n&lt;$reveal state=\"$:/state/sidebar\" type=\"match\" text=\"yes\" default=\"yes\"&gt;$text$&lt;/$reveal&gt;\n\\end\n\n\\define if-no-sidebar(text)\n&lt;$reveal state=\"$:/state/sidebar\" type=\"nomatch\" text=\"yes\" default=\"yes\"&gt;$text$&lt;/$reveal&gt;\n\\end\n\n\\define if-background-attachment(text)\n&lt;$reveal state=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimage\" type=\"nomatch\" text=\"\"&gt;$text$&lt;/$reveal&gt;\n\\end\n"
        },
        "$:/core/macros/colour-picker": {
            "title": "$:/core/macros/colour-picker",
            "tags": "$:/tags/Macro",
            "text": "\\define colour-picker-update-recent()\n&lt;$action-listops\n\t$tiddler=\"$:/config/ColourPicker/Recent\"\n\t$subfilter=\"$(colour-picker-value)$ [list[$:/config/ColourPicker/Recent]remove[$(colour-picker-value)$]] +[limit[8]]\"\n/&gt;\n\\end\n\n\\define colour-picker-inner(actions)\n&lt;$button tag=\"a\" tooltip=\"\"\"$(colour-picker-value)$\"\"\"&gt;\n\n$(colour-picker-update-recent)$\n\n$actions$\n\n&lt;span style=\"display:inline-block; background-color: $(colour-picker-value)$; width: 100%; height: 100%; border-radius: 50%;\"/&gt;\n\n&lt;/$button&gt;\n\\end\n\n\\define colour-picker-recent-inner(actions)\n&lt;$set name=\"colour-picker-value\" value=\"$(recentColour)$\"&gt;\n&lt;$macrocall $name=\"colour-picker-inner\" actions=\"\"\"$actions$\"\"\"/&gt;\n&lt;/$set&gt;\n\\end\n\n\\define colour-picker-recent(actions)\n{{$:/language/ColourPicker/Recent}} &lt;$list filter=\"[list[$:/config/ColourPicker/Recent]]\" variable=\"recentColour\"&gt;\n&lt;$macrocall $name=\"colour-picker-recent-inner\" actions=\"\"\"$actions$\"\"\"/&gt;&lt;/$list&gt;\n\\end\n\n\\define colour-picker(actions)\n&lt;div class=\"tc-colour-chooser\"&gt;\n\n&lt;$macrocall $name=\"colour-picker-recent\" actions=\"\"\"$actions$\"\"\"/&gt;\n\n---\n\n&lt;$list filter=\"LightPink Pink Crimson LavenderBlush PaleVioletRed HotPink DeepPink MediumVioletRed Orchid Thistle Plum Violet Magenta Fuchsia DarkMagenta Purple MediumOrchid DarkViolet DarkOrchid Indigo BlueViolet MediumPurple MediumSlateBlue SlateBlue DarkSlateBlue Lavender GhostWhite Blue MediumBlue MidnightBlue DarkBlue Navy RoyalBlue CornflowerBlue LightSteelBlue LightSlateGrey SlateGrey DodgerBlue AliceBlue SteelBlue LightSkyBlue SkyBlue DeepSkyBlue LightBlue PowderBlue CadetBlue Azure LightCyan PaleTurquoise Cyan Aqua DarkTurquoise DarkSlateGrey DarkCyan Teal MediumTurquoise LightSeaGreen Turquoise Aquamarine MediumAquamarine MediumSpringGreen MintCream SpringGreen MediumSeaGreen SeaGreen Honeydew LightGreen PaleGreen DarkSeaGreen LimeGreen Lime ForestGreen Green DarkGreen Chartreuse LawnGreen GreenYellow DarkOliveGreen YellowGreen OliveDrab Beige LightGoldenrodYellow Ivory LightYellow Yellow Olive DarkKhaki LemonChiffon PaleGoldenrod Khaki Gold Cornsilk Goldenrod DarkGoldenrod FloralWhite OldLace Wheat Moccasin Orange PapayaWhip BlanchedAlmond NavajoWhite AntiqueWhite Tan BurlyWood Bisque DarkOrange Linen Peru PeachPuff SandyBrown Chocolate SaddleBrown Seashell Sienna LightSalmon Coral OrangeRed DarkSalmon Tomato MistyRose Salmon Snow LightCoral RosyBrown IndianRed Red Brown FireBrick DarkRed Maroon White WhiteSmoke Gainsboro LightGrey Silver DarkGrey Grey DimGrey Black\" variable=\"colour-picker-value\"&gt;\n&lt;$macrocall $name=\"colour-picker-inner\" actions=\"\"\"$actions$\"\"\"/&gt;\n&lt;/$list&gt;\n\n---\n\n&lt;$edit-text tiddler=\"$:/config/ColourPicker/New\" tag=\"input\" default=\"\" placeholder=\"\"/&gt;\n&lt;$edit-text tiddler=\"$:/config/ColourPicker/New\" type=\"color\" tag=\"input\"/&gt;\n&lt;$set name=\"colour-picker-value\" value={{$:/config/ColourPicker/New}}&gt;\n&lt;$macrocall $name=\"colour-picker-inner\" actions=\"\"\"$actions$\"\"\"/&gt;\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n\\end\n"
        },
        "$:/core/macros/copy-to-clipboard": {
            "title": "$:/core/macros/copy-to-clipboard",
            "tags": "$:/tags/Macro",
            "text": "\\define copy-to-clipboard(src,class:\"tc-btn-invisible\",style)\n&lt;$button class=&lt;&lt;__class__&gt;&gt; style=&lt;&lt;__style__&gt;&gt; message=\"tm-copy-to-clipboard\" param=&lt;&lt;__src__&gt;&gt; tooltip={{$:/language/Buttons/CopyToClipboard/Hint}}&gt;\n{{$:/core/images/copy-clipboard}} &lt;$text text={{$:/language/Buttons/CopyToClipboard/Caption}}/&gt;\n&lt;/$button&gt;\n\\end\n\n\\define copy-to-clipboard-above-right(src,class:\"tc-btn-invisible\",style)\n&lt;div style=\"position: relative;\"&gt;\n&lt;div style=\"position: absolute; bottom: 0; right: 0;\"&gt;\n&lt;$macrocall $name=\"copy-to-clipboard\" src=&lt;&lt;__src__&gt;&gt; class=&lt;&lt;__class__&gt;&gt; style=&lt;&lt;__style__&gt;&gt;/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\\end\n\n"
        },
        "$:/core/macros/diff": {
            "title": "$:/core/macros/diff",
            "tags": "$:/tags/Macro",
            "text": "\\define compareTiddlerText(sourceTiddlerTitle,sourceSubTiddlerTitle,destTiddlerTitle,destSubTiddlerTitle)\n&lt;$set name=\"source\" tiddler=&lt;&lt;__sourceTiddlerTitle__&gt;&gt; subtiddler=&lt;&lt;__sourceSubTiddlerTitle__&gt;&gt;&gt;\n&lt;$set name=\"dest\" tiddler=&lt;&lt;__destTiddlerTitle__&gt;&gt; subtiddler=&lt;&lt;__destSubTiddlerTitle__&gt;&gt;&gt;\n&lt;$diff-text source=&lt;&lt;source&gt;&gt; dest=&lt;&lt;dest&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define compareTiddlers(sourceTiddlerTitle,sourceSubTiddlerTitle,destTiddlerTitle,destSubTiddlerTitle,exclude)\n&lt;table class=\"tc-diff-tiddlers\"&gt;\n&lt;tbody&gt;\n&lt;$set name=\"sourceFields\" filter=\"[&lt;__sourceTiddlerTitle__&gt;fields[]sort[]]\"&gt;\n&lt;$set name=\"destFields\" filter=\"[&lt;__destSubTiddlerTitle__&gt;subtiddlerfields&lt;__destTiddlerTitle__&gt;sort[]]\"&gt;\n&lt;$list filter=\"[enlist&lt;sourceFields&gt;] [enlist&lt;destFields&gt;] -[enlist&lt;__exclude__&gt;] +[sort[]]\" variable=\"fieldName\"&gt;\n&lt;tr&gt;\n&lt;th&gt;\n&lt;$text text=&lt;&lt;fieldName&gt;&gt;/&gt; \n&lt;/th&gt;\n&lt;td&gt;\n&lt;$set name=\"source\" tiddler=&lt;&lt;__sourceTiddlerTitle__&gt;&gt; subtiddler=&lt;&lt;__sourceSubTiddlerTitle__&gt;&gt; field=&lt;&lt;fieldName&gt;&gt;&gt;\n&lt;$set name=\"dest\" tiddler=&lt;&lt;__destTiddlerTitle__&gt;&gt; subtiddler=&lt;&lt;__destSubTiddlerTitle__&gt;&gt; field=&lt;&lt;fieldName&gt;&gt;&gt;\n&lt;$diff-text source=&lt;&lt;source&gt;&gt; dest=&lt;&lt;dest&gt;&gt;&gt;\n&lt;/$diff-text&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n\\end\n"
        },
        "$:/core/macros/dumpvariables": {
            "title": "$:/core/macros/dumpvariables",
            "tags": "$:/tags/Macro",
            "text": "\\define dumpvariables()\n&lt;ul&gt;\n&lt;$list filter=\"[variables[]]\" variable=\"varname\"&gt;\n&lt;li&gt;\n&lt;strong&gt;&lt;code&gt;&lt;$text text=&lt;&lt;varname&gt;&gt;/&gt;&lt;/code&gt;&lt;/strong&gt;:&lt;br/&gt;\n&lt;$codeblock code={{{ [&lt;varname&gt;getvariable[]] }}}/&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\\end\n"
        },
        "$:/core/macros/export": {
            "title": "$:/core/macros/export",
            "tags": "$:/tags/Macro",
            "text": "\\define exportButtonFilename(baseFilename)\n$baseFilename$$(extension)$\n\\end\n\n\\define exportButton(exportFilter:\"[!is[system]sort[title]]\",lingoBase,baseFilename:\"tiddlers\")\n&lt;$vars hint={{{ [&lt;__lingoBase__&gt;addsuffix[Hint]get[text]] }}} caption={{{  [&lt;__lingoBase__&gt;addsuffix[Caption]get[text]] }}}&gt;\n&lt;span class=\"tc-popup-keep\"&gt;&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/export\"&gt;&gt; tooltip=&lt;&lt;hint&gt;&gt; aria-label=&lt;&lt;caption&gt;&gt; class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\"tc-selected\"&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-icons&gt;match[yes]]\"&gt;\n{{$:/core/images/export-button}}\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;tv-config-toolbar-text&gt;match[yes]]\"&gt;\n&lt;span class=\"tc-btn-text\"&gt;&lt;$text text=&lt;&lt;caption&gt;&gt;/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;/span&gt;&lt;/$vars&gt;&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/export\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n&lt;$set name=\"count\" value={{{ [subfilter&lt;__exportFilter__&gt;count[]] }}}&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Exporter]]\"&gt;\n&lt;$list filter=\"[&lt;currentTiddler&gt;has[condition]subfilter{!!condition}limit[1]] ~[&lt;currentTiddler&gt;!has[condition]then[true]]\" variable=\"ignore\"&gt;\n&lt;$button class=\"tc-btn-invisible\"&gt;\n&lt;$action-sendmessage $message=\"tm-download-file\" $param=&lt;&lt;currentTiddler&gt;&gt; exportFilter=&lt;&lt;__exportFilter__&gt;&gt; filename={{{ [&lt;__baseFilename__&gt;addsuffix{!!extension}] }}}/&gt;\n&lt;$action-deletetiddler $tiddler=&lt;&lt;qualify \"$:/state/popup/export\"&gt;&gt;/&gt;\n&lt;$transclude field=\"description\"/&gt;\n&lt;/$button&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n\\end\n"
        },
        "$:/core/macros/image-picker": {
            "title": "$:/core/macros/image-picker",
            "created": "20170715180840889",
            "modified": "20170715180914005",
            "tags": "$:/tags/Macro",
            "type": "text/vnd.tiddlywiki",
            "text": "\\define image-picker-thumbnail(actions)\n&lt;$button tag=\"a\" tooltip=\"\"\"$(imageTitle)$\"\"\"&gt;\n$actions$\n&lt;$transclude tiddler=&lt;&lt;imageTitle&gt;&gt;/&gt;\n&lt;/$button&gt;\n\\end\n\n\\define image-picker-list(filter,actions)\n&lt;$list filter=\"\"\"$filter$\"\"\" variable=\"imageTitle\"&gt;\n&lt;$macrocall $name=\"image-picker-thumbnail\" actions=\"\"\"$actions$\"\"\"/&gt;\n&lt;/$list&gt;\n\\end\n\n\\define image-picker(actions,filter:\"[all[shadows+tiddlers]is[image]] -[type[application/pdf]] +[!has[draft.of]$subfilter$sort[title]]\",subfilter:\"\")\n&lt;div class=\"tc-image-chooser\"&gt;\n&lt;$vars state-system=&lt;&lt;qualify \"$:/state/image-picker/system\"&gt;&gt;&gt;\n&lt;$checkbox tiddler=&lt;&lt;state-system&gt;&gt; field=\"text\" checked=\"show\" unchecked=\"hide\" default=\"hide\"&gt;\n{{$:/language/SystemTiddlers/Include/Prompt}}\n&lt;/$checkbox&gt;\n&lt;$reveal state=&lt;&lt;state-system&gt;&gt; type=\"match\" text=\"hide\" default=\"hide\" tag=\"div\"&gt;\n&lt;$macrocall $name=\"image-picker-list\" filter=\"\"\"$filter$ +[!is[system]]\"\"\" actions=\"\"\"$actions$\"\"\"/&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=&lt;&lt;state-system&gt;&gt; type=\"nomatch\" text=\"hide\" default=\"hide\" tag=\"div\"&gt;\n&lt;$macrocall $name=\"image-picker-list\" filter=\"\"\"$filter$\"\"\" actions=\"\"\"$actions$\"\"\"/&gt;\n&lt;/$reveal&gt;\n&lt;/$vars&gt;\n&lt;/div&gt;\n\\end\n\n\\define image-picker-include-tagged-images(actions)\n&lt;$macrocall $name=\"image-picker\" filter=\"[all[shadows+tiddlers]is[image]] [all[shadows+tiddlers]tag[$:/tags/Image]] -[type[application/pdf]] +[!has[draft.of]sort[title]]\" actions=\"\"\"$actions$\"\"\"/&gt;\n\\end\n"
        },
        "$:/core/macros/keyboard-driven-input": {
            "title": "$:/core/macros/keyboard-driven-input",
            "tags": "$:/tags/Macro",
            "text": "\\define change-input-tab(stateTitle,tag,beforeafter,defaultState,actions)\n&lt;$set name=\"tabsList\" filter=\"[all[shadows+tiddlers]tag&lt;__tag__&gt;!has[draft.of]]\"&gt;\n&lt;$vars currentState={{{ [&lt;__stateTitle__&gt;!is[missing]get[text]] ~[&lt;__defaultState__&gt;] }}} firstTab={{{ [enlist&lt;tabsList&gt;nth[1]] }}} lastTab={{{ [enlist&lt;tabsList&gt;last[]] }}}&gt;\n&lt;$set name=\"nextTab\" value={{{ [all[shadows+tiddlers]tag&lt;__tag__&gt;!has[draft.of]$beforeafter$&lt;currentState&gt;] ~[[$beforeafter$]removeprefix[after]suffix[]addprefix&lt;firstTab&gt;] ~[[$beforeafter$]removeprefix[before]suffix[]addprefix&lt;lastTab&gt;] }}}&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;__stateTitle__&gt;&gt; text=&lt;&lt;nextTab&gt;&gt;/&gt;\n$actions$\n&lt;/$set&gt;\n&lt;/$vars&gt;\n&lt;/$set&gt;\n\\end\n\n\\define keyboard-input-actions()\n&lt;$list filter=\"[&lt;__index__&gt;match[]]\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;__storeTitle__&gt;&gt; text={{{ [&lt;__tiddler__&gt;get&lt;__field__&gt;] }}}/&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;__index__&gt;!match[]]\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;__storeTitle__&gt;&gt; text={{{ [&lt;__tiddler__&gt;getindex&lt;__index__&gt;] }}}/&gt;\n&lt;/$list&gt;\n\\end\n\n\\define input-next-actions-inner()\n&lt;$list filter=\"[&lt;nextItem&gt;minlength[1]]\" variable=\"ignore\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;__selectionStateTitle__&gt;&gt; text=&lt;&lt;nextItem&gt;&gt;/&gt;\n&lt;$list filter=\"[&lt;__index__&gt;match[]]\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;__tiddler__&gt;&gt; $field=&lt;&lt;__field__&gt;&gt; $value={{{ [&lt;nextItem&gt;] +[splitregexp[(?:.(?!-))+$]] }}}/&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;__index__&gt;!match[]]\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;__tiddler__&gt;&gt; $index=&lt;&lt;__index__&gt;&gt; $value={{{ [&lt;nextItem&gt;] +[splitregexp[(?:.(?!-))+$]] }}}/&gt;\n&lt;/$list&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;__refreshTitle__&gt;&gt; text=\"yes\"/&gt;\n&lt;/$list&gt;\n\\end\n\n\\define input-next-actions(afterOrBefore:\"after\",reverse:\"\")\n&lt;$list filter=\"[&lt;__storeTitle__&gt;get[text]minlength&lt;__filterMinLength__&gt;] [&lt;__filterMinLength__&gt;match[0]] +[limit[1]]\" variable=\"ignore\"&gt;\n&lt;$vars userInput={{{ [&lt;__storeTitle__&gt;get[text]] }}} selectedItem={{{ [&lt;__selectionStateTitle__&gt;get[text]] }}}&gt;\n&lt;$set name=\"configTiddler\" value={{{ [subfilter&lt;__configTiddlerFilter__&gt;] }}}&gt;\n&lt;$vars primaryListFilter={{{ [&lt;configTiddler&gt;get&lt;__firstSearchFilterField__&gt;] }}} secondaryListFilter={{{ [&lt;configTiddler&gt;get&lt;__secondSearchFilterField__&gt;] }}}&gt;\n&lt;$set name=\"filteredList\" filter=\"[subfilter&lt;primaryListFilter&gt;addsuffix[-primaryList]] =[subfilter&lt;secondaryListFilter&gt;addsuffix[-secondaryList]]\"&gt;\n&lt;$vars nextItem={{{ [enlist&lt;filteredList&gt;$afterOrBefore$&lt;selectedItem&gt;] ~[enlist&lt;filteredList&gt;$reverse$nth[1]] }}} firstItem={{{ [enlist&lt;filteredList&gt;nth[1]] }}} lastItem={{{ [enlist&lt;filteredList&gt;last[]] }}}&gt;\n&lt;$list filter=\"[&lt;selectedItem&gt;match&lt;firstItem&gt;!match&lt;lastItem&gt;]\" variable=\"ignore\"&gt;\n&lt;$set name=\"nextItem\" value={{{ [[$afterOrBefore$]match[before]then&lt;userInput&gt;addsuffix[-userInput]] ~[&lt;nextItem&gt;] }}}&gt;\n&lt;&lt;input-next-actions-inner&gt;&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;selectedItem&gt;match&lt;lastItem&gt;!match&lt;firstItem&gt;]\" variable=\"ignore\"&gt;\n&lt;$set name=\"nextItem\" value={{{ [[$afterOrBefore$]match[after]then&lt;userInput&gt;addsuffix[-userInput]] ~[&lt;nextItem&gt;] }}}&gt;\n&lt;&lt;input-next-actions-inner&gt;&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;selectedItem&gt;match&lt;firstItem&gt;match&lt;lastItem&gt;]\" variable=\"ignore\"&gt;\n&lt;$set name=\"nextItem\" value={{{ [&lt;userInput&gt;addsuffix[-userInput]] }}}&gt;\n&lt;&lt;input-next-actions-inner&gt;&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;selectedItem&gt;!match&lt;firstItem&gt;!match&lt;lastItem&gt;]\" variable=\"ignore\"&gt;\n&lt;&lt;input-next-actions-inner&gt;&gt;\n&lt;/$list&gt;\n&lt;/$vars&gt;\n&lt;/$set&gt;\n&lt;/$vars&gt;\n&lt;/$set&gt;\n&lt;/$vars&gt;\n&lt;/$list&gt;\n\\end\n\n\\define keyboard-driven-input(tiddler,storeTitle,field:\"text\",index:\"\",tag:\"input\",type,focus:\"\",inputAcceptActions,inputAcceptVariantActions,inputCancelActions,placeholder:\"\",default:\"\",class,focusPopup,rows,minHeight,tabindex,size,autoHeight,filterMinLength:\"0\",refreshTitle,selectionStateTitle,cancelPopups:\"\",configTiddlerFilter,firstSearchFilterField:\"first-search-filter\",secondSearchFilterField:\"second-search-filter\")\n\\whitespace trim\n&lt;$keyboard key=\"((input-accept))\" actions=&lt;&lt;__inputAcceptActions__&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-accept-variant))\" actions=&lt;&lt;__inputAcceptVariantActions__&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-up))\" actions=&lt;&lt;input-next-actions \"before\" \"reverse[]\"&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-down))\" actions=&lt;&lt;input-next-actions&gt;&gt;&gt;\n&lt;$keyboard key=\"((input-cancel))\" actions=&lt;&lt;__inputCancelActions__&gt;&gt;&gt;\n&lt;$edit-text tiddler=&lt;&lt;__tiddler__&gt;&gt; field=&lt;&lt;__field__&gt;&gt; index=&lt;&lt;__index__&gt;&gt; \n\t\tinputActions=&lt;&lt;keyboard-input-actions&gt;&gt; tag=&lt;&lt;__tag__&gt;&gt; class=&lt;&lt;__class__&gt;&gt; \n\t\tplaceholder=&lt;&lt;__placeholder__&gt;&gt; default=&lt;&lt;__default__&gt;&gt; focusPopup=&lt;&lt;__focusPopup__&gt;&gt; \n\t\tfocus=&lt;&lt;__focus__&gt;&gt; type=&lt;&lt;__type__&gt;&gt; rows=&lt;&lt;__rows__&gt;&gt; minHeight=&lt;&lt;__minHeight__&gt;&gt; \n\t\ttabindex=&lt;&lt;__tabindex__&gt;&gt; size=&lt;&lt;__size__&gt;&gt; autoHeight=&lt;&lt;__autoHeight__&gt;&gt; \n\t\trefreshTitle=&lt;&lt;__refreshTitle__&gt;&gt; cancelPopups=&lt;&lt;__cancelPopups__&gt;&gt;/&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n\\end\n"
        },
        "$:/core/macros/lingo": {
            "title": "$:/core/macros/lingo",
            "tags": "$:/tags/Macro",
            "text": "\\define lingo-base()\n$:/language/\n\\end\n\n\\define lingo(title)\n{{$(lingo-base)$$title$}}\n\\end\n"
        },
        "$:/core/macros/list": {
            "title": "$:/core/macros/list",
            "tags": "$:/tags/Macro",
            "text": "\\define list-links(filter,type:\"ul\",subtype:\"li\",class:\"\",emptyMessage)\n\\whitespace trim\n&lt;$type$ class=\"$class$\"&gt;\n&lt;$list filter=\"$filter$\" emptyMessage=&lt;&lt;__emptyMessage__&gt;&gt;&gt;\n&lt;$subtype$&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude field=\"caption\"&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$transclude&gt;\n&lt;/$link&gt;\n&lt;/$subtype$&gt;\n&lt;/$list&gt;\n&lt;/$type$&gt;\n\\end\n\n\\define list-links-draggable-drop-actions()\n&lt;$action-listops $tiddler=&lt;&lt;targetTiddler&gt;&gt; $field=&lt;&lt;targetField&gt;&gt; $subfilter=\"+[insertbefore:currentTiddler&lt;actionTiddler&gt;]\"/&gt;\n\\end\n\n\\define list-links-draggable(tiddler,field:\"list\",type:\"ul\",subtype:\"li\",class:\"\",itemTemplate)\n\\whitespace trim\n&lt;span class=\"tc-links-draggable-list\"&gt;\n&lt;$vars targetTiddler=\"\"\"$tiddler$\"\"\" targetField=\"\"\"$field$\"\"\"&gt;\n&lt;$type$ class=\"$class$\"&gt;\n&lt;$list filter=\"[list[$tiddler$!!$field$]]\"&gt;\n&lt;$droppable actions=&lt;&lt;list-links-draggable-drop-actions&gt;&gt; tag=\"\"\"$subtype$\"\"\" enable=&lt;&lt;tv-enable-drag-and-drop&gt;&gt;&gt;\n&lt;div class=\"tc-droppable-placeholder\"/&gt;\n&lt;div&gt;\n&lt;$transclude tiddler=\"\"\"$itemTemplate$\"\"\"&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude field=\"caption\"&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$transclude&gt;\n&lt;/$link&gt;\n&lt;/$transclude&gt;\n&lt;/div&gt;\n&lt;/$droppable&gt;\n&lt;/$list&gt;\n&lt;$tiddler tiddler=\"\"&gt;\n&lt;$droppable actions=&lt;&lt;list-links-draggable-drop-actions&gt;&gt; tag=\"div\" enable=&lt;&lt;tv-enable-drag-and-drop&gt;&gt;&gt;\n&lt;div class=\"tc-droppable-placeholder\"&gt;\n{{$:/core/images/blank}}\n&lt;/div&gt;\n&lt;div style=\"height:0.5em;\"/&gt;\n&lt;/$droppable&gt;\n&lt;/$tiddler&gt;\n&lt;/$type$&gt;\n&lt;/$vars&gt;\n&lt;/span&gt;\n\\end\n\n\\define list-tagged-draggable-drop-actions(tag)\n&lt;!-- Save the current ordering of the tiddlers with this tag --&gt;\n&lt;$set name=\"order\" filter=\"[&lt;__tag__&gt;tagging[]]\"&gt;\n&lt;!-- Remove any list-after or list-before fields from the tiddlers with this tag --&gt;\n&lt;$list filter=\"[&lt;__tag__&gt;tagging[]]\"&gt;\n&lt;$action-deletefield $field=\"list-before\"/&gt;\n&lt;$action-deletefield $field=\"list-after\"/&gt;\n&lt;/$list&gt;\n&lt;!-- Save the new order to the Tag Tiddler --&gt;\n&lt;$action-listops $tiddler=&lt;&lt;__tag__&gt;&gt; $field=\"list\" $filter=\"+[enlist&lt;order&gt;] +[insertbefore:currentTiddler&lt;actionTiddler&gt;]\"/&gt;\n&lt;!-- Make sure the newly added item has the right tag --&gt;\n&lt;!-- Removing this line makes dragging tags within the dropdown work as intended --&gt;\n&lt;!--&lt;$action-listops $tiddler=&lt;&lt;actionTiddler&gt;&gt; $tags=&lt;&lt;__tag__&gt;&gt;/&gt;--&gt;\n&lt;!-- Using the following 5 lines as replacement makes dragging titles from outside into the dropdown apply the tag --&gt;\n&lt;$list filter=\"[&lt;actionTiddler&gt;!contains:tags&lt;__tag__&gt;]\"&gt;\n&lt;$fieldmangler tiddler=&lt;&lt;actionTiddler&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\"tm-add-tag\" $param=&lt;&lt;__tag__&gt;&gt;/&gt;\n&lt;/$fieldmangler&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n\\define list-tagged-draggable(tag,subFilter,emptyMessage,itemTemplate,elementTag:\"div\",storyview:\"\")\n\\whitespace trim\n&lt;span class=\"tc-tagged-draggable-list\"&gt;\n&lt;$set name=\"tag\" value=&lt;&lt;__tag__&gt;&gt;&gt;\n&lt;$list filter=\"[&lt;__tag__&gt;tagging[]$subFilter$]\" emptyMessage=&lt;&lt;__emptyMessage__&gt;&gt; storyview=&lt;&lt;__storyview__&gt;&gt;&gt;\n&lt;$elementTag$ class=\"tc-menu-list-item\"&gt;\n&lt;$droppable actions=\"\"\"&lt;$macrocall $name=\"list-tagged-draggable-drop-actions\" tag=&lt;&lt;__tag__&gt;&gt;/&gt;\"\"\" enable=&lt;&lt;tv-enable-drag-and-drop&gt;&gt;&gt;\n&lt;$elementTag$ class=\"tc-droppable-placeholder\"/&gt;\n&lt;$elementTag$&gt;\n&lt;$transclude tiddler=\"\"\"$itemTemplate$\"\"\"&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/$transclude&gt;\n&lt;/$elementTag$&gt;\n&lt;/$droppable&gt;\n&lt;/$elementTag$&gt;\n&lt;/$list&gt;\n&lt;$tiddler tiddler=\"\"&gt;\n&lt;$droppable actions=\"\"\"&lt;$macrocall $name=\"list-tagged-draggable-drop-actions\" tag=&lt;&lt;__tag__&gt;&gt;/&gt;\"\"\" enable=&lt;&lt;tv-enable-drag-and-drop&gt;&gt;&gt;\n&lt;$elementTag$ class=\"tc-droppable-placeholder\"/&gt;\n&lt;$elementTag$ style=\"height:0.5em;\"&gt;\n&lt;/$elementTag$&gt;\n&lt;/$droppable&gt;\n&lt;/$tiddler&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n\\end\n"
        },
        "$:/core/macros/tabs": {
            "title": "$:/core/macros/tabs",
            "tags": "$:/tags/Macro",
            "text": "\\define tabs(tabsList,default,state:\"$:/state/tab\",class,template,buttonTemplate,retain,actions,explicitState)\n&lt;$set name=\"qualifiedState\" value=&lt;&lt;qualify \"$state$\"&gt;&gt;&gt;\n&lt;$vars tabsState={{{ [&lt;__explicitState__&gt;minlength[1]] ~[&lt;qualifiedState&gt;] }}}&gt;\n&lt;div class=\"tc-tab-set $class$\"&gt;\n&lt;div class=\"tc-tab-buttons $class$\"&gt;\n&lt;$list filter=\"$tabsList$\" variable=\"currentTab\" storyview=\"pop\"&gt;&lt;$set name=\"save-currentTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$tiddler tiddler=&lt;&lt;currentTab&gt;&gt;&gt;&lt;$button set=&lt;&lt;tabsState&gt;&gt; setTo=&lt;&lt;currentTab&gt;&gt; default=\"$default$\" selectedClass=\"tc-tab-selected\" tooltip={{!!tooltip}}&gt;\n&lt;$tiddler tiddler=&lt;&lt;save-currentTiddler&gt;&gt;&gt;\n&lt;$set name=\"tv-wikilinks\" value=\"no\"&gt;\n&lt;$transclude tiddler=\"$buttonTemplate$\" mode=\"inline\"&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; field=\"caption\"&gt;\n&lt;$macrocall $name=\"currentTab\" $type=\"text/plain\" $output=\"text/plain\"/&gt;\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&lt;/$set&gt;&lt;/$tiddler&gt;$actions$&lt;/$button&gt;&lt;/$tiddler&gt;&lt;/$set&gt;&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-tab-divider $class$\"/&gt;\n&lt;div class=\"tc-tab-content $class$\"&gt;\n&lt;$list filter=\"$tabsList$\" variable=\"currentTab\"&gt;\n\n&lt;$reveal type=\"match\" state=&lt;&lt;tabsState&gt;&gt; text=&lt;&lt;currentTab&gt;&gt; default=\"$default$\" retain=\"\"\"$retain$\"\"\"&gt;\n\n&lt;$transclude tiddler=\"$template$\" mode=\"block\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; mode=\"block\"/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$vars&gt;\n&lt;/$set&gt;\n\\end\n"
        },
        "$:/core/macros/tag-picker": {
            "title": "$:/core/macros/tag-picker",
            "tags": "$:/tags/Macro",
            "first-search-filter": "[tags[]!is[system]search:title&lt;userInput&gt;sort[]]",
            "second-search-filter": "[tags[]is[system]search:title&lt;userInput&gt;sort[]]",
            "text": "\\define get-tagpicker-focus-selector() [data-tiddler-title=\"$(currentTiddlerCSSEscaped)$\"] .tc-add-tag-name input\n\n\\define delete-tag-state-tiddlers() &lt;$action-deletetiddler $filter=\"[&lt;newTagNameTiddler&gt;] [&lt;storeTitle&gt;] [&lt;tagSelectionState&gt;]\"/&gt;\n\n\\define add-tag-actions(actions,tagField:\"tags\")\n&lt;$set name=\"tag\" value={{{ [&lt;__tiddler__&gt;get[text]] }}}&gt;\n&lt;$list filter=\"[&lt;saveTiddler&gt;!contains:$tagField$&lt;tag&gt;!match[]]\" variable=\"ignore\" emptyMessage=\"\"\"\n&lt;$action-listops $tiddler=&lt;&lt;saveTiddler&gt;&gt; $field=&lt;&lt;__tagField__&gt;&gt; $subfilter=\"-[&lt;tag&gt;]\"/&gt;\n\"\"\"&gt;\n&lt;$action-listops $tiddler=&lt;&lt;saveTiddler&gt;&gt; $field=&lt;&lt;__tagField__&gt;&gt; $subfilter=\"[&lt;tag&gt;]\"/&gt;\n$actions$\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;&lt;delete-tag-state-tiddlers&gt;&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;refreshTitle&gt;&gt; text=\"yes\"/&gt;\n\\end\n\n\\define clear-tags-actions-inner()\n&lt;$list filter=\"[&lt;storeTitle&gt;has[text]] [&lt;newTagNameTiddler&gt;has[text]]\" variable=\"ignore\" emptyMessage=\"\"\"&lt;&lt;cancel-delete-tiddler-actions \"cancel\"&gt;&gt;\"\"\"&gt;\n&lt;&lt;delete-tag-state-tiddlers&gt;&gt;\n&lt;/$list&gt;\n\\end\n\n\\define clear-tags-actions()\n&lt;$set name=\"userInput\" value={{{ [&lt;storeTitle&gt;get[text]] }}}&gt;\n&lt;$list filter=\"[&lt;newTagNameTiddler&gt;get[text]!match&lt;userInput&gt;]\" emptyMessage=\"\"\"&lt;&lt;clear-tags-actions-inner&gt;&gt;\"\"\"&gt;\n&lt;$action-setfield $tiddler=&lt;&lt;newTagNameTiddler&gt;&gt; text=&lt;&lt;userInput&gt;&gt;/&gt;&lt;$action-setfield $tiddler=&lt;&lt;refreshTitle&gt;&gt; text=\"yes\"/&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n\\define tag-picker-inner(actions,tagField:\"tags\")\n\\whitespace trim\n&lt;$vars newTagNameInputTiddlerQualified=&lt;&lt;qualify \"$:/temp/NewTagName/input\"&gt;&gt; newTagNameSelectionTiddlerQualified=&lt;&lt;qualify \"$:/temp/NewTagName/selected-item\"&gt;&gt; fallbackTarget={{$(palette)$##tag-background}} colourA={{$(palette)$##foreground}} colourB={{$(palette)$##background}}&gt;\n&lt;$vars storeTitle={{{ [&lt;newTagNameInputTiddler&gt;!match[]] ~[&lt;newTagNameInputTiddlerQualified&gt;] }}} tagSelectionState={{{ [&lt;newTagNameSelectionTiddler&gt;!match[]] ~[&lt;newTagNameSelectionTiddlerQualified&gt;] }}}&gt;\n&lt;$vars refreshTitle=&lt;&lt;qualify \"$:/temp/NewTagName/refresh\"&gt;&gt; nonSystemTagsFilter=\"[tags[]!is[system]search:title&lt;userInput&gt;sort[]]\" systemTagsFilter=\"[tags[]is[system]search:title&lt;userInput&gt;sort[]]\"&gt;\n&lt;div class=\"tc-edit-add-tag\"&gt;\n&lt;div&gt;\n&lt;span class=\"tc-add-tag-name tc-small-gap-right\"&gt;\n&lt;$macrocall $name=\"keyboard-driven-input\" tiddler=&lt;&lt;newTagNameTiddler&gt;&gt; storeTitle=&lt;&lt;storeTitle&gt;&gt; refreshTitle=&lt;&lt;refreshTitle&gt;&gt;\n\t\tselectionStateTitle=&lt;&lt;tagSelectionState&gt;&gt; inputAcceptActions=\"\"\"&lt;$macrocall $name=\"add-tag-actions\" actions=&lt;&lt;__actions__&gt;&gt; tagField=&lt;&lt;__tagField__&gt;&gt;/&gt;\"\"\"\n\t\tinputCancelActions=&lt;&lt;clear-tags-actions&gt;&gt; tag=\"input\" placeholder={{$:/language/EditTemplate/Tags/Add/Placeholder}}\n\t\tfocusPopup=&lt;&lt;qualify \"$:/state/popup/tags-auto-complete\"&gt;&gt; class=\"tc-edit-texteditor tc-popup-handle\" tabindex=&lt;&lt;tabIndex&gt;&gt; \n\t\tfocus={{{ [{$:/config/AutoFocus}match[tags]then[true]] ~[[false]] }}} filterMinLength={{$:/config/Tags/MinLength}} \n\t\tcancelPopups=&lt;&lt;cancelPopups&gt;&gt; configTiddlerFilter=\"[[$:/core/macros/tag-picker]]\"/&gt;\n&lt;/span&gt;&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/tags-auto-complete\"&gt;&gt; class=\"tc-btn-invisible tc-btn-dropdown\" tooltip={{$:/language/EditTemplate/Tags/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Tags/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;&lt;$reveal state=&lt;&lt;storeTitle&gt;&gt; type=\"nomatch\" text=\"\"&gt;&lt;$button class=\"tc-btn-invisible tc-small-gap tc-btn-dropdown\" tooltip={{$:/language/EditTemplate/Tags/ClearInput/Hint}} aria-label={{$:/language/EditTemplate/Tags/ClearInput/Caption}}&gt;{{$:/core/images/close-button}}&lt;&lt;delete-tag-state-tiddlers&gt;&gt;&lt;/$button&gt;&lt;/$reveal&gt;&lt;span class=\"tc-add-tag-button tc-small-gap-left\"&gt;\n&lt;$set name=\"tag\" value={{{ [&lt;newTagNameTiddler&gt;get[text]] }}}&gt;\n&lt;$button set=&lt;&lt;newTagNameTiddler&gt;&gt; setTo=\"\" class=\"\"&gt;\n&lt;$action-listops $tiddler=&lt;&lt;saveTiddler&gt;&gt; $field=&lt;&lt;__tagField__&gt;&gt; $subfilter=\"[&lt;tag&gt;]\"/&gt;\n$actions$\n&lt;$set name=\"currentTiddlerCSSEscaped\" value={{{ [&lt;saveTiddler&gt;escapecss[]] }}}&gt;\n&lt;&lt;delete-tag-state-tiddlers&gt;&gt;&lt;$action-sendmessage $message=\"tm-focus-selector\" $param=&lt;&lt;get-tagpicker-focus-selector&gt;&gt;/&gt;\n&lt;/$set&gt;\n{{$:/language/EditTemplate/Tags/Add/Button}}\n&lt;/$button&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n&lt;div class=\"tc-block-dropdown-wrapper\"&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/tags-auto-complete\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n&lt;div class=\"tc-block-dropdown tc-block-tags-dropdown\"&gt;\n&lt;$set name=\"userInput\" value={{{ [&lt;storeTitle&gt;get[text]] }}}&gt;\n&lt;$list filter=\"[&lt;userInput&gt;minlength{$:/config/Tags/MinLength}limit[1]]\" emptyMessage=\"\"\"&lt;div class=\"tc-search-results\"&gt;{{$:/language/Search/Search/TooShort}}&lt;/div&gt;\"\"\" variable=\"listItem\"&gt;\n&lt;$list filter=&lt;&lt;nonSystemTagsFilter&gt;&gt; variable=\"tag\"&gt;\n&lt;$list filter=\"[&lt;tag&gt;addsuffix[-primaryList]] -[&lt;tagSelectionState&gt;get[text]]\" emptyMessage=\"\"\"&lt;$vars button-classes=\"tc-btn-invisible tc-tag-button-selected\" actions=&lt;&lt;__actions__&gt;&gt; tagField=&lt;&lt;__tagField__&gt;&gt; currentTiddler=&lt;&lt;tag&gt;&gt;&gt;{{||$:/core/ui/TagPickerTagTemplate}}&lt;/$vars&gt;\"\"\"&gt;\n&lt;$vars button-classes=\"tc-btn-invisible\" actions=&lt;&lt;__actions__&gt;&gt; tagField=&lt;&lt;__tagField__&gt;&gt; currentTiddler=&lt;&lt;tag&gt;&gt;&gt;{{||$:/core/ui/TagPickerTagTemplate}}&lt;/$vars&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;&lt;/$list&gt;\n&lt;hr&gt;\n&lt;$list filter=\"[&lt;userInput&gt;minlength{$:/config/Tags/MinLength}limit[1]]\" emptyMessage=\"\"\"&lt;div class=\"tc-search-results\"&gt;{{$:/language/Search/Search/TooShort}}&lt;/div&gt;\"\"\" variable=\"listItem\"&gt;\n&lt;$list filter=&lt;&lt;systemTagsFilter&gt;&gt; variable=\"tag\"&gt;\n&lt;$list filter=\"[&lt;tag&gt;addsuffix[-secondaryList]] -[&lt;tagSelectionState&gt;get[text]]\" emptyMessage=\"\"\"&lt;$vars button-classes=\"tc-btn-invisible tc-tag-button-selected\" actions=&lt;&lt;__actions__&gt;&gt; tagField=&lt;&lt;__tagField__&gt;&gt; currentTiddler=&lt;&lt;tag&gt;&gt;&gt;{{||$:/core/ui/TagPickerTagTemplate}}&lt;/$vars&gt;\"\"\"&gt;\n&lt;$vars button-classes=\"tc-btn-invisible\" actions=&lt;&lt;__actions__&gt;&gt; tagField=&lt;&lt;__tagField__&gt;&gt; currentTiddler=&lt;&lt;tag&gt;&gt;&gt;{{||$:/core/ui/TagPickerTagTemplate}}&lt;/$vars&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$vars&gt;\n&lt;/$vars&gt;\n&lt;/$vars&gt;\n\\end\n\\define tag-picker(actions,tagField:\"tags\")\n\\whitespace trim\n&lt;$vars saveTiddler=&lt;&lt;currentTiddler&gt;&gt; palette={{$:/palette}}&gt;\n&lt;$list filter=\"[&lt;newTagNameTiddler&gt;match[]]\" emptyMessage=\"\"\"&lt;$macrocall $name=\"tag-picker-inner\" actions=&lt;&lt;__actions__&gt;&gt; tagField=&lt;&lt;__tagField__&gt;&gt;/&gt;\"\"\"&gt;\n&lt;$set name=\"newTagNameTiddler\" value=&lt;&lt;qualify \"$:/temp/NewTagName\"&gt;&gt;&gt;\n&lt;$macrocall $name=\"tag-picker-inner\" actions=&lt;&lt;__actions__&gt;&gt; tagField=&lt;&lt;__tagField__&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$vars&gt;\n\\end\n"
        },
        "$:/core/macros/tag": {
            "title": "$:/core/macros/tag",
            "tags": "$:/tags/Macro",
            "text": "\\define tag-pill-styles()\nbackground-color:$(backgroundColor)$;\nfill:$(foregroundColor)$;\ncolor:$(foregroundColor)$;\n\\end\n\n\\define tag-pill-inner(tag,icon,colour,fallbackTarget,colourA,colourB,element-tag,element-attributes,actions)\n&lt;$vars foregroundColor=&lt;&lt;contrastcolour target:\"\"\"$colour$\"\"\" fallbackTarget:\"\"\"$fallbackTarget$\"\"\" colourA:\"\"\"$colourA$\"\"\" colourB:\"\"\"$colourB$\"\"\"&gt;&gt; backgroundColor=\"\"\"$colour$\"\"\"&gt;\n&lt;$element-tag$ $element-attributes$ class=\"tc-tag-label tc-btn-invisible\" style=&lt;&lt;tag-pill-styles&gt;&gt;&gt;\n$actions$&lt;$transclude tiddler=\"\"\"$icon$\"\"\"/&gt;&lt;$view tiddler=&lt;&lt;__tag__&gt;&gt; field=\"title\" format=\"text\" /&gt;\n&lt;/$element-tag$&gt;\n&lt;/$vars&gt;\n\\end\n\n\\define tag-pill-body(tag,icon,colour,palette,element-tag,element-attributes,actions)\n&lt;$macrocall $name=\"tag-pill-inner\" tag=&lt;&lt;__tag__&gt;&gt; icon=\"\"\"$icon$\"\"\" colour=\"\"\"$colour$\"\"\" fallbackTarget={{$palette$##tag-background}} colourA={{$palette$##foreground}} colourB={{$palette$##background}} element-tag=\"\"\"$element-tag$\"\"\" element-attributes=\"\"\"$element-attributes$\"\"\" actions=\"\"\"$actions$\"\"\"/&gt;\n\\end\n\n\\define tag-pill(tag,element-tag:\"span\",element-attributes:\"\",actions:\"\")\n&lt;span class=\"tc-tag-list-item\" data-tag-title=&lt;&lt;__tag__&gt;&gt;&gt;\n&lt;$macrocall $name=\"tag-pill-body\" tag=&lt;&lt;__tag__&gt;&gt; icon={{{ [&lt;__tag__&gt;get[icon]] }}} colour={{{ [&lt;__tag__&gt;get[color]] }}} palette={{$:/palette}} element-tag=\"\"\"$element-tag$\"\"\" element-attributes=\"\"\"$element-attributes$\"\"\" actions=\"\"\"$actions$\"\"\"/&gt;\n&lt;/span&gt;\n\\end\n\n\\define tag(tag)\n{{$tag$||$:/core/ui/TagTemplate}}\n\\end\n"
        },
        "$:/core/macros/thumbnails": {
            "title": "$:/core/macros/thumbnails",
            "tags": "$:/tags/Macro",
            "text": "\\define thumbnail(link,icon,color,background-color,image,caption,width:\"280\",height:\"157\")\n&lt;$link to=\"\"\"$link$\"\"\"&gt;&lt;div class=\"tc-thumbnail-wrapper\"&gt;\n&lt;div class=\"tc-thumbnail-image\" style=\"width:$width$px;height:$height$px;\"&gt;&lt;$reveal type=\"nomatch\" text=\"\" default=\"\"\"$image$\"\"\" tag=\"div\" style=\"width:$width$px;height:$height$px;\"&gt;\n[img[$image$]]\n&lt;/$reveal&gt;&lt;$reveal type=\"match\" text=\"\" default=\"\"\"$image$\"\"\" tag=\"div\" class=\"tc-thumbnail-background\" style=\"width:$width$px;height:$height$px;background-color:$background-color$;\"&gt;&lt;/$reveal&gt;&lt;/div&gt;&lt;div class=\"tc-thumbnail-icon\" style=\"fill:$color$;color:$color$;\"&gt;\n$icon$\n&lt;/div&gt;&lt;div class=\"tc-thumbnail-caption\"&gt;\n$caption$\n&lt;/div&gt;\n&lt;/div&gt;&lt;/$link&gt;\n\\end\n\n\\define thumbnail-right(link,icon,color,background-color,image,caption,width:\"280\",height:\"157\")\n&lt;div class=\"tc-thumbnail-right-wrapper\"&gt;&lt;&lt;thumbnail \"\"\"$link$\"\"\" \"\"\"$icon$\"\"\" \"\"\"$color$\"\"\" \"\"\"$background-color$\"\"\" \"\"\"$image$\"\"\" \"\"\"$caption$\"\"\" \"\"\"$width$\"\"\" \"\"\"$height$\"\"\"&gt;&gt;&lt;/div&gt;\n\\end\n\n\\define list-thumbnails(filter,width:\"280\",height:\"157\")\n&lt;$list filter=\"\"\"$filter$\"\"\"&gt;&lt;$macrocall $name=\"thumbnail\" link={{!!link}} icon={{!!icon}} color={{!!color}} background-color={{!!background-color}} image={{!!image}} caption={{!!caption}} width=\"\"\"$width$\"\"\" height=\"\"\"$height$\"\"\"/&gt;&lt;/$list&gt;\n\\end\n"
        },
        "$:/core/macros/timeline": {
            "title": "$:/core/macros/timeline",
            "created": "20141212105914482",
            "modified": "20141212110330815",
            "tags": "$:/tags/Macro",
            "text": "\\define timeline-title()\n\\whitespace trim\n&lt;!-- Override this macro with a global macro \n     of the same name if you need to change \n     how titles are displayed on the timeline \n     --&gt;\n&lt;$view field=\"title\"/&gt;\n\\end\n\\define timeline(limit:\"100\",format:\"DDth MMM YYYY\",subfilter:\"\",dateField:\"modified\")\n&lt;div class=\"tc-timeline\"&gt;\n&lt;$list filter=\"[!is[system]$subfilter$has[$dateField$]!sort[$dateField$]limit[$limit$]eachday[$dateField$]]\"&gt;\n&lt;div class=\"tc-menu-list-item\"&gt;\n&lt;$view field=\"$dateField$\" format=\"date\" template=\"$format$\"/&gt;\n&lt;$list filter=\"[sameday:$dateField${!!$dateField$}!is[system]$subfilter$!sort[$dateField$]]\"&gt;\n&lt;div class=\"tc-menu-list-subitem\"&gt;\n&lt;$link to={{!!title}}&gt;&lt;&lt;timeline-title&gt;&gt;&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\\end\n"
        },
        "$:/core/macros/toc": {
            "title": "$:/core/macros/toc",
            "tags": "$:/tags/Macro",
            "text": "\\define toc-caption()\n&lt;$set name=\"tv-wikilinks\" value=\"no\"&gt;\n  &lt;$transclude field=\"caption\"&gt;\n    &lt;$view field=\"title\"/&gt;\n  &lt;/$transclude&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-body(tag,sort:\"\",itemClassFilter,exclude,path)\n&lt;ol class=\"tc-toc\"&gt;\n  &lt;$list filter=\"\"\"[all[shadows+tiddlers]tag&lt;__tag__&gt;!has[draft.of]$sort$] -[&lt;__tag__&gt;] -[enlist&lt;__exclude__&gt;]\"\"\"&gt;\n    &lt;$vars item=&lt;&lt;currentTiddler&gt;&gt; path={{{ [&lt;__path__&gt;addsuffix[/]addsuffix&lt;__tag__&gt;] }}}&gt;\n      &lt;$set name=\"excluded\" filter=\"\"\"[enlist&lt;__exclude__&gt;] [&lt;__tag__&gt;]\"\"\"&gt;\n        &lt;$set name=\"toc-item-class\" filter=&lt;&lt;__itemClassFilter__&gt;&gt; emptyValue=\"toc-item-selected\" value=\"toc-item\"&gt;\n          &lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n            &lt;$list filter=\"[all[current]toc-link[no]]\" emptyMessage=\"&lt;$link to={{{ [&lt;currentTiddler&gt;get[target]else&lt;currentTiddler&gt;] }}}&gt;&lt;$view field='caption'&gt;&lt;$view field='title'/&gt;&lt;/$view&gt;&lt;/$link&gt;\"&gt;\n              &lt;&lt;toc-caption&gt;&gt;\n            &lt;/$list&gt;\n            &lt;$macrocall $name=\"toc-body\" tag=&lt;&lt;item&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; exclude=&lt;&lt;excluded&gt;&gt; path=&lt;&lt;path&gt;&gt;/&gt;\n          &lt;/li&gt;\n        &lt;/$set&gt;\n      &lt;/$set&gt;\n    &lt;/$vars&gt;\n  &lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define toc(tag,sort:\"\",itemClassFilter:\"\")\n&lt;$macrocall $name=\"toc-body\"  tag=&lt;&lt;__tag__&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; /&gt;\n\\end\n\n\\define toc-linked-expandable-body(tag,sort:\"\",itemClassFilter,exclude,path)\n&lt;!-- helper function --&gt;\n&lt;$qualify name=\"toc-state\" title={{{ [[$:/state/toc]addsuffix&lt;__path__&gt;addsuffix[-]addsuffix&lt;currentTiddler&gt;] }}}&gt;\n  &lt;$set name=\"toc-item-class\" filter=&lt;&lt;__itemClassFilter__&gt;&gt; emptyValue=\"toc-item-selected\" value=\"toc-item\"&gt;\n    &lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n    &lt;$link to={{{ [&lt;currentTiddler&gt;get[target]else&lt;currentTiddler&gt;] }}}&gt;\n      &lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n        &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n          {{$:/core/images/right-arrow}}\n        &lt;/$button&gt;\n      &lt;/$reveal&gt;\n      &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n        &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n          {{$:/core/images/down-arrow}}\n        &lt;/$button&gt;\n      &lt;/$reveal&gt;\n      &lt;&lt;toc-caption&gt;&gt;\n    &lt;/$link&gt;\n    &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n      &lt;$macrocall $name=\"toc-expandable\" tag=&lt;&lt;currentTiddler&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; exclude=&lt;&lt;__exclude__&gt;&gt; path=&lt;&lt;__path__&gt;&gt;/&gt;\n    &lt;/$reveal&gt;\n    &lt;/li&gt;\n  &lt;/$set&gt;\n&lt;/$qualify&gt;\n\\end\n\n\\define toc-unlinked-expandable-body(tag,sort:\"\",itemClassFilter,exclude,path)\n&lt;!-- helper function --&gt;\n&lt;$qualify name=\"toc-state\" title={{{ [[$:/state/toc]addsuffix&lt;__path__&gt;addsuffix[-]addsuffix&lt;currentTiddler&gt;] }}}&gt;\n  &lt;$set name=\"toc-item-class\" filter=&lt;&lt;__itemClassFilter__&gt;&gt; emptyValue=\"toc-item-selected\" value=\"toc-item\"&gt;\n    &lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n      &lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n        &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n          {{$:/core/images/right-arrow}}\n          &lt;&lt;toc-caption&gt;&gt;\n        &lt;/$button&gt;\n      &lt;/$reveal&gt;\n      &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n        &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n          {{$:/core/images/down-arrow}}\n          &lt;&lt;toc-caption&gt;&gt;\n        &lt;/$button&gt;\n      &lt;/$reveal&gt;\n      &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n        &lt;$macrocall $name=\"toc-expandable\" tag=&lt;&lt;currentTiddler&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; exclude=&lt;&lt;__exclude__&gt;&gt; path=&lt;&lt;__path__&gt;&gt;/&gt;\n      &lt;/$reveal&gt;\n    &lt;/li&gt;\n  &lt;/$set&gt;\n&lt;/$qualify&gt;\n\\end\n\n\\define toc-expandable-empty-message()\n&lt;$macrocall $name=\"toc-linked-expandable-body\" tag=&lt;&lt;tag&gt;&gt; sort=&lt;&lt;sort&gt;&gt; itemClassFilter=&lt;&lt;itemClassFilter&gt;&gt; exclude=&lt;&lt;excluded&gt;&gt; path=&lt;&lt;path&gt;&gt;/&gt;\n\\end\n\n\\define toc-expandable(tag,sort:\"\",itemClassFilter:\"\",exclude,path)\n&lt;$vars tag=&lt;&lt;__tag__&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; path={{{ [&lt;__path__&gt;addsuffix[/]addsuffix&lt;__tag__&gt;] }}}&gt;\n  &lt;$set name=\"excluded\" filter=\"\"\"[enlist&lt;__exclude__&gt;] [&lt;__tag__&gt;]\"\"\"&gt;\n    &lt;ol class=\"tc-toc toc-expandable\"&gt;\n      &lt;$list filter=\"\"\"[all[shadows+tiddlers]tag&lt;__tag__&gt;!has[draft.of]$sort$] -[&lt;__tag__&gt;] -[enlist&lt;__exclude__&gt;]\"\"\"&gt;\n        &lt;$list filter=\"[all[current]toc-link[no]]\" emptyMessage=&lt;&lt;toc-expandable-empty-message&gt;&gt; &gt;\n          &lt;$macrocall $name=\"toc-unlinked-expandable-body\" tag=&lt;&lt;__tag__&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=\"\"\"itemClassFilter\"\"\" exclude=&lt;&lt;excluded&gt;&gt; path=&lt;&lt;path&gt;&gt; /&gt;\n        &lt;/$list&gt;\n      &lt;/$list&gt;\n    &lt;/ol&gt;\n  &lt;/$set&gt;\n&lt;/$vars&gt;\n\\end\n\n\\define toc-linked-selective-expandable-body(tag,sort:\"\",itemClassFilter,exclude,path)\n&lt;$qualify name=\"toc-state\" title={{{ [[$:/state/toc]addsuffix&lt;__path__&gt;addsuffix[-]addsuffix&lt;currentTiddler&gt;] }}}&gt;\n  &lt;$set name=\"toc-item-class\" filter=&lt;&lt;__itemClassFilter__&gt;&gt; emptyValue=\"toc-item-selected\" value=\"toc-item\" &gt;\n    &lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n      &lt;$link to={{{ [&lt;currentTiddler&gt;get[target]else&lt;currentTiddler&gt;] }}}&gt;\n          &lt;$list filter=\"[all[current]tagging[]$sort$limit[1]]\" variable=\"ignore\" emptyMessage=\"&lt;$button class='tc-btn-invisible'&gt;{{$:/core/images/blank}}&lt;/$button&gt;\"&gt;\n          &lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n            &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n              {{$:/core/images/right-arrow}}\n            &lt;/$button&gt;\n          &lt;/$reveal&gt;\n          &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n            &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n              {{$:/core/images/down-arrow}}\n            &lt;/$button&gt;\n          &lt;/$reveal&gt;\n        &lt;/$list&gt;\n        &lt;&lt;toc-caption&gt;&gt;\n      &lt;/$link&gt;\n      &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n        &lt;$macrocall $name=\"toc-selective-expandable\" tag=&lt;&lt;currentTiddler&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; exclude=&lt;&lt;__exclude__&gt;&gt; path=&lt;&lt;__path__&gt;&gt;/&gt;\n      &lt;/$reveal&gt;\n    &lt;/li&gt;\n  &lt;/$set&gt;\n&lt;/$qualify&gt;\n\\end\n\n\\define toc-unlinked-selective-expandable-body(tag,sort:\"\",itemClassFilter,exclude,path)\n&lt;$qualify name=\"toc-state\" title={{{ [[$:/state/toc]addsuffix&lt;__path__&gt;addsuffix[-]addsuffix&lt;currentTiddler&gt;] }}}&gt;\n  &lt;$set name=\"toc-item-class\" filter=&lt;&lt;__itemClassFilter__&gt;&gt; emptyValue=\"toc-item-selected\" value=\"toc-item\"&gt;\n    &lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n      &lt;$list filter=\"[all[current]tagging[]$sort$limit[1]]\" variable=\"ignore\" emptyMessage=\"&lt;$button class='tc-btn-invisible'&gt;{{$:/core/images/blank}}&lt;/$button&gt; &lt;$view field='caption'&gt;&lt;$view field='title'/&gt;&lt;/$view&gt;\"&gt;\n        &lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n          &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n            {{$:/core/images/right-arrow}}\n            &lt;&lt;toc-caption&gt;&gt;\n          &lt;/$button&gt;\n        &lt;/$reveal&gt;\n        &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n          &lt;$button setTitle=&lt;&lt;toc-state&gt;&gt; setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\"&gt;\n            {{$:/core/images/down-arrow}}\n            &lt;&lt;toc-caption&gt;&gt;\n          &lt;/$button&gt;\n        &lt;/$reveal&gt;\n      &lt;/$list&gt;\n      &lt;$reveal type=\"match\" stateTitle=&lt;&lt;toc-state&gt;&gt; text=\"open\"&gt;\n        &lt;$macrocall $name=\"toc-selective-expandable\" tag=&lt;&lt;currentTiddler&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; exclude=&lt;&lt;__exclude__&gt;&gt; path=&lt;&lt;__path__&gt;&gt;/&gt;\n      &lt;/$reveal&gt;\n    &lt;/li&gt;\n  &lt;/$set&gt;\n&lt;/$qualify&gt;\n\\end\n\n\\define toc-selective-expandable-empty-message()\n&lt;$macrocall $name=\"toc-linked-selective-expandable-body\" tag=&lt;&lt;tag&gt;&gt; sort=&lt;&lt;sort&gt;&gt; itemClassFilter=&lt;&lt;itemClassFilter&gt;&gt; exclude=&lt;&lt;excluded&gt;&gt; path=&lt;&lt;path&gt;&gt;/&gt;\n\\end\n\n\\define toc-selective-expandable(tag,sort:\"\",itemClassFilter,exclude,path)\n&lt;$vars tag=&lt;&lt;__tag__&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; path={{{ [&lt;__path__&gt;addsuffix[/]addsuffix&lt;__tag__&gt;] }}}&gt;\n  &lt;$set name=\"excluded\" filter=\"\"\"[enlist&lt;__exclude__&gt;] [&lt;__tag__&gt;]\"\"\"&gt;\n    &lt;ol class=\"tc-toc toc-selective-expandable\"&gt;\n      &lt;$list filter=\"\"\"[all[shadows+tiddlers]tag&lt;__tag__&gt;!has[draft.of]$sort$] -[&lt;__tag__&gt;] -[enlist&lt;__exclude__&gt;]\"\"\"&gt;\n        &lt;$list filter=\"[all[current]toc-link[no]]\" variable=\"ignore\" emptyMessage=&lt;&lt;toc-selective-expandable-empty-message&gt;&gt; &gt;\n          &lt;$macrocall $name=\"toc-unlinked-selective-expandable-body\" tag=&lt;&lt;__tag__&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=&lt;&lt;__itemClassFilter__&gt;&gt; exclude=&lt;&lt;excluded&gt;&gt; path=&lt;&lt;path&gt;&gt;/&gt;\n        &lt;/$list&gt;\n      &lt;/$list&gt;\n    &lt;/ol&gt;\n  &lt;/$set&gt;\n&lt;/$vars&gt;\n\\end\n\n\\define toc-tabbed-external-nav(tag,sort:\"\",selectedTiddler:\"$:/temp/toc/selectedTiddler\",unselectedText,missingText,template:\"\")\n&lt;$tiddler tiddler={{{ [&lt;__selectedTiddler__&gt;get[text]] }}}&gt;\n  &lt;div class=\"tc-tabbed-table-of-contents\"&gt;\n    &lt;$linkcatcher to=&lt;&lt;__selectedTiddler__&gt;&gt;&gt;\n      &lt;div class=\"tc-table-of-contents\"&gt;\n        &lt;$macrocall $name=\"toc-selective-expandable\" tag=&lt;&lt;__tag__&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; itemClassFilter=\"[all[current]] -[&lt;__selectedTiddler__&gt;get[text]]\"/&gt;\n      &lt;/div&gt;\n    &lt;/$linkcatcher&gt;\n    &lt;div class=\"tc-tabbed-table-of-contents-content\"&gt;\n      &lt;$reveal stateTitle=&lt;&lt;__selectedTiddler__&gt;&gt; type=\"nomatch\" text=\"\"&gt;\n        &lt;$transclude mode=\"block\" tiddler=&lt;&lt;__template__&gt;&gt;&gt;\n          &lt;h1&gt;&lt;&lt;toc-caption&gt;&gt;&lt;/h1&gt;\n          &lt;$transclude mode=\"block\"&gt;$missingText$&lt;/$transclude&gt;\n        &lt;/$transclude&gt;\n      &lt;/$reveal&gt;\n      &lt;$reveal stateTitle=&lt;&lt;__selectedTiddler__&gt;&gt; type=\"match\" text=\"\"&gt;\n        $unselectedText$\n      &lt;/$reveal&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/$tiddler&gt;\n\\end\n\n\\define toc-tabbed-internal-nav(tag,sort:\"\",selectedTiddler:\"$:/temp/toc/selectedTiddler\",unselectedText,missingText,template:\"\")\n&lt;$linkcatcher to=&lt;&lt;__selectedTiddler__&gt;&gt;&gt;\n  &lt;$macrocall $name=\"toc-tabbed-external-nav\" tag=&lt;&lt;__tag__&gt;&gt; sort=&lt;&lt;__sort__&gt;&gt; selectedTiddler=&lt;&lt;__selectedTiddler__&gt;&gt; unselectedText=&lt;&lt;__unselectedText__&gt;&gt; missingText=&lt;&lt;__missingText__&gt;&gt; template=&lt;&lt;__template__&gt;&gt;/&gt;\n&lt;/$linkcatcher&gt;\n\\end\n\n"
        },
        "$:/core/macros/translink": {
            "title": "$:/core/macros/translink",
            "tags": "$:/tags/Macro",
            "text": "\\define translink(title,mode:\"block\")\n&lt;div style=\"border:1px solid #ccc; padding: 0.5em; background: black; foreground; white;\"&gt;\n&lt;$link to=\"\"\"$title$\"\"\"&gt;\n&lt;$text text=\"\"\"$title$\"\"\"/&gt;\n&lt;/$link&gt;\n&lt;div style=\"border:1px solid #ccc; padding: 0.5em; background: white; foreground; black;\"&gt;\n&lt;$transclude tiddler=\"\"\"$title$\"\"\" mode=\"$mode$\"&gt;\n\"&lt;$text text=\"\"\"$title$\"\"\"/&gt;\" is missing\n&lt;/$transclude&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\\end\n"
        },
        "$:/core/macros/tree": {
            "title": "$:/core/macros/tree",
            "tags": "$:/tags/Macro",
            "text": "\\define leaf-link(full-title,chunk,separator: \"/\")\n&lt;$link to=&lt;&lt;__full-title__&gt;&gt;&gt;&lt;$text text=&lt;&lt;__chunk__&gt;&gt;/&gt;&lt;/$link&gt;\n\\end\n\n\\define leaf-node(prefix,chunk)\n&lt;li&gt;\n&lt;$list filter=\"[&lt;__prefix__&gt;addsuffix&lt;__chunk__&gt;is[shadow]] [&lt;__prefix__&gt;addsuffix&lt;__chunk__&gt;is[tiddler]]\" variable=\"full-title\"&gt;\n&lt;$list filter=\"[&lt;full-title&gt;removeprefix&lt;__prefix__&gt;]\" variable=\"chunk\"&gt;\n&lt;span&gt;{{$:/core/images/file}}&lt;/span&gt; &lt;$macrocall $name=\"leaf-link\" full-title=&lt;&lt;full-title&gt;&gt; chunk=&lt;&lt;chunk&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/li&gt;\n\\end\n\n\\define branch-node(prefix,chunk,separator: \"/\")\n&lt;li&gt;\n&lt;$set name=\"reveal-state\" value={{{ [[$:/state/tree/]addsuffix&lt;__prefix__&gt;addsuffix&lt;__chunk__&gt;] }}}&gt;\n&lt;$reveal type=\"nomatch\" stateTitle=&lt;&lt;reveal-state&gt;&gt; text=\"show\"&gt;\n&lt;$button setTitle=&lt;&lt;reveal-state&gt;&gt; setTo=\"show\" class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/folder}} &lt;$text text=&lt;&lt;__chunk__&gt;&gt;/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" stateTitle=&lt;&lt;reveal-state&gt;&gt; text=\"show\"&gt;\n&lt;$button setTitle=&lt;&lt;reveal-state&gt;&gt; setTo=\"hide\" class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/folder}} &lt;$text text=&lt;&lt;__chunk__&gt;&gt;/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;span&gt;(&lt;$count filter=\"[all[shadows+tiddlers]removeprefix&lt;__prefix__&gt;removeprefix&lt;__chunk__&gt;] -[&lt;__prefix__&gt;addsuffix&lt;__chunk__&gt;]\"/&gt;)&lt;/span&gt;\n&lt;$reveal type=\"match\" stateTitle=&lt;&lt;reveal-state&gt;&gt; text=\"show\"&gt;\n&lt;$macrocall $name=\"tree-node\" prefix={{{ [&lt;__prefix__&gt;addsuffix&lt;__chunk__&gt;] }}} separator=&lt;&lt;__separator__&gt;&gt;/&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/li&gt;\n\\end\n\n\\define tree-node(prefix,separator: \"/\")\n&lt;ol&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]removeprefix&lt;__prefix__&gt;splitbefore&lt;__separator__&gt;sort[]!suffix&lt;__separator__&gt;]\" variable=\"chunk\"&gt;\n&lt;$macrocall $name=\"leaf-node\" prefix=&lt;&lt;__prefix__&gt;&gt; chunk=&lt;&lt;chunk&gt;&gt; separator=&lt;&lt;__separator__&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]removeprefix&lt;__prefix__&gt;splitbefore&lt;__separator__&gt;sort[]suffix&lt;__separator__&gt;]\" variable=\"chunk\"&gt;\n&lt;$macrocall $name=\"branch-node\" prefix=&lt;&lt;__prefix__&gt;&gt; chunk=&lt;&lt;chunk&gt;&gt; separator=&lt;&lt;__separator__&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define tree(prefix: \"$:/\",separator: \"/\")\n&lt;div class=\"tc-tree\"&gt;\n&lt;span&gt;&lt;$text text=&lt;&lt;__prefix__&gt;&gt;/&gt;&lt;/span&gt;\n&lt;div&gt;\n&lt;$macrocall $name=\"tree-node\" prefix=&lt;&lt;__prefix__&gt;&gt; separator=&lt;&lt;__separator__&gt;&gt;/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\\end\n"
        },
        "$:/core/macros/utils": {
            "title": "$:/core/macros/utils",
            "text": "\\define colour(colour)\n$colour$\n\\end\n"
        },
        "$:/snippets/minifocusswitcher": {
            "title": "$:/snippets/minifocusswitcher",
            "text": "&lt;$select tiddler=\"$:/config/AutoFocus\"&gt;\n&lt;$list filter=\"title tags text type fields\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;currentTiddler&gt;&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n"
        },
        "$:/snippets/minilanguageswitcher": {
            "title": "$:/snippets/minilanguageswitcher",
            "text": "&lt;$select tiddler=\"$:/language\"&gt;\n&lt;$list filter=\"[[$:/languages/en-GB]] [plugin-type[language]sort[title]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\"description\"&gt;&lt;$view field=\"name\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;"
        },
        "$:/snippets/minithemeswitcher": {
            "title": "$:/snippets/minithemeswitcher",
            "text": "\\define lingo-base() $:/language/ControlPanel/Theme/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$select tiddler=\"$:/theme\"&gt;\n&lt;$list filter=\"[plugin-type[theme]sort[title]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\"name\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;"
        },
        "$:/snippets/modules": {
            "title": "$:/snippets/modules",
            "text": "\\define describeModuleType(type)\n{{$:/language/Docs/ModuleTypes/$type$}}\n\\end\n&lt;$list filter=\"[moduletypes[]]\"&gt;\n\n!! &lt;$macrocall $name=\"currentTiddler\" $type=\"text/plain\" $output=\"text/plain\"/&gt;\n\n&lt;$macrocall $name=\"describeModuleType\" type=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n\n&lt;ul&gt;&lt;$list filter=\"[all[current]modules[]]\"&gt;&lt;li&gt;&lt;$link&gt;&lt;&lt;currentTiddler&gt;&gt;&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n&lt;/$list&gt;\n"
        },
        "$:/palette": {
            "title": "$:/palette",
            "text": "$:/palettes/Vanilla"
        },
        "$:/snippets/paletteeditor": {
            "title": "$:/snippets/paletteeditor",
            "text": "&lt;$transclude tiddler=\"$:/PaletteManager\"/&gt;\n"
        },
        "$:/snippets/palettepreview": {
            "title": "$:/snippets/palettepreview",
            "text": "&lt;$set name=\"currentTiddler\" value={{$:/palette}}&gt;\n{{||$:/snippets/currpalettepreview}}\n&lt;/$set&gt;\n"
        },
        "$:/snippets/paletteswitcher": {
            "title": "$:/snippets/paletteswitcher",
            "text": "&lt;$linkcatcher to=\"$:/palette\"&gt;\n&lt;div class=\"tc-chooser\"&gt;&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Palette]sort[name]]\"&gt;&lt;$set name=\"cls\" filter=\"[all[current]prefix{$:/palette}]\" value=\"tc-chooser-item tc-chosen\" emptyValue=\"tc-chooser-item\"&gt;&lt;div class=&lt;&lt;cls&gt;&gt;&gt;&lt;$link to={{!!title}}&gt;''&lt;$view field=\"name\" format=\"text\"/&gt;'' - &lt;$view field=\"description\" format=\"text\"/&gt;{{||$:/snippets/currpalettepreview}}&lt;/$link&gt;\n&lt;/div&gt;&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;\n"
        },
        "$:/snippets/peek-stylesheets": {
            "title": "$:/snippets/peek-stylesheets",
            "text": "\\define expandable-stylesheets-list()\n&lt;ol&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Stylesheet]!has[draft.of]]\"&gt;\n&lt;$vars state=&lt;&lt;qualify \"$:/state/peek-stylesheets/open/\"&gt;&gt;&gt;\n&lt;$set name=\"state\" value={{{ [&lt;state&gt;addsuffix&lt;currentTiddler&gt;] }}}&gt;\n&lt;li&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;state&gt;&gt; text=\"yes\" tag=\"span\"&gt;\n&lt;$button set=&lt;&lt;state&gt;&gt; setTo=\"no\" class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;state&gt;&gt; text=\"yes\" tag=\"span\"&gt;\n&lt;$button set=&lt;&lt;state&gt;&gt; setTo=\"yes\" class=\"tc-btn-invisible\"&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$link&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;state&gt;&gt; text=\"yes\" tag=\"div\"&gt;\n&lt;$set name=\"source\" tiddler=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$wikify name=\"styles\" text=&lt;&lt;source&gt;&gt;&gt;\n&lt;pre&gt;\n&lt;code&gt;\n&lt;$text text=&lt;&lt;styles&gt;&gt;/&gt;\n&lt;/code&gt;\n&lt;/pre&gt;\n&lt;/$wikify&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$vars&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define stylesheets-list()\n&lt;ol&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Stylesheet]!has[draft.of]]\"&gt;\n&lt;li&gt;\n&lt;$link&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;$set name=\"source\" tiddler=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$wikify name=\"styles\" text=&lt;&lt;source&gt;&gt;&gt;\n&lt;pre&gt;\n&lt;code&gt;\n&lt;$text text=&lt;&lt;styles&gt;&gt;/&gt;\n&lt;/code&gt;\n&lt;/pre&gt;\n&lt;/$wikify&gt;\n&lt;/$set&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n&lt;$vars modeState=&lt;&lt;qualify \"$:/state/peek-stylesheets/mode/\"&gt;&gt;&gt;\n\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;modeState&gt;&gt; text=\"expanded\" tag=\"div\"&gt;\n&lt;$button set=&lt;&lt;modeState&gt;&gt; setTo=\"expanded\" class=\"tc-btn-invisible\"&gt;{{$:/core/images/chevron-right}} {{$:/language/ControlPanel/Stylesheets/Expand/Caption}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;modeState&gt;&gt; text=\"expanded\" tag=\"div\"&gt;\n&lt;$button set=&lt;&lt;modeState&gt;&gt; setTo=\"restored\" class=\"tc-btn-invisible\"&gt;{{$:/core/images/chevron-down}} {{$:/language/ControlPanel/Stylesheets/Restore/Caption}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n\n&lt;$reveal type=\"nomatch\" state=&lt;&lt;modeState&gt;&gt; text=\"expanded\" tag=\"div\"&gt;\n&lt;&lt;expandable-stylesheets-list&gt;&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=&lt;&lt;modeState&gt;&gt; text=\"expanded\" tag=\"div\"&gt;\n&lt;&lt;stylesheets-list&gt;&gt;\n&lt;/$reveal&gt;\n\n&lt;/$vars&gt;\n"
        },
        "$:/temp/search": {
            "title": "$:/temp/search",
            "text": ""
        },
        "$:/tags/AdvancedSearch": {
            "title": "$:/tags/AdvancedSearch",
            "list": "[[$:/core/ui/AdvancedSearch/Standard]] [[$:/core/ui/AdvancedSearch/System]] [[$:/core/ui/AdvancedSearch/Shadows]] [[$:/core/ui/AdvancedSearch/Filter]]"
        },
        "$:/tags/AdvancedSearch/FilterButton": {
            "title": "$:/tags/AdvancedSearch/FilterButton",
            "list": "$:/core/ui/AdvancedSearch/Filter/FilterButtons/dropdown $:/core/ui/AdvancedSearch/Filter/FilterButtons/clear $:/core/ui/AdvancedSearch/Filter/FilterButtons/export $:/core/ui/AdvancedSearch/Filter/FilterButtons/delete"
        },
        "$:/tags/ControlPanel": {
            "title": "$:/tags/ControlPanel",
            "list": "$:/core/ui/ControlPanel/Info $:/core/ui/ControlPanel/Appearance $:/core/ui/ControlPanel/Settings $:/core/ui/ControlPanel/Saving $:/core/ui/ControlPanel/Plugins $:/core/ui/ControlPanel/Tools $:/core/ui/ControlPanel/Internals"
        },
        "$:/tags/ControlPanel/Info": {
            "title": "$:/tags/ControlPanel/Info",
            "list": "$:/core/ui/ControlPanel/Basics $:/core/ui/ControlPanel/Advanced"
        },
        "$:/tags/ControlPanel/Plugins": {
            "title": "$:/tags/ControlPanel/Plugins",
            "list": "[[$:/core/ui/ControlPanel/Plugins/Installed]] [[$:/core/ui/ControlPanel/Plugins/Add]]"
        },
        "$:/tags/EditTemplate": {
            "title": "$:/tags/EditTemplate",
            "list": "[[$:/core/ui/EditTemplate/controls]] [[$:/core/ui/EditTemplate/title]] [[$:/core/ui/EditTemplate/tags]] [[$:/core/ui/EditTemplate/shadow]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/EditTemplate/body]] [[$:/core/ui/EditTemplate/type]] [[$:/core/ui/EditTemplate/fields]]"
        },
        "$:/tags/EditToolbar": {
            "title": "$:/tags/EditToolbar",
            "list": "[[$:/core/ui/Buttons/delete]] [[$:/core/ui/Buttons/cancel]] [[$:/core/ui/Buttons/save]]"
        },
        "$:/tags/EditorToolbar": {
            "title": "$:/tags/EditorToolbar",
            "list": "$:/core/ui/EditorToolbar/paint $:/core/ui/EditorToolbar/opacity $:/core/ui/EditorToolbar/line-width $:/core/ui/EditorToolbar/rotate-left $:/core/ui/EditorToolbar/clear $:/core/ui/EditorToolbar/bold $:/core/ui/EditorToolbar/italic $:/core/ui/EditorToolbar/strikethrough $:/core/ui/EditorToolbar/underline $:/core/ui/EditorToolbar/superscript $:/core/ui/EditorToolbar/subscript $:/core/ui/EditorToolbar/mono-line $:/core/ui/EditorToolbar/mono-block $:/core/ui/EditorToolbar/quote $:/core/ui/EditorToolbar/list-bullet $:/core/ui/EditorToolbar/list-number $:/core/ui/EditorToolbar/heading-1 $:/core/ui/EditorToolbar/heading-2 $:/core/ui/EditorToolbar/heading-3 $:/core/ui/EditorToolbar/heading-4 $:/core/ui/EditorToolbar/heading-5 $:/core/ui/EditorToolbar/heading-6 $:/core/ui/EditorToolbar/link $:/core/ui/EditorToolbar/excise $:/core/ui/EditorToolbar/picture $:/core/ui/EditorToolbar/stamp $:/core/ui/EditorToolbar/size $:/core/ui/EditorToolbar/editor-height $:/core/ui/EditorToolbar/more $:/core/ui/EditorToolbar/preview $:/core/ui/EditorToolbar/preview-type"
        },
        "$:/tags/Manager/ItemMain": {
            "title": "$:/tags/Manager/ItemMain",
            "list": "$:/Manager/ItemMain/WikifiedText $:/Manager/ItemMain/RawText $:/Manager/ItemMain/Fields"
        },
        "$:/tags/Manager/ItemSidebar": {
            "title": "$:/tags/Manager/ItemSidebar",
            "list": "$:/Manager/ItemSidebar/Tags $:/Manager/ItemSidebar/Colour $:/Manager/ItemSidebar/Icon $:/Manager/ItemSidebar/Tools"
        },
        "$:/tags/MoreSideBar": {
            "title": "$:/tags/MoreSideBar",
            "list": "[[$:/core/ui/MoreSideBar/All]] [[$:/core/ui/MoreSideBar/Recent]] [[$:/core/ui/MoreSideBar/Tags]] [[$:/core/ui/MoreSideBar/Missing]] [[$:/core/ui/MoreSideBar/Drafts]] [[$:/core/ui/MoreSideBar/Orphans]] [[$:/core/ui/MoreSideBar/Types]] [[$:/core/ui/MoreSideBar/System]] [[$:/core/ui/MoreSideBar/Shadows]] [[$:/core/ui/MoreSideBar/Explorer]] [[$:/core/ui/MoreSideBar/Plugins]]",
            "text": ""
        },
        "$:/tags/PageControls": {
            "title": "$:/tags/PageControls",
            "list": "[[$:/core/ui/Buttons/home]] [[$:/core/ui/Buttons/close-all]] [[$:/core/ui/Buttons/fold-all]] [[$:/core/ui/Buttons/unfold-all]] [[$:/core/ui/Buttons/permaview]] [[$:/core/ui/Buttons/new-tiddler]] [[$:/core/ui/Buttons/new-journal]] [[$:/core/ui/Buttons/new-image]] [[$:/core/ui/Buttons/import]] [[$:/core/ui/Buttons/export-page]] [[$:/core/ui/Buttons/control-panel]] [[$:/core/ui/Buttons/advanced-search]] [[$:/core/ui/Buttons/manager]] [[$:/core/ui/Buttons/tag-manager]] [[$:/core/ui/Buttons/language]] [[$:/core/ui/Buttons/palette]] [[$:/core/ui/Buttons/theme]] [[$:/core/ui/Buttons/storyview]] [[$:/core/ui/Buttons/encryption]] [[$:/core/ui/Buttons/timestamp]] [[$:/core/ui/Buttons/full-screen]] [[$:/core/ui/Buttons/print]] [[$:/core/ui/Buttons/save-wiki]] [[$:/core/ui/Buttons/refresh]] [[$:/core/ui/Buttons/more-page-actions]]"
        },
        "$:/tags/PageTemplate": {
            "title": "$:/tags/PageTemplate",
            "list": "[[$:/core/ui/PageTemplate/topleftbar]] [[$:/core/ui/PageTemplate/toprightbar]] [[$:/core/ui/PageTemplate/sidebar]] [[$:/core/ui/PageTemplate/story]] [[$:/core/ui/PageTemplate/alerts]]",
            "text": ""
        },
        "$:/tags/PluginLibrary": {
            "title": "$:/tags/PluginLibrary",
            "list": "$:/config/OfficialPluginLibrary"
        },
        "$:/tags/SideBar": {
            "title": "$:/tags/SideBar",
            "list": "[[$:/core/ui/SideBar/Open]] [[$:/core/ui/SideBar/Recent]] [[$:/core/ui/SideBar/Tools]] [[$:/core/ui/SideBar/More]]",
            "text": ""
        },
        "$:/tags/SideBarSegment": {
            "title": "$:/tags/SideBarSegment",
            "list": "[[$:/core/ui/SideBarSegments/site-title]] [[$:/core/ui/SideBarSegments/site-subtitle]] [[$:/core/ui/SideBarSegments/page-controls]] [[$:/core/ui/SideBarSegments/search]] [[$:/core/ui/SideBarSegments/tabs]]"
        },
        "$:/tags/TiddlerInfo": {
            "title": "$:/tags/TiddlerInfo",
            "list": "[[$:/core/ui/TiddlerInfo/Tools]] [[$:/core/ui/TiddlerInfo/References]] [[$:/core/ui/TiddlerInfo/Tagging]] [[$:/core/ui/TiddlerInfo/List]] [[$:/core/ui/TiddlerInfo/Listed]] [[$:/core/ui/TiddlerInfo/Fields]]",
            "text": ""
        },
        "$:/tags/TiddlerInfo/Advanced": {
            "title": "$:/tags/TiddlerInfo/Advanced",
            "list": "[[$:/core/ui/TiddlerInfo/Advanced/ShadowInfo]] [[$:/core/ui/TiddlerInfo/Advanced/PluginInfo]]"
        },
        "$:/tags/ViewTemplate": {
            "title": "$:/tags/ViewTemplate",
            "list": "[[$:/core/ui/ViewTemplate/title]] [[$:/core/ui/ViewTemplate/unfold]] [[$:/core/ui/ViewTemplate/subtitle]] [[$:/core/ui/ViewTemplate/tags]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/ViewTemplate/body]]"
        },
        "$:/tags/ViewToolbar": {
            "title": "$:/tags/ViewToolbar",
            "list": "[[$:/core/ui/Buttons/more-tiddler-actions]] [[$:/core/ui/Buttons/info]] [[$:/core/ui/Buttons/new-here]] [[$:/core/ui/Buttons/new-journal-here]] [[$:/core/ui/Buttons/clone]] [[$:/core/ui/Buttons/export-tiddler]] [[$:/core/ui/Buttons/edit]] [[$:/core/ui/Buttons/delete]] [[$:/core/ui/Buttons/permalink]] [[$:/core/ui/Buttons/permaview]] [[$:/core/ui/Buttons/open-window]] [[$:/core/ui/Buttons/close-others]] [[$:/core/ui/Buttons/close]] [[$:/core/ui/Buttons/fold-others]] [[$:/core/ui/Buttons/fold]]"
        },
        "$:/snippets/themeswitcher": {
            "title": "$:/snippets/themeswitcher",
            "text": "&lt;$linkcatcher to=\"$:/theme\"&gt;\n&lt;div class=\"tc-chooser\"&gt;&lt;$list filter=\"[plugin-type[theme]sort[title]]\"&gt;&lt;$set name=\"cls\" filter=\"[all[current]field:title{$:/theme}] [[$:/theme]!has[text]addsuffix[s/tiddlywiki/vanilla]field:title&lt;currentTiddler&gt;] +[limit[1]]\" value=\"tc-chooser-item tc-chosen\" emptyValue=\"tc-chooser-item\"&gt;&lt;div class=&lt;&lt;cls&gt;&gt;&gt;&lt;$link to={{!!title}}&gt;''&lt;$view field=\"name\" format=\"text\"/&gt;'' &lt;$view field=\"description\" format=\"text\"/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;"
        },
        "$:/core/wiki/title": {
            "title": "$:/core/wiki/title",
            "text": "{{$:/SiteTitle}}\n&lt;$list filter=\"[{$:/SiteSubtitle}trim[]minlength[1]]\" variable=\"ignore\"&gt;\n--- {{$:/SiteSubtitle}}\n&lt;/$list&gt;"
        },
        "$:/view": {
            "title": "$:/view",
            "text": "classic"
        },
        "$:/snippets/viewswitcher": {
            "title": "$:/snippets/viewswitcher",
            "text": "\\define icon()\n$:/core/images/storyview-$(storyview)$\n\\end\n&lt;$linkcatcher to=\"$:/view\"&gt;\n&lt;div class=\"tc-chooser tc-viewswitcher\"&gt;\n&lt;$list filter=\"[storyviews[]]\" variable=\"storyview\"&gt;\n&lt;$set name=\"cls\" filter=\"[&lt;storyview&gt;prefix{$:/view}]\" value=\"tc-chooser-item tc-chosen\" emptyValue=\"tc-chooser-item\"&gt;&lt;div class=&lt;&lt;cls&gt;&gt;&gt;\n&lt;$button tag=\"a\" class=\"tc-tiddlylink tc-btn-invisible\" to=&lt;&lt;storyview&gt;&gt;&gt;&lt;$transclude tiddler=&lt;&lt;icon&gt;&gt;/&gt;&lt;$text text=&lt;&lt;storyview&gt;&gt;/&gt;&lt;/$button&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;\n"
        }
    }
}</pre>
</div>
<div created="20210417211000181" modified="20210417211006968" title="$:/DefaultTiddlers">
<pre>[list[$:/StoryList]]</pre>
</div>
<div title="$:/GitHub/Branch">
<pre>main</pre>
</div>
<div created="20210417205202234" modified="20210417205206176" title="$:/GitHub/Filename">
<pre>index.html</pre>
</div>
<div created="20210417205200198" modified="20210417205200198" title="$:/GitHub/Path">
<pre>/</pre>
</div>
<div created="20210417205151740" modified="20210417205155170" title="$:/GitHub/Repo">
<pre>sharicov/manuals</pre>
</div>
<div title="$:/GitHub/ServerURL">
<pre>https://api.github.com</pre>
</div>
<div created="20210417205137610" modified="20210417205138676" title="$:/GitHub/Username">
<pre>sharicov</pre>
</div>
<div title="$:/isEncrypted">
<pre>no</pre>
</div>
<div created="20210417211012813" modified="20210417211023115" title="$:/SiteSubtitle">
<pre>Manuals in github</pre>
</div>
<div title="$:/state/image-picker/system--1365487189">
<pre>show</pre>
</div>
<div title="$:/state/search-list/selected-item--874113614">
<pre>Home Assistant smart home self hosted v6-primaryList</pre>
</div>
<div created="20210418175850925" modified="20210418175850925" title="$:/state/showeditpreview">
<pre>yes</pre>
</div>
<div created="20210417210700988" modified="20210604055832253" title="$:/state/sidebar">
<pre>yes</pre>
</div>
<div created="20210417205130414" modified="20210417205130414" title="$:/state/tab-1749438307">
<pre>$:/core/ui/ControlPanel/Saving</pre>
</div>
<div created="20210417205132934" modified="20210417205135238" title="$:/state/tab-2065006209">
<pre>$:/core/ui/ControlPanel/Saving/GitHub</pre>
</div>
<div created="20210417210311324" modified="20210417212102056" title="$:/state/tab/sidebar--595412856">
<pre>$:/core/ui/SideBar/Tools</pre>
</div>
<div title="$:/status/RequireReloadDueToPluginChange">
<pre>no</pre>
</div>
<div list="[[Crystal dock - cairo nad OSX dock alternative]] [[ai studio guidance on shared screen]] [[Steam Linux windows game install]] [[RetroArch allow accessing smb in nobara]] [[PSX and Duckstaion covers downloader]] [[Duckstation PS1 emulator covers]] [[enter flatpak filesystem in the container]] [[PCSX2 PS2 emulator download covers]] [[Nobara linux smb on filesystem when connected in dolphin]] [[Batocera Addons]] [[RPCS3 game updates download link]] [[To monitor each interface of bond0 in real time]] [[Fixing NetworkManager Bond Interface Configuration]] [[Nobara network bond in broadcast mode 3 interfaces v3]] [[ssh server and run mc in single line]] [[Nobara linux gaming proton steam v4]] [[nobara mount nfs to unraid v4]] [[docker compose commands]] [[nobara linux gaming proton setup v4]] [[Batocera pro custom packages v3]] [[Unraid BTRFS disk check]] [[Unraid passthrough nvme disk]] [[Unraid n100 igpu passthrough without HDMI checked on clean 7.0.1]] [[GameLauncher Deepseek creates html with game library v.9.1]] [[ubuntu release upgrade]] [[podman commands]] $:/Import [[batocera install packages with JuNest v2]] [[batocera containers v7]] [[Batocera chromium]] [[Batocera multi monitor setup]] [[Batocera Installation guide Emulator v6]] [[Serveo.Net and dataplicity access local ports from remote server]] [[Code generator AI engines]] [[enable powershell scripts in windows]] [[Check compression ratio on BTRFS volume v2]] [[brew - Homebrew package management for Linux v3]] [[Yazi - terminal file browser Linux/Windows v10]] [[Docker container running on unraid n5105]] [[add Linux command to unraid ex. ncdu and yazi v3]] [[docker remove unused images v2]] [[Share text and scripts in github like pastebin]] [[Amuse self hosted AI image generation windows AMD Radeon support v4]] [[Windows startup folder]] [[Show tray on non main monitor windows 10/11]] [[power off shutdown windows from remote desktop session]] [[LMStudio AI DeepSeek localhosted with AMD Radeon GPU support v6]] [[isd systemd management]] [[Monitorian v3]] [[Unraid docker operations in CLI]] [[unraid fix samba mount in linux]] [[Unraid hombrew custom images v7]] [[Ajazz AKS068 Keyboard manual]] [[AI generate 3d models for 3d printer]] [[PiKVM with KVM switch - remote switch]] [[Windows games in Linux - Bottle]] [[Format disk 4k in windows]] [[Windows 11 link aggregation in PowerShell]] [[Free undelete/recovery tools for windows]] [[VMWare workstation/fusion free download]] [[AC3 codec windows 11]] [[add route to unraid from x96]] [[x96 dockers and ports]] [[Filestash build arm64 v5]] [[Show container size and location with container name]] [[Home Assistant with Olama AI and voice assistant in docker v8]] [[MacOS in Hyper-V]] [[Asus keyboard hot key lock FN Zephyrus gx701 v2]] [[share clipboard for collaborative work updating in real-time]] [[Consoles bioses for emulators: ps nintendo sega xbox etc]] [[Customize sandbox]] [[Overclocking and benchmarking CPU v5]] [[Edge edit autofill]] [[Wolcen Lords of Mayhem fix screen resolution]] [[NSSM Run any exe as service in Windows]] [[Wake on Lan WoL Sleep on Lan SoL on unraid v5]] [[scan all open ports in local network and show protocols]] [[Guacamole http web based RDP VNC server v4]] [[reset disk smart s.m.a.r.t. health status in hard disk sentinel]] [[dropit multiple archive file extractor]] [[Fix windows machine cannot receive ping]] [[Integrate AI into bash, ChatGPT embedded in Linux]] [[Extract archive files from current directory and delete if successful]] [[anydesk without license with remote control]] [[Check multiple iso images in current directory using 7zip]] [[crontab backup and restore]] [[windows center any window multi monitor]] [[caching network drives on windows client (like primocache)]] [[Realtek RTL8125 USB 2.5Gbps windows drivers 10.72 official with RSS support v3]] [[mergefs volume aggregation mount disk together v2]] [[Unraid network adapter reset fix - not tested]] [[Terminal messages disable Linux]] [[Unraid trim mounted SSD pool]] [[Unraid check read speed of disk]] [[USB speed in linux]] [[Unraid backup scripts v3]] [[unraid monitoring load (SMR write)]] [[Unraid initial tasks v6]] [[unrar extract overwriting updated files only]] [[ncdu gdu export to browsable file snap2html/LinuxDir2HTML alternative v4]] [[Delete NLTmpMnt (1) folder]] [[Unraid fix permissions]] [[Brave browser with TOR for rutracker.org access]] [[Retroarch update core (dolphin example) v2]] [[Wireless display (Miracast) Windows 10/11 server projection server v7]] [[Invoke AI image generator self-hosted v3]] [[Tailscale integration into docker container v2]] [[Overlay HUD AMD alternative]] [[SMR tests in linux]] [[Windows drivers search on MS site]] [[unattend-generator for winntsetup]] [[Alldocube iplay 50 mini pro tablet mode v3]] [[edge pdf edit Hebrew disappearing fix]] [[unraid fix screen error v2]] [[edge enhanced video]] [[HDR shortcut windows 11 v2]] [[Tailscale access to home subnets Unraid or 96 v5]] [[Mail Outlook gmail backup pst ost v2]] [[Unraid fine tuning v4]] [[rsync delete source files after sync]] [[renew IP from dhcp one line]] [[Write cache topic WD]] [[Unraid check set WCE buffered writes v2]] [[unraid crystal mark benchmark 1pass 512MB Seq]] [[AI chat duckduckgo]] [[Unraid in VMWare working v4]] [[VMWare scsi controllers types]] [[Virtual USB in VMWare v6]] [[Unraid mover customization v1]] [[Unraid write to specific disk]] [[PLoP boot manager VMWare boot from USB]] [[Antiviruses for windows one time scan]] [[Unraid connect to VM for remote desktop or samba]] [[Unraid exclusive share and delete folders forecefuly]] [[Compare two folders windows v2]] [[unraid docker fix]] [[ZFS SMR sync=disabled for better performance WIP v2]] [[USB tree and power consumption linux]] [[move with sync between the files only nonexistent verbose files for loop for SMR disks freezing v3]] [[unraid fdupes - duplicates find across disks]] [[unraid zfs check compression ratio]] [[Unraid rsync with screen custom script example v2]] [[Unraid find duplicate files fdupes and file integrityv2]] [[Linux find duplicate files v3]] [[Unraid SMR fix v3]] [[unraid 7 clean-empty disk using mover]] [[Unraid fix boot menu]] [[unraid change ssd nvme in cache]] [[delete on reboot]] [[SMR check by serial number]] [[unraid passthrough nvme]] [[unraid restart web GUI v3]] [[kill zombie process]] [[rsync over ssh]] [[Unraid stop mover]] [[iowait fix to check]] [[investigate iowait v2]] [[UNRAID GUI from CLI]] [[mpv video player with 4k enhancement v2]] [[android on windows 11 including google play and sideload]] [[set permission in command prompt windows]] [[SAMBA tuning UNRAID v2]] [[unraid lsof show open files]] [[unraid vm network settings v3]] [[Unraid set zfs arc size]] [[rsync move files]] [[exchanging ssh keys between Unraid and x96 v4]] [[Unraid fix unraid retry unmounting user shares v4]] [[Filestash in Unraid v2]] [[Unraid fix mover not cleaning cache]] [[Unraid fix docker image being corrupted]] [[Used disks prices]] [[Unraid ZFS creation and move data on running system v2]] [[FastCopy alternative to SyncFolders for copying small files in windows v2]] [[Unraid install custom docker containers from dockerHub]] [[Useful Unraid plugins v23]] [[UNRAID fix permission qbittorrent jdownloader running in docker (UID/PUID) v2]] [[Selfhosted list]] [[Unraid fix 	VM Autostart disabled due to vfio-bind error]] [[UNRAID ncdu iotop]] [[UNRAID btrfs unmountable fix v4]] [[unraid add disk with data]] [[docker get logs of specific container - fixes qbittorrent temp password]] [[unraid backup configuration v2]] [[Route all traffic (passthrough) from one port to another on unraid v7]] [[openwrt in unraid vm]] [[Unraid link aggregation - bond v2]] [[Passthrough USB device to LXC keeping the path /dev/bus/usb/00x/00y]] [[Proxmox USB passthrough optimization]] [[proxomox ZFS NAS v5]] [[TrueNAS tips v2]] [[windows 11 live subtitles captions]] [[jan.ai change data folder for models]] [[Jan.ai pdf and other documents support (knowledge retrieval) v3]] [[ubuntu clean old snaps versions]] [[Chatbot selfhosted v5]] [[Aggregate ethernet ports windows NAS working]] [[Netlink bandwidth monitor openwrt show traffic by IP]] [[Swappiness swap tuning v3]] [[Openwrt set DNS]] [[pihole docker v3]] [[Try Winaero Twеaker now!  Desktop gadgets and sidebar for Windows 10/11]] [[How To Disable Web Search Results On Windows 11]] [[fix amd radeon adrenaline not opening]] [[zfs debian manual]] [[mount unmount to proxmox lxc container]] [[Get linux version in terminal]] [[Android switch to tablet mode]] [[docker enter container shell example]] [[Proxmox storage types for snapshots]] [[Proxmox on raspberry pi4 network fix]] [[useful qm proxmox CLI commands and Ubuntu 24.04 on raspberry proxmox arm64]] [[Proxmox on raspberry pi 4 linux vm working]] [[ARM, SOFTWARE  Install ARM64 Windows 11 on ARM64 QEMU System working v4]] [[Proxmox on arm64 raspberry pi 4 v4]] [[yunohost cli commands v2]] [[proxmox show VM image disk info on the host]] [[mikrotik proxmox v2]] [[Troubleshooting proxmox no VMs after power shutdown]] [[Backup Restore proxmox v3]] [[proxmox cli commands]] [[Find idle tasks in task manager to delete miners viruses v3]] [[KDE fix no GUI terminal on start]] [[PiKVM enable VNC v3]] [[Remove restore notification from Edge]] [[OpenWRT custom DNS]] [[iventoy in proxmox host v7]] [[unraid fix network eth0 does not exist v3]] [[unraid pass gpu notes v5]] [[unraid reset root pasword to empty v2]] [[unraid remove 15 min lock on wrong password in WebGUI]] [[pialert pi alert shows online devices with port scanner v2]] [[whosinmylan watchyourlan alternative v2]] [[proxmox fix realtek rtl8152 usb 2.5gbps network adapter]] [[Proxmox onboard devices passthrough crashes host]] [[Fix proxmox management IP v2]] [[Fix grey question marks on all proxmox VMs]] [[Proxmox GPU passthrough short version working v7]] [[Realtek 8152 USB Ethernet network adapter OpenWRT v1]] [[watch your lan on proxmox]] [[uptime kuma monitor uptime of servers]] [[nginx proxy fix google alerting as dangerous site]] [[Rename Wazuh agent]] [[wazuh agent on proxmox host]] [[Check HW acceleration GPU acceleration in browser]] [[Minimal windows 10 as NAS in Proxmox v3]] [[Proxmox BIOS, secure boot, boot order, ISO mount]] [[Proxmox host connect to samba share]] [[Proxmox LXC create service for autostart v1]] [[Qbittorrent with Jdownloader in LXC container on Proxmox v8]] [[Useful proxmox command for VMs and LXC container manipulation v2]] [[Proxmox LXC container resize volume disk v3]] [[Jellyfin transcode cleanup script]] [[Check Intel GPU iGPU usage in Linux]] [[Jellyfin on Proxmox with GPU acceleration transcoding v12]] [[OpenWRT AP wireless access point guide]] [[Awaken OS ROM Beryllium Poco F1 Miatoll Note 9s v5]] [[openwrt wifi ax210 MT7922]] [[pikvm networking ethernet gadget v5]] [[pikvm restart pikvm os without reboot]] [[pikvm start on boot v3]] [[ip commands]] [[Proxmox useful scripts]] [[Proxmox LXC docker and GPU passthrough]] [[Proxmox LXC containers v1]] [[Proxmox disk commands and performance tweaks v3]] [[Proxmox repositories fix v1]] [[proxmox lxc docker]] [[n5105 passthrough v1]] [[proxmox temperatures in terminal v1]] [[Proxmox install windows VM NAS v3]] [[proxmox upload large ISOs using scp]] [[proxmox temperature monitoring on status screen - Not workingv1]] [[n5105 gpu passthrough video v4]] [[Memory diagnostic in windows memtest]] [[Linux processes and services]] [[move window to specific monitor v2]] [[mirror one monitor and extend other]] [[pikvm mass storage v1]] [[progress for rsync tqdm and pv v5]] [[curl samba and other options]] [[pikvm mount image as writable flash v4]] [[pikvm USB CD switch without reboot windows]] [[security tools v1]] [[New TiddlerUsing Termux on Android for Self Hosting? Yes, really.]] [[run history delete windows 11/10 v2]] [[wifi speed test android analyzer v1]] [[google backup security keys generation]] [[show all connected users in linux]] [[show all lines that are not hashed (#)]] [[linux emergency reboot shutdown]] [[Hisense tips]] [[pikvm tailscale]] [[Pikvm raspberry pi zero 2w manual v1]] [[immich-go script for google takeout import to immich v1]] [[Wazuh appdata and Save Games monitoring for game saves changes v2]] [[CPU history Windows process monitor to find miners v2]] [[no sign in after sleep]] [[dual channel windows RAM check]] [[Windows firewalls]] [[Disable windows core isolation for better performance and comaptibility]] [[Portable VirtualBox and other portable apps]] [[v86 virtual machine in browser]] [[ASCII video player tplay v3]] [[ASCII screensavers terminal]] [[PDFGear pdf convertor translator with AI]] [[immich synchronization between dockers v5]] [[immich - best self hosted google photos alternative with android app and sync v13]] [[get latest file from specific type for scripting]] [[timestamp to a file]] [[Powertoys -  open window where the mouse is]] [[jinn2usb usb with strelec v2]] [[OSX in docker]] [[windows in docker v4]] [[Kasm desktop in docker arm64/x86 with GPU passthrough v17]] [[wazuh linux and windows file monitor integrity check in realtime using auditd v4]] [[wazuh windows startup monitoring]] [[wazuh troubleshooting]] [[wazuh troubleshooting file monitoring]] [[Enable wazuh modules Virustotal example v2]] [[wazuh time zone change]] [[OhMyZsh ZSH alternative to bash shell v3]] [[allow ssh connection from specific country only working v5]] [[linux file system integrity periodical checks aide]] [[wazuh security dashboard server x86 only v17]] [[Nginx Proxy Manager https SSL certificate install on local network duck dns reverse proxy nginx proxy server v16]] [[Certificate install (yunohost dyndns)]] [[ics internet connection sharing fix]] [[Proxmox install Openwrt v11]] [[Raspberry Pi4 wifi auto connect]] [[Proxmox GUI on host X11 not working]] [[Proxmox passthrough disk]] [[Proxmox iGPU Intel 630 gpu passthrough v3 not working]] [[Proxmox AMD Radeon fix]] [[Proxmox GPU Passthrough working v2]] [[proxmox change IP to DHCI v2]] [[windows 11 fix ping not working between windows machines]] [[NAS server useful programs (n5105) v5]] [[run wetty in docker once]] [[Docker swamp HA cluster]] [[ExactFile CRC disk file creator comparison]] [[FPS frame limiter RTSS v4]] [[Reset windows login password v2]] [[set power button to put pc to sleep mode]] [[fastboot AMD ryzen fix (also works for intel)]] [[qbittorrent dark theme]] [[windows cursor shadow and other effects]] [[Free wallpaper collections 4k v3]] [[rustdesk remote desktop - self hosted anydesk/teamviewer alternative v3]] [[show open ssh sessions]] [[fail2ban Ban an IP after multiple failed SSH login attempts v8]] [[Linux logs]] [[nload - Real time network traffic monitor for the text console]] [[speed test internet netspeed in terminal v4]] [[docker rename container]] [[execute command in running container v2]] [[pi-hole (pihole) AgGuardHome alternative v14]] [[crdroid 10 updates android 14]] [[rclone install/update v2]] [[Linux Swap setup v5]] [[systemd commands failed degraded services v3]] [[Google photos export to zip direct link]] [[immich - best self hosted google photos alternative with android app and sync v19]] [[dimmer - brightness lower than minimal windows]] [[docker-android using qemu working]] [[kasmvncserver web-based html VNC server for Linux v3]] [[shutdown host from docker]] [[scrcpy in docker (Arch linux) v2]] [[docker fixing overlay - no space left on device]] [[qbittorrent link adder chrome extension add magnet on right click v2]] [[windows switch to safe mode]] [[hide partition remove drive letter in windows terminal v2]] [[cheat engine url link]] [[Alt app installer - Installing Microsoft store apps without store]] [[Windows 10 interface improvement add blur v3]] [[Top AI sites of 2023]] [[Twinkle tray brightness control fix KVM switch refresh v2]] [[scrcpy docker v3]] [[android in docker arm64 and x86 work in progress  v5]] [[ncdu gdu show consumed disk usage utilization]] [[web terminals v2]] [[Filestash with OnlyOffice working v13]] [[onlyoffice integration plugins]] [[show open ports Linux v2]] [[npm nvm package manager v5]] [[cloud commander - web based file access (filestash alternative) v5]] [[dufs - web based file access (filestash alternative) v4]] [[fix mortal kombat 11 xbox gamepad issue]] [[Installing Android Auto separately from recovery]] [[fix android auto error 22 with magisk and systemizer works in adnroid 14 v8]] [[whatsapp link to chat (api and web)]] [[fix dns name resolution in terminal]] [[renew release ip address in linux dhclient]] [[sunshine for linux (parsec alternative)]] [[parsec install on linux (client only) using flatpak]] [[DesktopNow remote access pc in browser over html5]] [[parsec web access]] [[Wake on Lan v6]] [[Install proton in ubuntu]] [[Gamevault  self hosting games server like steam]] [[remmina vnc html]] [[boot from wim (strelec)]] [[Install Ventoy to HDD]] [[Change HyperV default VM location]] [[backup rebuild EFI boot partition]] [[running vhd created in WinNTSetup in hyperv]] [[tiny11 tiny10 windows 10GB]] [[Sharicov Essential fresh boot tools 11/23 iso]] [[Create efi partition for WinNTSetup v3]] [[disable miner virus running while idle - maintenance.exe]] [[Manage windows from web WindowsAdminCenter]] [[Hyper-v windows 11 guest settings v3]] [[wget opera windows version]] [[repair or copy bcd from running windows to another partition]] [[windows server 2022 ati drivers]] [[WinNTSetup multiboot from WIM fix]] [[enable disable audio device windows powershell]] [[Disable windows lockout network share and remote access]] [[Fix windows file sharing lockout errors 4740 1909]] [[nextcloud untrusted domain fix]] [[metric prioritizing network interface in windows v3]] [[windows datacenter server 2022 tips]] [[Port scanning]] [[Reset Portainer password (user admin)]] [[Window server core add explorer device manager and other]] [[useful containers]] [[iptables Forward port traffic to another PC in Linux v3]] [[Account Lockout Event ID]] [[re-negotiate network speed linux]] [[Mikrotik RouterOS on Unraid]] test [[Login history linux]] [[yunohost in wsl windows in separate wsl instance v5]] [[docker get to shell (bash into running docker)]] [[dangbei u1 projector restore after update/reset]] [[emulatorjs web based rom emulation v2]] [[Full log fix x96 /var/log]] [[linux systemd fix btrfs (x96 example) v7]] [[BTRFS defragment v3]] [[atop task manager for linux for debugging io and loads]] [[oneclick macos install in KVM inc. WSL2]] [[Scan LAN and get Windows host names]] [[adguard lists]] [[glances alternative to htop atop showing external IP dockers and temperatures v7]] [[Docker install on debian]] [[Fix internet sharing in windows 11 - not working]] [[casaos selfhost docker based alternative to yunohost inc. WLS2 systemd enablement v9]] [[openwrt docker fix]] [[openwrt enable wan access (administration from internet)]] [[lxc install on openwrt friendlyelec v13]] [[Carbonyl/Browsh ASCII based text browser v3]] [[proxy server for old browsers (IE 5, windows NT)]] [[86box emulator old windows 98/xp emulation v1]] [[unraid kvm auto connect usb keyboard and mouse]] [[snapshot vm unraid]] [[cockpit web interface for Linux administration v2]] [[kvm installation on Arch Linux (HoloISO)]] [[convert vmdk to vhd for ventoy linux boot v2]] [[unraid shared folder for VM v5]] [[virtio iso download for unraid and proxmox]] [[USB 2.5Gbps for unraid r8152]] [[Syncfolders fast syncronize folders in Windows with scheduler]] [[VM tools for VMWare with Vista support]] [[Capture card 4k gaming]] [[Upgrade debian 11 to 12 on x96 max plus v3]] [[Backup armbian using ddbr x96]] [[How to Turn Off Windows Defender (Permanently) v3]] [[Clear video graphics memory buffer in windows]] [[ClamAV antivirus on arm64 v12]] [[OnlyOffice windows server manual v1]] [[install wetty on armbian arm v8]] [[Armbian for x96plus and other android tv v3]] [[noip free alternative static hostname]] [[defragment vhd contig sysinternals]] [[Monitor switch force on windows 11]] [[midjourney ai generate pictures discord v4]] [[Wakelock disable/ignore Android]] [[Download link]] [[show set routing table in windows v2]] [[windows sandbox customization v7]] [[windows server programs and tips v1]] [[Remote PC monitoring on android]] [[share several disks in one folder windows v1]] [[delete directory recursively windows command]] [[ultrawide youtube v2]] [[remote restart windows PC over powershell]] [[project elixir miatoll redmi note 9s v2]] [[windows eth port bonding aggregating virtual switch v3]] [[PXE boot and DHCP server windows]] [[iostat iowait]] [[chrome browser in docker v9]] [[Docker change storage location on OpenWRT v4]] [[OpenWRT generate x86 64bit image v1]] [[TiddlyWiki on Github manual v3]] [[OpenWRT KVM server]] [[unraid dhcp server]] [[clean teams cache v2]] [[clean edge data cache]] [[install optional features in windows]] [[Pair bluetooth speaker to google nest]] [[crdroid microphone fix]] [[crdroid on xiaomi note 9s v21]] [[New android apps to install v7]] [[Linux show number of files in folder v2]] [[Put games into vhd containers and mount from SMB network for faster move v5]] [[Download Microsoft Store app for offline use]] [[unraid aria2 fix download permissions]] [[Temperature monitoring Linux terminal v11]] [[Steam Library on network drive]] [[Unraid move data between disks v6]] [[Rsync automatic on change inotifywait]] [[Unraid root share v2]] [[Unraid mover run manually v2]] [[Unraid network terminal commands]] [[Unraid fix Realtek USB 2.5Gbpe r8152 r8156 v2]] [[Dark mode shortcut and task scheduler]] [[Offline files windows local SSD cache for NAS]] [[LinuxDir2HTML Snap2HTML clone for Linux v4]] [[create torrent and seed it in Linux terminal v2]] [[unraid tailscale or any custom linux v6]] [[rclone mailru setup cloud.mail.ru v3]] [[debug rclone]] [[msconfig change boot order BCD manipulation]] [[BlissOS android x86]] [[antivirus forensics]] [[hackintosh ventura beta v1]] [[Unraid terminal commands install packages v11]] [[Unraid switch VMs script]] [[install windows without internet]] [[Unraid crack 6.11.1 v18]] [[netdata -live monitoring with web view v6]] [[How to Check/Show/Set/Change/Modify current disk caching values (vm.dirty_ratio, vm.dirty_background_ratio etc.) on Linux/Debian/Ubuntu/Kali Linux/Fedora/RedHat/Rocky Linux etc. &gt; Blog-D without Nonsense]] [[SMB performance tuning]] [[RAM cache]] [[UNRAID benchmark Physical vs Virtual]] [[GPU passthrough topics v1]] [[Bluetooth disappeared fix]] [[bcache guide (ssd caching in linux) v1]] [[WSL directx]] [[GPU partitioning: sharing GPU v7]] [[Linux Single GPU Passthrough guide]] [[openwrt kvm host]] [[cp progress in Linux v2]] [[Ventoy create image in Linux also for pikvm v3]] [[Proxmox GPU passthrough v2]] [[OSX hackintosh in UNRAID v2]] [[OpenWRT in Unraid v12]] [[Gpu Passthrough on system with one gpu : r/unRAID v9]] [[sync.sh x96 backup v6]] [[crontab periodical commands x96 backup v15]] [[/etc/rc.local x96 backup v2]] [[xenia fix forza horizon xbox 360 emulator crash v5]] [[Google fastboot driver]] [[gapps android 12]] [[Graceful shutdown on low battery v4]] [[USB over IP sharing killercoda v2]] [[OpenWRT docker host network working v2]] [[OMV OpenMediaVault - Fix samba error on execution of exe v2]] [[DHCP server and NAT Linux and r5s benchmark]] [[Check remote port opened with netcat]] [[Partition types GUID]] [[robocopy v2]] [[OpenWRT in virtualbox v1]] [[Remove or reinstall docker and network from OpenWRT v6]] [[Samba tuning RAM and cache v2]] [[Killercoda manual v2]] [[OpenMediaVault OMV v4]] [[bcache SSD read cache for HDD v3]] [[Netdata monitoring on OpenWRT v2]] [[OpenWRT x86 custom image build v9]] [[OpenWRT Live USB x86 and net commands v14]] [[OpenWRT format disk in GUI (BTRFS) v2]] [[OpenWRT BTRFS v4]] [[OpenWRT custom image generator R4S v2]] [[Custom temp folder for executable]] [[Convert google keep to Evernote v1]] [[Convert google keep to text v3]] [[Play ps2 games in web browser online]] [[ssh autologin RSA v2]] [[Hostname change linux]] [[nala package manager v2]] [[Fusion openwrt torrentserver v1]] [[Differential vhd native boot windows v4]] [[Compress windows c: with lzx v3]] [[windows insider iso download official]] [[Install 7zip in linux (arm64)]] [[extract/compress each file to separate zip v7]] [[.ost outlool fix]] [[Jellyfin docker (emby alternative) v4]] [[download site from webarchive v2]] [[Local user with no password windows 11]] [[Normalize sound windows]] [[bpytop htop alternative (x86 and arm64)]] [[Boot to UEFI shortcut]] [[Jdownloader ARM headless v7]] [[Get external ip (wan) from terminal console]] [[SSH android phone (ssh server) v1]] [[opkg upgrade all packages openwrt v2]] [[yunohost avalable and requested apps]] [[fusionwrt docker fix network v1]] [[vsftpd FTP server v4]] [[KodExplorer KodBox file browser web access synology alternative v9]] KodBox [[Lancache DNS and proxy cache for games v1]] [[webtop web gui linuxes in docker sandbox using guacamole v7]] [[xpra html web server for x11 forwarding x windows - not workingv1]] [[Remove managed by your organization Edge policies v2]] [[MacOS OSX NTFS write support Monterey v2]] [[Windows 10 low RAM memory script win10debloat.ps1 v2]] [[Allow web admin on WAN (Lede,OpenWRT) v2]] [[Launchbox demul run dreamcast gdi from zip and xenia XBLA from rar v7]] [[Dolphin emulator ultra-wide 21:9 aspect v1]] [[Multiboot wim create USB (ventoy alternative) v1]] [[mount samba (SMB) in linux working v7]] [[Make_WinPE original readme]] [[Make_WinPE - Boot and Make PE WIM File from x64 Windows ISO v1]] [[TPlink revert to original firmware (stripping) v1]] [[resize microSD openwrt v2]] [[Docker usage commands v1]] [[OnlyOffice server docker supports arm64 v6]] [[install osx mac os on not supported legacy macs]] [[iostat alternative to iotop v2]] [[LeedRSS self hosted like FreshRSS v1]] [[miniflux rss reader linux like freshrss native v7]] [[x96 /etc/rc.local v6]] [[filestash native (arm64) (like nextcloud web files over ssh) v7]] [[raspbery nextcloud distro nextcloudpi v1]] [[Ariang native (no docker aria2c) v4]] [[MyAsus without MS store manual install]] [[ddns no-ip settings for OpenWrt ImmortalWrt]] [[Set MTU in windows (tailscale) OpenWRT and Realtek 2.5 Gbps USB Jumbo Frames tuning]] [[open ports OpenWrt ImmortalWrt]] [[Install/Update AdGuard home native - OpenWrt v4]] [[ssh rsa key auto login OpenWrt ImmortalWrt]] [[fisx samba in immortalWrt OpenWrt v2]] [[Syncthing v11]] [[Web browser benchmarks]] [[OpenWrt ImmortalWrt samba v1]] [[Show all installed packages in linux (yunohost)]] [[remount as write to fix ext4 fsck v3]] [[iperf3 speed test v2]] [[opnsense adguard home installation v1]] [[opnsense speedtest install v1]] [[opnsense resize partition v2]] [[portainer r4s immortalwrt v2]] [[nanopi r4s opensense opnsense pfsense v2]] [[onboard on screen keyboard Linux]] [[Fix No Sound Through HDMI In External Monitor In Ubuntu Linux]] [[Dual monitor Linux v2]] [[dual monitor linux]] [[Bluetooth commands v1]] [[sync android phone photos over ssh (filestash) v2]] [[Nextcloud arm64 in docker nextcloudpi]] [[OpenWRT ImmortalWRT expose docker to internent WAN]] [[h5ai docker installation r4s arm v2]] [[collabora docker without ssl]] [[tailscale install armbian x96]] [[Filestash web file browser docker (OnlyOffice only x86)]] [[gitlab on openwrt not working]] [[openwrt file browsers v4]] [[aria2c optimize disk writes]] [[Expose docker to wan (working)]] [[Nanopi R4S original OpenWRT]] [[OpenWRT (original ext4) resize partition on the fly v5]] [[AdGuard change password v4]] [[Adguard home on openwrt r4s klever1988 v2]] [[Openwrt r4s klever1988 samba]] [[openwrt resize partition on the fly with docker v7]] [[Fastest mirror debian v1]] [[Docker commands and migration v2]] [[rclone config file move to another computer]] [[convert ext (ext4) to btrfs for best performance v2]] [[armbian backup v1]] [[uninstall docker in linux]] [[x96max-plus2 v8]] [[Armbian resize root partition v1]] [[Test disk speed]] [[Migrate container docker export]] [[Home Assistant smart home self hosted v6]] [[ImmortalWRT nanopi R4S v1]] [[Update portainer v10]] [[FriendlyRSS v2]] [[R4S apps used 14GB yunohost]] [[Fix 0.0.0.0 in portainer 2.11]] [[FusionWRT v9]] [[tailscale on openwrt fusionwrt v12]] [[FreshRSS 403 error fix]] [[bt trackers for aria torrent]] [[selfhost r4s useful programs]] [[Porteus kiosk changelog v9]] [[Porteus kiosk changelog v8]] [[Porteus kiosk chrome extensions v3]] [[porteus kiosk module mastering (tilda example)]] [[Porteus_Kiosk_remastering v8]] [[DIR tree HDD content]] [[Import delimited csv text to excel 365]] [[scrcpy android phone show in windows v8]] [[install apps without windows store]] [[android subsystem on windows v6]] [[Download Microsoft Store app locally v2]] [[Remote desktop without password (blank empty password)]] [[Bypass TPM windows 11 install]] BypassSecureBootCheck [[gmail attachments to google drive (gdrive)]] [[tailscale fix windows]] [[Turn On or Off &quot;Always show all icons and notifications on the taskbar&quot; in Control Panel]] [[rsync v4]] [[USB disk mount (fstab) v7]] [[Remote desktop win 11]] [[Links v39]] [[Clean temporary cache in windows]] [[Linux programs on android termux (nextcloud example)]] [[owncloud commands]] [[Raspberry boot from USB and GUI raspbian lite]] [[Nextcloud too many requests troubleshooting]] [[pydio arm64 collabora v3]] [[SAMBA v6]] [[Windows shortcuts v1]] [[Useful Linux commands v1]] [[create ext4 partition]] [[yunohost raspberry disk system samba yandex screen rsync ssh v17]] [[Scripts v16]] [[Scripts v9]] [[Enable root login over SSH:]] [[R4S Yunohost installation from scratch v12]] [[Scripts v2]] dmesg [[Manjaro network hints]] [[yunohost buster lxc tailscale]] tinycore_2021_v1 [[Auto enable Bluetooth on boot]] [[Manjaro lxd lxc v10]] [[Linux touch to click v1]] [[Bluetooth Linux v2]] [[Gparted ISO remaster]] [[Windows Server 2022 settings v1]] [[PiKVM manual v8]] [[Parsec remote Linux acceleration fix]] [[FreshRSS add feed direct link]] [[Mini WinPE (64bit) no network 260MB]] [[Generate github token, setup TiddlyWiki on github]] [[PhotoPrism self hosted Google Photos replacement]] [[Piwigo google photos replacement]] [[R4S Yunohost installation from scratch v9]] [[Pigallery 2 google photo replacement best]] [[webmin web based monitoring and management]] [[redmi twrp v6]] [[LXC GUI manual]] [[Log2RAM v3]] Launcher Aria2_AriaNG_GUI_Docker_with_mapping_manual_v3 FileBrowser [[Docker apps v4]] [[yunohost raspberry general v5]] [[R4S Yunohost installation from scratch]] [[Install WSL2 in Windows 10 v2]] [[Mount ext4 in windows wsl]] [[Disk health monitoring v2]] [[fsck check EXT4 BTRFS disk v12]] $:/ControlPanel [[Screen command v3]] [[aria2 torrent native and OpenWRT v3]]" title="$:/StoryList">
<pre></pre>
</div>
<div title="$:/theme">
<pre>$:/themes/tiddlywiki/snowwhite</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="$:/themes/tiddlywiki/vanilla" description="Emphasises individual tiddlers" name="Snow White" plugin-priority="0" plugin-type="theme" title="$:/themes/tiddlywiki/snowwhite" type="application/json" version="5.1.24-prerelease">
<pre>{
    "tiddlers": {
        "$:/themes/tiddlywiki/snowwhite/base": {
            "title": "$:/themes/tiddlywiki/snowwhite/base",
            "tags": "[[$:/tags/Stylesheet]]",
            "text": "\\define sidebarbreakpoint-minus-one()\n&lt;$text text={{{ [{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}removesuffix[px]subtract[1]addsuffix[px]] ~[{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}] }}}/&gt;\n\\end\n\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\n.tc-sidebar-header {\n\ttext-shadow: 0 1px 0 &lt;&lt;colour sidebar-foreground-shadow&gt;&gt;;\n}\n\n.tc-tiddler-info {\n\t&lt;&lt;box-shadow \"inset 1px 2px 3px rgba(0,0,0,0.1)\"&gt;&gt;\n}\n\n@media screen {\n\t.tc-tiddler-frame {\n\t\t&lt;&lt;box-shadow \"1px 1px 5px rgba(0, 0, 0, 0.3)\"&gt;&gt;\n\t}\n}\n\n@media (max-width: &lt;&lt;sidebarbreakpoint-minus-one&gt;&gt;) {\n\t.tc-tiddler-frame {\n\t\t&lt;&lt;box-shadow none&gt;&gt;\n\t}\n}\n\n.tc-page-controls button svg, .tc-tiddler-controls button svg, .tc-topbar button svg {\n\t&lt;&lt;transition \"fill 150ms ease-in-out\"&gt;&gt;\n}\n\n.tc-tiddler-controls button.tc-selected,\n.tc-page-controls button.tc-selected {\n\t&lt;&lt;filter \"drop-shadow(0px -1px 2px rgba(0,0,0,0.25))\"&gt;&gt;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor {\n\t&lt;&lt;box-shadow \"inset 0 1px 8px rgba(0, 0, 0, 0.15)\"&gt;&gt;\n}\n\n.tc-edit-tags {\n\t&lt;&lt;box-shadow \"inset 0 1px 8px rgba(0, 0, 0, 0.15)\"&gt;&gt;\n}\n\n.tc-tiddler-frame .tc-edit-tags input.tc-edit-texteditor {\n\t&lt;&lt;box-shadow \"none\"&gt;&gt;\n\tborder: none;\n\toutline: none;\n}\n\ntextarea.tc-edit-texteditor {\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\n}\n\ncanvas.tc-edit-bitmapeditor  {\n\t&lt;&lt;box-shadow \"2px 2px 5px rgba(0, 0, 0, 0.5)\"&gt;&gt;\n}\n\n.tc-drop-down {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \"2px 2px 10px rgba(0, 0, 0, 0.5)\"&gt;&gt;\n}\n\n.tc-block-dropdown {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \"2px 2px 10px rgba(0, 0, 0, 0.5)\"&gt;&gt;\n}\n\n.tc-modal {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \"0 3px 7px rgba(0,0,0,0.3)\"&gt;&gt;\n}\n\n.tc-modal-footer {\n\tborder-radius: 0 0 6px 6px;\n\t&lt;&lt;box-shadow \"inset 0 1px 0 #fff\"&gt;&gt;;\n}\n\n\n.tc-alert {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \"0 3px 7px rgba(0,0,0,0.6)\"&gt;&gt;\n}\n\n.tc-notification {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \"0 3px 7px rgba(0,0,0,0.3)\"&gt;&gt;\n\ttext-shadow: 0 1px 0 rgba(255,255,255, 0.8);\n}\n\n.tc-sidebar-lists .tc-tab-set .tc-tab-divider {\n\tborder-top: none;\n\theight: 1px;\n\t&lt;&lt;background-linear-gradient \"left, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.0) 100%\"&gt;&gt;\n}\n\n.tc-more-sidebar &gt; .tc-tab-set &gt; .tc-tab-buttons &gt; button {\n\t&lt;&lt;background-linear-gradient \"left, rgba(0,0,0,0.01) 0%, rgba(0,0,0,0.1) 100%\"&gt;&gt;\n}\n\n.tc-more-sidebar &gt; .tc-tab-set &gt; .tc-tab-buttons &gt; button.tc-tab-selected {\n\t&lt;&lt;background-linear-gradient \"left, rgba(0,0,0,0.05) 0%, rgba(255,255,255,0.05) 100%\"&gt;&gt;\n}\n\n.tc-message-box img {\n\t&lt;&lt;box-shadow \"1px 1px 3px rgba(0,0,0,0.5)\"&gt;&gt;\n}\n\n.tc-plugin-info {\n\t&lt;&lt;box-shadow \"1px 1px 3px rgba(0,0,0,0.5)\"&gt;&gt;\n}\n"
        }
    }
}</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="Basic theme" name="Vanilla" plugin-priority="0" plugin-type="theme" title="$:/themes/tiddlywiki/vanilla" type="application/json" version="5.1.24-prerelease">
<pre>{
    "tiddlers": {
        "$:/themes/tiddlywiki/vanilla/themetweaks": {
            "title": "$:/themes/tiddlywiki/vanilla/themetweaks",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ThemeTweaks/ThemeTweaks}}",
            "text": "\\define lingo-base() $:/language/ThemeTweaks/\n\n\\define replacement-text()\n[img[$(imageTitle)$]]\n\\end\n\n\\define backgroundimage-dropdown()\n&lt;div class=\"tc-drop-down-wrapper\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/themetweaks/backgroundimage\"&gt;&gt; class=\"tc-btn-invisible tc-btn-dropdown\"&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/themetweaks/backgroundimage\"&gt;&gt; type=\"popup\" position=\"belowleft\" text=\"\" default=\"\"&gt;\n&lt;div class=\"tc-drop-down\"&gt;\n&lt;$macrocall $name=\"image-picker\" actions=\"\"\"\n\n&lt;$action-setfield\n\t$tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimage\"\n\t$value=&lt;&lt;imageTitle&gt;&gt;\n/&gt;\n\n\"\"\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\\end\n\n\\define backgroundimageattachment-dropdown()\n&lt;$select tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment\" default=\"scroll\"&gt;\n&lt;option value=\"scroll\"&gt;&lt;&lt;lingo Settings/BackgroundImageAttachment/Scroll&gt;&gt;&lt;/option&gt;\n&lt;option value=\"fixed\"&gt;&lt;&lt;lingo Settings/BackgroundImageAttachment/Fixed&gt;&gt;&lt;/option&gt;\n&lt;/$select&gt;\n\\end\n\n\\define backgroundimagesize-dropdown()\n&lt;$select tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize\" default=\"scroll\"&gt;\n&lt;option value=\"auto\"&gt;&lt;&lt;lingo Settings/BackgroundImageSize/Auto&gt;&gt;&lt;/option&gt;\n&lt;option value=\"cover\"&gt;&lt;&lt;lingo Settings/BackgroundImageSize/Cover&gt;&gt;&lt;/option&gt;\n&lt;option value=\"contain\"&gt;&lt;&lt;lingo Settings/BackgroundImageSize/Contain&gt;&gt;&lt;/option&gt;\n&lt;/$select&gt;\n\\end\n\n&lt;&lt;lingo ThemeTweaks/Hint&gt;&gt;\n\n! &lt;&lt;lingo Options&gt;&gt;\n\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\"&gt;&lt;&lt;lingo Options/SidebarLayout&gt;&gt;&lt;/$link&gt; |&lt;$select tiddler=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\"&gt;&lt;option value=\"fixed-fluid\"&gt;&lt;&lt;lingo Options/SidebarLayout/Fixed-Fluid&gt;&gt;&lt;/option&gt;&lt;option value=\"fluid-fixed\"&gt;&lt;&lt;lingo Options/SidebarLayout/Fluid-Fixed&gt;&gt;&lt;/option&gt;&lt;/$select&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/options/stickytitles\"&gt;&lt;&lt;lingo Options/StickyTitles&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Options/StickyTitles/Hint&gt;&gt;// |&lt;$select tiddler=\"$:/themes/tiddlywiki/vanilla/options/stickytitles\"&gt;&lt;option value=\"no\"&gt;{{$:/language/No}}&lt;/option&gt;&lt;option value=\"yes\"&gt;{{$:/language/Yes}}&lt;/option&gt;&lt;/$select&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/options/codewrapping\"&gt;&lt;&lt;lingo Options/CodeWrapping&gt;&gt;&lt;/$link&gt; |&lt;$select tiddler=\"$:/themes/tiddlywiki/vanilla/options/codewrapping\"&gt;&lt;option value=\"pre\"&gt;{{$:/language/No}}&lt;/option&gt;&lt;option value=\"pre-wrap\"&gt;{{$:/language/Yes}}&lt;/option&gt;&lt;/$select&gt; |\n\n! &lt;&lt;lingo Settings&gt;&gt;\n\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/settings/fontfamily\"&gt;&lt;&lt;lingo Settings/FontFamily&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/fontfamily\" default=\"\" tag=\"input\"/&gt; | |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/settings/codefontfamily\"&gt;&lt;&lt;lingo Settings/CodeFontFamily&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/codefontfamily\" default=\"\" tag=\"input\"/&gt; | |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\"&gt;&lt;&lt;lingo Settings/EditorFontFamily&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\" default=\"\" tag=\"input\"/&gt; | |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimage\"&gt;&lt;&lt;lingo Settings/BackgroundImage&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimage\" default=\"\" tag=\"input\"/&gt; |&lt;&lt;backgroundimage-dropdown&gt;&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment\"&gt;&lt;&lt;lingo Settings/BackgroundImageAttachment&gt;&gt;&lt;/$link&gt; |&lt;&lt;backgroundimageattachment-dropdown&gt;&gt; | |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize\"&gt;&lt;&lt;lingo Settings/BackgroundImageSize&gt;&gt;&lt;/$link&gt; |&lt;&lt;backgroundimagesize-dropdown&gt;&gt; | |\n\n! &lt;&lt;lingo Metrics&gt;&gt;\n\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/fontsize\"&gt;&lt;&lt;lingo Metrics/FontSize&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/fontsize\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/lineheight\"&gt;&lt;&lt;lingo Metrics/LineHeight&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/lineheight\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize\"&gt;&lt;&lt;lingo Metrics/BodyFontSize&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/bodylineheight\"&gt;&lt;&lt;lingo Metrics/BodyLineHeight&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/bodylineheight\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/storyleft\"&gt;&lt;&lt;lingo Metrics/StoryLeft&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Metrics/StoryLeft/Hint&gt;&gt;// |^&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/storyleft\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/storytop\"&gt;&lt;&lt;lingo Metrics/StoryTop&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Metrics/StoryTop/Hint&gt;&gt;// |^&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/storytop\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/storyright\"&gt;&lt;&lt;lingo Metrics/StoryRight&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Metrics/StoryRight/Hint&gt;&gt;// |^&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/storyright\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/storywidth\"&gt;&lt;&lt;lingo Metrics/StoryWidth&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Metrics/StoryWidth/Hint&gt;&gt;// |^&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/storywidth\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth\"&gt;&lt;&lt;lingo Metrics/TiddlerWidth&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Metrics/TiddlerWidth/Hint&gt;&gt;//&lt;br&gt; |^&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\"&gt;&lt;&lt;lingo Metrics/SidebarBreakpoint&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Metrics/SidebarBreakpoint/Hint&gt;&gt;// |^&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth\"&gt;&lt;&lt;lingo Metrics/SidebarWidth&gt;&gt;&lt;/$link&gt;&lt;br&gt;//&lt;&lt;lingo Metrics/SidebarWidth/Hint&gt;&gt;// |^&lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth\" default=\"\" tag=\"input\"/&gt; |\n"
        },
        "$:/themes/tiddlywiki/vanilla/base": {
            "title": "$:/themes/tiddlywiki/vanilla/base",
            "tags": "[[$:/tags/Stylesheet]]",
            "text": "\\define custom-background-datauri()\n&lt;$set name=\"background\" value={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}}&gt;\n&lt;$list filter=\"[&lt;background&gt;is[image]]\"&gt;\n`background: url(`\n&lt;$list filter=\"[&lt;background&gt;!has[_canonical_uri]]\"&gt;\n`\"`&lt;$macrocall $name=\"datauri\" title={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}}/&gt;`\"`\n&lt;/$list&gt;\n&lt;$list filter=\"[&lt;background&gt;has[_canonical_uri]]\"&gt;\n`\"`&lt;$view tiddler={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}} field=\"_canonical_uri\"/&gt;`\"`\n&lt;/$list&gt;\n`) center center;`\n`background-attachment: `{{$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment}}`;\n-webkit-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\n-moz-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\n-o-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\nbackground-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;`\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n\\define sidebarbreakpoint()\n&lt;$text text={{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}/&gt;\n\\end\n\n\\define sidebarbreakpoint-minus-one()\n&lt;$text text={{{ [{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}removesuffix[px]subtract[1]addsuffix[px]] ~[{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}] }}}/&gt;\n\\end\n\n\\define if-fluid-fixed(text,hiddenSidebarText)\n&lt;$reveal state=\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\" type=\"match\" text=\"fluid-fixed\"&gt;\n$text$\n&lt;$reveal state=\"$:/state/sidebar\" type=\"nomatch\" text=\"yes\" default=\"yes\"&gt;\n$hiddenSidebarText$\n&lt;/$reveal&gt;\n&lt;/$reveal&gt;\n\\end\n\n\\define if-editor-height-fixed(then,else)\n&lt;$reveal state=\"$:/config/TextEditor/EditorHeight/Mode\" type=\"match\" text=\"fixed\"&gt;\n$then$\n&lt;/$reveal&gt;\n&lt;$reveal state=\"$:/config/TextEditor/EditorHeight/Mode\" type=\"match\" text=\"auto\"&gt;\n$else$\n&lt;/$reveal&gt;\n\\end\n\n\\define set-type-selector-min-width()\n&lt;$set name=\"typeLength\" value={{{ [all[shadows+tiddlers]prefix[$:/language/Docs/Types/]get[name]length[]maxall[]] }}}&gt;\n\n\t.tc-type-selector-dropdown-wrapper {\n\t\tmin-width: calc(&lt;&lt;typeLength&gt;&gt;ch + 4em);\n\t}\n\n\t.tc-type-selector-dropdown-wrapper input.tc-edit-typeeditor {\n\t\tmin-width: &lt;&lt;typeLength&gt;&gt;ch;\n\t}\n\n&lt;/$set&gt;\n\\end\n\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\n\n/*\n** Start with the normalize CSS reset, and then belay some of its effects\n*/\n\n{{$:/themes/tiddlywiki/vanilla/reset}}\n\n*, input[type=\"search\"] {\n\tbox-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n}\n\ninput[type=\"search\"] {\n  outline-offset: initial;\n}\n\nhtml button {\n\tline-height: 1.2;\n\tcolor: &lt;&lt;colour button-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour button-foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour button-background&gt;&gt;;\n\tborder-color: &lt;&lt;colour button-border&gt;&gt;;\n}\n\n/*\n** Basic element styles\n*/\n\nhtml, body {\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/fontfamily}};\n\ttext-rendering: optimizeLegibility; /* Enables kerning and ligatures etc. */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n}\n\nhtml:-webkit-full-screen {\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\nbody.tc-body {\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/fontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/lineheight}};\n\tword-wrap: break-word;\n\t&lt;&lt;custom-background-datauri&gt;&gt;\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n&lt;&lt;if-background-attachment \"\"\"\n\nbody.tc-body {\n        background-color: transparent;\n}\n\n\"\"\"&gt;&gt;\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n\tfont-size: 2em;\n}\n\nh1, h2, h3, h4, h5, h6 {\n\tline-height: 1.2;\n\tfont-weight: 300;\n}\n\npre {\n\tdisplay: block;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n\tword-break: normal;\n\tword-wrap: break-word;\n\twhite-space: {{$:/themes/tiddlywiki/vanilla/options/codewrapping}};\n\tbackground-color: &lt;&lt;colour pre-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour pre-border&gt;&gt;;\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\n}\n\ncode {\n\tcolor: &lt;&lt;colour code-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour code-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour code-border&gt;&gt;;\n\twhite-space: {{$:/themes/tiddlywiki/vanilla/options/codewrapping}};\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\n}\n\nblockquote {\n\tborder-left: 5px solid &lt;&lt;colour blockquote-bar&gt;&gt;;\n\tmargin-left: 25px;\n\tpadding-left: 10px;\n\tquotes: \"\\201C\"\"\\201D\"\"\\2018\"\"\\2019\";\n}\n\nblockquote &gt; div {\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n}\n\nblockquote.tc-big-quote {\n\tfont-family: Georgia, serif;\n\tposition: relative;\n\tbackground: &lt;&lt;colour pre-background&gt;&gt;;\n\tborder-left: none;\n\tmargin-left: 50px;\n\tmargin-right: 50px;\n\tpadding: 10px;\n    border-radius: 8px;\n}\n\nblockquote.tc-big-quote cite:before {\n\tcontent: \"\\2014 \\2009\";\n}\n\nblockquote.tc-big-quote:before {\n\tfont-family: Georgia, serif;\n\tcolor: &lt;&lt;colour blockquote-bar&gt;&gt;;\n\tcontent: open-quote;\n\tfont-size: 8em;\n\tline-height: 0.1em;\n\tmargin-right: 0.25em;\n\tvertical-align: -0.4em;\n\tposition: absolute;\n    left: -50px;\n    top: 42px;\n}\n\nblockquote.tc-big-quote:after {\n\tfont-family: Georgia, serif;\n\tcolor: &lt;&lt;colour blockquote-bar&gt;&gt;;\n\tcontent: close-quote;\n\tfont-size: 8em;\n\tline-height: 0.1em;\n\tmargin-right: 0.25em;\n\tvertical-align: -0.4em;\n\tposition: absolute;\n    right: -80px;\n    bottom: -20px;\n}\n\ndl dt {\n\tfont-weight: bold;\n\tmargin-top: 6px;\n}\n\nbutton, textarea, input, select {\n\toutline-color: &lt;&lt;colour primary&gt;&gt;;\n}\n\ntextarea,\ninput[type=text],\ninput[type=search],\ninput[type=\"\"],\ninput:not([type]) {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n}\n\ninput[type=\"checkbox\"] {\n  vertical-align: middle;\n}\n\ninput[type=\"search\"]::-webkit-search-decoration,\ninput[type=\"search\"]::-webkit-search-cancel-button,\ninput[type=\"search\"]::-webkit-search-results-button,\ninput[type=\"search\"]::-webkit-search-results-decoration {\n\t-webkit-appearance:none;\n}\n\n.tc-muted {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\nsvg.tc-image-button {\n\tpadding: 0px 1px 1px 0px;\n}\n\n.tc-icon-wrapper &gt; svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\nkbd {\n\tdisplay: inline-block;\n\tpadding: 3px 5px;\n\tfont-size: 0.8em;\n\tline-height: 1.2;\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tvertical-align: middle;\n\tbackground-color: &lt;&lt;colour background&gt;&gt;;\n\tborder: solid 1px &lt;&lt;colour muted-foreground&gt;&gt;;\n\tborder-bottom-color: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tborder-radius: 3px;\n\tbox-shadow: inset 0 -1px 0 &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n::selection {\n\tbackground-color: Highlight;\n\tcolor: HighlightText;\n\tbackground-color: &lt;&lt;colour selection-background&gt;&gt;;\n\tcolor: &lt;&lt;colour selection-foreground&gt;&gt;;\n}\n\n/*\nMarkdown likes putting code elements inside pre elements\n*/\npre &gt; code {\n\tpadding: 0;\n\tborder: none;\n\tbackground-color: inherit;\n\tcolor: inherit;\n}\n\ntable {\n\tborder: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\twidth: auto;\n\tmax-width: 100%;\n\tcaption-side: bottom;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n\t/* next 2 elements needed, since normalize 8.0.1 */\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\ntable th, table td {\n\tpadding: 0 7px 0 7px;\n\tborder-top: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n}\n\ntable thead tr td, table th {\n\tbackground-color: &lt;&lt;colour table-header-background&gt;&gt;;\n\tfont-weight: bold;\n}\n\ntable tfoot tr td {\n\tbackground-color: &lt;&lt;colour table-footer-background&gt;&gt;;\n}\n\n.tc-csv-table {\n\twhite-space: nowrap;\n}\n\n.tc-tiddler-frame img,\n.tc-tiddler-frame svg,\n.tc-tiddler-frame canvas,\n.tc-tiddler-frame embed,\n.tc-tiddler-frame iframe {\n\tmax-width: 100%;\n}\n\n.tc-tiddler-body &gt; embed,\n.tc-tiddler-body &gt; iframe {\n\twidth: 100%;\n\theight: 600px;\n}\n\n/*\n** Links\n*/\n\nbutton.tc-tiddlylink,\na.tc-tiddlylink {\n\ttext-decoration: none;\n\tfont-weight: 500;\n\tcolor: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\t-webkit-user-select: inherit; /* Otherwise the draggable attribute makes links impossible to select */\n}\n\n.tc-sidebar-lists a.tc-tiddlylink {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists a.tc-tiddlylink:hover {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground-hover&gt;&gt;;\n}\n\nbutton.tc-tiddlylink:hover,\na.tc-tiddlylink:hover {\n\ttext-decoration: underline;\n}\n\na.tc-tiddlylink-resolves {\n}\n\na.tc-tiddlylink-shadow {\n\tfont-weight: bold;\n}\n\na.tc-tiddlylink-shadow.tc-tiddlylink-resolves {\n\tfont-weight: normal;\n}\n\na.tc-tiddlylink-missing {\n\tfont-style: italic;\n}\n\na.tc-tiddlylink-external {\n\ttext-decoration: underline;\n\tcolor: &lt;&lt;colour external-link-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background&gt;&gt;;\n}\n\na.tc-tiddlylink-external:visited {\n\tcolor: &lt;&lt;colour external-link-foreground-visited&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-visited&gt;&gt;;\n}\n\na.tc-tiddlylink-external:hover {\n\tcolor: &lt;&lt;colour external-link-foreground-hover&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-hover&gt;&gt;;\n}\n\n.tc-drop-down a.tc-tiddlylink:hover {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n}\n\n/*\n** Drag and drop styles\n*/\n\n.tc-tiddler-dragger {\n\tposition: relative;\n\tz-index: -10000;\n}\n\n.tc-tiddler-dragger-inner {\n\tposition: absolute;\n\ttop: -1000px;\n\tleft: -1000px;\n\tdisplay: inline-block;\n\tpadding: 8px 20px;\n\tfont-size: 16.9px;\n\tfont-weight: bold;\n\tline-height: 20px;\n\tcolor: &lt;&lt;colour dragger-foreground&gt;&gt;;\n\ttext-shadow: 0 1px 0 rgba(0, 0, 0, 1);\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour dragger-background&gt;&gt;;\n\tborder-radius: 20px;\n}\n\n.tc-tiddler-dragger-cover {\n\tposition: absolute;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\n.tc-page-container &gt; .tc-dropzone {\n\tmin-height: 100vh;\n}\n\n.tc-dropzone {\n\tposition: relative;\n}\n\n.tc-dropzone.tc-dragover:before {\n\tz-index: 10000;\n\tdisplay: block;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: &lt;&lt;colour dropzone-background&gt;&gt;;\n\ttext-align: center;\n\tcontent: \"&lt;&lt;lingo DropMessage&gt;&gt;\";\n}\n\n.tc-droppable &gt; .tc-droppable-placeholder {\n\tdisplay: none;\n}\n\n.tc-droppable.tc-dragover &gt; .tc-droppable-placeholder {\n\tdisplay: block;\n\tborder: 2px dashed &lt;&lt;colour dropzone-background&gt;&gt;;\n}\n\n.tc-draggable {\n\tcursor: move;\n}\n\n.tc-sidebar-tab-open .tc-droppable-placeholder, .tc-tagged-draggable-list .tc-droppable-placeholder,\n.tc-links-draggable-list .tc-droppable-placeholder {\n\tline-height: 2em;\n\theight: 2em;\n}\n\n.tc-sidebar-tab-open-item {\n\tposition: relative;\n}\n\n.tc-sidebar-tab-open .tc-btn-invisible.tc-btn-mini svg {\n\tfont-size: 0.7em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n/*\n** Plugin reload warning\n*/\n\n.tc-plugin-reload-warning {\n\tz-index: 1000;\n\tdisplay: block;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: &lt;&lt;colour alert-background&gt;&gt;;\n\ttext-align: center;\n}\n\n/*\n** Buttons\n*/\n\nbutton svg, button img, label svg, label img {\n\tvertical-align: middle;\n}\n\n.tc-btn-invisible {\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-btn-boxed {\n\tfont-size: 0.6em;\n\tpadding: 0.2em;\n\tmargin: 1px;\n\tbackground: none;\n\tborder: 1px solid &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n\tborder-radius: 0.25em;\n}\n\nhtml body.tc-body .tc-btn-boxed svg {\n\tfont-size: 1.6666em;\n}\n\n.tc-btn-boxed:hover {\n\tbackground: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n}\n\nhtml body.tc-body .tc-btn-boxed:hover svg {\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-btn-rounded {\n\tfont-size: 0.5em;\n\tline-height: 2;\n\tpadding: 0em 0.3em 0.2em 0.4em;\n\tmargin: 1px;\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tborder-radius: 2em;\n}\n\nhtml body.tc-body .tc-btn-rounded svg {\n\tfont-size: 1.6666em;\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-btn-rounded:hover {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\nhtml body.tc-body .tc-btn-rounded:hover svg {\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-btn-icon svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-btn-text {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n/* used for documentation \"fake\" buttons */\n.tc-btn-standard {\n\tline-height: 1.8;\n\tcolor: #667;\n\tbackground-color: #e0e0e0;\n\tborder: 1px solid #888;\n\tpadding: 2px 1px 2px 1px;\n\tmargin: 1px 4px 1px 4px;\n}\n\n.tc-btn-big-green {\n\tdisplay: inline-block;\n\tpadding: 8px;\n\tmargin: 4px 8px 4px 8px;\n\tbackground: &lt;&lt;colour download-background&gt;&gt;;\n\tcolor: &lt;&lt;colour download-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour download-foreground&gt;&gt;;\n\tborder: none;\n\tborder-radius: 2px;\n\tfont-size: 1.2em;\n\tline-height: 1.4em;\n\ttext-decoration: none;\n}\n\n.tc-btn-big-green svg,\n.tc-btn-big-green img {\n\theight: 2em;\n\twidth: 2em;\n\tvertical-align: middle;\n\tfill: &lt;&lt;colour download-foreground&gt;&gt;;\n}\n\n.tc-primary-btn {\n \tbackground: &lt;&lt;colour primary&gt;&gt;;\n}\n\n.tc-sidebar-lists input {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button {\n\tcolor: &lt;&lt;colour sidebar-button-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour sidebar-button-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button.tc-btn-mini {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button.tc-btn-mini:hover {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground-hover&gt;&gt;;\n}\n\n.tc-sidebar-lists button small {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\nbutton svg.tc-image-button, button .tc-image-button img {\n\theight: 1em;\n\twidth: 1em;\n}\n\n.tc-unfold-banner {\n\tposition: absolute;\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n\twidth: calc(100% + 2px);\n\tmargin-left: -43px;\n\ttext-align: center;\n\tborder-top: 2px solid &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tmargin-top: 4px;\n}\n\n.tc-unfold-banner:hover {\n\tbackground: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tborder-top: 2px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n}\n\n.tc-unfold-banner svg, .tc-fold-banner svg {\n\theight: 0.75em;\n\tfill: &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n}\n\n.tc-unfold-banner:hover svg, .tc-fold-banner:hover svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-hover&gt;&gt;;\n}\n\n.tc-fold-banner {\n\tposition: absolute;\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n\twidth: 23px;\n\ttext-align: center;\n\tmargin-left: -35px;\n\ttop: 6px;\n\tbottom: 6px;\n}\n\n.tc-fold-banner:hover {\n\tbackground: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n}\n\n@media (max-width: &lt;&lt;sidebarbreakpoint-minus-one&gt;&gt;) {\n\n\t.tc-unfold-banner {\n\t\tposition: static;\n\t\twidth: calc(100% + 59px);\n\t}\n\n\t.tc-fold-banner {\n\t\twidth: 16px;\n\t\tmargin-left: -16px;\n\t\tfont-size: 0.75em;\n\t}\n\n}\n\n/*\n** Tags and missing tiddlers\n*/\n\n.tc-tag-list-item {\n\tposition: relative;\n\tdisplay: inline-block;\n}\n\n.tc-tags-wrapper {\n\tmargin: 4px 0 14px 0;\n}\n\n.tc-tags-wrapper .tc-tag-list-item {\n\tmargin-right: 7px;\n}\n\n.tc-missing-tiddler-label {\n\tfont-style: italic;\n\tfont-weight: normal;\n\tdisplay: inline-block;\n\tfont-size: 11.844px;\n\tline-height: 14px;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n}\n\n.tc-block-tags-dropdown &gt; .tc-btn-invisible:hover {\n\tbackground-color: &lt;&lt;colour primary&gt;&gt;;\n}\n\nbutton.tc-tag-label, span.tc-tag-label {\n\tdisplay: inline-block;\n\tpadding: 0.16em 0.7em;\n\tfont-size: 0.9em;\n\tfont-weight: 400;\n\tline-height: 1.2em;\n\tcolor: &lt;&lt;colour tag-foreground&gt;&gt;;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour tag-background&gt;&gt;;\n\tborder-radius: 1em;\n}\n\n.tc-sidebar-scrollable .tc-tag-label {\n\ttext-shadow: none;\n}\n\n.tc-untagged-separator {\n\twidth: 10em;\n\tleft: 0;\n\tmargin-left: 0;\n\tborder: 0;\n\theight: 1px;\n\tbackground: &lt;&lt;colour tab-divider&gt;&gt;;\n}\n\nbutton.tc-untagged-label {\n\tbackground-color: &lt;&lt;colour untagged-background&gt;&gt;;\n}\n\n.tc-tag-label svg, .tc-tag-label img {\n\theight: 1em;\n\twidth: 1em;\n\tmargin-right: 3px; \n\tmargin-bottom: 1px;\n\tvertical-align: bottom;\n}\n\n.tc-edit-tags button.tc-remove-tag-button svg {\n\tfont-size: 0.7em;\n\tvertical-align: middle;\n}\n\n.tc-tag-manager-table .tc-tag-label {\n\twhite-space: normal;\n}\n\n.tc-tag-manager-tag {\n\twidth: 100%;\n}\n\nbutton.tc-btn-invisible.tc-remove-tag-button {\n\toutline: none;\n}\n\n.tc-tag-button-selected,\n.tc-list-item-selected a.tc-tiddlylink, a.tc-list-item-selected {\n\tbackground-color: &lt;&lt;colour primary&gt;&gt;;\n\tcolor: &lt;&lt;colour tiddler-background&gt;&gt;;\n}\n\n/*\n** Page layout\n*/\n\n.tc-topbar {\n\tposition: fixed;\n\tz-index: 1200;\n}\n\n.tc-topbar-left {\n\tleft: 29px;\n\ttop: 5px;\n}\n\n.tc-topbar-right {\n\ttop: 5px;\n\tright: 29px;\n}\n\n@media (max-width: &lt;&lt;sidebarbreakpoint-minus-one&gt;&gt;) {\n\n\t.tc-topbar-right {\n\t\tright: 10px;\n\t}\n\n}\n\n.tc-topbar button {\n\tpadding: 8px;\n}\n\n.tc-topbar svg {\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-topbar button:hover svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n@media (max-width: &lt;&lt;sidebarbreakpoint-minus-one&gt;&gt;) {\n\n\t.tc-show-sidebar-btn svg.tc-image-chevron-left, .tc-hide-sidebar-btn svg.tc-image-chevron-right {\n\t\ttransform: rotate(-90deg);\n\t}\n\n}\n\n.tc-sidebar-header {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-sidebar-header .tc-title a.tc-tiddlylink-resolves {\n\tfont-weight: 300;\n}\n\n.tc-sidebar-header .tc-sidebar-lists p {\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n}\n\n.tc-sidebar-header .tc-missing-tiddler-label {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-advanced-search input {\n\twidth: 60%;\n}\n\n.tc-search a svg {\n\twidth: 1.2em;\n\theight: 1.2em;\n\tvertical-align: middle;\n}\n\n.tc-page-controls {\n\tmargin-top: 14px;\n\tfont-size: 1.5em;\n}\n\n.tc-page-controls .tc-drop-down {\n  font-size: 1rem;\n}\n\n.tc-page-controls button {\n\tmargin-right: 0.5em;\n}\n\n.tc-page-controls a.tc-tiddlylink:hover {\n\ttext-decoration: none;\n}\n\n.tc-page-controls img {\n\twidth: 1em;\n}\n\n.tc-page-controls svg {\n\tfill: &lt;&lt;colour sidebar-controls-foreground&gt;&gt;;\n}\n\n.tc-page-controls button:hover svg, .tc-page-controls a:hover svg {\n\tfill: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;;\n}\n\n.tc-sidebar-lists .tc-menu-list-item {\n\twhite-space: nowrap;\n}\n\n.tc-menu-list-count {\n\tfont-weight: bold;\n}\n\n.tc-menu-list-subitem {\n\tpadding-left: 7px;\n}\n\n.tc-story-river {\n\tposition: relative;\n}\n\n@media (max-width: &lt;&lt;sidebarbreakpoint-minus-one&gt;&gt;) {\n\n\t.tc-sidebar-header {\n\t\tpadding: 14px;\n\t\tmin-height: 32px;\n\t\tmargin-top: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t\ttransition:  min-height {{$:/config/AnimationDuration}}ms ease-in-out, padding-top {{$:/config/AnimationDuration}}ms ease-in-out, padding-bottom {{$:/config/AnimationDuration}}ms ease-in-out;\n\t}\n\t\n\t&lt;&lt;if-no-sidebar \"\"\"\n\n\t\t.tc-sidebar-header {\n\t\t\tmin-height: 0;\n\t\t\tpadding-top: 0;\n\t\t\tpadding-bottom: 0;\n\t\t}\n\n\t\"\"\"&gt;&gt;\n\n\t.tc-story-river {\n\t\tposition: relative;\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: &lt;&lt;sidebarbreakpoint&gt;&gt;) {\n\n\t.tc-message-box {\n\t\tmargin: 21px -21px 21px -21px;\n\t}\n\n\t.tc-sidebar-scrollable {\n\t\tposition: fixed;\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics/storyright}};\n\t\tbottom: 0;\n\t\tright: 0;\n\t\toverflow-y: auto;\n\t\toverflow-x: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t\tmargin: 0 0 0 -42px;\n\t\tpadding: 71px 0 28px 42px;\n\t}\n\n\thtml[dir=\"rtl\"] .tc-sidebar-scrollable {\n\t\tleft: auto;\n\t\tright: {{$:/themes/tiddlywiki/vanilla/metrics/storyright}};\n\t}\n\n\t.tc-story-river {\n\t\tposition: relative;\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}};\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/storywidth}};\n\t\tpadding: 42px 42px 42px 42px;\n\t}\n\n&lt;&lt;if-no-sidebar \"\n\n\t.tc-story-river {\n\t\twidth: calc(100% - {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}});\n\t}\n\n\"&gt;&gt;\n\n\t.tc-story-river.tc-static-story-river {\n\t\tmargin-right: 0;\n\t\tpadding-right: 42px;\n\t}\n\n}\n\n@media print {\n\n\tbody.tc-body {\n\t\tbackground-color: transparent;\n\t}\n\n\t.tc-sidebar-header, .tc-topbar {\n\t\tdisplay: none;\n\t}\n\n\t.tc-story-river {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t.tc-story-river .tc-tiddler-frame {\n\t\tmargin: 0;\n\t\tborder: none;\n\t\tpadding: 0;\n\t}\n}\n\n/*\n** Tiddler styles\n*/\n\n.tc-tiddler-frame {\n\tposition: relative;\n\tmargin-bottom: 28px;\n\tbackground-color: &lt;&lt;colour tiddler-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour tiddler-border&gt;&gt;;\n}\n\n{{$:/themes/tiddlywiki/vanilla/sticky}}\n\n.tc-tiddler-info {\n\toverflow: hidden;\n\tpadding: 14px 42px 14px 42px;\n\tbackground-color: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n}\n\n.tc-tiddler-info p {\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n}\n\n.tc-tiddler-info .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n}\n\n@media (max-width: &lt;&lt;sidebarbreakpoint-minus-one&gt;&gt;) {\n\n\t.tc-tiddler-info {\n\t\tpadding: 14px 14px 14px 14px;\n\t}\n\n}\n\n.tc-view-field-table {\n\twidth: 100%;\n}\n\n.tc-view-field-name {\n\twidth: 1%; /* Makes this column be as narrow as possible */\n\ttext-align: right;\n\tfont-style: italic;\n\tfont-weight: 200;\n}\n\n.tc-view-field-value {\n}\n\n@media (max-width: &lt;&lt;sidebarbreakpoint-minus-one&gt;&gt;) {\n\t.tc-tiddler-frame {\n\t\tpadding: 14px 14px 14px 14px;\n\t\tmargin-bottom: .5em;\n\t}\n\n\t.tc-tiddler-info {\n\t\tmargin: 0 -14px 0 -14px;\n\t}\n}\n\n@media (min-width: &lt;&lt;sidebarbreakpoint&gt;&gt;) {\n\t.tc-tiddler-frame {\n\t\tpadding: 28px 42px 42px 42px;\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth}};\n\t\tborder-radius: 2px;\n\t}\n\n&lt;&lt;if-no-sidebar \"\n\n\t.tc-tiddler-frame {\n\t\twidth: 100%;\n\t}\n\n\"&gt;&gt;\n\n\t.tc-tiddler-info {\n\t\tmargin: 0 -42px 0 -42px;\n\t}\n}\n\n.tc-site-title,\n.tc-titlebar {\n\tfont-weight: 300;\n\tfont-size: 2.35em;\n\tline-height: 1.35em;\n\tcolor: &lt;&lt;colour tiddler-title-foreground&gt;&gt;;\n\tmargin: 0;\n}\n\n.tc-site-title {\n\tcolor: &lt;&lt;colour site-title-foreground&gt;&gt;;\n}\n\n.tc-tiddler-title-icon {\n\tvertical-align: middle;\n\tmargin-right: .1em;\n}\n\n.tc-system-title-prefix {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-titlebar h2 {\n\tfont-size: 1em;\n\tdisplay: inline;\n}\n\n.tc-titlebar img {\n\theight: 1em;\n}\n\n.tc-subtitle {\n\tfont-size: 0.9em;\n\tcolor: &lt;&lt;colour tiddler-subtitle-foreground&gt;&gt;;\n\tfont-weight: 300;\n}\n\n.tc-subtitle .tc-tiddlylink {\n\tmargin-right: .3em;\n}\n\n.tc-tiddler-missing .tc-title {\n  font-style: italic;\n  font-weight: normal;\n}\n\n.tc-tiddler-frame .tc-tiddler-controls {\n\tfloat: right;\n}\n\n.tc-tiddler-controls .tc-drop-down {\n\tfont-size: 0.6em;\n}\n\n.tc-tiddler-controls .tc-drop-down .tc-drop-down {\n\tfont-size: 1em;\n}\n\n.tc-tiddler-controls &gt; span &gt; button,\n.tc-tiddler-controls &gt; span &gt; span &gt; button,\n.tc-tiddler-controls &gt; span &gt; span &gt; span &gt; button {\n\tvertical-align: baseline;\n\tmargin-left:5px;\n}\n\n.tc-tiddler-controls button svg, .tc-tiddler-controls button img,\n.tc-search button svg, .tc-search a svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg, .tc-tiddler-controls button img {\n\theight: 0.75em;\n}\n\n.tc-search button svg, .tc-search a svg {\n    height: 1.2em;\n    width: 1.2em;\n    margin: 0 0.25em;\n}\n\n.tc-tiddler-controls button.tc-selected svg,\n.tc-page-controls button.tc-selected svg  {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-selected&gt;&gt;;\n}\n\n.tc-tiddler-controls button.tc-btn-invisible:hover svg,\n.tc-search button:hover svg, .tc-search a:hover svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-hover&gt;&gt;;\n}\n\n@media print {\n\t.tc-tiddler-controls {\n\t\tdisplay: none;\n\t}\n}\n\n.tc-tiddler-help { /* Help prompts within tiddler template */\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tmargin-top: 14px;\n}\n\n.tc-tiddler-help a.tc-tiddlylink {\n\tcolor: &lt;&lt;colour very-muted-foreground&gt;&gt;;\n}\n\n.tc-tiddler-frame .tc-edit-texteditor {\n\twidth: 100%;\n\tmargin: 4px 0 4px 0;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\n.tc-tiddler-frame textarea.tc-edit-texteditor,\n.tc-tiddler-frame iframe.tc-edit-texteditor {\n\tpadding: 3px 3px 3px 3px;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tline-height: 1.3em;\n\t-webkit-appearance: none;\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\n.tc-tiddler-frame textarea.tc-edit-texteditor {\n\tbackground-color: &lt;&lt;colour tiddler-editor-background&gt;&gt;;\n}\n\n.tc-tiddler-frame iframe.tc-edit-texteditor {\n\tbackground-color: &lt;&lt;colour tiddler-background&gt;&gt;;\n}\n\n.tc-tiddler-frame .tc-binary-warning {\n\twidth: 100%;\n\theight: 5em;\n\ttext-align: center;\n\tpadding: 3em 3em 6em 3em;\n\tbackground: &lt;&lt;colour alert-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour alert-border&gt;&gt;;\n}\n\ncanvas.tc-edit-bitmapeditor  {\n\tborder: 6px solid &lt;&lt;colour tiddler-editor-border-image&gt;&gt;;\n\tcursor: crosshair;\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tmargin-top: 6px;\n\tmargin-bottom: 6px;\n}\n\n.tc-edit-bitmapeditor-width {\n\tdisplay: block;\n}\n\n.tc-edit-bitmapeditor-height {\n\tdisplay: block;\n}\n\n.tc-tiddler-body {\n\tclear: both;\n}\n\n.tc-tiddler-frame .tc-tiddler-body {\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/bodylineheight}};\n}\n\n.tc-titlebar, .tc-tiddler-edit-title {\n\toverflow: hidden; /* https://github.com/Jermolene/TiddlyWiki5/issues/282 */\n}\n\nhtml body.tc-body.tc-single-tiddler-window {\n\tmargin: 1em;\n\tbackground: &lt;&lt;colour tiddler-background&gt;&gt;;\n}\n\n.tc-single-tiddler-window img,\n.tc-single-tiddler-window svg,\n.tc-single-tiddler-window canvas,\n.tc-single-tiddler-window embed,\n.tc-single-tiddler-window iframe {\n\tmax-width: 100%;\n}\n\n/*\n** Editor\n*/\n\n.tc-editor-toolbar {\n\tmargin-top: 8px;\n}\n\n.tc-editor-toolbar button {\n\tvertical-align: middle;\n\tbackground-color: &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n\tcolor: &lt;&lt;colour tiddler-controls-foreground-selected&gt;&gt;;\n\tfill: &lt;&lt;colour tiddler-controls-foreground-selected&gt;&gt;;\n\tborder-radius: 4px;\n\tpadding: 3px;\n\tmargin: 2px 0 2px 4px;\n}\n\n.tc-editor-toolbar button.tc-text-editor-toolbar-item-adjunct {\n\tmargin-left: 1px;\n\twidth: 1em;\n\tborder-radius: 8px;\n}\n\n.tc-editor-toolbar button.tc-text-editor-toolbar-item-start-group {\n\tmargin-left: 11px;\n}\n\n.tc-editor-toolbar button.tc-selected {\n\tbackground-color: &lt;&lt;colour primary&gt;&gt;;\n}\n\n.tc-editor-toolbar button svg {\n\twidth: 1.6em;\n\theight: 1.2em;\n}\n\n.tc-editor-toolbar button:hover {\n\tbackground-color: &lt;&lt;colour tiddler-controls-foreground-selected&gt;&gt;;\n\tfill: &lt;&lt;colour background&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-editor-toolbar .tc-text-editor-toolbar-more {\n\twhite-space: normal;\n}\n\n.tc-editor-toolbar .tc-text-editor-toolbar-more button {\n\tdisplay: inline-block;\n\tpadding: 3px;\n\twidth: auto;\n}\n\n.tc-editor-toolbar .tc-search-results {\n\tpadding: 0;\n}\n\n/*\n** Adjustments for fluid-fixed mode\n*/\n\n@media (min-width: &lt;&lt;sidebarbreakpoint&gt;&gt;) {\n\n&lt;&lt;if-fluid-fixed text:\"\"\"\n\n\t.tc-story-river {\n\t\tpadding-right: 0;\n\t\tposition: relative;\n\t\twidth: auto;\n\t\tleft: 0;\n\t\tmargin-left: {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}};\n\t\tmargin-right: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}};\n\t}\n\n\t.tc-tiddler-frame {\n\t\twidth: 100%;\n\t}\n\n\t.tc-sidebar-scrollable {\n\t\tleft: auto;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}};\n\t}\n\n\tbody.tc-body .tc-storyview-zoomin-tiddler {\n\t\twidth: 100%;\n\t\twidth: calc(100% - 42px);\n\t}\n\n\"\"\" hiddenSidebarText:\"\"\"\n\n\t.tc-story-river {\n\t\tpadding-right: 3em;\n\t\tmargin-right: 0;\n\t}\n\n\tbody.tc-body .tc-storyview-zoomin-tiddler {\n\t\twidth: 100%;\n\t\twidth: calc(100% - 84px);\n\t}\n\n\"\"\"&gt;&gt;\n\n}\n\n/*\n** Toolbar buttons\n*/\n\n.tc-page-controls svg.tc-image-new-button {\n  fill: &lt;&lt;colour toolbar-new-button&gt;&gt;;\n}\n\n.tc-page-controls svg.tc-image-options-button {\n  fill: &lt;&lt;colour toolbar-options-button&gt;&gt;;\n}\n\n.tc-page-controls svg.tc-image-save-button {\n  fill: &lt;&lt;colour toolbar-save-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-info-button {\n  fill: &lt;&lt;colour toolbar-info-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-edit-button {\n  fill: &lt;&lt;colour toolbar-edit-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-close-button {\n  fill: &lt;&lt;colour toolbar-close-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-delete-button {\n  fill: &lt;&lt;colour toolbar-delete-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-cancel-button {\n  fill: &lt;&lt;colour toolbar-cancel-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-done-button {\n  fill: &lt;&lt;colour toolbar-done-button&gt;&gt;;\n}\n\n/*\n** Tiddler edit mode\n*/\n\n.tc-tiddler-edit-frame em.tc-edit {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tfont-style: normal;\n}\n\n.tc-edit-type-dropdown a.tc-tiddlylink-missing {\n\tfont-style: normal;\n}\n\n.tc-type-selector .tc-edit-typeeditor {\n\twidth: auto;\n}\n\n.tc-type-selector-dropdown-wrapper {\n\tdisplay: inline-block;\n}\n\n&lt;&lt;set-type-selector-min-width&gt;&gt;\n\n.tc-edit-tags {\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tpadding: 4px 8px 4px 8px;\n}\n\n.tc-edit-add-tag {\n\tdisplay: inline-block;\n}\n\n.tc-edit-add-tag .tc-add-tag-name input {\n\twidth: 50%;\n}\n\n.tc-edit-add-tag .tc-keyboard {\n\tdisplay:inline;\n}\n\n.tc-edit-tags .tc-tag-label {\n\tdisplay: inline-block;\n}\n\n.tc-edit-tags-list {\n\tmargin: 14px 0 14px 0;\n}\n\n.tc-remove-tag-button {\n\tpadding-left: 4px;\n}\n\n.tc-tiddler-preview {\n\toverflow: auto;\n}\n\n.tc-tiddler-preview-preview {\n\tfloat: right;\n\twidth: 49%;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tmargin: 4px 0 3px 3px;\n\tpadding: 3px 3px 3px 3px;\n}\n\n&lt;&lt;if-editor-height-fixed then:\"\"\"\n\n.tc-tiddler-preview-preview {\n\toverflow-y: scroll;\n\theight: {{$:/config/TextEditor/EditorHeight/Height}};\n}\n\n\"\"\"&gt;&gt;\n\n.tc-tiddler-frame .tc-tiddler-preview .tc-edit-texteditor {\n\twidth: 49%;\n}\n\n.tc-tiddler-frame .tc-tiddler-preview canvas.tc-edit-bitmapeditor {\n\tmax-width: 49%;\n}\n\n.tc-edit-fields {\n\twidth: 100%;\n}\n\n.tc-edit-fields.tc-edit-fields-small {\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n}\n\n.tc-edit-fields table, .tc-edit-fields tr, .tc-edit-fields td {\n\tborder: none;\n\tpadding: 4px;\n}\n\n.tc-edit-fields &gt; tbody &gt; .tc-edit-field:nth-child(odd) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;;\n}\n\n.tc-edit-fields &gt; tbody &gt; .tc-edit-field:nth-child(even) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-even&gt;&gt;;\n}\n\n.tc-edit-field-name {\n\ttext-align: right;\n}\n\n.tc-edit-field-value input {\n\twidth: 100%;\n}\n\n.tc-edit-field-remove {\n}\n\n.tc-edit-field-remove svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tvertical-align: middle;\n}\n\n.tc-edit-field-add-name-wrapper input.tc-edit-texteditor {\n\twidth: auto;\n}\n\n.tc-edit-field-add-name-wrapper {\n\tdisplay: inline-block;\n}\n\n.tc-edit-field-add-value {\n\tdisplay: inline-block;\n}\n\n@media (min-width: &lt;&lt;sidebarbreakpoint&gt;&gt;) {\n\n\t.tc-edit-field-add-value {\n\t\twidth: 35%;\n\t}\n\n}\n\n.tc-edit-field-add-button {\n\tdisplay: inline-block;\n\twidth: 10%;\n}\n\n/*\n** Storyview Classes\n*/\n\n.tc-viewswitcher .tc-image-button {\n\tmargin-right: .3em;\n}\n\n.tc-storyview-zoomin-tiddler {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 100%;\n}\n\n@media (min-width: &lt;&lt;sidebarbreakpoint&gt;&gt;) {\n\n\t.tc-storyview-zoomin-tiddler {\n\t\twidth: calc(100% - 84px);\n\t}\n\n}\n\n/*\n** Dropdowns\n*/\n\n.tc-btn-dropdown {\n\ttext-align: left;\n}\n\n.tc-btn-dropdown svg, .tc-btn-dropdown img {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-drop-down-wrapper {\n\tposition: relative;\n}\n\n.tc-drop-down {\n\tmin-width: 380px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 7px 0 7px 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n\ttext-shadow: none;\n\tline-height: 1.4;\n}\n\n.tc-drop-down .tc-drop-down {\n\tmargin-left: 14px;\n}\n\n.tc-drop-down button svg, .tc-drop-down a svg  {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down button.tc-btn-invisible:hover svg {\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-drop-down .tc-drop-down-info {\n\tpadding-left: 14px;\n}\n\n.tc-drop-down p {\n\tpadding: 0 14px 0 14px;\n}\n\n.tc-drop-down svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\n.tc-drop-down img {\n\twidth: 1em;\n}\n\n.tc-drop-down a, .tc-drop-down button {\n\tdisplay: block;\n\tpadding: 0 14px 0 14px;\n\twidth: 100%;\n\ttext-align: left;\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tline-height: 1.4;\n}\n\n.tc-drop-down .tc-tab-set .tc-tab-buttons button {\n\tdisplay: inline-block;\n    width: auto;\n    margin-bottom: 0px;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.tc-drop-down .tc-prompt {\n\tpadding: 0 14px;\n}\n\n.tc-drop-down .tc-chooser {\n\tborder: none;\n}\n\n.tc-drop-down .tc-chooser .tc-swatches-horiz {\n\tfont-size: 0.4em;\n\tpadding-left: 1.2em;\n}\n\n.tc-drop-down .tc-file-input-wrapper {\n\twidth: 100%;\n}\n\n.tc-drop-down .tc-file-input-wrapper button {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down a:hover, .tc-drop-down button:hover, .tc-drop-down .tc-file-input-wrapper:hover button {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n.tc-drop-down .tc-tab-buttons button {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background&gt;&gt;;\n}\n\n.tc-drop-down .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n}\n\n.tc-drop-down-bullet {\n\tdisplay: inline-block;\n\twidth: 0.5em;\n}\n\n.tc-drop-down .tc-tab-contents a {\n\tpadding: 0 0.5em 0 0.5em;\n}\n\n.tc-block-dropdown-wrapper {\n\tposition: relative;\n}\n\n.tc-block-dropdown {\n\tposition: absolute;\n\tmin-width: 220px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 7px 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n\tz-index: 1000;\n\ttext-shadow: none;\n}\n\n.tc-block-dropdown.tc-search-drop-down {\n\tmargin-left: -12px;\n}\n\n.tc-block-dropdown a {\n\tdisplay: block;\n\tpadding: 4px 14px 4px 14px;\n}\n\n.tc-block-dropdown.tc-search-drop-down a {\n\tdisplay: block;\n\tpadding: 0px 10px 0px 10px;\n}\n\n.tc-drop-down .tc-dropdown-item-plain,\n.tc-block-dropdown .tc-dropdown-item-plain {\n\tpadding: 4px 14px 4px 7px;\n}\n\n.tc-drop-down .tc-dropdown-item,\n.tc-block-dropdown .tc-dropdown-item {\n\tpadding: 4px 14px 4px 7px;\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-block-dropdown a.tc-tiddlylink:hover {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n.tc-search-results {\n\tpadding: 0 7px 0 7px;\n}\n\n.tc-image-chooser, .tc-colour-chooser {\n\twhite-space: normal;\n}\n\n.tc-image-chooser a,\n.tc-colour-chooser a {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\ttext-align: center;\n\tposition: relative;\n}\n\n.tc-image-chooser a {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tpadding: 2px;\n\tmargin: 2px;\n\twidth: 4em;\n\theight: 4em;\n}\n\n.tc-colour-chooser a {\n\tpadding: 3px;\n\twidth: 2em;\n\theight: 2em;\n\tvertical-align: middle;\n}\n\n.tc-image-chooser a:hover,\n.tc-colour-chooser a:hover {\n\tbackground: &lt;&lt;colour primary&gt;&gt;;\n\tpadding: 0px;\n\tborder: 3px solid &lt;&lt;colour primary&gt;&gt;;\n}\n\n.tc-image-chooser a svg,\n.tc-image-chooser a img {\n\tdisplay: inline-block;\n\twidth: auto;\n\theight: auto;\n\tmax-width: 3.5em;\n\tmax-height: 3.5em;\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tmargin: auto;\n}\n\n/*\n** Modals\n*/\n\n.tc-modal-wrapper {\n\tposition: fixed;\n\toverflow: auto;\n\toverflow-y: scroll;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 900;\n}\n\n.tc-modal-backdrop {\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 1000;\n\tbackground-color: &lt;&lt;colour modal-backdrop&gt;&gt;;\n}\n\n.tc-modal {\n\tz-index: 1100;\n\tbackground-color: &lt;&lt;colour modal-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour modal-border&gt;&gt;;\n}\n\n@media (max-width: 55em) {\n\t.tc-modal {\n\t\tposition: fixed;\n\t\ttop: 1em;\n\t\tleft: 1em;\n\t\tright: 1em;\n\t}\n\n\t.tc-modal-body {\n\t\toverflow-y: auto;\n\t\tmax-height: 400px;\n\t\tmax-height: 60vh;\n\t}\n}\n\n@media (min-width: 55em) {\n\t.tc-modal {\n\t\tposition: fixed;\n\t\ttop: 2em;\n\t\tleft: 25%;\n\t\twidth: 50%;\n\t}\n\n\t.tc-modal-body {\n\t\toverflow-y: auto;\n\t\tmax-height: 400px;\n\t\tmax-height: 60vh;\n\t}\n}\n\n.tc-modal-header {\n\tpadding: 9px 15px;\n\tborder-bottom: 1px solid &lt;&lt;colour modal-header-border&gt;&gt;;\n}\n\n.tc-modal-header h3 {\n\tmargin: 0;\n\tline-height: 30px;\n}\n\n.tc-modal-header img, .tc-modal-header svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\n.tc-modal-body {\n\tpadding: 15px;\n}\n\n.tc-modal-footer {\n\tpadding: 14px 15px 15px;\n\tmargin-bottom: 0;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour modal-footer-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour modal-footer-border&gt;&gt;;\n}\n\n\n/*\n** Centered modals\n*/\n.tc-modal-centered .tc-modal {\n\twidth: auto;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%) !important;\n}\n\n/*\n** Notifications\n*/\n\n.tc-notification {\n\tposition: fixed;\n\ttop: 14px;\n\tright: 42px;\n\tz-index: 1300;\n\tmax-width: 280px;\n\tpadding: 0 14px 0 14px;\n\tbackground-color: &lt;&lt;colour notification-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour notification-border&gt;&gt;;\n}\n\n/*\n** Tabs\n*/\n\n.tc-tab-set.tc-vertical {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tc-tab-buttons {\n\tfont-size: 0.85em;\n\tpadding-top: 1em;\n\tmargin-bottom: -2px;\n}\n\n.tc-tab-buttons.tc-vertical  {\n\tz-index: 100;\n\tdisplay: block;\n\tpadding-top: 14px;\n\tvertical-align: top;\n\ttext-align: right;\n\tmargin-bottom: inherit;\n\tmargin-right: -1px;\n\tmax-width: 33%;\n\t-webkit-flex: 0 0 auto;\n\tflex: 0 0 auto;\n}\n\n.tc-tab-buttons button.tc-tab-selected {\n\tcolor: &lt;&lt;colour tab-foreground-selected&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n}\n\n.tc-tab-buttons button {\n\tcolor: &lt;&lt;colour tab-foreground&gt;&gt;;\n\tpadding: 3px 5px 3px 5px;\n\tmargin-right: 0.3em;\n\tfont-weight: 300;\n\tborder: none;\n\tbackground: inherit;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n\tborder-bottom-left-radius: 0;\n\tborder-bottom-right-radius: 0;\n}\n\n.tc-tab-buttons.tc-vertical button {\n\tdisplay: block;\n\twidth: 100%;\n\tmargin-top: 3px;\n\tmargin-right: 0;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: none;\n\tborder-top-left-radius: 2px;\n\tborder-bottom-left-radius: 2px;\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n}\n\n.tc-tab-buttons.tc-vertical button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-background-selected&gt;&gt;;\n}\n\n.tc-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour tab-divider&gt;&gt;;\n}\n\n.tc-tab-divider.tc-vertical  {\n\tdisplay: none;\n}\n\n.tc-tab-content {\n\tmargin-top: 14px;\n}\n\n.tc-tab-content.tc-vertical  {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\tpadding-top: 0;\n\tpadding-left: 14px;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\t-webkit-flex: 1 0 70%;\n\tflex: 1 0 70%;\n\toverflow: auto;\n}\n\n.tc-sidebar-lists .tc-tab-buttons {\n\tmargin-bottom: -1px;\n}\n\n.tc-sidebar-lists .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n}\n\n.tc-sidebar-lists .tc-tab-buttons button {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n}\n\n.tc-sidebar-lists .tc-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-divider&gt;&gt;;\n}\n\n.tc-more-sidebar &gt; .tc-tab-set &gt; .tc-tab-buttons &gt; button {\n\tdisplay: block;\n\twidth: 100%;\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tborder-top: none;\n\tborder-left: none;\n\tborder-bottom: none;\n\tborder-right: 1px solid #ccc;\n\tmargin-bottom: inherit;\n}\n\n.tc-more-sidebar &gt; .tc-tab-set &gt; .tc-tab-buttons &gt; button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tborder: none;\n}\n\n/*\n** Manager\n*/\n\n.tc-manager-wrapper {\n\t\n}\n\n.tc-manager-controls {\n\t\n}\n\n.tc-manager-control {\n\tmargin: 0.5em 0;\n}\n\n.tc-manager-list {\n\twidth: 100%;\n\tborder-top: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-manager-list-item {\n\n}\n\n.tc-manager-list-item-heading {\n    display: block;\n    width: 100%;\n    text-align: left;\t\n\tborder-bottom: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tpadding: 3px;\n}\n\n.tc-manager-list-item-heading-selected {\n\tfont-weight: bold;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tfill: &lt;&lt;colour background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-manager-list-item-heading:hover {\n\tbackground: &lt;&lt;colour primary&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-manager-list-item-content {\n\tdisplay: flex;\n}\n\n.tc-manager-list-item-content-sidebar {\n    flex: 1 0;\n    background: &lt;&lt;colour tiddler-editor-background&gt;&gt;;\n    border-right: 0.5em solid &lt;&lt;colour muted-foreground&gt;&gt;;\n    border-bottom: 0.5em solid &lt;&lt;colour muted-foreground&gt;&gt;;\n    white-space: nowrap;\n}\n\n.tc-manager-list-item-content-item-heading {\n\tdisplay: block;\n\twidth: 100%;\n\ttext-align: left;\n    background: &lt;&lt;colour muted-foreground&gt;&gt;;\n\ttext-transform: uppercase;\n\tfont-size: 0.6em;\n\tfont-weight: bold;\n    padding: 0.5em 0 0.5em 0;\n}\n\n.tc-manager-list-item-content-item-body {\n\tpadding: 0 0.5em 0 0.5em;\n}\n\n.tc-manager-list-item-content-item-body &gt; pre {\n\tmargin: 0.5em 0 0.5em 0;\n\tborder: none;\n\tbackground: inherit;\n}\n\n.tc-manager-list-item-content-tiddler {\n    flex: 3 1;\n    border-left: 0.5em solid &lt;&lt;colour muted-foreground&gt;&gt;;\n    border-right: 0.5em solid &lt;&lt;colour muted-foreground&gt;&gt;;\n    border-bottom: 0.5em solid &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-manager-list-item-content-item-body &gt; table {\n\tborder: none;\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.tc-manager-list-item-content-item-body &gt; table td {\n\tborder: none;\n}\n\n.tc-manager-icon-editor &gt; button {\n\twidth: 100%;\n}\n\n.tc-manager-icon-editor &gt; button &gt; svg,\n.tc-manager-icon-editor &gt; button &gt; button {\n\twidth: 100%;\n\theight: auto;\n}\n\n/*\n** Import table\n*/\n\n.tc-import-table {\n\twidth: 100%;\n}\n\n.tc-import-table svg.tc-image-edit-button {\n\tmax-width: unset;\n}\n\n.tc-import-table th:first-of-type {\n\twidth: 10%;\n}\n\n.tc-import-table th:last-of-type {\n\twidth: 30%;\n}\n\n.tc-import-table .tc-row-disabled {\n\tbackground: &lt;&lt;colour very-muted-foreground&gt;&gt;10;\n\topacity: 0.8;\n}\n\n.tc-import-table .tc-row-warning {\n\tbackground: &lt;&lt;colour diff-delete-background&gt;&gt;50;\n}\n\n/*\n** Alerts\n*/\n\n.tc-alerts {\n\tposition: fixed;\n\ttop: 28px;\n\tleft: 0;\n\tright: 0;\n\tmax-width: 50%;\n\tz-index: 20000;\n}\n\n.tc-alert {\n\tposition: relative;\n\tmargin: 14px;\n\tpadding: 7px;\n\tborder: 1px solid &lt;&lt;colour alert-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour alert-background&gt;&gt;;\n}\n\n.tc-alert-toolbar {\n\tposition: absolute;\n\ttop: 7px;\n\tright: 7px;\n    line-height: 0;\n}\n\n.tc-alert-toolbar svg {\n\tfill: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n}\n\n.tc-alert-subtitle {\n\tcolor: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n\tfont-weight: bold;\n    font-size: 0.8em;\n    margin-bottom: 0.5em;\n}\n\n.tc-alert-body &gt; p {\n\tmargin: 0;\n}\n\n.tc-alert-highlight {\n\tcolor: &lt;&lt;colour alert-highlight&gt;&gt;;\n}\n\n@media (min-width: &lt;&lt;sidebarbreakpoint&gt;&gt;) {\n\n\t.tc-static-alert {\n\t\tposition: relative;\n\t}\n\n\t.tc-static-alert-inner {\n\t\tposition: absolute;\n\t\tz-index: 100;\n\t}\n\n}\n\n.tc-static-alert-inner {\n\tpadding: 0 2px 2px 42px;\n\tcolor: &lt;&lt;colour static-alert-foreground&gt;&gt;;\n}\n\n/*\n** Floating drafts list\n*/\n\n.tc-drafts-list {\n\tz-index: 2000;\n\tposition: fixed;\n\tfont-size: 0.8em;\n\tleft: 0;\n\tbottom: 0;\n}\n\n.tc-drafts-list a {\n\tmargin: 0 0.5em;\n\tpadding: 4px 4px;\n\tborder-top-left-radius: 4px;\n\tborder-top-right-radius: 4px;\n\tborder: 1px solid &lt;&lt;colour background&gt;&gt;;\n\tborder-bottom-none;\n\tbackground: &lt;&lt;colour dirty-indicator&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-drafts-list a:hover {\n\ttext-decoration: none;\n\tbackground: &lt;&lt;colour foreground&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-drafts-list a svg {\n\twidth: 1em;\n\theight: 1em;\n\tvertical-align: text-bottom;\n}\n\n/*\n** Control panel\n*/\n\n.tc-control-panel td {\n\tpadding: 4px;\n}\n\n.tc-control-panel table, .tc-control-panel table input, .tc-control-panel table textarea {\n\twidth: 100%;\n}\n\n.tc-plugin-info {\n\tdisplay: flex;\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour background&gt;&gt;;\n\tmargin: 0.5em 0 0.5em 0;\n\tpadding: 4px;\n    align-items: center;\n}\n\n.tc-plugin-info-sub-plugins .tc-plugin-info {\n    margin: 0.5em;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-plugin-info-sub-plugin-indicator {\n\tmargin: -16px 1em 0 2em;\n}\n\n.tc-plugin-info-sub-plugin-indicator button {\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tbackground: &lt;&lt;colour foreground&gt;&gt;;\n\tborder-radius: 8px;\n    padding: 2px 7px;\n    font-size: 0.75em;\n}\n\n.tc-plugin-info-sub-plugins .tc-plugin-info-dropdown {\n\tmargin-left: 1em;\n\tmargin-right: 1em;\n}\n\n.tc-plugin-info-disabled {\n\tbackground: -webkit-repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\n\tbackground: repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\n}\n\n.tc-plugin-info-disabled:hover {\n\tbackground: -webkit-repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\n\tbackground: repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\n}\n\na.tc-tiddlylink.tc-plugin-info:hover {\n\ttext-decoration: none;\n\tbackground-color: &lt;&lt;colour primary&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\na.tc-tiddlylink.tc-plugin-info:hover &gt; .tc-plugin-info-chunk &gt; svg {\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-plugin-info-chunk {\n    margin: 2px;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-toggle {\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tline-height: 1;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-icon {\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tline-height: 1;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description {\n\tflex-grow: 1;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-buttons {\n\tfont-size: 0.8em;\n\tline-height: 1.2;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n    text-align: right;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description h1 {\n\tfont-size: 1em;\n\tline-height: 1.2;\n\tmargin: 2px 0 2px 0;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description h2 {\n\tfont-size: 0.8em;\n\tline-height: 1.2;\n\tmargin: 2px 0 2px 0;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-description div {\n\tfont-size: 0.7em;\n\tline-height: 1.2;\n\tmargin: 2px 0 2px 0;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-toggle img, .tc-plugin-info-chunk.tc-plugin-info-toggle svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\n.tc-plugin-info-chunk.tc-plugin-info-icon img, .tc-plugin-info-chunk.tc-plugin-info-icon svg {\n\twidth: 2em;\n\theight: 2em;\n}\n\n.tc-plugin-info-dropdown {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n\tmargin-top: -8px;\n}\n\n.tc-plugin-info-dropdown-message {\n\tbackground: &lt;&lt;colour message-background&gt;&gt;;\n\tpadding: 0.5em 1em 0.5em 1em;\n\tfont-weight: bold;\n\tfont-size: 0.8em;\n}\n\n.tc-plugin-info-dropdown-body {\n\tpadding: 1em 1em 0 1em;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-plugin-info-sub-plugins {\n\tpadding: 0.5em;\n    margin: 0 1em 1em 1em;\n\tbackground: &lt;&lt;colour notification-background&gt;&gt;;\n}\n\n.tc-install-plugin {\n\tfont-weight: bold;\n\tbackground: green;\n\tcolor: white;\n\tfill: white;\n\tborder-radius: 4px;\n\tpadding: 3px;\n}\n\n.tc-install-plugin.tc-reinstall-downgrade {\n\tbackground: red;\n}\n\n.tc-install-plugin.tc-reinstall {\n\tbackground: blue;\n}\n\n.tc-install-plugin.tc-reinstall-upgrade {\n\tbackground: orange;\n}\n\n.tc-check-list {\n\tline-height: 2em;\n}\n\n.tc-check-list .tc-image-button {\n\theight: 1.5em;\n}\n\n/*\n** Message boxes\n*/\n\n.tc-message-box {\n\tborder: 1px solid &lt;&lt;colour message-border&gt;&gt;;\n\tbackground: &lt;&lt;colour message-background&gt;&gt;;\n\tpadding: 0px 21px 0px 21px;\n\tfont-size: 12px;\n\tline-height: 18px;\n\tcolor: &lt;&lt;colour message-foreground&gt;&gt;;\n}\n\n.tc-message-box svg {\n\twidth: 1em;\n\theight: 1em;\n    vertical-align: text-bottom;\n}\n\n/*\n** Pictures\n*/\n\n.tc-bordered-image {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tpadding: 5px;\n\tmargin: 5px;\n}\n\n/*\n** Floats\n*/\n\n.tc-float-right {\n\tfloat: right;\n}\n\n/*\n** Chooser\n*/\n\n.tc-chooser {\n\tborder-right: 1px solid &lt;&lt;colour table-header-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour table-header-background&gt;&gt;;\n}\n\n\n.tc-chooser-item {\n\tborder-bottom: 1px solid &lt;&lt;colour table-header-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour table-header-background&gt;&gt;;\n\tpadding: 2px 4px 2px 14px;\n}\n\n.tc-drop-down .tc-chooser-item {\n\tpadding: 2px;\n}\n\n.tc-chosen,\n.tc-chooser-item:hover {\n\tbackground-color: &lt;&lt;colour table-header-background&gt;&gt;;\n\tborder-color: &lt;&lt;colour table-footer-background&gt;&gt;;\n}\n\n.tc-chosen .tc-tiddlylink {\n\tcursor:default;\n}\n\n.tc-chooser-item .tc-tiddlylink {\n\tdisplay: block;\n\ttext-decoration: none;\n\tbackground-color: transparent;\n}\n\n.tc-chooser-item:hover .tc-tiddlylink:hover {\n\ttext-decoration: none;\n}\n\n.tc-drop-down .tc-chosen .tc-tiddlylink,\n.tc-drop-down .tc-chooser-item .tc-tiddlylink:hover {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-chosen &gt; .tc-tiddlylink:before {\n\tmargin-left: -10px;\n\tposition: relative;\n\tcontent: \"» \";\n}\n\n.tc-chooser-item svg,\n.tc-chooser-item img{\n\twidth: 1em;\n\theight: 1em;\n\tvertical-align: middle;\n}\n\n.tc-language-chooser .tc-image-button img {\n\twidth: 2em;\n\tvertical-align: -0.15em;\n}\n\n/*\n** Palette swatches\n*/\n\n.tc-swatches-horiz {\n}\n\n.tc-swatches-horiz .tc-swatch {\n\tdisplay: inline-block;\n}\n\n.tc-swatch {\n\twidth: 2em;\n\theight: 2em;\n\tmargin: 0.4em;\n\tborder: 1px solid #888;\n}\n\ninput.tc-palette-manager-colour-input {\n\twidth: 100%;\n\tpadding: 0;\n}\n\n/*\n** Table of contents\n*/\n\n.tc-sidebar-lists .tc-table-of-contents {\n\twhite-space: nowrap;\n}\n\n.tc-table-of-contents button {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-table-of-contents svg {\n\twidth: 0.7em;\n\theight: 0.7em;\n\tvertical-align: middle;\n\tfill: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-table-of-contents ol {\n\tlist-style-type: none;\n\tpadding-left: 0;\n}\n\n.tc-table-of-contents ol ol {\n\tpadding-left: 1em;\n}\n\n.tc-table-of-contents li {\n\tfont-size: 1.0em;\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li a {\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li li {\n\tfont-size: 0.95em;\n\tfont-weight: normal;\n\tline-height: 1.4;\n}\n\n.tc-table-of-contents li li a {\n\tfont-weight: normal;\n}\n\n.tc-table-of-contents li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n\tline-height: 1.5;\n}\n\n.tc-table-of-contents li li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n}\n\n.tc-tabbed-table-of-contents {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents {\n\tz-index: 100;\n\tdisplay: inline-block;\n\tpadding-left: 1em;\n\tmax-width: 50%;\n\t-webkit-flex: 0 0 auto;\n\tflex: 0 0 auto;\n\tbackground: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a,\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a {\n\tdisplay: block;\n\tpadding: 0.12em 1em 0.12em 0.25em;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a {\n\tborder-top: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a:hover {\n\ttext-decoration: none;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tbackground: &lt;&lt;colour tab-border&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a {\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n\tmargin-right: -1px;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a:hover {\n\ttext-decoration: none;\n}\n\n.tc-tabbed-table-of-contents .tc-tabbed-table-of-contents-content {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\tpadding-left: 1.5em;\n\tpadding-right: 1.5em;\n\tborder: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\t-webkit-flex: 1 0 50%;\n\tflex: 1 0 50%;\n}\n\n/*\n** Dirty indicator\n*/\n\nbody.tc-dirty span.tc-dirty-indicator, body.tc-dirty span.tc-dirty-indicator svg {\n\tfill: &lt;&lt;colour dirty-indicator&gt;&gt;;\n\tcolor: &lt;&lt;colour dirty-indicator&gt;&gt;;\n}\n\n/*\n** File inputs\n*/\n\n.tc-file-input-wrapper {\n\tposition: relative;\n\toverflow: hidden;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\n.tc-file-input-wrapper input[type=file] {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tfont-size: 999px;\n\tmax-width: 100%;\n\tmax-height: 100%;\n\tfilter: alpha(opacity=0);\n\topacity: 0;\n\toutline: none;\n\tbackground: white;\n\tcursor: pointer;\n\tdisplay: inline-block;\n}\n\n::-webkit-file-upload-button {\n\tcursor:pointer;\n}\n\n/*\n** Thumbnail macros\n*/\n\n.tc-thumbnail-wrapper {\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin: 6px;\n\tvertical-align: top;\n}\n\n.tc-thumbnail-right-wrapper {\n\tfloat:right;\n\tmargin: 0.5em 0 0.5em 0.5em;\n}\n\n.tc-thumbnail-image {\n\ttext-align: center;\n\toverflow: hidden;\n\tborder-radius: 3px;\n}\n\n.tc-thumbnail-image svg,\n.tc-thumbnail-image img {\n\tfilter: alpha(opacity=1);\n\topacity: 1;\n\tmin-width: 100%;\n\tmin-height: 100%;\n\tmax-width: 100%;\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-image svg,\n.tc-thumbnail-wrapper:hover .tc-thumbnail-image img {\n\tfilter: alpha(opacity=0.8);\n\topacity: 0.8;\n}\n\n.tc-thumbnail-background {\n\tposition: absolute;\n\tborder-radius: 3px;\n}\n\n.tc-thumbnail-icon svg,\n.tc-thumbnail-icon img {\n\twidth: 3em;\n\theight: 3em;\n\t&lt;&lt;filter \"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))\"&gt;&gt;\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-icon svg,\n.tc-thumbnail-wrapper:hover .tc-thumbnail-icon img {\n\tfill: #fff;\n\t&lt;&lt;filter \"drop-shadow(3px 3px 4px rgba(0,0,0,0.6))\"&gt;&gt;\n}\n\n.tc-thumbnail-icon {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: -webkit-flex;\n\t-webkit-align-items: center;\n\t-webkit-justify-content: center;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.tc-thumbnail-caption {\n\tposition: absolute;\n\tbackground-color: #777;\n\tcolor: #fff;\n\ttext-align: center;\n\tbottom: 0;\n\twidth: 100%;\n\tfilter: alpha(opacity=0.9);\n\topacity: 0.9;\n\tline-height: 1.4;\n\tborder-bottom-left-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-caption {\n\tfilter: alpha(opacity=1);\n\topacity: 1;\n}\n\n/*\n** Diffs\n*/\n\n.tc-diff-equal {\n\tbackground-color: &lt;&lt;colour diff-equal-background&gt;&gt;;\n\tcolor: &lt;&lt;colour diff-equal-foreground&gt;&gt;;\n}\n\n.tc-diff-insert {\n\tbackground-color: &lt;&lt;colour diff-insert-background&gt;&gt;;\n\tcolor: &lt;&lt;colour diff-insert-foreground&gt;&gt;;\n}\n\n.tc-diff-delete {\n\tbackground-color: &lt;&lt;colour diff-delete-background&gt;&gt;;\n\tcolor: &lt;&lt;colour diff-delete-foreground&gt;&gt;;\n}\n\n.tc-diff-invisible {\n\tbackground-color: &lt;&lt;colour diff-invisible-background&gt;&gt;;\n\tcolor: &lt;&lt;colour diff-invisible-foreground&gt;&gt;;\n}\n\n.tc-diff-tiddlers th {\n\ttext-align: right;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n\tfont-weight: normal;\n\tfont-style: italic;\n}\n\n.tc-diff-tiddlers pre {\n    margin: 0;\n    padding: 0;\n    border: none;\n    background: none;\n}\n\n/*\n** Errors\n*/\n\n.tc-error {\n\tbackground: #f00;\n\tcolor: #fff;\n}\n\n/*\n** Tree macro\n*/\n\n.tc-tree div {\n    \tpadding-left: 14px;\n}\n\n.tc-tree ol {\n    \tlist-style-type: none;\n    \tpadding-left: 0;\n    \tmargin-top: 0;\n}\n\n.tc-tree ol ol {\n    \tpadding-left: 1em;    \n}\n\n.tc-tree button { \n    \tcolor: #acacac;\n}\n\n.tc-tree svg {\n     \tfill: #acacac;\n}\n\n.tc-tree span svg {\n    \twidth: 1em;\n    \theight: 1em;\n    \tvertical-align: baseline;\n}\n\n.tc-tree li span {\n    \tcolor: lightgray;\n}\n\nselect {\n        color: &lt;&lt;colour select-tag-foreground&gt;&gt;;\n        background: &lt;&lt;colour select-tag-background&gt;&gt;;\n}\n\n/*\n** Utility classes for SVG icons\n*/\n\n.tc-fill-background {\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n/*\n** Flexbox utility classes\n*/\n\n.tc-flex {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tc-flex-column {\n\tflex-direction: column;\n}\n\n.tc-flex-row {\n\tflex-direction: row;\n}\n\n.tc-flex-grow-1 {\n\tflex-grow: 1;\n}\n\n.tc-flex-grow-2 {\n\tflex-grow: 2;\n}\n\n/*\n** Other utility classes\n*/\n\n.tc-tiny-gap {\n\tmargin-left: .25em;\n\tmargin-right: .25em;\n}\n\n.tc-tiny-gap-left {\n\tmargin-left: .25em;\n}\n\n.tc-tiny-gap-right {\n\tmargin-right: .25em;\n}\n\n.tc-small-gap {\n\tmargin-left: .5em;\n\tmargin-right: .5em;\n}\n\n.tc-small-gap-left {\n\tmargin-left: .5em;\n}\n\n.tc-small-gap-right {\n\tmargin-right: .5em;\n}\n\n.tc-big-gap {\n\tmargin-left: 1em;\n\tmargin-right: 1em;\n}\n\n.tc-big-gap-left {\n\tmargin-left: 1em;\n}\n\n.tc-big-gap-right {\n\tmargin-right: 1em;\n}\n\n.tc-word-break {\n\tword-break: break-all;\n}\n"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize",
            "text": "15px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/bodylineheight": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/bodylineheight",
            "text": "22px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/fontsize": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/fontsize",
            "text": "14px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/lineheight": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/lineheight",
            "text": "20px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/storyleft": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/storyleft",
            "text": "0px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/storytop": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/storytop",
            "text": "0px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/storyright": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/storyright",
            "text": "770px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/storywidth": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/storywidth",
            "text": "770px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth",
            "text": "686px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint",
            "text": "960px"
        },
        "$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth",
            "text": "350px"
        },
        "$:/themes/tiddlywiki/vanilla/options/stickytitles": {
            "title": "$:/themes/tiddlywiki/vanilla/options/stickytitles",
            "text": "no"
        },
        "$:/themes/tiddlywiki/vanilla/options/sidebarlayout": {
            "title": "$:/themes/tiddlywiki/vanilla/options/sidebarlayout",
            "text": "fixed-fluid"
        },
        "$:/themes/tiddlywiki/vanilla/options/codewrapping": {
            "title": "$:/themes/tiddlywiki/vanilla/options/codewrapping",
            "text": "pre-wrap"
        },
        "$:/themes/tiddlywiki/vanilla/reset": {
            "title": "$:/themes/tiddlywiki/vanilla/reset",
            "type": "text/plain",
            "text": "/*! modern-normalize v1.0.0 | MIT License | https://github.com/sindresorhus/modern-normalize */\n\n/*\nDocument\n========\n*/\n\n/**\nUse a better box model (opinionated).\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n/**\nUse a more readable tab size (opinionated).\n*/\n\n:root {\n  -moz-tab-size: 4;\n  tab-size: 4;\n}\n\n/**\n1. Correct the line height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n*/\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/*\nSections\n========\n*/\n\n/**\nRemove the margin in all browsers.\n*/\n\nbody {\n  margin: 0;\n}\n\n/**\nImprove consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n*/\n\nbody {\n  font-family:\n    system-ui,\n    -apple-system, /* Firefox supports this but not yet `system-ui` */\n    'Segoe UI',\n    Roboto,\n    Helvetica,\n    Arial,\n    sans-serif,\n    'Apple Color Emoji',\n    'Segoe UI Emoji';\n}\n\n/*\nGrouping content\n================\n*/\n\n/**\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n}\n\n/*\nText-level semantics\n====================\n*/\n\n/**\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr[title] {\n  text-decoration: underline dotted;\n}\n\n/**\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n1. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n2. Correct the odd 'em' font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family:\n    ui-monospace,\n    SFMono-Regular,\n    Consolas,\n    'Liberation Mono',\n    Menlo,\n    monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/**\nPrevent 'sub' and 'sup' elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\nTabular data\n============\n*/\n\n/**\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n}\n\n/*\nForms\n=====\n*/\n\n/**\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\nRemove the inheritance of text transform in Edge and Firefox.\n1. Remove the inheritance of text transform in Firefox.\n*/\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\nCorrect the inability to style clickable types in iOS and Safari.\n*/\n\nbutton,\n[type='button'],\n[type='reset'],\n[type='submit'] {\n  -webkit-appearance: button;\n}\n\n/**\nRemove the inner border and padding in Firefox.\n*/\n\n::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\nRestore the focus styles unset by the previous rule.\n*/\n\n:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\nRemove the additional ':invalid' styles in Firefox.\nSee: https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/**\nRemove the padding so developers are not caught out when they zero out 'fieldset' elements in all browsers.\n*/\n\nlegend {\n  padding: 0;\n}\n\n/**\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to 'inherit' in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nInteractive\n===========\n*/\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n"
        },
        "$:/themes/tiddlywiki/vanilla/settings/fontfamily": {
            "title": "$:/themes/tiddlywiki/vanilla/settings/fontfamily",
            "text": "system-ui, -apple-system, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\""
        },
        "$:/themes/tiddlywiki/vanilla/settings/codefontfamily": {
            "title": "$:/themes/tiddlywiki/vanilla/settings/codefontfamily",
            "text": "\"SFMono-Regular\",Consolas,\"Liberation Mono\",Menlo,Courier,monospace"
        },
        "$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment": {
            "title": "$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment",
            "text": "fixed"
        },
        "$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize": {
            "title": "$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize",
            "text": "auto"
        },
        "$:/themes/tiddlywiki/vanilla/sticky": {
            "title": "$:/themes/tiddlywiki/vanilla/sticky",
            "text": "&lt;$reveal state=\"$:/themes/tiddlywiki/vanilla/options/stickytitles\" type=\"match\" text=\"yes\"&gt;\n``\n.tc-tiddler-title {\n\tposition: -webkit-sticky;\n\tposition: -moz-sticky;\n\tposition: -o-sticky;\n\tposition: -ms-sticky;\n\tposition: sticky;\n\ttop: 0px;\n\tbackground: ``&lt;&lt;colour tiddler-background&gt;&gt;``;\n\tz-index: 500;\n}\n\n``\n&lt;$list filter=\"[range[100]]\"&gt;\n`.tc-story-river .tc-tiddler-frame:nth-child(100n+`&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;`) {\nz-index: `&lt;$text text={{{ [[200]subtract&lt;currentTiddler&gt;] }}}/&gt;`;\n}\n`\n&lt;/$list&gt;\n&lt;/$reveal&gt;\n"
        }
    }
}</pre>
</div>
<div created="20210419075440140" modified="20210419075440140" tags="" title="1">
<pre></pre>
</div>
<div bag="default" created="20210415150649678" creator="sharicov" modified="20210415150659547" modifier="sharicov" revision="1" tags="[[R4S Yunohost installation from scratch]] Journal" title="15th April 2021" type="text/vnd.tiddlywiki">
<pre></pre>
</div>
<div tags="" title="86box emulator old windows 98/xp emulation v1">
<pre>!!Prerequisites

Download 86box from: https://86box.net/
Download roms (mb,cpu,bioses,perepherals) from: https://github.com/86Box/roms (releases/source/zip/extract to roms folder inside 86box

Download 86box manager from: https://github.com/86Box/86BoxManager and extract to 86box folder.

!! 86box Setup
Run 86box manager


```
Settings/set path to 86box
```

!!Windows 98 SE setup

for windows 98 se configure as follows:

Add/Name

Configure


```
Machine: socket 7 single voltage/i430fx asus/intel pentuim overdrive mmx/ 166/128MB

Display: ISA16 S3 86c911/ Voodoo Graphics/ configure/voodoo 2/2/2

Input: MS Serial Mouse

Sound: ISA16 Sound Blaster 16

Network: SLIRP/PCI AMD PCnet-PCI II

Storage: HD: Internal/FD: Internal

Hard Disk: New/C/Size 999/IDE

Floppy: 3.5" 1.44/None/None/None / CDROM ATAPI 8x

```

!!Windows XP setup (reference: https://86box.readthedocs.io/en/latest/hardware/machinespecific.html_

for windows xp configure as follows:

Add/Name

Configure


```

Machine: Slot1 /SMSC VictoryBX-66 A-trend/intel pentuim II (Deschutes/ 300/512MB

Display: AGP 3dfx Voodoo3 3500 SI

Input: MS Serial Mouse

Sound: ISA16 Sound Blaster 16

Network: SLIRP/PCI AMD PCnet-PCI II

Storage: HD: Internal/FD: Internal

Hard Disk: New/C/Size 5000/IDE

Floppy: 3.5" 1.44/None/None/None / CDROM ATAPI 8x

```
!!!Note:
For network PCAP can be installed to connect with specific adapter on the host pc. Download driver here: https://npcap.com/#download

More info: https://86box.readthedocs.io/en/latest/hardware/network.html



!!Windows 98 Installation

Enter bios with del/Bios setup features/Boot sequence/ CDROM:C/Save and exit/Y

Select boot from CD in the booting prompt

Install and enable large disk support

!!After installation 

Setup internet:


```
Start/Control panel/Internet options/Connections/Setup/LAN/LAN/Automatic/No mail/ Finish
```

Tutorial: https://www.youtube.com/watch?v=ckGNRjgdrnI

</pre>
</div>
<div tags="" title="AC3 codec windows 11">
<pre>https://www.majorgeeks.com/files/details/dolby_ac_3ac_4_installer.html</pre>
</div>
<div tags="" title="Account Lockout Event ID">
<pre>Source: https://www.windows-active-directory.com/account-lockout-event-id-how-to-find-account-lockouts.html

Introduction  
Account lockouts can occur due to various reasons, including incorrect passwords, brute-force attacks, or misconfigured applications attempting unauthorized access. When an account lockout event occurs, the corresponding event IDs, such as 4740 on domain controllers and 4625 on client computers, are logged in the Windows event logs. By examining these event IDs, administrators can pinpoint the source of the lockout and take appropriate actions to resolve the issue.

Understanding Account Lockout Event IDs  
Before diving into the process of finding account lockouts, it’s crucial to understand the two primary event IDs associated with lockout events. Event ID 4740 is logged on domain controllers when an Active Directory account is locked out, while event ID 4625 is logged on servers and workstations for both local and domain user account lockouts.

Enabling Account Lockout Events  
To begin tracking account lockout events, it’s important to configure the necessary audit policies and enable the appropriate settings. By following a few simple steps, administrators can ensure that account lockout events are logged in the Windows event logs.

Open the Group Policy Management Console either on the domain controller or any computer with the Remote Server Administration Tools (RSAT) installed.
Modify the Default Domain Controllers Policy by browsing to “Computer Configuration” -&gt; “Policies” -&gt; “Windows Settings” -&gt; “Security Settings” -&gt; “Advanced Audit Policy Configuration” -&gt; “Audit Policies” -&gt; “Account Management.” Enable both success and failure auditing for the “Audit User Account Management” policy.
Next, enable the following settings under “Computer Configuration” -&gt; “Policies” -&gt; “Windows Settings” -&gt; “Security Settings” -&gt; “Advanced Audit Policy Configuration” -&gt; “Logon/Logoff”:
Audit Account Lockout – Success and Failure
Audit Logoff – Success and Failure
Audit Logon – Success and Failure
Audit Other Logon/Logoff Events – Success and Failure
With these audit policies configured, account lockout events will be recorded in the security event logs, providing valuable information for troubleshooting.

Account Lockout Event ID 4740 on Domain Controllers  
Event ID 4740 is specifically logged on domain controllers when a user account lockout occurs. It provides essential information to help administrators identify the source of the lockout within the domain controller environment.

When troubleshooting account lockouts on domain controllers, it’s crucial to understand the various components of Event ID 4740 and how they contribute to the investigation process.

Understanding Event ID 4740 Components  
Account Name: This component specifies the name of the user account that has been locked out.
Account Domain: It identifies the domain in which the user account resides.
Caller Computer Name: This component indicates the name of the computer from which the account lockout request was made.
Caller Logon ID: It provides a unique identifier for the logon session that initiated the account lockout request.
Caller User Name: This component specifies the name of the user associated with the logon session that initiated the account lockout request.
Locked Account: It indicates the name of the locked-out user account.
Lockout Time: This component displays the date and time when the account lockout occurred.
Analyzing each component of Event ID 4740 helps administrators gain insights into the lockout event’s origin and the corresponding user and computer involved.

Step-by-Step Instructions for Analyzing Account Lockout Event ID 4740  
To effectively analyze account lockout events using Event ID 4740 on domain controllers, follow these step-by-step instructions:

Open Event Viewer: Launch the Event Viewer on the domain controller by pressing the Windows key + R, typing “eventvwr.msc” in the Run dialog, and pressing Enter.
Navigate to Security Logs: In the Event Viewer, navigate to “Windows Logs” -&gt; “Security” to access the security event logs.
Filter Event ID 4740: Right-click on the “Security” log and select “Filter Current Log.” In the “Filter Current Log” dialog, enter “4740” in the “By source” field and click “OK.” This filters the log to display only Event ID 4740 entries.
Analyze Event Details: Review each Event ID 4740 entry to gather information about the locked-out user account, the caller computer name, and the time of the lockout. Pay attention to the caller computer name, as it provides a clue about the source of the lockout.
Investigate Caller Computer: With the caller computer name identified, proceed to investigate the potential causes of the lockout on the specific computer. This may involve checking for any running processes or services that might be using outdated credentials, verifying scheduled tasks, or examining network connection attempts originating from that computer.
By following these steps and analyzing Event ID 4740 entries, administrators can narrow down the source of account lockouts and take appropriate action to resolve the issue.

Account Lockout Event ID 4625 on Servers and Workstations  
Event ID 4625 is the primary event ID logged on servers and workstations when a local or domain user account lockout occurs. This event provides crucial information to help identify the source of the lockout and the reasons for the failed logon attempt.

When troubleshooting account lockouts on servers and workstations, understanding the components of Event ID 4625 and their significance is vital.

Understanding Event ID 4625 Components  
Account Name: This component specifies the name of the user account that has been locked out.
Account Domain: It identifies the domain in which the user account resides.
Source Network Address: This component indicates the IP address or hostname of the computer from which the lockout request was made.
Logon Type: Logon types define the type of logon attempt, such as interactive, network, or remote interactive logon.
Failure Reason: It provides the reason for the failed logon attempt, which can assist in determining the cause of the lockout.
Analyzing each component of Event ID 4625 helps administrators gain insights into the lockout event, including the user account, the source network address, and the logon type and failure reason.

Step-by-Step Instructions for Analyzing Account Lockout Event ID 4625  
To effectively analyze account lockout events using Event ID 4625 on servers and workstations, follow these step-by-step instructions:

Open Event Viewer: Launch the Event Viewer on the server or workstation experiencing the account lockout by pressing the Windows key + R, typing “eventvwr.msc” in the Run dialog, and pressing Enter.
Navigate to Security Logs: In the Event Viewer, navigate to “Windows Logs” -&gt; “Security” to access the security event logs.
Filter Event ID 4625: Right-click on the “Security” log and select “Filter Current Log.” In the “Filter Current Log” dialog, enter “4625” in the “By source” field and click “OK.” This filters the log to display only Event ID 4625 entries.
Analyze Event Details: Review each Event ID 4625 entry to gather information about the locked-out user account, the source network address, logon type, and failure reason. These details can help identify potential causes of the lockout, such as expired passwords, misconfigured applications, or unauthorized access attempts.
Investigate Source Network Address: With the source network address identified, investigate the corresponding computer or IP address to determine if any suspicious activities or misconfigurations are leading to the account lockout. Check for any running processes, services, or scheduled tasks that may be causing the lockout.
By following these steps and analyzing Event ID 4625 entries, administrators can pinpoint the source of account lockouts on servers and workstations and take appropriate actions to resolve the issue.

Logon Types in Event ID 4625  
Event ID 4625 includes different logon types that provide insights into the type of logon attempt that resulted in the account lockout. Understanding these logon types helps administrators in their investigation process to identify the source of the lockout and the potential causes.</pre>
</div>
<div tags="" title="add Linux command to unraid ex. ncdu and yazi v3">
<pre>Adding any linux command from container to unraid

Backup  ''.bash_profile''


```
cp /root/.bash_profile /root/.bash_profile_backup 
```


Edit ''.bash_profile'' to add new functions ''ncdu_docker'' and ''yazi'' 


```
 nano /root/.bash_profile
```


Add at the end of file:

```
function ncdu_docker() { docker run --rm -it -v /:/mnt/root bytesco/ncdu /mnt/root"$@"; }

function yazi() { docker run --rm -it -v /:/mnt/root l33tlamer/yazi; }
```

Load new .bash_profile


```
source /root/.bash_profile
```

Run

```
ncdu_docker /mnt/cache
```

!!Save permanently (not tested yet)

Create a Custom Bash Profile: Create a custom bash profile file in the /boot/config directory. You can name it mybashprofile or any name you prefer. 

For example:

```
nano /boot/config/mybashprofile
```

Add Your Customizations: Add your desired customizations to this file. 

For example:

```
# Custom function
function ncdu_docker() { docker run --rm -it -v /:/mnt/root bytesco/ncdu /mnt/root"$@"; }

```

Modify the go File: Edit the go file to source your custom bash profile during the boot process. Open the go file located at /boot/config/go

```
nano /boot/config/go
```
Add the Following Line: Append the following line to the go file to source your custom bash profile:

```
echo "source /boot/config/mybashprofile" &gt;&gt; /root/.bash_profile
```

Reboot Your System: Reboot your Unraid server to apply the changes:

```
reboot
```


!!Original description (not working)

adding this to mybashprofile, and run it from cli "ncdu [path]"

it spins up a container and runs ncdu at the path specified or defaults to /mnt/root

function ncdu() { docker run -it --rm -v /:/mnt/root:ro bytesco/ncdu /mnt/root"$@"; }</pre>
</div>
<div tags="" title="add route to unraid from x96">
<pre>On x96 run

```
ip route show
```


```
sudo ip route add 192.168.137.0/24 via 192.168.1.5

```

```
ip route show
```

```
ping 192.168.137.247

ping 192.168.137.251

ping 192.168.137.254
```</pre>
</div>
<div tags="" title="AdGuard change password v4">
<pre>install apache 

run 


```
htpasswd -B -n -b &lt;USERNAME&gt; &lt;PASSWORD&gt;
```

open config 


```
nano /etc/AdGuardHome/AdGuardHome.yaml
```

In OpenWrt

```
nano /etc/config/AdGuardHome.yaml
```



change name to a new name and password to the string generated by htpasswd

default (root/admin):

name: root
  password: $2y$10$FfeQavihMUiXCuJhHuQwy.6EOXDvkXb/S50qI5fXizqarNT/ShhQm

Disable and enable AdGuard in services

For AdGuard to work with ''tailscale'':

disconnect the tailscale 

unmark Preferences / use tailscale DNS services

connect tailscale

Source: https://github.com/AdguardTeam/AdGuardHome/wiki/Configuration#password-reset

new: admin tic
</pre>
</div>
<div tags="" title="Adguard home on openwrt r4s klever1988 v2">
<pre>Enable in services

Redirect: run as dnsmasq upstream server

management on port 3000

Settings / DNS settings / Upstream


```
1.1.1.1
```

DNS port 5553 (if 53 is occupied)

Adguard setup wizard is not working in edge (chrome is working fine).</pre>
</div>
<div tags="" title="adguard lists">
<pre>AdGuard/Filters/DNS blocklist/Add blocklist/Add a custom list

https://github.com/r-a-y/mobile-hosts

https://raw.githubusercontent.com/Perflyst/PiHoleBlocklist/master/SmartTV-AGH.txt


https://adaway.org/hosts.txt</pre>
</div>
<div tags="" title="Aggregate ethernet ports windows NAS working">
<pre>Server HW: n5105 topton 4x 2.5Gbps ports
Server SW: Proxmox 8.2.2
Virtual NAS server: windows 11 pro runs in proxmox

Virtual Switch: OpenWrt 23.05.3 r23809-234f1a2efa runs in same proxmox

Windows client: Native Windows 11 pro with 2x 2.5Gbps Realtek Gaming USB 2.5GbE Family controllers with windows 11 preview drivers version 11.10.1101.2022 (rtucx22x64.cat;rtucx22x64.sys;oem22.inf;restore.ini)

Settings:

Windows: Advances setting windows Jambo frame 9014

OpenWRT: Network/Interfaces/Devices/each eth's MTU set to 9000

Speeds aroung 500MBps (to flash based qbittorrent LXC container on proxmox server)</pre>
</div>
<div tags="" title="AI chat duckduckgo">
<pre>https://duckduckgo.com/?q=DuckDuckGo&amp;ia=chat</pre>
</div>
<div tags="" title="AI generate 3d models for 3d printer">
<pre>Video tutorial: https://www.youtube.com/watch?v=Fh2O1-31110

Image generator: https://huggingface.co/spaces/ginipick/text3d

3d model from generated image: https://huggingface.co/spaces/JeffreyXiang/TRELLIS

Another generator: https://hyper3d.ai/</pre>
</div>
<div tags="" title="ai studio guidance on shared screen">
<pre>https://www.youtube.com/watch?v=1VldRngWysI

https://aistudio.google.com/live

Or choose ''screen realtime''</pre>
</div>
<div tags="" title="Ajazz AKS068 Keyboard manual">
<pre>Connect wifi/usb directly to PC's USB port (not through hubs, ideally to USB2 port)

Install driver AJAZZ_AKS068_Tri_Mode_Driver_and_JSON_File.zip

Run Via and press ignore to skip update via to 3.0 (3.0 is not working, nor web version of via)

Settings/Show Design tab

Go to design and load AKS068 Tri Mode.JSON from AJAZZ_AKS068_Tri_Mode_Driver_and_JSON_File.zip

Download locations:

Support page

https://attackshark.com/pages/driver-download?srsltid=AfmBOort4LKfX5Dxwl1AxTirxBUV_OEfYQrmSyuKGaJY5ioWv0-I7742

Software and json download

https://support.attackshark.com/attackshark/AJAZZ_AKS068_Wireless_Tri-Mode/AJAZZ_AKS068_Tri_Mode_Driver_and_JSON_File.zip?v=9576090597

Manual

https://support.attackshark.com/attackshark/AJAZZ_AKS068_Wireless_Tri-Mode/AJAZZ_AKS068_PRO_User_Manual.pdf?v=5200403610</pre>
</div>
<div tags="" title="Alldocube iplay 50 mini pro tablet mode v3">
<pre>Allows tabs in chrome, more icons on the desktop etc

default ''353dp''

go into your developer options, look for "smallest width" and set any value above 545 (on landscape).

Keep in mind there are different values for portrait &amp; landscape.

I actually go for ''650 ''dp for landscape and ''400 ''for portrait

Source: https://www.reddit.com/r/androidtablets/comments/193becx/iplay_50_mini_pro_an_honest_but_a_lengthy_review/

!!Alternative

No tabs in chrome, just smaller icons and tablet mode in some apps

''Setting/Accessabilities/Display size and text/reduce display size''</pre>
</div>
<div tags="" title="allow ssh connection from specific country only working v5">
<pre>!!Sources:

Script: https://gist.github.com/jokey2k/a74f56955124880749e7

Solution: https://tecadmin.net/allow-server-access-based-on-country/

Solution 2: https://www.claudiokuenzler.com/blog/676/ssh-access-filter-based-on-geoip-database-allow-deny

!!Install GeoIP and GeoIP Database
First, install GeoIP binary for Linux and their database based on your operating system. For CentOS and RedHat users GeoIP binary and database are combined in a single package.

On CentOS and RedHat:

```
sudo yum install GeoIP 
```

On Ubuntu and Debian:

```
sudo apt-get install geoip-bin geoip-database 
```

!!Create the SSH/FTP Filter Script

Now create a shell script that checks for all incoming connection IP addresses and searches their corresponding country using the GeoIP database and allowed only those countries whose code is defined in ALLOW_COUNTRIES variable in the script.

Example of allowing only connection from Israel (IL) ''ALLOW_COUNTRIES="IL"''

nano /usr/local/bin/ipfilter.sh 

```
#!/bin/bash
# based on script from http://www.axllent.org/docs/view/ssh-geoip
# License: WTFPL

# UPPERCASE space-separated country codes to ACCEPT
ALLOW_COUNTRIES="IL"
LOGDENY_FACILITY="authpriv.notice"

if [ $# -ne 1 ]; then
  echo "Usage:  `basename $0` &lt;ip&gt;" 1&gt;&amp;2
  exit 0 # return true in case of config issue
fi

if [[ "`echo $1 | grep ':'`" != "" ]] ; then
  COUNTRY=`/usr/bin/geoiplookup6 "$1" | awk -F ": " '{ print $2 }' | awk -F "," '{ print $1 }' | head -n 1`
else
  COUNTRY=`/usr/bin/geoiplookup "$1" | awk -F ": " '{ print $2 }' | awk -F "," '{ print $1 }' | head -n 1`
fi
[[ $COUNTRY = "IP Address not found" || $ALLOW_COUNTRIES =~ $COUNTRY ]] &amp;&amp; RESPONSE="ALLOW" || RESPONSE="DENY"

if [[ "$RESPONSE" == "ALLOW" ]] ; then
  exit 0
else
  logger -p $LOGDENY_FACILITY "$RESPONSE sshd connection from $1 ($COUNTRY)"
  exit 1
fi
```

Script source: https://gist.github.com/jokey2k/a74f56955124880749e7

Make this script executable


```
chmod +x /usr/local/bin/ipfilter.sh 
```

Restrict SSH/FTP Connections
Now apply SSH and FTP restrictions using TCP wrappers. First we need to deny everyone by adding below line in /etc/hosts.deny.


```
nano /etc/hosts.deny
```


sshd: ALL
vsftpd: ALL

Now edit /etc/hosts.allow and allow only those ips which are allowed by your IP filter script and ''100.*'' network for ''tailscale''


```
nano /etc/hosts.allow
```

Note:  ''spawn ''is not working in Debian 12, using ''aclexec ''instead.

```
sshd: ALL: aclexec/usr/local/bin/ipfilter.sh %a
sshd: 100. 
vsftp: ALL: aclexec /usr/local/bin/ipfilter.sh %a
```

Source: https://centurio.net/2020/09/24/block-ssh-connections-by-origin-of-ip-address/ 

Above FTP restrictions are for vsftpd only. Also, make sure you have enabled (tcp_wrappers=YES) in your vsftpd configuration. You can also create similar rules for any other services supported by a TCP wrapper.

!!Restart ssh service


```
sudo systemctl restart ssh
```

!To see script is working


```
tail -f /var/log/auth.log
```


!!Alternative script with allowed static IP:


```
#!/bin/bash
# License: WTFPL

# UPPERCASE space-separated country codes to ACCEPT
ALLOW_COUNTRIES="CH"
LOGDENY_FACILITY="authpriv.notice"
ALLOW_IPS="46.101.15.103"

if [ $# -ne 1 ]; then
  echo "Usage:  `basename $0` " 1&gt;&amp;2
  exit 0 # return true in case of config issue
fi

# Fixed static IP
if [[ $ALLOW_IPS =~ $1 ]]; then
  RESPONSE="ALLOW"
  logger -p $LOGDENY_FACILITY "$RESPONSE sshd connection from $1 (Manual whitelist)"
  exit 0
fi

# Geoiplookup
if [[ "`echo $1 | grep ':'`" != "" ]] ; then
  COUNTRY=`/usr/bin/geoiplookup6 "$1" | awk -F ": " '{ print $2 }' | awk -F "," '{ print $1 }' | head -n 1`
else
  COUNTRY=`/usr/bin/geoiplookup "$1" | awk -F ": " '{ print $2 }' | awk -F "," '{ print $1 }' | head -n 1`
fi
[[ $COUNTRY = "IP Address not found" || $ALLOW_COUNTRIES =~ $COUNTRY ]] &amp;&amp; RESPONSE="ALLOW" || RESPONSE="DENY"

if [[ "$RESPONSE" == "ALLOW" ]] ; then
  logger -p $LOGDENY_FACILITY "$RESPONSE sshd connection from $1 ($COUNTRY)"
  exit 0
else
  logger -p $LOGDENY_FACILITY "$RESPONSE sshd connection from $1 ($COUNTRY)"
  exit 1
fi
```
</pre>
</div>
<div tags="" title="Allow web admin on WAN (Lede,OpenWRT) v2">
<pre>!!From LAN (first time connect):


```
uci add firewall rule
uci set firewall.@rule[-1].name='Allow-Admin'
uci set firewall.@rule[-1].enabled='true'
uci set firewall.@rule[-1].src='wan'
uci set firewall.@rule[-1].proto='tcp'
uci set firewall.@rule[-1].dest_port='22 80 443'
uci set firewall.@rule[-1].target='ACCEPT'
uci commit firewall
service firewall restart
```


!!GUI Way - not always working

http://192.168.11.1/cgi-bin/luci/admin/network/firewall

WAN -&gt; Accept Accept Accept

!!Then find external WAN IP (from router or LUCI) and access LUCI with external IP </pre>
</div>
<div tags="" title="Alt app installer - Installing Microsoft store apps without store">
<pre>https://github.com/m-jishnu/alt-app-installer/releases</pre>
</div>
<div tags="" title="Amuse self hosted AI image generation windows AMD Radeon support v4">
<pre>Download: https://www.amuse-ai.com/

''Tip'': click on advanced button on bottom left to get full settings (will appear on top right) and model management

''Note'': GPU load is not shown in task manager (probably because amuse uses DirectML)
To see actual GPU load add amuse to AMD adrenaline and see the load with onscreen overlay view)

Review https://www.youtube.com/watch?v=sSmk08ZqQlE</pre>
</div>
<div tags="" title="android in docker arm64 and x86 work in progress  v5">
<pre>!!Status

android 14 hangs ''x96 max plus'' and ''spectre x2''

terminal can be opened via /bin/sh

!!Show open ports (linux/android)


```
ss -tulpan
```

Install ''adb ''on linux host:


```
sudo apt install adb
```

!!Connect adb to 5555 port


```
adb connect localhost:5555
```


!!Show adb status

```
adb devices
```

Install ''scrcpy ''on linux host


```
apt isntall scrcpy
```

!!connect scrcpy 


```
scrcpy --serial=localhost:5555
```



!!scrcpy Documentation

https://github.com/Genymobile/scrcpy/blob/master/doc/connection.md

!!Site and parameters: 

https://github.com/remote-android/redroid-doc

https://hub.docker.com/r/redroid/redroid

!!Available android builds

Currently supported:


```
Android 14 (redroid/redroid:14.0.0-latest)
Android 14 64bit only (redroid/redroid:14.0.0_64only-latest)
Android 13 (redroid/redroid:13.0.0-latest)
Android 13 64bit only (redroid/redroid:13.0.0_64only-latest)
Android 12 (redroid/redroid:12.0.0-latest)
Android 12 64bit only (redroid/redroid:12.0.0_64only-latest)
Android 11 (redroid/redroid:11.0.0-latest)
Android 10 (redroid/redroid:10.0.0-latest)
Android 9 (redroid/redroid:9.0.0-latest)
Android 8.1 (redroid/redroid:8.1.0-latest)
```



!!Installation

```
## install docker https://docs.docker.com/engine/install/#server

## install required kernel modules
apt install linux-modules-extra-`uname -r`
modprobe binder_linux devices="binder,hwbinder,vndbinder"
modprobe ashmem_linux


## running redroid
docker run -itd --rm --privileged \
    --pull always \
    -v ~/data:/data \
    -p 5555:5555 \
    redroid/redroid:14.0.0-latest

### Explanation:
###   --pull always    -- use latest image
###   -v ~/data:/data  -- mount data partition
###   -p 5555:5555     -- expose adb port


## install adb https://developer.android.com/studio#downloads
adb connect localhost:5555
### NOTE: change localhost to IP if running redroid remotely

## view redroid screen
## install scrcpy https://github.com/Genymobile/scrcpy/blob/master/README.md#get-the-app
scrcpy -s localhost:5555
### NOTE: change localhost to IP if running redroid remotely
###     typically running scrcpy on your local PC
```

!!Configuration

```
## running redroid with custom settings (custom display for example)
docker run -itd --rm --privileged \
    --pull always \
    -v ~/data:/data \
    -p 5555:5555 \
    redroid/redroid:11.0.0-latest \
    androidboot.redroid_width=1080 \
    androidboot.redroid_height=1920 \
    androidboot.redroid_dpi=480 \
```
</pre>
</div>
<div tags="" title="android on windows 11 including google play and sideload">
<pre>https://www.gizchina.com/2024/07/01/how-to-easily-install-android-apps-on-your-windows-11-pc/</pre>
</div>
<div tags="" title="android subsystem on windows v6">
<pre>!!Manual download 
if amazon search in ms store doesn't work

In https://store.rg-adguard.net/

Enter link:
https://www.microsoft.com/en-us/p/windows-subsystem-for-android-with-amazon-appstore/9p3395vx91nr?activetab=pivot:overviewtab

choose slow on right and search

Then download biggest file with msixbundle extension at the bottom (1+GB)
Rename to end with .msixbundle if needed
Open PowerShell as administrator
Cd to download directory 
run 
 add-appxpackage -Path *.msixbundle

In windows features add
virtual machine platform 
Windows hypervisor platform 

!!Developer mode

from start menu run ''Windows subsystem for Android ''

```
System/Block installation.../OFF

Advanced settings/ enable developer mode 
```


press on system/files

In Microsoft store search Android and run Amazon appstore

install adb tools from 
 https://github.com/Genymobile/scrcpy/releases

!!To establish connection to subsystem
In cmd run:

```
adb connect 127.0.0.1:58526
```


download app&amp;game 4pda
https://4pda.to/forum/index.php?showtopic=275433



```
adb install app4pda.v5.3.beta.9.apk
```


!!To run app


```
windows subsystem/apps/Apps&amp;Game/.../open
```

!!To copy file (cache for example)

```
adb push %1 /sdcard/android/obb/com.polarbit.RecklessRacing2
```

!!To get android version of the subsystem


```
adb shell getprop ro.build.version.release 
```

!Useful ''adb ''commands:

https://gist.github.com/Pulimet/5013acf2cd5b28e55036c82c91bd56d8

!Full screen: F11


note: use nodpi versions of apk

source: https://www.youtube.com/watch?v=eMpfaJAZQUI https://www.youtube.com/watch?v=IAeHl6-fhVs

https://www.microsoft.com/store/productId/9NJHK44TTKSX</pre>
</div>
<div tags="" title="Android switch to tablet mode">
<pre>```
Settings/Display Size/Minus 
```


Then Outlook and other apps will open in tablet mode</pre>
</div>
<div tags="" title="antivirus forensics">
<pre>https://analyze.intezer.com/endpoint-analyses

Download scanner https://intezerfiles.blob.core.windows.net/%24web/scanner/Scanner.exe?se=2022-11-01T14%3A22%3A10Z&amp;sp=rt&amp;sv=2020-06-12&amp;sr=b&amp;rscd=attachment%3B%20filename%3DScanner.exe&amp;sig=ly9q8deFrjXmLL%2B4OjbixYoqvgTMks4nH5uc3etlOMQ%3D

ran 

Generate API in account details: https://analyze.intezer.com/account-details 

open link from the scanner terminal window for results</pre>
</div>
<div tags="" title="Antiviruses for windows one time scan">
<pre> malwarebytes, Hitman Pro, Dr,webCurelt Emsisoft Emergency Kit

Site with discussion: https://lifehacker.ru/10-luchshix-antivirusov/</pre>
</div>
<div tags="" title="anydesk without license with remote control">
<pre>AnyDesk 6.0.8 - эта старая версия не требует лицензию. Для корректного управления на удалённом компьютере нужно поставить отметку по пути: "Параметры клавиатуры"-&gt;"Раскладка клавиатуры"-&gt;"Передача 1:1"</pre>
</div>
<div bag="default" created="20210417190028247" creator="sharicov" modified="20210417190149443" modifier="sharicov" revision="2" tags="manual" title="aria2 torrent native and OpenWRT v3" type="text/vnd.tiddlywiki">
<pre>!! Aria2 torrent (to run aria2 in docker please refer to separate manual- more CPU required): 


```
sudo apt install aria2 
```


Configuration: 


```
nano /home/admin/aria2.conf 

```

Config file: 


```
dir=/media/usbdown/Downloads 

max-overall-upload-limit=100K 

disk-cache=500M 

#file-allocation=trunc 

file-allocation=falloc 

seed-time=0 

check-integrity=true 

realtime-chunk-checksum=true 

always-resume=true 

auto-file-renaming=false 

continue=true 

remote-time=true 

rpc-user=sharicov 

rpc-passwd=password 

#daemon 

log=/media/usbdown/Downloads/aria2c.log 

log-level=error 

bt-exclude-tracker="*" 

bt-enable-lpd=true
```

 

!!! To run on boot (nano /etc/rc.local): 


```
sh aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -D --conf-path=/home/admin/aria2.conf 
```


!!For OpenWRT x86:


```
opkg update

opkg install aria2c luci-app-aria2

```

Proceed with configuration according to the manual above.

Default configuration file  /etc/config/aria2 but it is in the wrong format and not working.</pre>
</div>
<div bag="default" created="20210416140603562" creator="sharicov" modified="20210416140744743" modifier="sharicov" revision="1" tags="manual" title="Aria2_AriaNG_GUI_Docker_with_mapping_manual_v3" type="text/vnd.tiddlywiki">
<pre>Remove previous docker installation: 

sudo apt-get purge docker-ce docker-ce-cli containerd.io 

cd /var/lib/ 

sudo rm -rf docker 

Install new: 

sudo apt-get install -y docker-ce docker-ce-cli containerd.io 

Install portainer (docker web manager): 

sudo docker volume create portainer_data 

sudo docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce 

sudo docker run -d -p 9001:9001 --name portainer_agent --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/docker/volumes:/var/lib/docker/volumes portainer/agent 

Example install aria2 with AriaNG and FileBrowser on port 8080 with ARM support: 

Open 8080 port: 

sudo yunohost firewall allow TCP 8080 

sudo docker run -d --name ariang -p 8080:8080 hurlenko/aria2-ariang 

Open 6800 port: 

sudo yunohost firewall allow TCP 8080 

sudo docker run -d --name ariang -p 8080:8080 hurlenko/aria2-ariang 

 

 

hurlenko/aria2-ariang (docker.com) 

Container’s configuration: 

Restart policy to start on boot 

Volume bind to physical location to store to external HDD 

 

 

In Yunohost add Redirect App with the address: 

http://192.168.3.3:8080 

Manual config: 

Enter console: 

 

cd config 

cp aria2.conf aria2.conf.backup 

vi aria2.conf 

Change prealloc to falloc </pre>
</div>
<div tags="" title="aria2c optimize disk writes">
<pre>For magnetic disks add into aria2.conf


```
disk-cache=500M 
```

To see aria.conf location in running aria:


```
ps -x| grep aria
```
</pre>
</div>
<div tags="" title="Ariang native (no docker aria2c) v4">
<pre>```
apt install aria2
```



```
mkdir -m 1777 /media/usb/Downloads
```



```
nano /root/aria2.conf
```


Add:


```
dir=/media/usb/Downloads
max-overall-upload-limit=100K
disk-cache=200M
#file-allocation=trunc
file-allocation=falloc
seed-time=0
check-integrity=true
realtime-chunk-checksum=true
always-resume=true
auto-file-renaming=false
continue=true
remote-time=true
#daemon
#log=/media/aria2c.log
#log-level=error
bt-exclude-tracker="*"
```




```
wget https://github.com/mayswind/AriaNg/releases/download/1.2.4/AriaNg-1.2.4-AllInOne.zip
```



```
unzip AriaNg-1.2.4-AllInOne.zip
```




```
nano /etc/rc.local
```


add:


```
aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -D --conf-path=/root/aria2.conf &amp;
python3 -m http.server 7777 -d /root &amp;
```
</pre>
</div>
<div tags="" title="ARM, SOFTWARE  Install ARM64 Windows 11 on ARM64 QEMU System working v4">
<pre>https://taoofmac.com/space/notes/2023/12/31/1545

https://blog.richliu.com/2024/02/03/5752/install-arm64-windows-11-on-arm64-qemu-system/

https://github.com/jiangcuo/Proxmox-Port/wiki/Windows-11-arm64

Use tiny11a64 iso for installation: https://archive.org/download/tiny11a64

''Note: ''OS type should be other or linux (not MS)

''Note'' Virtio drivers should be added as additional ''SATA CDROM''

Windows 11 arm64
Here's a recommended virtual machine configuration


```
nano  /etc/pve/nodes/PiProxmox/qemu-server/101.conf
```



```
bios: ovmf
boot: order=scsi0
cores: 4
cpu: host
efidisk0: local:101/vm-101-disk-1.qcow2,efitype=4m,pre-enrolled-keys=1,size=64M
memory: 4096
meta: creation-qemu=8.1.5,ctime=1714465615
name: Win11
ostype: l26
scsi0: local:iso/26100.1.240331-1435.GE_RELEASE_CLIENTPRO_OEMRET_A64FRE_EN-US.ISO,media=cdrom,size=4422724K
scsi1: local:101/vm-101-disk-2.qcow2,size=64G
scsihw: virtio-scsi-pci
smbios1: uuid=5bde8a0f-12b1-42f3-9035-50df8f97a058
tpmstate0: local:101/vm-101-disk-0.raw,size=4M,version=v2.0
unused0: local:101/vm-101-disk-2.raw
vga: ramfb

```

''Note ''! We must set ostype=l26 and vga=ramfb

Add 1 scsi-cdrom to boot from win11 iso.
Add 1 sata-cdrom to add virtio-win-drivers,It will help us install scsi driver(iso/vioscsi/win11/ARM64) before install win to disk
To bypass check. Use Shift + F10 to call a cmd window, and start regedit. Create an item named LabConfig under HKLM\SYSTEM\Setup. Add two DWORD values named BypassTPMCheck and BypassSecureBootCheck, and set them to 1. // TPM-device on pve will get error on win11-arm

</pre>
</div>
<div tags="" title="armbian backup v1">
<pre>boot from usb/sd to do a backup

wget -O /usr/sbin/armbian-ddbr  https://raw.githubusercontent.com/ophub/amlogic-s9xxx-armbian/main/build-armbian/common-files/files/usr/sbin/armbian-ddbr

chmod +x /usr/sbin/armbian-ddbr

/usr/sbin/armbian-ddbr
</pre>
</div>
<div tags="" title="Armbian for x96plus and other android tv v3">
<pre>Download link: https://github.com/ophub/amlogic-s9xxx-armbian/releases

!!Commands

```
armbian-install

armbian-config

armbian-update
```
!!Troubleshooting armbian-update error


```
wget https://raw.githubusercontent.com/ophub/amlogic-s9xxx-armbian/main/build-armbian/armbian-files/common-files/usr/sbin/armbian-sync -O /usr/sbin/armbian-sync

nano /etc/ophub-release
```

Add:


```
PLATFORM='amlogic'
KERNEL_BRANCH='stable'
```


```
armbian-kernel -c

armbian-sync

armbian-update -b no
```

</pre>
</div>
<div tags="" title="Armbian resize root partition v1">
<pre>Use Armbian in TF/SD/USB
To activate the remaining space of TF/SD/USB, please login in to armbian → input command:


```
armbian-tf
```
</pre>
</div>
<div tags="" title="ASCII screensavers terminal">
<pre>Matrix


```
apt install matrix
cmatrix -s -b
```

Other ASCII screensavers:

https://askubuntu.com/questions/699579/ascii-screensaver-for-the-command-line-or-a-tui</pre>
</div>
<div tags="" title="ASCII video player tplay v3">
<pre>Site:
https://github.com/maxcurzi/tplay

!!Install
```
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

sudo apt install libssl-dev libopencv-dev libstdc++-12-dev clang libclang-dev ffmpeg libavfilter-dev libavdevice-dev libasound2-dev yt-dlp

cargo install tplay
```
!!Run

```
# Run it
tplay &lt;media&gt; [options]

# Example: local image
tplay ./image.png

# Example: local gif
tplay ./image.gif

# Example: local video
tplay ./video.mp4

# Example: remote video (YouTube)
tplay https://www.youtube.com/watch?v=dQw4w9WgXcQ

# Example: remote video (Other)
tplay https://media.developer.dolby.com/Atmos/MP4/shattered-3Mb.mp4

# Example: YouTube video, with different char maps
tplay https://www.youtube.com/watch?v=fShlVhCfHig --char-map " ░▒▓█"

# Example: YouTube video, with different char maps (use w-mod to adjust width when using emoji-based char maps)
tplay https://www.youtube.com/watch?v=FtutLA63Cp8 --char-map "🍎🍏❤️😊" --w-mod 2

# Example: webcam on Linux (YMMV on other OSes)
tplay /dev/video0
```

!!Playback commands
0-9 - change character map (with0 0

space - toggle pause/unpause

g - toggle grayscale/color

m - toggle mute/unmute

q - quit</pre>
</div>
<div tags="" title="Asus keyboard hot key lock FN Zephyrus gx701 v2">
<pre>Manual: https://www.asus.com/support/faq/1038312/

Utility: https://apps.microsoft.com/detail/9pk20dg5fb6b?hl=en-US&amp;gl=US</pre>
</div>
<div tags="" title="atop task manager for linux for debugging io and loads">
<pre>!!Installation


```
apt install atop
```

!!Run with daily log rotation

```
systemctl enable --now atop-rotate.timer
systemctl status atop-rotate.timer
```

Unistall


```
apt purge atop
```

!!Troubleshooting

!!!If logs directory fills up clean as following

Make sure log is full:


```
df -h |grep Filesystem &amp;&amp; df -h |grep log
```


Delete all logs:


```
rm -rf /var/log/
```
</pre>
</div>
<div created="20210615154618148" modified="20210615154644869" tags="manual" title="Auto enable Bluetooth on boot">
<pre>```
sudo nano /etc/bluetooth/main.conf
```

Add or unmark:

```
Autoenable=true
```
</pre>
</div>
<div tags="" title="Awaken OS ROM Beryllium Poco F1 Miatoll Note 9s v5">
<pre>Like Pixel Experience includes ''Google Play''

''Working Android Auto'' unlike crDroid 10.2 and 10.3

Android 14

Issues: 5G wifi receives IP, but not connecting to internet on poco f1

Download links: https://sourceforge.net/projects/project-awaken/

Documentation:

https://t.me/s/AwakenOSUpdates?q=%23awakenOS&amp;before=380

https://xdaforums.com/t/rom-14-official-awakenos-beryllium.4643139/

https://github.com/AwakenOS-Devices

https://t.me/s/AwakenOSNews

Boot phone in fastboot (Vol Down and Power)


```
fastboot.exe wipe-super super_empty.img

fastboot.exe boot recovery_dynamic_4.19_v2.img
```

Factory reset/Format Data/Format Data

Main menu/Apply update/Apply from ADB


```
adb.exe sideload awaken-4.3-ursa-beryllium-Beta-1648-20240215.zip
```
</pre>
</div>
<div tags="" title="Backup armbian using ddbr x96">
<pre>Create bootable USB with an Armbian image.

Boot from it.

Use "ddbr"  then “b” to make a backup of the internal EMMC.  The backup file will be in /ddbr of the USB device.

Restore that image file with "ddbr" then "r" to another device with same hardwares.  </pre>
</div>
<div tags="" title="backup rebuild EFI boot partition">
<pre>source: https://www.winhelponline.com/blog/rebuild-efi-partition-bcd-boot-files/?expand_article=1

CMD as ''admin''

```
diskpart

list volume

select volume x

assign letter=a

robocopy a:\efi d:\efi.bak /mir /r:1 /w:1
```

!!Optional set EFI partition’s identifier in ''diskpart'' mandatory for WinNTSetup to recognize partition as bootable:

```
set id=c12a7328-f81f-11d2-ba4b-00a0c93ec93b
```


!!Optional export BCD configuration

```
bcdedit /export E:\BCD.BAK
```

Format NEW EFI partition:


```
format DRIVE_LETTER: /fs:FAT32 /q
```


Copy BCD files to a NEW EFI partition:


```
bcdboot E:\Windows /s DRIVE_LETTER: /f UEFI
```

!!For multi boot systems to scan existing entries


```
bootrec /rebuildbcd
```
</pre>
</div>
<div tags="" title="Backup Restore proxmox v3">
<pre>In the proxmox Web GUI select VM/Backup/no compression + stop consistancy mode

vma file will be created in 

''/var/lib/vz/dump/''

ssh to proxy host and copy the file (files) to another linux with scp


```
scp /var/lib/vz/dump/*.vma user@ip:/path
```

!!To import into VirtualBox follow tutorial: 

https://i12bretro.github.io/tutorials/0553.html


# Launch VirtualBox Manager
# Create a new VM, using the same/similar hardware specifications as the Proxmox VM
# Choose to not create a virtual hard disk
# With the VM created, right click the VM in the left navigation menu &gt; Show in Explorer
# Copy the exported .raw disk image to the VirtualBox VM folder
# Hold the SHIFT key and right click in the white space &gt; Open PowerShell window here...
# Run the following command to convert the .raw disk image to .vdi

```
# list .raw files
Get-ChildItem -File -Filter *.raw |Select Directory, Name, Extension
# usage: vboxmanage.exe convertfromraw &lt;input-filename.raw&gt; &lt;output-filename.vdi&gt;
Invoke-Expression ('&amp; "'+ $Env:Programfiles +'\Oracle\VirtualBox\VBoxManage.exe" convertfromraw ".\input-filename.raw" ".\output-filename.vdi"')
Back in VirtualBox Manager, select the VM and Click Settings
```

* Select Storage from the left navigation menu
* Click Add Storage Attachment &gt; Add Hard Disk &gt; Choose existing disk
* Click Add and browse to the newly converted .vdi file
* Click OK to all open VirtualBox dialog windows
* Right click the VM &gt; Select Start &gt; Normal

!!Optional - not tested

Yes you can backup the host. There is a package called p''roxmox-backup-client''. Just install this on the node and run the backup command as a cronjob. That's how I backup my hosts. Don't forget to include /etc/pve using --include-dev. Works even for other Linux machines outside of proxmox, like my laptop for example. 

Link: https://pbs.proxmox.com/docs/backup-client.html#</pre>
</div>
<div tags="" title="Batocera Addons">
<pre>F1 / xterm


```
curl -L bit.ly/BUAinstaller | bash

curl -L install.batoaddons.app | bash
```

Source: https://www.youtube.com/watch?v=wPGNvJ1M9xQ&amp;t=638s

When installing native Steam (non flatpak) use ''big screen'' to enter properties and use ''proton hotfix''

Source: https://www.youtube.com/watch?v=K3anq8k20_U&amp;t=1017s</pre>
</div>
<div tags="" title="Batocera chromium">
<pre>```
flatpak search chrom

flatpak install org.chromium.Chromium 
```


Choose stable build 134.x and system (not user) option


```
flatpak run org.chromium.Chromium  --no-sandbox
```
</pre>
</div>
<div tags="" title="batocera containers v7">
<pre>For available builds visit the project page

https://github.com/uureel/batocera-containers/blob/main/README.md

HOW TO USE:


HOW TO USE:

!!To run ubuntu in container


```
wget https://github.com/uureel/batocera-containers/raw/main/containers/ubuntu22.AppImage
chmod a+x ubuntu22.AppImage
./ubuntu22.AppImage

zsh

```

!!Install docker


```
apt update &amp;&amp; apt upgrade -y



apt install lsb-release nano gpg sudo fonts-powerline

nano ~/.zshrc

Change ZSH_THEME="" to sonicradish

Change ZSH_THEME="sonicradish"

```

!!!To start theme

```

source ~/.zshrc

apt install ca-certificates curl apt-transport-https -y

install -m 0755 -d /etc/apt/keyring

curl -fsSL https://download.docker.com/linux/ubuntu/gpg |  gpg --dearmor -o /etc/apt/keyrings/docker.gpg

chmod a+r /etc/apt/keyrings/docker.gpg

echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" |  tee /etc/apt/sources.list.d/docker.list &gt; /dev/null

apt update

apt install docker-ce docker-ce-cli containerd.io -y


nano /etc/init.d/docker
```


!!!Replace (CTRL+W to search)

''ulimit -Hn 524288''

with

''ulimit -n 524288''


!!!Switch to legacy iptable


```
update-alternatives --set iptables /usr/sbin/iptables-legacy

update-alternatives --set ip6tables /usr/sbin/ip6tables-legacy
```


Run docker engine


```
/etc/init.d/docker start
```


!!Install portainer


```
docker pull portainer/portainer-ce:latest &amp;&amp; docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --restart=always    -v /var/run/docker.sock:/var/run/docker.sock   -v portainer_data:/data portainer/portainer-ce:latest

```

To access portainer locally 

http://localhost:9000

!!!Set password and start using docker

!!To update portainer run


```
docker stop portainer &amp;&amp; docker rm portainer &amp;&amp; docker pull portainer/portainer-ce:latest &amp;&amp; docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --restart=always    -v /var/run/docker.sock:/var/run/docker.sock   -v portainer_data:/data portainer/portainer-ce:latest
```


!!TO SAVE/EXPORT THE CONTAINER FILESYSTEM:
run  from inside the container to store it into /userdata/system/ubuntu22 in batocera; (or: /arch/save.sh from inside the arch container to store it into /userdata/system/arch in batocera, etc)
:

```
 /ubuntu22/save.sh
```
For overwriting state edit '' /ubuntu22/save.sh'' replacing ''-r ''with ''-rf''

!!TO LOAD THE EXPORTED FILESYSTEM, run it from batocera as: 

```
ubuntu22.AppImage load 
```



* when you load the filesystem, you don't need to save it anymore

!!Optional

To run debian 12 in container (not working, use ubuntu)


```
wget https://github.com/uureel/batocera-containers/raw/main/containers/debian12.AppImage
chmod a+x debian12.AppImage
./debian12.AppImage

```


</pre>
</div>
<div tags="" title="batocera install packages with JuNest v2">
<pre>Sources: 

https://www.reddit.com/r/batocera/comments/17wwumb/adding_packages_to_batocera/

https://medium.com/@ayaka_45434/installing-packages-on-linux-without-sudo-privilege-using-junest-5fe7523c9d86

Go through the'' step 1'' only

```
wget https://github.com/fsquillace/junest/archive/refs/heads/master.zip
unzip master.zip
rm -f master.zip
mkdir -p ~/.local/share
mv junest-master ~/.local/share/junest
export PATH=~/.local/share/junest/bin:$PATH
junest setup
```
!!!Ignore junest error if appears

Then run ''junest '' and install packages.

Example:


```
pacman -S glances

pacman -S zsh

pacman -S --overwrite /usr/lib/libpcre.so.1 mc
```
</pre>
</div>
<div tags="" title="Batocera Installation guide Emulator v6">
<pre>!!Batocera download site

https://batocera.org/download

Default ssh user: root pwd: linux

!!Install additional software (Firefox, zip, SMPlayer for m3u)
''F1 ''to get to file manager /applications/flatpac

Software will appear in batocera main menu all games after pressing ''menu/refresh games''

Source: https://www.youtube.com/watch?v=C8J5OuufToU

!! Fix firefox download issue:

F1/Applications/xterm


```
mkdir /media/SHARE/Downloads

flatpak override --filesystem=/media/SHARE/Downloads org.mozilla.firefox

flatpak override --filesystem=/media/SHARE/Downloads 
info.smpalyer.SMPlayer

```

Now both firefox and SMPlayer can see Downloads folder

Set /media/SHARE/Downloads as default firefox download folder

Then restart firefox, go to settings and download/browse will show download location that can be also changed

uncheck Always ask where to save files

check Save files (rather than ask whether to open or save files)


Download m3u from torrentserve server to Downloads and then open it in SMPlayer

!!To find app name run


```
flatpak search kmplayer

flatpak search firefox
```

org.kde.kmplayer

info.smpalyer.SMPlayer

org.mozilla.firefox


!!General forum discussion

https://4pda.to/forum/index.php?showtopic=802556
!!UEFI boot

use  Win32 Disk Imager to create usb bootable in uefi system

Or (tested and working)

Download https://github.com/jfwells/linux-asus-t100ta/blob/master/boot/bootia32.efi and paste into the \EFI\BOOT\ folder of usb
replacing existing one

Source: https://forum.batocera.org/d/347-uefi-only-system/4

!!Emulator BIOSes and shaders

Download and copy to \\batocera\share

BIOSes download:

https://4pda.to/forum/index.php?showtopic=802556&amp;st=5560#entry97261174

Shaders download: 

https://4pda.to/forum/index.php?showtopic=802556&amp;st=15880#entry134381397

!!Shaders setup

В данном наборе используются SLANG шейдеры, для их работы нужно поменять настройки.
SLANG шейдеры - новый и рекомендуемый формат. Совместимы с Vulkan, Direct3D, OpenGL Core.
GLSL шейдеры - совместимы с OpenGL.

Заходим в нужную систему, нажимаем "Select &gt; Доп. настройки системы &gt; Графический API - Vulkan (либо GLCore)"
У меня на Vulkan звук начинает потрескивать, поэтому я выбираю "GLCore"

Далее "Select &gt; Доп. настройки системы &gt; Рендеринг и Шейдеры &gt; Набор шейдеров - SONKUN 1080/1440/4K" (в зависимости от вашего разрешения экрана)
</pre>
</div>
<div tags="" title="Batocera multi monitor setup">
<pre>Check displays parameters:


```
xrandr --listmonitors
```

Output:


```
Monitors: 2
 0: +*HDMI-1 3840/698x2160/392+0+0  HDMI-1
 1: +HDMI-2 2560/798x1080/334+3840+0  HDMI-2

```


Run on second monitor HDMI-2

```
DISPLAY=:0 xterm -fg green -bg black -geometry 80x24+3840+0 &amp;
```
Switch between windows with Alt+Tab


To run chromium on second monitor


```
flatpak run org.chromium.Chromium --no-sandbox --window-position=3840,0 &amp;
```
</pre>
</div>
<div tags="" title="Batocera pro custom packages v3">
<pre>Github repository: https://github.com/DRLEdition19/profork-OFICIAL


```
curl -L bit.ly/profork3 | bash
```

!!Videos: 
https://www.youtube.com/@BatoceraNation

!!CasaOS

http://192.168.1.231:8080/#/

!!Wetty

http://192.168.1.231:3000/wetty

!!Glances

http://192.168.1.231:61208/wetty

!!File Browser

http://192.168.1.231:8081/files/

File Browser data is stored in 

/userdata/system/docker_services/filebrowser_data</pre>
</div>
<div tags="" title="bcache guide (ssd caching in linux) v1">
<pre>Source: https://www.kernel.org/doc/Documentation/bcache.txt



```
============================
A block layer cache (bcache)
============================

Say you've got a big slow raid 6, and an ssd or three. Wouldn't it be
nice if you could use them as cache... Hence bcache.

Wiki and git repositories are at:

  - http://bcache.evilpiepirate.org
  - http://evilpiepirate.org/git/linux-bcache.git
  - http://evilpiepirate.org/git/bcache-tools.git

It's designed around the performance characteristics of SSDs - it only allocates
in erase block sized buckets, and it uses a hybrid btree/log to track cached
extents (which can be anywhere from a single sector to the bucket size). It's
designed to avoid random writes at all costs; it fills up an erase block
sequentially, then issues a discard before reusing it.

Both writethrough and writeback caching are supported. Writeback defaults to
off, but can be switched on and off arbitrarily at runtime. Bcache goes to
great lengths to protect your data - it reliably handles unclean shutdown. (It
doesn't even have a notion of a clean shutdown; bcache simply doesn't return
writes as completed until they're on stable storage).

Writeback caching can use most of the cache for buffering writes - writing
dirty data to the backing device is always done sequentially, scanning from the
start to the end of the index.

Since random IO is what SSDs excel at, there generally won't be much benefit
to caching large sequential IO. Bcache detects sequential IO and skips it;
it also keeps a rolling average of the IO sizes per task, and as long as the
average is above the cutoff it will skip all IO from that task - instead of
caching the first 512k after every seek. Backups and large file copies should
thus entirely bypass the cache.

In the event of a data IO error on the flash it will try to recover by reading
from disk or invalidating cache entries.  For unrecoverable errors (meta data
or dirty data), caching is automatically disabled; if dirty data was present
in the cache it first disables writeback caching and waits for all dirty data
to be flushed.

Getting started:
You'll need make-bcache from the bcache-tools repository. Both the cache device
and backing device must be formatted before use::

  make-bcache -B /dev/sdb
  make-bcache -C /dev/sdc

make-bcache has the ability to format multiple devices at the same time - if
you format your backing devices and cache device at the same time, you won't
have to manually attach::

  make-bcache -B /dev/sda /dev/sdb -C /dev/sdc

bcache-tools now ships udev rules, and bcache devices are known to the kernel
immediately.  Without udev, you can manually register devices like this::

  echo /dev/sdb &gt; /sys/fs/bcache/register
  echo /dev/sdc &gt; /sys/fs/bcache/register

Registering the backing device makes the bcache device show up in /dev; you can
now format it and use it as normal. But the first time using a new bcache
device, it'll be running in passthrough mode until you attach it to a cache.
If you are thinking about using bcache later, it is recommended to setup all your
slow devices as bcache backing devices without a cache, and you can choose to add
a caching device later.
See 'ATTACHING' section below.

The devices show up as::

  /dev/bcache&lt;N&gt;

As well as (with udev)::

  /dev/bcache/by-uuid/&lt;uuid&gt;
  /dev/bcache/by-label/&lt;label&gt;

To get started::

  mkfs.ext4 /dev/bcache0
  mount /dev/bcache0 /mnt

You can control bcache devices through sysfs at /sys/block/bcache&lt;N&gt;/bcache .
You can also control them through /sys/fs//bcache/&lt;cset-uuid&gt;/ .

Cache devices are managed as sets; multiple caches per set isn't supported yet
but will allow for mirroring of metadata and dirty data in the future. Your new
cache set shows up as /sys/fs/bcache/&lt;UUID&gt;

Attaching
---------

After your cache device and backing device are registered, the backing device
must be attached to your cache set to enable caching. Attaching a backing
device to a cache set is done thusly, with the UUID of the cache set in
/sys/fs/bcache::

  echo &lt;CSET-UUID&gt; &gt; /sys/block/bcache0/bcache/attach

This only has to be done once. The next time you reboot, just reregister all
your bcache devices. If a backing device has data in a cache somewhere, the
/dev/bcache&lt;N&gt; device won't be created until the cache shows up - particularly
important if you have writeback caching turned on.

If you're booting up and your cache device is gone and never coming back, you
can force run the backing device::

  echo 1 &gt; /sys/block/sdb/bcache/running

(You need to use /sys/block/sdb (or whatever your backing device is called), not
/sys/block/bcache0, because bcache0 doesn't exist yet. If you're using a
partition, the bcache directory would be at /sys/block/sdb/sdb2/bcache)

The backing device will still use that cache set if it shows up in the future,
but all the cached data will be invalidated. If there was dirty data in the
cache, don't expect the filesystem to be recoverable - you will have massive
filesystem corruption, though ext4's fsck does work miracles.

Error Handling
--------------

Bcache tries to transparently handle IO errors to/from the cache device without
affecting normal operation; if it sees too many errors (the threshold is
configurable, and defaults to 0) it shuts down the cache device and switches all
the backing devices to passthrough mode.

 - For reads from the cache, if they error we just retry the read from the
   backing device.

 - For writethrough writes, if the write to the cache errors we just switch to
   invalidating the data at that lba in the cache (i.e. the same thing we do for
   a write that bypasses the cache)

 - For writeback writes, we currently pass that error back up to the
   filesystem/userspace. This could be improved - we could retry it as a write
   that skips the cache so we don't have to error the write.

 - When we detach, we first try to flush any dirty data (if we were running in
   writeback mode). It currently doesn't do anything intelligent if it fails to
   read some of the dirty data, though.


Howto/cookbook
--------------

A) Starting a bcache with a missing caching device

If registering the backing device doesn't help, it's already there, you just need
to force it to run without the cache::

	host:~# echo /dev/sdb1 &gt; /sys/fs/bcache/register
	[  119.844831] bcache: register_bcache() error opening /dev/sdb1: device already registered

Next, you try to register your caching device if it's present. However
if it's absent, or registration fails for some reason, you can still
start your bcache without its cache, like so::

	host:/sys/block/sdb/sdb1/bcache# echo 1 &gt; running

Note that this may cause data loss if you were running in writeback mode.


B) Bcache does not find its cache::

	host:/sys/block/md5/bcache# echo 0226553a-37cf-41d5-b3ce-8b1e944543a8 &gt; attach
	[ 1933.455082] bcache: bch_cached_dev_attach() Couldn't find uuid for md5 in set
	[ 1933.478179] bcache: __cached_dev_store() Can't attach 0226553a-37cf-41d5-b3ce-8b1e944543a8
	[ 1933.478179] : cache set not found

In this case, the caching device was simply not registered at boot
or disappeared and came back, and needs to be (re-)registered::

	host:/sys/block/md5/bcache# echo /dev/sdh2 &gt; /sys/fs/bcache/register


C) Corrupt bcache crashes the kernel at device registration time:

This should never happen.  If it does happen, then you have found a bug!
Please report it to the bcache development list: linux-bcache@vger.kernel.org

Be sure to provide as much information that you can including kernel dmesg
output if available so that we may assist.


D) Recovering data without bcache:

If bcache is not available in the kernel, a filesystem on the backing
device is still available at an 8KiB offset. So either via a loopdev
of the backing device created with --offset 8K, or any value defined by
--data-offset when you originally formatted bcache with `make-bcache`.

For example::

	losetup -o 8192 /dev/loop0 /dev/your_bcache_backing_dev

This should present your unmodified backing device data in /dev/loop0

If your cache is in writethrough mode, then you can safely discard the
cache device without loosing data.


E) Wiping a cache device

::

	host:~# wipefs -a /dev/sdh2
	16 bytes were erased at offset 0x1018 (bcache)
	they were: c6 85 73 f6 4e 1a 45 ca 82 65 f5 7f 48 ba 6d 81

After you boot back with bcache enabled, you recreate the cache and attach it::

	host:~# make-bcache -C /dev/sdh2
	UUID:                   7be7e175-8f4c-4f99-94b2-9c904d227045
	Set UUID:               5bc072a8-ab17-446d-9744-e247949913c1
	version:                0
	nbuckets:               106874
	block_size:             1
	bucket_size:            1024
	nr_in_set:              1
	nr_this_dev:            0
	first_bucket:           1
	[  650.511912] bcache: run_cache_set() invalidating existing data
	[  650.549228] bcache: register_cache() registered cache device sdh2

start backing device with missing cache::

	host:/sys/block/md5/bcache# echo 1 &gt; running

attach new cache::

	host:/sys/block/md5/bcache# echo 5bc072a8-ab17-446d-9744-e247949913c1 &gt; attach
	[  865.276616] bcache: bch_cached_dev_attach() Caching md5 as bcache0 on set 5bc072a8-ab17-446d-9744-e247949913c1


F) Remove or replace a caching device::

	host:/sys/block/sda/sda7/bcache# echo 1 &gt; detach
	[  695.872542] bcache: cached_dev_detach_finish() Caching disabled for sda7

	host:~# wipefs -a /dev/nvme0n1p4
	wipefs: error: /dev/nvme0n1p4: probing initialization failed: Device or resource busy
	Ooops, it's disabled, but not unregistered, so it's still protected

We need to go and unregister it::

	host:/sys/fs/bcache/b7ba27a1-2398-4649-8ae3-0959f57ba128# ls -l cache0
	lrwxrwxrwx 1 root root 0 Feb 25 18:33 cache0 -&gt; ../../../devices/pci0000:00/0000:00:1d.0/0000:70:00.0/nvme/nvme0/nvme0n1/nvme0n1p4/bcache/
	host:/sys/fs/bcache/b7ba27a1-2398-4649-8ae3-0959f57ba128# echo 1 &gt; stop
	kernel: [  917.041908] bcache: cache_set_free() Cache set b7ba27a1-2398-4649-8ae3-0959f57ba128 unregistered

Now we can wipe it::

	host:~# wipefs -a /dev/nvme0n1p4
	/dev/nvme0n1p4: 16 bytes were erased at offset 0x00001018 (bcache): c6 85 73 f6 4e 1a 45 ca 82 65 f5 7f 48 ba 6d 81


G) dm-crypt and bcache

First setup bcache unencrypted and then install dmcrypt on top of
/dev/bcache&lt;N&gt; This will work faster than if you dmcrypt both the backing
and caching devices and then install bcache on top. [benchmarks?]


H) Stop/free a registered bcache to wipe and/or recreate it

Suppose that you need to free up all bcache references so that you can
fdisk run and re-register a changed partition table, which won't work
if there are any active backing or caching devices left on it:

1) Is it present in /dev/bcache* ? (there are times where it won't be)

   If so, it's easy::

	host:/sys/block/bcache0/bcache# echo 1 &gt; stop

2) But if your backing device is gone, this won't work::

	host:/sys/block/bcache0# cd bcache
	bash: cd: bcache: No such file or directory

   In this case, you may have to unregister the dmcrypt block device that
   references this bcache to free it up::

	host:~# dmsetup remove oldds1
	bcache: bcache_device_free() bcache0 stopped
	bcache: cache_set_free() Cache set 5bc072a8-ab17-446d-9744-e247949913c1 unregistered

   This causes the backing bcache to be removed from /sys/fs/bcache and
   then it can be reused.  This would be true of any block device stacking
   where bcache is a lower device.

3) In other cases, you can also look in /sys/fs/bcache/::

	host:/sys/fs/bcache# ls -l */{cache?,bdev?}
	lrwxrwxrwx 1 root root 0 Mar  5 09:39 0226553a-37cf-41d5-b3ce-8b1e944543a8/bdev1 -&gt; ../../../devices/virtual/block/dm-1/bcache/
	lrwxrwxrwx 1 root root 0 Mar  5 09:39 0226553a-37cf-41d5-b3ce-8b1e944543a8/cache0 -&gt; ../../../devices/virtual/block/dm-4/bcache/
	lrwxrwxrwx 1 root root 0 Mar  5 09:39 5bc072a8-ab17-446d-9744-e247949913c1/cache0 -&gt; ../../../devices/pci0000:00/0000:00:01.0/0000:01:00.0/ata10/host9/target9:0:0/9:0:0:0/block/sdl/sdl2/bcache/

   The device names will show which UUID is relevant, cd in that directory
   and stop the cache::

	host:/sys/fs/bcache/5bc072a8-ab17-446d-9744-e247949913c1# echo 1 &gt; stop

   This will free up bcache references and let you reuse the partition for
   other purposes.



Troubleshooting performance
---------------------------

Bcache has a bunch of config options and tunables. The defaults are intended to
be reasonable for typical desktop and server workloads, but they're not what you
want for getting the best possible numbers when benchmarking.

 - Backing device alignment

   The default metadata size in bcache is 8k.  If your backing device is
   RAID based, then be sure to align this by a multiple of your stride
   width using `make-bcache --data-offset`. If you intend to expand your
   disk array in the future, then multiply a series of primes by your
   raid stripe size to get the disk multiples that you would like.

   For example:  If you have a 64k stripe size, then the following offset
   would provide alignment for many common RAID5 data spindle counts::

	64k * 2*2*2*3*3*5*7 bytes = 161280k

   That space is wasted, but for only 157.5MB you can grow your RAID 5
   volume to the following data-spindle counts without re-aligning::

	3,4,5,6,7,8,9,10,12,14,15,18,20,21 ...

 - Bad write performance

   If write performance is not what you expected, you probably wanted to be
   running in writeback mode, which isn't the default (not due to a lack of
   maturity, but simply because in writeback mode you'll lose data if something
   happens to your SSD)::

	# echo writeback &gt; /sys/block/bcache0/bcache/cache_mode

 - Bad performance, or traffic not going to the SSD that you'd expect

   By default, bcache doesn't cache everything. It tries to skip sequential IO -
   because you really want to be caching the random IO, and if you copy a 10
   gigabyte file you probably don't want that pushing 10 gigabytes of randomly
   accessed data out of your cache.

   But if you want to benchmark reads from cache, and you start out with fio
   writing an 8 gigabyte test file - so you want to disable that::

	# echo 0 &gt; /sys/block/bcache0/bcache/sequential_cutoff

   To set it back to the default (4 mb), do::

	# echo 4M &gt; /sys/block/bcache0/bcache/sequential_cutoff

 - Traffic's still going to the spindle/still getting cache misses

   In the real world, SSDs don't always keep up with disks - particularly with
   slower SSDs, many disks being cached by one SSD, or mostly sequential IO. So
   you want to avoid being bottlenecked by the SSD and having it slow everything
   down.

   To avoid that bcache tracks latency to the cache device, and gradually
   throttles traffic if the latency exceeds a threshold (it does this by
   cranking down the sequential bypass).

   You can disable this if you need to by setting the thresholds to 0::

	# echo 0 &gt; /sys/fs/bcache/&lt;cache set&gt;/congested_read_threshold_us
	# echo 0 &gt; /sys/fs/bcache/&lt;cache set&gt;/congested_write_threshold_us

   The default is 2000 us (2 milliseconds) for reads, and 20000 for writes.

 - Still getting cache misses, of the same data

   One last issue that sometimes trips people up is actually an old bug, due to
   the way cache coherency is handled for cache misses. If a btree node is full,
   a cache miss won't be able to insert a key for the new data and the data
   won't be written to the cache.

   In practice this isn't an issue because as soon as a write comes along it'll
   cause the btree node to be split, and you need almost no write traffic for
   this to not show up enough to be noticeable (especially since bcache's btree
   nodes are huge and index large regions of the device). But when you're
   benchmarking, if you're trying to warm the cache by reading a bunch of data
   and there's no other traffic - that can be a problem.

   Solution: warm the cache by doing writes, or use the testing branch (there's
   a fix for the issue there).


Sysfs - backing device
----------------------

Available at /sys/block/&lt;bdev&gt;/bcache, /sys/block/bcache*/bcache and
(if attached) /sys/fs/bcache/&lt;cset-uuid&gt;/bdev*

attach
  Echo the UUID of a cache set to this file to enable caching.

cache_mode
  Can be one of either writethrough, writeback, writearound or none.

clear_stats
  Writing to this file resets the running total stats (not the day/hour/5 minute
  decaying versions).

detach
  Write to this file to detach from a cache set. If there is dirty data in the
  cache, it will be flushed first.

dirty_data
  Amount of dirty data for this backing device in the cache. Continuously
  updated unlike the cache set's version, but may be slightly off.

label
  Name of underlying device.

readahead
  Size of readahead that should be performed.  Defaults to 0.  If set to e.g.
  1M, it will round cache miss reads up to that size, but without overlapping
  existing cache entries.

running
  1 if bcache is running (i.e. whether the /dev/bcache device exists, whether
  it's in passthrough mode or caching).

sequential_cutoff
  A sequential IO will bypass the cache once it passes this threshold; the
  most recent 128 IOs are tracked so sequential IO can be detected even when
  it isn't all done at once.

sequential_merge
  If non zero, bcache keeps a list of the last 128 requests submitted to compare
  against all new requests to determine which new requests are sequential
  continuations of previous requests for the purpose of determining sequential
  cutoff. This is necessary if the sequential cutoff value is greater than the
  maximum acceptable sequential size for any single request.

state
  The backing device can be in one of four different states:

  no cache: Has never been attached to a cache set.

  clean: Part of a cache set, and there is no cached dirty data.

  dirty: Part of a cache set, and there is cached dirty data.

  inconsistent: The backing device was forcibly run by the user when there was
  dirty data cached but the cache set was unavailable; whatever data was on the
  backing device has likely been corrupted.

stop
  Write to this file to shut down the bcache device and close the backing
  device.

writeback_delay
  When dirty data is written to the cache and it previously did not contain
  any, waits some number of seconds before initiating writeback. Defaults to
  30.

writeback_percent
  If nonzero, bcache tries to keep around this percentage of the cache dirty by
  throttling background writeback and using a PD controller to smoothly adjust
  the rate.

writeback_rate
  Rate in sectors per second - if writeback_percent is nonzero, background
  writeback is throttled to this rate. Continuously adjusted by bcache but may
  also be set by the user.

writeback_running
  If off, writeback of dirty data will not take place at all. Dirty data will
  still be added to the cache until it is mostly full; only meant for
  benchmarking. Defaults to on.

Sysfs - backing device stats
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

There are directories with these numbers for a running total, as well as
versions that decay over the past day, hour and 5 minutes; they're also
aggregated in the cache set directory as well.

bypassed
  Amount of IO (both reads and writes) that has bypassed the cache

cache_hits, cache_misses, cache_hit_ratio
  Hits and misses are counted per individual IO as bcache sees them; a
  partial hit is counted as a miss.

cache_bypass_hits, cache_bypass_misses
  Hits and misses for IO that is intended to skip the cache are still counted,
  but broken out here.

cache_miss_collisions
  Counts instances where data was going to be inserted into the cache from a
  cache miss, but raced with a write and data was already present (usually 0
  since the synchronization for cache misses was rewritten)

cache_readaheads
  Count of times readahead occurred.

Sysfs - cache set
~~~~~~~~~~~~~~~~~

Available at /sys/fs/bcache/&lt;cset-uuid&gt;

average_key_size
  Average data per key in the btree.

bdev&lt;0..n&gt;
  Symlink to each of the attached backing devices.

block_size
  Block size of the cache devices.

btree_cache_size
  Amount of memory currently used by the btree cache

bucket_size
  Size of buckets

cache&lt;0..n&gt;
  Symlink to each of the cache devices comprising this cache set.

cache_available_percent
  Percentage of cache device which doesn't contain dirty data, and could
  potentially be used for writeback.  This doesn't mean this space isn't used
  for clean cached data; the unused statistic (in priority_stats) is typically
  much lower.

clear_stats
  Clears the statistics associated with this cache

dirty_data
  Amount of dirty data is in the cache (updated when garbage collection runs).

flash_vol_create
  Echoing a size to this file (in human readable units, k/M/G) creates a thinly
  provisioned volume backed by the cache set.

io_error_halflife, io_error_limit
  These determines how many errors we accept before disabling the cache.
  Each error is decayed by the half life (in # ios).  If the decaying count
  reaches io_error_limit dirty data is written out and the cache is disabled.

journal_delay_ms
  Journal writes will delay for up to this many milliseconds, unless a cache
  flush happens sooner. Defaults to 100.

root_usage_percent
  Percentage of the root btree node in use.  If this gets too high the node
  will split, increasing the tree depth.

stop
  Write to this file to shut down the cache set - waits until all attached
  backing devices have been shut down.

tree_depth
  Depth of the btree (A single node btree has depth 0).

unregister
  Detaches all backing devices and closes the cache devices; if dirty data is
  present it will disable writeback caching and wait for it to be flushed.

Sysfs - cache set internal
~~~~~~~~~~~~~~~~~~~~~~~~~~

This directory also exposes timings for a number of internal operations, with
separate files for average duration, average frequency, last occurrence and max
duration: garbage collection, btree read, btree node sorts and btree splits.

active_journal_entries
  Number of journal entries that are newer than the index.

btree_nodes
  Total nodes in the btree.

btree_used_percent
  Average fraction of btree in use.

bset_tree_stats
  Statistics about the auxiliary search trees

btree_cache_max_chain
  Longest chain in the btree node cache's hash table

cache_read_races
  Counts instances where while data was being read from the cache, the bucket
  was reused and invalidated - i.e. where the pointer was stale after the read
  completed. When this occurs the data is reread from the backing device.

trigger_gc
  Writing to this file forces garbage collection to run.

Sysfs - Cache device
~~~~~~~~~~~~~~~~~~~~

Available at /sys/block/&lt;cdev&gt;/bcache

block_size
  Minimum granularity of writes - should match hardware sector size.

btree_written
  Sum of all btree writes, in (kilo/mega/giga) bytes

bucket_size
  Size of buckets

cache_replacement_policy
  One of either lru, fifo or random.

discard
  Boolean; if on a discard/TRIM will be issued to each bucket before it is
  reused. Defaults to off, since SATA TRIM is an unqueued command (and thus
  slow).

freelist_percent
  Size of the freelist as a percentage of nbuckets. Can be written to to
  increase the number of buckets kept on the freelist, which lets you
  artificially reduce the size of the cache at runtime. Mostly for testing
  purposes (i.e. testing how different size caches affect your hit rate), but
  since buckets are discarded when they move on to the freelist will also make
  the SSD's garbage collection easier by effectively giving it more reserved
  space.

io_errors
  Number of errors that have occurred, decayed by io_error_halflife.

metadata_written
  Sum of all non data writes (btree writes and all other metadata).

nbuckets
  Total buckets in this cache

priority_stats
  Statistics about how recently data in the cache has been accessed.
  This can reveal your working set size.  Unused is the percentage of
  the cache that doesn't contain any data.  Metadata is bcache's
  metadata overhead.  Average is the average priority of cache buckets.
  Next is a list of quantiles with the priority threshold of each.

written
  Sum of all data that has been written to the cache; comparison with
  btree_written gives the amount of write inflation in bcache.
```
</pre>
</div>
<div tags="" title="bcache SSD read cache for HDD v3">
<pre>Source1: https://bcachefs.org/ 

Source2: https://wiki.archlinux.org/title/Bcachefs

!!Old:

Source1: https://wiki.archlinux.org/title/Bcache#Situation:_4_hard_drives_and_1_read_cache_SSD

Source2: https://bcache.evilpiepirate.org/

Situation: 4 hard drives and 1 read cache SSD
Warning:
Do not enable write caching, as that can cause data loss when the SSD fails
+-----------------------------------------------------------+
|                         btrfs /mnt                        |
+--------------+--------------+--------------+--------------+
| /dev/Bcache0 | /dev/Bcache1 | /dev/Bcache2 | /dev/Bcache3 |
+--------------+--------------+--------------+--------------+
|                           Cache                           |  
|                         /dev/sdk1                         |
+--------------+--------------+--------------+--------------+
| Data         | Data         | Data         | Data         |
| /dev/sdv1    | /dev/sdw1    | /dev/sdx1    | /dev/sdy1    |
+--------------+--------------+--------------+--------------+
1. Format the backing devices (These will typically be your mechanical drives). The backing devices can be whole devices, partitions or any other standard block devices. This will create /dev/bcache0, /dev/bcache1, /dev/bcache2 and /dev/bcache3

# make-bcache -B /dev/sdv1
# make-bcache -B /dev/sdw1
# make-bcache -B /dev/sdx1
# make-bcache -B /dev/sdy1
2. Format the cache device (This will typically be your SSD). The cache device can be a whole device, a partition or any other standard block device. Only one cache device can be added to a group of backing devices.

# make-bcache -C /dev/sdk1
3. Get the uuid of the cache device

# bcache-super-show /dev/sdk1 | grep cset
cset.uuid		f0e01318-f4fd-4fab-abbb-d76d870503ec
4. Register the cache device against your backing devices. Replace the example uuid with the uuid of your cache.

# echo f0e01318-f4fd-4fab-abbb-d76d870503ec &gt; /sys/block/bcache0/bcache/attach
# echo f0e01318-f4fd-4fab-abbb-d76d870503ec &gt; /sys/block/bcache1/bcache/attach
# echo f0e01318-f4fd-4fab-abbb-d76d870503ec &gt; /sys/block/bcache2/bcache/attach
# echo f0e01318-f4fd-4fab-abbb-d76d870503ec &gt; /sys/block/bcache3/bcache/attach
5. Create the btrfs filesystem. Both the data and the metadata is stored twice in the array, so there will be no data loss when a single hard drive fails. The -L argument defines the label of the filesystem.

# mkfs.btrfs -L STORAGE -f -d raid1 -m raid1 /dev/bcache0 /dev/bcache1 /dev/bcache2 /dev/bcache3 
6. mount the filesystem

# mount /dev/bcache0 /mnt

!!Detach cache device:

https://unix.stackexchange.com/questions/115764/how-do-i-remove-the-cache-device-from-bcache


```
echo &lt;cache-set-uuid&gt; &gt; /sys/block/bcache0/bcache/detach
```
</pre>
</div>
<div tags="" title="BlissOS android x86">
<pre>14.10 (android 11) latest builds: https://mega.nz/folder/nkYUXTgB#wvQYX938G3RYCzCGexitDg

Magisks for root: https://github.com/HuskyDG/initrd-magisk

android 12L bulds: https://sourceforge.net/projects/blissos-dev/files/Android-Generic/PC/aosp/gapps/12L/</pre>
</div>
<div tags="" title="Bluetooth commands v1">
<pre>```
    1  bluetoothctl
    2  blueman-tray 
    3  blueman-manager 
    4  pacman  -Syy
    5  pacman  -Su
    6  pacman -S appmenu-gtk-module
    7  blueman-manager 
    8  pacman -S bluetoothctl
    9  sudo pacman -S bluetoothctl
   10  rfkill block bluetooth
   11  sudo rfkill block bluetooth
   12  sudo rfkill unblock bluetooth
   13  systemctl stop bluetooth.service
   14  systemctl enable bluetooth.service
   15  systemctl start bluetooth.service
   16  systemctl restart bluetooth.service
   17  rfkill
   18  dmesg
   19  dmesg |grep -i bluet
   20  rfkill list
   21  uname -a
   22  lsusb
   23  journalctl -k --priority err
   24  ls /lib/firmware/intel
   25  ls -alph  /lib/firmware/intel/ibt-20-0-3.sfi 
   26  journalctl -b | egrep -i bluetooth
   27  journalctl -b | egrep -i bluetooth
   28  journalctl -b | egrep -i bluetooth
   29  uname -a
   30  modprobe -r iwlmvm iwlwifi
   31  modprobe iwlwifi
   32  rfkill -l
   33  rfkill list
   34  dmesg
   35  blueman-manager 
   36  echo -e "[device]\nwifi.scan-rand-mac-address=no" | sudo tee /etc/NetworkManager/conf.d/disable-random-mac.conf
   37  blueman-manager 
   38  modprobe -r iwlmvm iwlwifi
   39  modprobe iwlwifi
   40  rfkill list
   41  dmesg
   42  lspci -k
   43  lspci -k |grep 200
   44  lspci -k |grep -i blue
   45  lspci -k |grep 200 -a2
   46  manjaro-settings-manager 
   47  history
   48  history  &gt;history.txt

```

Useful discussion with commands:

https://forums.linuxmint.com/viewtopic.php?t=340234&amp;utm_source=pocket_mylist</pre>
</div>
<div tags="" title="Bluetooth disappeared fix">
<pre>source: https://answers.microsoft.com/en-us/windows/forum/all/bluetooth-disappeared-windows-11/b5801ef4-af34-4e79-9daf-7f76bfc0caab

Turn off the PC and disconnect the power cable.</pre>
</div>
<div created="20210609155135238" modified="20210609155812383" tags="manual" title="Bluetooth Linux v2">
<pre>Useful commands:

```
rfkill
bluetoothctl 
power on
scan on
scan off
pair ...
exit
```


```
rfkill block bluetooth
sleep 1
rfkill unblock bluetooth
```


```
systemctl stop bluetooth.service
systemctl enable bluetooth.service
systemctl start bluetooth.service
systemctl restart bluetooth.service
```
</pre>
</div>
<div tags="" title="boot from wim (strelec)">
<pre>use EasyBCD to add boot entry from wim

Strelec wims are located in SSTR folder and to be coipied to local disk in advance

https://neosmart.net/EasyBCD/

Alternative ways to convert wim to regular boot here: https://superuser.com/questions/1660413/how-to-install-a-winpe-based-os-to-an-internal-hard-drive-persistent</pre>
</div>
<div tags="" title="Boot to UEFI shortcut">
<pre>In windows:

Create shortcut

Add


```
shutdown /r /fw
```

Name:

''UEFI boot''

Properties/shortcut/advanced/''Run as administrator''

Change icon/OK/pick any icon from the list

</pre>
</div>
<div tags="" title="bpytop htop alternative (x86 and arm64)">
<pre>With nala package manager:

```
nala install bpytop
```

Old version of installation

```
apt install python3-pip
pip3 install bpytop
```
</pre>
</div>
<div tags="" title="Brave browser with TOR for rutracker.org access">
<pre>Самый простой и безопасный способ получить доступ на Рутрекер.

Устанавливаем Brave Private Browser (пошагово: что и где нажимать).

Нажимаем Download, запускаем установку, ждём, пока скачается загрузчик, дальше можно будет выбрать русский язык 1.

Важно! Встроенный торрент-клиент нужно отключить. Зайдите в Настройки -&gt; Расширения и отключите WebTorrent.

Выбираем в меню Tor, появляется такое окно, в адресной строке вводим rutracker.org

Всё! Вы на Рутрекере.
</pre>
</div>
<div tags="" title="brew - Homebrew package management for Linux v3">
<pre>Top list:
https://gist.github.com/pmkay/e09034971b6f23214fd9f95a3e6d1c44

!!Install brew


```
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

!!Add brew to linux path


```
echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' &gt;&gt; ~/.bashrc
```



```
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
```

!!Example: Install yazi


```
brew install yazi
```

!!Search through available brew apps

https://formulae.brew.sh/formula/yazi#default

!!Troubleshooting

If getting 


```
Error: Too many open files
```

Run to increase open files count


```
ulimit -n

ulimit -n 8192

ulimit -n
```
</pre>
</div>
<div tags="" title="bt trackers for aria torrent">
<pre>udp://62.138.0.158:6969/announce,udp://188.241.58.209:6969/announce,udp://151.80.120.112:2710/announce,udp://151.80.120.114:2710/announce,udp://93.158.213.92:1337/announce,udp://185.19.107.254:80/announce,udp://185.225.17.100:1337/announce,udp://208.83.20.20:6969/announce,udp://5.206.19.247:6969/announce,udp://37.235.174.46:2710/announce,udp://142.44.243.4:1337/announce,udp://195.154.52.99:80/announce,udp://54.37.235.149:6969/announce,udp://212.1.226.176:2710/announce,udp://89.234.156.205:451/announce,udp://159.100.245.181:6969/announce,udp://45.56.74.11:6969/announce,udp://51.15.226.113:6969/announce,udp://176.113.71.19:6961/announce,udp://51.15.40.114:80/announcehttp://1337.abcvg.info:80/announce,http://bt.okmp3.ru:2710/announce,http://mediaclub.tv:80/announce.php,http://milanesitracker.tekcities.com:80/announce,http://nyaa.tracker.wf:7777/announce,http://open.acgnxtracker.com:80/announce,http://openbittorrent.com:80/announce,http://share.camoe.cn:8080/announce,http://t.nyaatracker.com:80/announce,http://tr.cili001.com:8070/announce,http://tracker.files.fm:6969/announce,http://tracker.gbitt.info:80/announce,http://tracker.ipv6tracker.ru:80/announce,http://tracker.openbittorrent.com:80/announce,http://vps02.net.orel.ru:80/announce,https://carbon-bonsai-621.appspot.com:443/announce,https://t.btcland.xyz:443/announce,https://tp.m-team.cc:443/announce.php,https://tr.burnabyhighstar.com:443/announce,https://tr.doogh.club:443/announce,https://tr.fuckbitcoin.xyz:443/announce,https://tr.highstar.shop:443/announce,https://tr.ready4.icu:443/announce,https://tracker.imgoingto.icu:443/announce,https://tracker.iriseden.fr:443/announce,https://tracker.kuroy.me:443/announce,https://tracker.lilithraws.cf:443/announce,https://tracker.loligirl.cn:443/announce,https://tracker.nanoha.org:443/announce,https://tracker.tamersunion.org:443/announce,https://trackme.theom.nz:443/announce,udp://6ahddutb1ucc3cp.ru:6969/announce,udp://9.rarbg.com:2810/announce,udp://abufinzio.monocul.us:6969/announce,udp://admin.videoenpoche.info:6969/announce,udp://bt1.archive.org:6969/announce,udp://bt2.archive.org:6969/announce,udp://code2chicken.nl:6969/announce,udp://discord.heihachi.pw:6969/announce,udp://exodus.desync.com:6969/announce,udp://fe.dealclub.de:6969/announce,udp://inferno.demonoid.is:3391/announce,udp://mail.realliferpg.de:6969/announce,udp://movies.zsw.ca:6969/announce,udp://mts.tvbit.co:6969/announce,udp://open.demonii.com:1337/announce,udp://open.stealth.si:80/announce,udp://open.tracker.cl:1337/announce,udp://opentor.org:2710/announce,udp://p4p.arenabg.com:1337/announce,udp://retracker.hotplug.ru:2710/announce,udp://retracker.lanta-net.ru:2710/announce,udp://thetracker.org:80/announce,udp://tracker.0x.tf:6969/announce,udp://tracker.auctor.tv:6969/announce,udp://tracker.beeimg.com:6969/announce,udp://tracker.birkenwald.de:6969/announce,udp://tracker.blacksparrowmedia.net:6969/announce,udp://tracker.cyberia.is:6969/announce,udp://tracker.dix.tf:6969/announce,udp://tracker.jordan.im:6969/announce,udp://tracker.lelux.fi:6969/announce,udp://tracker.moeking.eu.org:6969/announce,udp://tracker.moeking.me:6969/announce,udp://tracker.ololosh.space:6969/announce,udp://tracker.openbittorrent.com:6969/announce,udp://tracker.opentrackr.org:1337/announce,udp://tracker.pomf.se:80/announce,udp://tracker.sylphix.com:6969/announce,udp://tracker.theoks.net:6969/announce,udp://tracker.torrent.eu.org:451/announce,udp://tracker2.dler.com:80/announce,udp://tracker2.dler.org:80/announce,udp://tracker6.lelux.fi:6969/announce,udp://vibe.sleepyinternetfun.xyz:1738/announce,udp://www.torrent.eu.org:451/announce,wss://tracker.openwebtorrent.com:443/announce

source: https://github.com/XIU2/TrackersListCollection</pre>
</div>
<div tags="" title="BTRFS defragment v3">
<pre>!!Manual defrag

```
sudo btrfs filesystem defragment -rvf /media/usb
```

!!Automatic defrag and write cache


```
nano /etc/fstab
/dev/sda1 /media/usb btrfs autodefrag,noatime,nodatacow,space_cache=v2 0 0
```

Clear v1 cache


```
btrfs check --clear-space-cache v1 /media/usb
```


Clear v2 cache


```
btrfs check --clear-space-cache v2 /media/usb
```


More parameters: 

Caching: https://wiki.tnonline.net/w/Btrfs/Space_Cache

Defragmentation:
https://linuxhint.com/defragment-btrfs-filesystem/#:~:text=The%20Btrfs%20filesystem%20allows%20you%20to%20compress%20files%20while%20you%20defragment%20them.&amp;text=The%20files%20in%20the%20%2Fdata%20directory%20should%20be%20defragmented%20and,a%20Btrfs%20subvolume%2C%20as%20well.</pre>
</div>
<div tags="" title="Bypass TPM windows 11 install">
<pre>Bypass TPM windows 11 install
If it doesn’t meet the hardware requirements, you’ll see a message saying ‘This PC can’t run Windows 11’
 Shift + F10 
Type ‘regedit’ and hit enter
‘HKEY_LOCAL_MACHINE\SYSTEM\Setup’ and hit enter
You should now see a ‘Setup’ key. Right-click it and choose New &gt; Key
You’ll now be prompted to give it a name. Choose ‘LabConfig’ and hit enter
Right-click the new key you’ve created and choose New &gt; DWORD (32-bit) value
Give it the name ‘BypassTPMCheck’ and set its data to 1
Follow the same process for ‘BypassRAMCheck’ and ‘BypassSecureBootCheck’, with the same value of 1
Close this window using the red X in the top-right corner
Close the Command Prompt window by typing ‘exit’ and hitting enter
You’ll now be back at the ‘This PC can’t run Windows 11’ message. Click the back button in the top-left corner
You should now be able to complete the installation as normal
Source: https://www.techadvisor.com/how-to/windows/windows-11-tpm-2-0-requirement-3806413/

Script for ISO download and removal of TPM:
https://gist.github.com/AveYo/c74dc774a8fb81a332b5d65613187b15</pre>
</div>
<div tags="" title="caching network drives on windows client (like primocache)">
<pre>''gpedit.msc /computer configuration/administrative templates/network/offline files/enable transparent caching/enable + set latency to 1ms''



On the client machine (while accessing fileshares): You might be interested in Windows Transparrent cache feature, which relies on Client Side Cache (CSC): https://www.youtube.com/watch?v=Q2UAMj28j7w

On the client machine (while accessing fileshares): You might want to prefill CSC using Offline Files feature and use them in Online Mode: https://www.youtube.com/watch?v=f3MrGRgcXzk

On the client machine (while accessing fileshares): In corporate environments, you might want to leverage CSC also by using Branchcache feature: https://www.youtube.com/watch?v=jgDN2c6FaaU

Of course, if you store CSC on Primocache-accelerated volume, it helps a little bit.

Of course, if the data needs to be fetched over the network and they are stored on server on Primocache-accelerated volume, it might help a bit as well.

Be aware that there are plenty of limitations, with no (easy) solution. (e.g. CSC does accelerate writes, if you (with offline files) end up in offline mode, you might also end up with the need to solve synchronization conflicts.)

Another product dealing with caching while accessing network reads (not only to UNC but also to Azure blobs) is CloudCache feature of FSLogix product. It's however a very special case as it's dealing with user profile redirection and assumes an exclusive access by the single user. 
Good discussion on CC is here. https://youtu.be/qDnzEIWuric?t=1288
Probably nothing that could help you but it would be nice in the future some FSLogix features/concepts available in PrimoCache. For example: Accelerating and improving resiliency of VHD file access. </pre>
</div>
<div tags="" title="Capture card 4k gaming">
<pre>source: https://www.reddit.com/r/NintendoSwitch/comments/8j42jd/guide_integrating_the_switch_into_your_pc_gaming/

Link to card: https://www.aliexpress.com/item/1005003604965409.html?spm=a2g0o.productlist.main.5.20c62803DxZm0m&amp;algo_pvid=a6fc3929-c4ab-4e2a-b6fe-e13b635f0ab1&amp;algo_exp_id=a6fc3929-c4ab-4e2a-b6fe-e13b635f0ab1-2&amp;pdp_npi=3%40dis%21ILS%2199.04%2140.66%21%21%21%21%21%402100baf316873589577245145d0774%2112000031468116457%21sea%21IL%210&amp;curPageLogUid=qnmmnGWpD0RP

!!Introduction

I'm primarily a PC gamer, but also own a Switch. I didn't like having to toggle the input of my primary monitor every time I switched between them and only being able to play sound from one device at a time, so I decided to do something about that. The endresult of that is being able to switch from playing a PC game to playing a Switch game without the controller ever leaving your hand and can be seen here: https://youtu.be/beU6Q9TQXvw

Since there seems to be some interest in how I set up the whole thing, I've decided to do a full guide on how to achieve this.

Edit: Yes, I know that this guide is overkill for most people, but it also has some unique benefits that you can't get by simply toggling the input source of your monitor.

!!Requirements

Pretty much any supported Windows OS.

A low latency capture card capable of capturing 1080p@60Hz footage. Personally I've chosen a Extremecap U3, so the guide will be based on that.

If choosing a USB3.0 capture card make sure your PC has a high-quality USB3.0 controller that is supported by the capture card.

A non-potato CPU as we won't be doing any hardware accelerated video decoding. The better your CPU the more image enhancements will be possible.

(Optional) A Switch Pro Controller and a USB cable with USB-C on one side. The Pro Controller comes with one, but you might want a second one for simplicity.

!Benefits and Drawbacks

!!Benefits

Instantaneous switching between your PC and Switch.

Being able to play Switch games windowed.

The audio of your PC and Switch will be able to play simultaneously through your speakers.

Control the volume of your Switch through the PC.

Customizing and improving the graphics through a variety of image enhancements.

A shortcut in Steam that will also notify your friends you're playing on your Switch.

Playing a PC game, then a Switch game, then a PC game again without ever having to let go of the Controller.

Access to the Steam overlay.

Capture high-quality Switch footage.

(Play your Switch games on a virtual monitor in VR. Why? Because you can.)

!!Drawbacks

Sadly, the capture card I've chosen only supports 4:2:2 chroma subsampling, so the color quality will be slightly degraded. Image enhancements can make up for it though.

Additional latency, but it's barely noticeable. While I haven't done any tests it feels comparable to a wired Steam Link if not better.

Your PC obviously needs to be running when playing on the Switch in docked mode.

!!Basic setup

On the hardware side you basically just connect the Switch dock to your capture card through HDMI and the capture card to the PC using a USB cable.
The software side gets a bit more complicated. At first you need the drivers for your capture card so download and install these. In the case of Avermedia capture cards you just need to install the pure driver and not the included Capture/Streaming suite, although it still could prove useful for testing purposes.
Since we won't use the included suite, we'll need a media player capable of streaming the content from a capture card. This is where MPC-BE comes in. I'll recommend the x64 edition. If you're already using MPC-BE you should download the a portable version of it so that the Switch-specific configurations we make won't affect regular playback.
After extracting MPC-BE into a folder, the first you should do first is renaming the .exe into something nicer like 'SwitchPlayer.exe'. Then immediately after that start the player, go into options and enable 'Store settings in the player folder', so that your portable installation is truly portable.
Setting up the capture card with MPC-BE can be a bit finnicky and quite probably specific to your capture card. Here's what I did:
Open MPC-BE and go into the settings where you'll find a group called 'Capture'. There you choose your capture device for video and audio. Additionally, for some reason I've had to set the country code to the one for my country (49), or else nothing would play. Then close the settings and open the capture settings with Ctrl+8. There make sure the video capture is set at 1920x1080@60Hz, video and audio is recorded and is uncompressed and V/A buffers are set to 0. Close the panel, select 'File' - 'Open Device' and you should see your Switch screen, provided the Switch is running.
With the basic setup done you could already use your Switch through your PC right now with most of the benefits, so every other step from here on out is optional.

Advanced MPC-BE and madVR configuration
But why stop here when so much more can be done? Let's start with installing madVR. It's a video renderer with excellent video quality that can be used with MPC-BE (or any other DirectShow player). Extract it, preferably into a subfolder of MPC-BE then launch 'install.bat' with Admin rights. Now madVR is registered into your system and can be used by MPC-BE.
Next start MPC-BE go to 'External Filters' and add 'madVR' and set it to 'Prefer'. If it doesn't even show up in the list of available Filters then something has gone wrong during installation. After that go into the 'Video' section of the options and select madVR as the Video Renderer. Now madVR should be used whenever something is being played. This can be checked by the trayicon that pops up whenever madVR is in use.

With everything installed, lets go over the settings of MPC-BE and madVR, starting with MPC-BE:

!!Player

Enable 'Limit window proportions on resize' so that you get now black borders when you resize the window.

!!Keys

Set a hotkey for 'Open Device' so you have a quick way of restarting the stream. Useful when setting up everything.

Set a hotkey for 'Exit' so that you can exit fast. This gets particularly important when you also want to use the Pro Controller on the PC.

!!Logo

Not really important, but you can set the internal logo to blank so that there's no icon when there's no input. Alternatively choose a external logo of your liking.

Fullscreen

Enable 'Launch files in fullscreen'. Pretty self-explanitory and highly recommended when planning to integrate it into Steam.

!!Audio

As the audio renderer I recommend the 'MPC Audio Renderer'. Just make sure that in 'Properties' the WASAPI mode is set to 'Shared' so that other sound can be played simultaneously.

Now onto madVR. Most of these changes are subjective and may need a strong CPU, so feel free to experiment. The fastest way to access madVR's settings is to start playback and then go to its trayicon and open the settings from there. Open all the folders on the left side and change the following things:

!!Artifact removal

Enable 'Reduce Banding Artifacts' and set it to high.

Enable 'Reduce Ringing Artifacts'.

!!Image enhancements

'Sharpen Edges' at 1.0

'Crispen Edges' disabled

'Thin Edges' at 1.0

'Enhance Detail at 1.0

'Luma sharpen' at 0.65

'Adaptive sharpen' at 0.5 with linear light

'Activate Anti-Bloating filter' at 100% strength

'Activate Anti-Ringing filter' enabled

!!Image downscaling

Cubic set to Bicubic150

!!Image upscaling

'Lanczos' set to 3 taps

!!General settings

'Use Direct3D 11 for presentation' and 'present a frame for every VSync' enabled.

Lower CPU and GPU queue size. Your playback might freak out when doing this. If so, restart your player and the issues should be gone. If not, increase these values again.

!!Windowed Mode + Exclusive Mode

Disable 'Present several frames in advance' with 1 backbuffer. Again your playback might freak out.

!!Smooth Motion

Set to 'Enable smooth motion frame rate conversion', 'always'. Your playback might freak out again.

!!Dithering

Set to 'Error Diffusion - Option 2'

As a final step you can remove all the controls (and even the window borders) from the player by pressing Ctrl+0 as often as necessary.

Now video quality should be much improved. One thing you should check however if your CPU can handle the stress and isn't dropping any frames. To check that open the stats (Ctrl+4) and watch if the dropped is increasing. If so, then you might need to scale back the image enhancements a bit. If not, then feel free to experiment further with these settings because, again, these are pretty subjective.

Using the Pro Controller on the PC
Also optional. Steam recently added support for the Switch Pro Controller (currently only available in the Steam Beta) which makes this a lot less painful. Simply open up Big Picture, go into the settings, then select Controller Settings and enable Switch Pro Controller support. Done.
As for actually connecting your controller you have two options, each with their own unique drawback:

Bluetooth: Pair the controller through Windows like any other device. However you'll have to redo the pairing process, both on PC and Switch, every time you move between them, which is kinda tedious.

USB: My preferred method. Simply connect the Pro Controller with a USB cable to the PC and you're done. Disconnect it again when you want to use it with your Switch. While you do have to put up with it not being wireless on your PC it makes switching painless and you can even go from playing a PC game to a Switch game and back without ever letting the controller out of your hands.

Adding a shortcut to Steam
Now onto easier things that only apply if you want Steam integration. First up launch MPC-BE, open your capture device stream, open the Playlist editor (Ctrl+7) and save the playlist as "switch.mpcpl" in the folder of your portable MPC-BE installation.
Then go over to Steam and add MPC-BE as a non-Steam shortcut. Open the properties of the newly created shortcut, rename it "Nintendo Switch" or whatever you like and, more importantly, click "Set Launch Options" and set it to "switch.mpcpl" without the quotes so that the playback automatically starts whenever the shortcut gets launched. Save these changes and when you start your shortcut the stream should automatically start.
You can also right-click the shortcut and set a custom image to give it a nice look in grid view and Big Picture mode. Here's a banner I made: https://imgur.com/a/9w6vlog
I'd also recommend setting up a custom Controller Configuration in Steam for your controller, where you bind a button on your controller to the hotkey you set up in MPC-BE for closing the application.

!FAQ
Why a USB 3.0 capture card and not a PCI capture card?

In my search for a low latency capture card the Extremecap U3 was the only one that supported 1080p@60Hz and explicitely advertised being able to play off of the capture card.

Why MPC-BE instead of VLC or [INSERT VIDEO PLAYER HERE]?

Outside of the superior configurability and ability to utilize madVR along VLC also isn't able to output audio due to lack of support for a specific codec.

Can you use tools like SVP to interpolate 30FPS games to 60FPS or even 144FPS?

I've tried to make it work, but no. While it technically does work, the input lag in turn goes through the roof. And with that I mean multiple seconds of input lag.

Could I use this guide for my Xbox, Playstation, SNES Mini or whatever?

Probably. I don't know how well HDCP protected content works and how much other consoles utilize it, so no guarantees.</pre>
</div>
<div tags="" title="Carbonyl/Browsh ASCII based text browser v3">
<pre>!!Carbonyl (chrome based, faster)

Allows browsing graphical internet from terminal

Based on chrome engine

Download: https://github.com/fathyb/carbonyl 

!!Browsh (firefox based, slower, more resources needed) supports tabs

https://www.brow.sh/

Github: https://github.com/browsh-org/browsh/releases


Example of installation on x96


```
https://github.com/browsh-org/browsh/releases/download/v1.8.2/browsh_1.8.2_linux_arm64.deb

dpkg -i browsh_1.8.2_linux_arm64.deb
```

Shortcuts:

Ctrl+L address bar
Ctrl+T new tab
Alt+U toggle desktop/mobile modes
Ctrl+Q exit


Docker (old, only for x84)

```
docker run -it browsh/browsh
```


General
Note that OSX users need to use the ⌘/Command key instead of CTRL.

F1 Opens the documentation
ARROW KEYS, PGUP, PGDN Scrolling
CTRL+q Exit app
CTRL+l Focus the URL bar
BACKSPACE Go back in history
CTRL+r Reload page
CTRL+t New tab
CTRL+w Close tab
CTRL+\ Cycle to next tab

Miscellaneous
ALT+SHIFT+p Takes a screenshot. The status bar will display the saved path
ALT+m Toggles monochrome mode. Useful for overcoming rendering problems on older terminals.
ALT+u Toggles the user agent between a desktop and a mobile device. Useful for smaller terminals that want to use a more suitable layout.

</pre>
</div>
<div tags="" title="casaos selfhost docker based alternative to yunohost inc. WLS2 systemd enablement v9">
<pre>CasaOS site: https://casaos.io/

Github: https://github.com/IceWhaleTech/CasaOS

Demo (casaos casaos): http://demo.casaos.io/#/

!!Pre-requisites

Make sure  docker engine is installed [[Docker install on debian]]

!!Installation:


```
curl -fsSL https://get.casaos.io | sudo bash
```

!!Manual update


```
curl -fsSL https://get.casaos.io/update | sudo bash

```

!!Manual uninstall


```
sudo casaos-uninstall
```
OR, if command not found

```
curl -fsSL https://get.icewhale.io/casaos-uninstall.sh | sudo bash
```


!!Reset username and password


```
ls /var/lib/casaos/db/user.db

sudo mv /var/lib/casaos/db/user.db /var/lib/casaos/db/user.db.backup

sudo systemctl restart casaos-user-service.service
```


!!Custom app stores:

Open the appstore and click Add Source button located on the right just above the apps list.

Paste the appstore link https://casaos-appstore.paodayag.dev/linuxserver.zip and then click Add to submit.

Paste the appstore link https://casaos-appstore.paodayag.dev/coolstore.zip and then click Add to submit.

Github page for custom appstore: https://github.com/WisdomSky/CasaOS-LinuxServer-AppStore

!!80 Port change

I want to move my CasaOS to port 81 so I can host a webpage on port 80.

I know the CasaOS login HTML source is:

/var/lib/casaos/www



And the Gateway config to direct the port and/or local file system is:

/etc/casaos/gateway.ini



What I would like to happen is to change the Gateway config file to port 81. I presume this would default port 80 back to the apache local file system at:

/var/www/html



If this will not work or there's no way to modify the routing for this new port 80. My backup idea would be to move all the current CasaOS login files/folders to a step further into the device:

/var/lib/casaos/www/casaos

and continue to utilize the .../www path for the base website. This wouldn't be as secure but it would be tougher to find.



Will either of these ideas break anything? Does anyone have any experience with this?



Base Linux distro: Debian 11



Update: As suggested, I moved my CasaOS port to 88 and decided to install Nginx alongside so I can host HTTP on port 80 for an independent website, risking no conflict with casaos's apache integration.


Source: https://www.reddit.com/r/CasaOS/comments/13jgo4c/casaos_port_change/



!To install in windows on WSL2: https://blog.casaos.io/blog/15.html

Officially CasaOS runs on Linux only, and there is no Windows version (and not likely to have one in near future). This means that to run CasaOS on Windows 10/11 you would need an Linux environment running on top of it. It can be a Linux virtual machine via Hyper-V, or it can be the WSL2 that comes with Windows.

This post is about how to run CasaOS under Windows with help of WSL2.

Install WSL2
If you already have WSL2 running, make sure you have the latest version. You would need to update WSL2 to latest version to have this support by running wsl.exe --update.
Install the Windows Subsystem for Linux (WSL) by following the instructions in the Microsoft documentation: https://docs.microsoft.com/en-us/windows/wsl/install-win10
Install a Linux distribution from the Microsoft Store. There are several options available, such as Ubuntu, Debian, and Kali Linux.
Enable systemd support
You would need to enable systemd support in WSL2, to keep the modularized CasaOS services running in the background. Add these lines to the /etc/wsl.conf of the Linux distribution you are running in WSL2:

[boot]
systemd=true
Afteward, you run wsl.exe --shutdown and wsl.exe again to restart WSL2.

See https://devblogs.microsoft.com/commandline/systemd-support-is-now-available-in-wsl/ for details.
Install Docker under WSL2
If you are already using Docker on Windows, most likely you are using Docker for Desktop which integrates with WSL2. However that means the Docker engine is running aside from WSL2, so you can run docker command under every WSL2 distribution as well as Windows command prompt. We would need to replace it with a locally running Docker engine.

See https://docs.docker.com/engine/install/debian for the actual steps of installing Docker engine locally, or or https://docs.docker.com/engine/install/ubuntu if you are running Ubuntu.

Install CasaOS
Once you have completed the prerequisites above, you can install CasaOS by running the following command:

curl -fsSL get.casaos.io/install.sh | sudo bash
If the installation is successful, you should be able to access the CasaOS login prompt by visiting http://localhost (port 80 by default) in your web browser.

Key Takeaways
Install the Windows Subsystem for Linux (WSL) and a Linux distribution on your Windows 10 system.
Enable systemd support in WSL2.
Install Docker on the Linux distribution in WSL2.
Install CasaOS by running the curl -fsSL get.casaos.io/install.sh | sudo bash command.
Caveats
Storage management is not possible in WSL2, as it is essentially a light virtual machine.
We hope this guide is helpful for users who are interested in running CasaOS on Windows 10 with WSL2. Let us know at https://discord.gg/Gx4BCEtHjx if you have any questions or if you need further assistance.</pre>
</div>
<div bag="default" created="20210417194439087" creator="sharicov" modified="20210417194545777" modifier="sharicov" revision="2" tags="manual" title="Certificate install (yunohost dyndns)" type="text/vnd.tiddlywiki">
<pre>Certificate install (yunohost dyndns): 


```
sudo yunohost domain cert-install sharicov.nohost.me --no-checks 
```


To release domain name ask to remove in the forum: 

https://forum.yunohost.org/t/nohost-domain-recovery-suppression-de-domaine-en-nohost-me-noho-st-et-ynh-fr/442/1347 </pre>
</div>
<div tags="" title="Change HyperV default VM location">
<pre>Run PowerShell as ''administrator''


```
Set-VMHost -VirtualMachinePath 'D:\VM\'
```

Source: https://winaero.com/change-hyper-v-virtual-machine-default-folder-in-windows-10/
</pre>
</div>
<div tags="" title="Chatbot selfhosted v5">
<pre>Option 1 Ollama.ai

https://www.youtube.com/watch?v=Wjrdr0NU4Sk

Video integration with homeassistant https://www.youtube.com/watch?v=XvbVePuP7NY

Ollama.ai https://ollama.com/download/linux

https://github.com/ollama/ollama/blob/main/docs/docker.md

Manual: https://community.hetzner.com/tutorials/ai-chatbot-with-ollama-and-open-webui

!!Ollama installation (docker)

Port 11434


```
docker run -d -v ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama
```


Check ollama is running:

http://192.168.1.12:11434/

In docker:

```
ollama pull llama3.2
ollama run llama3.2
```


Run requests in docker's console

Other models:

https://github.com/ollama/ollama?tab=readme-ov-file#model-library

!!WebUI installation (docker)

Port 8080

Note: Only opera browser is working correctly (edge and chrome - blank screen)

https://github.com/open-webui/open-webui?tab=readme-ov-file#installation-with-default-configuration

docker run -d -p 8080:8080 -e OLLAMA_BASE_URL=https://192.168.1.12:11434 -v open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main

Access WebUI

http://localhost:8080

In WebUI/UserName/settings/connections/ change to  http 

ex: http://192.168.1.12:11434

In WebUI/UserName/settings/models/ update models

Add models (ex. llama3)

Available models: https://ollama.com/library

Note: 7B models require 8GB free RAM

!!Stable diffusion

https://github.com/AUTOMATIC1111/stable-diffusion-webui

!Option 2 - Windows

https://jan.ai/

https://github.com/ollama/ollama/blob/main/docs/docker.md

!Option 3 - Jellybox

Also supports stable diffusion and midjourney models

Supports NVIDIA and AMD graphic acceleration

https://jellybox.com/</pre>
</div>
<div tags="" title="cheat engine url link">
<pre>Source: https://www.cheatengine.org/forum/viewtopic.php?t=614065&amp;sid=04c58ea14bdbb3210f099ca5b0ff2373

Download cheat engine (''skip all during install''): https://www.cheatengine.org/downloads.php


Enter url after installed: https://fearlessrevolution.com/ceshare/


Tables download forun: https://fearlessrevolution.com/viewforum.php?f=4&amp;sid=9fbc1e66af1fa2345606e72803d1e76b


Other cheats: https://flingtrainer.com

Flingtrainer archive: https://archive.flingtrainer.com/</pre>
</div>
<div tags="" title="Check compression ratio on BTRFS volume v2">
<pre>Install compsize


```
apt install btrfs-comsize
```

Run for specific BTRFS volume


```
compsize /media/4TB
```

Example output

```
Processed 484784 files, 889596 regular extents (889601 refs), 19237 inline.
Type       Perc     Disk Usage   Uncompressed Referenced
TOTAL       90%      326G         361G         361G
none       100%      324G         324G         324G
zstd         4%      1.5G          36G          36G
prealloc   100%      106M         106M         477M
```
</pre>
</div>
<div tags="" title="Check HW acceleration GPU acceleration in browser">
<pre>https://webglsamples.org/aquarium/aquarium.html</pre>
</div>
<div tags="" title="Check Intel GPU iGPU usage in Linux">
<pre>```
apt installintel-gpu-tools
intel_gpu_top

```



Source: https://www.reddit.com/r/jellyfin/comments/xznj23/how_to_make_sure_that_hardware_acceleration/</pre>
</div>
<div tags="" title="Check multiple iso images in current directory using 7zip">
<pre>Generated by copilot

Create script in working directory

```
nano check_iso_with_log.sh
```
Add text

```
#!/bin/bash

# Directory containing ISO files
ISO_DIR="."

# Log file
LOG_FILE="iso_check.log"

# Clear the log file if it exists
&gt; "$LOG_FILE"

# Loop through each ISO file in the directory
for iso in "$ISO_DIR"/*.iso; do
  if [ -f "$iso" ]; then
    echo "Testing $iso..." | tee -a "$LOG_FILE"
    # Test the ISO file using 7z
    if 7z t "$iso" &amp;&gt;&gt; "$LOG_FILE"; then
      echo "$iso is OK." | tee -a "$LOG_FILE"
    else
      echo "$iso is corrupted." | tee -a "$LOG_FILE"
    fi
  else
    echo "No ISO files found in the directory." | tee -a "$LOG_FILE"
  fi
done
```

Make executable

```
chmod +x check_iso_with_log.sh
```

Run


```
./check_iso_with_log.sh
```

Log will be generated in '' iso_check.log''

To filter out corrupted images only run


```
cat iso_check.log | grep -i corrupted
```
</pre>
</div>
<div bag="default" created="20210417195803868" creator="sharicov" modified="20210417195943231" modifier="sharicov" revision="3" tags="manual" title="Check NTFS disk in Linux" type="text/vnd.tiddlywiki">
<pre>!! Check ntfs(part of ntfsprogs): 


```
sudo ntfsfix /dev/sdXX
```

Find the right disk with:

```
sudo fdisk -l
```
</pre>
</div>
<div tags="" title="Check remote port opened with netcat">
<pre>Source: https://www.fosslinux.com/35730/5-ways-to-check-if-a-port-is-open-on-a-remote-linux-pc.htm


```
nc -zvw10 192.168.3.169 22
```


Connection to 192.168.3.169 22 port [tcp/ssh] ''succeeded''!


```
nc -zvw10 192.168.3.169 23
```

nc: connect to 192.168.3.169 port 23 (tcp) failed: Connection ''refused''</pre>
</div>
<div tags="" title="chrome browser in docker v9">
<pre>```
docker run -it --shm-size=512m -p 6901:6901 -e VNC_PW=''password'' kasmweb/chromium:1.16.0
```
 
For OpennnnWRT run with host  network


```
docker run -it --shm-size=512m --net=host -e VNC_PW=''password'' kasmweb/chromium:1.16.0
```


The container is now accessible via a browser : https://IP_OF_SERVER:6901

User : kasm_user
Password: ''password''

!!To delete docker after run add ''--rm'' parameter.

source: https://hub.docker.com/r/kasmweb/chromium


Access with ''https://'' otherwise won't connect.</pre>
</div>
<div tags="" title="ClamAV antivirus on arm64 v12">
<pre>!!Install

```
sudo su # or su -
apt install clamav clamav-daemon
```

!!Stop service

```
service clamav-freshclam stop
```

!!Create ''log file'' and fix permissions


```
touch /var/log/freshclam.log
chmod 600 /var/log/freshclam.log
chown clamav /var/log/freshclam.log
```



!!Create configuration files

```
clamconf -g freshclam.conf &gt; freshclam.conf

clamconf -g clamd.conf &gt; clamd.conf

clamconf -g clamav-milter.conf &gt; clamav-milter.conf

```


!!Edit configuration file


```
nano freshclam.conf
```

Mark with ''# ''''Example ''line at the beginning of the file


```
#Example
```


Unmark (remove hash # before following values)


```
DNSDatabaseInfo current.cvd.clamav.net
DatabaseMirror database.clamav.net
UpdateLogFile /var/log/freshclam.log
LogFileMaxSize 5M
LogRotate yes
```

!!Copy to configuration folder


```
cp freshclam.conf /etc/clamav/freshclam.conf
cp clamd.conf /etc/clamav/clamd.conf
cp clamav-milter.conf /etc/clamav/clamav-milter.conf
```


!!Update virus database manually to check it's working

```
freshclam
```

!!Start service

```
service clamav-freshclam start
```

!!Check service is running

```
service clamav-freshclam status
```

!!Check configuration


```
clamconf
```


!!Run the scan manually


```
clamscan
```

!!Start in freshclam in daemon mode


```
service clamav-freshclam stop
freshclam -d
```



To run DB update automatically every hour at 7 minutes past hour add to crontab


```
crontab -e
```

Add


```
7 * * * *   /usr/bin/freshclam --quiet

```

''Note:'' verify freshclam location 


```
locate freshclam 
```


source: https://stackoverflow.com/questions/65763994/libclamav-error-cli-loaddbdir-no-supported-database-files-found-in-var-lib


!!Scan specific folder

''-r'' for recursive scan in subfolders

''-i'' show only infected files

Example (scan ''/media/usb/shared'' folder and append log to ''clamav_infected.log'')

```
clamscan -ir /media/usb/shared &gt;&gt; /media/usb/clamav_infected.log

```

Source: https://docs.clamav.net/manual/Usage/Scanning.html

!Obsolete
!!Manual virus DB download:

Download from: 
https://database.clamav.net/daily.cvd

copy to ''/var/lib/clamav''

!!Log


```
cat /var/log/clamav/freshclam.log
```

!!Configuration


```
cat /etc/clamav/clamd.conf
```

Run these to generate example configs, if needed:


```
clamconf -g freshclam.conf &gt; /etc/clamav/freshclam.conf
clamconf -g clamd.conf &gt; /etc/clamav/clamd.conf
clamconf -g clamav-milter.conf &gt; /etc/clamav/clamav-milter.conf
```

Source: https://docs.clamav.net/manual/Usage/Configuration.html</pre>
</div>
<div tags="" title="clean edge data cache">
<pre>edge://settings/siteData &gt;&gt;

Remove all</pre>
</div>
<div tags="" title="clean teams cache v2">
<pre>Run box: 

```
%appdata%\Microsoft\Teams
```


Delete everything in the folder</pre>
</div>
<div tags="" title="Clean temporary cache in windows">
<pre>Edge: settings/site data/remove all (2GB)
Teams: %appdata%/Microsoft/Teams - select all and delete (800MB)</pre>
</div>
<div tags="" title="Clear video graphics memory buffer in windows">
<pre>Ctrl+Shift+Win+B</pre>
</div>
<div tags="" title="cloud commander - web based file access (filestash alternative) v5">
<pre>!!Installation

!!Docker


```
docker run -t --rm -v ~:/root -v /:/mnt/fs -w=/root -p 8001:8000 coderaiser/cloudcmd
```


!! Docker permanent installation

Name: cloudcmd

Image: coderaiser/cloudcmd:latest

Port 8001 8000

Command/override: '--root' '/root' '-a' '-u' 'UserName' '-p' 'PaSSWord'

Volumes/bind: /root /media

Restart policy: Unless stopped

!!Native (doesn't work)

```
npm i cloudcmd -g
```

!!Run


```
cloudcmd -u sharicov -p PaSSWord
```


''Default Port'': 8000 

!!Port may conflict with portainer

Change port with'' --port 8001 on native'' , or ''-p 6000:8000 on docker''

Home site and parameters: https://cloudcmd.io/
</pre>
</div>
<div tags="" title="cockpit web interface for Linux administration v2">
<pre>https://cockpit-project.org/running

https://www.tecmint.com/manage-kvm-virtual-machines-using-cockpit-web-console/

sudo pacman -Syu

sudo pacman -S cockpit cockpit-machines

sudo systemctl enable --now cockpit.socket

connect:

http://IP:9090

if there is an error:


```
network 'default' is not active
```


run in host linux:


```
sudo virsh net-start default
```
</pre>
</div>
<div tags="" title="Code generator AI engines">
<pre>!!DeepSeek
https://chat.deepseek.com

!!Google AI Studio
https://aistudio.google.com/</pre>
</div>
<div tags="" title="collabora docker without ssl">
<pre>docker run -t -d -p 9980:9980 -e "extra_params=--o:ssl.enable=false" collabora/code

Detailed instructions: 

https://www.collaboraoffice.com/code/quick-tryout-nextcloud-docker/

https://www.collaboraoffice.com/code/quick-tryout-owncloud-docker/</pre>
</div>
<div tags="" title="Compare two folders windows v2">
<pre>Source: https://www.howtogeek.com/how-to-compare-two-folders-on-windows-11-and-10/


```
robocopy "Folder1" "Folder2" /L /NJH /NJS /NP /NS /S

```


&lt;&lt;&lt;
L: This tells the command not to copy files but show the log of the files in the specified folder.

NJH: This flag excludes junctions, hard links, and reparse points from consideration. This way, the command focuses on the regular files in the specified folders.

NJS: This flag excludes symbolic links from the process.

NP: This flag excludes folder timestamps.

NS: This flag excludes file security information.

S: Include subfolders
&lt;&lt;&lt;

!!Compare Folders With WinMerge
If you want more details about the differences in your folders, Windows doesn't have a built-in tool to help you with that. However, you can use a free third-party app called WinMerge to compare multiple folders.

To use it, launch a web browser on your PC, head to the WinMerge site, and download and install the app. Make sure to download the app’s executable and not the ZIP version.

Open the WinMerge app, then select File &gt; Open in the Menu Bar or press Ctrl+O.

For the "1st File or Folder" field, select "Browse" and choose the first folder to compare.

For the "2nd File or Folder" field, click the "Browse" button and choose the second folder to compare.

n both fields, enable the "Read-Only" option. Click the "Folder: Filter" field and type *.* if it isn’t already there. This ensures the app compares all the files in both the specified folders. Then, at the bottom, click "Compare."

</pre>
</div>
<div tags="" title="Compress windows c: with lzx v3">
<pre>!Note:
Don't run from powershell as admin, can corrupt OS, better use CMD as admin

Compress:

```
compact /c /s /a /i /exe:lzx "D:\*"
```

Decompress:


```
compact /u /a /s /exe "D:\*"
```

Troubleshooting:

Run disk/system checks as admin (may require reboot):


```
chkdsk /f /r

sfc /scannow
```


Sources:

https://winaero.com/ntfs-lzx-compress-algorithm-windows-10/

https://forums.somethingawful.com/showthread.php?threadid=3735712&amp;userid=0&amp;perpage=40&amp;pagenumber=333
</pre>
</div>
<div tags="" title="Consoles bioses for emulators: ps nintendo sega xbox etc">
<pre>http://emulation.gametechwiki.com/index.php/Emulator_Files</pre>
</div>
<div tags="" title="convert ext (ext4) to btrfs for best performance v2">
<pre>btrfs-convert utility is part of btrfs-progs

Check where disk is connected to:


```
lsblk -f
```

Check disk for errors (''disk should be unmounted first''):

```
e2fsck -fvy /dev/sdX1
```

Run convert command in screen session(so it wont stop if terminal is closed):


```
screen
btrfs-convert /dev/sdX1
```

Check btrfs disk for errors (unmouted only):


```
 fsck.btrfs -Dy /dev/sdX1
```


Sources:

https://btrfs.readthedocs.io/en/latest/btrfs-convert.html

https://www.thegeekdiary.com/how-to-convert-ext-file-systems-to-btrfs/</pre>
</div>
<div tags="" title="Convert google keep to Evernote v1">
<pre>Source: https://gitlab.com/charlescanato/google-keep-to-evernote-converter

In linux install python3 , pip and parsedatetime


```
nala install python3 pip
```


```
pip install parsedatetime
```

Download keep-to-enex.py script from 

Extract takeout zip to ''keep ''directory (only export keep in google takeout).

run the script:


```
python3 keep-to-enex.py Keep/*.html
```


!!keep-to-enex.py Script:


```
#!/usr/bin/env python3

# originally created and posted by user dgc on
# https://discussion.evernote.com/topic/97201-how-to-transfer-all-the-notes-from-google-keep-to-evernote/
# Modified by user charlescanato https://gitlab.com/charlescanato/google-keep-to-evernote-converter
# Modified by gokhan mete erturk to enable bulk operation of html files without any parameters and
# solves the character set problems on Windows
# Modified by Leonard777 to add importing of image data.

# until now, Google Takeout for Keep does NOT export:
# - correct order of lists notes (non-checked first, checked last)
# - list items indentation

import argparse
import sys
import re
import parsedatetime as pdt
import time
import glob
import hashlib
import base64

cal = pdt.Calendar()

r1 = re.compile('&lt;li class="listitem checked"&gt;&lt;span class="bullet"&gt;&amp;#9745;&lt;/span&gt;.*?&lt;span class="text"&gt;(.*?)&lt;/span&gt;.*?&lt;/li&gt;')
r2 = re.compile('&lt;li class="listitem"&gt;&lt;span class="bullet"&gt;&amp;#9744;&lt;/span&gt;.*?&lt;span class="text"&gt;(.*?)&lt;/span&gt;.*?&lt;/li&gt;')
r3 = re.compile('&lt;span class="chip label"&gt;&lt;span class="label-name"&gt;([^&lt;]*)&lt;/span&gt;[^&lt;]*&lt;/span&gt;')
# Use non-greedy expressions to support multiple image tags for each note
r4 = re.compile('&lt;img alt="" src="data:(.*?);(.*?)\,(.*?)" /&gt;')
r5 = re.compile('&lt;div class="content"&gt;(.*)&lt;/div&gt;')


def readlineUntil(file, str):
        currLine = ""
        while not str in currLine:
                currLine = file.readline()
        return currLine

def readTagsFromChips(line):
        # line might still have chips
        if line.startswith('&lt;div class="chips"&gt;'):
                return line + '\n'

def readImagesFromAttachment(line):
        # Attachments need a name, so we will use the note title with a numeric suffix to make them unique.
        # Suffix number for multiple attachments of the same name
        attachmentNumber = 0
        result = ()
        m = r4.search(line)
        while m:
                h = hashlib.md5(base64.b64decode(m.group(3).encode("utf-8")))
                # Import all images at 1024px wide. Not sure if we can determine original size from binary data or not.
                newContent = '\n&lt;div&gt;&lt;en-media type="' + m.group(1) + '" width="1024" hash="' + h.hexdigest() + '" /&gt;&lt;/div&gt;'
                imageFormat = m.group(1).split('/')[1]
                newResource = '&lt;resource&gt;&lt;data encoding="' + m.group(2) + '"&gt;' + m.group(3) + '&lt;/data&gt;\n&lt;mime&gt;' + m.group(1) + '&lt;/mime&gt;&lt;resource-attributes&gt;&lt;file-name&gt;IMAGE_FILE_NAME_' + str(attachmentNumber) + '.' + imageFormat + '&lt;/file-name&gt;&lt;/resource-attributes&gt;&lt;/resource&gt;\n'
                result += (newContent, newResource)
                attachmentNumber += 1
                line = line[m.end():]
                m = r4.search(line)
        return result


def mungefile(fn):
        fp = open(fn, 'r', encoding="utf8")
        
        title = readlineUntil( fp, "&lt;title&gt;" ).strip()
        title = title.replace('&lt;title&gt;', '').replace('&lt;/title&gt;', '')

        readlineUntil( fp, "&lt;body&gt;" )
        t = fp.readline()
        tags = ''
        resources = ''
        if '"archived"' in t:
                tags = '&lt;tag&gt;archived&lt;/tag&gt;'
        fp.readline() #&lt;/div&gt; alone

        date = fp.readline().strip().replace('&lt;/div&gt;', '')
        dt, flat = cal.parse(date)
        iso = time.strftime('%Y%m%dT%H%M%SZ', time.gmtime(time.mktime(dt)))

        fp.readline()  # extra title

        content = fp.readline()
        m = r5.search(content)
        if m:
                content = m.group(1)
        content = content.replace( '&lt;ul class="list"&gt;', '' )

        for line in fp:
                line = line.strip()
                if line == '&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;':
                        break
                # Chips contain the tags as well as dynamic content previews.. but we care mostly about the tags
                elif line.startswith('&lt;div class="chips"&gt;'):
                        content += readTagsFromChips(line)
                # Attachments contains the image data
                elif line.startswith('&lt;div class="attachments"&gt;'):
                        result = readImagesFromAttachment(line)
                        i = 0
                        while i &lt; len(result):
                                if i+1 &lt; len(result):
                                        content += result[i]
                                        # Use the note title without spaces as the image file name
                                        currentResource = result[i+1].replace("IMAGE_FILE_NAME", title.replace(' ', ''))
                                        resources += currentResource
                                i += 2
                else:
                        content += line + '\n'

        content = content.replace('&lt;br&gt;', '&lt;br/&gt;')
        content = content.replace('\n', '\0')

        while True:
                m = r1.search(content)
                if not m:
                        break
                content = content[:m.start()] + '&lt;en-todo checked="true"/&gt;' + m.group(1) + '&lt;br/&gt;' + content[m.end():]

        while True:
                m = r2.search(content)
                if not m:
                        break
                content = content[:m.start()] + '&lt;en-todo checked="false"/&gt;' + m.group(1) + '&lt;br/&gt;' + content[m.end():]

        content = content.replace('\0', '\n')

        # remove list close (if it was a list)
        lastUl = content.rfind('&lt;/ul&gt;')
        if lastUl != -1:
                content = content[:lastUl] + content[lastUl+5:]

        m = r3.search(content)
        if m:
                content = content[:m.start()] + content[m.end():]
                tags = '&lt;tag&gt;' + m.group(1) + '&lt;/tag&gt;'

        content = re.sub(
                r'class="[^"]*"',
                '',
                content
        )

        fp.close()
                
        print ('''
  &lt;note&gt;
    &lt;title&gt;{title}&lt;/title&gt;
    &lt;content&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"&gt;&lt;en-note style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"&gt;{content}&lt;/en-note&gt;]]&gt;&lt;/content&gt;
    &lt;created&gt;{iso}&lt;/created&gt;
    &lt;updated&gt;{iso}&lt;/updated&gt;
    {tags}
    &lt;note-attributes&gt;
      &lt;latitude&gt;0&lt;/latitude&gt;
      &lt;longitude&gt;0&lt;/longitude&gt;
      &lt;source&gt;google-keep&lt;/source&gt;
      &lt;reminder-order&gt;0&lt;/reminder-order&gt;
    &lt;/note-attributes&gt;
    {resources}
  &lt;/note&gt;
'''.format(**locals()), file=fxt)

parser = argparse.ArgumentParser(description="Convert Google Keep notes from .html to .enex for Evernote")
parser.add_argument('-o', '--output', help="The output file to write into. If not specified output goes to stdout.", default="sys.stdout")
parser.add_argument("htmlSource", help="The HTML file or list of files that should be converted", default="*.html", nargs="*")
args = parser.parse_args()

if args.output == "sys.stdout":
        fxt = sys.stdout
else:
        fxt = open(args.output, "w", encoding="utf8")

print ('''&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export3.dtd"&gt;
&lt;en-export export-date="20180502T065115Z" application="Evernote/Windows" version="6.x"&gt;''', file=fxt)

if len(args.htmlSource) &gt; 1:
        print( args.htmlSource )
        for filename in args.htmlSource:
                print( filename )
                mungefile(filename)
else:
        mungefile(args.htmlSource[0])

print ('''&lt;/en-export&gt;''', file=fxt)
fxt.close()
```
</pre>
</div>
<div tags="" title="Convert google keep to text v3">
<pre>source: https://github.com/peterkaminski/KeepToText-peterkaminski

In google takeout export keep ''only''

https://takeout.google.com/settings/takeout

download python script as raw from github to the same directory where keep export zip is.

run(in Linux):

python3 keepToText.py takeout-20....zip

In keep windows client go to settings/preferences/import folders/add directory created by the script (text)/press dots on the right of the folder and select include subfolders.

!!keepToText.py Script:

```
from __future__ import print_function
import sys, glob, os, shutil, zipfile, time, codecs, re, argparse
from zipfile import ZipFile
   
class InvalidEncoding(Exception):
    def __init__(self, inner):
        Exception.__init__(self)
        self.inner = str(inner)
        
def msg(s):
    print(s, file=sys.stderr)
    sys.stderr.flush()

def htmlFileToText(inputPath, outputDir, tag, attrib, attribVal):
    basename = os.path.basename(inputPath).replace(".html", ".txt")
    outfname = os.path.join(outputDir, basename)
    try:
        with codecs.open(inputPath, "r", "utf-8") as inf, codecs.open(outfname, "w", outputEncoding) as outf:
            html = inf.read()
            parser = MyHTMLParser(outf, tag, attrib, attribVal)
            parser.feed(html)
    except UnicodeEncodeError as ex:
        msg("Skipping file " + inputPath + ": " + str(ex))
    except LookupError as ex:
        raise InvalidEncoding(ex)
        
def htmlDirToText(inputDir, outputDir, tag, attrib, attribVal):
    try_rmtree(outputDir)
    try_mkdir(outputDir)
    msg("Building text files in {0} ...".format(outputDir))
    
    for path in glob.glob(os.path.join(inputDir, "*.html")):
        htmlFileToText(path, outputDir, tag, attrib, attribVal)
        
    msg("Done.")
    
def tryUntilDone(action, check):
    ex = None
    i = 1
    while True:
        try:
            if check(): return
        except Exception as e:
            ex = e
                
        if i == 20: break
        
        try:
            action()
        except Exception as e:
            ex = e
            
        time.sleep(1)
        i += 1
        
    sys.exit(ex if ex != None else "Failed")          
        
def try_rmtree(dir):
    if os.path.isdir(dir): msg("Removing {0}".format(dir))

    def act(): shutil.rmtree(dir)        
    def check(): return not os.path.isdir(dir)        
    tryUntilDone(act, check)
        
def try_mkdir(dir):
    def act(): os.mkdir(dir)
    def check(): return os.path.isdir(dir)
    tryUntilDone(act, check)
    
htmlExt = re.compile(r"\.html$", re.I)
    
class Note:
    def __init__(self, heading, title, text, labels):

        self.ctime = parse(heading, parserinfo(dayfirst=True))
        if title == "":
            self.title = "Untitled " + self.ctime.isoformat()
        else:
            self.title = title
        self.text = text
        self.labels = labels

    def getWsSeparatedLabelString(self):
        "Return a WS-separated label string suited for import into CintaNotes"
        labels = []
        for label in self.labels:
            label = label.replace(" ", "_")
            label = label.replace(",", "")
            labels.append(label)
        return " ".join(labels)
        
def extractNoteFromHtmlFile(inputPath):
    """
    Extracts the note heading (containing the ctime), title, text, and labels
    from an exported Keep HTML file
    """

    with codecs.open(inputPath, 'r', 'utf-8') as myfile:
        data = myfile.read()
    
    tree = etree.HTML(data)

    heading = tree.xpath("//div[@class='heading']/text()")[0].strip()
    title = "\n".join(tree.xpath("//div[@class='title']/text()"))
    text = "\n".join(tree.xpath("//div[@class='content']/text()"))
    labels = tree.xpath("//div[@class='labels']/span[@class='label']/text()")

    return Note(heading, title, text, labels)
        
def processHtmlFiles(inputDir):
    "Iterates over Keep HTML files to extract relevant notes data"

    msg("Processing HTML files in {}".format(inputDir))
    
    notes = []
    for path in glob.glob(os.path.join(inputDir, "*.html")):
        try:
            note = extractNoteFromHtmlFile(path)
            notes.append(note)
        except IndexError: pass

    msg("Done.")

    return notes

def getHtmlDir(takeoutDir):
    "Returns first subdirectory beneath takeoutDir which contains .html files"
    dirs = [os.path.join(takeoutDir, s) for s in os.listdir(takeoutDir)]
    for dir in dirs:
        if not os.path.isdir(dir): continue
        htmlFiles = [f for f in os.listdir(dir) if htmlExt.search(f)]
        if len(htmlFiles) &gt; 0: return dir
        
def htmlDirToXml(zipFileDir, htmlDir):
    xmlFile = os.path.join(zipFileDir, "cintanotes.xml")
    notes = processHtmlFiles(inputDir=htmlDir)

    cintaXml = Template("""
        &lt;?xml version="1.0"?&gt;
        &lt;notebook version="4104" uid=""&gt;

        %for note in notes:
                &lt;note uid="" created="${note.ctime.strftime("%Y%m%dT%H%M%S")}"
                    source="" link="" remarks=""
                    tags="${note.getWsSeparatedLabelString()}"
                    section="0" plainText="1"&gt;
                    &lt;![CDATA[${note.text}]]&gt;
                &lt;/note&gt;
        %endfor

        &lt;/notebook&gt;
    """)

    msg("Generating CintaNotes XML file: " + xmlFile)

    with codecs.open(xmlFile, 'w', 'utf-8') as outfile:
        outfile.write(cintaXml.render(notes=notes))

def htmlDirToSn(zipFileDir, htmlDir):
    snFile = os.path.join(zipFileDir, "standardnotes-from-keep.txt")
    notes = processHtmlFiles(inputDir=htmlDir)

    snJSON = Template("""{
  &lt;%!
    import hashlib, json, uuid
  %&gt;
  "items": [
    %for note in notes:
    {
      "created_at": "${note.ctime.isoformat()}",
      "updated_at": "${note.ctime.isoformat()}",
      "uuid": "${str(uuid.UUID(hashlib.sha256((note.ctime.isoformat()+note.title+note.text).encode('utf-8')).hexdigest()[:32], version=5))}",
      "content_type": "Note",
      "content": {
        "title": ${json.dumps(note.title)},
        "text": ${json.dumps(note.text)},
        "references": []
      }
    }${'' if loop.last else ','}
    %endfor
  ]
}
""")

    msg("Generating Standard Notes TXT file: " + snFile)

    with codecs.open(snFile, 'w', 'utf-8') as outfile:
        outfile.write(snJSON.render(notes=notes))

def keepZipToOutput(zipFileName):
    zipFileDir = os.path.dirname(zipFileName)
    takeoutDir = os.path.join(zipFileDir, "Takeout")
    
    try_rmtree(takeoutDir)
    
    if os.path.isfile(zipFileName):
        msg("Extracting {0} ...".format(zipFileName))

    try:
        with ZipFile(zipFileName) as zipFile:
            zipFile.extractall(zipFileDir)
    except (IOError, zipfile.BadZipfile) as e:
        sys.exit(e)

    htmlDir = getHtmlDir(takeoutDir)
    if htmlDir is None: sys.exit("No Keep directory found")
    
    msg("Keep dir: " + htmlDir)

    if args.format == "Evernote":
        htmlDirToText(inputDir=htmlDir,
            outputDir=os.path.join(zipFileDir, "Text"),
            tag="div", attrib="class", attribVal="content")
            
    elif args.format == "CintaNotes":
        htmlDirToXml(zipFileDir=zipFileDir, htmlDir=htmlDir)
        
    elif args.format == "StandardNotes":
        htmlDirToSn(zipFileDir=zipFileDir, htmlDir=htmlDir)

def setOutputEncoding():
    global outputEncoding
    outputEncoding = args.encoding
    if outputEncoding is not None: return
    if args.system_encoding: outputEncoding = sys.stdin.encoding
    if outputEncoding is not None: return    
    outputEncoding = "utf-8"

def getArgs():
    parser = argparse.ArgumentParser()
    parser.add_argument("zipFile")
    parser.add_argument("--encoding",
        help="character encoding of output")
    parser.add_argument("--system-encoding", action="store_true",
        help="use the system encoding for the output")
    parser.add_argument("--format", choices=["Evernote", "CintaNotes", "StandardNotes"],
        default='Evernote', help="Output Format")
    global args
    args = parser.parse_args()    

def doImports():
    if args.format == "Evernote":
        global HTMLParser
        try:
            from HTMLParser import HTMLParser
        except ImportError:
            from html.parser import HTMLParser
        
        global MyHTMLParser
        class MyHTMLParser(HTMLParser):
            def attrib_matches(self, tag, attrs):
                return [pair for pair in attrs if
                        pair[0] == self.attrib and pair[1] == self.attribVal]    

            def handle_starttag(self, tag, attrs):
                if tag == self.tag:
                    if self.attrib_matches(tag, attrs) and not self.nesting:
                        self.nesting = 1
                    elif self.nesting:
                        self.nesting += 1
                elif tag == "br" and self.nesting:
                    self.outf.write(os.linesep)

            def handle_endtag(self, tag):
                if tag == self.tag and self.nesting:
                    self.nesting -= 1
                    
            def handle_data(self, data):
                if self.nesting:
                    self.outf.write(data.strip())
            
            def __init__(self, outf, tag, attrib, attribVal):
                HTMLParser.__init__(self)
                self.outf = outf
                self.tag = tag
                self.attrib = attrib
                self.attribVal = attribVal
                self.nesting = 0
                
    elif args.format == "CintaNotes":
        global etree
        from lxml import etree
        global Template
        from mako.template import Template
        global parse, parserinfo
        from dateutil.parser import parse, parserinfo

    elif args.format == "StandardNotes":
        global etree
        from lxml import etree
        global Template
        from mako.template import Template
        global parse, parserinfo
        from dateutil.parser import parse, parserinfo

def main():
    getArgs()
    doImports()
    setOutputEncoding()
        
    msg("Output encoding: " + outputEncoding)
    
    try:
        keepZipToOutput(args.zipFile)
    except Exception as ex:
        sys.exit(ex)
    except WindowsError as ex:
        sys.exit(ex)
    except InvalidEncoding as ex:
        sys.exit(ex.inner)

if __name__ == "__main__":
    main()

```
</pre>
</div>
<div tags="" title="convert vmdk to vhd for ventoy linux boot v2">
<pre>source: https://cloudbase.it/qemu-img-windows/

Download tool: https://cloudbase.it/downloads/qemu-img-win-x64-2_3_0.zip

convert vmware vmdk to fixed vhd to boot from ventoy

```
qemu-img.exe convert d:\VM\Ubuntu\Ubuntu.vmdk -O vpc -o subformat=fixed d:\ubuntu.vtoy
```

ventoy boot info:

https://www.ventoy.net/en/plugin_vtoyboot.html

download ventoy linux boot plugin to run in guest: https://github.com/ventoy/vtoyboot/releases
</pre>
</div>
<div tags="" title="cp progress in Linux v2">
<pre>!!Use rsync instead of cp

```
rsync  -avrth --progress source-file destination-file
```
</pre>
</div>
<div tags="" title="CPU history Windows process monitor to find miners v2">
<pre>Source: https://superuser.com/questions/609529/history-of-cpu-usage-for-all-processes

The tool to use is Process Monitor: http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx''''

Start Process Monitor

Set a filter if required, otherwise uncheck all defaults and click OK to trace all
Enter menu ''Options &gt; Profiling Events
Click "Generate thread prof‌iling events"'', choose the ''frequency'', and click ''OK''

To see the collected historical data at any time, enter menu ''Tools &gt; Process Activity Summary''...
Sort the list as required; double-click any one process to see its history.
Be prepared for a very large log file.

enter image description here

For a nice description of the above with screenshots see this answer. https://superuser.com/questions/453909/log-cpu-by-process-over-time/453916#453916

To reduce CPU load from process monitor disable in tool bar: Capture/Registry/File/Network monitors/Show profile events-off</pre>
</div>
<div tags="" title="crdroid 10 updates android 14">
<pre>CrDroid daily build (android 14 beta) https://sourceforge.net/projects/crdroid/files/miatoll/10.x/
Google Store (android 14): https://sourceforge.net/projects/nikgapps/files/Releases/NikGapps-U/

Full nikgapps for android auto

pda discussion https://4pda.to/forum/index.php?showtopic=992654&amp;st=9980

Changelogs:

https://crdroid.net/changelog/v10.x/beryllium_changelog.txt

https://crdroid.net/changelog/v10.x/miatoll_changelog.txt</pre>
</div>
<div tags="" title="crdroid microphone fix">
<pre>Disable google app microphone permission and reboot..

settings/apps/google/permissions

source: https://forum.xda-developers.com/t/fixed-microphone-issue-on-custom-rom.4054447/</pre>
</div>
<div tags="" title="crdroid on xiaomi note 9s v21">
<pre>https://sourceforge.net/projects/crdroid/files/miatoll/

0. On phone (MIUI) add account in Settings/Developer Options/Mi unlock status

Troubleshooting: if cannot connect, log out from mi account on the phone (settings/mi account) then login from Mi unlock status as above.

1. unlock phone's bootloader using Batch_unlocker_6.5.810.9 (authorizing once for many entrances) add your account in settings/developer option/mi unlock status, reboot in fastboot mode (vol down+power) and install unlock drivers 

if getting error "Couldn't verify" sign out mi account from accounts and sign in again)

2. install windows drivers, fastboot and ADB (from 4pda.ru) https://4pda.to/forum/dl/post/8137522/ADB+driver+v1.17+lite.zip (source: https://wiki.lineageos.org/adb_fastboot_guide)

3. Get fastboot https://dl.google.com/android/repository/platform-tools-latest-windows.zip

4. Press volume down + power to enter fastboot on phone and connect it to PC with USB cable.

5. Check boot unlocked:
On PC run:


```
fastboot devices 
fastboot oem device-info
fastboot reboot
```
Unlocked should be unlocked ''true''

6. Download Orangefox for miatoll 
 https://orangefox.download/device/miatoll

Latest working version ''OrangeFox-miatoll-stable@R11.1_4_A12_FBEv2.zip''

7. Start OrangeFox without installing it

```
fastboot boot OrangeFox-miatoll-stable@R11.1_4_A12_FBEv2.img
```

8. In OrangeFox format data and wipe dalvik/cache/data before proceeding with flashing ROM (otherwise sum functions may not work - calls, sound etc).

9. Choose ADB sideload on the phone in OrangeFox (bottom right corner menu)

10, Download adb andstart sideload on PC:

''Adb'' inclueded in ''scrcpy'' download here: https://github.com/Genymobile/scrcpy/releases

```
adb sideload crDroidAndroid-14.0-20240226-miatoll-v10.2.zip
```

Sideload'' Full Nik Gapps'' to get android 14 play store and android auto


```
NikGapps-full-arm64-14-20240307-signed.zip
```


11. Format data in OrangeFox


10, To flash OrangeFox permanently put phone into fastboot mode (volume down+power)

run on PC:


```
fastboot flash recovery recovery_OrangeFox-miatoll-stable@R11.1_4_A12_FBEv2.img

fastboot reboot recovery
```


OrangeFox recovery: https://orangefox.download/device/miatoll

OrangeFox forum: https://forum.xda-developers.com/t/official-recovery-orangefox-recovery-project-r11-1.3845421/page-11

PixelExperience Plus (android 13) https://download.pixelexperience.org/miatoll

CrDroid v10.2 beta (android 14) latest working
version crDroidAndroid-14.0-''20240226''-miatoll-v10.2.zip

https://sourceforge.net/projects/crdroid/files/miatoll/10.x/crDroidAndroid-14.0-20240226-miatoll-v10.2.zip/download

All 10.x versions: https://sourceforge.net/projects/crdroid/files/miatoll/10.x/

crDroid v9.0 works (android 13): https://sourceforge.net/projects/crdroid/files/miatoll/9.x/crDroidAndroid-13.0-20221111-miatoll-v9.0.zip/download

4pda thread on Note9S https://4pda.to/forum/index.php?showtopic=992654

!!Troubleshoot decrypted partition


&lt;&lt;&lt;
 restart into recovery (power+vol_up)

-go to manage partitions, format data partition.
-restart to recovery
-full wipe (data, dalvik, cache system)
-flash rom (can be the same) after a format and full wipe should work well i had lineage and was great.
-restart to recovery
- flash gapps and magisk if you like.
-restart into system.
&lt;&lt;&lt;

Source: https://forum.xda-developers.com/t/unable-to-decrypt-data.3968658/

!!Format recovery 

FAILED (Write to device failed (Invalid argument))


```
fastboot format userdata

```


!!Fix ryzen fastboot

In powershell (administrator)


```
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "osvc" /t REG_BINARY /d "0000" /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "SkipContainerIdQuery" /t REG_BINARY /d "01000000" /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "SkipBOSDescriptorQuery" /t REG_BINARY /d "01000000" /f
```


!!Sources

CrDroid daily build (android 14 beta) https://sourceforge.net/projects/crdroid/files/miatoll/10.x/
Google Store (android 14): https://sourceforge.net/projects/nikgapps/files/Releases/NikGapps-U/

!!Nick Gapps android 14

https://sourceforge.net/projects/nikgapps/files/Releases/NikGapps-U/

Full nikgapps for android auto

pda discussion https://4pda.to/forum/index.php?showtopic=992654&amp;st=9980</pre>
</div>
<div tags="" title="Create efi partition for WinNTSetup v3">
<pre>In ''disk manager ''shrink partition to leave at least ''100MB'' space at the end.

Run ''cmd ''as ''administrator''

Look for 100MB partition


```
DISKPART
LIST disk
```

Example disk "1" here X to avoid destroying wrong disk - please look carefully for the right one


```
SELECT DISK "X"
CREATE PARTITION EFI
```

Troubleshooting:

See if there is asteric in the GPT column, if not disk should be erased and converted to GPT in order to create EFI partition

''NOTE'' : careful, clean command ''ERASES THE SELECTED DISK!!''

Double check asterics is in the write line (correct disk selected)!!!

```
clean 

convert gpt

CREATE PARTITION EFI
```

Format EFI partition using FAT32, otherwise there will be following error:


```
Installation drive invalid! 
Please choose a NTFS drive
```
</pre>
</div>
<div tags="" title="create ext4 partition">
<pre>!! Create partition

```
parted /dev/vdb mklabel gpt
parted /dev/vdb mkpart primary ext4 0% 100%
parted /dev/vdb name 1 my-data
blkid /dev/vdb1
mkfs.ext4 /dev/vdb1
```



!! Auto mount on boot

```
nano /etc/fstab
```


for ext4


```
PARTUUID="XXXXX" /media/usb1 ext4 defaults,noatime 0 1
```


for ntfs 


```
PARTUUID="XXXXX" /media/usb2 ntfs-3g  nofail,uid=1000,gid=1000  0  0
```

Check fstab:

```
mount -a 
```

Verify mounted disks

```
mount | grep sd
```
</pre>
</div>
<div tags="" title="create torrent and seed it in Linux terminal v2">
<pre>!!Update system

```
apt update
apt upgrade
```
!!Install cli version of transmission


```
apt install transmission-cli
```
!!Create torrent of file (or directory)

```
transmission-create /media/usb/Downloads/Useful_Progs_v59.iso -t udp://tracker.openbittorrent.com:6969
```


!!Seed:


```
transmission-remote -a  Useful_Progs_v59.iso.torrent
```

!!Or 

Use aria2ng interface to "download" it actually seeding the file, since it's already there


Sources:

http://openbittorrent.com/

https://linuxconfig.org/how-to-create-and-share-torrent-on-linux</pre>
</div>
<div tags="" title="crontab backup and restore">
<pre>!!Backup

```
crontab -l &gt; crontab-backup.txt
```

!!Restore


```
crontab -l &gt; crontab-backup.txt
```

!!Destroy crontab


```
###crontab -r
```

</pre>
</div>
<div tags="" title="crontab periodical commands x96 backup v15">
<pre>!!Before setting crontab, use ''date ''command to check current system time


```
crontab -e
```

Explanations:

*/30 to run command every half an hour

0 4 * * * to run daily at 4:00am

```
*/30 * * * * sh /root/sync.sh &gt;/dev/null 2&lt;&amp;1
0 4 * * * rclone copy /media/2TB/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G
```

crontab calculator: https://crontab.guru/every-day-8am

Backup 12.9.24 

Change log:

#Replaced ''/media/usb ''and ''/media/2TB ''mount points with ''/media/x96'' after start using ''mergefs''

#No more backing up ''InstantImages '' to n5105 (unraid), syncronization is done from unraid side instead

#Stop backup office365 onedrive

```
#7 * * * *   /usr/bin/freshclam --quiet

*/30 * * * * rclone copy --tpslimit 10 /media/x96/shared mailru:/Tools/shared

5 * * * * rclone copy --tpslimit 10 Yandex:/Documents mailru:/Documents

10 * * * * rclone copy --tpslimit 10 Yandex:/Tools mailru:/Tools

15 * * * * rclone copy  Yandex: /media/x96/Yandex.Disk.Backup/

30 * * * * rclone copy --tpslimit 10 mailru:/Tools /media/x96/Tools

30 2 * * * docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "/media/x96/InstantUpload/immich_`date +\%Y\%m\%d\%H\%M\%S`.dump.sql.gz"

# do not enable # 0 3 * * * rsync -avh /media/2TB/InstantUpload/* /media/n5105/16TB/InstantUpload #Script running on unraid

#absolete keep for office365 backup# 0 3 * * * rclone copy HPE:/ Yandex:/Archive/HPE/  --max-size 5G

0 4 * * * rclone copy --tpslimit 10 /media/x96/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G

0 2 * * * rclone copy --tpslimit 10 Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

```



Backup 16.7.24


```
#7 * * * *   /usr/bin/freshclam --quiet

*/30 * * * * rclone copy --tpslimit 10 /media/usb/shared mailru:/Tools/shared

5 * * * * rclone copy --tpslimit 10 Yandex:/Documents mailru:/Documents

10 * * * * rclone copy --tpslimit 10 Yandex:/Tools mailru:/Tools

15 * * * * rclone copy  Yandex: /media/usb/Yandex.Disk.Backup/

30 * * * * rclone copy --tpslimit 10 mailru:/Tools /media/2TB/Tools

30 2 * * * docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "/media/2TB/InstantUpload/immich_`date +\%Y\%m\%d\%H\%M\%S`.dump.sql.gz"

#0 3 * * * rsync -avh /media/2TB/InstantUpload/* /media/n5105/16TB/InstantUpload #Script running on unraid

0 3 * * * rclone copy HPE:/ Yandex:/Archive/HPE/ --max-size 5G

0 4 * * * rclone copy --tpslimit 10 /media/2TB/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G

#0 2 * * * rclone copy --tpslimit 10 Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

```


Backup 1.4.24


```
7 * * * *   /usr/bin/freshclam --quiet

*/30 * * * * rclone copy --tpslimit 10 /media/usb/shared mailru:/Tools/shared

5 * * * * rclone copy --tpslimit 10 Yandex:/Documents mailru:/Documents

10 * * * * rclone copy --tpslimit 10 Yandex:/Tools mailru:/Tools

15 * * * * rclone copy  Yandex: /media/usb/Yandex.Disk.Backup/

30 * * * * rclone copy --tpslimit 10 mailru:/Tools /media/2TB/Tools

30 2 * * * docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "/media/2TB/InstantUpload/immich_`date +\%&gt;

0 3 * * * rsync -avh /media/2TB/InstantUpload/* /media/n5105/16TB/InstantUpload

0 4 * * * rclone copy --tpslimit 10 /media/2TB/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G

0 2 * * * rclone copy --tpslimit 10 Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads
```
</pre>
</div>
<div tags="" title="Crystal dock - cairo nad OSX dock alternative">
<pre>https://github.com/dangvd/crystal-dock


```
wget https://github.com/dangvd/crystal-dock/releases/download/v2.11/crystal-dock-2.11-1.x86_64.rpm

sudo dnf install crystal-dock-2.11-1.x86_64.rpm
```
</pre>
</div>
<div tags="" title="curl samba and other options">
<pre>Source: https://curl.se/docs/tutorial.html

curl tutorial
Simple Usage
Get the main page from a web-server:

curl https://www.example.com/
Get a README file from an FTP server:

curl ftp://ftp.example.com/README
Get a webpage from a server using port 8000:

curl http://www.example.com:8000/
Get a directory listing of an FTP site:

curl ftp://ftp.example.com/
Get the all terms matching curl from a dictionary:

curl dict://dict.example.com/m:curl
Get the definition of curl from a dictionary:

curl dict://dict.example.com/d:curl
Fetch two documents at once:

curl ftp://ftp.example.com/ http://www.example.com:8000/
Get a file off an FTPS server:

curl ftps://files.are.example.com/secrets.txt
or use the more appropriate FTPS way to get the same file:

curl --ftp-ssl ftp://files.are.example.com/secrets.txt
Get a file from an SSH server using SFTP:

curl -u username sftp://example.com/etc/issue
Get a file from an SSH server using SCP using a private key (not password-protected) to authenticate:

curl -u username: --key ~/.ssh/id_rsa scp://example.com/~/file.txt
Get a file from an SSH server using SCP using a private key (password-protected) to authenticate:

curl -u username: --key ~/.ssh/id_rsa --pass private_key_password
scp://example.com/~/file.txt
Get the main page from an IPv6 web server:

curl "http://[2001:1890:1112:1::20]/"
Get a file from an SMB server:

curl -u "domain\username:passwd" smb://server.example.com/share/file.txt
Download to a File
Get a webpage and store in a local file with a specific name:

curl -o thatpage.html http://www.example.com/
Get a webpage and store in a local file, make the local file get the name of the remote document (if no filename part is specified in the URL, this fails):

curl -O http://www.example.com/index.html
Fetch two files and store them with their remote names:

curl -O www.haxx.se/index.html -O curl.se/download.html
Using Passwords
FTP
To ftp files using name and password, include them in the URL like:

curl ftp://name:passwd@ftp.server.example:port/full/path/to/file
or specify them with the -u flag like

curl -u name:passwd ftp://ftp.server.example:port/full/path/to/file
FTPS
It is just like for FTP, but you may also want to specify and use SSL-specific options for certificates etc.

Note that using FTPS:// as prefix is the implicit way as described in the standards while the recommended explicit way is done by using FTP:// and the --ssl-reqd option.

SFTP / SCP
This is similar to FTP, but you can use the --key option to specify a private key to use instead of a password. Note that the private key may itself be protected by a password that is unrelated to the login password of the remote system; this password is specified using the --pass option. Typically, curl automatically extracts the public key from the private key file, but in cases where curl does not have the proper library support, a matching public key file must be specified using the --pubkey option.

HTTP
Curl also supports user and password in HTTP URLs, thus you can pick a file like:

curl http://name:passwd@http.server.example/full/path/to/file
or specify user and password separately like in

curl -u name:passwd http://http.server.example/full/path/to/file
HTTP offers many different methods of authentication and curl supports several: Basic, Digest, NTLM and Negotiate (SPNEGO). Without telling which method to use, curl defaults to Basic. You can also ask curl to pick the most secure ones out of the ones that the server accepts for the given URL, by using --anyauth.

Note! According to the URL specification, HTTP URLs can not contain a user and password, so that style does not work when using curl via a proxy, even though curl allows it at other times. When using a proxy, you must use the -u style for user and password.

HTTPS
Probably most commonly used with private certificates, as explained below.

Proxy
curl supports both HTTP and SOCKS proxy servers, with optional authentication. It does not have special support for FTP proxy servers since there are no standards for those, but it can still be made to work with many of them. You can also use both HTTP and SOCKS proxies to transfer files to and from FTP servers.

Get an ftp file using an HTTP proxy named my-proxy that uses port 888:

curl -x my-proxy:888 ftp://ftp.example.com/README
Get a file from an HTTP server that requires user and password, using the same proxy as above:

curl -u user:passwd -x my-proxy:888 http://www.example.com/
Some proxies require special authentication. Specify by using -U as above:

curl -U user:passwd -x my-proxy:888 http://www.example.com/
A comma-separated list of hosts and domains which do not use the proxy can be specified as:

curl --noproxy example.com -x my-proxy:888 http://www.example.com/
If the proxy is specified with --proxy1.0 instead of --proxy or -x, then curl uses HTTP/1.0 instead of HTTP/1.1 for any CONNECT attempts.

curl also supports SOCKS4 and SOCKS5 proxies with --socks4 and --socks5.

See also the environment variables Curl supports that offer further proxy control.

Most FTP proxy servers are set up to appear as a normal FTP server from the client's perspective, with special commands to select the remote FTP server. curl supports the -u, -Q and --ftp-account options that can be used to set up transfers through many FTP proxies. For example, a file can be uploaded to a remote FTP server using a Blue Coat FTP proxy with the options:

curl -u "username@ftp.server.example Proxy-Username:Remote-Pass"
  --ftp-account Proxy-Password --upload-file local-file
  ftp://my-ftp.proxy.example:21/remote/upload/path/
See the manual for your FTP proxy to determine the form it expects to set up transfers, and curl's -v option to see exactly what curl is sending.

Piping
Get a key file and add it with apt-key (when on a system that uses apt for package management):

curl -L https://apt.example.org/llvm-snapshot.gpg.key | sudo apt-key add -
The '|' pipes the output to STDIN. - tells apt-key that the key file should be read from STDIN.

Ranges
HTTP 1.1 introduced byte-ranges. Using this, a client can request to get only one or more sub-parts of a specified document. Curl supports this with the -r flag.

Get the first 100 bytes of a document:

curl -r 0-99 http://www.example.com/
Get the last 500 bytes of a document:

curl -r -500 http://www.example.com/
Curl also supports simple ranges for FTP files as well. Then you can only specify start and stop position.

Get the first 100 bytes of a document using FTP:

curl -r 0-99 ftp://www.example.com/README
Uploading
FTP / FTPS / SFTP / SCP
Upload all data on stdin to a specified server:

curl -T - ftp://ftp.example.com/myfile
Upload data from a specified file, login with user and password:

curl -T uploadfile -u user:passwd ftp://ftp.example.com/myfile
Upload a local file to the remote site, and use the local filename at the remote site too:

curl -T uploadfile -u user:passwd ftp://ftp.example.com/
Upload a local file to get appended to the remote file:

curl -T localfile -a ftp://ftp.example.com/remotefile
Curl also supports ftp upload through a proxy, but only if the proxy is configured to allow that kind of tunneling. If it does, you can run curl in a fashion similar to:

curl --proxytunnel -x proxy:port -T localfile ftp.example.com
SMB / SMBS
curl -T file.txt -u "domain\username:passwd"
  smb://server.example.com/share/
HTTP
Upload all data on stdin to a specified HTTP site:

curl -T - http://www.example.com/myfile
Note that the HTTP server must have been configured to accept PUT before this can be done successfully.

For other ways to do HTTP data upload, see the POST section below.

Verbose / Debug
If curl fails where it is not supposed to, if the servers do not let you in, if you cannot understand the responses: use the -v flag to get verbose fetching. Curl outputs lots of info and what it sends and receives in order to let the user see all client-server interaction (but it does not show you the actual data).

curl -v ftp://ftp.example.com/
To get even more details and information on what curl does, try using the --trace or --trace-ascii options with a given filename to log to, like this:

curl --trace trace.txt www.haxx.se
Detailed Information
Different protocols provide different ways of getting detailed information about specific files/documents. To get curl to show detailed information about a single file, you should use -I/--head option. It displays all available info on a single file for HTTP and FTP. The HTTP information is a lot more extensive.

For HTTP, you can get the header information (the same as -I would show) shown before the data by using -i/--include. Curl understands the -D/--dump-header option when getting files from both FTP and HTTP, and it then stores the headers in the specified file.

Store the HTTP headers in a separate file (headers.txt in the example):

  curl --dump-header headers.txt curl.se
Note that headers stored in a separate file can be useful at a later time if you want curl to use cookies sent by the server. More about that in the cookies section.

POST (HTTP)
It is easy to post data using curl. This is done using the -d &lt;data&gt; option. The post data must be urlencoded.

Post a simple name and phone guestbook.

curl -d "name=Rafael%20Sagula&amp;phone=3320780" http://www.example.com/guest.cgi
Or automatically URL encode the data.

curl --data-urlencode "name=Rafael Sagula&amp;phone=3320780" http://www.example.com/guest.cgi
How to post a form with curl, lesson #1:

Dig out all the &lt;input&gt; tags in the form that you want to fill in.

If there is a normal post, you use -d to post. -d takes a full post string, which is in the format

&lt;variable1&gt;=&lt;data1&gt;&amp;&lt;variable2&gt;=&lt;data2&gt;&amp;...
The variable names are the names set with "name=" in the &lt;input&gt; tags, and the data is the contents you want to fill in for the inputs. The data must be properly URL encoded. That means you replace space with + and that you replace weird letters with %XX where XX is the hexadecimal representation of the letter's ASCII code.

Example:

(say if http://example.com had the following html)

&lt;form action="post.cgi" method="post"&gt;
  &lt;input name=user size=10&gt;
  &lt;input name=pass type=password size=10&gt;
  &lt;input name=id type=hidden value="blablabla"&gt;
  &lt;input name=ding value="submit"&gt;
&lt;/form&gt;
We want to enter user foobar with password 12345.

To post to this, you would enter a curl command line like:

curl -d "user=foobar&amp;pass=12345&amp;id=blablabla&amp;ding=submit" http://example.com/post.cgi
While -d uses the application/x-www-form-urlencoded mime-type, generally understood by CGI's and similar, curl also supports the more capable multipart/form-data type. This latter type supports things like file upload.

-F accepts parameters like -F "name=contents". If you want the contents to be read from a file, use @filename as contents. When specifying a file, you can also specify the file content type by appending ;type=&lt;mime type&gt; to the filename. You can also post the contents of several files in one field. For example, the field name coolfiles is used to send three files, with different content types using the following syntax:

curl -F "coolfiles=@fil1.gif;type=image/gif,fil2.txt,fil3.html"
  http://www.example.com/postit.cgi
If the content-type is not specified, curl tries to guess from the file extension (it only knows a few), or use the previously specified type (from an earlier file if several files are specified in a list) or else it uses the default type application/octet-stream.

Emulate a fill-in form with -F. Let's say you fill in three fields in a form. One field is a filename which to post, one field is your name and one field is a file description. We want to post the file we have written named cooltext.txt. To let curl do the posting of this data instead of your favorite browser, you have to read the HTML source of the form page and find the names of the input fields. In our example, the input field names are file, yourname and filedescription.

curl -F "file=@cooltext.txt" -F "yourname=Daniel"
  -F "filedescription=Cool text file with cool text inside"
  http://www.example.com/postit.cgi
To send two files in one post you can do it in two ways:

Send multiple files in a single field with a single field name:

curl -F "pictures=@dog.gif,cat.gif" $URL
Send two fields with two field names

curl -F "docpicture=@dog.gif" -F "catpicture=@cat.gif" $URL
To send a field value literally without interpreting a leading @ or &lt;, or an embedded ;type=, use --form-string instead of -F. This is recommended when the value is obtained from a user or some other unpredictable source. Under these circumstances, using -F instead of --form-string could allow a user to trick curl into uploading a file.

Referrer
An HTTP request has the option to include information about which address referred it to the actual page. curl allows you to specify the referrer to be used on the command line. It is especially useful to fool or trick stupid servers or CGI scripts that rely on that information being available or contain certain data.

curl -e www.example.org http://www.example.com/
User Agent
An HTTP request has the option to include information about the browser that generated the request. Curl allows it to be specified on the command line. It is especially useful to fool or trick stupid servers or CGI scripts that only accept certain browsers.

Example:

curl -A 'Mozilla/3.0 (Win95; I)' http://www.bank.example.com/
Other common strings:

Mozilla/3.0 (Win95; I) - Netscape Version 3 for Windows 95
Mozilla/3.04 (Win95; U) - Netscape Version 3 for Windows 95
Mozilla/2.02 (OS/2; U) - Netscape Version 2 for OS/2
Mozilla/4.04 [en] (X11; U; AIX 4.2; Nav) - Netscape for AIX
Mozilla/4.05 [en] (X11; U; Linux 2.0.32 i586) - Netscape for Linux
Note that Internet Explorer tries hard to be compatible in every way:

Mozilla/4.0 (compatible; MSIE 4.01; Windows 95) - MSIE for W95
Mozilla is not the only possible User-Agent name:

Konqueror/1.0 - KDE File Manager desktop client
Lynx/2.7.1 libwww-FM/2.14 - Lynx command line browser
Cookies
Cookies are generally used by web servers to keep state information at the client's side. The server sets cookies by sending a response line in the headers that looks like Set-Cookie: &lt;data&gt; where the data part then typically contains a set of NAME=VALUE pairs (separated by semicolons ; like NAME1=VALUE1; NAME2=VALUE2;). The server can also specify for what path the cookie should be used for (by specifying path=value), when the cookie should expire (expire=DATE), for what domain to use it (domain=NAME) and if it should be used on secure connections only (secure).

If you have received a page from a server that contains a header like:

Set-Cookie: sessionid=boo123; path="/foo";
it means the server wants that first pair passed on when we get anything in a path beginning with /foo.

Example, get a page that wants my name passed in a cookie:

curl -b "name=Daniel" www.example.com
Curl also has the ability to use previously received cookies in following sessions. If you get cookies from a server and store them in a file in a manner similar to:

curl --dump-header headers www.example.com
... you can then in a second connect to that (or another) site, use the cookies from the headers.txt file like:

curl -b headers.txt www.example.com
While saving headers to a file is a working way to store cookies, it is however error-prone and not the preferred way to do this. Instead, make curl save the incoming cookies using the well-known Netscape cookie format like this:

curl -c cookies.txt www.example.com
Note that by specifying -b you enable the cookie engine and with -L you can make curl follow a location: (which often is used in combination with cookies). If a site sends cookies and a location field, you can use a non-existing file to trigger the cookie awareness like:

curl -L -b empty.txt www.example.com
The file to read cookies from must be formatted using plain HTTP headers OR as Netscape's cookie file. Curl determines what kind it is based on the file contents. In the above command, curl parses the header and store the cookies received from www.example.com. curl sends the stored cookies which match the request to the server as it follows the location. The file empty.txt may be a nonexistent file.

To read and write cookies from a Netscape cookie file, you can set both -b and -c to use the same file:

curl -b cookies.txt -c cookies.txt www.example.com
Progress Meter
The progress meter exists to show a user that something actually is happening. The different fields in the output have the following meaning:

% Total    % Received % Xferd  Average Speed          Time             Curr.
                               Dload  Upload Total    Current  Left    Speed
0  151M    0 38608    0     0   9406      0  4:41:43  0:00:04  4:41:39  9287
From left-to-right:

% - percentage completed of the whole transfer
Total - total size of the whole expected transfer
% - percentage completed of the download
Received - currently downloaded amount of bytes
% - percentage completed of the upload
Xferd - currently uploaded amount of bytes
Average Speed Dload - the average transfer speed of the download
Average Speed Upload - the average transfer speed of the upload
Time Total - expected time to complete the operation
Time Current - time passed since the invoke
Time Left - expected time left to completion
Curr.Speed - the average transfer speed the last 5 seconds (the first 5 seconds of a transfer is based on less time of course.)
The -# option displays a totally different progress bar that does not need much explanation!

Speed Limit
Curl allows the user to set the transfer speed conditions that must be met to let the transfer keep going. By using the switch -y and -Y you can make curl abort transfers if the transfer speed is below the specified lowest limit for a specified time.

To have curl abort the download if the speed is slower than 3000 bytes per second for 1 minute, run:

curl -Y 3000 -y 60 www.far-away.example.com
This can be used in combination with the overall time limit, so that the above operation must be completed in whole within 30 minutes:

curl -m 1800 -Y 3000 -y 60 www.far-away.example.com
Forcing curl not to transfer data faster than a given rate is also possible, which might be useful if you are using a limited bandwidth connection and you do not want your transfer to use all of it (sometimes referred to as bandwidth throttle).

Make curl transfer data no faster than 10 kilobytes per second:

curl --limit-rate 10K www.far-away.example.com
or

curl --limit-rate 10240 www.far-away.example.com
Or prevent curl from uploading data faster than 1 megabyte per second:

curl -T upload --limit-rate 1M ftp://uploads.example.com
When using the --limit-rate option, the transfer rate is regulated on a per-second basis, which causes the total transfer speed to become lower than the given number. Sometimes of course substantially lower, if your transfer stalls during periods.

Config File
Curl automatically tries to read the .curlrc file (or _curlrc file on Microsoft Windows systems) from the user's home directory on startup.

The config file could be made up with normal command line switches, but you can also specify the long options without the dashes to make it more readable. You can separate the options and the parameter with spaces, or with = or :. Comments can be used within the file. If the first letter on a line is a #-symbol the rest of the line is treated as a comment.

If you want the parameter to contain spaces, you must enclose the entire parameter within double quotes ("). Within those quotes, you specify a quote as \".

NOTE: You must specify options and their arguments on the same line.

Example, set default time out and proxy in a config file:

# We want a 30 minute timeout:
-m 1800
#. .. and we use a proxy for all accesses:
proxy = proxy.our.domain.com:8080
Whitespaces ARE significant at the end of lines, but all whitespace leading up to the first characters of each line are ignored.

Prevent curl from reading the default file by using -q as the first command line parameter, like:

curl -q www.example.org
Force curl to get and display a local help page in case it is invoked without URL by making a config file similar to:

# default url to get
url = "http://help.with.curl.example.com/curlhelp.html"
You can specify another config file to be read by using the -K/--config flag. If you set config filename to - it reads the config from stdin, which can be handy if you want to hide options from being visible in process tables etc:

echo "user = user:passwd" | curl -K - http://that.secret.example.com
Extra Headers
When using curl in your own programs, you may end up needing to pass on your own custom headers when getting a webpage. You can do this by using the -H flag.

Example, send the header X-you-and-me: yes to the server when getting a page:

curl -H "X-you-and-me: yes" love.example.com
This can also be useful in case you want curl to send a different text in a header than it normally does. The -H header you specify then replaces the header curl would normally send. If you replace an internal header with an empty one, you prevent that header from being sent. To prevent the Host: header from being used:

curl -H "Host:" server.example.com
FTP and Path Names
Do note that when getting files with a ftp:// URL, the given path is relative to the directory you enter. To get the file README from your home directory at your ftp site, do:

curl ftp://user:passwd@my.example.com/README
If you want the README file from the root directory of that same site, you need to specify the absolute filename:

curl ftp://user:passwd@my.example.com//README
(I.e with an extra slash in front of the filename.)

SFTP and SCP and Path Names
With sftp: and scp: URLs, the path name given is the absolute name on the server. To access a file relative to the remote user's home directory, prefix the file with /~/ , such as:

curl -u $USER sftp://home.example.com/~/.bashrc
FTP and Firewalls
The FTP protocol requires one of the involved parties to open a second connection as soon as data is about to get transferred. There are two ways to do this.

The default way for curl is to issue the PASV command which causes the server to open another port and await another connection performed by the client. This is good if the client is behind a firewall that does not allow incoming connections.

curl ftp.example.com
If the server, for example, is behind a firewall that does not allow connections on ports other than 21 (or if it just does not support the PASV command), the other way to do it is to use the PORT command and instruct the server to connect to the client on the given IP number and port (as parameters to the PORT command).

The -P flag to curl supports a few different options. Your machine may have several IP-addresses and/or network interfaces and curl allows you to select which of them to use. Default address can also be used:

curl -P - ftp.example.com
Download with PORT but use the IP address of our le0 interface (this does not work on Windows):

curl -P le0 ftp.example.com
Download with PORT but use 192.168.0.10 as our IP address to use:

curl -P 192.168.0.10 ftp.example.com
Network Interface
Get a webpage from a server using a specified port for the interface:

curl --interface eth0:1 http://www.example.com/
or

curl --interface 192.168.1.10 http://www.example.com/
HTTPS
Secure HTTP requires a TLS library to be installed and used when curl is built. If that is done, curl is capable of retrieving and posting documents using the HTTPS protocol.

Example:

curl https://secure.example.com
curl is also capable of using client certificates to get/post files from sites that require valid certificates. The only drawback is that the certificate needs to be in PEM-format. PEM is a standard and open format to store certificates with, but it is not used by the most commonly used browsers. If you want curl to use the certificates you use with your favorite browser, you may need to download/compile a converter that can convert your browser's formatted certificates to PEM formatted ones.

Example on how to automatically retrieve a document using a certificate with a personal password:

curl -E /path/to/cert.pem:password https://secure.example.com/
If you neglect to specify the password on the command line, you are prompted for the correct password before any data can be received.

Many older HTTPS servers have problems with specific SSL or TLS versions, which newer versions of OpenSSL etc use, therefore it is sometimes useful to specify what TLS version curl should use.:

curl --tlv1.0 https://secure.example.com/
Otherwise, curl attempts to use a sensible TLS default version.

Resuming File Transfers
To continue a file transfer where it was previously aborted, curl supports resume on HTTP(S) downloads as well as FTP uploads and downloads.

Continue downloading a document:

curl -C - -o file ftp://ftp.example.com/path/file
Continue uploading a document:

curl -C - -T file ftp://ftp.example.com/path/file
Continue downloading a document from a web server

curl -C - -o file http://www.example.com/
Time Conditions
HTTP allows a client to specify a time condition for the document it requests. It is If-Modified-Since or If-Unmodified-Since. curl allows you to specify them with the -z/--time-cond flag.

For example, you can easily make a download that only gets performed if the remote file is newer than a local copy. It would be made like:

curl -z local.html http://remote.example.com/remote.html
Or you can download a file only if the local file is newer than the remote one. Do this by prepending the date string with a -, as in:

curl -z -local.html http://remote.example.com/remote.html
You can specify a plain text date as condition. Tell curl to only download the file if it was updated since January 12, 2012:

curl -z "Jan 12 2012" http://remote.example.com/remote.html
curl accepts a wide range of date formats. You always make the date check the other way around by prepending it with a dash (-).

DICT
For fun try

curl dict://dict.org/m:curl
curl dict://dict.org/d:heisenbug:jargon
curl dict://dict.org/d:daniel:gcide
Aliases for m are match and find, and aliases for d are define and lookup. For example,

curl dict://dict.org/find:curl
Commands that break the URL description of the RFC (but not the DICT protocol) are

curl dict://dict.org/show:db
curl dict://dict.org/show:strat
Authentication support is still missing

LDAP
If you have installed the OpenLDAP library, curl can take advantage of it and offer ldap:// support. On Windows, curl uses WinLDAP from Platform SDK by default.

Default protocol version used by curl is LDAP version 3. Version 2 is used as a fallback mechanism in case version 3 fails to connect.

LDAP is a complex thing and writing an LDAP query is not an easy task. Familiarize yourself with the exact syntax description elsewhere. One such place might be: RFC 2255, The LDAP URL Format

To show you an example, this is how to get all people from an LDAP server that has a certain subdomain in their email address:

curl -B "ldap://ldap.example.com/o=frontec??sub?mail=*sth.example.com"
You also can use authentication when accessing LDAP catalog:

curl -u user:passwd "ldap://ldap.example.com/o=frontec??sub?mail=*"
curl "ldap://user:passwd@ldap.example.com/o=frontec??sub?mail=*"
By default, if user and password are provided, OpenLDAP/WinLDAP uses basic authentication. On Windows you can control this behavior by providing one of --basic, --ntlm or --digest option in curl command line

curl --ntlm "ldap://user:passwd@ldap.example.com/o=frontec??sub?mail=*"
On Windows, if no user/password specified, auto-negotiation mechanism is used with current logon credentials (SSPI/SPNEGO).

Environment Variables
Curl reads and understands the following environment variables:

http_proxy, HTTPS_PROXY, FTP_PROXY
They should be set for protocol-specific proxies. General proxy should be set with

ALL_PROXY
A comma-separated list of hostnames that should not go through any proxy is set in (only an asterisk, * matches all hosts)

NO_PROXY
If the hostname matches one of these strings, or the host is within the domain of one of these strings, transactions with that node is not done over the proxy. When a domain is used, it needs to start with a period. A user can specify that both www.example.com and foo.example.com should not use a proxy by setting NO_PROXY to .example.com. By including the full name you can exclude specific hostnames, so to make www.example.com not use a proxy but still have foo.example.com do it, set NO_PROXY to www.example.com.

The usage of the -x/--proxy flag overrides the environment variables.

Netrc
Unix introduced the .netrc concept a long time ago. It is a way for a user to specify name and password for commonly visited FTP sites in a file so that you do not have to type them in each time you visit those sites. You realize this is a big security risk if someone else gets hold of your passwords, therefore most Unix programs do not read this file unless it is only readable by yourself (curl does not care though).

Curl supports .netrc files if told to (using the -n/--netrc and --netrc-optional options). This is not restricted to just FTP, so curl can use it for all protocols where authentication is used.

A simple .netrc file could look something like:

machine curl.se login iamdaniel password mysecret
Custom Output
To better allow script programmers to get to know about the progress of curl, the -w/--write-out option was introduced. Using this, you can specify what information from the previous transfer you want to extract.

To display the amount of bytes downloaded together with some text and an ending newline:

curl -w 'We downloaded %{size_download} bytes\n' www.example.com
Kerberos FTP Transfer
Curl supports kerberos4 and kerberos5/GSSAPI for FTP transfers. You need the kerberos package installed and used at curl build time for it to be available.

First, get the krb-ticket the normal way, like with the kinit/kauth tool. Then use curl in way similar to:

curl --krb private ftp://krb4site.example.com -u username:fakepwd
There is no use for a password on the -u switch, but a blank one makes curl ask for one and you already entered the real password to kinit/kauth.

TELNET
The curl telnet support is basic and easy to use. Curl passes all data passed to it on stdin to the remote server. Connect to a remote telnet server using a command line similar to:

curl telnet://remote.example.com
Enter the data to pass to the server on stdin. The result is sent to stdout or to the file you specify with -o.

You might want the -N/--no-buffer option to switch off the buffered output for slow connections or similar.

Pass options to the telnet protocol negotiation, by using the -t option. To tell the server we use a vt100 terminal, try something like:

curl -tTTYPE=vt100 telnet://remote.example.com
Other interesting options for it -t include:

XDISPLOC=&lt;X display&gt; Sets the X display location.
NEW_ENV=&lt;var,val&gt; Sets an environment variable.
NOTE: The telnet protocol does not specify any way to login with a specified user and password so curl cannot do that automatically. To do that, you need to track when the login prompt is received and send the username and password accordingly.

Persistent Connections
Specifying multiple files on a single command line makes curl transfer all of them, one after the other in the specified order.

libcurl attempts to use persistent connections for the transfers so that the second transfer to the same host can use the same connection that was already initiated and was left open in the previous transfer. This greatly decreases connection time for all but the first transfer and it makes a far better use of the network.

Note that curl cannot use persistent connections for transfers that are used in subsequent curl invokes. Try to stuff as many URLs as possible on the same command line if they are using the same host, as that makes the transfers faster. If you use an HTTP proxy for file transfers, practically all transfers are persistent.

Multiple Transfers With A Single Command Line
As is mentioned above, you can download multiple files with one command line by simply adding more URLs. If you want those to get saved to a local file instead of just printed to stdout, you need to add one save option for each URL you specify. Note that this also goes for the -O option (but not --remote-name-all).

For example: get two files and use -O for the first and a custom file name for the second:

curl -O http://example.com/file.txt ftp://example.com/moo.exe -o moo.jpg
You can also upload multiple files in a similar fashion:

curl -T local1 ftp://example.com/moo.exe -T local2 ftp://example.com/moo2.txt
IPv6
curl connects to a server with IPv6 when a host lookup returns an IPv6 address and fall back to IPv4 if the connection fails. The --ipv4 and --ipv6 options can specify which address to use when both are available. IPv6 addresses can also be specified directly in URLs using the syntax:

http://[2001:1890:1112:1::20]/overview.html
When this style is used, the -g option must be given to stop curl from interpreting the square brackets as special globbing characters. Link local and site local addresses including a scope identifier, such as fe80::1234%1, may also be used, but the scope portion must be numeric or match an existing network interface on Linux and the percent character must be URL escaped. The previous example in an SFTP URL might look like:

sftp://[fe80::1234%251]/
IPv6 addresses provided other than in URLs (e.g. to the --proxy, --interface or --ftp-port options) should not be URL encoded.

Mailing Lists
For your convenience, we have several open mailing lists to discuss curl, its development and things relevant to this. Get all info at https://curl.se/mail/.

Please direct curl questions, feature requests and trouble reports to one of these mailing lists instead of mailing any individual.

Available lists include:

curl-users
Users of the command line tool. How to use it, what does not work, new features, related tools, questions, news, installations, compilations, running, porting etc.

curl-library
Developers using or developing libcurl. Bugs, extensions, improvements.

curl-announce
Low-traffic. Only receives announcements of new public versions. At worst, that makes something like one or two mails per month, but usually only one mail every second month.

curl-and-php
Using the curl functions in PHP. Everything curl with a PHP angle. Or PHP with a curl angle.

curl-and-python
Python hackers using curl with or without the python binding pycurl.</pre>
</div>
<div tags="" title="Custom temp folder for executable">
<pre>Source: https://www.gog.com/forum/kingdom_come_deliverance/is_drive_c_as_temporary_installation_location_changeable

Use a program such as Advanced Run by NirSoft. Ugh, you'll have to find it yourself, can't post links, I guess. :eyeroll:
In the Advanced Run window:
Add the GOG installer to the "Program to Run:" field.
Set "Run As…" to "Administrator (Force UAC Elevation)" in the dropdown menu. (Advanced Run doesn't have to be run as admin to do this.)
In the "Environment Variables" section, in the dropdown menu, select "Use only the following environment variables (ignore the system variables)"
Click the "Fill Current Environment Strings" button to the right of the dropdown menu. This will fill the text box with variables.
Find "TMP=" and "TEMP=" and change the path on the right of the equals sign to a TEMP folder of your choice. ("D:\TEMP","X:\TEMP", "Path-to-game\TEMP", etc.)
Click Run in the bottom right of the window, the installer should run and use the TEMP folder you specified instead of what you have set.


My issue is that my TEMP folder is set to an 8GiB ram disk and I hate the idea of revisiting the 90's and having to set my %TEMP% and %TMP% to a slow drive, having to restart, install the game, resetting my Temps to the ram disk, then restarting again, ever effing time I want to install a GOG game! PITA!!

So, this should help those who need a workaround.</pre>
</div>
<div tags="" title="Customize sandbox">
<pre>Link: https://www.systanddeploy.com/2021/08/how-to-customize-default-windows.html


!!Stop sandbox service
PowerShell as admin

```
stop-service CmService
```

Enter in file explorer


```
C:\ProgramData\Microsoft\Windows\Containers\BaseImages\GUID
```


Double-click ''BaseLayer.vhdx''


!!Files customization

Navigate to:


```
\Files\Users\WDAGUtilityAccount\Desktop
```

OR


```
Files\Program Files
```

And copy programs there

Eject vhdx disk (normally E)

!!Registry customization


```
regedit
```

Double click on ''HKLM''

On top menu: 

''File/Load Hive/ ''

browse to 


```
E:\Files\Users\WDAGUtilityAccount\ntuser.dat
```


Type ''test''

Edit registry under test

On top menu: 

''File/Unload Hive/ ''


!!Start sandbox service
PowerShell as admin

```
start-service CmService
```

Other sources:

https://gist.github.com/Trenly/3e8ba9a9498c6cc12a9bb25e4179a98c

https://research.checkpoint.com/2021/playing-in-the-windows-sandbox/</pre>
</div>
<div tags="" title="dangbei u1 projector restore after update/reset">
<pre>https://www.dangbei.com/zhuomian/index.php?spm=a2g0s.imconversation.0.0.1bc53e5fX8pSrt&amp;ss</pre>
</div>
<div tags="" title="Dark mode shortcut and task scheduler">
<pre>Follow below steps in Task Scheduler:

Press the windows button on your keyboard, and start typing Task in the open space. Under Apps, you will see Task Scheduler, click on it.

In the Task Scheduler main window, on the left pane, click on Task Scheduler Library. Next, on the right side pane under Actions, click on Create Task…

Create Task window will be up.

Under General tab, type name and a description in fields, e.g. Name: switch_dark and Description: this will switch from dark to light. Under Security options section, tick Run only when user is logged on and Run with highest privileges options.

Under Actions tab, click New button. In Edit Action window, select Start a program under Action drop-down. Under Program/script field, type

%SystemRoot%\system32\WindowsPowerShell\v1.0\powershell.exe

and under Add arguments(optional) field, type

New-ItemProperty -Path HKCU:\SOFTWARE\Microsoft\Windows\CurrentVersion\Themes\Personalize -Name SystemUsesLightTheme -Value 1 -Type Dword -Force; New-ItemProperty -Path HKCU:\SOFTWARE\Microsoft\Windows\CurrentVersion\Themes\Personalize -Name AppsUseLightTheme -Value 1 -Type Dword -Force

and click OK.

Under Conditions tab, untick every option but if you are on your laptop and care about the battery usage then you may tick the option Start the task only if the computer is on AC power under Power section.

Under Settings tab, tick the following options only, Allow task to be run on demand, If the running task does not end when requested, force it to stop and click OK.

You might be prompted to enter your local account password in order to create it. If you have forgotten your password, you can reset it if you have logged in as administrator using your PIN by simply opening Command Prompt (right-click on Windows button on taskbar and click Command Prompt (Admin)) and typing net user &lt;username&gt; set &lt;password&gt; and press enter key.

Similarly, you will have to create another task to switch from light to dark.


Follow the above steps again, create another task, name it switch_light and put description as switches from light to Dark and keep every other setting as it is but instead in Edit Task windows under Actions tab, type

%SystemRoot%\system32\WindowsPowerShell\v1.0\powershell.exe

under Program/script field and type

New-ItemProperty -Path HKCU:\SOFTWARE\Microsoft\Windows\CurrentVersion\Themes\Personalize -Name SystemUsesLightTheme -Value 0 -Type Dword -Force; New-ItemProperty -Path HKCU:\SOFTWARE\Microsoft\Windows\CurrentVersion\Themes\Personalize -Name AppsUseLightTheme -Value 0 -Type Dword -Force

in Add Arguments field.

Now, we have created two tasks with names, switch_dark and switch_light. We are going to need these names in next step to create shortcuts.

On your desktop or any other folder, right-click with your mouse on open space, click New and select Shortcut.

Create Shortcut windows will pop up and under Type the location of the item, type C:\Windows\System32\schtasks.exe /run /tn “switch_light” and click Next to continue. Remember to keep the double quotes in the location or otherwise it will not work.

Under Type a name for this shortcut, any name you want, e.g. Switch To Dark Mode and click Finish to create the shortcut.

Your shortcut is now created and is on the Desktop or the folder.

Right-click on the shortcut with your mouse and select Properties.

Shortcut’s properties window will get displayed. Now, under Shortcut tab, select a shortcut key combination of your choice under Shortcut key field.

Shortcut’s properties window will get displayed. Now, under Shortcut tab, select a shortcut key combination of your choice under Shortcut key field.

Source: https://sumitkp.medium.com/how-to-enable-dark-mode-with-shortcut-on-windows-10-2571c53aed5f</pre>
</div>
<div bag="default" created="20210417190417443" creator="sharicov" modified="20210417191001780" modifier="sharicov" revision="2" tags="manual" title="dav2fs mount yandex" type="text/vnd.tiddlywiki">
<pre>!!! Connect to yandex.disk davfs2: 


```
sudo apt install davfs2 
sudo dpkg-reconfigure davfs2 
sudo mkdir -m 1777 /media/usbdown/yandex.disk.online 
sudo mount -t davfs https://webdav.yandex.ru /media/usbdown/ yandex.disk.online 
df -h /media/usbdown/ yandex.disk.online / 
```


Store yandex credentials: 


```
sudo nano /etc/davfs2/secrets 
```


Add: 


```
https://webdav.yandex.ru userpassword 
```


Automount yandex.disk on boot - systemd: 


```
cat &lt;&lt; EOF | sudo tee /etc/systemd/system/media-usbdown-yandex.disk.online.mount 

[Unit] 
Description=Mount yandex.disk WebDAV 
After=network-online.target 
Wants=network-online.target 

[Mount] 
What=https://webdav.yandex.ru/ 
Where=/media/usbdown/yandex.disk.online/ 
Options=noauto,user,uid=pi,gid=pi 
Type=davfs 
TimeoutSec=60 

[Install] 
WantedBy=remote-fs.target 
EOF 

```

 
```

cat &lt;&lt; EOF | sudo tee /etc/systemd/system/media-usbdown-yandex.disk.online.automount 

[Unit] 
Description=Mount yandex.disk WebDAV automount 
After=network-online.target 
Wants=network-online.target 

[Automount] 
Where=/media/usbdown/yandex.disk.online/ 
TimeoutIdleSec=300 

[Install] 
WantedBy=remote-fs.target 

EOF 

```

Run:

```
sudo systemctl daemon-reload 
sudo systemctl enable media-usbdown-yandex.disk.online.automount 
sudo systemctl start media-usbdown-yandex.disk.online.automount 
```


!!!!Note: 
Make sure mount and automount names reflect actual path with / replaced by- 
</pre>
</div>
<div tags="" title="ddns no-ip settings for OpenWrt ImmortalWrt">
<pre>In GUI: luci/admin/system/packages

Add following packages:


```
ddns-scripts	
ddns-scripts_no-ip_com
luci-app-ddns
```

In GUI: luci/admin/services/ddns

Create new

Name somehow (ex. no-ip)

Edit

Enable

Lookup hostname : ddns.net

Provider: no-ip.com

Domain: blablablaYourDomain.ddns.net

Username (same as your login on no-ip site): noipUsername@ddns.net

Password: YourEpicPasswordOnNO-IP

Save &amp; Apply

Press start in the no-ip line you'd just created.</pre>
</div>
<div tags="" title="debug rclone">
<pre>Example mailru entry:


```
rclone lsd -vvv --dump headers,bodies mailru: --config /root/.config/rclone/rclone.conf --log-file=mailru.log

cat mailru.log
```


```
rclone lsd mailru:/ -vv --dump responses
```
</pre>
</div>
<div tags="" title="defragment vhd contig sysinternals">
<pre>Download contig tool; https://learn.microsoft.com/en-us/sysinternals/downloads/contig

!!Run as admin

!!!To analyze 


```
contig64.exe -a -f -v -s VHDFILE
```


!!!To defragment


```
contig64.exe-v VHDFILE
```</pre>
</div>
<div tags="" title="delete directory recursively windows command">
<pre>```
rmdir /S _Sync
```
</pre>
</div>
<div tags="" title="Delete NLTmpMnt (1) folder">
<pre>!!Install NTLite
https://www.ntlite.com/download/

!!Run NTLite

''Top Left 3 Lines/Settings/Temporary Directory Choose d:\temp\NLTpmMnt\Erase''

Repeat if app crashes

Source: https://www.ntlite.com/community/index.php?threads/cant-delete-nltmpmnt-from-my-temp-folder-almost-filling-my-ssd.1966/</pre>
</div>
<div tags="" title="delete on reboot">
<pre>https://www.majorgeeks.com/files/details/delete_on_reboot.html</pre>
</div>
<div tags="" title="DesktopNow remote access pc in browser over html5">
<pre>!!Download server
 https://www.nchsoftware.com/remotedesktop/

!!Access on web: 

http://orcytx.users.nchuser.com/desktop</pre>
</div>
<div tags="" title="DHCP server and NAT Linux and r5s benchmark">
<pre>https://www.cnx-software.com/2022/06/05/nanopi-r5s-preview-part-2-ubuntu-20-04-friendlycore/</pre>
</div>
<div tags="" title="Differential vhd native boot windows v4">
<pre>source: https://devblogs.microsoft.com/setup/booting-windows-to-a-differencing-virtual-hard-disk/

!!Step one:
Create bootable vhd using winntsetup

!!Step two:
From another OS (booting from VHD does not allow to create differential VHD from itself) create differential VHD file:

Run as administrator:

```
cmd 
```


```
diskpart
create vdisk file=D:\large11_diff.vhd parent=D:\large11.vhd
exit
```

Note: Differential VHD must be on the same partition as master VHD.

!!Step three:
Add differential vhd to the boot menu using bootice/BCD/easy mode/add/vhd/large11_diff.vhd 

!!Step four(optional):
Compact master vhd.

While booted from different OS (not the same master vhd) run as administrator:


```
diskpart
select vdisk file=D:\large11.vhd
compact vdisk
```

!!To update differencing VHD changes to master/parent VHD:

Merge the child disk with parent updated all changes of child to a master:


```
diskpart
select vdisk file=D:\large11_diff.vhd 
merge vdisk depth=1
```

!! Expand vdisk:
Ex. make VHD 120GB:

```
select vdisk file=D:\large11.vhd
expand vdisk maximum=120000
```

</pre>
</div>
<div tags="" title="dimmer - brightness lower than minimal windows">
<pre>Site: https://www.nelsonpires.com/software/dimmer</pre>
</div>
<div tags="" title="DIR tree HDD content">
<pre>dir /b /s /AD &gt; 5TB_dir_5.11.21.txt

tree &gt;  5TB_tree_5.11.21.txt</pre>
</div>
<div tags="" title="disable miner virus running while idle - maintenance.exe">
<pre>!!1. Quarantine in anvir task manager process maintenance.exe

!!2. Run task scheduler from start menu

Select: Task scheduler library

Find: Maintenance task (C:\Users\sharicov\AppData\Roaming\Maintenance\apps\maintenance.exe or somewhere in temp folder)

Right click/Delete

Antiviruses that can catch maintenance.exe miner virus:

https://www.virustotal.com/gui/file/0875b27aa4c4cfb21ef37fa9ff6a10e2e9bd9c631675f25db6612c2acc1c284b?nocache=1

Setup Avast not to delete files automatically

During install ''customize install / disable all options''

Avast Menu &gt; Settings &gt; Core Shields &gt; Disable

!!Optional - not working

Avast Menu &gt; Settings &gt; Core Shields &gt; Ask.

https://support.avast.com/en-ww/article/Antivirus-shield-settings/
</pre>
</div>
<div tags="" title="Disable windows core isolation for better performance and comaptibility">
<pre>In windows start menu search for ''Memory Integrity'' and turn it off.

Restart required.</pre>
</div>
<div tags="" title="Disable windows lockout network share and remote access">
<pre>Start/policy


```
Account Policies\Account Lockout Policy
```


```
duration 0
threshold 100
administrator lockout disabled
reset 1 minute
```
</pre>
</div>
<div created="20210418180621768" modified="20210419071730238" tags="manual" title="Disk health monitoring v2">
<pre>```
sudo e2fsck -Dy /dev/sdb1

```

```
smartctl -d sat -A /dev/sda
```


Run SMART test:



```
smartctl -i /dev/sda

smartctl -H /dev/sda

smartctl -a /dev/sda
```


```
smartctl -t short /dev/sda
```
Check results:

```
smartctl -H /dev/sda
```
HDDtemp:

```
apt install hddtemp

hddtemp /dev/sda

```

Show disk temperature

```
smartctl -d sat -A /dev/sda
```

Example output:


```
smartctl -d sat -A /dev/sdb
smartctl 7.2 2020-12-30 r5155 [aarch64-linux-5.11.14-rockchip64] (local build)
Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org

=== START OF READ SMART DATA SECTION ===
SMART Attributes Data Structure revision number: 16
Vendor Specific SMART Attributes with Thresholds:
ID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE
  1 Raw_Read_Error_Rate     0x002f   200   200   051    Pre-fail  Always       -       0
  3 Spin_Up_Time            0x0027   253   253   021    Pre-fail  Always       -       3533
  4 Start_Stop_Count        0x0032   100   100   000    Old_age   Always       -       584
  5 Reallocated_Sector_Ct   0x0033   200   200   140    Pre-fail  Always       -       0
  7 Seek_Error_Rate         0x002e   200   200   000    Old_age   Always       -       0
  9 Power_On_Hours          0x0032   098   098   000    Old_age   Always       -       2143
 10 Spin_Retry_Count        0x0032   100   100   000    Old_age   Always       -       0
 11 Calibration_Retry_Count 0x0032   100   100   000    Old_age   Always       -       0
 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       282
192 Power-Off_Retract_Count 0x0032   200   200   000    Old_age   Always       -       111
193 Load_Cycle_Count        0x0032   194   194   000    Old_age   Always       -       20893
194 Temperature_Celsius     0x0022   112   096   000    Old_age   Always       -       40
196 Reallocated_Event_Count 0x0032   200   200   000    Old_age   Always       -       0
197 Current_Pending_Sector  0x0032   200   200   000    Old_age   Always       -       0
198 Offline_Uncorrectable   0x0030   100   253   000    Old_age   Offline      -       0
199 UDMA_CRC_Error_Count    0x0032   200   200   000    Old_age   Always       -       0
200 Multi_Zone_Error_Rate   0x0008   100   253   000    Old_age   Offline      -       0
```
</pre>
</div>
<div bag="default" created="20210415150148462" creator="sharicov" modified="20210416131050436" modifier="sharicov" revision="2" tags="manual" title="Disk info" type="text/vnd.tiddlywiki">
<pre>How to check disk position in the system</pre>
</div>
<div tags="manual" title="dmesg">
<pre>dmesg -hW</pre>
</div>
<div created="20210419122621050" modified="20210419140132011" tags="manual" title="Docker apps v4">
<pre>!! Nextcloud 21 with samba client for external storage

Docker image:


```
martadinata666/nextcloud-smb
```


To install collabora inside the docker run on the `HOST` computer:

https://collabora-online-for-nextcloud.readthedocs.io/en/latest/install/


```
docker run -t -d -p 9980:9980 -e "extra_params=--o:ssl.enable=false" collabora/code
```

In Nextcloud/Settings/Collabora online set:

```
http://192.168.3.70:9980
```

To reset password:
in docker enter console as  www-data 
Run 

```
./occ user:resetpassword sharicov
```

Alternative (not working)

Example: Nextcloud dock runing on 8888 Nextcloud/Settings/Collabora online should be  updated automatically with:

`use your own server: http://192.168.3.70:8888/custom_apps/richdocumentscode_arm64/proxy.php?req=`

!!! External storage (samba)
Nextcloud +App

`External storages` / `Enable`

`Settings `(top right)


```
External storages

SMB 

Name (ex. InstantUpload)

Host (Home IP 192.168.X.X)

Share name (from  smb.conf on host computer ex. R4S_USB1)

Remote subfolder (/InstantUpload ,or empty for root)

Show hidden files

Username (samba user on the host smbpasswd)

Password (samba password on the host)

Users (select specific nextcloud users allowed to access the smb share)
```


!! Troubleshooting:
!!! To install package ''inside'' docker (martadinata666 example):
```
sudo docker exec -it -u www-data &lt;docker_container&gt; php -d memory_limit=512M /var/www/html/occ app:install richdocumentscode_arm64

sudo docker exec -it -u www-data &lt;docker_container&gt; php -d memory_limit=512M /var/www/html/occ app:install richdocuments
```

For standard Nextcloud installation the `occ path` will be:

`/var/www/nextcloud/occ `

Sources:
https://www.collaboraoffice.com/code/quick-tryout-nextcloud-docker/
https://hub.docker.com/r/martadinata666/nextcloud-smb

!! Tiddlywiki


```
docker run -d -p 8080:8080 -v $(pwd)/.tiddlywiki:/var/lib/tiddlywiki klutchell/tiddlywiki
```
user:`user`
pwd:`wiki`

Can be changed in settings once logged in 

https://hub.docker.com/r/klutchell/tiddlywiki
https://hub.docker.com/r/m0wer/tiddlywiki

!!Nextcloud allow trusted_domains
nano /var/www/html/config/config.php

add 1 =&gt; ... IPADDRESS

Or enter docker console as www-data with command: ./occ config:system:set trusted_domains 1 --value=IPADDRESS</pre>
</div>
<div tags="" title="Docker change storage location on OpenWRT v4">
<pre>!!Example of new location in 

''/mnt/Downloads/docker''

```
/etc/init.d/dockerd status

/etc/init.d/dockerd stop

/etc/init.d/dockerd status

killall dockerd

mkdir /mnt/Downloads/docker

mv /var/lib/docker/ /mnt/Downloads/

vim /etc/docker/daemon.json
```

Add the following lines:


```
{
  "data-root": "/mnt/Downloads/docker"
}
```

Run docker service:

```
/etc/init.d/dockerd start

dockerd &amp;
```


Source: https://www.ibm.com/docs/en/z-logdata-analytics/5.1.0?topic=compose-relocating-docker-root-directory</pre>
</div>
<div tags="" title="Docker commands and migration v2">
<pre>Show running containers:


```
docker ps
```

Save IMAGE to file (using Image name):


```
docker save linuxserver/freshrss:latest &gt; ./freshrss_docker.tar
```

Check the save file:


```
du -h freshrss_docker.tar
```

Copy to target machine:

```
scp freshrss_docker.tar root@192.168.3.96:/root/
```

Load image on TARGET machine:


```
docker load &lt; freshrss_docker.tar
```


```
docker kill ...
```



```
docker rm ...
```

Source: https://spacelift.io/blog/docker-stop-container</pre>
</div>
<div tags="" title="docker compose commands">
<pre>Create project directory (ex. filestash)

```
mkdir filestash ; cd filestash
```


Download ''docker-compose.yml'' using 

(from github raw ex. https://raw.githubusercontent.com/mickael-kerjean/filestash/refs/heads/master/docker/docker-compose.yml)

```
wget https://raw.githubusercontent.com/mickael-kerjean/filestash/refs/heads/master/docker/docker-compose.yml
```

edit docker-compose.yml using

```
nano docker-compose.yml
```

Delete old docker containers running (use with caution)

```
docker compose down -v
```

Update containers

```
docker compose pull
```

Run docker containers

```
docker up -d
```
</pre>
</div>
<div tags="" title="Docker container running on unraid n5105">
<pre>```
Guacamole
Pihole (I active, needs to free  port each run)
Jdownloader2
Msedge
NginxProxy manager (inactive)
Qbittorrent
Upsnap 
WatchYourLAN
```
</pre>
</div>
<div tags="" title="docker enter container shell example">
<pre>Get container's name

```
docker ps
```

Get inside container (ex. immich_server)


```
docker exec -it immich_server bash
```
</pre>
</div>
<div tags="" title="docker fixing overlay - no space left on device">
<pre>Check existing disk situation


```
df -h
```


unmount exisiting overlay


```
umont overlay
```


in luci 

''gui/system/mount points/mount points/select large microSD partition (last mmcblk)/edit/mount point/overlay''

Enable the mount by ''checking ''the line in gui

''Save and apply
''


reboot the device</pre>
</div>
<div tags="" title="docker get logs of specific container - fixes qbittorrent temp password">
<pre>UNRAID CLI (terminal button in the GUI)

get docker id


```
docker ps
```

show logs of container

in qbittorrent case will show temporary random password


```
docker logs &lt;container ID&gt;
```
</pre>
</div>
<div tags="" title="docker get to shell (bash into running docker)">
<pre>Get Container ID of the docker


```
docker ps
```

get into shell of the running docker (example id bde46b29b5d2):


```
docker exec -it bde46b29b5d2 bash
```
</pre>
</div>
<div tags="" title="Docker install on debian">
<pre>Source: https://docs.docker.com/engine/install/debian/

!!Install repository
```
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg

sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

echo \
  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \
  "$(. /etc/os-release &amp;&amp; echo "$VERSION_CODENAME")" stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
```

!!Install docker engine


```
sudo apt update

sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```
</pre>
</div>
<div tags="" title="docker remove unused images v2">
<pre>```
docker image prune -f

```
add to cronetab -e to execute daily </pre>
</div>
<div tags="" title="docker rename container">
<pre>!!List running docker continers


```
docker ps -a
```


!!Rename


```
docker rename CurrentContainerName NewName
```
</pre>
</div>
<div tags="" title="Docker swamp HA cluster">
<pre>Source: https://habr.com/ru/articles/659813/

</pre>
</div>
<div tags="" title="Docker usage commands v1">
<pre>docker stats

docker ps</pre>
</div>
<div tags="" title="docker-android using qemu working">
<pre>Site: https://github.com/budtmo/docker-android

To run android 11 on samsung galaxy s10:


```
docker run -d -p 6080:6080 -e EMULATOR_DEVICE="Samsung Galaxy S10" -e WEB_VNC=true --device /dev/kvm --name android-container budtmo/docker-android:emulator_11.0

```
Check CPU compatibility:


```
sudo apt install cpu-checker
kvm-ok
```

''Port: ''6080</pre>
</div>
<div tags="" title="Dolphin emulator ultra-wide 21:9 aspect v1">
<pre>Load up Dolphin emulator. Click config button on top row. 
In the pop up window under the general tab click 'enable cheats'. 
Now close pop up window. 
Then click graphics button next to the config button you just clicked. 
Make sure the Display settings under the general tab have aspect ratio as 'stretch to window'. 
Then click the enhancements tab and make sure the 'Widescreen hack' option is DISabled. 
Now close the pop up window. 
Finally right click the game you want to play at 21:9, in the pop up window that appears go to the 'AR Codes' 
tab and click 'Add' at the bottom, name the new AR Code whatever you want e.g 21:9, and then paste in the code 
you have found that makes the game run for 21:9. Click ok, close pop up window and launch the game and off you go. 
Some AR Codes forums.dolphin-emu.org/Thread-gc-ar-codes-for-16-9-21-9-aspect-ratiosforums.dolphin-emu.org/Thread-gc-ar-codes-for-16-9-21-9-aspect-ratios

Note 1: The pixel aspect ratio of a 3440x1440 display is 2.3888888. The pixel aspect ratio of a 2560x1080 display is 2.3703704. This is the reason why there are two 21:9 codes.

Sources: 
https://forums.dolphin-emu.org/Thread-gc-ar-codes-for-16-9-21-9-60hz

https://wideasfcuk.com/Post?gameId=&amp;id=106

NTSC-US


```
1080° Avalanche
16:9

04003B00 3C003FF3

04003B04 6000CF3D

04003B08 901C02A8

04003B0C C05C02A8

04003B10 48062D94

040668A0 4BF9D260

```

A

Amazing Island
16:9
C20B21FC 00000002
C042BB98 D0450024
60000000 00000000
041B47F4 C3A2BB98
043F9A38 3FE38E39
21:9 (2560x1080)
C20B21FC 00000002
C042BB98 D0450024
60000000 00000000
041B47F4 C3A2BB98
043F9A38 4017B426
21:9 (3440x1440)
C20B21FC 00000002
C042BB98 D0450024
60000000 00000000
041B47F4 C3A2BB98
043F9A38 4018E38E

American Chopper 2: Full Throttle
16:9
04004900 C022B744
04004904 EC000072
04004908 D01F04AC
0400490C 4803F058
04043960 4BFC0FA0

Animal Crossing
16:9
060037A0 00000010
3C608000 C38337AC
4805ACBC 3FE38E39
0405E460 4BFA5340
21:9 (2560x1080)
060037A0 00000010
3C608000 C38337AC
4805ACBC 4017B426
0405E460 4BFA5340
21:9 (3440x1440)
060037A0 00000010
3C608000 C38337AC
4805ACBC 4018E38E
0405E460 4BFA5340

Army Men: Air Combat - The Elite Missions
16:9
041C5514 3FD55555
041C5518 3FC37A14

Army Men: RTS
16:9
043C0B78 3F400000
21:9 (2560x1080)
043C0B78 3F000000

Army Men: Sarge's War
16:9
040A547C 38000356
040AA09C 38000356
040AA7AC 38000356

Auto Modellista
16:9
04211C30 3FE38E39
21:9 (2560x1080)
04211C30 4017B426
21:9 (3440x1440)
04211C30 4018E38E

Avatar: The Last Airbender
16:9
044F5D1C 3FE38E39
21:9 (2560x1080)
044F5D1C 4017B426
21:9 (3440x1440)
044F5D1C 4018E38E

B

Bloody Roar: Primal Fury
16:9
041039EC C3A29F0C
0420200C 3FE38E39
21:9 (2560x1080)
041039EC C3A29F0C
0420200C 4017B426
21:9 (3440x1440)
041039EC C3A29F0C
0420200C 4018E38E

Blowout
16:9
045206B8 00000001

Bomberman Generation
16:9
0402F29C C002CADC
04150DFC C3A2CAD4
0435C254 3FE38E39
0435C25C 44555555
21:9 (2560x1080)
0402F29C C002CADC
04150DFC C3A2CAD4
0435C254 4017B426
0435C25C 44555555
21:9 (3440x1440)
0402F29C C002CADC
04150DFC C3A2CAD4
0435C254 4018E38E
0435C25C 44555555

C

Chaos Field
16:9
C20AF534 00000002
C3A2A530 D3BE0044
60000000 00000000
043E4430 3FE38E39
21:9 (2560x1080)
C20AF534 00000002
C3A2A530 D3BE0044
60000000 00000000
043E4430 4017B426
21:9 (3440x1440)
C20AF534 00000002
C3A2A530 D3BE0044
60000000 00000000
043E4430 4018E38E

City Racer
16:9
0A8C5260 08000000
04003F00 3C808000
04003F04 C0643F14
04003F08 EC7E00F2
04003F0C D07F00F4
04003F10 4801E780
04003F14 3FAAAAAB

Crash Bandicoot: The Wrath of Cortex
16:9
040AC768 D01E0040
04122370 3FE38E39
21:9 (2560x1080)
040AC768 D01E0040
04122370 4017B426
21:9 (3440x1440)
040AC768 D01E0040
04122370 4018E38E

Custom Robo
16:9
0444C438 3FD70A3E

D

Digimon World 4
16:9
04005100 C0429348
04005104 ED6202F2
04005108 D1630000
0400510C 48124B18
04129C20 4BEDB4E0

Dr. Muto
16:9
043ED048 3FC19D7D

Dragon Ball Z: Sagas
16:9
043477A4 3FE38E39
21:9 (2560x1080)
043477A4 4017B426
21:9 (3440x1440)
043477A4 4018E38E

F

Fire Emblem: Path of Radiance
16:9
04926328 3FE38E39
21:9 (2560x1080)
04926328 4017B426
21:9 (3440x1440)
04926328 4018E38E

H

Hunter: The Reckoning
16:9
040F2A38 38600356
041F7B14 C042D68C
0440B28C 401DDDDE

I

Intellivision Lives!
16:9
04003600 C1428B98
04003604 ED4A4024
04003608 48036308
0403990C 4BFC9CF4
0410E32C BFC00000
04142340 FFFFFDE1
04142344 FFFFFDE1
04142348 0000014B
0414234C 0000014B
04142C98 3F400000

K

Kirby Air Ride
16:9
C238565C 00000002
C042FBD0 D0440044
60000000 00000000
040C2878 C022FBD0
040C9814 C022FBD0
045E62D0 3FE38E39
21:9 (2560x1080)
C238565C 00000002
C042FBD0 D0440044
60000000 00000000
040C2878 C022FBD0
040C9814 C022FBD0
045E62D0 4017B426
21:9 (3440x1440)
C238565C 00000002
C042FBD0 D0440044
60000000 00000000
040C2878 C022FBD0
040C9814 C022FBD0
045E62D0 4018E38E

L

Luigi's Mansion
16:9
040206A0 3C603FE3
040206A4 60638E39
040206A8 906700B0

M

Mario Kart: Double Dash
16:9
043CBE08 3FE38E39
043CBE0C 40649373
21:9 (2560x1080)
043CBE08 4017B426
043CBE0C 40649373
21:9 (3440x1440)
043CBE08 4018E38E
043CBE0C 40649373

Mario Party 7
16:9
042F5F04 3FCCCCCD

N

Naruto: Clash of Ninja
16:9
040F10A0 C3A28E40
041D7340 3FE38E39
21:9 (2560x1080)
040F10A0 C3A28E40
041D7340 4017B426
21:9 (3440x1440)
040F10A0 C3A28E40
041D7340 4018E38E

Need for Speed: Hot Pursuit 2
16:9
0414382C C0429AE8
04143D58 C0029AE8

O

One Piece: Grand Adventure
16:9
0425A19C 38A00356
0425A21C 38800356
0425A3DC 38600356

One Piece: Grand Battle
16:9
04233210 38A00356
04233290 38800356
04233450 38600356

One Piece: Pirates' Carnival
16:9
04006910 38000356
00000000 843B98D4
3F2AAAAB 0004006D
00000000 843B98DC
3FC00000 0004006D

P

Paper Mario: The Thousand Year Door
16:9
0441F6D8 3FE38E39
21:9 (2560x1080)
0441F6D8 4017B426
21:9 (3440x1440)
0441F6D8 4018E38E

Phantasy Star Online Episode I &amp; II (Version 1.00)
16:9
04000088 C0421108
0400008C EFBD00B2
04000090 FC40E890
04000094 483D3068
0C3D30F4 FC200818
043D30F8 4BC2CF90

Phantasy Star Online Episode I &amp; II (Version 1.02)
16:9
04000088 C0421138
0400008C EFBD00B2
04000090 FC40E890
04000094 483D67C0
0C3D684C FC200818
043D6850 4BC29838

Pikmin (version 1.01)
16:9
0405A40C 38A003AC
043E8500 3FE38E39
21:9 (2560x1080)
0405A40C 38A003AC
043E8500 4017B426
21:9 (3440x1440)
0405A40C 38A003AC
043E8500 4018E38E

Pinball Hall of Fame: The Gottlieb Collection
16:9
0419BD98 BFC00000

Pokemon Colosseum
16:9
04005300 C3A2B084
04005304 EFBD00B2
04005308 4809E62C
040A3930 4BF619D0
0447E724 3FAAAAAB

Pokemon XD: Gale of Darkness
16:9
04005300 C3A2BF9C
04005304 EFBD00B2
04005308 480AE150
040B3454 4BF51EAC
044EFD5C 3FAAAAAB

R

Rampage Total Destruction
16:9
043C0E28 3F4DB6DB

RoadKill
16:9
04004300 C082BF80
04004304 EC8400F2
04004308 D08DA260
0400430C 480C191C
040C5C24 4BF3E6DC

S

Samurai Jack: The Shadow of Aku
16:9
04002FF0 C0A9E8D4
04002FF4 EC410172
04002FF8 C0A9C264
04002FFC 4807C718
0407F710 4BF838E0
0407F730 FC201050

Sonic Adventure DX: Director's Cut
16:9
0403AB38 C3628ACC
040A7598 3F400000
040A75A0 3F066666
040C514C 3FF3CF3D

Space Raiders
16:9
0410F7D8 C002A524
042A0504 3FE38E39
21:9 (2560x1080)
0410F7D8 C002A524
042A0504 4017B426
21:9 (3440x1440)
0410F7D8 C002A524
042A0504 4018E38E

Super Mario Sunshine
16:9
04416B74 3F9A7643
21:9 (2560x1080)
04416B74 3FCE6087
21:9 (3440x1440)
04416B74 3FCF8E94

Super Smash Bros. Melee (version 1.00)
16:9
043412DC C3AD809C
043685F4 C02D809C
044D15BC 3FE38E39
21:9 (2560x1080)
043412DC C3AD809C
043685F4 C02D809C
044D15BC 4017B426
21:9 (3440x1440)
043412DC C3AD809C
043685F4 C02D809C
044D15BC 4018E38E

Super Smash Bros. Melee (version 1.01)
16:9
04341F2C C3AD809C
043697C8 C02D809C
044D2A1C 3FE38E39
21:9 (2560x1080)
04341F2C C3AD809C
043697C8 C02D809C
044D2A1C 4017B426
21:9 (3440x1440)
04341F2C C3AD809C
043697C8 C02D809C
044D2A1C 4018E38E

Super Smash Bros. Melee (version 1.02)
16:9
04342C0C C3AD809C
0436A4A8 C02D809C
044D373C 3FE38E39
21:9 (2560x1080)
04342C0C C3AD809C
0436A4A8 C02D809C
044D373C 4017B426
21:9 (3440x1440)
04342C0C C3AD809C
0436A4A8 C02D809C
044D373C 4018E38E

T

The Legend of Zelda: The Wind Waker
16:9
043FA998 3FE38E39
21:9 (2560x1080)
043FA998 4017B426
21:9 (3440x1440)
043FA998 4018E38E

The Legend of Zelda: Twilight Princess
16:9
0445391C 3FE38E39
21:9 (2560x1080)
0445391C 4017B426
21:9 (3440x1440)
0445391C 4018E38E

The Simpsons: Hit &amp; Run
16:9
04004600 C002A604
04004604 C09F0014
04004608 FC002040
0400460C 4082000C
04004610 C002A608
04004614 EC630032
04004618 48220508
04041A5C 38600001
04224344 C002A60C
04224B1C 4BDDFAE4
044786B0 3FAAAAAB
04479F28 3FA33333

W

Wave Race: Blue Storm
16:9
04005000 FD002090
04005004 C042920C
04005008 48095998
0409A99C 4BF6A664
0469360C 3FE38E39
21:9 (2560x1080)
04005000 FD002090
04005004 C042920C
04005008 48095998
0409A99C 4BF6A664
0469360C 4017B426
21:9 (3440x1440)
04005000 FD002090
04005004 C042920C
04005008 48095998
0409A99C 4BF6A664
0469360C 4018E38E

Z

Zoids Battle Legends
16:9
060043A0 00000018
C0429BFC D0450044
480D1E0C C0429BFC
D05E0044 480D2088
040D61B0 4BF2E1F0
040D6438 4BF2DF74
042F435C 3FE38E39
21:9 (2560x1080)
060043A0 00000018
C0429BFC D0450044
480D1E0C C0429BFC
D05E0044 480D2088
040D61B0 4BF2E1F0
040D6438 4BF2DF74
042F435C 4017B426
21:9 (3440x1440)
060043A0 00000018
C0429BFC D0450044
480D1E0C C0429BFC
D05E0044 480D2088
040D61B0 4BF2E1F0
040D6438 4BF2DF74
042F435C 4018E38E</pre>
</div>
<div bag="default" created="20210415141054752" creator="sharicov" modified="20210416140309601" modifier="sharicov" revision="3" tags="manual" title="Download link" type="text/vnd.tiddlywiki">
<pre>Armbian image download link from here: 

https://www.armbian.com/nanopi-r4s/ 

!!!! Note: only daily Hirsute build worked with both USB at the time of writing this manual</pre>
</div>
<div tags="" title="Download Microsoft Store app for offline use">
<pre>https://www.gadgetstyle.com.ua/47283-microsoft-store-apps-downloading-tips/?utm_source=pocket_mylist

!!!Find on MS store site: 

https://apps.microsoft.com/store/detail/gaming-services/9MWPM2CQNLHN?hl=en-us&amp;gl=us

!!!Download with link to store:

https://store.rg-adguard.net/

!!Alternative:


```
get-appxpackage Microsoft.GamingServices | remove-AppxPackage –allusers

start ms-windows-store://pdp/?productid=9MWPM2CQNLHN
```
</pre>
</div>
<div tags="" title="Download Microsoft Store app locally v2">
<pre>https://www.gadgetstyle.com.ua/47283-microsoft-store-apps-downloading-tips/?utm_source=pocket_mylist

https://store.rg-adguard.net/

example Game Services on MS store: https://apps.microsoft.com/store/detail/gaming-services/9MWPM2CQNLHN?hl=en-us&amp;gl=us</pre>
</div>
<div tags="" title="download site from webarchive v2">
<pre>!! Installation 

```
pip install waybackpack 
```

!!Download site to custom directory all snapshots of 1998:


```
waybackpack http://cooler.irk.ru/ -d /media/usb/Downloads/cooler --to-date 1998
```

!!List all snapshots:


```
waybackpack http://cooler.irk.ru/ --list
```
</pre>
</div>
<div title="Draft of 'New Tiddler'">
<pre>Change admin password 

```
yunohost user update admin -p
```

Show users
yunohost user list </pre>
</div>
<div tags="" title="dropit multiple archive file extractor">
<pre>site: https://www.dropitproject.com

extracts multiple archives (like 7zip) to predefined directory</pre>
</div>
<div tags="" title="dual channel windows RAM check">
<pre>Run CPU-z /memory/channel # should show 2x 64-bit

https://www.cpuid.com/softwares/cpu-z.html</pre>
</div>
<div tags="" title="dual monitor linux">
<pre>```
xrandr --help
xrandr
xrandr --output HDMI-1 --auto
xrandr --output eDP-1  --auto
xrandr --output HDMI-1 --mode 2560x1080 --rate 74.99
xrandr --output HDMI-1 --off
xrandr --output eDP-1 --off

apt install arandr
```
</pre>
</div>
<div tags="" title="Dual monitor Linux v2">
<pre>Terminal:

```
xrandr --help
```

Show available connected monitors and resolutions:


```
xrandr
```

Turn on HDMI monitor:


```
xrandr --output HDMI-1 --auto
```

Setting specific resolution and refresh:


```
xrandr --output HDMI-1 --mode 2560x1080 --rate 74.99
```

Turning off monitors (HDMI/laptop):


```
xrandr --output HDMI-1 --off
xrandr --output eDP-1 --off

```

GUI for extending monitors:


```
apt install arandr

arandr
```

</pre>
</div>
<div tags="" title="Duckstation PS1 emulator covers">
<pre>Tools/cover downloader

Check use serial file names

```
https://raw.githubusercontent.com/xlenore/psx-covers/main/covers/default/${serial}.jpg
```


3d covers


```
https://raw.githubusercontent.com/xlenore/psx-covers/main/covers/3d/${serial}.png
```

https://github.com/xlenore/psx-covers

Reddit discussion with links: https://www.reddit.com/r/EmulationOnAndroid/comments/y4jzse/can_anyone_share_a_working_link_to_duckstation/?rdt=35831</pre>
</div>
<div tags="" title="dufs - web based file access (filestash alternative) v4">
<pre>Supports drag&amp;drop, download as zip, picture preview:

!!Run once in docker

To expose home directory (`pwd`):

```
docker run -v `pwd`:/data -p 5000:5000 --rm -it sigoden/dufs /data -A
```

To expose specific directory and set password (ex. /media/usb):


```
docker run -v /media/usb:/data -p 5000:5000 --rm -it sigoden/dufs /data -A -a UsEr:PaSSWord@/:rw
```

Port: 5000

!!Install in docker permanently

Name: dufs

Image: sigoden/dufs:latest

Port: 5000 5000

Command/override: /data -A -a UsEr:PaSSWord@/:rw


Volumes/bind: /data /media/x96

Restart policy: unless stopped

Site and parameters: https://github.com/sigoden/dufs</pre>
</div>
<div tags="" title="Edge edit autofill">
<pre>To change the autofilled name for a specific site in Microsoft Edge, follow these steps:

#Open Microsoft Edge and navigate to the website where you want to change the autofilled name.

#Start typing in the name field. When the autofill suggestion appears, use the arrow keys to highlight it.

#Press ''Shift + Delete'' to remove the saved suggestion.
If you need to manage your autofill data more broadly:

#Click on the three dots (menu) in the top-right corner of Edge.
#Go to Settings &gt; Profiles &gt; Personal info.
#Here, you can add, edit, or delete your saved information.</pre>
</div>
<div tags="" title="edge enhanced video">
<pre>```
edge://settings/system
```

To enable Nvidia Super resolution in Microsoft Edge. Visit edge://settings/system,

Enable "Enhance videos in Microsoft Edge".

In the drop down for "Preferred method of video enhancement:", choose "Graphics driver enhancement".

Source: https://www.reddit.com/r/MicrosoftEdge/comments/1b6idz4/discussion_about_nvidia_superresolution_on_edge/</pre>
</div>
<div tags="" title="edge pdf edit Hebrew disappearing fix">
<pre>Source: https://answers.microsoft.com/en-us/microsoftedge/forum/all/chinese-characters-disappear-when-editing-a-pdf/cd57fd2a-409a-4587-a203-140f4b238886?page=6

In edge address bar paste


```
 edge://flags/#edge-new-pdf-viewer
```

Restart edge

!!Second option

Edge/Settings/Languages/Add language/Hebrew

Restart Edge

</pre>
</div>
<div tags="" title="emulatorjs web based rom emulation v2">
<pre>!!Installation
Docker (or via CasaOS): https://docs.linuxserver.io/images/docker-emulatorjs

Configuration port 3000 (default/3001 in CasaOS)

Playing port 80 (default/88 in CasaOS)

!!Configuration

Enter port 3000

Press ''DL/Update'' button

Wait until getting message ''Downloaded All Files''/close the download window.

File management/choose emulator on left/Roms/upload ROM in zip format

Rom management/Press Scan button on respective emulator

Select respective emulator on left/Download All Available Art/Add All Roms to Config

!!Play

Enter port 80 and start gaming

!!Alternative newer emulator one rom per time


```
wget https://codeload.github.com/EmulatorJS/EmulatorJS/zip/refs/heads/main

unzip main

cd EmulatorJS-main

npm i

npm start
```


default port 8080

drag and drop rom and select emulator

refresh to load new

project page: https://emulatorjs.org/docs/Getting%20Started.html</pre>
</div>
<div tags="" title="enable disable audio device windows powershell">
<pre>```
Get-PnpDevice -class "MEDIA" | ForEach-Object {Disable-PnpDevice -InstanceId $_.InstanceID -Confirm:$false}

Get-PnpDevice -class "MEDIA" | ForEach-Object {Enable-PnpDevice -InstanceId $_.InstanceID -Confirm:$false}

```
</pre>
</div>
<div tags="" title="enable powershell scripts in windows">
<pre>```
Set-ExecutionPolicy Unrestricted
```
</pre>
</div>
<div tags="" title="Enable root login over SSH:">
<pre>As root, edit the sshd_config file in /etc/ssh/sshd_config:
nano /etc/ssh/sshd_config
Add a line in the Authentication section of the file that says PermitRootLogin yes. This line may already exist and be commented out with a "#". In this case, remove the "#".
# Authentication:
#LoginGraceTime 2m
PermitRootLogin yes
#StrictModes yes
#MaxAuthTries 6
#MaxSessions 10
Save the updated /etc/ssh/sshd_config file.
Restart the SSH server:
service sshd restart</pre>
</div>
<div tags="" title="Enable wazuh modules Virustotal example v2">
<pre>!!Integration documentation: 
https://documentation.wazuh.com/current/user-manual/manager/manual-integration.html

In GUI press on Wazuh button on the top left /Settings/Modules
Enable desired modules


!!Virustotal integration

For example enable ''Virustotal''

Follow the documentation bellow

!!Get virustotal API key after logging in 
https://www.virustotal.com/gui/my-apikey

!!Enter Totalvirus API key in wazuh

Wazuh GUI / management/configuration/edit

add following section replacing ''API_KEY'' with actual key you got from Virustotal

```
&lt;integration&gt;
  &lt;name&gt;virustotal&lt;/name&gt;
  &lt;api_key&gt;API_KEY&lt;/api_key&gt; 
  &lt;group&gt;syscheck&lt;/group&gt;
  &lt;alert_format&gt;json&lt;/alert_format&gt;
&lt;/integration&gt;
```

Save/Restart Wazuh from GUI

!!Usage for file scanning 
https://documentation.wazuh.com/current/user-manual/capabilities/malware-detection/virus-total-integration.html

On client side edit the agent configuration file


On windows client run as ''administrator''


```
notepad "C:\Program Files (x86)\ossec-agent\ossec.conf"
```

Or in linux client


```
sudo nano /var/ossec/etc/ossec.conf

```
Search for syscheck
Add folder to scan in ''syscheck'' section

```
  &lt;directories check_all="yes" realtime="yes"&gt;/media/user/software&lt;/directories&gt;
```

Run as ''administrator ''in PowerShell


```
restart-service -name wazuh

```

Or in linux

```
sudo systemctl restart wazuh-agent
```

In Wuzah GUI select agent / More,../VirusTotal

!!Folder scan can be also set centrally via wazuh ''server ''modules/configuration file in the ''syscheck ''section</pre>
</div>
<div tags="" title="enter flatpak filesystem in the container">
<pre>Check installed flatpak packages


```
flatpak list
```

enter console of specific package (ex. SMPlayer)


```
flatpak run --command=bash info.smplayer.SMPlayer
```
</pre>
</div>
<div tags="" title="ExactFile CRC disk file creator comparison">
<pre>ExactFile  download: https://www.exactfile.com/downloads/</pre>
</div>
<div tags="" title="exchanging ssh keys between Unraid and x96 v4">
<pre>''Note'': to work on unraid after reboot folder for the ssh keys should be ''/boot/config/ssh''

!!Accesss from X96 to Unraid with no password

Legend:


&lt;&lt;&lt;
x96 192.168.1.96

unriaid 192.168.1.5
&lt;&lt;&lt;


!!ssh to x96


```
ssh-keygen
```

Enter to confirm default key location

ex. /home/sharicov/.ssh/id_rsa

Enter twice for no passphrase

Copy ''public ''key over to Unraid


```
scp /home/sharicov/.ssh/id_rsa.pub root@192.168.1.5:/boot/config/ssh
```

!ssh unriad

and install the key

```
ssh-copy-id -f -i /boot/config/ssh/id_rsa.pub root@192.168.1.5
```

Now you can connect from X96 to Unraid with no password using following command


```
ssh root@192.168.1.5
```


!!Access from Unraid to x96 with no password

In unraid run


```
ssh-keygen
```

When prompted for file name and location enter

```
/boot/config/ssh/unraid_id_rsa
```

Enter twice for no passphrase

Copy ''public ''key over to X96

```
scp /boot/config/ssh/unraid_id_rsa.pub sharicov@192.168.1.96:/home/sharicov/.ssh/
```

!ssh X96

and install the key

```
ssh-copy-id -f -i /home/sharicov/.ssh/unraid_id_rsa.pub sharicov@192.168.1.96
```</pre>
</div>
<div tags="" title="execute command in running container v2">
<pre>!!Example 
Run command ''/bin/dufs'' with parameter ''--version'' in container named ''dufs''

```
docker exec -t dufs /bin/dufs --version
```

command location can be find in ''portainer/container/inspect'' under ''Path''

More details: https://docs.docker.com/engine/reference/commandline/exec/
</pre>
</div>
<div bag="default" created="20210417195628912" creator="sharicov" modified="20210417195644504" modifier="sharicov" revision="2" tags="manual" title="Experimental not working" type="text/vnd.tiddlywiki">
<pre>Experimental NOT WORKING: 

Dmesg error troubleshooting: 

Error: 

Workqueue: events_freezable mmc_rescan 

Solution: 

sudo sysctl -w vm.dirty_ratio=10 
sudo sysctl -w vm.dirty_background_ratio=5 
sudo sysctl -p 

Page Break
Configure raspberry as hostpot: 

wpa_cli terminate 
sudo ifconfig wlan0 down 
sudo iwconfig wlan0 mode ad-hoc 
sudo iwconfig wlan0 essid my-adhoc-name 
sudo iwconfig wlan0 channel 1 
sudo ifconfig wlan0 up 

https://elinux.org/RPI-Wireless-Hotspot 

sudo apt-get install hostapd udhcpd 

 

 

 

sudo nano /etc/hostapd/hostapd.conf 

interface=wlan0 

driver=nl80211 

ssid=My_AP 

hw_mode=g 

channel=6 

macaddr_acl=0 

auth_algs=1 

ignore_broadcast_ssid=0 

wpa=2 

wpa_passphrase=My_Passphrase 

wpa_key_mgmt=WPA-PSK 

#wpa_pairwise=TKIP    # You better do not use this weak encryption (only used by old client devices) 

rsn_pairwise=CCMP 

 

https://raspberrypi.stackexchange.com/questions/108675/hostapd-problems-while-setting-up-pi-4-as-access-point 

https://github.com/raspberrypi/documentation/issues/1018 

https://www.qlcplus.org/forum/viewtopic.php?t=12468#p54247 

Format existing disk,create gpt ext4(parted https://askubuntu.com/questions/517354/terminal-method-of-formatting-storage-drive ): 

sudo su 

fdisk –l 

sudo parted  

select /dev/sda 

mklabel gpt 

Y 

print free 

mkpart primary 0% 100% 

quit 

mkfs.ext4 /dev/sda1 

Yes 

 

sudo fdisk -l 

sudo blkid |grep sda 

sudo nano /etc/fstab 

PARTUUID="35395c61-d264-4001-8ecf-c398b2f7a7e2" /media/usbdown ext4 defaults   0    2 

 

sudo chown admin /media/usbdown/ 

Troubleshoot exe not executing: 

Rightclick folder in windows-&gt;security-&gt;add full permissions to admin 

Not working: 

https://github.com/billz/raspap-webgui 

After the reboot at the end of the installation the wireless network will be configured as an access point as follows: 

IP address: 10.3.141.1 

Username: admin 

Password: secret 

DHCP range: 10.3.141.50 to 10.3.141.255 

SSID: raspi-webgui 

Password: ChangeMe 

 

NOT WORKING with rsync Scheduled synchronization (https://opensource.com/article/20/7/systemd-timers): 

Check timezone (time) is correct: 

date 

Fix timezone(if needed) 

sudo rm -rf /etc/localtime 

sudo ln -s /usr/share/zoneinfo/Israel /etc/localtime 

date 

Show existing timers: 

systemctl status *timer 

at now + 1 minutes –f script.sh 

echo “ command to run”| at now + 1 minutes 

Backup yunohost: 

https://yunohost.org/#/backup 

From the command line 

You can create a new backup archive with the command line. Here are a few simple example of commands and their corresponding behavior: 

Backing up everything (all system parts and apps): 

yunohost backup create 

Backing up only apps 

yunohost backup create --apps 

Backing up only two apps (wordpress and shaarli) 

yunohost backup create --apps wordpress shaarli 

Backing up only mails 

yunohost backup create --system data_mail 

Backing up mails and wordpress 

yunohost backup create --system data_mail --apps wordpress 

For more informations and options about backup creation, consult yunohost backup create --help. You can also list system parts that can be backuped with yunohost hook list backup. 

Downloading and uploading backups 

After creating backup archives, it is possible to list and inspect them via the corresponding views in the webadmin, or via yunohost backup list and yunohost backup info &lt;archivename&gt; from the command line. By default, backups are stored in /home/yunohost.backup/archives/. 

Currently, the most accessible way to download archives is to use the program FileZilla as explained in this page. 

Alternatively, a solution can be to install Nextcloud or a similar app and configure it to be able to access files in /home/yunohost.backup/archives/ from a web browser. 

One solution consists in using scp (a program based on ssh) to copy files between two machines via the command line. Hence, from a machine running Linux, you should be able to run the following to download a specific backup: 

scp admin@your.domain.tld:/home/yunohost.backup/archives/&lt;archivename&gt;.tar.gz ./ 

Similarly, you can upload a backup from a machine to your server with: 

scp /path/to/your/&lt;archivename&gt;.tar.gz admin@your.domain.tld:/home/yunohost.backup/archives/ 

From the command line 

From the command line, you can run yunohost backup restore &lt;archivename&gt; (without the .tar.gz) to restore an archive. As for yunohost backup create, this will restore everything in the archive by default. If you want to restore only specific items, you can use for instance yunohost backup restore --apps wordpress which will restore only the wordpress app. 

Constraints 

To restore an app, the domain on which it was installed should already be configured (or you need to restore the corresponding system configuration). You also cannot restore an app which is already installed... which means that to restore an old version of an app, you must first uninstall it. 

Restoring during the postinstall 

One specific feature is the ability to restore a full archive instead of the postinstall step. This makes it useful when you want to reinstall a system entirely from an existing backup. To be able to do this, you will need to upload the archive on the server and place it in /home/yunohost.backup/archives. Then, instead of yunohost tools postinstall you can run: 

yunohost backup restore &lt;archivename&gt; 

Note: If your archive isn't in /home/yunohost.backup/archives, you can create the directory, move the archive into it, and restore it like this: 

mkdir -p /home/yunohost.backup/archivesmv /path/to/&lt;archivename&gt; /home/yunohost.backup/archives/yunohost backup restore &lt;archivename&gt; 

To go futher 

Storing backups on a different drive 

If you want, you can connect and mount an external drive to store backup archives on it (among other things). For this, plug in the drive and make sure that next time it is mounted automatically, by following the instruction at Adding an external storage to your server. 

Then, move the existing archives and then add a symbolic link. 

PATH_TO_DRIVE="/media/my_external_drive" # For instance, depends of where you mounted your drivemkdir $PATH_TO_DRIVE/yunohost_backup_archives # On your external drive create the folder where the backups will gomv /home/yunohost.backup/archives $PATH_TO_DRIVE/yunohost_backup_archives # Move the archive folder including existing backups (if you made them) to the new folder on the external driveln -s $PATH_TO_DRIVE/yunohost_backup_archives /home/yunohost.backup/archives # Create a symbolic link from the old local folder to the new folder on the external drive 

Automatic backups 

You can add a simple cron job to trigger automatic backups regularly. For instance, to backup your wordpress weekly, create a file /etc/cron.weekly/backup-wordpress with the following content: 

#!/bin/bashyunohost backup create --apps wordpress 

then make it executable: 

chmod +x /etc/cron.weekly/backup-wordpress 

Be careful what you backup exactly and when: you don't want to end up with your whole disk space saturated because you backuped 30 GB of data every day. 

Backing your server on a remote server 

You can follow this tutorial on the forum to setup Borg between two servers: https://forum.yunohost.org/t/how-to-backup-your-yunohost-server-on-another-server/3153 

Alternatively, the app Archivist allows to setup a similar system: https://forum.yunohost.org/t/new-app-archivist/3747 

Avoiding the backup of some folders 

If needed, you can specify that some /home/user folders are left out of the yunohost backup command, by creating a blank file named .nobackup in them. 

Full backup with dd 

If you are using an ARM board, another method for doing a full backup can be to create an image of the SD card. For this, poweroff your ARM board, get the SD card in your computer then create a full image with something like: 

dd if=/dev/mmcblk0 of=./backup.img status=progress 

(replace /dev/mmcblk0 with the actual device of your SD card) 

You can also create a compressed image using gzip this way: 

dd if=/dev/mmcblk0 | gzip &gt; ./image.gz </pre>
</div>
<div tags="" title="Expose docker to wan (working)">
<pre>Openwrt / network / interfaces 

Edit Docker interface

Devices

Docker configure add eth0 (wan) in bridge ports

Save and apply

to check install freshrss docker, open console and run ping</pre>
</div>
<div bag="default" created="20210415141955591" creator="sharicov" modified="20210416131106790" modifier="sharicov" revision="3" tags="manual" title="Extract .xz image" type="text/vnd.tiddlywiki">
<pre>Install xz-utils:


```
sudo apt-get install xz-utils
```


Extract image:

```
unxz [ImageName]
```

</pre>
</div>
<div tags="" title="Extract archive files from current directory and delete if successful">
<pre>Generated in copilot

Script


```
#!/bin/bash

# Function to extract and delete archive if extraction is successful
extract_and_delete() {
    local file="$1"
    if 7z x "$file" -aoa | grep -q "Everything is Ok"; then
        echo "Extracted: $file"
        # Check for extracted ISO files and verify them
        for iso in *.iso; do
            [ -e "$iso" ] || continue
            if 7z t "$iso" | grep -q "Everything is Ok"; then
                echo "ISO $iso is not corrupted"
            else
                echo "ISO $iso is corrupted"
                return
            fi
        done
        rm "$file"
    else
        echo "Failed to extract $file"
    fi
}

# Trap Ctrl+C (SIGINT) to allow script cancellation
trap "echo 'Script cancelled'; exit" SIGINT

# Start a screen session
screen -S Extract_and_delete -dm bash -c '

# Loop through all 7z files and extract them
for file in *.7z; do
    [ -e "$file" ] || continue
    extract_and_delete "$file"
done

# Loop through all rar files and extract them
for file in *.rar; do
    [ -e "$file" ] || continue
    extract_and_delete "$file"
done

# Loop through all zip files and extract them
for file in *.zip; do
    [ -e "$file" ] || continue
    extract_and_delete "$file"
done

'

# Attach to the screen session
screen -r Extract_and_delete

```


Generated with prompt

```
write bash script  to extract all 7z, rar and zip files in the current directory using 7z command and delete archive files after extraction if extraction was sucssesful. extraaction is successful if getting prompt from 7z extractor:  "Everything is Ok " . do not use 7z test "-t" flag. before deletion of the archive, if iso file was extracted check iso is not corrupted using 7z -t and only if it is not corrupted delete the archive file, else print that iso is corrupted and don't delete the file. Add option to cancel script  at any time. auto ovewrite if target alredy exists and  print its name.
```
</pre>
</div>
<div tags="" title="extract/compress each file to separate zip v7">
<pre>!!To compress multiple files in the directory, each one in separate zip (or 7zip):
```
FOR %i IN (*.*) DO "c:\Program Files\7-Zip\7z.exe" a -tzip "%~ni.zip" "%i"
```

!!To extract multiple files into same directory (skipping existing files with -aos):


```
FOR %i IN (*.*) DO "c:\Program Files\7-Zip\7z.exe" x -aos "%i"
```

Extract with skip to custom folder (ex. E:\roms_:

```
FOR %i IN (*.*) DO "c:\Program Files\7-Zip\7z.exe" x -aos "%i" -oE:\roms
```


!!Extract each zip into new separate folder with the same name+.rom


```
FOR %i IN (*.*) DO mkdir "%i".rom &amp; "c:\Program Files\7-Zip\7z.exe" x "%i" -o"%i".rom
```

!!Extract renaming resulting file with zip file's name and .iso extension:


```
FOR %i IN (*.*) DO mkdir "%i".rom &amp; "c:\Program Files\7-Zip\7z.exe" e "%i" -aos -so &gt;"%i".iso
```


Convert multiple 7z to zip: https://www.romvault.com/trrntzip/</pre>
</div>
<div tags="" title="fail2ban Ban an IP after multiple failed SSH login attempts v8">
<pre>!!Check Linux services boot sequence and time:

```
journalctl -b

```

!!Check login attemps:


```
journalctl -f

```

!!Manually block specific ip (ex. 175.124.222.22) from connecting on any port:


```
iptables -A INPUT -s 175.124.222.22  -j DROP
```

Source: https://www.servermania.com/kb/articles/ip-blocking-and-iptables-in-linux

!! fail2ban automatically blocks IP after several reocuring failures:


```
apt install fail2ban
```


!!fail2ban configuration and start:


```
cp  /etc/fail2ban/jail.conf /etc/fail2ban/jail.local

service fail2ban restart
```

!!Show banned IPs


```
iptables -S
```

!!Example output:


```
-A f2b-sshd -s 36.92.107.106/32 -j REJECT --reject-with icmp-port-unreachable
```


Site: https://github.com/fail2ban/fail2ban


!!Whitelist IP ranges


```
nano /etc/fail2ban/jail.local
```

Unmark (remove #) and add all required whitelist IPs/IP ranges


```
ignoreip = 127.0.0.1/8 ::1 192.168.3.1/24

```

!!Restart fail2ban after updating configuration


```
systemctl restart fail2ban
```


Manuals: https://www.a2hosting.com/kb/security/hardening-a-server-with-fail2ban/

!!Block ssh access on port 22 after reoccurring unsuccessful logins:

```
sudo iptables -A INPUT  -p tcp -m tcp --dport 22 -m state \
    --state NEW -m recent                                   \
    --update --seconds 60 --hitcount 4 --name DEFAULT --rsource -j DROP

```

Sources: 

https://superuser.com/questions/476231/ban-an-ip-after-multiple-failed-ssh-login-attempts

https://web.archive.org/web/20130510023127/http://blog.bigdinosaur.org/securing-ssh-with-iptables/</pre>
</div>
<div tags="" title="fastboot AMD ryzen fix (also works for intel)">
<pre>Run powershell as administrator


```
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "osvc" /t REG_BINARY /d "0000" /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "SkipContainerIdQuery" /t REG_BINARY /d "01000000" /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "SkipBOSDescriptorQuery" /t REG_BINARY /d "01000000" /f
```
</pre>
</div>
<div tags="" title="FastCopy alternative to SyncFolders for copying small files in windows v2">
<pre>Supports ACL and Altstreams (run as adiministrator)

Supports multithread and time estimation

''Tip:'' put ._ in exclude

Pro version supports perfect verify mode and specific comparison modes (not a must)

2 weeks trial?

Manual: https://fastcopy.jp/help/fastcopy_eng.htm#setting_copyopt

Download: https://fastcopy.jp/</pre>
</div>
<div tags="" title="Fastest mirror debian v1">
<pre>Install:

```
apt install netselect-apt 
```

Run (-n to include non-free packages):

```
netselect-apt  -n bullseye
```

Backup existing sources.list

```
sudo mv /etc/apt/sources.list /etc/apt/sources.list.bak
```

new sources.lists is in the running directory and you have to replace sources manually

Source https://www.unixmen.com/find-fastest-mirror-debian-derivatives/</pre>
</div>
<div tags="" title="Filestash build arm64 v5">
<pre>Make working dir and enter into it


```
makedir filestash &amp;&amp; cd filestash
```



```
nano Dockerfile
```

Add:


```
# STEP1: CLONE THE CODE
FROM --platform=$BUILDPLATFORM alpine:latest as builder_prepare
WORKDIR /home/
RUN apk add git &amp;&amp; \
    git clone --depth 1 https://github.com/mickael-kerjean/filestash

# STEP2: BUILD THE FRONTEND
FROM --platform=$BUILDPLATFORM node:18-alpine AS builder_frontend
WORKDIR /home/
COPY --from=builder_prepare /home/filestash/ ./
RUN apk add make git gzip brotli &amp;&amp; \
    npm install --legacy-peer-deps &amp;&amp; \
    make build_frontend &amp;&amp; \
    cd public &amp;&amp; make compress

# STEP3: BUILD THE BACKEND
FROM --platform=$BUILDPLATFORM golang:1.20 AS builder_backend
WORKDIR /home/
COPY --from=builder_frontend /home/ ./
RUN apt-get update &gt; /dev/null &amp;&amp; \
    apt-get install -y libvips-dev curl make &gt; /dev/null 2&gt;&amp;1 &amp;&amp; \
    apt-get install -y libjpeg-dev libtiff-dev libpng-dev libwebp-dev libraw-dev libheif-dev libgif-dev &amp;&amp; \
    make build_init &amp;&amp; \
    make build_backend &amp;&amp; \
    mkdir -p ./dist/data/state/config/ &amp;&amp; \
    cp config/config.json ./dist/data/state/config/config.json

# STEP4: Create the prod image from the build
FROM --platform=$BUILDPLATFORM debian:stable-slim
MAINTAINER root@gmail.com
COPY --from=builder_backend /home/dist/ /app/
WORKDIR "/app"
RUN apt-get update &gt; /dev/null &amp;&amp; \
    apt-get install -y --no-install-recommends apt-utils ca-certificates &amp;&amp; \
    apt-get install -y curl emacs-nox ffmpeg zip poppler-utils &gt; /dev/null &amp;&amp; \
    update-ca-certificates &amp;&amp; \
    # org-mode: html export
    curl https://raw.githubusercontent.com/mickael-kerjean/filestash/master/server/.assets/emacs/htmlize.el &gt; /usr/share/emacs/site-lisp/htmlize.el &amp;&amp; \
    # org-mode: markdown export
    curl https://raw.githubusercontent.com/mickael-kerjean/filestash/master/server/.assets/emacs/ox-gfm.el &gt; /usr/share/emacs/site-lisp/ox-gfm.el &amp;&amp; \
    # org-mode: pdf export (with a light latex distribution)
    cd &amp;&amp; apt-get install -y wget perl &gt; /dev/null &amp;&amp; \
    export CTAN_REPO="http://mirror.las.iastate.edu/tex-archive/systems/texlive/tlnet" &amp;&amp; \
    curl -sL "https://yihui.name/gh/tinytex/tools/install-unx.sh" | sh &amp;&amp; \
    mv ~/.TinyTeX /usr/share/tinytex &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install wasy &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install ulem &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install marvosym &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install wasysym &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install xcolor &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install listings &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install parskip &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install float &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install wrapfig &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install sectsty &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install capt-of &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install epstopdf-pkg &amp;&amp; \
    /usr/share/tinytex/bin/$(uname -m)-linux/tlmgr install cm-super &amp;&amp; \
    ln -s /usr/share/tinytex/bin/x86_64-linux/pdflatex /usr/local/bin/pdflatex &amp;&amp; \
    apt-get purge -y --auto-remove perl wget &amp;&amp; \
    # Cleanup
    find /usr/share/ -name 'doc' | xargs rm -rf &amp;&amp; \
    find /usr/share/emacs -name '*.pbm' | xargs rm -f &amp;&amp; \
    find /usr/share/emacs -name '*.png' | xargs rm -f &amp;&amp; \
    find /usr/share/emacs -name '*.xpm' | xargs rm -f

RUN useradd filestash &amp;&amp; \
    chown -R filestash:filestash /app/ &amp;&amp; \
    find /app/data/ -type d -exec chmod 770 {} \; &amp;&amp; \
    find /app/data/ -type f -exec chmod 760 {} \; &amp;&amp; \
    chmod 730 /app/filestash &amp;&amp; \
    rm -rf /var/lib/apt/lists/* &amp;&amp; \
    rm -rf /tmp/*

USER filestash
CMD ["/app/filestash"]
EXPOSE 8334
```

Build:


```
docker build -t filestash .
```

Create docker-compose.yaml


```
nano docker-compose.yaml
```


Add

```
version: '2'
services:
  app:
    container_name: filestash
    image: machines/filestash:latest-arm64v8
    restart: always
    environment:
    - APPLICATION_URL=
    - GDRIVE_CLIENT_ID=&lt;gdrive_client&gt;
    - GDRIVE_CLIENT_SECRET=&lt;gdrive_secret&gt;
    - DROPBOX_CLIENT_ID=&lt;dropbox_key&gt;
    - ONLYOFFICE_URL=http://onlyoffice
    ports:
    - "8334:8334"
    volumes:
    - filestash:/app/data/state/

  onlyoffice:
    container_name: filestash_oods
    image: onlyoffice/documentserver:latest
    restart: always
    security_opt:
      - seccomp:unconfined
    environment:
    - JWT_ENABLED=false
    - ALLOW_PRIVATE_IP_ADDRESS=true
    ports:
    - "8008:80"

volumes:
    filestash: {}
```

!!!Optional: download yaml (may need customization for OnlyOffice integration to work


```
curl -O https://downloads.filestash.app/latest/docker-compose.yml

```


Start containers

```
docker-compose pull

docker-compose up -d
```

Source: https://github.com/dzusr/filestash/blob/master/docker/Dockerfile

Source: https://github.com/mickael-kerjean/filestash/issues/613

Source: https://registry.hub.docker.com/r/machines/filestash/tags</pre>
</div>
<div tags="" title="Filestash in Unraid v2">
<pre>Filestash Port ''8334''

OnlyOffice server port ''8008''

Install unraid compose plugin

''Unraid GUI/Apps/Docker Compose Manager''

''Unraid GUI/Docker/Add new Stack in Compose section/Name it (ex. filestash)''

Press on gear on the left on filestash/edit stack

Compose: (from: https://downloads.filestash.app/latest/docker-compose.yml with filestash_odds modifications mentioned below)


```
version: '2'
services:
  app:
    container_name: filestash
    image: machines/filestash
    restart: always
    environment:
    - APPLICATION_URL=
    - GDRIVE_CLIENT_ID=&lt;gdrive_client&gt;
    - GDRIVE_CLIENT_SECRET=&lt;gdrive_secret&gt;
    - DROPBOX_CLIENT_ID=&lt;dropbox_key&gt;
    - ONLYOFFICE_URL=http://onlyoffice
    ports:
    - "8334:8334"
    volumes:
    - filestash:/app/data/state/

  onlyoffice:
    container_name: filestash_oods
    image: onlyoffice/documentserver
    restart: always
    security_opt:
      - seccomp:unconfined
    environment:
    - JWT_ENABLED=false
    - ALLOW_PRIVATE_IP_ADDRESS=true
    ports:
    - "8008:80"

volumes:
    filestash: {}
```

Save changes

WebUI ex. 192.168.1.5

WebUI: http:\\192.168.1.5:8334

Start stack



Access ''filestash admin console ''on

```
http://YourIP:8334/admin
```

Set ''onlyoffice server ''on 

http://192.168.1.5:8008

Set administrator password,protocol (ex. SSHFS/SAMBA) and check in upload button to be shown.

!!Bonus

Set ''autosave ''in OnlyOffice 

''setting/advanced/auto save/Apply''.


!!Troubleshooting

1. Check filestash_oods logs, may need to be restarted if there are errors during first boot.

2. Takes ''several minutes'' for filestash_oods
 container to boot for a first time.

!!filestash_oods changes to compose description (already in compose above)


OnlyOffice server port remapping: 8008 80

Environmentals

```

JWT_ENABLED false

ALLOW_PRIVATE_IP_ADDRESS true
```




</pre>
</div>
<div tags="" title="filestash native (arm64) (like nextcloud web files over ssh) v7">
<pre>Documentation: https://www.filestash.app/docs/install-and-upgrade/

```
wget https://github.com/gprst/filestash/releases/download/v0.42-arm64/filestash_Linux-aarch64.tar

tar xf filestash_Linux-aarch64.tar

cd filestash

./filestash
```


default port 8334

!!Administration

add /admin after the port in address bar. Example http://192.168.3.96:8334/admin

!! Open in specific directory (rather than home)

Check box on the ''right ''of Advanced

Add full path (make sure user can read/write there/adduser/chown user path).

''Note:'' User and password can be added manually in admin screen so login is automatic/semi automatic


!!Auto start on boot:


```
nano /etc/rc.local
```


Add:


```
/root/filestash/filestash &amp;
```


before exit 0

!!Check version
http://ip:8334/about

!!Troubleshooting
For errors look into log view in http://:IP:8334/admin/logs

Most likely you cannot access because host in admin setting ''should be the same IP/name ''as one you are accessing filestash from.</pre>
</div>
<div tags="" title="Filestash web file browser docker (OnlyOffice only x86)">
<pre>Installation:


```
apt install docker-compose
 curl -O https://downloads.filestash.app/latest/docker-compose.yml
docker-compose pull
docker-compose up -d
```

Source: https://github.com/login?return_to=%2Fmickael-kerjean%2Ffilestash

arm64 unofficial version:

https://hub.docker.com/r/gprst/filestash

source arm64: https://github.com/mickael-kerjean/filestash/issues/233

http://100.98.134.14:8334/admin/dashboard</pre>
</div>
<div tags="" title="Filestash with OnlyOffice working v13">
<pre>!!Background
Filestash is web interface to access files over SMB ,local and other protocols with document editing.

Self hosted alternative to google drive.

!!!Note: Arm64 and x86 both working.

!!Home-site of filestash on Github

https://github.com/mickael-kerjean/filestash/

!!Documentation: 
https://www.filestash.app/docs/install-and-upgrade/

!!Installation (docker)


```
mkdir filestash &amp;&amp; cd filestash

curl -O https://downloads.filestash.app/latest/docker-compose.yml

docker-compose pull

docker-compose up -d
```

Two containers will be created: filestash and filestash_oods (OnlyOffice)


!!Setting up OnlyOffice

Edit filestash_oods

Add


```
Port 8008 80

Env

JWT_ENABLED false

ALLOW_PRIVATE_IP_ADDRESS true
```


Optional


```
ALLOW_META_IP_ADDRESS true
```

Note: OnlyOffice may take some time to load, check in container log, or access OnlyOffice on set port (80 or custom)

!!Setting up Filestash

For local filesystem access use ''SFTP ''(works via ssh to the same host)

Optional - troubles with permissions - ''NOT RECOMMENDED''


&lt;&lt;&lt;
If local file system protocol will be used create bind volume in Filestash container

Volume (''Bind'')


```
Container: /media

Host: /media

```

&lt;&lt;&lt;

!!General

''Filestash ''Port ''8334''

''OnlyOffice'' server port ''8008''

Set Onlyoffice in /admin as http://yourOfficeIP:8008

Set ''administrator password'',''protocol'' (ex. SAMBA)  and check in ''upload button'' to be shown.

```
http://YourIP:8334/admin

```

Optional

In admin settings set OnlyOffice container IP as http://YourIP (if OnlyOfficeport is not 80 set is as http://YourIP:PortNumber


Source: https://github.com/mickael-kerjean/filestash/issues/516

!!Bonus

Set ''autosave ''in OnlyOffice setting.

!!Troubleshooting

For errors look into log view in http://:IP:8334/admin/logs

Most likely you cannot access because host in admin setting should be the same IP/name as one you are accessing filestash from.

If getting ''Not Allowed ''error,in filestash container set 

Env


```
APPLICATION_URL YourExternalIP:FilestashPort
```

Also make sure bind volume set in Filestash container as described above.

Source: https://github.com/mickael-kerjean/filestash/issues/127

Check version
http://ip:8334/about


Example docker-compose.yml from x96



```
cat docker-compose.yml
version: '2'
services:
  app:
    container_name: filestash
    image: machines/filestash:latest-arm64v8
    restart: always
    environment:
    - APPLICATION_URL=
    - GDRIVE_CLIENT_ID=&lt;gdrive_client&gt;
    - GDRIVE_CLIENT_SECRET=&lt;gdrive_secret&gt;
    - DROPBOX_CLIENT_ID=&lt;dropbox_key&gt;
    - ONLYOFFICE_URL=http://onlyoffice
    ports:
    - "8334:8334"
    volumes:
    - filestash:/app/data/state/

  onlyoffice:
    container_name: filestash_oods
    image: onlyoffice/documentserver:latest
    restart: always
    security_opt:
      - seccomp:unconfined
    environment:
    - JWT_ENABLED=false
    - ALLOW_PRIVATE_IP_ADDRESS=true
    ports:
    - "8008:80"

volumes:
    filestash: {}
```

</pre>
</div>
<div tags="" title="Find idle tasks in task manager to delete miners viruses v3">
<pre>https://superuser.com/questions/1138083/how-to-get-a-list-of-tasks-triggered-on-idle


```
Get-ScheduledTask | Where-Object { $_.State -ne "Disabled" } | Select-Object TaskName, TaskPath, Triggers | Where-Object { $_.Triggers -match "MSFT_TaskIdleTrigger" }
```


If not found open 

''task scheduler/Task Scheduler Library/Maintenance - Double Click / Actions to see the path'' (ex. C:\Users\sharicov\AppData\Roaming\Maintenance\apps\maintenance.exe


1. AnVir Task manager/Processes/Block Process (Quarantine)/ add path to the virus miner file

2. Then wait with open AnVir Task manager /processes tab/sorted by CMU%/ when xmrig.exe appears/right click on it and Block Process (Quarantine)/ add path to the virus miner file

OR

delete/disable/change exe name

Virus is sitting in %AppData%\Roaming</pre>
</div>
<div tags="" title="fisx samba in immortalWrt OpenWrt v2">
<pre>Enter luci GUI/NAS/Network resources

Or Services/Network shares

Template tab

mask:


```
	#invalid users = root
```

Save and apply changes

In ssh set samba password for user root:


```
smbpasswd -a root
```
</pre>
</div>
<div tags="" title="Fix 0.0.0.0 in portainer 2.11">
<pre>Endpoint changed to Environment

In order to automatically open correct IP when pressing on container port, on the right panel of portainer click ''Environments/local/Public IP'' and enter correct IP there (can be tailscale IP as well.</pre>
</div>
<div tags="" title="fix amd radeon adrenaline not opening">
<pre>rename or delete CN folder


```
\AppData\Local\AMD\CN
```

If locked end ''AMD Software Host application'' in Windows ''task manager''</pre>
</div>
<div tags="" title="fix android auto error 22 with magisk and systemizer works in adnroid 14 v8">
<pre>!!Only works while phone is rooted (Magisks).

After uninstalling magisk Android Auto will switch back to regular app (not system app).


!!Background

Error 22 in android auto is caused by the fact it isn't installed as system app.
To fix it, phone be should rooted with magisk and android auto should be re-installed as sysstem app.

!!Install busybox and terminus

https://play.google.com/store/apps/details?id=stericson.busybox

https://play.google.com/store/apps/details?id=com.termux

!!To root the phone 
Download magisk.app and rename it as .zip (on phone or via PC):  https://magiskmanager.com/downloading-magisk-manager

Reboot phone into recovery (Orange Fox or TWRP) and install the zip.

Run magisk app and install it from regular android system (not recovery).

Install systemizer plugin in magisk using magisk repo: https://github.com/xeddmc/terminal_systemizer/releases/download/17.4.1/terminal_systemizer_v17.4.1.zip

Alternative:

https://github.com/orgs/Magisk-Modules-Repo/repositories?q=systemizer&amp;type=all&amp;language=&amp;sort=

Run systemizer in terminus as root (accept giving root permissions when running su for the first time


```
su

systemizer

```

Select existing apps (1) 

''com.google.android.projection.gearhead'' (this is android auto, may also appear as ''Android Auto'')

Install to ''/system/priv-app'''' (2)''


!!If installed correctly, no uninstall option will be shown in settings/apps/android auto (will become system app).

!!Magisk can be hidden or uninstalled in the Magisk's menu.

Magisk official repo: https://github.com/orgs/Magisk-Modules-Repo/repositories

Magisk alternative repo: https://github.com/orgs/Magisk-Modules-Alt-Repo/repositories

Sources: 

https://xdaforums.com/t/gsi-fix-communication-error-22-on-android-auto.4456645/

https://www.androidpolice.com/install-magisk-rooted-android/

https://github.com/Magisk-Modules-Repo/terminal_systemizer

</pre>
</div>
<div tags="" title="fix dns name resolution in terminal">
<pre>Check name resolution is working

```
ping 1.1.1.1

ping google.com

sudo nano /etc/resolv.conf 

```
If got errors

Add:


```
nameserver 1.1.1.1
```

!! If you want to use Adguard home

It's the best to set DNS of AdGuard home server in ''router'' and resolve.conf should have ''router's IP'' set</pre>
</div>
<div tags="" title="Fix grey question marks on all proxmox VMs">
<pre>```
service pve-cluster stop
service corosync stop
service pvestatd stop
service pveproxy stop
service pvedaemon stop

service pve-cluster start
service corosync start
service pvestatd start
service pveproxy start
service pvedaemon start
```
</pre>
</div>
<div tags="" title="Fix internet sharing in windows 11 - not working">
<pre>Source: https://answers.microsoft.com/en-us/windows/forum/all/error-765-internet-connection-sharing-cannot-be/602b52c2-6f93-436c-954b-80f143aa66b2

Method 1: Follow the steps below

Set ICS service start mode to Automatic (delayed)

Press Windows + R, type services.msc

Select'' internet connection sharing''

Select startup type as automatic

Restart your PC or stop/start service.

This service will loaded after windows starting in about 5 minutes.


Method 2: To make ICS work on startup.
Go to run-&gt;services.msc but then, aside from checking ICS service, CHECK FOR ''"Routing and Remote Access"'' if it's on manual you need to set it to Automatic-delayed and turned on.
Default was turned "OFF”, not even "Manual".
After you changed it for "Automatic" and pressed start check if it helps.


!!Another solution:

Source: https://www.reddit.com/r/techsupport/comments/7397fa/network_bridge_doesnt_have_a_valid_ip/

I have spent countless hours trying to share my internet connection from one desktop (Windows 10, equipped with a Wifi card) to another (not equipped with a Wifi card), and I have finally found a solution that has worked every time for me. I can share from Windows 10 to any other ethernet equipped device, Windows and Mac. It is bizarre and roundabout, but I haven't seen anyone post anything quite like this so I'm putting it out there anywhere I can.

All you need to do is follow the simple instructions below.

Okay, so:

-﻿Open Internet settings, view network connections

("Change adapter options").

﻿-Right click on your Wifi adapter, go to properties. Go to the sharing tab and disable network sharing if it is enabled.

-Close the properties window, then select your Wifi adapter and your Ethernet.

-Right click and make a network bridge between the two.

-Select the network bridge and disable it.

-Delete the network bridge.

-Right click your Wifi adapter, click properties. Go to the sharing tab and enable sharing again (make sure both boxes are checked).

-Go to the settings tab, make sure all of the boxes are checked except for "Microsoft Network Adapter Multiplexor Protocol".

-If you have online games that use PunkBuster, reinstall PunkBuster.

Any time your network sharing stops working, simply repeat these steps to get it back up and running.

And that's it.﻿ If you've followed all these instructions, it should work. Again, I don't know how or why, but this has worked 100% of the time for me. Hopefully this saves some people a headache!
 </pre>
</div>
<div tags="" title="fix mortal kombat 11 xbox gamepad issue">
<pre>edit C:\Users\YOUR_USERNAME\AppData\Local\MK11\UserSettingsDX12.ini

set direct input = off</pre>
</div>
<div tags="" title="Fix No Sound Through HDMI In External Monitor In Ubuntu Linux">
<pre>sudo apt-get install pavucontrol

pavucontrol</pre>
</div>
<div tags="" title="Fix proxmox management IP v2">
<pre>Connect physically to proxmox host

If there is no shell prompt short press the power button for proxmox to gracefully power off

Start proxmox in advanced mode during boot

Edit network interface


```
nano /etc/network/interface
```

set correct IP and gateway for management port

```
auto vmbr0
iface vmbr0 inet static
        address 192.168.1.5/24
        gateway 192.168.1.1
```

Set correct IP in hosts


```
nano /etc/hosts
```

Correct IP in second line


```
nano /etc/resolv.conf
```

Correct DNS IP if needed

Restart network


```
ifdown vmbr0; ifup vmbr0
```
</pre>
</div>
<div tags="" title="Fix windows file sharing lockout errors 4740 1909">
<pre>!!Start  user manager 

and clear wrong stored passwords


```
rundll32.exe keymgr.dll, KRShowKeyMgr
```
</pre>
</div>
<div tags="" title="Fix windows machine cannot receive ping">
<pre>Open Windows Firewall:
Press Win + R, type firewall.cpl, and press Enter.

Advanced Settings:
In the left pane, click on Advanced settings.

Inbound Rules:
In the left pane, click on Inbound Rules.

New Rule:
In the right pane, click on New Rule.

Rule Type:
Select Custom and click Next.

Program:
Select All programs and click Next.

Protocol and Ports:
Select ICMPv4 from the Protocol type dropdown and click Next.

Scope:
Leave the default settings and click Next.

Action:
Select Allow the connection and click Next.

Profile:
Select all profiles (Domain, Private, Public) and click Next.
Name:

Give the rule a name, like “Allow ICMPv4”, and click Finish.</pre>
</div>
<div tags="" title="Fixing NetworkManager Bond Interface Configuration">
<pre>! Bond Interface Configuration Guide


! Problem Statement
The bond interface `bond0` is not properly configured in NetworkManager, with slave interfaces failing to connect due to naming inconsistencies.

! Solution Steps

!! 1. Clean Up Existing Configuration


```
sudo nmcli connection delete bond-slave-enp14s0f3u3
sudo nmcli connection delete bond-slave-enp2s0f0u1
sudo nmcli connection delete bond-slave-enp2s0f0u2
sudo nmcli connection delete bond0 2&gt;/dev/null # Silently fail if doesn't exist
```


!! 2. Create Bond Interface


```
sudo nmcli connection add type bond ifname bond0 con-name bond0 mode broadcast ip4 10.0.0.2/24

```


!! 3. Add Slave Interfaces


```
sudo nmcli connection add type bond-slave ifname enp14s0f3u3 con-name bond-slave-enp14s0f3u3 master bond0

sudo nmcli connection add type bond-slave ifname enp2s0f0u1 con-name bond-slave-enp2s0f0u1 master bond0

sudo nmcli connection add type bond-slave ifname enp2s0f0u2 con-name bond-slave-enp2s0f0u2 master bond0
```


!! 4. Activate Connections


```
sudo nmcli connection up bond0
sudo nmcli connection up bond-slave-enp14s0f3u3
sudo nmcli connection up bond-slave-enp2s0f0u1
sudo nmcli connection up bond-slave-enp2s0f0u2
```


!! 5. Verification Commands


```
nmcli connection show
cat /proc/net/bonding/bond0
ip addr show bond0
```

! Troubleshooting

!! If interfaces are used by other profiles:


```
nmcli device status
sudo nmcli device disconnect enp14s0f3u3
sudo nmcli device disconnect enp2s0f0u1
sudo nmcli device disconnect enp2s0f0u2
```


!! Bring up physical interfaces:


```
sudo ip link set enp14s0f3u3 up
sudo ip link set enp2s0f0u1 up
sudo ip link set enp2s0f0u2 up
```


! Key Notes
* Order of operations is critical
* Explicit connection names prevent inconsistencies
* Broadcast mode is currently configured
* Bond must be created before slaves

!! Restart NetworkManager for bond0 to appear in KDE network settings
first fix permissions then restart the manager


```
sudo chmod 777 /etc/NetworkManager/system-connections/*

sudo systemctl restart NetworkManager
```




!!To monitor each interface of bond0 in real time

```
sudo dnf install bwm-ng

watch -n1 "sudo bwm-ng -o plain -c1 -t1000 -T bond0,enp14s0f3u3,enp2s0f0u1,enp2s0f0u2 2&gt;/dev/null"
```

!!To prevent bond0 to go to internet

In KDE network manager 

select bond0/IPv4/routes/''Use only for resources on this connection''/OK</pre>
</div>
<div tags="" title="Format disk 4k in windows">
<pre>https://www.reddit.com/r/unRAID/comments/q3wt7q/format_to_4096_byte_sectors/</pre>
</div>
<div tags="" title="FPS frame limiter RTSS v4">
<pre>RivaTuner Statistics Server

Limiting FPS

https://www.guru3d.com/download/rtss-rivatuner-statistics-server-download/

Works with AMD Fluid Motion Frames AFMF

With AFMF turned on RTSS FPS is double of set in RTSS (set ''30 ''to get actual ''60 ''FPS)

To reduce shuttering put ''scanline sync'' to negative value 

!!Example:

On 3840 x 2160 resolution (4K), the Sync total is 2250. In my experience, for most games running in 4K, the tear line disappears with Sync line 0 set to 2110. 2250 - 2110 = 140. Therefore, you type in "-140" in RTSS's box dedicated to Scanline sync, or simply edit the game's CFG file to include "SyncScanline0=''-140''".

Important: you must use negative numbers. Chief Blur Buster explains why here.


Source: https://www.resetera.com/threads/guide-how-to-use-rtsss-scanline-sync-to-reduce-stuttering-screen-tearing-and-input-lag-on-pc-alternative-to-vsync-g-sync-and-freesync.138764/

Video: https://www.youtube.com/watch?v=eiNBlYca4Os

!!Disable fullscreen optimizations

Right-click the game's EXE and select "Properties";
In the "Compatibility" tab, select (mark) the checkbox labeled "Disable fullscreen optimizations";
Additionally, click on the button labeled "Change high DPI settings" and make sure that the checkbox labeled "Override high DPI scaling behavior" is also selected (marked) and that scaling is set to be performed by "Application". Click on "OK";
Click on "Apply", then "OK".</pre>
</div>
<div bag="default" created="20210417200034754" creator="sharicov" modified="20210417200240191" modifier="sharicov" revision="2" tags="manual" title="Free space in Linux" type="text/vnd.tiddlywiki">
<pre>!!! Remove locales to free space: 


```
sudo apt install localepurge; sudo localepurge 
```

!!!Remove package PackageName with all dependencies:

```
sudo apt purge PackageName
sudo autoremove
```
</pre>
</div>
<div tags="" title="Free undelete/recovery tools for windows">
<pre>Free undelete windows
Here are some free tools you can use to undelete files on Windows:

''Recuva'': A popular file recovery tool that can recover files from your Windows computer, recycle bin, digital camera card, or MP3 player. It offers both a free and a professional version. https://www.ccleaner.com/recuva

''Windows File Recovery'': A free tool from Microsoft available on the Microsoft Store. It supports many file types and can recover data from hard drives, SSDs, USB drives, and memory cards. https://apps.microsoft.com/detail/9n26s50ln705?hl=en-us&amp;gl=US

''Kickass Undelete'': A free, open-source file recovery tool for Windows. It can recover deleted files from hard drives, flash drives, and SD cards. https://kickassundelete.sourceforge.net/</pre>
</div>
<div tags="" title="Free wallpaper collections 4k v3">
<pre>https://www.wallpaperflare.com/

https://www.wallpaperflare.com/search?wallpaper=PC+gaming

https://www.reddit.com/r/wallpapers/comments/e7x2ty/the_old_apple_clown_fish_wallpaper_upscaled_to/</pre>
</div>
<div tags="" title="FreshRSS 403 error fix">
<pre>```
vi /config/www/freshrss/data/config.php
```

change 

'auth_type' =&gt; 'form', 

to 

'auth_type' =&gt; 'none',

''User name is case sensitive
''

source: https://github.com/FreshRSS/FreshRSS/issues/1082?utm_source=pocket_mylist</pre>
</div>
<div created="20210511070853649" modified="20210511070918503" tags="manual" title="FreshRSS add feed direct link">
<pre>https://r4s.noho.st/rss/i/?c=subscription</pre>
</div>
<div tags="" title="FriendlyRSS v2">
<pre>Docker:

Start container with ''host ''networking to enable internet access from inside the container.

With host network ports can't be remapped, not working</pre>
</div>
<div created="20210418175556381" modified="20210418180127253" tags="manual" title="fsck check EXT4 BTRFS disk v12">
<pre>BTRFS Wiki: https://btrfs.wiki.kernel.org/index.php/FAQ

!!Tune BTRFS:

Source: https://www.thegeekdiary.com/how-to-tune-btrfs-filesystem-for-better-performance/

Stop all apps using disk (ex. samba server), unmount and mount with options as below:

```
fdisk -l

service smbd stop

service smbd status
```

Check if any other process uses the disk (ex. mounted in /media/usb)


```
lsof +f -- /media/usb

fuser -m /media/usb
```
Check this process running details

```
ps -aux |grep -i rclone
```

If there is a process using it (ex. rclone) kill it

```
killall rclone
```

In case of rclone (sync.sh) scheduled process should be disabled in crontab

```
crontab -e
```

Mark # the sync.sh line

!!Remount fstab if needed (was mount -a)


```
systemctl daemon-reload
```


&lt;&lt;&lt;
Old

```

/etc/init.d/samba4 stop

/etc/init.d/samba4 status

```

&lt;&lt;&lt;

```

umount /dev/sdX1

sudo e2fsck -Dy /dev/sdbX1

mount -t btrfs -o autodefrag,noatime,nodatacow,space_cache /dev/sdX1 /media/usb/

/etc/init.d/samba4 start

```

!Note:

```

''autodefrag,noatime,nodatacow,space_cache ''parameters can affect performance on slow ARM systems. In case of performance hit mount with ''defaults,noatime'' parameters.

!!Check errors on BTRFS mount:


```
btrfs dev stats -z /media/usb

Output:


```
[/dev/sda1].write_io_errs    0
[/dev/sda1].read_io_errs     0
[/dev/sda1].flush_io_errs    0
[/dev/sda1].corruption_errs  0
[/dev/sda1].generation_errs  0
```


!!To check once all disk on boot
 (for disks that cannot be unmounted):

```
touch /forcefsck

reboot
```

After reboot check if file exists and delete it:


```
ls -al /forcefsck
rm /forcefsck
sudo e2fsck -Dy /dev/sdbX
```

Use lsof | grep /media/whatever to find out what is using the mount.

Also, consider umount -l (lazy umount) to prevent new processes from using the drive while you clean up.


```
lsof +f -- /media/usb0
```



```
fuser -m /media/usb0
```

Example script for BTRFS error notification:


```
#!/bin/bash
if mountpoint -q /mnt/cache; then
btrfs dev stats -c /mnt/cache
if [[ $? -ne 0 ]]; then /usr/local/emhttp/webGui/scripts/notify -i warning -s "ERRORS on cache pool"; fi
fi
```


!! Open files

Processes with open files are the usual culprits. Display them:


```
lsof +f -- &lt;mountpoint or device&gt;
```


There is an advantage to using /dev/&lt;device&gt; rather than /mountpoint: a mountpoint will disappear after an umount -l, or it may be hidden by an overlaid mount.

fuser can also be used, but to my mind lsof has a more useful output. However fuser is useful when it comes to killing the processes causing your dramas so you can get on with your life.

List files on &lt;mountpoint&gt; (see caveat above):


fuser -vmM &lt;mountpoint&gt;


Interactively kill only processes with files open for writing:

fuser -vmMkiw &lt;mountpoint&gt;

After remounting read-only (mount -o remount,ro &lt;mountpoint&gt;), it is safe(r) to kill all remaining processes:

fuser -vmMk &lt;mountpoint&gt;

Mountpoints

The culprit can be the kernel itself. Another filesystem mounted on the filesystem you are trying to umount will cause grief. Check with:

mount | grep &lt;mountpoint&gt;/

For loopback mounts (thanks Stephen Kitt), also check the output of:

losetup -la

Anonymous inodes (Linux)

Anonymous inodes can be created by:

    Temporary files (open with O_TMPFILE)
    inotify watches
    [eventfd]
    [eventpoll]
    [timerfd]

These are the most elusive type of pokemon, and appear in lsof's TYPE column as a_inode (which is undocumented in the lsof man page).

They won't appear in lsof +f -- /dev/&lt;device&gt;, so you'll need to:

lsof | grep a_inode

For killing processes holding anonymous inodes, see: List current inotify watches (pathname, PID).
inotify watches (Linux)

This comment explains why inotify shouldn't prevent an unmount, but this note describes the situations in which it will:

    an unmount can hang in the vx_softcnt_flush() call. The hang occurs because inotify watches increment the i_count variable and cause the v_os_hold value to remain elevated until the inotify watcher releases the hold.

Source: https://unix.stackexchange.com/questions/3109/how-do-i-find-out-which-processes-are-preventing-unmounting-of-a-device</pre>
</div>
<div tags="" title="Full log fix x96 /var/log">
<pre>!!Troubleshoot no space left on devce

```
df -h 

journalctl -b

journalctl --vacuum-time=10d

ncdu /var/log/

ncdu /var/log.hdd/
```

In ncdu press "d" on atop line to delete

</pre>
</div>
<div tags="" title="Fusion openwrt torrentserver v1">
<pre>Download latest build for linux arm64


```
wget https://github.com/YouROK/TorrServer/releases/download/MatriX.117/TorrServer-linux-arm64
```

Optional: copy existing config.db from another computer


```
scp root@192.168.3.96:/media/usb/config.db .
```




```
chmod +x TorrServer-linux-arm64
```
Start script manually:


```
/root/TorrServer-linux-arm64 -d . &amp;
```



Auto start on boot:

vi /etc/rc.local

Add ''before'' exit 0


```
/root/TorrServer-linux-arm64 -d . &amp;
```
</pre>
</div>
<div tags="" title="fusionwrt docker fix network v1">
<pre>''luci/admin/network/network/docker''

Check

```
Enable on start
```

''luci/admin/docker/overview''

Restart docker

!!Open docker ports outside:

luci/admin/docker/config

add necesarry ports in ''Ports allowed to be accessed'' from drop-down menu

!!Allow access from outside (WAN):

''luci/admin/network/firewall''

In WAN set everything to ''accept''

!!To connect port 9000 from WAN add firewall rule:

'luci/admin/network/firewall/rules''

Name: portainer wan
Protocol: TCP
Port: 9000

''Save and Apply''</pre>
</div>
<div tags="" title="FusionWRT v9">
<pre>Note:

SAMBA not working properly

DNS resets to non working each reboot

download release with docker (also comes overclocked)

https://github.com/DHDAXCW/NanoPi-R4S

Connect to LAN port (identified with LAN LED):

192.168.2.1 root password


Fix aria2 with running:


```
chmod 0777 /mnt/sda1/Downloads
```

Adguard home: root admin

File browser (filebrowser): admin admin

Fix DNS:
Network/DNS remove 

127.0.0.1#5335 

add 1.1.1.1


Auto run TorrServer on boot:
wget TorrServer from github (YouROK repository)


```
nano /etc/rc.local
```


Add (make sure config.db is in the /media/usb):

/root/TorrServer-linux-arm64 -d /media/usb &amp;
exit 0

rcloune

In /root run:


```
rclone config --config rclone.conf
```


Or in windows a


```
rclone config --config="rclone.conf"
```

nd then upload the rclone.conf to (with fusionWRT file browser):


```
/root/.config/rclone/rclone.conf
```
</pre>
</div>
<div tags="" title="Game launcher html chat.deepseek.com AI generated">
<pre>Add RAWG.IO API

RAWG.IO API: https://rawg.io/@sharicov/apikey 

```
# Define the path to the games directory
$gamesPath = "W:\"

# Define the output HTML file path (in the running folder)
$outputFilePath = "$PSScriptRoot\GameLibrary.html"

# Define folders to exclude
$excludedFolders = @(
    "iso", "backup", "ai", "_Redist", "InstantUpload", "Unsorted", 
    "Detskie.skazki.s.plastinok.1969-1982.MP3.32-256.kbps", 
    "Installations_games", "Drivers", "Downloads", "lost+found", 
    "Wallpapers", "System Volume Information", "Tools", "Emulators", 
    "Movies"
)

# Get all first-level folders (categories) in the games directory, excluding specified folders
$categories = Get-ChildItem -Path $gamesPath -Directory | Where-Object { $excludedFolders -notcontains $_.Name }

# Initialize counter for progress
$totalCategories = $categories.Count
$currentCategory = 0

# Create the HTML content
$htmlContent = @"
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Game Library&lt;/title&gt;
    &lt;style&gt;
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            color: #333;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode {
            background-color: #121212;
            color: #ffffff;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #fff;
            border-bottom: 1px solid #ddd;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .header.dark-mode {
            background-color: #1f1f1f;
            border-bottom: 1px solid #444;
        }
        .search-bar {
            flex: 1;
            margin: 0 20px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .search-bar.dark-mode {
            background-color: #333;
            color: #fff;
            border-color: #444;
        }
        .style-dropdown, .mode-button, .hide-category-button {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            cursor: pointer;
        }
        .style-dropdown.dark-mode, .mode-button.dark-mode, .hide-category-button.dark-mode {
            background-color: #333;
            color: #fff;
            border-color: #444;
        }
        .category-links {
            display: flex;
            justify-content: center;
            padding: 10px;
            background-color: #f1f1f1;
            border-bottom: 1px solid #ddd;
            position: sticky;
            top: 60px;
            z-index: 999;
        }
        .category-links.dark-mode {
            background-color: #1f1f1f;
            border-bottom: 1px solid #444;
        }
        .category-links a {
            margin: 0 10px;
            color: #333;
            text-decoration: none;
        }
        .category-links.dark-mode a {
            color: #fff;
        }
        .category {
            margin: 20px 0;
        }
        .category-title {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            padding-left: 20px;
            display: flex;
            align-items: center;
        }
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        .game-card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .game-card:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .game-card.dark-mode {
            background-color: #1f1f1f;
            border-color: #444;
        }
        .game-thumbnail {
            width: 100%;
            height: 180px;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 20px;
        }
        .game-info {
            padding: 15px;
        }
        .game-title {
            font-size: 18px;
            font-weight: bold;
            margin: 0 0 10px 0;
        }
        .game-description {
            font-size: 14px;
            color: #666;
        }
        .game-description.dark-mode {
            color: #aaa;
        }
        .hidden {
            display: none;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="header"&gt;
        &lt;select class="style-dropdown" onchange="changeStyle(this.value)"&gt;
            &lt;option value="default"&gt;Default Style&lt;/option&gt;
            &lt;option value="material"&gt;Material Design&lt;/option&gt;
            &lt;option value="neon"&gt;Neon Glow&lt;/option&gt;
            &lt;option value="minimal"&gt;Minimalist&lt;/option&gt;
        &lt;/select&gt;
        &lt;input type="text" class="search-bar" placeholder="Search games..." oninput="filterGames(this.value)"&gt;
        &lt;button class="mode-button" onclick="toggleDarkMode()"&gt;Switch to Dark Mode&lt;/button&gt;
    &lt;/div&gt;
    &lt;div class="category-links"&gt;
"@

# Add category links at the top
foreach ($category in $categories) {
    $categoryName = $category.Name
    $htmlContent += "&lt;a href='#$categoryName'&gt;$categoryName&lt;/a&gt;"
}

$htmlContent += @"
    &lt;/div&gt;
"@

# Function to clean up game names
function Clean-GameName {
    param (
        [string]$name
    )
    # Remove "build", "rus", "v.", or "v" with numbers
    $name = $name -replace "(build|rus|v\.?\d+).*", ""
    # Replace dots with spaces
    $name = $name -replace "\.", " "
    # Trim any leading or trailing spaces
    $name = $name.Trim()
    return $name
}

# Function to fetch screenshot from RAWG.IO
function Get-GameScreenshot {
    param (
        [string]$gameName
    )
    $apiKey = "YOUR_RAWG_API_KEY"  # Replace with your RAWG API key
    $url = "https://api.rawg.io/api/games?search=$gameName&amp;key=$apiKey"
    try {
        $response = Invoke-RestMethod -Uri $url -Method Get
        if ($response.results.Count -gt 0) {
            return $response.results[0].background_image
        }
    } catch {
        Write-Warning "Failed to fetch screenshot for $gameName"
    }
    return $null
}

# Loop through each category and add games to the HTML content
foreach ($category in $categories) {
    $currentCategory++
    $categoryName = $category.Name
    $games = Get-ChildItem -Path $category.FullName | Where-Object { $excludedFolders -notcontains $_.Name }

    # Add category title with hide/unhide button
    $htmlContent += @"
        &lt;div class="category" id="$categoryName"&gt;
            &lt;div class="category-title"&gt;
                $categoryName
                &lt;button class="hide-category-button" onclick="toggleCategory('$categoryName')"&gt;Hide&lt;/button&gt;
            &lt;/div&gt;
            &lt;div class="game-grid"&gt;
"@

    # Loop through each game in the category
    foreach ($game in $games) {
        $gameName = Clean-GameName -name $game.Name
        $screenshotUrl = Get-GameScreenshot -gameName $gameName

        $htmlContent += @"
                &lt;div class="game-card"&gt;
                    &lt;div class="game-thumbnail" style="background-image: url('$screenshotUrl'); background-size: cover;"&gt;
                        $gameName
                    &lt;/div&gt;
                    &lt;div class="game-info"&gt;
                        &lt;div class="game-title"&gt;$gameName&lt;/div&gt;
                        &lt;div class="game-description"&gt;Game description goes here.&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
"@
    }

    $htmlContent += @"
            &lt;/div&gt;
        &lt;/div&gt;
"@

    # Calculate progress percentage
    $progressPercentage = [math]::Round(($currentCategory / $totalCategories) * 100, 2)

    # Display progress bar
    Write-Progress -Activity "Generating HTML" -Status "Progress: $progressPercentage%" -PercentComplete $progressPercentage
}

# Add category links at the bottom
$htmlContent += @"
    &lt;div class="category-links"&gt;
"@
foreach ($category in $categories) {
    $categoryName = $category.Name
    $htmlContent += "&lt;a href='#$categoryName'&gt;$categoryName&lt;/a&gt;"
}
$htmlContent += @"
    &lt;/div&gt;
    &lt;script&gt;
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            document.querySelector('.header').classList.toggle('dark-mode');
            document.querySelector('.search-bar').classList.toggle('dark-mode');
            document.querySelector('.style-dropdown').classList.toggle('dark-mode');
            document.querySelector('.mode-button').classList.toggle('dark-mode');
            document.querySelectorAll('.game-card').forEach(card =&gt; card.classList.toggle('dark-mode'));
            document.querySelectorAll('.game-description').forEach(desc =&gt; desc.classList.toggle('dark-mode'));
            document.querySelectorAll('.category-links').forEach(links =&gt; links.classList.toggle('dark-mode'));
            document.querySelectorAll('.hide-category-button').forEach(button =&gt; button.classList.toggle('dark-mode'));
            const button = document.querySelector('.mode-button');
            button.textContent = button.textContent.includes('Dark') ? 'Switch to Light Mode' : 'Switch to Dark Mode';
        }

        function filterGames(searchTerm) {
            const gameCards = document.querySelectorAll('.game-card');
            gameCards.forEach(card =&gt; {
                const title = card.querySelector('.game-title').textContent.toLowerCase();
                if (title.includes(searchTerm.toLowerCase())) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function toggleCategory(categoryId) {
            const category = document.getElementById(categoryId);
            const button = category.querySelector('.hide-category-button');
            if (category.classList.contains('hidden')) {
                category.classList.remove('hidden');
                button.textContent = 'Hide';
            } else {
                category.classList.add('hidden');
                button.textContent = 'Show';
            }
        }

        function changeStyle(style) {
            const gameGrids = document.querySelectorAll('.game-grid');
            if (style === 'material') {
                gameGrids.forEach(grid =&gt; grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(280px, 1fr))');
            } else if (style === 'neon') {
                gameGrids.forEach(grid =&gt; grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(300px, 1fr))');
            } else if (style === 'minimal') {
                gameGrids.forEach(grid =&gt; grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(240px, 1fr))');
            } else {
                gameGrids.forEach(grid =&gt; grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(320px, 1fr))');
            }
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;!--
Generated by PowerShell Script:
- Lists all games in W:\ where level-one folders are categories and level-two folders/filenames are game names.
- Excludes specified folders: iso, backup, ai, _Redist, InstantUpload, Unsorted, Detskie.skazki.s.plastinok.1969-1982.MP3.32-256.kbps, Installations_games, Drivers, Downloads, lost+found, Wallpapers, System Volume Information, Tools, Emulators, Movies.
- Creates an HTML file in the running folder, styled like YouTube with a 320x240 grid.
- Separates games by category with category names.
- Adds navigation links to each category at the top and bottom of the HTML (sticky during scrolling).
- Allows hiding/unhiding categories with a button.
- Includes a dropdown to change styles (using popular styles from the internet).
- Includes a button to switch between dark/light mode.
- Includes a search bar at the top middle.
- Cleans up game names by removing "build", "rus", "v.", or "v" with numbers and replacing dots with spaces.
- Fetches screenshots from RAWG.IO for each game.
--&gt;
"@

# Save the HTML content to a file
$htmlContent | Out-File -FilePath $outputFilePath -Encoding UTF8

Write-Host "HTML file generated at $outputFilePath"
```
</pre>
</div>
<div tags="" title="GameLauncher Deepseek creates html with game library v.9.1">
<pre>Powershell script searches game titles installed in folder W:\ when first level folders are game categories (action. 2d games etc) and second level folders and vhd files are games.
Script compares titles and screenshot with previously generated html in the running folder and then fetches new games' screenshots and genres from RAWG.IO

There is an option to provide first level folders to exclude from scanning.

Script shows progress while working.

To add right side sliding bar with youtube gameplay search when clicking on the screenshot


```
# Start timer to measure script execution time
$scriptStartTime = Get-Date

# Define the path to the games directory
$gamesPath = "W:\"

# Define the script version
$scriptVersion = "v9.1"

# Define the output HTML file name with version, date, and time
$currentDateTime = Get-Date -Format "yyyyMMdd_HHmmss"
$outputFilePath = "$PSScriptRoot\GameLibrary_$scriptVersion`_$currentDateTime.html"

# Define folders to exclude
$excludedFolders = @(
    "iso", "backup", "ai", "_Redist", "InstantUpload", "Unsorted", 
    "Detskie.skazki.s.plastinok.1969-1982.MP3.32-256.kbps", 
    "Installations_games", "Drivers", "Downloads", "lost+found", 
    "Wallpapers", "System Volume Information", "Tools", "Emulators", 
    "Movies"
)

# Function to clean up game names
function Clean-GameName {
    param (
        [string]$name
    )
    # Remove "build", "rus", "v.", or "v" with numbers
    $name = $name -replace "(build|rus|v\.?\d+).*", ""
    # Replace dots and underscores with spaces
    $name = $name -replace "[\._]", " "
    # Remove .vhd or .vhdx extensions
    $name = $name -replace "\.vhd(x)?$", ""
    # Trim any leading or trailing spaces
    $name = $name.Trim()
    return $name
}

# Clear the console and show initial progress
Clear-Host
Write-Host "=============================================="
Write-Host " GameLauncher Script $scriptVersion - Starting"
Write-Host "=============================================="
Write-Host ""

# Get all first-level folders (categories) in the games directory, excluding specified folders
Write-Host "[1/6] Identifying game categories..."
$categories = Get-ChildItem -Path $gamesPath -Directory | Where-Object { $excludedFolders -notcontains $_.Name }
Write-Host "  Found $($categories.Count) categories: $($categories.Name -join ', ')"

# Calculate the total number of games across all categories
Write-Host "[2/6] Counting games in each category..."
$totalGames = 0
$categoryCounts = @{}
foreach ($category in $categories) {
    $games = Get-ChildItem -Path $category.FullName | Where-Object { $excludedFolders -notcontains $_.Name }
    $count = $games.Count
    $categoryCounts[$category.Name] = $count
    $totalGames += $count
}
Write-Host "  Total games found: $totalGames"

# Initialize counters for added and removed games
$addedGames = @()
$removedGames = @()

# Find the latest GameLibrary HTML file
Write-Host "[3/6] Looking for previous HTML file for comparison..."
$latestHtmlFile = Get-ChildItem -Path $PSScriptRoot -Filter "GameLibrary_*.html" | 
                  Sort-Object LastWriteTime -Descending | 
                  Select-Object -First 1

# If a latest HTML file exists, load its content to compare games
if ($latestHtmlFile) {
    Write-Host "  Using previous HTML file: $($latestHtmlFile.Name)"
    $latestHtmlContent = Get-Content -Path $latestHtmlFile.FullName -Raw

    # Extract game cards with both image and genres
    $gameCardPattern = '&lt;div class="game-card dark-mode"&gt;.*?&lt;div class="game-thumbnail".*?url\(''([^'']+)''\).*?&lt;div class="game-title"&gt;([^&lt;]+)&lt;/div&gt;.*?&lt;div class="game-genres"&gt;(.*?)&lt;/div&gt;'
    $gameCardMatches = [regex]::Matches($latestHtmlContent, $gameCardPattern, [System.Text.RegularExpressions.RegexOptions]::Singleline)
    
    $existingGames = @()
    foreach ($match in $gameCardMatches) {
        if ($match.Success) {
            $gameName = $match.Groups[2].Value.Trim()
            $imageUrl = $match.Groups[1].Value
            $genresHtml = $match.Groups[3].Value
            
            # Extract genres from the HTML
            $genreMatches = [regex]::Matches($genresHtml, '&lt;span class=''game-genre dark-mode''&gt;([^&lt;]+)&lt;/span&gt;')
            $genres = @()
            foreach ($genreMatch in $genreMatches) {
                if ($genreMatch.Success) {
                    $genres += $genreMatch.Groups[1].Value.Trim()
                }
            }
            
            $existingGames += [PSCustomObject]@{
                Name = $gameName
                Image = $imageUrl
                Genres = $genres
            }
        }
    }

    Write-Host "  Found $($existingGames.Count) games in previous HTML file"

    # Compare existing games with current games in folders
    Write-Host "[4/6] Comparing with current game collection..."
    foreach ($category in $categories) {
        $games = Get-ChildItem -Path $category.FullName | Where-Object { $excludedFolders -notcontains $_.Name }
        foreach ($game in $games) {
            $gameName = Clean-GameName -name $game.Name
            if ($existingGames.Name -notcontains $gameName) {
                $addedGames += $gameName
            }
        }
    }

    # Check for removed games
    foreach ($existingGame in $existingGames) {
        $gameFound = $false
        foreach ($category in $categories) {
            $games = Get-ChildItem -Path $category.FullName | Where-Object { $excludedFolders -notcontains $_.Name }
            foreach ($game in $games) {
                $gameName = Clean-GameName -name $game.Name
                if ($gameName -eq $existingGame.Name) {
                    $gameFound = $true
                    break
                }
            }
            if ($gameFound) { break }
        }
        if (-not $gameFound) {
            $removedGames += $existingGame.Name
        }
    }
} else {
    Write-Host "  No previous HTML file found. Generating a new catalog."
}

# Function to fetch game details (screenshot and genres) from RAWG.IO
function Get-GameDetails {
    param (
        [string]$gameName
    )
    $apiKey = "XXXXX"  # Replace with your RAWG API key
    $url = "https://api.rawg.io/api/games?search=$gameName&amp;key=$apiKey"
    try {
        $response = Invoke-RestMethod -Uri $url -Method Get
        if ($response.results.Count -gt 0) {
            $screenshot = $response.results[0].background_image
            $genres = $response.results[0].genres | ForEach-Object { $_.name }
            return @{
                Screenshot = $screenshot
                Genres = $genres
            }
        }
    } catch {
        Write-Warning "Failed to fetch details for $gameName"
    }
    return @{
        Screenshot = "$PSScriptRoot\GameCatalogue.jpg"
        Genres = @()
    }
}

# Create the HTML content
Write-Host "[5/6] Generating HTML content..."
$htmlHeader = @'
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Game Library&lt;/title&gt;
    &lt;style&gt;
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #ffffff;
            transition: background-color 0.3s, color 0.3s;
        }
        body.light-mode {
            background-color: #ffffff;
            color: #121212;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #1f1f1f;
            border-bottom: 1px solid #444;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .header.light-mode {
            background-color: #f0f0f0;
            border-bottom: 1px solid #ccc;
        }
        .search-container {
            display: flex;
            align-items: center;
            flex: 1;
            margin-right: 20px;
        }
        .search-bar {
            flex: 1;
            padding: 8px;
            border: 1px solid #444;
            border-radius: 4px;
            background-color: #333;
            color: #fff;
        }
        .search-bar.light-mode {
            background-color: #fff;
            color: #121212;
            border-color: #ccc;
        }
        .clear-button {
            margin-left: 10px;
            padding: 8px;
            border: 1px solid #444;
            border-radius: 4px;
            background-color: #333;
            color: #fff;
            cursor: pointer;
        }
        .clear-button.light-mode {
            background-color: #fff;
            color: #121212;
            border-color: #ccc;
        }
        .total-games {
            font-weight: bold;
            margin-left: 20px;
        }
        .mode-button {
            padding: 8px;
            border: 1px solid #444;
            border-radius: 4px;
            background-color: #333;
            color: #fff;
            cursor: pointer;
        }
        .mode-button.light-mode {
            background-color: #fff;
            color: #121212;
            border-color: #ccc;
        }
        .category-links {
            display: flex;
            justify-content: center;
            padding: 10px;
            background-color: #1f1f1f;
            border-bottom: 1px solid #444;
            position: sticky;
            top: 60px;
            z-index: 999;
        }
        .category-links.light-mode {
            background-color: #f0f0f0;
            border-bottom: 1px solid #ccc;
        }
        .category-links a {
            margin: 0 10px;
            color: #fff;
            text-decoration: none;
        }
        .category-links.light-mode a {
            color: #121212;
        }
        .category {
            margin: 20px 0;
        }
        .category-title {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            padding-left: 20px;
            display: flex;
            align-items: center;
        }
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        .game-card {
            background-color: #1f1f1f;
            border: 1px solid #444;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }
        .game-card.light-mode {
            background-color: #fff;
            border-color: #ccc;
        }
        .game-card:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .game-thumbnail {
            width: 100%;
            height: 240px;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 20px;
            background-size: cover;
            background-position: center;
        }
        .game-thumbnail.light-mode {
            background-color: #f0f0f0;
            color: #121212;
        }
        .game-info {
            padding: 15px;
        }
        .game-title {
            font-size: 18px;
            font-weight: bold;
            margin: 0 0 10px 0;
        }
        .game-genres {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        .game-genre {
            background-color: #444;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            color: #fff;
        }
        .game-genre.light-mode {
            background-color: #ccc;
            color: #121212;
        }
        /* YouTube panel styles */
        .youtube-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 33.33%;
            height: 100%;
            background-color: #1f1f1f;
            border-left: 1px solid #444;
            z-index: 2000;
            overflow-y: auto;
            transition: transform 0.3s ease;
            transform: translateX(100%);
        }
        .youtube-panel.light-mode {
            background-color: #f0f0f0;
            border-left-color: #ccc;
        }
        .youtube-panel.active {
            transform: translateX(0);
        }
        .youtube-panel iframe {
            width: 100%;
            height: 300px;
            border: none;
        }
        .youtube-panel-header {
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #444;
        }
        .youtube-panel-header.light-mode {
            border-bottom-color: #ccc;
        }
        .youtube-panel-title {
            font-size: 18px;
            font-weight: bold;
        }
        .youtube-panel-close {
            cursor: pointer;
            font-size: 24px;
        }
        .youtube-panel-content {
            padding: 15px;
        }
        .youtube-result {
            margin-bottom: 15px;
            border-bottom: 1px solid #444;
            padding-bottom: 15px;
        }
        .youtube-result.light-mode {
            border-bottom-color: #ccc;
        }
        .youtube-result-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .youtube-result-channel {
            color: #aaa;
            font-size: 14px;
            margin-bottom: 5px;
        }
        .youtube-result-channel.light-mode {
            color: #666;
        }
        .youtube-result-description {
            font-size: 14px;
            color: #ccc;
            margin-bottom: 10px;
        }
        .youtube-result-description.light-mode {
            color: #666;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body class="dark-mode"&gt;
    &lt;div class="overlay" id="overlay"&gt;&lt;/div&gt;
    &lt;div class="youtube-panel dark-mode" id="youtubePanel"&gt;
        &lt;div class="youtube-panel-header dark-mode"&gt;
            &lt;div class="youtube-panel-title" id="youtubePanelTitle"&gt;Gameplay Videos&lt;/div&gt;
            &lt;div class="youtube-panel-close" onclick="closeYouTubePanel()"&gt;×&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="youtube-panel-content" id="youtubePanelContent"&gt;
            Loading gameplay videos...
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="header dark-mode"&gt;
        &lt;div class="search-container"&gt;
            &lt;input type="text" class="search-bar dark-mode" placeholder="Search games or genres..." oninput="filterGames(this.value)"&gt;
            &lt;button class="clear-button dark-mode" onclick="clearSearch()"&gt;Clear&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="category-links dark-mode"&gt;
'@

$htmlContent = $htmlHeader

# Add category links at the top
foreach ($category in $categories) {
    $categoryName = $category.Name
    $htmlContent += "&lt;a href='#$categoryName'&gt;$categoryName&lt;/a&gt;`n"
}

$htmlContent += @'
        &lt;/div&gt;
        &lt;div class="total-games"&gt;Total Games: 
'@
$htmlContent += "$totalGames&lt;/div&gt;"
$htmlContent += @'
        &lt;button class="mode-button dark-mode" onclick="toggleDarkMode()"&gt;Switch to Light Mode&lt;/button&gt;
    &lt;/div&gt;
'@

# Initialize counters
$fetchedImages = 0
$progress = 0
$totalSteps = $totalGames

# Loop through each category and add games to the HTML content
foreach ($category in $categories) {
    $categoryName = $category.Name
    $games = Get-ChildItem -Path $category.FullName | Where-Object { $excludedFolders -notcontains $_.Name } | Sort-Object Name

    # Add category title with number of games
    $htmlContent += @"
        &lt;div class="category" id="$categoryName"&gt;
            &lt;div class="category-title"&gt;
                $categoryName ($($games.Count) games)
            &lt;/div&gt;
            &lt;div class="game-grid"&gt;
"@

    # Loop through each game in the category (sorted alphabetically)
    foreach ($game in $games) {
        $gameName = Clean-GameName -name $game.Name
        $existingGame = $existingGames | Where-Object { $_.Name -eq $gameName } | Select-Object -First 1
        
        if ($existingGame) {
            # Use existing game details
            $screenshotUrl = $existingGame.Image
            $genres = $existingGame.Genres
        } else {
            # Fetch new details for new games
            $fetchedImages++
            $gameDetails = Get-GameDetails -gameName $gameName
            $screenshotUrl = $gameDetails.Screenshot
            $genres = $gameDetails.Genres
        }

        $htmlContent += @"
                &lt;div class="game-card dark-mode" onclick="showGameplayVideos('$gameName')"&gt;
                    &lt;div class="game-thumbnail" style="background-image: url('$screenshotUrl');"&gt;&lt;/div&gt;
                    &lt;div class="game-info"&gt;
                        &lt;div class="game-title"&gt;$gameName&lt;/div&gt;
                        &lt;div class="game-genres"&gt;
"@
        foreach ($genre in $genres) {
            $htmlContent += "&lt;span class='game-genre dark-mode'&gt;$genre&lt;/span&gt;`n"
        }
        $htmlContent += @"
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
"@

        # Update progress bar
        $progress++
        $percentComplete = [math]::Min(100, ($progress / $totalSteps) * 100)
        Write-Progress -Activity "Generating HTML" -Status "Processing $gameName ($progress of $totalSteps)" -PercentComplete $percentComplete
    }

    $htmlContent += @"
            &lt;/div&gt;
        &lt;/div&gt;
"@
}

# Add category links at the bottom
$htmlContent += @'
    &lt;div class="category-links dark-mode"&gt;
'@
foreach ($category in $categories) {
    $categoryName = $category.Name
    $htmlContent += "&lt;a href='#$categoryName'&gt;$categoryName&lt;/a&gt;`n"
}

$htmlFooter = @'
    &lt;/div&gt;
    &lt;script&gt;
        // YouTube API key
        const YOUTUBE_API_KEY = 'XXXX';
        let currentVideoIframes = [];
        
        function toggleDarkMode() {
            const body = document.body;
            body.classList.toggle('dark-mode');
            body.classList.toggle('light-mode');
            document.querySelector('.header').classList.toggle('dark-mode');
            document.querySelector('.header').classList.toggle('light-mode');
            document.querySelector('.search-bar').classList.toggle('dark-mode');
            document.querySelector('.search-bar').classList.toggle('light-mode');
            document.querySelector('.clear-button').classList.toggle('dark-mode');
            document.querySelector('.clear-button').classList.toggle('light-mode');
            document.querySelector('.mode-button').classList.toggle('dark-mode');
            document.querySelector('.mode-button').classList.toggle('light-mode');
            document.querySelectorAll('.game-card').forEach(card =&gt; {
                card.classList.toggle('dark-mode');
                card.classList.toggle('light-mode');
            });
            document.querySelectorAll('.game-genre').forEach(genre =&gt; {
                genre.classList.toggle('dark-mode');
                genre.classList.toggle('light-mode');
            });
            document.querySelectorAll('.category-links').forEach(links =&gt; {
                links.classList.toggle('dark-mode');
                links.classList.toggle('light-mode');
            });
            document.querySelector('.youtube-panel').classList.toggle('dark-mode');
            document.querySelector('.youtube-panel').classList.toggle('light-mode');
            document.querySelector('.youtube-panel-header').classList.toggle('dark-mode');
            document.querySelector('.youtube-panel-header').classList.toggle('light-mode');
            document.querySelectorAll('.youtube-result').forEach(result =&gt; {
                result.classList.toggle('dark-mode');
                result.classList.toggle('light-mode');
            });
            document.querySelectorAll('.youtube-result-channel').forEach(channel =&gt; {
                channel.classList.toggle('dark-mode');
                channel.classList.toggle('light-mode');
            });
            document.querySelectorAll('.youtube-result-description').forEach(desc =&gt; {
                desc.classList.toggle('dark-mode');
                desc.classList.toggle('light-mode');
            });
            const button = document.querySelector('.mode-button');
            button.textContent = button.textContent.includes('Light') ? 'Switch to Dark Mode' : 'Switch to Light Mode';
        }

        function filterGames(searchTerm) {
            const gameCards = document.querySelectorAll('.game-card');
            gameCards.forEach(card =&gt; {
                const title = card.querySelector('.game-title').textContent.toLowerCase();
                const genres = card.querySelector('.game-genres').textContent.toLowerCase();
                if (title.includes(searchTerm.toLowerCase()) || genres.includes(searchTerm.toLowerCase())) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function clearSearch() {
            const searchBar = document.querySelector('.search-bar');
            searchBar.value = '';
            filterGames('');
        }

        // YouTube panel functions
        function showGameplayVideos(gameTitle) {
            const panel = document.getElementById('youtubePanel');
            const panelContent = document.getElementById('youtubePanelContent');
            const panelTitle = document.getElementById('youtubePanelTitle');
            const overlay = document.getElementById('overlay');
            
            // Clear any existing videos
            currentVideoIframes = [];
            
            panelTitle.textContent = `${gameTitle} - Gameplay Videos`;
            panelContent.innerHTML = 'Loading gameplay videos...';
            
            // Show panel and overlay
            panel.classList.add('active');
            overlay.style.display = 'block';
            
            // Fetch YouTube videos
            fetchYouTubeVideos(gameTitle);
        }

        function fetchYouTubeVideos(gameTitle) {
            const panelContent = document.getElementById('youtubePanelContent');
            
            // Remove "vhd" from search query if present
            const cleanGameTitle = gameTitle.replace(/vhd/gi, '').trim();
            const encodedGameTitle = encodeURIComponent(`${cleanGameTitle} gameplay`);
            const maxResults = 5;
            
            // Make API request to YouTube
            fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&amp;q=${encodedGameTitle}&amp;maxResults=${maxResults}&amp;key=${YOUTUBE_API_KEY}&amp;type=video`)
                .then(response =&gt; response.json())
                .then(data =&gt; {
                    if (data.items &amp;&amp; data.items.length &gt; 0) {
                        let videosHTML = '';
                        
                        // Create HTML for each video result
                        data.items.forEach(item =&gt; {
                            const videoId = item.id.videoId;
                            const title = item.snippet.title;
                            const channelTitle = item.snippet.channelTitle;
                            const description = item.snippet.description;
                            
                            videosHTML += `
                                &lt;div class="youtube-result dark-mode"&gt;
                                    &lt;div class="youtube-result-title"&gt;${title}&lt;/div&gt;
                                    &lt;div class="youtube-result-channel dark-mode"&gt;${channelTitle}&lt;/div&gt;
                                    &lt;div class="youtube-result-description dark-mode"&gt;${description}&lt;/div&gt;
                                    &lt;iframe src="https://www.youtube.com/embed/${videoId}?enablejsapi=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
                                &lt;/div&gt;
                            `;
                        });
                        
                        // Add a link to view more videos on YouTube
                        videosHTML += `
                            &lt;div style="text-align: center; margin: 20px 0;"&gt;
                                &lt;a href="https://www.youtube.com/results?search_query=${encodedGameTitle}" 
                                   target="_blank" 
                                   style="color: #ff0000; text-decoration: none; font-weight: bold;"&gt;
                                    View all "${cleanGameTitle}" gameplay videos on YouTube
                                &lt;/a&gt;
                            &lt;/div&gt;
                        `;
                        
                        panelContent.innerHTML = videosHTML;
                        
                        // Store references to all iframes
                        currentVideoIframes = Array.from(document.querySelectorAll('iframe'));
                    } else {
                        panelContent.innerHTML = `
                            &lt;div style="text-align: center; padding: 20px;"&gt;
                                No gameplay videos found for "${cleanGameTitle}"
                                &lt;div style="margin-top: 10px;"&gt;
                                    &lt;a href="https://www.youtube.com/results?search_query=${encodedGameTitle}" 
                                       target="_blank" 
                                       style="color: #ff0000; text-decoration: none; font-weight: bold;"&gt;
                                        Search YouTube for "${cleanGameTitle} gameplay"
                                    &lt;/a&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        `;
                    }
                })
                .catch(error =&gt; {
                    console.error('Error fetching YouTube videos:', error);
                    panelContent.innerHTML = `
                        &lt;div style="text-align: center; padding: 20px;"&gt;
                            Error loading gameplay videos. Please try again later.
                            &lt;div style="margin-top: 10px;"&gt;
                                &lt;a href="https://www.youtube.com/results?search_query=${encodedGameTitle}" 
                                   target="_blank" 
                                   style="color: #ff0000; text-decoration: none; font-weight: bold;"&gt;
                                    Search YouTube for "${cleanGameTitle} gameplay"
                                &lt;/a&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    `;
                });
        }

        function closeYouTubePanel() {
            const panel = document.getElementById('youtubePanel');
            const overlay = document.getElementById('overlay');
            
            // Stop all playing videos
            currentVideoIframes.forEach(iframe =&gt; {
                iframe.src = iframe.src.replace('autoplay=1', ''); // Remove autoplay if present
                iframe.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}', '*');
            });
            currentVideoIframes = [];
            
            panel.classList.remove('active');
            overlay.style.display = 'none';
        }

        // Close panel when clicking on overlay
        document.getElementById('overlay').addEventListener('click', closeYouTubePanel);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
'@

$htmlContent += $htmlFooter

# Save the HTML content to a file
$htmlContent | Out-File -FilePath $outputFilePath -Encoding UTF8

# Open the generated HTML in the default browser
Write-Host "[6/6] Opening generated HTML in default browser..."
Start-Process $outputFilePath

# Calculate script execution time
$scriptEndTime = Get-Date
$executionTime = $scriptEndTime - $scriptStartTime

# Display summary
Write-Host "Script completed!"
Write-Host "  HTML file generated at $outputFilePath"

if ($addedGames.Count -gt 0) {
    Write-Host "  Added Games ($($addedGames.Count)):"
    $addedGames | ForEach-Object { Write-Host "    - $_" }
} else {
    Write-Host "  No new games added."
}

if ($removedGames.Count -gt 0) {
    Write-Host "  Removed Games ($($removedGames.Count)):"
    $removedGames | ForEach-Object { Write-Host "    - $_" }
} else {
    Write-Host "  No games removed."
}

Write-Host "  Number of fetched images: $fetchedImages"
Write-Host "  Script execution time: $($executionTime.ToString('hh\:mm\:ss'))"
Write-Host "`n=============================================="
Write-Host " GameLauncher Script $scriptVersion - Completed"
Write-Host "=============================================="</pre>
</div>
<div tags="" title="Gamevault  self hosting games server like steam">
<pre>!!Installation

https://gamevau.lt/docs/server-docs/setup

!!!Client download
https://gamevau.lt/</pre>
</div>
<div tags="" title="gapps android 12">
<pre>https://bitgapps.github.io/download.html

https://sourceforge.net/projects/nikgapps/files/Releases/

https://www.pling.com/p/1341681#files-panel</pre>
</div>
<div created="20210506084654736" modified="20210506085302088" tags="" title="Generate github token, setup TiddlyWiki on github">
<pre>https://github.com/settings/tokens

Click on specific token

Press `regenerate token` button

Copy and paste to My TiddlyWiki settings gear/Password field



Username

`sharicov`

Password, OAUTH token, or personal access token (see GitHub help page for details)	

`••••••••••••••••••••••••••••••••••••••••`

Target repository (e.g. Jermolene/TiddlyWiki5)	

`sharicov/manuals`

Target branch for saving	

`main`

Path to target file (e.g. /wiki/)	

`/`

Filename of target file (e.g. index.html)	

`index.html`

Server API URL	

`https://api.github.com`
</pre>
</div>
<div tags="" title="Get external ip (wan) from terminal console">
<pre>ipv4:

```
curl ifconfig.me
```


ipv6

```
curl ifconfig.co
```
</pre>
</div>
<div tags="" title="get latest file from specific type for scripting">
<pre>Export latest file in directory with .gz extension


```
ls /directory/*.gz -Art | tail -1
```

Source: https://www.baeldung.com/linux/get-recent-file-in-directory#:~:text=Using%20find&amp;text=%2Dtype%20f%3A%20locates%20all%20files,recent%20file%20appearing%20on%20top</pre>
</div>
<div tags="" title="Get linux version in terminal">
<pre>```
hostnamectl
```

Output:


```
 Static hostname: qbittorrent
       Icon name: computer-container
         Chassis: container ☐
      Machine ID: 86d7d9f07bea4245a8907da8b1d6382c
         Boot ID: 86b1e74639124bf99e1395947dc51667
  Virtualization: lxc
Operating System: Debian GNU/Linux 12 (bookworm)  
          Kernel: Linux 6.5.13-5-pve
    Architecture: x86-64
```

More info: https://www.redswitches.com/blog/check-debian-version/</pre>
</div>
<div tags="" title="gitlab on openwrt not working">
<pre>```
# Generate your identity key on openwrt
dropbearkey -t rsa -f ~/.ssh/id_rsa

# Convert public key from dropbear binary to openssh text
# Copy and paste output from below to bitbucket account ssh keys
dropbearkey -y -f ~/.ssh/id_rsa | head -n 2 | tail -1

# Change git ssh command
echo "#!/bin/sh" &gt; ~/.gitssh.sh
echo "dbclient -y -i ~/.ssh/id_rsa $*" &gt;&gt; ~/.gitssh.sh
chmod +x ~/.gitssh.sh
echo "export GIT_SSH=\$HOME/.gitssh.sh" &gt;&gt; /etc/profile
# Now login again to openwrt

# Now use git (finally)
git clone git@bitbucket.org:&lt;user&gt;/&lt;repo&gt;.git
```


troubleshooting:

If echo commands don't work, use vi and paste in the text in the brackets (without the brackets)

example:



```
git clone git@gitlab.com:mojo42/Jirafeau.git
```



To get repository link to clone, press clone button on the top right of the project page and copy Clone with SSH link

Sources:

https://forum.archive.openwrt.org/viewtopic.php?id=47551

https://gitlab.com/mojo42/Jirafeau/</pre>
</div>
<div tags="" title="glances alternative to htop atop showing external IP dockers and temperatures v7">
<pre>!!Installation


```
curl -L https://bit.ly/glances | /bin/bash
```

!!Configuration


```
nano $(locate glances.conf)
```

Quickstart parameters (must read): https://glances.readthedocs.io/en/latest/quickstart.html


Possible parameters: https://glances.readthedocs.io/en/latest/aoa/index.html

!!Run with config file


```
glances -C $(locate glances.conf)
```

!!WebUI

Default port: ''61208''

```
glances -C $(locate glances.conf) -w
```

!!Update


```
 pip install --upgrade glances
```


!!Troubleshooting
If getting externally-managed-environment error,

run


```
pip install pip==23.1.2 --break-system-packages
```

and then install glances again

to upgrade python run:


```
python3 -m pip install --upgrade pip --break-system-packages

pip install --upgrade glances --break-system-packages
```

!! Configuration file



```
grep "^[^#;]"  $(locate glances.conf)
```



```
[global]
refresh=2
check_update=true
history_size=1200
[outputs]
curse_theme=black
max_processes_display=30
[quicklook]
disable=False
percentage_char=|
cpu_careful=50
cpu_warning=70
cpu_critical=90
mem_careful=50
mem_warning=70
mem_critical=90
swap_careful=50
swap_warning=70
swap_critical=90
[system]
disable=False
[cpu]
disable=False
total_careful=65
total_warning=75
total_critical=85
total_log=True
user_careful=50
user_warning=70
user_critical=90
user_log=False
system_careful=50
system_warning=70
system_critical=90
system_log=False
steal_careful=50
steal_warning=70
steal_critical=90
[percpu]
disable=False
user_careful=50
user_warning=70
user_critical=90
iowait_careful=50
iowait_warning=70
iowait_critical=90
system_careful=50
system_warning=70
system_critical=90
[gpu]
disable=False
proc_careful=50
proc_warning=70
proc_critical=90
mem_careful=50
mem_warning=70
mem_critical=90
[mem]
disable=False
careful=50
warning=70
critical=90
[memswap]
disable=False
careful=50
warning=70
critical=90
[load]
disable=False
careful=0.7
warning=1.0
critical=5.0
[network]
disable=False
rx_careful=70
rx_warning=80
rx_critical=90
tx_careful=70
tx_warning=80
tx_critical=90
hide=docker.*,lo
[ip]
disable=False
public_refresh_interval=300
public_ip_disabled=False
censys_url=https://search.censys.io/api
censys_fields=location:continent,location:country,autonomous_system:name
[connections]
disable=True
nf_conntrack_percent_careful=70
nf_conntrack_percent_warning=80
nf_conntrack_percent_critical=90
[wifi]
disable=True
hide=lo,docker.*
careful=-65
warning=-75
critical=-85
[diskio]
disable=False
hide=loop.*,/dev/loop.*
[fs]
disable=False
hide=/boot.*,/snap.*
careful=50
warning=70
critical=90
[irq]
disable=True
[folders]
disable=False
[cloud]
disable=True
[raid]
disable=True
[smart]
disable=True
[hddtemp]
disable=False
host=127.0.0.1
port=7634
[sensors]
disable=False
temperature_hdd_careful=45
temperature_hdd_warning=52
temperature_hdd_critical=60
battery_careful=80
battery_warning=90
battery_critical=95
[processcount]
disable=False
[processlist]
disable=False
cpu_careful=50
cpu_warning=70
cpu_critical=90
mem_careful=50
mem_warning=70
mem_critical=90
nice_warning=-20,-19,-18,-17,-16,-15,-14,-13,-12,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19
[ports]
disable=False
refresh=30
timeout=3
port_default_gateway=True
[containers]
disable=False
max_name_size=20
all=False
[amps]
disable=False
[serverlist]
[passwords]
[graph]
path=/tmp
generate_every=0
width=800
height=600
style=DarkStyle
[influxdb]
host=localhost
port=8086
protocol=http
user=root
password=root
db=glances
[influxdb2]
host=localhost
port=8086
protocol=http
org=nicolargo
bucket=glances
token=EjFUTWe8U-MIseEAkaVIgVnej_TrnbdvEcRkaB1imstW7gapSqy6_6-8XD-yd51V0zUUpDy-kAdVD1purDLuxA==
[cassandra]
host=localhost
port=9042
protocol_version=3
keyspace=glances
replication_factor=2
table=localhost
[opentsdb]
host=localhost
port=4242
[statsd]
host=localhost
port=8125
[elasticsearch]
scheme=http
host=localhost
port=9200
index=glances
[riemann]
host=localhost
port=5555
[rabbitmq]
host=localhost
port=5672
user=guest
password=guest
queue=glances_queue
[mqtt]
host=localhost
port=8883
tls=false
user=guest
password=guest
topic=glances
topic_structure=per-metric
[couchdb]
host=localhost
port=5984
db=glances
[mongodb]
host=localhost
port=27017
db=glances
user=root
password=example
[kafka]
host=localhost
port=9092
topic=glances
[zeromq]
host=*
port=5678
prefix=G
[prometheus]
host=localhost
port=9091
labels=src:glances
[restful]
host=localhost
port=6789
protocol=http
path=/
[graphite]
host=localhost
port=2003
prefix=glances
[amp_dropbox]
enable=false
regex=.*dropbox.*
refresh=3
one_line=false
command=dropbox status
countmin=1
[amp_python]
enable=false
regex=.*python.*
refresh=3
countmax=20
[amp_conntrack]
enable=false
refresh=30
one_line=false
command=sysctl net.netfilter.nf_conntrack_count;sysctl net.netfilter.nf_conntrack_max
[amp_nginx]
enable=false
regex=\/usr\/sbin\/nginx
refresh=60
one_line=false
status_url=http://localhost/nginx_status
[amp_systemd]
enable=false
regex=\/lib\/systemd\/systemd
refresh=30
one_line=true
systemctl_cmd=/bin/systemctl --plain
[amp_systemv]
enable=false
regex=\/sbin\/init
refresh=30
one_line=true
service_cmd=/usr/bin/service --status-all
```
</pre>
</div>
<div tags="" title="gmail attachments to google drive (gdrive)">
<pre>https://flow.microsoft.com/en-us/galleries/public/templates/14cac1c200814387986d11343b292258/save-gmail-attachments-to-your-google-drive/</pre>
</div>
<div tags="" title="google backup security keys generation">
<pre>Source: https://support.google.com/accounts/answer/1187538?hl=en&amp;co=GENIE.Platform%3DDesktop

!!Create &amp; find a set of backup codes
To store your backup codes somewhere safe, like where you keep your passport or other important documents, you can print a copy of them.

Go to your Google Account. 

https://myaccount.google.com/

On the left, click ''Security''.
Under "How you sign in to Google," ''click 2-Step Verification''. You may need to sign in.
Under "''Backup code''s," click Continue .
From here you can:
Get backup codes: To add backup codes, click Get backup codes.
Create a new set of backup codes and inactivate old ones: To create new codes, click Refresh .
Delete your backup codes: To delete and automatically inactivate your backup codes, click Delete Delete.
Download your backup codes: Click Download Codes .
Print your backup codes: Click Print .
Tips:

If you lose or run out of codes, or if you think your backup codes were stolen, you can create a new set. To create a new set of codes, click Refresh .
When you create new codes, your old set automatically becomes inactive.</pre>
</div>
<div tags="" title="Google fastboot driver">
<pre>Install manually from device manager when android phone is in fastboot mode and connected. (Power and volume down pressed on boot)

Download location: https://developer.android.com/studio/run/win-usb</pre>
</div>
<div tags="" title="Google photos export to zip direct link">
<pre>https://takeout.google.com/settings/takeout/custom/photos?utm_medium=organic-nav&amp;utm_source=google-photos&amp;hl=en</pre>
</div>
<div created="20210418073739526" modified="20210418075712658" tags="manual" title="Gparted ISO remaster">
<pre>!! Preparations 
To download files from this machine:  

```
python3 -m http.server 8080 
sudo apt-get --reinstall install libc6 
sudo apt-get install squashfs-tools xorriso 
cd ~ 
mkdir iso 
wget https://downloads.sourceforge.net/gparted/gparted-live-1.1.0-6-amd64.iso 
sudo mount -o loop gparted-live-1.1.0-6-amd64.iso iso 
sudo unsquashfs iso/live/filesystem.squashfs 
sudo du -sh squashfs-root 
#optional backup: sudo cp -r squashfs-root squashfs-root-backup 
sudo cp /etc/resolv.conf squashfs-root/etc/ 
sudo cp /etc/hosts squashfs-root/etc/ 
sudo mount --bind /dev squashfs-root/dev 
sudo mount --bind /sys squashfs-root/sys 
sudo mount --bind /proc squashfs-root/proc 
whoami 
```

!! Enter_chroot 

```
sudo chroot squashfs-root 
mount -t proc none /proc 
mount -t sysfs none /sys 
mount -t devpts none /dev/pts 
chown root:root /usr/bin/sudo &amp;&amp; chmod 4755 /usr/bin/sudo 
whoami 
ping google.com 
```

 
!!! Troubleshoot network: 

```
ifconfig 
route add default gw 192.168.3.1 enp0s31f6 
sudo echo "name server 8.8.8.8"&gt;/etc/resolv.conf 
```

 
!! Remastering 
!!! Troubleshoot permissions: If couldn't create temporary file /tmp/apt.conf run:  

```
chmod 1777 /tmp 
```

#To avoid error: `sudo` must be owned by `uid 0 `
 

```
apt update 
apt upgrade 
apt install firmware-iwlwifi rclone iwd bluez bluez-tools htop rfkill iotop ncdu mc screen cifs-utils python3-gi gir1.2-gtk-3.0 aria2 alsa-utils libnspr4 libnss3 exfat-fuse exfat-utils localepurge 
```

 
!!! Optional to be able to remaster from the new livecd 


```
apt-get install squashfs-tools xorriso 
wget https://github.com/alexheretic/apart-gtk/releases/download/v0.24/apart-gtk_0.24_amd64.deb 
wget https://download3.operacdn.com/pub/opera/desktop/72.0.3815.148/linux/opera-stable_72.0.3815.148_amd64.deb 
dpkg -i *.deb 
```

!!! Troubleshooting if getting dependency errors: 

```
apt install -f 
apt autoremove 
```

Remove all locales besides` utf-8 `

```
localepurge 
```

!! PowerISO install 

```
cd /home 
wget https://www.poweriso.com/poweriso-x64-1.1.tar.gz 
tar -xvzf poweriso-x64-1.1.tar.gz 
rm poweriso-x64-1.1.tar.gz 
```

 
!!! aria2 plugin download 

```
wget -P /home/ https://github.com/jae-jae/Camtd/releases/download/1.4.2/Camtd.crx  
```

 
!!! Tuning 

```
nano /etc/initramfs-tools/modules 
```

Add: 
`iwlwifi `
`iwlmvm `
 

```
nano /etc/systemd/network/25-wireless.network 
```

Add: 

```
[Match] 
Name=wlan0 
[Network] 
DHCP=ipv4 
[DHCP] 
RouteMetric=20 
```

 

```
nano /usr/lib/systemd/network/80-iwd.link 
```

Add in `[Match] `

```
Name=wlan0 
```

 

```
nano /etc/fstab 
```

Add: 

To map SAMBA share `unmark cifs line `and run 

```
sudo fdisk -a 
```

`//&lt;vpsa_ip_address&gt;/&lt;export_share&gt; /mnt/local_share cifs user=&lt;user on VPSA&gt;,pass=&lt;passwd on VPSA&gt; 0 0  `
 
Custom desktop menu and readme file from Appendix at the end of this manual can be added here 
 

!! Cleanup 

```
sed -i '$a\driver_name' /etc/initramfs-tools/modules 
update-initramfs -u 
dpkg-query --show --showformat='${Package} ${Version}\n' | tee filesystem.manifest 
apt clean 
rm -rf /tmp/* 
rm -rf *.deb 
umount /proc || umount -lf /proc 
umount /sys 
umount /dev/pts 
umount /dev 
history -c 
exit 
```
!!! Outside_of_chroot 
 


```
ls 
pwd 
umount squashfs-root/proc 
```


 

 
If umount doesn't work just `reboot `
 

```
sudo mksquashfs squashfs-root filesystem.squashfs -b 1024k -comp xz -Xbcj x86 -e boot 
```

 
!! Remaster ISO - Linux 

```
wget https://www.poweriso.com/poweriso-x64-1.1.tar.gz 
tar -xvzf poweriso-x64-1.1.tar.gz 
rm poweriso-x64-1.1.tar.gz 
poweriso-x64/poweriso.sh 
```

open gparted 1.1.0.6 live cd iso image 


remove live/filesystem.squashfs 

add new filesystem.squashfs 

Save as (give a new name) 
 
!! Remaster ISO - Windows 

Use winiso 

open gparted 1.1.0.6 live cd iso image 

remove live/filesystem.squashfs 

add new filesystem.squashfs 

Save as (give a new name) 
 
 

!!! Not working - linux iso remastering 


```
sudo mksquashfs squashfs-root filesystem.squashfs.new -comp xz 
 
sudo mkdir old_iso new_iso 
sudo rsync --exclude=filesystem.squashfs -az old_iso/ new_iso/ 
sudo cp filesystem.squashfs.new new_iso/live/filesystem.squashfs 
```

 
!!! Optional_for_live_system_ISO 

```
mkdir -p $HOME/custom-iso 
rsync --exclude=live/filesystem.squashfs -az /mnt/ custom-iso/ 
cd $HOME/custom-iso/live 
```

 
!!! squashfs 

```
cp -a $HOME/deepin-live/workdir/filesystem.squashfs.new filesystem.squashfs 
```

 
!! Create_ISO

```
xorriso -as mkisofs -V 'Deepin Livecd' -cache-inodes -J -l -joliet-long -b isolinux/isolinux.bin -c isolinux/boot.cat -boot-load-size 4 -boot-info-table -no-emul-boot -eltorito-alt-boot -e boot/efi.img -no-emul-boot -isohybrid-gpt-basdat -isohybrid-apm-hfsplus -o ../uos20sp1-custom-amd64.iso . 
```

 
!!! Sources: 

https://wiki.snowfrs.com/Create_a_custom_live_iso 
 
https://unix.stackexchange.com/questions/80305/mounting-a-squashfs-filesystem-in-read-write 
 
https://drbl.org/faq/fine-print.php?path=./2_System/81_add_prog_in_filesystem-squashfs.faq#81_add_prog_in_filesystem-squashfs.faq 
 
https://drbl.org/faq/fine-print.php?path=./2_System/87_create_clonezilla_iso_from_zip.faq#87_create_clonezilla_iso_from_zip.faq 
 
https://github.com/stevenshiau/clonezilla/blob/master/sbin/create-gparted-live 
 
https://gitlab.com/stevenshiau/clonezilla 
 
https://help.ubuntu.com/community/LiveCDCustomization 
 
 
!!! To check autostart 

```
nano /etx/X11/fluxbox/apps 
```

Add: 

```
[app] (name=sudo systemctl restart iwd) class..  
[app] aria2c 
[app] nano /home/readme 
 
```

 
!!! iwlwifi fix to check: 

https://lists.debian.org/debian-kernel/2013/05/msg00147.html 
sudo journalctl -u iwd.service 
 
 
!! Appendix 

```
nano /home/readme.txt 
```

Add: 

```
Bluetooth mouse pair 
bluetoothctl 
scan on  
```

!!! Put mouse in descovery mode and make sure it is found in scan 

```
scan off 
pair &lt;bluetooth ID recognized&gt; 
exit 
```

 
!!! Wifi setup 

```
sudo systemctl status iwd 
```

If it's` off `

```
sudo systemctl restart iwd 
iwctl device list  
```

Let's assume wifi device is` wlan0 `

```
iwctl station wlan0 scan 
iwctl station wlan0 get-networks 
iwctl station wlan0 connect SSID 
```

Enter wifi `password  `

```
sudo dhclient wlan0 
```

If there is ping to IP but no name resolution, assuming gw IP is: `192.168.3.1 `

```
sudo route add default gw 192.168.3.1 wlan0 
```

 
{{Minimal WEB server}}
 

!!! To setup sound run; volume up and unmute (M): 

```
alamixer  
```

 
!!! Aria2 downloader (torrent, http, ftp) manual start: 

```
aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all --conf-path=/home/aria2.conf -D 
```

Just in case there is an offline version of aria2 `crx `extension in `/home` to install `drag&amp;drop` it into opera's extension screen if doesn't work from the menu 
 

```
nano /home/manual 
```

Add this whole manual inside 
 

```
rm /etc/X11/fluxbox/fluxbox.menu-user 
nano /etc/X11/fluxbox/fluxbox.menu-user 
```

!! Fluxbox window manager 

Menu file locations: `fluxbox -i` after login located in` /home/user/.fluxbox/menu `

Add: 

```

# Generated by fluxbox-generate_menu 
# Copy to /home/user/.fluxbox/menu 
# If you read this it means you want to edit this file manually, so here 
# are some useful tips: 
# 
# - You can add your own menu-entries to ~/.fluxbox/usermenu 
# 
# - If you miss apps please let me know and I will add them for the next 
# release. 
# 
# - The -r option prevents removing of empty menu entries and lines which 
# makes things much more readable. 
# 
# - To prevent any other app from overwriting your menu 
# you can change the menu name in .fluxbox/init to: 
# session.menuFile: /home/you/.fluxbox/my-menu 
#  
# Updated manually by Sharicov on Oct/27/2020. 
# 
[begin] (Fluxbox) 
[exec] (Opera) {opera} 
[separator] 
[exec] (Terminal) {lxterminal --geometry=80x25} 
[exec] (MC) {lxterminal -e mc} 
# [submenu] (Terminals) 
# [exec] (lxterminal) {lxterminal}  
# [exec] (lxterminal with root privileges) {sudo -i lxterminal}  
# [end] 
# [submenu] (Editors) 
# [exec] (geany) {geany}  
# [exec] (nano) {lxterminal -e nano}  
# [exec] (vi) {lxterminal -e vi}  
# [end] 
[exec] (File Manager) {pcmanfm} 
[submenu] (File/System utils) 
[exec] (apart-gtk) {sudo apart-gtk} 
[exec] (GParted) {sudo gparted} 
[exec] (testdisk) {sudo lxterminal --geometry=80x25 -e testdisk} 
[exec] (partimage) {sudo lxterminal -e partimage} 
[exec] (gsmartcontrol) {sudo gsmartcontrol} 
[exec] (screenshot) {gl-screenshot} 
[exec] (Netsurf) {netsurf} 
[exec] (Calculator) {calcoo} 
[exec] (PowerISO) {cd /home/poweriso-x64/; ./poweriso.sh} 
[end] 
[separator] 
[submenu] (System settings) 
[exec] (Display) {lxrandr} 
[exec] (Alsa Mixer) {lxterminal -e alsamixer} 
[exec] (Bluetooth) {lxterminal -e bluetoothctl} 
[exec] (Samba) {sudo lxterminal -e nano /etc/fstab} 
[exec] (aria2 extension) {opera "https://www.crx4chrome.com/go.php?p=85196&amp;s=1&amp;l=https://clients2.googleusercontent.com/crx/blobs/QgAAAC6zw0qH2DJtnXe8Z7rUJP2iXC6eC5m5i8lOcrNuICsNqd05Y6AH2arfrw-guUwVKYZbW9loBHnm277d9SUq7v2ECcJ9kpIjfi4jSFeBdhbDAMZSmuXEU8IIL7xZ435lYw2bKdd2CnAqzQ/extension_1_5_0_0.crx"} 
[exec] (Restart aria2) {sudo kill all aria2c; aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all --conf-path=/home/aria2.conf -D}  
[end] 
[submenu] (Network menu) 
[exec] (Restart iwd service) {sudo lxterminal -e systemctl restart iwd} 
[exec] (Wifi networks) {lxterminal -e 'iwctl station wlan0 scan; iwctl station wlan0 get-networks; echo "Type: iwctl station wlan0 connect SSID"; "$SHELL"'} 
[exec] (DHCP) {sudo lxterminal -l -e gl-live-netcfg} 
[exec] (Wifi terminal) {lxterminal -e iwctl} 
[end] 
[submenu] (fluxbox menu) 
[config] (Configure) 
[submenu] (Styles) 
[include] (/usr/share/fluxbox/menu.d/styles/) 
[submenu] (System Styles) {Choose a style...} 
[stylesdir] (/usr/share/fluxbox/styles) 
[end] 
[end] 
[workspaces] (Workspace List) 
[submenu] (Tools) 
[exec] (Window name) {xprop WM_CLASS|cut -d \" -f 2|xmessage -file - -center} 
[end] 
[commanddialog] (Fluxbox Command) 
[reconfig] (Reload config) 
[restart] (Restart) 
[exec] (Exit X) {gl-killx} 
[exec] (About) {(fluxbox -v; fluxbox -info | sed 1d) 2&gt; /dev/null | xmessage -file - -center} 
[separator] 
[end] 
[submenu] (Exit) 
[exec] (shutdown-menu) {sudo gl-shutdown-menu} 
[end] 
[end] 
 
```

!! Aria2 download configuration 
```
nano /home/aria2.conf 
```


Add: 

```
dir=/home/user/Downloads 
max-overall-upload-limit=100K 
disk-cache=200M 
#file-allocation=trunc 
file-allocation=falloc 
seed-time=0 
check-integrity=true 
realtime-chunk-checksum=true 
always-resume=true 
auto-file-renaming=false 
continue=true 
remote-time=true 
#rpc-user= 
#rpc-passwd= 
#daemon 
#log=/home/user/Downloads/aria2c.log 
#log-level=error 
bt-exclude-tracker="*" 
 
```

!!! Go back to cleanup paragraph </pre>
</div>
<div tags="" title="GPU partitioning: sharing GPU v7">
<pre>Github: https://github.com/jamesstringerparsec/Easy-GPU-PV

Video demo: https://www.youtube.com/watch?v=Bc3LGVi5Sio

Download zip scripts from github

Start powershel as administrator

Enable script execution:


```
Set-ExecutionPolicy Unrestricted
```

Check it is enabled:


```
Get-ExecutionPolicy
```

Change to extracted script folder.

Run:


```
.\PreChecks.ps1
```

Output example.

```
System Compatible
Printing a list of compatible GPUs...May take a second
Copy the name of the GPU you want to share...
AMD Radeon RX 6900 XT
```

For Win11 GPUName can be auto, 

for Win10 copy GPU name (ex: ''AMD Radeon RX 6900 XT'').

Edit CopyFilesTOVM.ps1 script specifying:


```
VMNAME (if you create several machines for each generate different name)

Edition (6 for Professional)

SourcePath (where installation iso is located)

SizeBytes (virtual HDD size)

MemoryAmount (virtual RAM)

CPUCores (virtual cores)

VHDPath (location of vm files on disk)

Username

Password (must provide non-empty password)
```

Run CopyFilesTOVM.ps1 script in powershell

Run hyper-v manager on host computer.

See VM is created and running.

Right click on it and press connect.

Configure parsec in guest.

Download and run parsec on host computer from here:

https://parsec.app/downloads

!!Troubleshoting

If parsec doesnt work (black screen) try installing virtual driver in guest (downloads folder).

Otherwise just use RDP (or hyper-v connect)/or install ''steam link/splashtop''

!!Steam link checked to work correctly including ultrawide and sound.

To get custom resolution in hyper-v connect, enable ''Enhanced Session'' in: 

Hyper-V Settings/Enhanced Session Mode Policy/Allow enhanced session mode/when connected chose ''Fullscreen resolution''


!!Upgrading GPU Drivers when you update the host GPU Drivers
It's important to update the VM GPU Drivers after you have updated the Host GPUs drivers. You can do this by...

Reboot the host after updating GPU Drivers.
Open Powershell as administrator and change directory (CD) to the path that CopyFilestoVM.ps1 and Update-VMGPUPartitonDriver.ps1 are located.
Run Update-VMGPUPartitonDriver.ps1 -VMName "Name of your VM" -GPUName "Name of your GPU" (Windows 10 GPU name must be "AUTO")

!!Notes:
After you have signed into Parsec on the VM, always use Parsec to connect to the VM. Keep the Microsft Hyper-V Video adapter disabled. Using RDP and Hyper-V Enhanced Session mode will result in broken behaviour and black screens in Parsec. RDP and the Hyper-V video adapter only offer a maximum of 30FPS. Using Parsec will allow you to use up to 4k60 FPS.
If you get "ERROR : Cannot bind argument to parameter 'Path' because it is null." this probably means you used Media Creation Tool to download the ISO. You unfortunately cannot use that, if you don't see a direct ISO download link at the Microsoft page, follow this guide.
Your GPU on the host will have a Microsoft driver in device manager, rather than an nvidia/intel/amd driver. As long as it doesn't have a yellow triangle over top of the device in device manager, it's working correctly.
A powered on display / HDMI dummy dongle must be plugged into the GPU to allow Parsec to capture the screen. You only need one of these per host machine regardless of number of VM's.
If your computer is super fast it may get to the login screen before the audio driver (VB Cable) and Parsec display driver are installed, but fear not! They should soon install.
The screen may go black for times up to 10 seconds in situations when UAC prompts appear, applications go in and out of fullscreen and when you switch between video codecs in Parsec - not really sure why this happens, it's unique to GPU-P machines and seems to recover faster at 1280x720.
Vulkan renderer is unavailable and GL games may or may not work. This may help with some OpenGL apps.
If you do not have administrator permissions on the machine it means you set the username and vmname to the same thing, these needs to be different.
AMD Polaris GPUS like the RX 580 do not support hardware video encoding via GPU Paravirtualization at this time.
To download Windows ISOs with Rufus, it must have "Check for updates" enabled.</pre>
</div>
<div tags="" title="Gpu Passthrough on system with one gpu : r/unRAID v9">
<pre>!For AMD GPU DISABLE ''RESIZABLE BAR ''IN BIOS!!!

!!DON'T CHECK ALL CORESE AND THREADS TO THE VM (CAUSES ENDLESS BOOTLOOP) - normally works with all cores as well

!! Install GPU drivers from custom ISO before network drivers

!!Disable sleep

Topic: https://www.reddit.com/r/VFIO/comments/kdx5pl/working_amd_drivers_for_gpu_passthrough_newer/

https://www.reddit.com/r/unRAID/comments/q1fpk0/gpu_passthrough_on_system_with_one_gpu/

UNRAID should be started in a default way (not GUI option on boot).

Virtio-win iso drivers download: https://github.com/virtio-win/virtio-win-pkg-scripts/blob/master/README.md

Create new win11 vm with 440fx chipset (unless have troubles with GPU passthrough), usb3-qemu and video/sound passthrough.

!!To check: Advanced options/CPU/Host Passthrough (performance increase)

More VM create description here: https://wiki.unraid.net/Manual/VM_Management

Windows 11 installation tutorial (add driver from virtio/amd64/w11 to see the disk): https://linuxserver.tips/en/create-windows-11-vm-on-unraid/

Connect USB mouse and keyboard to the host UNRAID PC.

Press any key on boot to start from ISO

Choose custom/load driver/browse/virtio-win/amd64/w11/next

To skip network wizard during installation press Shift+F10 and then type 


```
OOBE\BYPASSNRO 
```


System will reboot and start without internet wizard (I don't have internet/continue with limited setup

!!Do not install virtio drivers for video if using gpu passthrough!

If GPU passthrough successful, native GPU should appear in device manager

To work with VM in UNRAID GUI left click on VM's icon, menu will open to edit/start/stop etc.

Working with vms in terminal (start/shutdown/reboot):


```
virsh start "Windows 11"
```

Delete VM:


```
virsh undefine --nvram "Windows 11"
```


All commands: https://libvirt.org/sources/virshcmdref/html-single/

Old read on GPU passthrough and GPU bios dumping:

https://www.reddit.com/r/unRAID/comments/760tf8/how_to_pass_thru_your_primary_amd_gpu_to_a_vm/

Dump bios screenshot (GPU-Z, right from the bios version): 

https://i.imgur.com/28QiCs2.png

!!Troubleshooting VM tab:

If VM tab disappears enable VMs in Settings/VM Manager/Enable VMs/YES

!!Troubleshooting GPU passthrough:

find VM xml on unraid host:

find /etc/libvirt/qemu/ -name *.xml

Edit the file (example Win11.xml):

nano /etc/libvirt/qemu/Win11.xml

Add multifunction on just under rom line(Assuming GPU rom provided when creating the VM):

```
multifuntion='on'
```


Example:


```
 &lt;rom file='/mnt/user/isos/RX5700XT.rom'/&gt;
      &lt;address type='pci' domain='0x0000' bus='0x04' slot='0x00' function='0x0' multifuntion='on'/&gt;
```

Source: https://forums.unraid.net/topic/120782-passing-a-gpu-to-vm-crashes-server/

More GPU BIOS troubleshooting: https://forums.unraid.net/topic/113508-solved-having-trouble-with-gpu-passthrough/

Get BIOS here: https://www.techpowerup.com/vgabios/

To start from scratch with new disks in array:

Tools/New Config/Yes/Apply

Then in dashboard:
Array/Start/Yes/Format

Shares/add/NaMeOfTheShare/Export/Yes

!!Good UNRAID tutorial in Chinese:

https://www.youtube.com/watch?v=edKL04wowRw

GPU BIOS Dump script for UNRAID: https://github.com/SpaceinvaderOne/Dump_GPU_vBIOS

Description of the script https://forums.unraid.net/topic/100525-video-guide-how-to-easily-dump-a-vbios-from-any-gpu-directly-from-the-server-for-passthrough/

!!Unsafe interrupts: 
https://forums.unraid.net/topic/126324-any-guide-on-installing-ubuntu-vm-with-gpu-passthrough/?utm_source=pocket_mylist

Enable unsafe interrupts: Settings -&gt; VM -&gt; change "VFIO allow unsafe interrupts" to Yes, then reboot the server</pre>
</div>
<div tags="" title="GPU passthrough topics v1">
<pre>!!Single GPU passthrough

https://www.reddit.com/r/unRAID/comments/q1fpk0/gpu_passthrough_on_system_with_one_gpu/

Virtio-win iso drivers download: https://github.com/virtio-win/virtio-win-pkg-scripts/blob/master/README.md

Create new win11 vm with qc chipset, usb3-qemu and video/sound passthrough.

Windows 11 installation tutorial (add driver from virtio/amd64/w11 to see the disk): https://linuxserver.tips/en/create-windows-11-vm-on-unraid/

To skip network wizard during installation press Shift+F10 and then type OOBE\BYPASSNRO 
System will reboot and start without internet wizard (I don't have internet/continue with limited setup

Do not install virtio drivers for video if using gpu passthrough!


!!iGPU passthrough to VM

https://3os.org/infrastructure/proxmox/gpu-passthrough/igpu-passthrough-to-vm/#proxmox-configuration-for-igpu-full-passthrough

!!iGPU split to VM (shared GPU)

https://3os.org/infrastructure/proxmox/gpu-passthrough/igpu-split-passthrough/

```
# Modules required for Intel GVT-g Split

kvmgt
```

SMB3 vs SMB4: SMB Share over SSD on raspberry pi 4b: Only 65/50 read write - Raspberry Pi Forums

https://forums.raspberrypi.com/viewtopic.php?t=327817</pre>
</div>
<div tags="" title="Graceful shutdown on low battery v4">
<pre>!!Installation


```
apt install upower
```

!!Starts automaticaly, default 3% goes to hybernate.


Configuration file:

```
nano /etc/UPower/UPower.conf
```

!!Useful commands:

Show related devices:

```
upower -e
```

Show battery information (based on -e output):


```
 upower -i /org/freedesktop/UPower/devices/battery_BAT0
```

Monitor charging status in real time:


```
 upower --monitor
```


Check upower service status:


```
systemctl status upower.service
```


Start upower service:

```
sudo systemctl enable upower.service

sudo systemctl start upower.service
```

Sources and examples:

https://forum.openmediavault.org/index.php?thread/8966-graceful-shutdown-on-low-battery/

https://www.cyberciti.biz/faq/linux-upower-command-examples-and-syntax/

</pre>
</div>
<div tags="" title="Guacamole http web based RDP VNC server v4">
<pre>Documentation: https://guacamole.apache.org/doc/gug/using-guacamole.html

To open menu during session: CTRL+ALT+Shift

To set up rdp select:


```
Security: Any
Ignore certificates
```


!!Docker installation

For ''ARM64'' oznu/guacamole:armhf

4 years old 200M downloads standard in unraid

For ''AMD64''

https://github.com/flcontainers/guacamole

username is ''guacadmin ''with password ''guacadmin''.

default port ''8080''

```
nano docker-compose.yml
```

Add


```
version: "3"
services:
  guacamole:
    image: flcontainers/guacamole
    container_name: guacamole
    environment:
      TZ: 'UTC'
      EXTENSIONS: 'auth-totp,auth-ldap'
    volumes:
      - postgres:/config
      - /etc/localtime:/etc/localtime:ro
    ports:
      - 8080:8080
volumes:
  postgres:
    driver: local
```


```
docker compose pull

docker-compose up -d
```
</pre>
</div>
<div tags="" title="h5ai docker installation r4s arm v2">
<pre>In portainer create new container.

Name: h5ai

Image: awesometic/h5ai:latest

Port: 80 to 80

Volume: bind /h5ai to /media/usb

Restart policy: unless stopped

enter http://localhost:80

To set password (not yet working):

Open console in running docker.


```
vi /config/nginx/h5ai.conf
```


Add after server name (4th) line:


```
auth_basic           "Administrator's Area";

auth_basic_user_file /config/nginx/.htpasswd;
```


Exit with Esc:wq

Create password file:


```
htpasswd -c /config/nginx/.htpasswd sharicov
```

Restart docker
</pre>
</div>
<div tags="" title="hackintosh ventura beta v1">
<pre>ISO: https://rutracker.org/forum/viewtopic.php?t=6260750

OpenCore b550, ryzen 5600x, radeon 6800xt: https://github.com/DianaSensei/Opencore-5600x-b550-xe

Restore iso to usb using r-clone (all file types).

Copy opencore to EFI partition of the USB (FAT32)</pre>
</div>
<div tags="" title="HDR shortcut windows 11 v2">
<pre>Windows Key + Alt + B

If not working, update ''game bar'' in MS Store</pre>
</div>
<div tags="" title="hide partition remove drive letter in windows terminal v2">
<pre>Run cmd as ''administrator''


```
diskpart

list volume

select volume #

remove letter=&lt;drive letter&gt;

list volume
```

Changes will appear immediately.

!!To change letter 


```
assign letter=&lt;drive letter&gt;
```

Source: https://www.elevenforum.com/t/remove-drive-letter-in-windows-11.10405/</pre>
</div>
<div tags="" title="Hisense tips">
<pre>Model 85A6BG

!!To enable HDR in windows 11

TV/menu/settings/system/HDMI&amp;SEC/HDMI Format/Enhanced Format

Then on PC Settings/Display/Choose Hisense/HDR on

Disable all enhancements rather than HDMI format:

TV/Menu/Picture/Picture mode settings/

Noise reduction OFF

MPEG Noise Reduction OFF</pre>
</div>
<div tags="" title="Home Assistant smart home self hosted v6">
<pre>Docker: homeassistant/home-assistant
Port 8123:8123

!!Android dashboard WallPanel

https://play.google.com/store/apps/details?id=xyz.wallpanel.app&amp;hl=en&amp;gl=US&amp;pli=1

!!Manual docker install:


```
docker run  -d -p 8123:8123 --name=HomeAssist --restart=always    -v /var/run/docker.sock:/var/run/docker.sock  homeassistant/home-assistant
```


Sync with Tuya (and all registered devices) doc: https://www.home-assistant.io/integrations/tuya

Tuya IOT (''cloud/development/home assistant/authorization key/access secret''): https://eu.iot.tuya.com/

!!To change password (docker)

Change in gui/settings/people/select user/change password

OR

On the host server get container name


```
docker ps
```

Output example


```
NAMES
homeassistant-homeassistant
```

Enter docker's bash


```
docker exec -it homeassistant-homeassistant bash
```

Change password for ''existing user'' (if user not existent there will be error: User not found


```
hass --script auth --config /config change_password ExistingUser NewPassword
```


!!To migrate:

Dashboard/Edit/Raw

Add:


```
title: Home
views:
  - path: default_view
    title: Home
    cards:
      - type: entities
        entities:
          - scene.kids_room_ac_hot_23degc_auto
          - scene.kids_room_ac_power_off
          - scene.kids_room_ac_cold_23degc_auto
        title: Kids
      - type: entities
        entities:
          - entity: scene.bedroom_ac_hot_23degc_auto
          - entity: scene.bedroom_ac_power_off
          - entity: switch.bedroom_light_switch_1
        title: Bedroom
      - type: entities
        entities:
          - switch.cabinet_light_switch_1
          - switch.living_light_switch_1
          - entity: switch.living_room_outlet_switch_1
            name: Outlet Switch 1
          - sensor.pi4_last_seen
          - sensor.rog_last_seen
        title: Living Room
        footer:
          type: buttons
          entities:
            - entity: scene.tornado_swing_swing_ac_living_room
              show_icon: true
              show_name: true
            - entity: scene.cabinet_light_switch_1_reverse_switch
              show_icon: true
              show_name: true
            - entity: scene.smsl_on_off
              show_icon: true
              show_name: true
            - entity: scene.living_room_ac_hot_26degc_auto
              show_icon: true
              show_name: true
            - entity: scene.living_room_ac_power_off
              show_icon: true
              show_name: true
            - entity: scene.living_room_ac_cold_24degc_low
              show_icon: true
              show_name: true
      - type: entities
        entities:
          - switch.plate_socket_1
        title: Kitchen
      - type: entities
        entities:
          - entity: switch.toilet_light_switch_1
            name: Light Switch 1
        title: Toilet
      - type: weather-forecast
        entity: weather.home
        show_forecast: false
      - type: gauge
        entity: sensor.waze_travel_time
        min: 0
        max: 100
        name: To work
      - type: glance
        entities:
          - entity: sensor.r4s_ip_address
          - entity: sensor.bison_ip_address
          - entity: sensor.rog_ip_address
          - entity: sensor.lapa_ip_address_2
      - type: entities
        entities:
          - entity: switch.bedroom_light_switch_1
            name: Light Switch 1
        title: Bedroom
        footer:
          type: buttons
          entities:
            - entity: scene.bedroom_ac_hot_23degc_auto
              show_icon: true
              show_name: true
            - entity: scene.bedroom_ac_power_off
              show_icon: true
              show_name: true
            - entity: scene.bedroom_ac_cold_23degc_auto
              show_icon: true
              show_name: true
      - type: entities
        entities:
          - person.sharicov
      - type: entities
        entities:
          - binary_sensor.updater
        title: Binary sensor
      - type: entities
        entities:
          - sensor.bison_last_seen
          - sensor.friendlywrt_last_seen
          - sensor.gpd_win_last_seen
          - sensor.galaxy_tab_a_8_0_2019_last_seen
          - sensor.lapa_last_seen
          - sensor.lapa_last_seen_2
          - sensor.nuc11_last_seen
          - sensor.pi4_last_seen_2
          - sensor.pocophone_f1_last_seen
          - sensor.redmi_4_last_seen
          - sensor.waze_travel_time
          - sensor.dimas_macbook_air_last_seen
          - sensor.en860_last_seen
          - sensor.hello_last_seen
          - sensor.kiosk_last_seen
          - sensor.pikvm_last_seen
          - sensor.r4s_last_seen
          - sensor.sharicov_noho_st_last_seen
          - sensor.yoga_last_seen
        title: Sensor
```

</pre>
</div>
<div tags="" title="Home Assistant with Olama AI and voice assistant in docker v8">
<pre>https://www.youtube.com/watch?v=XvbVePuP7NY

https://academy.networkchuck.com/blog/local-ai-voice-assistant

Docker install


```
docker run -d \
  --name homeassistant \
  --privileged \
  --restart=unless-stopped \
  -e TZ=MY_TIME_ZONE \
  -v /PATH_TO_YOUR_CONFIG:/config \
  -v /run/dbus:/run/dbus:ro \
  --network=host \
  ghcr.io/home-assistant/home-assistant:stable
```


Install olama using separate manual

''Ollama settings switch to assist''

Access home assistant on 8123 port

Ollama integration: https://www.home-assistant.io/integrations/ollama/

Wyoming speech to text and text to speech 

https://github.com/rhasspy/wyoming-addons

In setting/devicess/add/whisper

Run Whisper

```
docker run -itd -p 10300:10300 -v /path/to/local/data:/data rhasspy/wyoming-whisper --model tiny-int8 --language en
```

Run Piper

```
docker run -itd -p 10200:10200 -v /path/to/local/data:/data rhasspy/wyoming-piper --voice en_US-lessac-medium
```

Run openWakeWord

```
docker run -itd -p 10400:10400 rhasspy/wyoming-openwakeword --preload-model 'ok_nabu'
```

Run snowboy

```
docker run -itd -p 10400:10400 rhasspy/wyoming-snowboy
```

Run microWakeWord

```
docker run -itd -p 10400:10400 rhasspy/wyoming-microwakeword
```


Add services in Settings/Device&amp;Services/Wyoming Protocol/Add Service/IP and port accordingly

Add tuya integration

Get user code from the tuya android app/user-bottom-right/settings gear top right/Account and security/User code

Then scan the barcode with tuya app:

back/back/top right corner scanner icon

!!Setting up assistant

Setting/Assistant/Add


```
Name
Conversation agent:  llama3.2
Speech-to-text:         faster-whisper
Text-to-speech:         piper
Wake word:               openwakeword : ok_nabu
```

Create

Vertical 3 dots / ''set as preferred''

To start assistant go to overview pan / top-right assistant chat icon</pre>
</div>
<div tags="" title="Hostname change linux">
<pre>```
vi /etc/hostname
```
</pre>
</div>
<div tags="" title="How to Check/Show/Set/Change/Modify current disk caching values (vm.dirty_ratio, vm.dirty_background_ratio etc.) on Linux/Debian/Ubuntu/Kali Linux/Fedora/RedHat/Rocky Linux etc. &gt; Blog-D without Nonsense">
<pre>https://dannyda.com/2022/05/14/how-to-check-show-set-change-modify-current-disk-caching-values-vm-dirty_ratio-vm-dirty_background_ratio-etc-on-linux-debian-ubuntu-kali-linux-fedora-redhat-rocky-linux-etc/

!!The Issue
We want to check the current value of vm.dirty_ratio, vm.dirty_background_ratio etc.
We want to modify/change the value of vm.dirty_ratio, vm.dirty_background_ratio etc.

!!The Answer
!!!1 Show/Check current values

```
cat /proc/sys/vm/dirty_ratio
cat /proc/sys/vm/dirty_background_ratio
OR
sysctl -a | grep dirty
# Other values
cat /proc/sys/vm/dirty_background_bytes
cat /proc/sys/vm/dirty_bytes
cat /proc/sys/vm/dirty_writeback_centisecs
cat /proc/sys/vm/dirty_expire_centisecs
cat /proc/sys/vm/dirtytime_expire_seconds
cat /proc/sys/vm/drop_caches
```

To check page cache status we can use the following commands


```
cat /proc/vmstat | egrep "dirty|writeback"
```

Example Output


```
nr_dirty 304
nr_writeback 0
nr_writeback_temp 0
nr_dirty_threshold 31543
nr_dirty_background_threshold 15752
```

!!!2 Change/Set/Modify values
Temporary changes/tuning/modification (Won’t keep the changes after system reboot)
Once we reboot the system, the changes will be reverted to system default values


```
# Using sysctl
sudo sysctl -w vm.dirty_ratio=30
# Using echo
sudo sh -c "echo '30' &gt; /proc/sys/vm/dirty_ratio"
```

Permanent changes/tuning/modification (Changes are kept between reboots)
Values will be kept unless we manually change them again


```
# Open and edit the sysctl.conf file using nano command
sudo nano /etc/sysctl.conf
```

Add the necessary parameters and desired values at the bottom of the file e.g.

```
vm.dirty_ratio=30
```

Ctrl + X, Y, Enter key to Save and Exit the nano text editor

Apply the changes using the following command


```
sudo sysctl -p
```

!!Parameter descriptions
''vm.dirty_background_ratio''

Percentage of total available memory that contains free pages and reclaimable pages, the number of pages at which the background kernel flusher threads will start writing out dirty data.
The total available memory is not equal to total system memory.

''vm.dirty_ratio''

Percentage of total available memory that contains free pages and reclaimable pages, the number of pages at which a process which is generating disk writes will itself start writing out dirty data.
The total available memory is not equal to total system memory.

Note: When the systems hit this mark, all new I/O will be blocked until dirty pages are written to the disk, usually can cause long I/O pauses.

''vm.dirty_background_bytes
''
The amount of dirty memory at which the background kernel flusher threads will start writeback.

Note: dirty_background_bytes is the counterpart of dirty_background_ratio. Only one of them may be specified at a time. When one sysctl is written it is immediately taken into account to evaluate the dirty memory limits and the other appears as 0 when read.

''vm.dirty_bytes''

The amount of dirty memory at which a process generating disk writes will itself start writeback. Note: dirty_bytes is the counterpart of dirty_ratio. Only one of them may be specified at a time. When one sysctl is written it is immediately taken into account to evaluate the dirty memory limits and the other appears as 0 when read.
Note: the minimum value allowed for dirty_bytes is two pages (in bytes); any value lower than this limit will be ignored and the old configuration will be retained.

''vm.dirty_expire_centisecs''

Define when dirty data is old enough to be eligible for writeout by the kernel flusher threads. It is expressed in 100’ths of a second. Data which has been dirty in-memory for longer than this interval will be written out next time a flusher thread wakes up.

''vm.dirty_writeback_centisecs''

The kernel flusher threads will periodically wake up and write old data out to disk. This tunable expresses the interval between those wakeups, in 100’ths of a second.
Setting this to zero disables periodic writeback altogether.

References
[1] “Kernel”, Kernel.org, 2008. [Online]. Available: https://www.kernel.org/doc/Documentation/sysctl/vm.txt

SYSCTL(8) man page</pre>
</div>
<div tags="" title="How To Disable Web Search Results On Windows 11">
<pre>Here is a quick solution for our active and speedy learners. Follow these steps to disable web search results on Windows 11.

Press Win + R, type gpedit.msc, and press Enter.
Go to User Configuration &gt; Administrative Templates &gt; Windows Components &gt; File Explorer.
Double-click on Turn off display of recent search entries.
Select Enabled &gt; Apply &gt; OK.
Now, Restart your computer to apply all the changes

Source: https://www.geeksforgeeks.org/disable-web-search-results-on-windows/</pre>
</div>
<div tags="" title="How to Turn Off Windows Defender (Permanently) v3">
<pre>How to Turn Off Windows Defender (Permanently)
If you’re looking to turn off Windows Defender for good, here’s what you need to do:

Click Start.
Type “Windows Security” and click the option under “Best match”.
In the new window that opens, click Virus &amp; threat protection.
Under the Virus &amp; threat protection heading, click Manage settings.
Set the Tamper Protection toggle to the Off position.


Click Start (again).
Type “''gpedit.msc''” and click the option under “Best match”.
Navigate to ''Computer Configuration &gt; Administrative Templates &gt; Windows Components &gt; Microsoft Defender Antivirus''.
Find “''Turn off Microsoft Defender Antivirus''” and double-click it.
Click the ''Enabled'' checkbox (it’s to enable turning off Windows Defender).

Click Apply, OK, then restart your computer.
After following the instructions above, Windows Defender will be permanently disabled, but you will still see the icon in the system tray on the taskbar — this is perfectly normal. Can be disabled in ''task manager/startup/defender-disable''

OR create DefenderExclusion.cmd and run as ''administrator''


```
call :Admin

START Powershell -nologo -noninteractive -windowStyle hidden -noprofile -command ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147685180 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147735507 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147736914 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147743522 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147734094 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147743421 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147765679 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147783203 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 251873 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 213927 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ThreatIDDefaultAction_Ids 2147722906 -ThreatIDDefaultAction_Actions Allow -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\KMSAutoS -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\System32\SppExtComObjHook.dll -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\System32\SppExtComObjPatcher.exe -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\AAct_Tools -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\AAct_Tools\AAct_x64.exe -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\AAct_Tools\AAct_files\KMSSS.exe -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\AAct_Tools\AAct_files -Force; ^
Add-MpPreference -ExclusionPath C:\Windows\KMS -Force;

:Admin
reg query "HKU\S-1-5-19\Environment" &gt;nul 2&gt;&amp;1
if not %errorlevel% EQU 0 (
    cls
    powershell.exe -windowstyle hidden -noprofile "Start-Process '%~dpnx0' -Verb RunAs"
    exit
)

```









</pre>
</div>
<div tags="" title="Hyper-v windows 11 guest settings v3">
<pre>!!Initial setup

```
1.Right Click the virtual machine
2.Click Settings
3.Click Security
4.Mark ‘Enable Trusted Platform Module
5.Click Processor
6.Change ‘Number of virtual processors’ to a minimum of ‘2’
```
Source: https://learn.microsoft.com/en-us/answers/questions/593350/hyper-v-showed-this-pc-cant-run-windows-11

!!Enable enhanced session (for audio, resolution etc.)

On the menu of the Hyper-V's Virtual Machine Connection window select View and deselect Enhanced Mode Session. This will bring the password sign-in box back. Log in as usual.'' On Windows Settings \ Accounts \ Sign-in option, turn off Require Hello sign-in for Microsoft accounts.''

!!Create desktop shortcut to vm

Create shortcut on desktop

Enter

```
vmconnect.exe localhost "Windows_11_insider"
```

Give a name

Run as ''Administrator''

Source: https://www.elevenforum.com/t/create-shortcut-of-hyper-v-virtual-machine-in-windows-11.4160/

Show existing VMs

Run PowerShell as ''administrator''


```
Get-VM
```

!!Round corners in Win 11 guest


```
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\Dwm]

"ForceEffectMode"=dword:00000002
```

!!Install linux vm

Disable secure boot

increase number of vCpus to 4 or 8</pre>
</div>
<div tags="" title="ics internet connection sharing fix">
<pre>Solution 1:

Go to "Device Manager"&gt; "Network Adapter" &gt; Right-click on your network adapter, in my case "Intel(R) XXXX Gigabit network connection" &gt; Properties &gt; Advance (Tab) &gt; Speed &amp; Duplex &gt; 100Mbps Full Duplex

(This usually resolves the problem, I only have to do it in the laptop to make it work, but if it doesn't work for you, it is worth it trying to do it in the desktop pc too).

Solution 2:

So, if that one doesn't work, this always work for me.

Unable the "Internet sharing connection". Go to, "View network connections" (You can type it on the windows bar) &gt; Right-click on the wifi connection &gt; Properties &gt; Sharing &gt; untick "Allow other network users to connect through this computer's internet connection"

After that:

Select the WIFI and Ethernet connection on the "network connection" windows and right-click on it &gt; Bridge connections.

After that, try again the internet connection. In my case, this never works, but it has worked for a user who reported the same problem.

Source: https://www.reddit.com/r/techsupport/comments/icvv17/ics_internet_connection_sharing_very_slow_windows/?onetap_auto=true&amp;one_tap=true</pre>
</div>
<div tags="" title="immich - best self hosted google photos alternative with android app and sync v19">
<pre>''Note:'' in ubuntu run docker commands as ''normal user'' (not sudo or root)

Source: https://immich.app/docs/install/docker-compose/

Home site: https://immich.app/

Github: https://github.com/immich-app/immich

Android App: https://play.google.com/store/apps/details?id=app.alextran.immich&amp;authuser=0

''Port: 2283''

!!Installation:


```
mkdir ./immich-app
cd ./immich-app
wget https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml
wget -O .env https://github.com/immich-app/immich/releases/latest/download/example.env
```


Edit .env file:



```
nano .env
```


Set image folder and DB password


Example:

```
env UPLOAD_LOCATION /media/2TB/InstantUpload

```


!!Start IMMICH docker: 


```
docker compose up -d
```

!!Update

Run in immich folder (ex.  cd ./immich-app)

```
sudo su

cd /root/immich-app ; docker compose pull &amp;&amp; docker compose up -d
```
!!Note: Don't forget to delete unused images from docker 
Can be done in ''portainer GUI/Images/'' marked as ''unused'', or 


```
docker image prune
```


!!Note: in some case yml file must be redownloaded from github

Read changelog of the latest version


```
wget https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml
```


Source: https://immich.app/docs/install/docker-compose#step-4---upgrading


!!Import from folder

!!Immich-go script to find duplicates and upload photos

''Note:'' after upload let some time for server to create thumbnails (watch status in administration/jobs in the web GUI)

Syntax:

```
cd immich-app
immich-go -server URL -key KEY -general_options COMMAND -command_options... {files}

```

!!Example find and remove duplicates (replacing with better quality images)
```
screen -S GPhotos -d -m bash -c "./immich-go -server=http://ServerIP:2283/ -key=APIKey duplicate -yes"
```


!!Example import from google takeout zip

```
screen -S GPhotos -d -m bash -c "./immich-go -server=http://ServerIP:2283 -key=APIKey  duplicate -yes upload -create-albums -google-photos /PhotoFolder/Photos.zip"
screen -r
```



!!!Example add photos to existing album:


```
screen -S GPhotos -d -m bash -c "./immich-go -server=http://ServerIP:2283 -key=APIKey  duplicate -yes upload -a
lbum "ExistingAlbumName" /PhotoFolder/Photos.zip"

screen -r
```


Source: https://github.com/simulot/immich-go

Second import option: https://immich.app/docs/features/command-line-interface/

!!Immich backup

Database backup (albums, faces etc):


```
docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "/path/to/backup/dump.sql.gz"
```
Folders to store:


```
UPLOAD_LOCATION/library
UPLOAD_LOCATION/upload
UPLOAD_LOCATION/profile
```

!!Actual pictures backup to cloud.mail.ru example:


```
docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "immich-app/immich.12.1.24.dump.sql.gz"

cp immich-app/immich.12.1.24.dump.sql.gz  /media/2TB/InstantUpload


screen -S Photos -d -m bash -c "rclone copy -u --progress /media/2TB/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G"

screen -r
```
Restore Immich database:

!!''Note:'' ''remove or rename postgres folder in immich-app folder before resoring!!!''

```
docker compose down -v  # CAUTION! Deletes all Immich data to start from scratch.
docker compose pull     # Update to latest version of Immich (if desired)
docker compose create   # Create Docker containers for Immich apps without running them.
docker start immich_postgres    # Start Postgres server
sleep 10    # Wait for Postgres server to start up
gunzip &lt; "/path/to/backup/dump.sql.gz" | docker exec -i immich_postgres psql -U postgres -d immich    # Restore Backup
docker compose up -d    # Start remainder of Immich apps
```


Source: https://immich.app/docs/administration/backup-and-restore/

!!Backup frequency

Web GUI/Admin/Settings/Backup/Store 3 days</pre>
</div>
<div tags="" title="immich synchronization between dockers v5">
<pre>Architecture:

2 hosts (''x96 primary'' and ''x2 secondary'') running immich in dockers

x96 has local usb drive mounted on /media/2TB

x2 connected to CIFS SAMBA share on n5105 that stores backup of images mounted on /media/n5105/16TB

Read immich manual to install: [[immich - best self hosted google photos alternative with android app and sync v13]]

!Automatic sync with crontab

!!On primary host (x96) 
Create db and images backup to secondary server in'' crontab -e
''

//Example: running db backup ''immich.dump.sql.gz'' with timestamp at 2:30am to image folder and image backup to secondary host on 3:00am//

```
30 2 * * * docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "/media/2TB/InstantUpload/immich_`date +\%Y\%m\%d\%H\%M\%S`.dump.sql.gz"

0 3 * * * rsync -avh /media/2TB/InstantUpload/* /media/n5105/16TB/InstantUpload
```

!!On secondary host (x2) 
There is restore_immich.sh script in /home/sharicov
that is executable (chmod +x  restore_immich.sh) with following contents


```
#!/bin/sh
cd /home/sharicov/immich-app/
docker compose down -v  # CAUTION! Deletes all Immich data to start from scratch.
docker compose pull     # Update to latest version of Immich (if desired)
docker compose create   # Create Docker containers for Immich apps without running them.
docker start immich_postgres    # Start Postgres server
sleep 10    # Wait for Postgres server to start up
gunzip &lt; `ls /media/n5105/16TB/InstantUpload/*.gz -Art | tail -1` | docker exec -i immich_postgres psql -U postgres -d immich #Restore backup
docker compose up -d    # Start remainder of Immich apps
```

Add restore_immich.sh script to crontab on secondary host (x2) at 5:am


```
crontab -e
```


```
0 5 * * * /home/sharicov/restore_immich.sh
```



!Manual sync

!!On primary host (x96)

Create database with timestamp and copy it to secondary host's images location


```
 docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "/media/2TB/InstantUpload/immich_`date +\%Y\%m\%d\%H\%M\%S`.dump.sql.gz"

cp `ls /media/2TB/InstantUpload/*.gz -Art | tail -1` /media/n5105/16TB/InstantUpload
```

Sync images folder from primary to secondary host using rsync:


```
time rsync -avh --info=progress2 /media/2TB/InstantUpload/* /media/n5105/16TB/InstantUpload
```


!!On secondary host (x2) restore using restore_immich script


```
/home/sharicov/restore_immich.sh
```
</pre>
</div>
<div tags="" title="immich-go script for google takeout import to immich v1">
<pre>```
mkdir /root/immich-app

wget https://github.com/simulot/immich-go/releases/download/0.13.1/immich-go_Linux_arm64.tar.gz

tar xvzf immich-go_Linux_arm64.tar.gz

screen -S GPhotos -d -m bash -c "./immich-go -server=http://84.229.199.130:2283/ -key=APIKey-from-Immich upload -create-albums -google-photos /PathToPhotos/*.zip"
```
</pre>
</div>
<div tags="" title="ImmortalWRT nanopi R4S v1">
<pre>Source: https://github.com/klever1988/nanopi-openwrt

Downloads (r4s-with-docker.img.gz): https://github.com/klever1988/nanopi-openwrt/releases

Documentation: https://doc-openwrt-cc.translate.goog/1-General/7-Packages/?_x_tr_sl=auto&amp;_x_tr_tl=en&amp;_x_tr_hl=en-US&amp;_x_tr_pto=wapp

Resize partition with Paragon Hard Disk Manager

192.168.2.1 root password

SAMBA in services
In terminal run:

```
smbpasswd -a root
```

</pre>
</div>
<div tags="" title="Import delimited csv text to excel 365">
<pre>Click File &gt; Options &gt; Data.

Under Show legacy data import wizards, select From Text (Legacy).

Once enabled, go to the Data tab &gt; Get &amp; Transform Data &gt; Get Data &gt; Legacy Wizards &gt; From Text (Legacy). Then, in the Import Text File dialog box, double-click the text file that you want to import, and the Text Import Wizard will open.

Use tab as delimiter

!!Delete empty rows:

Select first column

Ctrl+Shift+L

Press down arrow in the header of the column

Select blanks

select all rows (empty with blue index numbers)

Right-click delete

!!Delete all factory integrated lines

Ctrl+F

write in search field: factory integrated

Find all

In the result window Ctrl+a

Close

Right click on one of the selected cells

Delete

Entire row

OK</pre>
</div>
<div tags="" title="Install 7zip in linux (arm64)">
<pre>!!Install 7zip


```
wget https://www.7-zip.org/a/7z2200-linux-arm64.tar.xz

xz -d -v 7z2200-linux-arm64.tar.xz

tar -xf 7z2200-linux-arm64.tar
```

</pre>
</div>
<div tags="" title="install apps without windows store">
<pre>https://www.gadgetstyle.com.ua/47283-microsoft-store-apps-downloading-tips/?utm_source=pocket_mylist</pre>
</div>
<div tags="" title="install optional features in windows">
<pre>Win+R ''optionalfeatures''

hyper-v
smb1</pre>
</div>
<div tags="" title="install osx mac os on not supported legacy macs">
<pre>https://github.com/dortania/OpenCore-Legacy-Patcher

video tutorial: https://www.youtube.com/watch?v=BftMmm8cZwo&amp;t=900s</pre>
</div>
<div tags="" title="Install proton in ubuntu">
<pre>```
sudo apt-get update -y

sudo apt-get update -y

sudo apt-get install steam -y

```

!!Install proton tricks in discover app store
Source: https://www.zdnet.com/article/how-to-install-steam-on-any-ubuntu-based-linux-distribution-so-you-can-play-a-world-of-games/
</pre>
</div>
<div tags="" title="Install Ventoy to HDD">
<pre>Source: https://forums.ventoy.net/showthread.php?tid=35

Separate 100 mb from the disk and format it as fat32 and extract the file to the root directory.
Default language is turkish and f4 multi language support. Secure boot support..
Boot supported x86 and x64
Ventoy boot fully supported, except efix86
thanks ventoy and a1ive   Smile 

https://yadi.sk/d/ycR5RVSrZVUKJg</pre>
</div>
<div tags="" title="install wetty on armbian arm v8">
<pre>```
sudo apt remove cmdtest

sudo apt remove yarn

sudo npm install -g yarn

curl https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash 
```
Close terminal and open a new one

```
screen -S wetty

nvm install 16.0.0

yarn global add wetty

wetty
```

http://IP:3000/wetty

</pre>
</div>
<div tags="" title="install windows without internet">
<pre>To skip network wizard during installation press ''Shift+F10'' and then type 

```
OOBE\BYPASSNRO 
```

System will reboot and start without internet wizard (I don't have internet/continue with limited setup</pre>
</div>
<div created="20210419074931136" modified="20210609094311660" tags="manual" title="Install WSL2 in Windows 10 v2">
<pre>Run PowerShell as Administrator


```
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
```


```
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
```

''Reboot''

Download and install:
https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi

Continue in PowerShell (version 2 for WSL2 in the last line):

```
wsl --set-default-version 2
wsl --list --verbose
wsl --set-version &lt;distribution name&gt; &lt;versionNumber&gt;
```

!! To enable Linux graphics (windows insider)
Download and run

https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi

```
wsl_update_x64.msi
```


In elevated powershell:

```
wsl --update

wsl --shutdown
```
</pre>
</div>
<div tags="" title="Install/Update AdGuard home native - OpenWrt v4">
<pre>Note: in ImmortalWrt/FusionWrt use GUI for update and password management (with dns masking)

!!Initial install

Download 

```
wget https://github.com/AdguardTeam/AdGuardHome/releases/download/v0.107.40/AdGuardHome_linux_arm64.tar.gz
```

Extract

```
 tar xvzf AdGuardHome_linux_arm64.tar.gz
```

Install


```
cd AdGuardHome
sudo ./AdGuardHome -s install
```

Source: https://www.reddit.com/r/Adguard/comments/lkkb2z/how_to_update_adguard_on_raspberry_pi/

!!Update existing installation 

Kill service

```
kill -15 $(pgrep -f AdGuardHome)
```

Remove service

```
rm /etc/init.d/AdGuardHome
```

Install update

```
 curl -s -S -L https://raw.githubusercontent.com/AdguardTeam/AdGuardHome/master/scripts/install.sh | sh -s -- -c release
```

!!Uninstall AdGuardHome


```
cd AdGuardHome

./AdGuardHome -s uninstall

```


!!Troubleshoot

If startup screen fails to render open initial setup in ''firefox''

!!Only work with local (specific ranged clients)


```
Settings/Client settings/persistent clients/add client TAG+ external IP + internal range (ex. 192.168.3.1/24 for 192.168.3.*)
```


Source: https://github.com/AdguardTeam/AdGuardHome/wiki/Clients/ 

https://habr.com/ru/companies/edison/articles/479916/</pre>
</div>
<div tags="" title="Installing Android Auto separately from recovery">
<pre>!!Pre-requisites
Phone should have TWRP or Orange Fox recovery installed

!!Download Android Auto zip from NikGapps (example android 14 - U):

https://sourceforge.net/projects/nikgapps/files/Releases/Addons-U/

!!Reboot to recovery

!Wipe data ''(All data will be wiped, new installation of all apps!!!)''

!!Install Android Auto.zip</pre>
</div>
<div tags="" title="Integrate AI into bash, ChatGPT embedded in Linux">
<pre>ShellGPT
ShellGPT integrates OpenAI’s GPT models with standard command-line interfaces like Bash. It can generate shell commands and code snippets directly from the command line.

Installation:

Ensure you have Python 3 and PIP installed.
Install ShellGPT using PIP:
pip3 install shell-gpt
pip3 install 'shell-gpt[litellm]'

Run the sgpt command:
sgpt

For more details, you can check out the ShellGPT guide1.

2. Shai
Shai is a Shell AI assistant that helps you interact with your machine through a command-line interface. It can generate and explain commands.

Installation:

Install Shai using Cargo:
cargo install shai

Add .cargo/bin to your PATH.
For more details, visit the Shai GitHub repository2.

3. Bash AI
Bash AI is an advanced Bash shell script functioning as an AI assistant.

Quick Setup:

Run the following command:
curl -sS https://raw.githubusercontent.com/hezkore/bash-ai/main/install.sh | bash

For more details, visit the Bash AI GitHub repository3.

4. Butterfish
Butterfish adds AI prompting to your shell (Bash, Zsh) with OpenAI or compatible APIs.

For more details, visit the Butterfish website4.

5. BashSenpai
BashSenpai is a terminal assistant powered by ChatGPT that transforms instructions into ready-to-use commands.

For more details, visit the BashSenpai page5.</pre>
</div>
<div tags="" title="investigate iowait v2">
<pre>Useful commands:


```
top

vmstat

iotop -o

watch -n1 iostat -mtx

pidstat -d

glances

htop

atop
```

Source: 

https://serverfault.com/questions/645541/evaluating-the-cpu-i-o-wait-on-linux</pre>
</div>
<div tags="" title="Invoke AI image generator self-hosted v3">
<pre>https://github.com/invoke-ai/InvokeAI

Default port: ''9090''

Supports NVIDIA or software 2x00 or 3x00+

Install python 3.11 from Microsoft Store to proceed with the installation

Start with /user/YourUsername/invokeai/invoke.bat

http://127.0.0.1:9090

Recommended model Jaggernaut v9 / install in model tab


Manual of inpainting tool redrawing specific areas of the image:

https://support.invoke.ai/support/solutions/articles/151000096702-inpainting-outpainting-and-bounding-box</pre>
</div>
<div tags="" title="iostat alternative to iotop v2">
<pre>iostat

```
iostat -d 1 2
```

From the iostat manpage:

The first report generated by the iostat command provides statistics concerning the time since the system was booted. Each subsequent report covers the time since the previous report.


```
iostat 1 3     #Once per second, record three times
iostat 1       #Refresh every second
iostat sda 1
```


</pre>
</div>
<div tags="" title="iostat iowait">
<pre>https://haydenjames.io/what-is-iowait-and-linux-performance/

https://haydenjames.io/increase-performance-lifespan-ssds-sd-cards/</pre>
</div>
<div tags="" title="iowait fix to check">
<pre>https://www.reddit.com/r/unRAID/comments/mdspb6/iowait_issues_with_mover_and_cache_drive/

What fixed it for me was installing the CA Mover Tuning plugin, and setting the Mover priority to low, and IO process priority to low. Since then I've had no issues.</pre>
</div>
<div tags="" title="ip commands">
<pre>Source: https://access.redhat.com/sites/default/files/attachments/rh_ip_command_cheatsheet_1214_jcs_print.pdf

Show all addresses:


```
ip addr
```

Useful commands


```
arping Send ARP request to a neighbour host
arping -I eth0 192.168.1.1
Send ARP request to 192.168.1.1 via interface eth0
arping -D -I eth0 192.168.1.1
Check for duplicate MAC addresses at 192.168.1.1 on eth0
ethtool Query or control network driver and hardware settings
ethtool -g eth0
Display ring buffer for eth0
ethtool -i eth0
Display driver information for eth0
ethtool -p eth0
Identify eth0 by sight, typically by causing LEDs to blink on the network port
ethtool -S eth0
Display network and driver statistics for eth0
ss Display socket statistics. The below options can be combined
ss -a
Show all sockets (listening and non-listening)
ss -e
Show detailed socket information
ss -o
Show timer information
ss -n
Do not resolve addresses
ss -p
Show process using the socket
```
</pre>
</div>
<div tags="" title="iperf3 speed test v2">
<pre>Client:

```
iperf3 -c 192.168.2.1 -t 20 -P 2
```

Server:


```
iperf3 -s
```

Output:

opnsense R4S server; ROG wireless client:

```
[ ID] Interval           Transfer     Bitrate
[  5]   0.00-20.02  sec   232 MBytes  97.0 Mbits/sec                  receiver
[  8]   0.00-20.02  sec   207 MBytes  86.6 Mbits/sec                  receiver
[SUM]   0.00-20.02  sec   438 MBytes   184 Mbits/sec                  receiver
```

ImmortalWRT R4S server; ROG wireless client:

```
[ ID] Interval           Transfer     Bitrate
[  5]   0.00-20.04  sec   779 MBytes   326 Mbits/sec                  receiver
[  8]   0.00-20.04  sec   719 MBytes   301 Mbits/sec                  receiver
[SUM]   0.00-20.04  sec  1.46 GBytes   627 Mbits/sec                  receiver
```
ImmortalWRT R4S server; x96 wired client:


```
[ ID] Interval           Transfer     Bitrate         Retr
[  5]   0.00-20.00  sec  1.10 GBytes   472 Mbits/sec    0             sender
[  5]   0.00-20.00  sec  1.09 GBytes   470 Mbits/sec                  receiver
[  7]   0.00-20.00  sec  1.06 GBytes   456 Mbits/sec    0             sender
[  7]   0.00-20.00  sec  1.06 GBytes   455 Mbits/sec                  receiver
[SUM]   0.00-20.00  sec  2.16 GBytes   928 Mbits/sec    0             sender
[SUM]   0.00-20.00  sec  2.15 GBytes   925 Mbits/sec                  receiver
```

wired x96 to internet speedtest:


```
sudo apt-get install curl
curl -s https://install.speedtest.net/app/cli/install.deb.sh | sudo bash
apt-get install speedtest
speedtest
```

Output:

   Speedtest by Ookla


```
     Server: Active Cloud - Petah Tikwa (id = 31817)
        ISP: HOTnet
    Latency:     9.82 ms   (0.16 ms jitter)
   Download:   922.90 Mbps (data used: 987.1 MB )
     Upload:   101.46 Mbps (data used: 49.5 MB )
Packet Loss:     0.0%
 Result URL: https://www.speedtest.net/result/c/11c829b1-ea36-43ac-be5d-d451274af0c7
```
</pre>
</div>
<div tags="" title="iptables Forward port traffic to another PC in Linux v3">
<pre>!!Example ports 8080 (QBitTorrent) and 3389 (RDP) to 192.168.3.5



```
echo 1 &gt;/proc/sys/net/ipv4/ip_forward

iptables -t nat -A PREROUTING -p tcp --dport 8080 -j DNAT --to-destination 192.168.3.5

iptables -t nat -A PREROUTING -p tcp --dport 3389 -j DNAT --to-destination 192.168.3.5

 iptables -t nat -A POSTROUTING -j MASQUERADE 
```

!!To delete rule replace -A with -D

''Example'':


```
iptables -t nat -D PREROUTING -p tcp --dport 8090 -j DNAT --to-destination 192.168.1.69
```

''Note'' dns flash on client side needed to update the change


```
ipconfig /flushdns
```


!!To see all rules


```
iptables -L
```


!!To save changes permanently add to rc.local


```
nano /etc/rc.local
```

Add

```
echo 1 &gt;/proc/sys/net/ipv4/ip_forward

iptables -t nat -A PREROUTING -p tcp --dport 8080 -j DNAT --to-destination 192.168.3.5

 iptables -t nat -A POSTROUTING -j MASQUERADE 
```


Sources:

https://tecadmin.net/setting-up-a-port-forwarding-using-iptables-in-linux/

https://www.simplehelp.net/2009/04/15/how-to-redirect-traffic-to-another-machine-in-linux/
</pre>
</div>
<div tags="" title="isd systemd management">
<pre>isd is systemd management GUI using terminal

Download: https://github.com/isd-project/isd/releases

!!Installation
install using wget latest ''isd.AppImage'' and making it executable with ''chmod +x''

Documentation: https://isd-project.github.io/isd/#__tabbed_1_1</pre>
</div>
<div tags="" title="iventoy in proxmox host v7">
<pre>Only works in host (or vm - not in LXC container)

```
wget https://github.com/ventoy/PXE/releases/download/v1.0.20/iventoy-1.0.20-linux-free.tar.gz

tar xvzf 
```


```
cd iventoy

./iventoy.sh  -A  start

./iventoy status
```



&lt;&lt;&lt;
There must be permission to perform the mount -t sysfs action within the lxc.
&lt;&lt;&lt;

Default proxmox host iso location 


```
ls -l /var/lib/vz/template/iso/
```

Create symbolic link from default proxmox iso location to iventoy iso folder


```
rm -r  /root/iventoy-1.0.20/iso

ln -s /var/lib/vz/template/iso/ /root/iventoy-1.0.20/
```

To unlink - delete symbolic link


```
unlink iso/iso
```

!!Troubleshooting

If VM client doesn't see the proxmox host with dhcp server, enter client bios and set static IP withing the range of iventoy dhcp server with proxxmox host IP as gateway and correct DNS (can be local)

Also VM mac address can be entered in permitted MACs on the iventoy server

https://forums.ventoy.net/showthread.php?tid=2491

https://www.iventoy.com/en/index.html

https://github.com/ventoy/PXE/issues/38</pre>
</div>
<div tags="" title="jan.ai change data folder for models">
<pre>https://github.com/janhq/jan/issues/1619</pre>
</div>
<div tags="" title="Jan.ai pdf and other documents support (knowledge retrieval) v3">
<pre>''Settings gear/advanced settings/ experimental mode
''
!!GPU
For Radeon 

''Settings gear/advanced settings/Vulkan support on''

''View menu/reload''

For Nvidia

''Settings gear/advanced settings/GPU on''



Chat/Tools/Retrieval ON

paper clip will appear in the dialog line to upload documents

Sources: 

https://jan.ai/docs/settings#enable-the-experimental-mode

https://jan.ai/docs/tools/retrieval

</pre>
</div>
<div tags="" title="Jdownloader ARM headless v7">
<pre>Automatic download from Uptobox, mega and many other file hosting services

sources: 

!! Java install

https://www.linuxcapable.com/how-to-install-openjdk-17-on-ubuntu-20-04/

!! Jdownloader install

https://support.jdownloader.org/Knowledgebase/Article/View/install-jdownloader-on-nas-and-embedded-devices



```
apt update; apt upgrade -y

apt-cache search openjdk

sudo apt-get install openjdk-17-jre #smaller version of jdk

wget http://installer.jdownloader.org/JDownloader.jar
```



Start JDownloader installation

```
java -jar JDownloader.jar -norestart
```


Repeat step 3.1 (java -jar JDownloader.jar -norestart) until JDownloader asks you to enter your MyJDownloader logins on console


Start JDownloader with 

```
java -jar JDownloader.jar &amp; #(without the -norestart parameter!)
```

!!Auto start on boot:


```
nano /etc/rc.local
```


Add:


```
java -jar /root/JDownloader.jar &amp;
```

before exit 0


You can now remote control your JDownloader instance via MyJDownloader
https://my.jdownloader.org/

In web remote/settings choose:

1. default download directory (ex. ''/media/usb/Downloads'')

2. Autoreconnect

3. Remove enabled checkmark from Settings/Extensions/Archive Extractor (to avoid auto extraction of archives after downloaded on the server).

!!Browser extensions:

https://my.jdownloader.org/apps/?ref=myjd_web


Checkout the other articles in this headless category - especially these useful headless hints.
Much fun with JDownloader and MyJDownloader :)

Troubleshooting usename/password:

Delete:


```
Core.jar
tmp/
cfg/
update/
```

Config file:

```
nano cfg/org.jdownloader.api.myjdownloader.MyJDownloaderSettings.json
```


source: https://support.jdownloader.org/Knowledgebase/Article/View/install-jdownloader-on-nas-and-embedded-devices</pre>
</div>
<div tags="" title="Jellyfin docker (emby alternative) v4">
<pre>Source: https://jellyfin.org/docs/general/installation/container


```
docker pull jellyfin/jellyfin
```


!!Note
Using ''volumes ''for ''config ''and ''cache ''(not directories on the host)


```
docker volume create jellyfin-config
docker volume create jellyfin-cache
```


Running jellyfin as ''root ''(change root in id command in two places if another user is desired). Again, using ''volumes ''for ''config ''and ''cache''. Refer to official documentation if physical directories are desired.

Using ''/media on host'' as source for music/video content, change if path is different.

```
docker run -d \
 --name jellyfin \
 --user $(id -u root):$(id -g root) \
 --net=host \
 --volume jellyfin-config:/config \
 --volume jellyfin-cache:/cache \
 --mount type=bind,source=/media,target=/media \
 --restart=unless-stopped \
 jellyfin/jellyfin 

```

Port: 8096

!!To remote control from phone

Install jellyfin clients on PC and android:


PC jellyfin client download link:

https://github.com/jellyfin/jellyfin-media-player/releases


Start playing on ''PC client''

In ''android ''client press cast button on top right/ select ''window client ''from the list/remote

Then you will be able to control PC client from the phone

!!Alternative - docker compose

In portainer/stacks/add stack
Add:


```
version: '3.5'
services:
  jellyfin:
    image: jellyfin/jellyfin
    container_name: jellyfin
    user: uid:gid
    network_mode: 'host'
    volumes:
      - /path/to/config:/config
      - /path/to/cache:/cache
      - /path/to/media:/media
      - /path/to/media2:/media2:ro
    restart: 'unless-stopped'
    # Optional - alternative address used for autodiscovery
    environment:
      - JELLYFIN_PublishedServerUrl=http://example.com
    # Optional - may be necessary for docker healthcheck to pass if running in host network mode
    extra_hosts:
      - "host.docker.internal:host-gateway"
```


!!OLD version

```
version: "2.1"
services:
  jellyfin:
    image: lscr.io/linuxserver/jellyfin:latest
    container_name: jellyfin
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - JELLYFIN_PublishedServerUrl=192.168.0.5 #optional
    volumes:
      - /path/to/library:/config
      - /path/to/tvseries:/data/tvshows
      - /path/to/movies:/data/movies
    ports:
      - 8096:8096
      - 8920:8920 #optional
      - 7359:7359/udp #optional
      - 1900:1900/udp #optional
    restart: unless-stopped
```

Then edit docker/volumes/change "data/movies" to you desired directory (ex. /media/usb/Downloads)</pre>
</div>
<div tags="" title="Jellyfin on Proxmox with GPU acceleration transcoding v12">
<pre>Default port ''8096''

!!Installation
Use jellyfin script from Proxmox Helper Useful scripts to install: https://tteck.github.io/Proxmox/

Run from web CLI


```
 bash -c "$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/ct/jellyfin.sh)"
```

Setup ''ubuntu ''as OS

Set up as ''advanced/privileged''

!!GPU passthrough 

Login Jellyfin/set user and password


''Note:'' Only ''Low-power ''encoding is supported on Jasper Lake GPU (n5105) 
https://jellyfin.org/docs/general/administration/hardware-acceleration/intel/#low-power-encoding

!!To enable Low-Power Encoding

In ''Proxmox HOST ''terminal

```
apt update &amp;&amp; apt install -y pve-firmware

 sh -c "echo 'options i915 enable_guc=2' &gt;&gt; /etc/modprobe.d/i915.conf"

update-initramfs -u &amp;&amp; update-grub
```

Reboot ''proxmox host''

Check for no fails and errors


```
dmesg | grep i915

cat /sys/kernel/debug/dri/0/gt0/uc/guc_info

cat /sys/kernel/debug/dri/0/gt0/uc/huc_info
```

Correct output for last two commands


```
Status RUNNING

```
Install systool to check GUC is enabled

```
apt install sysfsutils
```



```
systool -v -m i915 | grep guc

```

Output:


```
    enable_guc          = "2"
    guc_firmware_path   = "(null)"
    guc_log_level       = "-1"


```


Enter Jellyfin web gui

Ip can be found in proxmox console


```
ip a
```

http://JellyfinIP:8096

Now you can safely enable the Intel Low-Power encoder in the Jellyfin dashboard.

Enable GPU (ex. Intel GPU)

''GUI/Settings/Dashboard/Playback/Hardware Acceleration/Intel QuickSync (QSV) or VAA''

''Enable Intel Low-Power H.264 hardware encoder''

''Enable Intel Low-Power HEVC hardware encoder''

''Throttle Transcodes''

''Note'': Make sure to ''enable Throttle Transcode''s otherwise Jellyfin will transcode the whole movie once start watching it, overheating the GPU and taking all the disk space (''/var/lib/jellyfin/transcodes/)''

Used space can be checked running


```
du -Sh / | sort -rh | head -5
```

If there are playback issues disable "Throttle Transcodes" and increase container volume size [[Proxmox LXC container resize volume disk v2]]

!!Supported codecs for Jasper Lake

The N5105 only supports decode/encode for


```
H.264

VP8

VP9

H.265 (8 bit)

H.265 (10 bit)

and decode for VC-1. There’s no support either in encoding or in decoding for AV1.
```

Source: https://www.cpu-monkey.com/de/cpu-intel_celeron_n5105

!!Save settings

Scroll down the settings page and press ''Save ''at the end


Documentation: https://jellyfin.org/docs/general/administration/hardware-acceleration/intel/#lxc-on-proxmox

For SAMBA access

Mount media folder to /media/YourPreferableName

Use separate manual for SAMBA mount:
[[mount samba (SMB) in linux working v7]]

!!Check GPU usage


```
apt installintel-gpu-tools

intel_gpu_top
```

!!Check transcoding

Start playing video, 

Press on Settings (right bottom)/Playback Info

Play method will be streaming or transcoding

To force transcoding play HVEC movie in chrome or firefox web client

!!Troubleshooting 

Video play stops with  ''Status Code 204''  (GUI/Settings/Dashboard/Logs)


```
dmesg | grep i915
```

If there are many GPU HANG: ecode xxxxxx errors.

That means the i915 driver is crashed.

To solve this problem:

You need to make sure your linux kernal is &gt;= 5.18.0 that has proper Alder Lake support. If you are using hypervisers like proxmox, please ensure your host kernal is &gt;= 5.18.0, too.
image


```
uname -r
```


In your jellyfin vm, install the latest i915 firmwares (debian for example).


```
mkdir firmware
cd firmware
wget -r -nd -e robots=no -A '*.bin' --accept-regex '/plain/' https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux- 
firmware.git/tree/i915/

sudo mv *.bin /lib/firmware/i915/

sudo update-initramfs -c -k all
```
Add ''i915.enable_guc=2 ''GUC kernel parameter to your ''GRUB_CMDLINE_LINUX_DEFAULT''

```
nano /etc/default/grub
```
Example

```
GRUB_CMDLINE_LINUX_DEFAULT="quiet i915.enable_guc=2"
```

to apply the change.

```
update-grub 
```





reboot your vm, check your iGPU initialize correctly:


```
[    4.736904] i915 0000:01:00.0: firmware: direct-loading firmware i915/adls_dmc_ver2_01.bin
[    4.737336] i915 0000:01:00.0: [drm] Finished loading DMC firmware i915/adls_dmc_ver2_01.bin (v2.1)
[    5.737751] i915 0000:01:00.0: [drm] failed to retrieve link info, disabling eDP
[    5.738435] i915 0000:01:00.0: firmware: direct-loading firmware i915/tgl_guc_70.1.1.bin
[    5.738948] i915 0000:01:00.0: firmware: direct-loading firmware i915/tgl_huc_7.9.3.bin
[    5.831698] i915 0000:01:00.0: [drm] GuC firmware i915/tgl_guc_70.1.1.bin version 70.1
[    5.831704] i915 0000:01:00.0: [drm] HuC firmware i915/tgl_huc_7.9.3.bin version 7.9
[    5.834291] i915 0000:01:00.0: [drm] HuC authenticated
[    5.834301] i915 0000:01:00.0: [drm] GuC submission disabled
[    5.834305] i915 0000:01:00.0: [drm] GuC SLPC disabled
[    5.835680] [drm] Initialized i915 1.6.0 20201103 for 0000:01:00.0 on minor 1
```

now the playback ends issue should gone.


```
  Output #0, hls, to '/config/transcodes/36aaa298441ebbf0cc77ee70e417fe3e.m3u8':
  Metadata:
    encoder         : Lavf59.27.100
  Stream #0:0: Video: h264, qsv(progressive), 1920x1080 [SAR 1:1 DAR 16:9], q=2-31, 7160 kb/s, 23.98 fps, 90k tbn
    Metadata:
      encoder         : Lavc59.37.100 h264_qsv
    Side data:
      cpb: bitrate max/min/avg: 7160292/0/7160292 buffer size: 14320584 vbv_delay: N/A
  Stream #0:1: Audio: aac (LC), 48000 Hz, stereo, fltp
```

Source: https://github.com/jellyfin/jellyfin/issues/6957</pre>
</div>
<div tags="" title="Jellyfin transcode cleanup script">
<pre>https://github.com/RTUnit/Jellyfin-Transcodes-cleanup</pre>
</div>
<div tags="" title="jinn2usb usb with strelec v2">
<pre>https://jinnusb.su/jinn/download/

Full download: 
https://nnmclub.to/forum/viewtopic.php?t=1693536#pagestart

https://soft-varez.ru/soft/os/1362-jinnsliveusb-102-fleshka-s-windows-7-81-10-i-11.html

Other:

https://drive.google.com/drive/folders/1WW9v1m4A-3OGTicIAVxyXFD1-gkte8hR

https://disk.yandex.ru/d/E9qPylKEUJI76g</pre>
</div>
<div tags="" title="Kasm desktop in docker arm64/x86 with GPU passthrough v17">
<pre>!!Linuxserver.io version

https://docs.linuxserver.io/images/docker-kasm/


Note: minimum free space on disk required is ''50GB''


The Default usernames are'' admin@kasm.local'' and ''user@kasm.local''. The passwords will be set in install wizard on ''port 3000 ''during initial run.

GPU passthrough is set in  install wizard on ''port 3000 ''during initial run.'' Doesn't work for single GPU if occupied by the host OS.''

To re-enable install wizard please remove the /opt/NO_WIZARD file and restart the container

!!To remove GPU from specific machine

In kasm GUI Admin &gt; Workspaces &gt; Workspaces &gt; select the Workspace

Remove

```
    "/dev/dri/card1:/dev/dri/card1:rwm",
    "/dev/dri/renderD129:/dev/dri/renderD129:rwm"
```


```
sudo su
cd /root
mkdir kasm
cd kasm
```

Example of port 8443 (''default port 443'') -  443 must be replaced with 8443 at ''3 places ''in the file

Add  volumes (ex. local /root/kasm):
      - /root/kasm:/opt

```
nano docker-compose.yml
```

Add

```
---
services:
  kasm:
    image: lscr.io/linuxserver/kasm:latest
    container_name: kasm
    privileged: true
    environment:
      - KASM_PORT=8443
      - DOCKER_HUB_USERNAME=USER #optional
      - DOCKER_HUB_PASSWORD=PASS #optional
      - DOCKER_MTU=1500 #optional
    volumes:
      - /root/kasm:/opt
      - /path/to/profiles:/profiles #optional
      - /dev/input:/dev/input #optional
      - /run/udev/data:/run/udev/data #optional
    ports:
      - 3000:3000
      - 8443:8443
    restart: unless-stopped
```


Run docker


```
docker compose up -d kasm
```

''Initial run: via https://YourIP:3000''

Port 3000 page also provides statistics on the kasm environment

Normal access via https://YourIP:8443

!!Troubleshooting: if accessing kasm in web gives empty screen 

Create custom SSL as described in separate manual ''with web socket enabled'' : [[https SSL certificate install on local network duck dns reverse proxy nginx proxy server v5]]

!!Change language: 
User/profile/settings/language

!! Fix error: Creating a secure connection


```

Go to Kasm GUI/Admin Infra/zones/click edit

Change the ''proxy port to 0'' (default is 443)
```

Source: https://www.reddit.com/r/kasmweb/comments/10plve1/kasm_with_nginx_proxy_manager/

!!Add new client machine

''Admin/Workspaces/Registry''

Wait until exclamation mark to disappear (until image is downloaded)

!Original installation - Not working

!!Source: 
https://kasmweb.com/docs/latest/install/single_server_install.html

!!x86

Note: to install to different port use ''-L 8443'' parameter after ''install.sh''

Offline

```
cd /tmp
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_1.15.0.06fdc8.tar.gz
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_service_images_amd64_1.15.0.06fdc8.tar.gz
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_workspace_images_amd64_1.15.0.06fdc8.tar.gz
tar -xf kasm_release_1.15.0.06fdc8.tar.gz
sudo bash kasm_release/install.sh --offline-workspaces /tmp/kasm_release_workspace_images_amd64_1.15.0.06fdc8.tar.gz --offline-service /tmp/kasm_release_service_images_amd64_1.15.0.06fdc8.tar.gz
```

Online

```
cd /tmp
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_1.15.0.06fdc8.tar.gz
tar -xf kasm_release_1.15.0.06fdc8.tar.gz
sudo bash kasm_release/install.sh
```


!!arm64

Online 

```
cd /tmp
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_1.15.0.06fdc8.tar.gz
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_service_images_arm64_1.15.0.06fdc8.tar.gz
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_workspace_images_arm64_1.15.0.06fdc8.tar.gz
tar -xf kasm_release_1.15.0.06fdc8.tar.gz
sudo bash kasm_release/install.sh --offline-workspaces /tmp/kasm_release_workspace_images_arm64_1.15.0.06fdc8.tar.gz --offline-service /tmp/kasm_release_service_images_arm64_1.15.0.06fdc8.tar.gz
```

Offline

```
cd /tmp
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_1.15.0.06fdc8.tar.gz
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_service_images_arm64_1.15.0.06fdc8.tar.gz
curl -O https://kasm-static-content.s3.amazonaws.com/kasm_release_workspace_images_arm64_1.15.0.06fdc8.tar.gz
tar -xf kasm_release_1.15.0.06fdc8.tar.gz
sudo bash kasm_release/install.sh --offline-workspaces /tmp/kasm_release_workspace_images_arm64_1.15.0.06fdc8.tar.gz --offline-service /tmp/kasm_release_service_images_arm64_1.15.0.06fdc8.tar.gz
```

Log into the Web Application running on port ''443 ''at https://&lt;WEBAPP_SERVER&gt;

The Default usernames are ''admin@kasm.local'' and ''user@kasm.local''. The ''passwords will be randomly generated'' and presented at the end of the install unless the --admin-password or/and --user-password are specified.

</pre>
</div>
<div tags="" title="kasmvncserver web-based html VNC server for Linux v3">
<pre>Download deb package:

https://github.com/kasmtech/KasmVNC/releases/tag/v1.2.0

Ubuntu example: 

```
wget https://github.com/kasmtech/KasmVNC/releases/download/v1.2.0/kasmvncserver_jammy_1.2.0_amd64.deb

sudo dpkg -a kasmvncserver_jammy_1.2.0_amd64.deb
```

If there are dependency errors:


```
sudo apt update &amp;&amp; sudo apt upgrade -y &amp;&amp;  sudo apt --fix-broken install -yz
```


!!Currently only works from root


!!Useful commands:



```
# Start a session and be guided to setup a user and select a default desktop environment
vncserver

#Check installed desktop environments

ls -l /usr/share/xsessions/

# Start a session with the mate desktop environment
vncserver -select-de mate

# Add a new user with read/write permissions
vncpasswd -u my_username -w -r

# Tail the logs
tail -f ~/.vnc/*.log

# Get a list of current sessions with display IDs
vncserver -list

# Kill the VNC session with display ID :2
vncserver -kill :2


#Kill all vncserver instances

sudo killall vncserver
```

!! To run vncserver from root
```
sudo su

vncserver

```


Create user (can be ''root'') and password

''https ''connect to your IP

https://YourIP:8444

For debugging and troubleshooting


```
sudo su
tail -f /root/.vnc/*.log

```

!!Alternative - not working

Add user to ssl-cert group

sudo usermod -a -G ssl-cert $USER

Sources:

https://github.com/kasmtech/KasmVNC?__hstc=&amp;__hssc=&amp;hsCtaTracking=5647b03d-8cb1-41f9-af4d-4bf4b1692a5b%7C3382cb29-bf73-4c56-b7a6-d8e975e39fce

https://www.kasmweb.com/kasmvnc/docs/latest/index.html

</pre>
</div>
<div tags="" title="KDE fix no GUI terminal on start">
<pre>```
sudo apt install --reinstall kde-plasma-desktop
```


Reboot</pre>
</div>
<div tags="" title="kill zombie process">
<pre>```
kill $(ps -A -ostat,ppid | awk '/[zZ]/ &amp;&amp; !a[$2]++ {print $2}')
```


Source: https://stackoverflow.com/questions/16944886/how-to-kill-zombie-process</pre>
</div>
<div tags="" title="Killercoda manual v2">
<pre>https://killercoda.com/creators/get-started

Examples:

https://github.com/killercoda/scenario-examples

My manuals: https://killercoda.com/openwrt/scenario/openwrt



```
### Run web server on 8080

`sudo apt install python2 -y`{{exec}}


`python2 -m SimpleHTTPServer 8080`{{exec}}


### Browse files:
[Browse files]({{TRAFFIC_HOST1_8080}})


### Browse ports:

[ACCESS PORTS]({{TRAFFIC_SELECTOR}})
```


```
Services need to run on all interfaces (like 0.0.0.0) and not just localhost.


&gt; Services need to be accessible via HTTP and **not** HTTPS.
Expose Apache on port 1234 using Docker:

docker run -p 1234:80 httpd:alpine
```{{exec}}

Now access Apache using this link:

[ACCESS APACHE]({{TRAFFIC_HOST1_1234}})

It's also possible to access ports using the top-right navigation in the terminal.
Or we can display the link to that page:

[ACCESS PORTS]({{TRAFFIC_SELECTOR}})
```
</pre>
</div>
<div tags="" title="KodExplorer KodBox file browser web access synology alternative v9">
<pre>KodBox site: https://github.com/kalcaddle/KodExplorer/releases

!!Install from source (physical - not working):


```
git clone https://github.com/kalcaddle/kodbox.git
chmod -Rf 777 ./kodbox/*
```

!!Install from download(physical - not working):

```
wget https://github.com/kalcaddle/KODExplorer/archive/master.zip
unzip master.zip
chmod -Rf 777 ./*
```


```
php -S localhost:8111 index.php
```


!!Docker installation:


```
version: "3.5"

services:
  app:
    image: kodcloud/kodbox
    ports:
      - 9013:80
    volumes:
      - "./data:/var/www/html"
    restart: always
```

Source: https://www.reddit.com/r/selfhosted/comments/r5nfne/web_based_file_manager_kodbox_or_kodexplorer_or/

Plugins (onlyoffice): https://github.com/zhtengw/kodexplorer-plugins

Onlyoffice setup (connection to separate OnlyOffice server):

https://doc.kodcloud.com/vip/#/onlyoffice/linux


Enter docker console (portainer or other)

Embedded in fusionWRT KodBox located in ''/tmp/kodexplorer/plugins''

```
cd plugins

wget https://github.com/zhtengw/kodexplorer-plugins/releases/download/v2020.06.01/OnlyOffice-v3.0-for_kodbox.zip

unzip OnlyOffice-v3.0-for_kodbox.zip 
```


In kodbox/desktop/system settings/Plugin Center/Installed/OnlyOffice/enable/configure


```
add OnlyOffice server ip:port (ex 192.168.3.4:8080)
```
''Note: ''only worked in'' same subnet IP as kodbox'' (ex. tailscale) and custom port (not 80) is OK

''Troubleshooting:'' to check onlyoffice server for  kodbox enter in address line of web browser: 

http://IPofOnlyOfficeServer/web-apps/apps/api/documents/api.js

All free plugins here: https://github.com/zhtengw/kodexplorer-plugins/releases/tag/v2020.06.01

Translated from Chinese:

plug-in installation method
after downloading, upload the corresponding version of the plugin folder to the folder of the daoyun, enable the plugin in the plugin center and refresh the page!plugins

!!Adding external storage (SAMBA based hack fusionWRT - working fast and reliable):

''luci/admin/nas/cifs''

Enable and add:


```
IP: SAMBA server's IP

Shared Folder: SAMBA share name on the server (ex. USB)

Mount path: /tmp/kodexplorer/data/files (to show up in Local Storage of KodBox

SMB v2

Read/Write

User and password on SAMBA server
```
''Save and Apply''

!!Adding external storage (FTP -''very slow'')

Install FTP server on another server (ex. vsftpd in separate manual).

make sure directory to be connected is owned by the ftp user logging in 


```
chown &lt;username&gt; &lt;directory&gt;
```

In kodbox/system settings/storage file/storage/add/ftp

Provide:


```
Storage name label

Storage size (according to actually available storage space)

FTP server ip address: ftp://&lt;IP&gt;

Account name: &lt;FTP username&gt;

Account password: &lt;FTP pwd&gt;

Directory: provide directory that owned by the FTP user, otherwise won't work
```
Press save.

To access from kodbox explorer, go to Network (admin) in the tree view on the left/bottom


Draw.io plugin (vdx and diagrams) require simplexml library 

opkg install php7-mod-simplexml</pre>
</div>
<div tags="" title="kvm installation on Arch Linux (HoloISO)">
<pre>```
sudo pacman -Syy
sudo pacman -S archlinux-keyring
sudo pacman -S qemu virt-manager virt-viewer dnsmasq vde2 bridge-utils openbsd-netcat
sudo pacman -S ebtables iptables
sudo pacman -S libguestfs
sudo systemctl enable libvirtd.service
sudo systemctl start libvirtd.service
sudo systemctl status libvirtd.service
sudo usermod -a -G libvirt $(whoami)
sudo systemctl restart libvirtd.service

```
</pre>
</div>
<div tags="" title="Lancache DNS and proxy cache for games v1">
<pre>!Not working on arm64

Installation (docker originally port ''80 ''shoud be used on host):

In terminal

```
docker run \
  --restart unless-stopped \
  --name lancache \
  -v /cache/data:/data/cache \
  -v /cache/logs:/data/logs \
  -p 8080:80 \
  -p 443:443 \
  lancachenet/monolithic:latest
```


!!Source and more parameters: 
https://lancache.net/docs/containers/monolithic/


!!Alternative (physical machine etc.):
```
git clone https://github.com/lancachenet/docker-compose lancache
```
```
cd lancache
```
```
nano .env
```
```
sudo docker-compose up -d
```

Configure your router to serve ONLY lancache-dns

Site: https://lancache.net/

Video demo (physical installation): https://www.youtube.com/watch?v=427wjHRl8N4</pre>
</div>
<div tags="" title="Launchbox demul run dreamcast gdi from zip and xenia XBLA from rar v7">
<pre>Instal launchbox (provide email to download): https://www.launchbox-app.com/download

!!Disable updates in settings.

!!All Bioses for all consoles: 
https://4pda.to/forum/dl/post/24147359/system.7z

!!Dreamcast
Download demul: http://demul.emulation64.com/downloads/

Download demul BIOS: http://www.mediafire.com/file/48kpzrz3wnr9cqp/DEMUL+BIOs.rar

Extract demul to launchbox\emulators\

Extract BIOS to launchbox\demul\roms\

Configure demul:

Launchbox\tools\manage\emulators\add

type in demul

add exe location launchbox\demul\demul.exe

Check: Extract ROM archives before running\OK

Add dreamcast platform: RMB on All (on the left)\Add\New Platform\Yes\Title\Sega Dreamcast\OK

Import ROMs: Launchbox\Tools\Import\ROM files\Next\Add Folder\AddGdiFolder\Sega Dreamcast\Manually config\demul\Use the files in their current location\Next\Next\Finish

On first run change in demul options GD-ROM plugin to ''gdrImage''

Tip: select in demul\config\plugins\old plugin to change internal scale in \config\video\internal scale (maximum working ''x5'')

To update metadata: Select all games with CTRL+A tools\download\Update Metadata\Chose emuMovies as source of images\Yes (first option)

!!Xenia xbox 360 emulation including XBLA compressed in RAR.

Install location (xenia-custom 1.12 alpha) works the best: https://drive.google.com/file/d/1Ul1oihxkFYhkdftMCmNuOPK-mNjhU3m9/view

Same as demul (extract into launchbox\emulators add emulator, type xenia, check extract before run, add platform, import roms, keep in original folder)

For xenia to play XBLA games change windows\documents\xenia\xenia.config.toml 


```
[Content]
license_mask = 1     
```

!!!To show game images choose ''Image Group\Boxes''

Xenia patches (extract to documents\xenia): https://github.com/xenia-canary/game-patches

and create empty patches.txt where xenia.exe is.

!!Sega saturn: 
https://www.youtube.com/watch?v=u26ScPsAQ-A&amp;t=87s

Emulator: https://mednafen.github.io/releases/

Saturn BIOS: https://4pda.to/forum/index.php?showtopic=690962

Add manually tools\manage emulators

Check extract roms

Add new platform: Sega Saturn

Import ROMs\keep in same location

To configure gamepad in mednafen: press ''alt-shift-1'' and start the configuration process. You have to press each button/key ''twice ''as some sort of confirmation.
</pre>
</div>
<div created="20210419173608432" creator="user" modified="20210419180541750" modifier="user" tags="manual" title="Launcher" tmap.id="57616a9a-2ebb-4870-b878-ac7daba44c65">
<pre>!Self-hosting Launcher



&lt;$button message="tm-open-external-window" param="http://192.168.3.70:9000" &gt;
[img width=164 class="tc-image" [https://mintguide.org/wp-content/uploads/2020/11/logo.png]]
&lt;/$button&gt;
|
&lt;$button message="tm-open-external-window" param="http://192.168.3.70:9999" &gt;
[img width=164 class="tc-image" [https://www.howtogeek.com/wp-content/uploads/2020/03/NextCloudLogo.png]]
&lt;/$button&gt;
|
&lt;$button message="tm-open-external-window" param="http://192.168.3.70:9090" &gt;
[img width=164 class="tc-image" [https://pbs.twimg.com/profile_images/889410719925587968/mtnBneRE.jpg]]
&lt;/$button&gt;
|
&lt;$button message="tm-open-external-window" param="http://192.168.3.70:8080" &gt;
[img width=164 class="tc-image" [https://lh3.googleusercontent.com/MM7DVPrLJD7dITTujbQVLEcu1yxHnpD7ExF1-FZ8rj3Oq7AqNn0HsyDGsUuFceFKmORY]]
&lt;/$button&gt;
|

&lt;$button message="tm-open-external-window" param="https://disk.yandex.com/client/disk/Tools/Manuals" &gt;
[img width=164 class="tc-image" [https://www.webtekno.com/images/editor/default/0002/44/915cbd4e39ef2749431525ceba081dd6ead50614.jpeg]]
&lt;/$button&gt;
|
&lt;$button message="tm-open-external-window" param="https://sharicov.github.io/manuals" &gt;
[img width=164 class="tc-image" [https://1000logos.net/wp-content/uploads/2018/11/GitHub-logo.png]]
&lt;/$button&gt;
|
&lt;$button message="tm-open-external-window" param="https://r4s.noho.st/yunohost/sso/" &gt;
[img width=164 class="tc-image" [https://yunohost.org/_assets/logo.png]]
&lt;/$button&gt;
|

&lt;$reveal type="nomatch" state="$:/state/SampleReveal2" text="show"&gt;

&lt;$button set="$:/state/SampleReveal2" setTo="show"&gt;Credentials&lt;/$button&gt;

&lt;/$reveal&gt;
&lt;$reveal type="match" state="$:/state/SampleReveal2" text="show"&gt;

&lt;$button set="$:/state/SampleReveal2" setTo="hide"&gt;Hide me&lt;/$button&gt;

! Made by Sharicov 2021


</pre>
</div>
<div tags="" title="LeedRSS self hosted like FreshRSS v1">
<pre>source: https://github.com/LeedRSS/Leed#leed-english-documentation</pre>
</div>
<div tags="" title="Links v39">
<pre>TiddlyWiki free hosting online (sharicov manuals backup) private only: https://noteself.org/online/

News: https://vk.com/rutororg?ysclid=lq8dejj3j5569053662

Disposable temporary email (gmail based) https://www.emailnator.com/

Online OCR PDF2DOC with formatting: https://www.onlineocr.net/

Online AI chat: https://chat.openai.com/chat

GPT chant alternative with picture generation and web support: https://app.writesonic.com/

Chrome extension for chatGPT to add UpToDate information from the web

Top ChatGPT extensions (email, web summary, web search etc): https://beebom.com/best-chatgpt-chrome-extensions/

SUNO AI music generator: https://app.suno.ai/

Suno Review: https://www.youtube.com/watch?v=yAmTz4xtWss

SUNO Style examples: https://habr.com/ru/news/776070/

SUNO Guide: https://telegra.ph/Podskazki-po-sozdaniyu-pesen-v-SUNO-AI-dopolnenie-k-video-12-03

Online AI picture generation: https://www.shutterstock.com/generate

https://stablediffusionweb.com/SDXL-Turbo#ai-art-generator

Online AI picture generation in discord: https://discord.com/channels/662267976984297473/1008571029804810332

Online AI picture/video generation: https://app.leonardo.ai/

Online gamepad testing (inc. vibration): https://gamepad-tester.com/

GPU online stress test benchmark: https://www.matthew-x83.com/online/gpu-test.php

Online retro games (mame etc): https://www.playretrogames.com/

Online windows 95,98.ME with games in browser:
https://emupedia.net/beta/emuos/

Online AI image generator: 
https://discord.com/channels/662267976984297473/1008571029804810332?

USB flashing tools site: https://www.usbdev.ru/

MPC-BE player with GPU upscaling nightly builds: https://disk.yandex.ru/d/hlf1lfC8mKU58
https://github.com/Aleksoid1978/MPC-BE

Drive packs: http://forum.ru-board.com/topic.cgi?forum=62&amp;topic=24098&amp;start=71&amp;limit=1&amp;m=1#1

ISO insider download generator: https://uupdump.net/

ISO download: https://uup.rg-adguard.net/

Lite windows 11 X Lite reflection 22H2 (no telemetry): https://www.teamos.xyz/threads/windows-11-x-lite-22621-963-reflection.190214/

Latency scanner: http://startrinity.com/InternetQuality/InternetConnectionMonitor.aspx

Movies sci-fi
http://rutracker.org/forum/tracker.php?f=313&amp;nm=%D1%84%D0%B0%D0%BD%D1%82%D0%B0%D1%81%D1%82%D0%B8%D0%BA%D0%B0

Free apps:
https://4pda.to/forum/index.php?showtopic=296315&amp;st=6600
https://www.sordum.org/

Bulk convert 7zip to zip: https://www.romvault.com/trrntzip/

Warez: 

http://rsload.net

https://byrut.org/

https://byxatab.com

https://cs.rin.ru/

http://rutor.is

https://nnmclub.to/forum/tracker.php

https://rutracker.org

https://pb.wtf/forum/1825/

https://gamestracker.org/

https://iknowwhatyoudownload.com/ru/peer/

http://forum.ru-board.com/

https://only-soft.org/viewforum.php?f=161

https://kaoskrew.org/viewforum.php?f=13

Ratiborus cracks https://forum.ru-board.com/topic.cgi?forum=2&amp;topic=5969&amp;start=1440

Sales in US:

https://slickdeals.net/computer-deals/

LiveCD:

http://a-admin.ru/rsa.php
https://sergeistrelec.name/
https://driveroff.net/sam/

Chromium OS with Android apps:
https://fydeos.io/download
ctrl+alt+f2 user: chronos NOPASSWORD sudo su

File share over web:
https://www.makeuseof.com/free-file-transfer-websites-share-data-without-email-or-software/

GPU: https://www.guru3d.com/files/index.html

Translator online:
https://www.deepl.com/translator

Convert video online (volume, trim etc): https://mp3cut.net/change-volume

Game cheats:

https://flingtrainer.com/

https://www.thecheatscript.com/search/label/Cheat%20Engine%20Table?&amp;max-results=7

Emulators:
http://www.emucr.com/
https://cdromance.com/

Music playlist across platforms (spotify, apple, youtube)
https://soundiiz.com/webapp/explorer

WinntSetup Make_WinPE_Trusted MiniPE: https://msfn.org/board/forum/157-install-windows-from-usb/

Coinops builds:

https://www.arcadepunks.com/coinops-collections-the-all-new-2022-fully-loaded-front-end-for-your-cabinet-or-pc-gaming-box/

DOS games full set 560GB :
https://nnmclub.to/forum/viewtopic.php?t=1422926
https://rutracker.org/forum/viewtopic.php?t=5967164
388 GB: https://rutracker.org/forum/viewtopic.php?t=6163579

Sega Saturn ROMs 693GB:
https://rutracker.org/forum/viewtopic.php?t=5679422

XBLA ROMS:
https://nnmclub.to/forum/viewtopic.php?t=518878
https://nnmclub.to/forum/viewtopic.php?t=632456

Rom sets on internet archive:
https://archive.org/details/no-intro_romsets
https://archive.org/search.php?query=no-intro+2020&amp;page=2
https://archive.org/search.php?query=rom%20set

TeknoParrot Arcade automates French forum with ROMs and emulators (registered with ys...v):

https://archive.org/download/TeknoparrotGamesFull

https://archive.org/details/TeknoparrotGamesFull

https://archive.org/details/TeknoparrotFullGames


http://www.emuline.org/topic/819-teknoparrot-loader-arcade-pc/page/1041/


http://www.emuline.org/forum/28-arcade-pc-dump-loader/


ROMs: http://www.emuline.org/topic/2384-arcade-pc-allnet-p-ras-multi-ver/

200 TeknoParrot ROMs on webarchive:
https://archive.org/details/TeknoparrotGamesFull

Small TeknoParrot ROMs set on webarchive:
https://archive.org/details/TeknoParrotRoms

TeknoParrot support compability list and download: https://teknogods.github.io/compatibility.html

TeknoParrot list of ROMs to download:
https://www.retroroms.info/forum/topic/Teknoparrot-games.htm

Many platforms roms download 2 French sites (supermodel,teknoparrot etc):
http://teknoparrot.links.free.fr/
http://teknoparrot.link.free.fr/

Large ROMs collection:
https://www.arcadepunks.com/download-games-for-your-arcade/

Russian ROMs collection for all platforms:
https://nintendo.moy.su/

Huge roms collection:

https://docs.google.com/spreadsheets/d/19tAZ1KNEUZ58e-4kPJGh947alDb1oyrNpzcnCLk7DEE/pubhtml

Launchbox gdi zip dreamcast: https://rsload.net/soft/manager/35617-launchbox-121.html

Emulators Russian forum: http://www.emu-land.net/forum/index.php/board,67.0.html

Packaging several apps in one installation:
https://ninite.com/

Online webassembly compiler
https://wasdk.github.io/WasmFiddle/

Nice gui for github starred items: https://app.astralapp.com/dashboard
VR hack: https://dtf.ru/s/vr_ar/871466-gayd-po-piratstvu-na-oculus-quest-2-a-takzhe-sidequest-u-i-ruchnomu-obnovleniyu-shlema

WiiU ticket url site: https://titlekeys.ovh/
https://wiikeys.web.app

WiiU USB Helper: https://wiki.agilly1989.xyz/books/how-to-usbhelper

CEMU tutorials: https://www.reddit.com/r/CemuPiracy/wiki/tutorial


http://www.emuline.org/topic/1265-dumps-dumps-disponibles-en-miroir-mirror-many-dumps-availables/

Ascii cinema: useful CLI programs https://asciinema.org/explore</pre>
</div>
<div tags="" title="linux emergency reboot shutdown">
<pre>!!Reboot with sync

''Alt+SysRq(PrtSc)+B ''

!!Shutdown with sync

''Alt+SysRq(PrtSc)+O ''

https://en.wikipedia.org/wiki/Magic_SysRq_key

https://superuser.com/questions/108704/how-to-shutdown-a-computer-instantly-1-to-5-secs-without-using-a-physical-swit#:~:text=Alt%20%2B%20SysRq%20%2B%20B%20is%20instant,SysRq%20%2B%20O%20is%20instant%20shutdown.&amp;text=On%20certain%20linux%20distributions%2C%20shutdown%20offers%20the%20option%20%2Dn.</pre>
</div>
<div tags="" title="linux file system integrity periodical checks aide">
<pre>!!Documentation
https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/sec-using-aide

Installation

```
apt update; apt upgrade; apt install aide aide-common -y
```

First run


```
/usr/bin/aide --init --config /etc/aide/aide.conf
```

Add to crontab to run periodically


```
crontab -e
```

Add to run every day at 5 am


```
 0 5 * * * /usr/bin/aide --config /etc/aide/aide.conf --check
```


!!To exclude directories


```
nano /etc/aide/aide.conf
```


Exclude each directory separatey by adding following line:


```
! &lt;path to file or directory&gt;
```


Source: https://documentation.avaya.com/bundle/AdministeringAvayaMeetingsStreamingAndRecording_r91/page/Excluding_files_and_directories_from_AIDE_scanning.html#:~:text=You%20can%20add%20files%20and,and%20directories%20in%20scanning%20reports.</pre>
</div>
<div tags="" title="Linux find duplicate files v3">
<pre>```
apt install fdupes
fdupes -rd /media/usb1/
```

type help to get a manual

!!Unraid

install ''Dupeguru ''docker

Alternatives;

https://recoverit.wondershare.com/file-recovery/linux-find-duplicate-files.html</pre>
</div>
<div tags="" title="Linux logs">
<pre>```
dmesg

journalctl -f
```
</pre>
</div>
<div bag="default" created="20210417200321316" creator="sharicov" modified="20210417200457366" modifier="sharicov" revision="1" tags="manual" title="Linux processes and services" type="text/vnd.tiddlywiki">
<pre>!!! Show running processes with parameters (ps command): 


```
sudo  ps -eo args   

```

!!! Show running services: 


```
sudo service --status-all 

```

Restart php service to fix solve 502 error (get exact phpX.X-fpm use service –status all command) 


```
sudo systemctl restart php7.3-fpm 
```
</pre>
</div>
<div tags="" title="Linux programs on android termux (nextcloud example)">
<pre>install termux in google play
get storage permissions
termux-setup-storage 
pkg install root-repo
pkg upgrade
pkg install openssh
pkg install php php-fpm sqlite coreutils openssl-tool git 

For rooted device install sudo:
pkg install tsu

to connect from other computer run in termux:
To set password:
passwd SETYOURPASSWORD
Run ssh server (port 8022):
sshd

On guest computer run:
ssh IPADRESS -p 8022

Install buster

pkg install proot-distro
proot-distro list
proot-distro install debian
proot-distro login debian
apt update &amp;&amp; apt upgrade
apt install sudo
 curl https://raw.githubusercontent.com/YunoHost/install_script/main/bullseye_do_not_install_it_in_prod | bash

To reset storage:
termux-setup-storage 
non working - dropbear/nextcloud
To run ssh server on 2222 port in foreground:
dropbear -F -p 2222

cd /storage/emulated/0/ &amp;&amp; git clone https://github.com/nextcloud/server.git nextcloud
cd /storage/emulated/0/nextcloud/ &amp;&amp; git submodule update --init
php -S 0.0.0.0:8080 -t /storage/emulated/0/nextcloud/

In web browser locally:
Go to http://0.0.0.0:8080
Set an admin username and password in the
(SQLite will be used as database)

Source: https://github.com/jancborchardt/nextcloud-scripts/blob/master/nextcloud-on-android.md?utm_source=pocket_mylist

https://www.reddit.com/r/termux/comments/mkzoyd/showcase_fully_functional_nextcloud_server_on/gtn670f/?utm_source=share&amp;utm_medium=web2x&amp;context=3</pre>
</div>
<div tags="" title="Linux show number of files in folder v2">
<pre>```
ncdu
```


After calculation had been completed
Press capital C to sort by number of files


!!!For total number of files in directory
```
screen -t files

find DIR_NAME -type f | wc -l
```
</pre>
</div>
<div tags="" title="Linux Single GPU Passthrough guide">
<pre>Source video: https://www.youtube.com/watch?v=eTWf5D092VY


```
1:14 Update your OS
sudo dnf update
1:37 Installing nvidia drivers
lspci -nnk
sudo dnf install akmod-nvidia xorg-x11-drv-nvidia-cuda
2:37 Install UNIGINE Valley
cd ~/Downloads
chmod a+x UnigineValley
./Unigine_Valley-1.0.run
cd Unigine_Valley-1.0
./valley
4:00 Benchmark Results (on Host)
4:16 UEFI/BIOS Settings
Enable "Virtualization" and "VT-d"
4:49 Install Stuff
sudo dnf groupinstall --withoptional virtualization
5:10 Configure Linux
sudo vi /etc/sysconfig/grub
Content to add: intel_iommu=on iommu=pt
sudo grub2-mkconfig -o /etc/grub2.cfg
sudo vi /etc/dracut.conf.d/local.conf
add_driver+=" vfio vfio_iommu_type1 vfio_pci vfio_virqfd "
sudo dracut -f --kver `uname -r`
My Grub and Dracut Explanation: https://youtu.be/3OdlPmPbLII?t=270
6:24 Verify Linux Setup
lsmod | grep kvm
dmesg | grep -i iommu
cat /proc/cmdline
lspci -nnk
7:30 Downloads
Windows 10 ISO: https://www.microsoft.com/en-us/softw...
VIRTIO Driver ISO: https://github.com/virtio-win/virtio-...
7:46 Create the VM
9:30 Installing Windows
10:00 Virtual Disk Performance
11:39 VM Network Connection
11:55 Remote Display
ip addr
13:42 Install Hook Helper
Github Tutorial: https://github.com/joeknock90/Single-...
PassthroughPo.st Hook Helper: https://passthroughpo.st/simple-per-v...
PassthroughPo.st VFIO Tools: https://github.com/PassthroughPOST/VF...
sudo mkdir -p /etc/libvirt/hooks
sudo wget 'https://raw.githubusercontent.com/Pas...  -O /etc/libvirt/hooks/qemu
sudo chmod +x /etc/libvirt/hooks/qemu
sudo service libvirtd restart
11:14 Writing the Hook Scripts
mkdir -p /etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/prepare/begin
mkdir -p /etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/release/end
vi /etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/prepare/begin/start.sh
chmod +x /etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/prepare/begin/start.sh
vi /etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/release/end/revert.sh
chmod +x /etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/release/end/revert.sh
14:50 Customize Hook Scripts
lspci -nnk
15:45 Test and Fix Hook Scripts
sudo systemctl start sshd
ssh singlegpu@192.168.0.123
/etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/prepare/begin
lsmod | grep nv
sudo rmmod nvidia_drm
sudo rmmod nvidia_uvm
sudo rmmod nvidia_modeset
sudo rmmod nvidia
/etc/libvirt/hooks/qemu.d/win10-vm1-singlegpu/release/end/revert.sh
18:53 Add GPU to the VM
19:34 Install GPU Drivers
20:04 Mouse and Keyboard
20:40 Install UNIGINE Valley
21:43 Benchmark Results (on Guest)
21:55 Closing Thoughts
22:27 Bonus Message
Discord Invite: https://discord.gg/NPCnXGtnN8
blandmanstudios store: https://blandmanstudios.square.site/

# External Links #
Download Windows 10 ISO: https://www.microsoft.com/en-us/softw...
Download VIRTIO Driver ISO: https://github.com/virtio-win/virtio-...
```
</pre>
</div>
<div bag="default" created="20210417195046693" creator="sharicov" modified="20210417195455610" modifier="sharicov" revision="3" tags="manual" title="Linux Swap setup v5" type="text/vnd.tiddlywiki">
<pre>!!Linux SWAP setup 

Show swap status (source and size)


```
swapon --summary
```


OR


```
cat /proc/swaps
```


OR


```
systemctl --type swap
```


In armbian output will be


```
Filename                                Type            Size            Used            Priority
/dev/zram0                              partition       1932628         1886548         5
x96:sharicov:#
```


To see swap occupation and size


```
top # last stats line on top
```


OR


```
glances #top               right corner Swap and total
```


Source: https://www.tecmint.com/commands-to-monitor-swap-space-usage-in-linux/

!!To create swap file (ex. foo-swap-space is the destination for swap file creation)


```
sudo su
dd if=/dev/zero of=/foo-swap-space count=4 bs=1GiB
chmod -v 0600 /foo-swap-space
chown -v root:root /foo-swap-space
ls -l /foo-swap-space
mkswap /foo-swap-space
swapon /foo-swap-space
```


!!Example x96 (10GB swap file on SSD)


```
sudo su
dd if=/dev/zero of=/media/usb/swap count=10 bs=1GiB
ls -alph /media/usb/
chmod -v 0600 /media/usb/swap
chown -v root:root /media/usb/swap
ls -l /media/usb/swap
mkswap /media/usb/swap
swapon /media/usb/swap
```


Source: https://www.cyberciti.biz/faq/ommand-to-move-swap-space/

!!To mount swap file on startap

sudo nano /etc/rc.local

Add by the end of the file before exit 0


```
swapon /media/usb/swap
```



!!To add swap file to fstab - Not working


```
cp /etc/fstab{,.backup}
nano /etc/fstab
```


''Note: ''Add AFFTER /media/usb line (so disk is mounted before we mount swap file from it)

/media/usb/swap   none    swap    sw    0   0

!!To remove zram swap (''not recommended'')


```
 sudo nano /etc/default/armbian-zram-config

```

Add


```
# Zram swap enabled by default, unless set to disabled
SWAP=false
```


Source: https://serverfault.com/questions/1093773/how-to-permanently-remove-dev-zram0-as-swap-in-armbian


Source: http://manpages.ubuntu.com/manpages/bionic/man8/dphys-swapfile.8.html

Check swap file location and usage (default /var/swap) 


```
swapon -s 

```

Disable default swap 


```
sudo dphys-swapfile swapoff 

```

Edit setting (to 1GB) 


```
sudo nano /etc/dphys-swapfile 

```

Change swap size from 100 to 1000  

`CONF_SWAPSIZE=1000`

Start swap 


```
sudo dphys-swapfile swapon 
```


!!Swapiness (when swap is used)


```
nano /etc/sysctl.conf
```


default ''100 ''(swap is always used)


```
vm.swappiness = 100
```


recommended 15 (for 4GB) - means when system reachs 90% memory usage


```
vm.swappiness = 15
```

!!''Reboot required''

Check current swappiness value:


```
cat /proc/sys/vm/swappiness
```

Source: https://askubuntu.com/questions/51785/swap-shoots-to-100-after-a-couple-of-hours-of-usage

Source2: https://linuxize.com/post/how-to-change-the-swappiness-value-in-linux/

Source3: https://www.howtogeek.com/449691/what-is-swapiness-on-linux-and-how-to-change-it/</pre>
</div>
<div tags="" title="linux systemd fix btrfs (x96 example) v7">
<pre>!!Check processes using disk


```
fuser -m /media/usb

```

Stop samba and torrserver


```
service smb start

systemctl status samba

ps  -aux |greo #ProcessNumberID

kill #ProcessIDNumber
```

Unmount disk


```
umount /dev/sda1
```


!! Run smartcheck


```
smartctl --all -H /dev/sda1
```


!!Check btrfs



```
btrfs restore -l /dev/sda1
```


```
btrfs check --clear-ino-cache /dev/sda1

btrfs check /dev/sda1
```


!!BTRFS Scrab check (on mounted drive)


```
btrfs scrub start /dev/sda1
```

</pre>
</div>
<div created="20210614103010327" modified="20210614103431863" tags="manual" title="Linux touch to click v1">
<pre>```
sudo nano  /etc/X11/xorg.conf.d/50-synaptics.conf  
```


Add:


```
Option "Tapping" "on"
```

!! Natural scroll


```
Option "Natural Scrolling" "true"
```

</pre>
</div>
<div tags="" title="LinuxDir2HTML Snap2HTML clone for Linux v4">
<pre>Source:  https://github.com/homeisfar/LinuxDir2HTML

!!Installation


!!!Download
On Linux machine:

```
wget https://github.com/homeisfar/LinuxDir2HTML/archive/refs/tags/v1.5.0.zip

unzip v1.5.0.zip

cd LinuxDir2HTML-1.5.0

```

!!!Build


```
python3 setup.py --help

python3 setup.py build

python3 setup.py install
```

!!!Run


```
linuxdir2html --help

 linuxdir2html /media/usb /media/usb/x96_disk_2TB
```

For detailed output use ''-v'' or ''-vv''

Output filename ''without'' .html extension, will be created automatically..


!!Windows version (Snap2HTML) 

https://www.rlvision.com/snap2html/about.php</pre>
</div>
<div tags="" title="LMStudio AI DeepSeek localhosted with AMD Radeon GPU support v6">
<pre>https://lmstudio.ai/ryzenai

Models: deepseek, Claude 3.5 Sonnet

Download and install

Open

Folder icon on left/default model folder on top/choose local directory for models

Search icon on left/deepseek r1 70b/select/ on right click rectangle icon right to name of model to get all possible variants, choose one fitting you the best - green icon means it can be fully use the GPU (''lmstudio-community/DeepSeek-R1-Distill-Qwen-7B-GGUF/DeepSeek-R1-Distill-Qwen-7B-Q8_0.gguf'')

HW requirements for different DeepSeek local models: https://apxml.com/posts/gpu-requirements-deepseek-r1

Setting up local folder for models:
https://www.reddit.com/r/LMStudio/comments/18je9rg/how_to_change_directory_of_lm_studio_cache/

Video with explanations:
https://www.youtube.com/watch?v=7TR-FLWNVHY

Troubleshooting and discussions:

https://github.com/lmstudio-ai/configs/blob/main/Extension-Pack-Instructions.md

https://www.reddit.com/r/ROCm/comments/1f52n6c/lmstudio_rocmvulkan_runtime_doesent_work/

!!More info

https://lmstudio.ai/blog/deepseek-r1

DeepSeek R1 models, distilled and full size
If you've gone online in the last week or so, there's little chance you missed the news about DeepSeek.

DeepSeek R1 models represent significant and exciting milestone for openly available models: you can now run "reasoning" models, similar in style to OpenAI's o1 models, on your local system. All you need is enough RAM.

The release from DeepSeek included:

DeepSeek-R1 - the flagship 671B parameter reasoning model
DeepSeek-R1 distilled models: A collection of smaller pre-existing models fine-tuned using DeepSeek-R1 generations (1.5B, 7B, 8B, 14B, 32B, 70B parameters). An example is DeepSeek-R1-Distill-Qwen-7B.
DeepSeek-R1-Zero - An R1 prototype fine-tuned using only unsupervised reinforcement learning (RL)
Can I run DeepSeek R1 models locally?
Yes, if you have enough RAM.

Here's how to do it:

Download LM Studio for your operating system from here.
Click the 🔎 icon on the sidebar and search for "DeepSeek"
Pick an option that will fit on your system. For example, if you have 16GB of RAM, you can run the 7B or 8B parameter distilled models. If you have ~192GB+ of RAM, you can run the full 671B parameter model.
Load the model in the chat, and start asking questions!</pre>
</div>
<div tags="" title="Local user with no password windows 11">
<pre>Disable PIN:


```
settings&gt;&gt;account&gt;&gt; Input Options&gt;&gt;Require Windows Hello Sign In for Microsoft Accounts&gt;&gt;Disabled
```


```
settings&gt;&gt;account&gt;&gt; Input Options&gt;&gt;Windows Hello PIN&gt;&gt;Remove
```


Enable local user:

```
settings&gt;&gt;account&gt;&gt; your info &gt;&gt; login with local account
```

Source: https://answers.microsoft.com/en-us/windows/forum/all/how-do-i-turn-off-pin-login-on-windows-11/6514bfdb-d893-4e8a-babb-375b62bc7e61
</pre>
</div>
<div bag="default" created="20210417194706725" creator="sharicov" modified="20210417195506074" modifier="sharicov" revision="4" tags="manual" title="Log2RAM" type="text/vnd.tiddlywiki">
<pre>!! Log2RAM to save SD card from unnecessary writes

https://github.com/azlux/log2ram 

Installation log2ram: 


```
sudo su 
echo "deb http://packages.azlux.fr/debian/ buster main" | sudo tee /etc/apt/sources.list.d/azlux.listwget -qO - https://azlux.fr/repo.gpg.key | sudo apt-key add -apt update
apt install log2ram 

```

Check actual size of current logs: 


```
sudo du -sh /var/log 
```


Sample output: 


```
190M    /var/log 
```


Change log2ram size accordingly (bigger than log size): 


```
sudo nano /etc/log2ram.conf 
```


Change 40M to sufficient size: 


```
SIZE=500M 
```


Start log2ram service: 


```
sudo service log2ram start 
```


Check no errors and service running: 


```
sudo service log2ram status 
```


Reboot (optional) 


```
sudo reboot 
```

</pre>
</div>
<div bag="default" created="20210417194706725" creator="sharicov" modified="20210502110130853" modifier="sharicov" revision="4" tags="manual" title="Log2RAM v3" type="text/vnd.tiddlywiki">
<pre>!! Log2RAM to save SD card from unnecessary writes

https://github.com/azlux/log2ram 

Installation log2ram: 


```
sudo su 
echo "deb http://packages.azlux.fr/debian/ buster main" | sudo tee /etc/apt/sources.list.d/azlux.list

wget -qO - https://azlux.fr/repo.gpg.key | sudo apt-key add -

apt update


apt install log2ram 

```

Check actual size of current logs: 


```
sudo du -sh /var/log 
```


Sample output: 


```
190M    /var/log 
```


Change log2ram size accordingly (bigger than log size): 


```
sudo nano /etc/log2ram.conf 
```


Change 40M to sufficient size: 


```
SIZE=500M 
```


Start log2ram service: 


```
sudo service log2ram start 
```


Check no errors and service running: 


```
sudo service log2ram status 
```

Add to boot:


```
nano /etc/rc.local
```


Add (before `exit 0`):


```
service log2ram restart
```



Reboot (optional) 


```
sudo reboot 
```

</pre>
</div>
<div tags="" title="Login history linux">
<pre>```
/var/log/wtmp – Logs of last login sessions
/var/run/utmp – Logs of the current login sessions
/var/log/btmp – Logs of the bad login attempts
```

source:  https://linuxhandbook.com/linux-login-history/
</pre>
</div>
<div created="20210421174338601" modified="20210421182516785" tags="" title="LXC GUI manual">
<pre>After installing lxc:


```
lxd init (choose 30GB, BTRFS)

lxc launch images:debian/buster ynh

lxc config device add ynh myport80 proxy listen=tcp:0.0.0.0:80 connect=tcp:127.0.0.1:80

lxc config device add ynh myport443 proxy listen=tcp:0.0.0.0:443 connect=tcp:127.0.0.1:443

lxc config set ynh boot.autostart true

lxc list --columns ns4

lxc exec ynh bash
```

Container related commands

```
lxc start/stop/rm ContainerName
```


Directory passthrough into container:

```
lxc config device add ynh vartest disk source=/media/usb1/Movies path=/media
```

Show running container:


```
lxc list --columns ns4

```

Port forward (example port `80`):


```
lxc config device add ynh myport80 proxy listen=tcp:0.0.0.0:80 connect=tcp:127.0.0.1:80
```

Get container info (mem, disk, snapshot):


```
lxc info ynh
```

Create snapshot:


```
lxc snapshot ynh snap01
```

Restore snapshot:


```
lxc restore {container} {snapshot-name}
```

Delete snapshot:


```
lxc delete {container}/snapshot-name}
```


To force user confirmation pass the -i option:



```
lxc delete {container}/snapshot-name} -i
```



!! WEB GUI installation

```
apt install -y git build-essential libssl-dev python3-venv python3-pip python3-dev zfsutils-linux bridge-utils
```




```
git clone https://github.com/AdaptiveScale/lxdui.git
```


```
cd  lxdui
```



```
pip3 install . --user
```

Start LXDUI
At this point LXDUI should be installed and ready to start.

To start the app run: 



```
python3 run.py start
```


or use the new CLI (not working):  


```
lxdui start
```


When the app starts open a browser to the following link to access the app: http://127.0.0.1:15151

Log In. The default account and password are: `admin `| `admin`</pre>
</div>
<div tags="" title="lxc install on openwrt friendlyelec v13">
<pre>Source: https://openwrt.org/lxc_openwrt_host

!!Install packages

opkg update


```
opkg install lxc-start lxc-stop lxc-create lxc-attach lxc-destroy lxc-config lxc-ls getopt lxc-checkconfig gnupg2-utils gnupg2-dirmngr lxc-execute
```


!!Create debian bullseye image


```
lxc-create --name ynh --template download -- --dist debian --release bullseye --arch arm64
```

!!Show container status


```
lxc-ls -f
```

!!Start/Stop container


```
lxc-start -n ynh
```

Access container's bash terminal (container must be stopped)


```
lxc-execute ynh bash
```

If already opened 

```
lxc-attach ynh bash
```

!!Network config


```
vim /srv/lxc/ynh/config
```


Add


```
lxc.net.0.type = veth
lxc.net.0.link = br-lan
lxc.net.0.flags = up
lxc.net.0.hwaddr = 00:FF:DD:BB:CC:01
```

!!Check network in container


```
lxc-execute ynh bash

dhclient
ip a
```

!!!OLD Note: connecting to wan port eth0 is killing internet for friendlyelec/openwrt host. To explore veth and br-lan instead of phys and eth0

!!Install casaos (yunohost not working because openwrt is not systemd based linux)


```
apt update

apt upgrade

apt install curl docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

/etc/init.d/docker start

curl -fsSL https://get.casaos.io | sudo bash


##Not working yunohost installation## curl https://install.yunohost.org | bash

```

!!Putty may be needed if menus are not drawn correctly 
https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe

!!Troubleshoot


```
lxc-checkconfig | grep missing

cat /proc/net/arp

brctl show

ifconfig -a

```

!! Mount disk/folder

Optionally mount a share from the OpenWrt host inside the guest Make sure to create the path to the share in the container, then edit the container config adding the following line:


```
lxc.mount.entry = /mnt/SHARE /srv/lxc/myLMS/rootfs/mnt/SHARE none bind,create=d
```

!!Auto start the container on OpenWrt host

```
opkg install lxc-auto lxc-autostart
uci show lxc-auto
uci add lxc-auto container
uci set lxc-auto.@container[-1].name=myLMS
uci set lxc-auto.@container[-1].timeout=30
uci show lxc-auto
uci commit lxc-auto
```
</pre>
</div>
<div tags="" title="MacOS in Hyper-V">
<pre>https://github.com/Qonfused/OSX-Hyper-V</pre>
</div>
<div tags="" title="MacOS OSX NTFS write support Monterey v2">
<pre>!''Note: Breaks data!!!''


Show all disks:


```
diskutil list
```

Mount as write (example of ''disk2s1''):

```
sudo mkdir /Users/sharicov/USB1
```

Get ownership to be able to write after sharing

```
sudo chown sharicov /Users/sharicov/USB1
```


```
sudo mount -t ntfs -o rw,auto,nobrowse /dev/disk2s1 /Users/sharicov/USB1
```

Settings/sharing/add the USB1 folder/options SMB
</pre>
</div>
<div tags="" title="Mail Outlook gmail backup pst ost v2">
<pre>!!Ost file location
The offline Outlook Data File (.ost) is also saved at drive:\Users\user\AppData\Local\Microsoft\Outlook.

!!Viewers
XST Reader (free, working): https://github.com/Dijji/XstReader/releases
OST Viewer (outlook) https://outlook.recoverytoolbox.com/ost-viewer.html
SysTools OST Converter Tool https://www.systoolsgroup.com/ost-converter/
SysTools MBOX Viewer Tool (gmail takeaway) https://www.systoolsgroup.com/mbox-viewer.html</pre>
</div>
<div tags="" title="Make_WinPE - Boot and Make PE WIM File from x64 Windows ISO v1">
<pre>Make_WinPE - Boot and Make PE WIM File from x64 Windows ISO

Download:  Make_WinPE_Trusted-40  -  pw = bootwimb https://github.com/wimbrts/Make_WinPE/releases

Manual:  for Windows 10/11 x64 OS

1. Download:  Win10_2004_English_x64.iso (best) https://tb.rg-adguard.net/public.php  Or https://www.heidoc.net/joomla/technology-science/microsoft/67-microsoft-windows-and-office-iso-download-tool Win11_English_x64.iso (best Win11)  Or  Win11_English_x64v1.iso https://www.microsoft.com/en-us/software-download/windows11

2. Double-click on Win10_2004_English_x64.iso Or  Win11_English_x64.iso to Mount as DVD Drive

3. Double-click Make_WinPE_Trusted.cmd to Launch Make_WinPE_x64.exe as Trusted Installer

4. In Make_WinPE_x64 Select DVD Drive e.g. sources folder with boot.wim and install.wim files

5. Option to make BCD EFI and Boot Manager Menu entries to Boot with the created PE_19041_US.wim  Or  PE_22000_US.wim file
    Select Boot Drive and WinPE drive e.g. the Drive where PE WIM file is Copied to WinPE Folder (Default)

6. Select Make PE button and Create in 1 minute PE WIM file in folder Build_PE
   For Boot Option PE WIM file is Copied from Build_PE to WinPE folder on WinPE Drive

7. Copy PE_Tools.zip and Drive.y to Root of any Drive e.g. USB Drive with Portable Tools
   Use 7-zip R-mouse Menu to Extract here to get PE_Tools folder with Portable PE Tools e.g. WinNTSetup and BOOTICE

8. Reboot and Select WinPE-WIM in Windows EFI or Boot Manager Menu for Booting from RAMDISK

9. On Desktop click on Run_PE_Tools to get Menu with Portable PE Tools e.g. WinNTSetup and BOOTICE

10. On Desktop click on Run_System_Info for System_Info folder with Portable Tools and Option to Launch PStart Menu with Tools

More Info:  Make_WinPE - Make PE WIM File from x64 Windows ISO
 http://reboot.pro/index.php?showtopic=22608

- LARGE is Explorer Shell Version - Better Shell, but larger Size 
- MEDIUM Version is Default - best performance for smaller size - Microsoft Management Console (MMC) + WiFi Internet + 32-bits Portable Apps
- SMALL Version has Ultimate Size Reduction - Equal to MEDIUM Version, but missing 32-bits Portable App support

All Versions have Picture + Sound + LAN Internet support and support Portable Apps - Run Apps via Desktop Icons or Launchbar

Add_Drivers folder - Add your Drivers folders e.g. for your WiFi Network card

Option to make Entry in Boot Manager Menu e.g.  Multi-Boot with your Internal Windows OS Or Multi-Boot USB - UEFI Secure + MBR BIOS Boot support

Select Boot Drive and WinPE Drive e.g. the Drive where WIM file is located in WinPE folder.

Credits and Thanks to:
 
- ChrisR - for making Win10XPE - LARGE Version corresponds quite well to 10XPE without Apps
  https://github.com/ChrisRfr/Win10XPE

- ericgl for giving Info on How to Extract files from install.wim by using wimlib-imagex
  http://reboot.pro/index.php?showtopic=21677&amp;p=220611

- JFX for making WinNTSetup Program for Install of Windows from ISO File
  WinNTSetup v5.2.3 - Install Windows from USB - MSFN
  
- alacran for testing and helpful support and for sharing Desktop Links and SendTo Links and Launchbar for support of Portable Apps
  http://reboot.pro/index.php?showtopic=22608&amp;p=220827  and http://reboot.pro/index.php?showtopic=22608&amp;p=220862</pre>
</div>
<div tags="" title="Make_WinPE original readme">
<pre>Source: https://github.com/wimbrts/Make_WinPE/


Make_WinPE - Make PE WIM File from x64 Windows ISO

Manual for Windows 10/11 x64 OS - March 27, 2022

1. Download:  Win10_2004_English_x64.iso (best)  Or  Win11_English_x64.iso (best Win11)  from https://tb.rg-adguard.net/public.php
Or Download:  Win11_English_x64v1.iso  from https://www.microsoft.com/en-us/software-download/windows11

2. Double-click on Win10_2004_English_x64.iso Or  Win11_English_x64.iso to Mount as DVD Drive

Option: Use 7-zip context menu Extract here to Unpack Plugins: Portables_Links.7z

3. Double-click Make_WinPE_Trusted.cmd to Launch Make_WinPE_x64.exe as Trusted Installer

4. In Make_WinPE_x64 Select DVD Drive e.g. sources folder with boot.wim and install.wim files

5. Option to make BCD EFI and Boot Manager Menu entries to Boot with the created PE_19041_US.wim  Or  PE_22000_US.wim file

   Select Boot Drive and WinPE drive e.g. the Drive where PE WIM file is Copied to WinPE Folder (Default)

6. Select Make PE button to Create PE WIM file in folder Build_PE

   For Boot Option PE WIM file is Copied from Build_PE to WinPE folder on WinPE Drive

7. Copy PE_Tools.zip and Drive.y and Portables.zip to Root of any Drive e.g. USB Drive with Portable Tools

   Use 7-zip R-mouse Menu to Extract here to get Portables folder and PE_Tools folder with Portable PE Tools e.g. WinNTSetup and BOOTICE

8. Reboot and Select WinPE-WIM in Windows EFI or Boot Manager Menu

9. On Desktop click on Run_PE_Tools to get Menu with Portable PE Tools e.g. WinNTSetup and BOOTICE

10. On Desktop click on Run_System_Info for System_Info folder with Portable Tools and Option to Launch PStart Menu with Tools

Credits and Thanks to:

- spectralwhite for his design and detailed build description for Making SMALL WinPE WIM file using File_List\Add_Install_Files_SMALL.txt
  http://reboot.pro/index.php?showtopic=21677&amp;p=220146

- ericgl for giving Info on How to Extract files from install.wim by using wimlib-imagex using his File_List\Add_Install_Files_MEDIUM.txt
  http://reboot.pro/index.php?showtopic=21677&amp;p=220611

- JFX for making WinNTSetup Program for Install of Windows from ISO File
  https://msfn.org/board/topic/149612-winntsetup-v52/

- ChrisR - for making Win10XPE
  https://github.com/ChrisRfr/Win10XPE

- alacran for testing and support and for making Plugins Useful_Links.7z and DBCTaskmanX64.7z
  http://reboot.pro/index.php?showtopic=22608&amp;p=220824
</pre>
</div>
<div tags="" title="Manage windows from web WindowsAdminCenter">
<pre>Download and install 
 WindowsAdminCenter2306.msi from https://www.microsoft.com/en-us/evalcenter/download-windows-admin-center

Ports: 443 or 6516

!! Connection example

https://IP:6516</pre>
</div>
<div created="20210615154209661" modified="20210615161921953" tags="manual" title="Manjaro lxd lxc v10">
<pre>!! Only snap lxd version is working on Manjaro

Install lxd

```
sudo pacman -S snapd
sudo systemctl enable --now snapd.socket
sudo ln -s /var/lib/snapd/snap /snap
sudo snap install lxd
```

To get newest version of lxd


```
snap refresh lxd --edge
```



Create new pool:
lxd init

Create new container(ynh debian based):
lxc launch images:debian/buster ynh

Proceed with YUNOHOST installation


!! Fix no network in container


```
sudo lxc network list  

sudo lxc network rm lxdbr0    

sudo lxd sql global 'select * from networks_config'       
```
Example output 10.80.168.1 lxc server and .15 client:


```
+----+------------+---------+--------------+----------------+
| id | network_id | node_id |     key      |     value      |
+----+------------+---------+--------------+----------------+
| 5  | 2          | &lt;nil&gt;   | ipv4.address | 10.80.168.1/24 |
| 6  | 2          | &lt;nil&gt;   | ipv6.address | none           |
| 7  | 2          | &lt;nil&gt;   | ipv4.nat     | true           |
+----+------------+---------+--------------+----------------+
```


Login to container


```
sudo lxc exec ynh bash
```

set static ip:


```
ifconfig eth0 10.80.168.15 netmask 255.255.255.0 up
route add default gw 10.80.168.1
echo "nameserver 1.1.1.1" &gt; /etc/resolv.conf

```

Check network from inside the container:


```
ping 10.80.168.1
ping 1.1.1.1
```

From host:


```
lxc list
```


Example output:


```
+------+---------+----------------------+------+-----------+-----------+
| NAME |  STATE  |         IPV4         | IPV6 |   TYPE    | SNAPSHOTS |
+------+---------+----------------------+------+-----------+-----------+
| ynh  | RUNNING | 10.203.192.15 (eth0) |      | CONTAINER | 0         |
+------+---------+----------------------+------+-----------+-----------+

```

!! Fixing name resolution in container
Edit network configuration

```
vi /etc/network/interfaces
```
Edit to be as following (example of 10.203.192.15)

```
auto lo
iface lo inet loopback

auto eth0
#iface eth0 inet dhcp
iface eth0 inet static
address 10.203.192.15
netmask 255.255.255.0
gateway 10.203.192.1
dns-nameservers 8.8.8.8 1.1.1.1

source /etc/network/interfaces.d/*
```

Restart network

```
service networking restart
```

Fix SSH root login to Manjaro host
Edit ssh configuration

```
sudo nano /etc/ssh/sshd_config
```

Add:

```
PermitRootLogin yes
PasswordAuthentication yes
```

Restart sshd

```
sudo systemctl restart sshd
```



!! Check firewall and rules

```
lxc info | grep 'firewall:'
```


```
sudo nft list ruleset
```

Disable/enable/status firewall


```
sudo ufw disable/enable/status
```

!!Experimental

Show containers with IPs

```
lxc list
```
Show firewall rules

```
sudo ss -pluna '( sport = :domain )'
```

!!LXC commands

```
lxc config show
lxc cluster show mycluster
lxc network show lxdbr0
lxc storage show default
lxc profile show default
```

Source: https://discuss.linuxcontainers.org/t/containers-not-getting-ipv4/6668/35

!! Additional commands
 restart lxd daemon:

systemctl restart lxd 

List containers:
lxc list --columns ns4

Delete containers:
lxc rm ynh

Storage pool list:
lxc storage list

Delete storage pool:
printf 'config: {}\ndevices: {}' | lxc profile edit default
lxc storage delete local

Create new pool:
lxd init

Create new container(ynh):
lxc launch images:debian/buster ynh
</pre>
</div>
<div tags="manual" title="Manjaro network hints">
<pre>!!Show IPs

```
ip -br a
```

!!Show open ports:

```
sudo lsof -i -P -n | grep LISTEN
```
!!Install telnet 
 
```
sudo pacman -S inetutils
```
!!Check open port:

```
telnet 127.0.0.1 80
```

!!Install tailscale


```
sudo pacman -S tailscale
sudo systemctl enable --now tailscaled
sudo tailscale up
```


Admin site:
https://login.tailscale.com/admin/machines


!! Uninstall package (lxd)


```
pacman -Rns lxd
```

!! Clear cached packages


```
pacman -Scc
```
</pre>
</div>
<div tags="" title="Memory diagnostic in windows memtest">
<pre>shortcut:%25systemroot%25\system32\mdsched.exe

Source: http://hs.windows.microsoft.com/hhweb/content/m-en-us/p-6.2/id-4edd5f80-def2-4d32-965c-116d49fb9872/</pre>
</div>
<div tags="" title="mergefs volume aggregation mount disk together v2">
<pre>All folders on both (or more) disks will be shown mixed. If same folder name is used, last disk will get all the changes (in this example 2TB)
 
!!Example

mount SSD in /media/usb and HDD in /media/2TB as one drive and share it with samba


```
mergerfs -o cache.files=partial,dropcacheonclose=true,category.create=mfs /media/usb:/media/2TB /media/x96
```

Edit samba configuration

```
nano /etc/samba/smb.conf
```

Set it as follows 

```
[x96]

Comment = Hybrid drive x96

Path = /media/x96

Browseable = yes

Writeable = Yes

only guest = no

create mask = 0777

directory mask = 0777

Public = no
```

Restart SAMBA service

```
systemctl restart samba
```

Aggregated free size will be shown correctly on the windows client

Source:

https://github.com/trapexit/mergerfs


!!For permanent mount add to ''/etc/fstab''


```
/media/5TBa:/media/5TBb:/media/4TB:/media/usb /media/x96 mergerfs cache.files=partial,dropcacheonclose=true,category.create=mfs 0 0
```
</pre>
</div>
<div tags="" title="metric prioritizing network interface in windows v3">
<pre>Adapter settings\ Internet protocol version 4\ advanced\ uncheck automatic metric\set 5 or 10 or 20 etc

5 is highest priority

Use 


```
nslookup google.com 
```


to check DNS is working properly

Recommended to disable IPv6 on all network interfaces to speed up name resolution (internet browsing)

Disable secure DNS in web browsers

Clean DNS cache


```
ipconfig /flushdns
```
</pre>
</div>
<div tags="" title="midjourney ai generate pictures discord v4">
<pre>run in private mode in browser:
https://discord.gg/fvWDUjgFnh

to generate accept Terms of services of the bot (during first request)

/imagine FreeTextDescribingThePicture

Prompt helper site for additional parameters: https://prompt.noonshot.com/

Try ''artist ''Andy Warhol

Top pictures generated: https://midjourney.com/showcase/top/

Guide how to create unlimited server with midjourney bot:
https://www.ixbt.com/live/sw/gayd-kak-polzovatsya-midjourney-besplatno-bez-ogranicheniy-i-v-privatnom-chate.html</pre>
</div>
<div tags="" title="Migrate container docker export">
<pre>Export the container to a tarball


```
docker export &lt;CONTAINER ID&gt; &gt; /home/export.tar
```

Move your tarball to new machine

Import it back


```
cat /home/export.tar | docker import - some-name:latest
```

Source: https://stackoverflow.com/questions/28734086/how-to-move-docker-containers-between-different-hosts</pre>
</div>
<div tags="" title="mikrotik proxmox v2">
<pre>install using useful proxmox scripts


```
bash -c "$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/vm/mikrotik-routeros.sh)"
```


useful commands


```
interface print

interface enable ether1

ip address print
```


CLI commands:

https://help.mikrotik.com/docs/display/ROS/Command+Line+Interface

https://wiki.mikrotik.com/wiki/Manual:IP/Address</pre>
</div>
<div tags="" title="Mikrotik RouterOS on Unraid">
<pre>Mikrotik RouterOS on Unraid
How to get Mikrotik RouterOS on Unraid

Follow the steps from your Unraid terminal. Have the webgui handy as well.

download the image
1
wget https://download.mikrotik.com/routeros/6.48.1/chr-6.48.1.vmdk
convert it to qcow2 image to be stored in your domain cache:
1
2
mkdir /mnt/cache/domains/routeros
qemu-img convert -f vmdk -O qcow2 chr-6.48.1.vmdk /mnt/cache/domains/routeros/chr-6.48.1.qcow2
create the VM
Go to VMS, click Add, choose Linux
Switch to Form View if you are in XML view.
Set Name to RouterOS
Set BIOS as SeaBIOS (Very important!!!)
Set Disk to Manual with Format qcow2 and Path to the qcow2 file and bus SATA
Set Network to the Bridge you want to use and/or pass in any PCI devices

Uncheck “Start VM after creation” and click Create. If you forgot to uncheck it just Stop the VM

edit the VM (click the logo of your VM for edit dropdown button to appear)

switch to XML view and locate the network card. looks something like this:

1
2
3
4
5
6
&lt;interface type='bridge'&gt;
  &lt;mac address='52:54:00:1c:b9:4a'/&gt;
  &lt;source bridge='br1'/&gt;
  &lt;model type='virtio'/&gt;
  &lt;address type='pci' domain='0x0000' bus='0x01' slot='0x00' function='0x0'/&gt;
&lt;/interface&gt;
Change the model type from virtio to vmxnet3

This is required in order for routeros to see the interface and be able to interact with it

Click Update after you’re done editing.

Start the VM and connect with the built-in VNC viewer.

Login as admin (no password) and configure your new router.

you can check what IP address it was given with the following mikrotik command:

1
ip address print
You can also connect using winbox available here https://mikrotik.com/download and discover it on the Neighbors tab

bonus step: add the winbox icon so you can set it in the VM manager!

````
curl -o /usr/local/emhttp/plugins/dynamix.vm.manager/templates/images/winbox.png dfh.name/images/winbox-mikrotik-icon.png

1
2
3
4
5

You may also find it's a good time to apply some basic firewall rules... depending on what you're planning on doing. 

The example below makes sense for my purposes and may be helpful to examine:

/ip firewall filter
add action=accept chain=input comment=”Accept new input on tcp/8291 from computer running winbox” connection-state=new dst-port=8291 protocol=tcp src-address=10.27.0.198
add action=accept chain=input comment=”Accept new input from gateway” connection-state=new src-address=10.14.52.1
add action=accept chain=input comment=”Accept established or related input” connection-state=established,related
add action=drop chain=input comment=”Drop all input on ether1” in-interface=ether1 log=yes

Source: https://www.keyvanfatehi.com/2021/03/01/mikrotik-routeros-on-unraid/</pre>
</div>
<div created="20210510072801549" modified="20210510075028207" tags="manual" title="Mini WinPE (64bit) no network 260MB">
<pre>Link:
https://mega.nz/file/0oAwUb6A#nsStLXHD1oo0fYjzhQv2G1RCuJ44ggoI_a7bfaJRkZ8

AutoStart: 

`WinPE\sources\boot.wim\Windows\System32\snaphot64.exe`

Portable apps working:

Autoruns64
CPU-Z 64
Crystal Diskinfo 64
DiskMark64
HxD64
MiniTool64
rclone
Uninstaller View64
WinntSetup64
Everything
Produkey
</pre>
</div>
<div tags="" title="miniflux rss reader linux like freshrss native v7">
<pre>!!Automatic:

```
curl -s https://apt.miniflux.app/KEY.gpg | sudo apt-key add -
echo "deb https://apt.miniflux.app/ /" | sudo tee /etc/apt/sources.list.d/miniflux.list &gt; /dev/null
apt update
apt install miniflux
```

!!Postgres SQL

Install:

```
apt install postgresql postgresql-contrib
```

create user postgres and set password

```
sudo passwd postgres
```

Switch to postgers user 


```
su postgres psql

create database miniflux;

create user miniflux with encrypted password 'miniflux';
grant all privileges on database miniflux to miniflux;
alter user miniflux with superuser;
\q
```

Configuration:


```
su root
nano /etc/miniflux.conf
```

Add:

```
LISTEN_ADDR=your.ip.goes.here:port
DATABASE_URL=user=miniflux password=miniflux dbname=miniflux sslmode=disable
```

Run the SQL migrations:

```
miniflux -c /etc/miniflux.conf -migrate
```

Last but not least, create an admin user:


```
miniflux -c /etc/miniflux.conf -create-admin
```

Run miniflux:


```
/usr/bin/miniflux -c /etc/miniflux.conf
```

Or add to rc.local for automatic boot:


```
nano /etc/rc.local
```


Add:


```
/usr/bin/miniflux -c /etc/miniflux.conf &amp;
```

To access from any IP:


```
nano /etc/miniflux.conf
```


Replace LISTEN_ADDR to become:


```
LISTEN_ADDR=0.0.0.0:80
```


Full manual:https://www.skysilk.com/blog/2020/rss-reader-miniflux-ubuntu/


!!Alternative interface:

https://github.com/reminiflux/reminiflux

!!Bonus: 

Postgres service status:

```
service postgresql restart
service postgresql status
```





Service start:

```
sudo systemctl start PostgreSQL
```
Enter postgres console:


```
psql
```


```
# Create a database user for Miniflux
$ createuser -P miniflux
Enter password for new role: ******
Enter it again: ******

# Create a database for miniflux that belongs to our user
$ createdb -O miniflux miniflux

# Create the extension hstore as superuser
$ psql miniflux -c 'create extension hstore'
CREATE EXTENSION
```


Postgres manual: https://linuxhint.com/install-postgresql-debian/




!!Manual install:


```
wget https://github.com/miniflux/v2/releases/download/2.0.36/miniflux_2.0.36_arm64.deb

dpkg -i miniflux_2.0.36_arm64.deb

```




/usr/bin/miniflux

Source: https://miniflux.app/docs/installation.html

!!Troubleshooting

If miniflux not loading giving postgres related errors, completely remove all postgres from the PC'' including databases'' (will ask during purge) and reinstall as follows:

Check if postgres is running and restarting it if not, before completely removing it


```
sudo systemctl status postgresql

sudo systemctl restart postgresql
```
Try running miniflux again

```
miniflux -c /etc/miniflux.cfg
```

```
apt list --installed |grep post
```
```
apt purge postgresql-13 postgresql-client-13 postgresql-15 postgresql-client-15 postgresql postgresql-contrib

apt autoremove
```

Reinstall postgres from scratch

```
apt install postgresql postgresql-contrib
```
Proceed with postgres configuration as before
</pre>
</div>
<div tags="" title="Minimal windows 10 as NAS in Proxmox v3">
<pre>!!Mini windows 10 wim

Medicat download (full) https://medicatusb.com/#downloads

wim located in Medicat compressed file/Live_Operating_Systems/Mini_Windows/''Mini_windows_10.wim''

!!virtio drivers iso 
https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/latest-virtio/virtio-win.iso

!!PowerISO 
to add virtio drivers 
https://www.poweriso.com/tutorials/add-driver-to-wim-file.htm

Run PowerISO.

Choose "Tools &gt; DISM Tool..." Menu.

Click "Add driver" page.

Check the radio "Patch driver to image file", and enter the source WIM file path name.

Specify a folder which contains the driver files or specify the driver inf file path name.

Check the other options if necessary.

Click "Add driver" button to start adding drivers to WIM file.

!!Ventoy
to boot from wim with wimboot plugin
 
https://www.ventoy.net/en/download.html

https://www.ventoy.net/en/plugin_wimboot.html

Any bootable PE iso to initially format VM disk and install ventoy ('' ventoy live iso'' supports qemu disks without need of drivers)

Just add ventoy folder in VM disk and put wimboot plugin there, otherwise wim file won't be shown in boot menu

!!Troubleshooting
If there are graphical artifacts, switch Hardware/Display to ''SPICE''

If mouse pointer is not calibrated ''uncheck ''''Options/Use tablet for pointer'', then check it again</pre>
</div>
<div tags="" title="mirror one monitor and extend other">
<pre>Yes you can do it. You just select the monitor in the display settings in windows (right click the desktop &gt; display settings) click the new monitor (3 in your case) and select "Duplicate desktop on 1 and 3" in the "Multiple displays" box, and it should ask you to confirm, and that's it!


Source: https://answers.microsoft.com/en-us/windows/forum/all/mirror-one-display-and-extend-another/9d6180a5-94a2-47c5-8adc-4254b0335b3a</pre>
</div>
<div tags="" title="Monitor switch force on windows 11">
<pre> Win+Shift+ArrowLeft

source: https://answers.microsoft.com/en-us/windows/forum/all/force-programs-to-open-in-a-particular-monitor-of/1a50bb6f-3ea4-4ad8-934e-dbf3ca481938</pre>
</div>
<div tags="" title="Monitorian v3">
<pre>Change monitor brightness in tray or command prompt


```
monitorian /set +30
```


Download:  https://github.com/emoacht/Monitorian

To open the ''hidden menu'', right click app title at the top of menu window 3 times. 

There can add brightness to desktop context menu. 

Write Brightness in the ''Add to context menu'' field and ''doble-click'' on the field to select. 

Then on desktop right-click to get the context menu and ''Brightness '' field will appear there.

!!!Note: Works on MS store version, not checked with github version</pre>
</div>
<div created="20210419071254047" modified="20210422073344138" tags="manual" title="Mount ext4 in windows wsl">
<pre>Install WSL

[[Install WSL2 in Windows 10]]

From ''PowerShell ''as ''Admin'' run:

```
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
```


```
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
```

Download and run:
https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi

Run from ''PowerShell ''as ''Amin'':

```
wsl --set-default-version 2
```

List available distros:


```
wsl --list --verbose
```

Install distro (version 2 for WSL2):

wsl --set-version &lt;distribution name&gt; &lt;versionNumber&gt;


List available disks:

```
wmic diskdrive list brief
```

Mount ''Drive'':


```
wsl --mount [DiskPath]
wsl --mount \\.\PHYSICALDRIVE0
```
Mount ''Partition'':

```
wsl --mount [DiskPath] --partition [PartitionNumber]
wsl --mount \\.\PHYSICALDRIVE0 --partition 1
```

Unmount:


```
wsl --unmount [Diskpath]
wsl --unmount \\.\PHYSICALDRIVE0
```

To mount non EXT4 partition specify type:

```
wsl --mount [Diskpath] -p [PartitionNumber] -t [filesystem_type]
wsl --mount \\.\PHYSICALDRIVE0 -p 1 -t vfat
```


WSL2 notes:

The --install command performs the following actions:

* Enables the optional WSL and Virtual Machine Platform components
* Downloads and installs the latest Linux kernel
* Sets WSL 2 as the default
* Downloads and installs a Linux distribution (reboot may be required)

By default, the installed Linux distribution will be ''Ubuntu''. This can be changed using` wsl --install -d &lt;Distribution Name&gt;`. (Replacing `&lt;Distribution Name&gt;` with the name of your desired distribution.) Additional Linux distributions may be added to your machine after the initial install using the` wsl --install -d &lt;Distribution Name&gt;` command.

To see a list of available Linux distributions, enter wsl --list --online.

!! Optional:

!!! Debian non-free repositories:


```
sudo nano /etc/apt/sources.list
```

Replace to get:


```
#deb http://deb.debian.org/debian buster main
#deb http://deb.debian.org/debian buster-updates main
deb http://security.debian.org/debian-security/ buster/updates main
deb http://ftp.debian.org/debian buster-backports main
deb http://deb.debian.org/debian buster main contrib non-free
deb http://deb.debian.org/debian-security/ buster/updates main contrib non-free
deb http://deb.debian.org/debian buster-updates main contrib non-free
deb http://deb.debian.org/debian buster-backports main contrib non-free
```

Xserver Linux GUI in Windows 10 (starting from insider build 21364 


```
wsl --update
```


```
wsl --shutdown
```
</pre>
</div>
<div tags="" title="mount samba (SMB) in linux working v7">
<pre>!!Using cifs mount


```
sudo apt install cifs-utils -y

mkdir /LOCAL_DIRECTORY

sudo mount -t cifs //SERVER_IP/SHARE_NAME /LOCAL_DIRECTORY -o username=Administrator,password=XXXX,uid=$(id -u),gid=$(id -g),forceuid,forcegid 

```

Source: https://phoenixnap.com/kb/linux-mount-cifs

!!Permanent in fstab

sudo nano /etc/fstab

Add


```
//192.168.0.5/storage /media/directory/ cifs username=USER,password=CHANGEME,iocharset=utf8,file_mode=0777,dir_mode=0777,x-systemd.automount,x-systemd.idle-timeout=60,uid=UserNameOnLocalPC
```

Make sure /media/directory is owned with local user (not root only)


```
ls -alph /media
```

if it shows root root in output, change the ownership to local user (ex. UserNameOnLocalPC)

unmount the share before changing ownership (ex. directory)


```
sudo umount /media/directory
```

Change ownership of directory to local user (ex. UserNameOnLocalPC)


```
sudo chown -R UserNameOnLocalPC:UserNameOnLocalPC/media/directory
```

Check ownership of mounting folder is correct (should show UserNameOnLocalPC UserNameOnLocalPC instead of root root)

```
ls -alph /media
```

mount cifs share from /etc/fstab


```
sudo mount -a

sudo systemctl daemon-reload

```

Check mounted directory content has local use ownership


```
ls -alp /media/directory
```



Source: https://askubuntu.com/questions/1465026/ubuntu-22-04-mounting-nas-smb-shares

!!Alternative (partially working, cannot map more than one drive)
Prequisites:


```
sudo apt install gvfs-fuse gvfs-backends libglib2.0-bin
```

Mount:


```
gio mount smb://&lt;servername&gt;/&lt;sharename&gt;
```

Mount location:


```
ls /run/user/1000/gvfs/smb-share:server=192.168.3.96,share=usb -alph
```

Symbolyc link to /media:

```
ln -s /run/user/&lt;userid&gt;/gvfs/smb-share\:server\=&lt;servername&gt;\,share\=&lt;sharename&gt;/ ~/&lt;mountpoint&gt;
```

Sources:

https://serverfault.com/questions/1043216/gio-mount-says-volume-doesnt-implement-mount-when-run-as-non-root

https://psychcns.freshdesk.com/support/solutions/articles/43000532428-mount-smb-file-share-from-linux-using-gio</pre>
</div>
<div tags="" title="mount unmount to proxmox lxc container">
<pre>!!Mount 

Perquisites: mount usb on proxmox host (ex. mount /dev/sdd2 /media/usb)

Run on proxmox host
Example mount /''media/usb directory'' on ''host ''to ''/Downloads/usb'' directory on ''104 ''lxc container labeled ''mp0''

```
pct set 104 -mp0 /media/usb,mp=/Downloads/usb
```

!!Unmount

Run in ''lxc container'' to see mounted drives


```
mount
```

Output example


```
/dev/sdd2 /Downloads/usb
```

For this example of sdd2 disk mounted to lxc container


```
umount /dev/sdd2
```


Run on ''host''
Example of unmounting ''mp0 ''labeled mount on lxc container ''104''

```
pct set 104 -delete mp0
```

Now unmount usb on proxmox host as well 

```
mount
```

Output example


```
/dev/sdd2 /media/usb
```

For this example of sdd2 disk mounted to proxmox host


```
umount /dev/sdd2
```</pre>
</div>
<div tags="" title="move window to specific monitor v2">
<pre>Source: https://www.howtogeek.com/310/bring-misplaced-off-screen-windows-back-to-your-desktop-keyboard-trick/#:~:text=Key%20Takeaways,window%20back%20onto%20the%20desktop.

!!Option 1
Press Alt+Tab to select the lost window, then hold the Windows key and tap the left or the right arrow key to snap the window back onto the screen. On Windows 10, you can right-click the taskbar and click “Cascade Windows” to move every window back onto the desktop.

''Note'': The Up Arrow Key puts the application in to full screen and the Down Arrow Key minimizes the window.

!!Option 2
''Win+Shift+Left/Right
''
!!Option 3
''Shift+Right-Click the taskbar'' button (because just right-clicking will open the app's jumplist instead) and choose the "''Move''" command from the context menu.
Then use arrow keys

!!Option 3
Use winlister from nirsoft

https://www.nirsoft.net/utils/winlister.html</pre>
</div>
<div tags="" title="move with sync between the files only nonexistent verbose files for loop for SMR disks freezing v3">
<pre>```
for file in $dir/mnt/disk4/n5105/Emulators1/psp/*; do time sync; mv -vn "$file" /mnt/disk3/n5105/Emulators1/psp ; echo $file; time sync;done
```
</pre>
</div>
<div tags="" title="mpv video player with 4k enhancement v2">
<pre>!!Download MPV 
here: https://sourceforge.net/projects/mpv-player-windows/files/latest/download


!!Upscale plugin for mpv (anime 4k)
here: https://github.com/bloc97/Anime4K/blob/master/md/GLSL_Instructions_Windows_MPV.md

!!Extract plugin to


```
%APPDATA%/mpv
```

Download FSR and CAS shaders

https://gist.githubusercontent.com/agyild/82219c545228d70c5604f865ce0b0ce5/raw/2623d743b9c23f500ba086f05b385dcb1557e15d/FSR.glsl

https://gist.githubusercontent.com/agyild/bbb4e58298b2f86aa24da3032a0d2ee6/raw/10e4ca1b6ef173b64391ce2c81b9a95fcd095931/CAS-scaled.glsl

Save as .glsl files in:

```
%APPDATA%/mpv
```

Add shortcuts to FSR and CAS to ''%APPDATA%/mpv/input.conf''


```

CTRL+7 no-osd change-list glsl-shaders set "~~/shaders/CAS-scaled.glsl"; show-text "CAS-scaled.glsl"


CTRL+8 no-osd change-list glsl-shaders set "~~/shaders/FSR.glsl"; show-text "FSR.glsl"
```

!!Switch effects with CTRL+1-8 

!!Disable with CTRL+0

!!More anime upscale filters:

https://artoriuz.github.io/blog/mpv_upscaling.html

!!List of additional MPV shaders:
https://github.com/stax76/awesome-mpv?tab=readme-ov-file#shaders

More info: https://www.reddit.com/r/Amd/comments/192ajhi/amd_announces_radeon_fsr_upscaling_for_video/</pre>
</div>
<div tags="" title="msconfig change boot order BCD manipulation">
<pre>```
Win+R msconfig
```
Boot tab: for boot order, timeout, delete items 

Services: enable/disable services

Tools: start useful tools: UAC, Troubleshooting, internet options. remote assistance
</pre>
</div>
<div tags="" title="Multiboot wim create USB (ventoy alternative) v1">
<pre>a1ive boot manager: https://github.com/a1ive/grub2-filemanager

USB format 63 (creates mbr and efi partitions with boot manager: https://github.com/wimbrts/USB_FORMAT

Use  USB_FORMAT-63-addon-agFM-E.zip for a1ive integration (and replace efi.img on usb after installation)

Create wim with minimal WinPE (600MB): https://github.com/wimbrts/Make_WinPE/releases 

Forum: https://msfn.org/board/topic/183451-make_winpe-boot-and-make-pe-wim-file-from-x64-windows-iso/</pre>
</div>
<div tags="" title="MyAsus without MS store manual install">
<pre>In powershell run:


```
Add-AppxPackage .\Microsoft.NET.Native.Framework.2.2_2.2.29512.0_x64__8wekyb3d8bbwe.Appx
Add-AppxPackage .\Microsoft.NET.Native.Runtime.2.2_2.2.28604.0_x64__8wekyb3d8bbwe.Appx
Add-AppxPackage .\B9ECED6F.ASUSPCAssistant_3.0.32.0_neutral___qmba6cd70vzyy.AppxBundle
```


Updates:

Search MyAsus here: https://www.microsoft.com/en-us/p/myasus/9n7r5s6b0zzh?activetab=pivot:overviewtab

Download package using generated link in address bar here: https://store.rg-adguard.net/

Source: https://www.reddit.com/r/Windows10/comments/k00zy1/how_to_download_windows_apps_without_microsoft/</pre>
</div>
<div tags="" title="n5105 gpu passthrough video v4">
<pre>Proxmox n5105/n6005 iGPU pass-through to Ubuntu &amp; Fix for Ubuntu VM hangs

Source: https://www.reddit.com/r/Proxmox/comments/10eu322/proxmox_n5105n6005_igpu_passthrough_to_ubuntu_fix/

!!GPU Pass-through Fix
Install proxmox from usb, using ZFS and EFIboot

!!Install dark mode (not required but wtf not?) ;)


```
wget https://raw.githubusercontent.com/Weilbyte/PVEDiscordDark/master/PVEDiscordDark.sh
bash PVEDiscordDark.sh install
```

!!Modify for GPU pass-through


```
nano /etc/kernel/cmdline
	root=ZFS=rpool/ROOT/pve-1 boot=zfs quiet intel_iommu=on iommu=pt
pve-efiboot-tool refresh
```

!!If using grub

modify ''/etc/default/grub[1]''


```
GRUB_CMDLINE_LINUX_DEFAULT="quiet intel_iommu=on iommu=pt"

sudo update-grub

reboot
```


!!Update modules


```
nano /etc/modules
```


```
	vfio
	vfio_iommu_type1
	vfio_pci
	vfio_virqfd
```

!!RebootProxmox

Look for 'Enabled IRQ remapping in x2aip mode'


```
dmesg | grep 'remapping'
Run the following and look for 'DMAR:IOMMU enabled'
```



```
dmesg | grep -i iommu
```

Update kernel


```
apt update
apt install pve-kernel-6.1
pveversion -v
```

Reboot Proxmox

Create ''q35/efiboot'' vm for ubuntu and install

To the vm hardware - add PCI graphics device (''all functions, rom-bar, and PCI-express'')

Reboot VM

!!Hanging Linux VM Fix
Check current kernel to see if lower than v6


```
uname -r
```

Upgrade if required


```
sudo /root/ubuntu-mainline-kernel.sh -i v6.0.9
```

Reboot


!!Additional info

Just got iGPU passthrough working on my N5105 MiniPC.

Following your guide worked great, up until upgrading the VM's kernel.

I had to disable secure boot in the VM's q35 UEFI BIOS.

After upgrading the kernel to 6.0.9, I added the PCIe graphics device, and after rebooting the VM hung, giving me this error:

i915 drm error conflict detected with stolen region

With some searching I was able to find the solution: In the VM's hardware config set "''Display''" to "''none''"

Once all that got cleared up I rebooted the VM and installed intel-media-va-driver along with vainfo. Have yet to test with Jellyfin hardware transcoding, but vainfo gave a promising output.

EDIT: to get transcoding working in Jellyfin, I had to set ''i915.enable_guc=2''. I made a couple scripts to do all the work for me incase I ever need to reinstall the docker host OS.

!!kernel update script


```
# Update kernel to v6.0.9
wget https://raw.githubusercontent.com/pimlie/ubuntu-mainline-kernel.sh/master/ubuntu-mainline-kernel.sh
chmod +x ubuntu-mainline-kernel.sh
./ubuntu-mainline-kernel.sh -i v6.0.9
shutdown -r now
```

i915.enable_guc=2 script


```
# set i915.enable_guc=2
#   add to /etc/default/grub cmd line and run update-grub
#     if i915.enable_guc= exists, but its not =2, change it to =2
(grep -q -e 'i915.enable_guc=' /etc/default/grub &amp;&amp; grep -q -e 'i915.enable_guc=2' /etc/default/grub) || sed -e 's;\(i915.enable_guc=\)[0-9];\12;g' -i /etc/default/grub
#     if i915.enable_guc= does not exists, insert it
grep -q -e 'i915.enable_guc=' /etc/default/grub || sed -e 's;\(GRUB_CMDLINE_LINUX_DEFAULT=".*\)";\1 i915.enable_guc=2";g' -i /etc/default/grub
#     if there is an unnessecary space before i915.enable_guc=2, remove it
grep -q -e 'GRUB_CMDLINE_LINUX_DEFAULT=\" i915\.enable_guc=2\"' /etc/default/grub &amp;&amp; sed -e 's;\(GRUB_CMDLINE_LINUX_DEFAULT="\) \(i915\);\1\2;g' -i /etc/default/grub
#   add to /etc/modprobe.d/i915.conf
echo "options i915 enable_guc=2" &gt; /etc/modprobe.d/i915.conf
#   update grub and initramfs
update-grub
update-initramfs -u -k all
```

I also had to add the user my docker containers run under to the groups that own /dev/dri/card0 and /dev/dri/renderD128. Script below will do this


```
# Add /dev/dri groups to container user
container_user=mediacenter
usermod -aG `stat -c '%G' /dev/dri/card0` $container_user
usermod -aG `stat -c '%G' /dev/dri/renderD128` $container_user
```

After all this, I selected VAAPI as the HW acceleration in Jellyfin and transcoding works great. Sometimes it uses the CPU for decoding, not sure why, but most of the time it will use the iGPU.

!!In UNRAID

https://forums.unraid.net/topic/144179-intel-n5105jasperlake-hw-transcode-with-binhex-jellyfin/

!!Another UNRAID solution for  Plex transcoding 

I managed to get hardware transcoding working! First edit syslinux.cfg on the Unraid USB drive: nano /boot/syslinux/syslinux.cfg Add the follow where I have shown below “append i915.enable_fbc=1 i915.enable_guc=2” and save your changes. label Unraid OS menu default kernel /bzimage append i9…

https://discourse.linuxserver.io/t/help-with-hardware-transcoding-in-plex-on-unraid-using-intel-celeron-n5095/8289</pre>
</div>
<div tags="" title="n5105 passthrough v1">
<pre>```
cp /etc/default/grub{,.backup}
nano /etc/default/grub
```

 Make GRUB_CMDLINE_LINUX_DEFAULT to be:


```
GRUB_CMDLINE_LINUX_DEFAULT="quiet intel_iommu=on"
```



```
update-grub

reboot
```


```
nano /etc/modules
```


Add


```
vfio vfio_iommu_type1 vfio_pci vfio_virqfd
```



```
echo "options vfio_iommu_type1 allow_unsafe_interrupts=1" &gt; /etc/modprobe.d/iommu_unsafe_interrupts.conf
```
Check IOMMU working (ex. host called proxmox otherwise change the command accordingly)


```
pvesh get /nodes/proxmox/hardware/pci --pci-class-blacklist ""
```


```
dmesg | grep -e DMAR -e IOMMU |grep -i enabled
```

Output


```
DMAR-IR: Enabled IRQ remapping in x2apic mode
```

Now PCI can be passthrough to VM (network)

Source: https://pve.proxmox.com/wiki/PCI_Passthrough#Verifying_IOMMU_parameters</pre>
</div>
<div tags="" title="nala package manager v2">
<pre>source: https://trendoceans.com/nala-package-manager/?utm_source=pocket_mylist

!!Installation


```
apt install nala
```


!!!Alternative (legacy)

```
echo "deb [arch=amd64,arm64,armhf] http://deb.volian.org/volian/ scar main" | sudo tee /etc/apt/sources.list.d/volian-archive-scar-unstable.list
```


```
wget -qO - https://deb.volian.org/volian/scar.key | sudo tee /etc/apt/trusted.gpg.d/volian-archive-scar-unstable.gpg &gt; /dev/null
```


```
apt install nala-legacy
```

(nala doesn't work on arm64/debian11 bullseye, only nala-legacy. getting Error: cannot import name 'Group' from 'rich.console'): https://gitlab.com/volian/nala/-/issues/72

!!Usage

Update/upgrade

```
sudo nala update &amp;&amp; sudo nala upgrade
```

install package (ex. mc)


```
nala install mc
```

Uninstall package (ex. mc)


```
sudo nala remove 
```

Fetch all mirrors and select the fastest


```
 sudo nala fetch
```

Show installation history and undoing installation step:



```
 nala history

 nala history info 4

 sudo nala history undo 4
```
</pre>
</div>
<div tags="" title="nanopi r4s opensense opnsense pfsense v2">
<pre>Slow network speed (500mbps max)

Download: https://personalbsd.org/?page_id=2

user: root / opnsense

Adguard on pfsense:
https://broadbandforum.co/threads/installing-adguard-home-on-pfsense.205884/</pre>
</div>
<div tags="" title="Nanopi R4S original OpenWRT">
<pre>manual: https://wiki.friendlyelec.com/wiki/index.php/NanoPi_R4S

downloads: https://drive.google.com/drive/folders/10kbDj3j0PkVtHopq_SwadLpnV36rbjdy

flash with win32diskimager: https://sourceforge.net/projects/win32diskimager/</pre>
</div>
<div tags="" title="NAS server useful programs (n5105) v5">
<pre>7zip https://www.7-zip.org/download.html

Jdownloader https://jdownloader.org/download/index

QBittorrent https://www.qbittorrent.org/download

USB Tree Viewer https://www.uwe-sieber.de/usbtreeview_e.html

Anvir task manager https://www.anvir.com/download.htm

ExactFile (CRC) https://www.exactfile.com/downloads/

Twinkletray MS Store

Tailscale https://tailscale.com/download

Winntsetup https://mega.nz/folder/ObATya7C#oR2t79bT-4MGjKxOAYwkbQ

FAB (firewall apps blocker) https://www.sordum.org/8125/firewall-app-blocker-fab-v1-9/

Snap2HTML https://www.rlvision.com/snap2html/about.php

WAU Manager (update stop) https://www.carifred.com/wau_manager/

gdu (go DiskUsage analyzer) https://github.com/dundee/gdu

</pre>
</div>
<div tags="" title="ncdu gdu export to browsable file snap2html/LinuxDir2HTML alternative v4">
<pre>Export a directory and browse it once scanning is done:


```
ncdu -o-  /mnt/user/n5105/ | tee /mnt/cache/Downloads/n5105_5.1.25 | ncdu -f-
```


Browse the contents of the file, without rescanning:


```
ncdu -f /mnt/cache/Downloads/n5105_5.1.25 
```


Source: https://github.com/homeisfar/LinuxDir2HTML</pre>
</div>
<div tags="" title="ncdu gdu show consumed disk usage utilization">
<pre>!!''ncdu ''(linux)


```
sudo apt install ncdu
ncdu /  --exclude-kernfs --exclude-caches --exclude /media
```



!!''du'' (linux)


```
du -Sh / | sort -rh | head -5
```



!!''gdu ''(windows)

https://github.com/dundee/gdu</pre>
</div>
<div tags="" title="netdata -live monitoring with web view v6">
<pre>default port ''19999''

config location:

```
cat /etc/netdata/netdata.conf
```

allow all IPs access:

```
bind socket to IP = *
```

logs (/var/log/netdata/)

```
cat  /var/log/netdata/error.log
```

Status:

```
/etc/init.d/netdata status
```


run in foreground on custom port


```
netdata -D -p 6666
```

!!Troubleshooting

If netdata database got corrupted (netdata doesn't start, sqlite related errors in error.log)


```
apt purge netdata -y; rm -rf  /var/cache/netdata/*; apt install netdata -y; /etc/init.d/netdata status; /usr/sbin/netdata -D

```

Add netdata to /etc/rc.local for automatic boot (before'' exit 0'')

Start with


```
netdata
```
 
source: https://learn.netdata.cloud/docs/agent/collectors/charts.d.plugin/sensors

!!Enable temperature sensors

find coonfiguration files:

```
find / -name charts.d.conf
```

copy it to /etc/netdata

```
find / -name sensors.conf

```

copy it to /etc/netdata/charts.d/



Enable the collector
The sensors collector is disabled by default. To enable it, edit the charts.d.conf file using edit-config from the Netdata config directory, which is typically at /etc/netdata.

```
cd /etc/netdata   # Replace this path with your Netdata config directory, if different
sudo ./edit-config charts.d.conf
```

It also needs to be set to "force" to be enabled:

```
# example=force
sensors=force
```

Configuration
Edit the charts.d/sensors.conf configuration file using edit-config from the Netdata config directory, which is typically at /etc/netdata.

```
cd /etc/netdata   # Replace this path with your Netdata config directory, if different
sudo ./edit-config charts.d/sensors.conf
```
This is the internal default for charts.d/sensors.conf

```
# the directory the kernel keeps sensor data
sensors_sys_dir="${NETDATA_HOST_PREFIX}/sys/devices"

# how deep in the tree to check for sensor data
sensors_sys_depth=10

# if set to 1, the script will overwrite internal
# script functions with code generated ones
# leave to 1, is faster
sensors_source_update=1

# how frequently to collect sensor data
# the default is to collect it at every iteration of charts.d
sensors_update_every=

# array of sensors which are excluded
# the default is to include all
sensors_excluded=()
```

!!Restart netdata service

```
systemctl restart netdata
```

You will find the info under ''sensors ''category.</pre>
</div>
<div tags="" title="Netdata monitoring on OpenWRT v2">
<pre>```
opkg update
opkg install netdata
```


http://192.168.1.1:19999/


Editing configuration file:


```
nano /etc/netdata/netdata.conf
```


To access from outside replace ''127.0.0.1'' with ''*''

Check status:


```
/etc/init.d/netdata status
```


Start service


```
/etc/init.d/netdata restart
```

!!OR


```
systemctl start netdata
```

!!Troubleshooting:

```
netdata   -W unittest

rm -f /var/cache/netdata/dbengine/*

rm /var/cache/netdata/netdata-meta.db

systemctl start netdata
```
</pre>
</div>
<div tags="" title="Netlink bandwidth monitor openwrt show traffic by IP">
<pre>!!Show usage per IP

```
opkg update

opkg install luci-app-nlbwmon
```
Show

''LUCI/GUI/Services/Bandwidth Monitor
''
Source:

https://forum.openwrt.org/t/show-usage-per-ip/150730</pre>
</div>
<div tags="" title="New android apps to install v7">
<pre>swiftkey keyboard

tailscale

Microsoft Intune Company Portal (for corporate outlook on Android)

outlook

office (troubleshooting - sign out private user before adding corporate otherwise can crash on start)

lense

onedrive

teams

pingid

astro file browser

cibus

accuabattery

bluetooth keyboard amd mouse

google translate

leumit

sap concur

spotify

telegram 

tuya

waze

whatsapp

xodo

yandex disk

cloud.mail.ru

zepp life

huawei health https://4pda.to/forum/index.php?showtopic=830758&amp;st=23220

pango

siddur

kehati

halachtic prayer times

tehilim

mx player

galaxy wearable

revanced

diskusage

startup manager

zoom</pre>
</div>
<div tags="" title="New TiddlerUsing Termux on Android for Self Hosting? Yes, really.">
<pre>Source: https://thin.computer/index.php/2024/03/21/using-termux-on-android-for-self-hosting-yes-really/

I THOUGHT I HAD A NICE HOME LAB WITH MY THIN COMPUTER, BUT NOW I HAVE A HOME LAB IN MY POCKET.
I setup my old Samsung Galaxy S21 Ultra as a web server. This has to be the coolest thing I have in my home lab arsenal. The machine is surprisingly performant, small, produces very little heat and is incredibly quiet.


It literally sits on top of thin.computer in a cupboard in my desk. Both arm machines have little to no ventilation and, yet, no heat is emitting from here.

HOW TO SET IT UP

First, I setup my phone without a Google account nor a Samsung account. Some Google software still gets installed, but it’s not logged in.


I also made sure to disable any extra services. This is a server, we don’t need any of this.


Start with F-Droid. You can download the APK from their website. To install it, you will need to enable installations by other applications from outside of the Google Play store by enabling it in settings.



You will also need an IPv6rs account for an external IPv6 address and WireGuard.

Make sure you set this up and connect before we go to the next steps. Just go to the IPv6rs panel, create a new IP, and scan the QR code with the WireGuard app on Android.


You will need to enable F-droid to install applications in the same part of the Android settings as when you enabled Chrome to install F-droid earlier.


Once that’s done, go into F-Droid and give it a few minutes to update its repositories. Once complete, you will see the F-droid store. Browse around and enjoy, but once ready, go to categories and at the top, remove everything from the input box and search for Termux.


Once Termux is downloaded, you will have a Linux server. Termux drops you at a bash prompt.


Once in termux, start by typing:

pkg update
pkg upgrade
pkg install apache2
pkg install openssh
If your repos aren’t responding, you can change your repos with termux-change-repo.

DNS
Now, go ahead and set your DNS AAAA to your IPv6rs IPv6 address. If you want to be accessible via IPv4, you should also set your A record to the gateway IPv4 address where your IPv6 IP is routing.


In my case, android.thin.computer points to the IPv6 IP I connected on the Wireguard earlier and the A record points to the LA gateway which is where it’s located.

PORT FORWARDING

Next, you’ll need to setup port forwarding. In the IPv6rs panel, you can click on port forward and point port 80 to 8080 and port 443 to 8443.

SETUP LETSENCRYPT WITH TERMUX ON ANDROID
Now, I needed an SSL certificate. Here’s how I ran Let’s Encrypt in Termux, on Android, to get the SSL.

pkg install python rust binutils
uname -m
rustc --print target-list | grep android
After the rustc command, you will get a list of architectures. When you find the one that includes the output in the uname command, use in in the following command:

export CARGO_BUILD_TARGET=TARGET_HERE
For example, in my case it was:

export CARGO_BUILD_TARGET=aarch64-linux-android
Now, go ahead and setup the Let’s Encrypt software:

python -m venv $PREFIX/opt/certbot
$PREFIX/opt/certbot/bin/pip install --upgrade pip
$PREFIX/opt/certbot/bin/pip install certbot
ln -s $PREFIX/opt/certbot/bin/certbot $PREFIX/bin/certbot
Now, run certbot to get your certificates:

certbot certonly --work-dir $PREFIX/var/lib/letsencrypt --logs-dir $PREFIX/var/log/letsencrypt --config-dir $PREFIX/etc/letsencrypt -d DNS,DNS1,DNS2,...
For me, I ran this command here:

certbot certonly --work-dir $PREFIX/var/lib/letsencrypt --logs-dir $PREFIX/var/log/letsencrypt --config-dir $PREFIX/etc/letsencrypt -d android.thin.computer
When certbot runs, it will give you a choice of 1) trying to setup a web server, and 2) share your current web server’s htdocs location. Since we installed apache earlier and the port forward from 80-&gt;8080, we can choose 2 (1 will fail due to lack of root):

/data/data/com.termux/files/usr/share/apache2/default-site/htdocs
Now that you have your SSL certificates, you can continue to use Apache Web server, which is great, or you can uninstall it and run your own (nginx, custom, etc.). In my case, I stopped apache with apachectl -k stop.

Also, make sure to enable your ssh server:

sshd
WAKE ON LOCK
Now that your machine is setup, you can ssh into it from the outside, have SSL certificates, etc., you’ll need to make sure your machine doesn’t become inaccessible due to the phone’s settings.

For me, on the Samsung Galaxy S21, I went to the battery and power settings and was able to select normal CPU mode instead of throttled. However, to keep the app from closing when the phone is idle, you’ll need wake on lock.

At the prompt in your termux, type the following to keep your phone server from lagging out:

termux-wake-lock
If for some reason you wish to turn this off in the future, simply s/lock/unlock (switch lock with unlock).

In my case, I also installed termux-api and downloaded the apk from F-droid for the Termux API as well. Finally, I installed nodejs and setup android.thin.computer.

I hope you enjoyed this post as much as I enjoyed setting up a server on Android. 😉

Edit: After getting hugged to death by /r/selfhosted on reddit, I had to figure out how to stop Termux from crashing due to a boatload of traffic (50K+ views in 4 hours). Here’s how:

Connect USB
Activate Developer options by going to Settings -&gt; About -&gt; Find the Build # and tap it 7 times
Go into Developer options and activate ADB over USB
Type the following:
adb shell "/system/bin/device_config set_sync_disabled_for_tests persistent"
adb shell "/system/bin/device_config put activity_manager max_phantom_processes 2147483647"
adb shell settings put global settings_enable_monitor_phantom_procs false
Now sleep well knowing that your Web Server on your Android Phone can handle being a top post on reddit!</pre>
</div>
<div tags="" title="Nextcloud arm64 in docker nextcloudpi">
<pre>docker run -d -p 4443:4443 -p 443:443 -p 80:80 -v ncdata:/data --name nextcloudpi ownyourbits/nextcloudpi $DOMAIN

Source: https://github.com/nextcloud/nextcloudpi</pre>
</div>
<div tags="" title="Nextcloud too many requests troubleshooting">
<pre>Working:
Nextcloud/Settings/Administration/Security
Brute-force IP whitelist
Add:
192.168.3.0 /24

Not working:
in docker enter console of nextcloud container as www-data user
run:
./occ security:bruteforce:reset IPADDRESS

Open nextcloud database, then:
USE Nextcloud;
Next, to show all tables, use:

SHOW TABLES;
To show all values from the oc_bruteforce_attempts table, use:

SELECT * FROM oc_bruteforce_attempts;
To remove delete an IP from the table, use:

DELETE FROM oc_bruteforce_attempts WHERE IP="xxx.xxx.xxx.xxx";</pre>
</div>
<div tags="" title="nextcloud untrusted domain fix">
<pre>!!Fixing access through untrusted domain error

Enter docker console

add external IP in 

```
/var/www/html/config/config.php
```

Example:


```
 'trusted_domains' =&gt; 
  array (
    0 =&gt; '192.168.3.96:10081',
  ),
```
</pre>
</div>
<div tags="" title="nginx proxy fix google alerting as dangerous site">
<pre>!!DuckDNS site

Enter 
https://duckdns.org

Login with your google account

Copy ''token ''on main duckdns.org page


(ex. sharicov.duckdns,org)
Go to google site ownership verification site

https://search.google.com/search-console/welcome

In domain field (on the right) enter your personal domain (ex. sharicov.duckdns,org)

Press Continue

Google will generate ''txt ''string

!!Preparation to verification of ownership
Open new tab or window in the browser

In address bar of the browser type (ex. sharicov.duckdns,org)

https://www.duckdns.org/update?domains=sharicov.duckdns.org&amp;token=YourDuckDNSToken&amp;txt=GoogleGeneratedTxt

Output should be ''OK ''(in the browser)

!!Site verification

Go back to google verification page

https://search.google.com/search-console/welcome

Click on Verify

You will get prompt saying your ownership of domain is verified with google

Enjoy</pre>
</div>
<div tags="" title="Nginx Proxy Manager https SSL certificate install on local network duck dns reverse proxy nginx proxy server v16">
<pre>Site: https://notthebe.ee/blog/easy-ssl-in-homelab-dns01/

Video: https://www.youtube.com/watch?v=qlcVx-k-02E

!!!Note: 
Don't use "." in the names of proxy host, use "_" instead.////

Example nextcloud_backup.sharicov.duckdns.org NOT nextcloud.backup.sharicov.duckdns.org


!!Reverse proxy ''nginx proxy manager''

https://nginxproxymanager.com/guide/#hosting-your-home-network

https://nginxproxymanager.com/guide/#quick-setup

''Ports: ''80,81.443

Check availability of the ports using ''netstat''


```
netstat -ltnp | grep 80
```

create folder, enter in, create 

''Note'': if reinstalling remove ''all subfolders'' in nginxproxymanager directory

```
mkdir ngnixproxypanager

cd nginxproxymanager

nano docker-compose.yml
```


Enter, save and exit (example port ''888 ''instead of ''80'')


```
version: '3.8'
services:
  app:
    image: 'jc21/nginx-proxy-manager:latest'
    restart: unless-stopped
    ports:
      - '888:80'
      - '81:81'
      - '443:443'
    volumes:
      - ./data:/data
      - ./letsencrypt:/etc/letsencrypt
```

Create docker:


```
 docker compose pull &amp;&amp; docker compose up -d
```

access ngninxproxy on ''http://localIP:81 ''''port 81''

default user: ''admin@example.com''

default password: ''changeme''

Change password and username on first entrance

!!Create certificates

On duck DNS site create custom domain:

https://www.duckdns.org/domains

Set ''current IP ''as you'' local ip'' (ex. 192.168...) in the duck dns web site

In nginxproxy web GUI/SSL certificates/add SSL certificate/''Letsencrypt''

Add custom domain from duck dns (example sharicov.duckdns.org 

In Domain Names field:


```
sharicov.duckdns.org
PRESS ENTER

*.sharicov.duckdns.org
PRESS ENTER
```

Enable ''Use DNS Challenge''

Select ''duckDNS ''from the list

Insert token from Duck dns instead of your-duckdns-token

Select ''I agree''

Press ''Save button''

If got error, change ''propagation seconds'' in the previous window to ''120''

!!Adding hosts to the domain after SSL certificates were successfully generated

GUI/Hosts/add host

enter your custom domain in the domain filed

Ex. sharicov.duckdns.org

enter ''local IP ''and ''port ''(depending if you want to access the host internally, or externally, can also be 127.0.0.1) - ''working with local only 192.168...''

SSL tab/choose last one with custom domain (ex. sharicov.duckdns.org) / enable ''force SSL ''and ''http/2 support''

http is ok, will translate to https automatically.

Example add host:


```
jellyfin.sharicov.duckdns.org

http

local ip (192.168...)

port 8096

SSL tab/ force ssl/enable http/2 support 
```

save

click on jellyfin.sharicov.duckdns.org

!! Troubleshooting
''Homeassistant'', ''pikvm'', ''kasm'',''proxmox'', ''shellinabox'', ''wazuh'' and ''immich ''requires ''websocket ''enabled

''wazuh'' ''shellinabox'' ''kasm ''and ''pikvm'' ''proxmox'' also require ''https''

Qbittorrent unauthorized error fix:

unchecking the following qBitTorrent webUI setting:

Web UI Tab &gt; Enable Cross-Site Request Forgery (CSRF) protection

!!To add custom location
Example ''/admin'' for ''pihole''

in the advanced tab add


```
location = /{return 301 $scheme://$http_host/admin;}
```


!!Troubleshooting 

If getting ''internal error'' when trying to update SSL certificates, just try later on.

For ''each IP'' ''//different domain//'' should be created on duckdns site</pre>
</div>
<div tags="" title="nload - Real time network traffic monitor for the text console">
<pre>```
apt install nload

nload
```

Use ''arrows ''and ''F2 ''to navigate and for settings

Source: https://github.com/rolandriegel/nload
</pre>
</div>
<div tags="" title="no sign in after sleep">
<pre>No Sign-In After Sleep:

1. From start menu, got to "Settings &gt; Accounts &gt; Sign-in options," and click "Password."

2. Click "Add" and create a password.  Note that once this step is complete, the hidden "Require Sign-in" option is revealed.  You may have to close and re-open "Settings" if it doesn't appear immediately.

3. From same menu, click "Require Sign-in" and click "Never."

4. Go back to "Password" and select "Change."  Do not enter a new password.  Leave all spaces blank and confirm your blank password.  This is equivalent to having no password.  You may notice that the "Require Sign-in" option is hidden again.  But do not fret, Windows remembers your "Never require sign-in" preference!  Now windows should open from sleep and take you straight to where you left off with no interruption.  This worked for me.



No Lock-Screen at Startup:

For this, I turned off the lock-screen by using the group policy editor.  There is sufficient information available on this topic, so I will not write the steps here.  Once these steps are followed, Windows boots straight to the desktop with no lock-screen interruption.

Source: https://answers.microsoft.com/en-us/windows/forum/all/no-sign-in-after-sleep-windows-11-solved/3ee6bb9f-0a51-482b-931f-073f260558b6</pre>
</div>
<div tags="" title="nobara linux gaming proton setup v4">
<pre>run proton plus/download latest proton-ge

run steam/settings/compatibility add proton-ge/restart steam as prompted

add game/non steam

Go to steam\game\ properties\compatibility\force the usage \ GE-proton9 from the list

run

if some redist missing


```
sudo dnf install protontricks  # Nobara/Fedora
```



```
protontricks --gui
```

!!To run exe from file explorer (to install games)

!!!Optional - iso mount

Right-click iso in file explorer/mount

Right-click exe / choose'' Open with Protontrics Launcher ''/ select any existing profiles made in steam previously

open game from list/ select the default wineprefix/explorer/click on root/ home/ user/ vcredist.exe run missing components

Select installation directory

!!Redist installation automation

Install vcrun2019/vcrun2022 for every game

Use this loop to automate installation:
bash
Copy


```
for appid in $(find ~/.steam/steam/steamapps/compatdata -maxdepth 1 -type d -printf '%f\n' | grep -E '^[0-9]+$'); do
  echo "Installing VC++ for AppID $appid"
  protontricks "$appid" vcrun2019 vcrun2022 --force
done
```


    This may take a while (~5-30 mins depending on games).

    Note: Some games may fail (non-Proton/native Linux games).

</pre>
</div>
<div tags="" title="Nobara linux gaming proton steam v4">
<pre>run proton plus/download latest proton-ge

run steam/settings/compatibility add proton-ge/restart steam as prompted

add game/non steam

run

if some redist missing

!!Protontricks - proton customization


```
sudo dnf install protontricks  # Nobara/Fedora
```



```
protontricks --gui
```


open explorer/run missing components

!!Add fps counter to non-steam games

add non-steam game /properties/shorcut-launch options 

add 


```
mangohud %command%
```


!!Portproton - launcher for non-steam games / fps lock on shortcut

https://flathub.org/apps/ru.linux_gaming.PortProton

!!RPCS3 - linux

Not working over NFS, copy games locally

Set gamepad as ''SDL ''to work

https://rpcs3.net/download


!!Bottles (not working)

flatpak install flathub com.usebottles.bottles

flatpak run --verbose com.usebottles.bottles

create new bottle/only set name and engine (protonGE)

after bottle created set exe and directory


!!Troubleshooting

!!Fix cursor error 


```
gsettings set org.gnome.desktop.interface cursor-size 24
```


!!configure wine


```
mkdir -p ~/myapp/prefix

export WINEPREFIX=$HOME/myapp/prefix 

export WINEARCH=win64

export WINEPATH=$HOME/myapp 

wineboot --init

winetricks

```


source: https://forum.manjaro.org/t/wine-could-not-load-kernel32-dll-status-c0000135/69811

!!If dependancy missing

go to bottle/settings/dependencies install missing ex. vcredist2022</pre>
</div>
<div tags="" title="Nobara linux smb on filesystem when connected in dolphin">
<pre>```
/run/user/1000/kio-fuse-nGNVSI/smb/n5105.local/n5105/
```
</pre>
</div>
<div tags="" title="nobara mount nfs to unraid v4">
<pre>!!On unraid side

 unraid gui / share / chose share to be connected

nfs export / yes

security / private

parameter (for write access from 10.0.0.1-254 IPs)


```
10.0.0.0/24(sec=sys,rw,async,insecure,no_subtree_check,crossmnt)
```

!!On nobara client side

ex. client 10.0.0.2-4 unraid 10.0.0.1


```
sudo dnf install nfs-utils

sudo systemctl daemon-reload
sudo mkdir -p /mnt/n5105
```

Show available mounts

```
showmount -e 10.0.0.1
```
Mount

```
sudo mount -t nfs -o vers=4 10.0.0.1:/mnt/user/n5105 /mnt/n5105/
```
To check nfs version used

```
mount | grep nfs
```


!!To mount on start


```
nano /etc/fstab
```
Add

```
10.0.0.1:/mnt/user/n5105  /mnt/n5105  nfs vers=4,hard,intr,noatime,_netdev  0  0

10.0.0.1:/mnt/cache/Downloads  /mnt/Downloads  nfs vers=4,hard,intr,noatime,_netdev  0  0

```

Remount


```
sudo mount -a

sudo systemctl daemon-reload
```
</pre>
</div>
<div tags="" title="Nobara network bond in broadcast mode 3 interfaces v3">
<pre>chat.deepseek.com prompt


```
for fedora bond in broadcast mode 3 interfaces with ip 10.0.0.2 
interfaces: enp14s0f3u3 enp2s0f0u1 enp2s0f0u2
```


!!1. Remove Conflicting Wired Connections
The existing wired connections are preventing the bond from taking control of the interfaces. Delete them:


```
sudo nmcli connection delete "Wired connection 1"
sudo nmcli connection delete "Wired connection 2"
sudo nmcli connection delete "Wired connection 3"
```


!!2. Re-enable the Bond-Slave Connections
The bond-slave-* connections exist but aren't active. Bring them up:


```
sudo nmcli connection up bond-slave-enp14s0f3u3
sudo nmcli connection up bond-slave-enp2s0f0u1
sudo nmcli connection up bond-slave-enp2s0f0u2
```


!!3. Activate the Bond Interface


```
sudo nmcli connection up bond-bond0
```


!!4. Verify Bonding Status


```
cat /proc/net/bonding/bond0
```


Expected Output:


```
Bonding Mode: broadcast
MII Status: up  # &lt;-- THIS MUST SAY "up" (not "down")
Slave Interface: enp14s0f3u3
  MII Status: up
Slave Interface: enp2s0f0u1
  MII Status: up
Slave Interface: enp2s0f0u2
  MII Status: up
```


!!5. Check IP Assignment


```
ip addr show bond0
```


Should show ''10.0.0.2/24''. If not, assign it manually:


```
sudo nmcli connection modify bond-bond0 ipv4.addresses 10.0.0.2/24 ipv4.method manual

sudo nmcli connection up bond-bond0
```


!!6. Restart NetworkManager for bond0 to appear in KDE network settings

first fix permissions then restart the manager

```
sudo chmod 777 /etc/NetworkManager/system-connections/*


sudo systemctl restart NetworkManager
```


!!7. To monitor each interface of bond0 in real time


```
sudo dnf install bwm-ng

watch -n1 "sudo bwm-ng -o plain -c1 -t1000 -T bond0,enp14s0f3u3,enp2s0f0u1,enp2s0f0u2 2&gt;/dev/null"
```


!!8. To make bond0 persistant

First, verify if your bond is configured to persist:


```
nmcli connection show bond-bond0 | grep -i persistent
```


If you see ''connection.autoconnect: yes'', it will survive reboots.

If not, make it persistent


```
sudo nmcli connection modify bond-bond0 connection.autoconnect yes
sudo nmcli connection modify bond-slave-enp14s0f3u3 connection.autoconnect yes
sudo nmcli connection modify bond-slave-enp2s0f0u1 connection.autoconnect yes
sudo nmcli connection modify bond-slave-enp2s0f0u2 connection.autoconnect yes
```


!!9. Verify Persistent Configuration


```
nmcli connection show bond-bond0 | grep autoconnect
```


Output should show: 


```
connection.autoconnect: yes
```


!!10. Test reboot persistent


```
sudo systemctl reboot
```


After reboot, check:


```
ip link show bond0  # Should exist
cat /proc/net/bonding/bond0  # Should show active slaves
```


!!11.Final Check

Run this to confirm all pieces are in place:


```
ls /etc/NetworkManager/system-connections/ | grep -E "bond-bond0|bond-slave"
nmcli connection show | grep -E "bond-bond0|bond-slave"
```

!Making onboard 1Gbps interface to connect to internet and bond0 to be used only for internal trafic

!!Step 1: Configure bond0 for Unraid Communication
Open System Settings in KDE and navigate to Network &gt; Connections.

Select the bond0 connection and click Edit.

Under the IPv4 settings:

Set the method to Manual.

Assign the static IP address: 10.0.0.2/24.

Set the gateway to 10.0.0.1.

Under the Routes section:

Add a route specifically for the Unraid network (10.0.0.0/24).

Check the box for "Use this connection only for resources on its network."

Save and enable the connection.

!!Step 2: Set Up the Onboard Interface for Internet Access
Locate the onboard interface (enp9s0) in the Network Connections list and click Edit.

Under the IPv4 settings:

Select Automatic (DHCP) or set a static IP (e.g., 192.168.1.190/24) with the appropriate gateway (e.g., 192.168.1.1) and DNS servers.

Ensure that this connection is set as the default route for internet traffic.

Save and enable the connection.</pre>
</div>
<div tags="" title="noip free alternative static hostname">
<pre>https://telebit.cloud/


```
curl https://get.telebit.io/ | bash
```

To forward local port 80 to outside (port 80):


```
 ~/telebit http 80
```
</pre>
</div>
<div tags="" title="Normalize sound windows">
<pre>In the Run command search box, type ''mmsys.cpl ''and press OK to open the Sound dialogue box.

In the Speakers/Headphones Properties window, select the ''Enhancements tab.
''
heck the box next to'' Loudness Equalization''.</pre>
</div>
<div tags="" title="npm nvm package manager v5">
<pre>!!Fix error:  npm v10.2.5 is known not to run on Node.js v14.0.0

!!Check current version 


```
 nvm --version
```



!!Install/Update
Check latest version in github releases (https://github.com/nvm-sh/nvm/releases)


```
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

```


!!Fix error:  npm v10.2.5 is known not to run on Node.js v14.0.0

```
nvm uninstall 14

nvm install 20
```

Update npm,:



```
 npm install -g npm
```

!!To re-install nvm


```
sudo npm uninstall -g nvm

curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
```

!!Restart terminal as prompted


```
nvm --version

 nvm ls-remote
```
</pre>
</div>
<div tags="" title="NSSM Run any exe as service in Windows">
<pre>Download NSSM service installer: https://nssm.cc/download

Extract to some permanent folder (ex. d:\portable\nssm)

extract nssm.exe to the same folder

!!Example
Install scanner.exe as service

Run as administrator in the working folder on client computer

nssm  install ScannerService d:\portable\scanner.exe</pre>
</div>
<div tags="" title="Offline files windows local SSD cache for NAS">
<pre>!!To enable Offline Files

Press windows start/Offline files/enable

Right click network disk / Always available Offline

More settings here: Control Panel\All Control Panel Items\Sync Center\

Up to'' 25% ''of local ''C'' drive (can be configured in Disk Usage tab of Offline Files menu) 
More info: https://learn.microsoft.com/en-us/previous-versions/technet-magazine/cc137753(v=msdn.10)?redirectedfrom=MSDN

To change cache folder location:


&lt;&lt;&lt;
Create a new folder for your offline file cache, such as D:\Offline.

From an elevated command prompt type the following: Takeown /r /f C:\Windows\CSC

Open the Sync Center and go to Manage Offline Files.

Click Disable Offline Files and restart the machine.

From an elevated command prompt issue the following commands:

```
rd /s C:\Windows\CSC
```


```
mklink /J C:\Windows\CSC "D:\Offline" (make sure to use the quotes if you have space(s) in the name).
```


Reopen the Manage Offline Files window and Enable Offline Files.

Restart the machine.
(https://superuser.com/questions/19847/how-to-move-offline-files-cache-in-windows-7)

If the above doesn't work, you can also take a look at the following article and see if it could help at your side:
https://www.msblog.org/2006/12/29/moving-the-offline-files-cache-in-windows-vista/
&lt;&lt;&lt;






!!!Manual configuration in command prompt: https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc755136(v=ws.11)?redirectedfrom=MSDN


```
net share &lt;sharename&gt; /cache:manual
net share &lt;sharename&gt; /cache:BranchCache
net share &lt;sharename&gt; /cache:documents
net share &lt;sharename&gt; /cache:programs
net share &lt;sharename&gt; /cache:none
```

Sources: 

https://superuser.com/questions/235257/local-cache-for-nas-or-network-folder/304765#304765

https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-xp/bb457104(v=technet.10)?redirectedfrom=MSDN
</pre>
</div>
<div tags="" title="OhMyZsh ZSH alternative to bash shell v3">
<pre>!!Sources:

https://github.com/ohmyzsh/ohmyzsh

https://hackernoon.com/oh-my-zsh-made-for-cli-lovers-bea538d42ec1

!!Community: 
https://ohmyz.sh/community.html

!!Installation:


```
sudo apt update; sudo apt upgrade

sudo apt install git-core zsh

sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

sudo apt install fonts-powerline
```
!!Change theme 

Themes link with preview: https://github.com/ohmyzsh/ohmyzsh/wiki/Themes


```
nano ~/.zshrc
```

Change ZSH_THEME="" to 


```
Change ZSH_THEME="sonicradish"
```

!!Theme settings:


```
cd ~/.oh-my-zsh/themes

 nano sonicradish.zsh-theme
```

!!To start theme


```
source ~/.zshrc
```

Start OhMyZsh as default shell from ''user'' (not root) run


```
chsh -s $(which zsh)
```


!!Plugins:

https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins?ref=hackernoon.com


To use a plugin, you can simply add it to the plugins list in your ~/.zshrc file. Add wisely, as too many plugins slow down shell startup. Leave a blank between each plugin.



```
plugins=(git colored-man-pages)
```

!!Custom plugin installation:

https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md


''Zsh-syntax-highlighting''

//Another great plugin is syntax highlighting for your shell. Besides that, this plugin has the capability to verify the correctness of your command.//



Custom plugins location


```
/etc/oh-my-zsh/custom
```

To check custom location


```
ls  ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}
```


```
sudo git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

```

Activate the plugin in ~/.zshrc:

plugins=( [plugins...] zsh-syntax-highlighting)

Restart zsh


```
source ~/.zshrc
```

''Autocompletion from history custom plugin''

//Auto completes pressing right arrow, or End on keyboard//

https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh

Installation


```
sudo git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
```


Activate the plugin in ~/.zshrc:

plugins=( [plugins...] zsh-autosuggestions

Restart zsh


```
source ~/.zshrc
```
</pre>
</div>
<div tags="" title="OMV OpenMediaVault - Fix samba error on execution of exe v2">
<pre>Add:
''acl allow execute always = yes ''to the SMB / CIFS -&gt; settings - advanced settings -&gt; extra options field.

!! OR Manually after file copy to NAS:


```
chmod -R +x /media/usb
```
</pre>
</div>
<div tags="" title="onboard on screen keyboard Linux">
<pre>sudo apt install onboard</pre>
</div>
<div tags="" title="oneclick macos install in KVM inc. WSL2">
<pre>Source: https://oneclick-macos-simple-kvm.notaperson535.is-a.dev/docs/windows-install

Installing on Windows
Prerequisites:
Windows 10 or Higher
Virtualization capabilities
8GB of RAM or more
Step 1 (Installing WSL2)
Install WSL2. If you have WSL2 already, you can skip this step. Open Powershell as an administrator and run this command

wsl --install

It will prompt a reboot, reboot and let it install Ubuntu. One that is done, make a username and password. It does not have to be the same as the system.

If you do not see the window for Ubuntu

Step 2 (Getting the files)
Open a new Ubuntu terminal window, and run this command, replacing the WINDOWS_USER_NAME with the your Windows username, not the Linux one.

cd /mnt/c/users/WINDOWS_USER_NAME/Documents

Then run

sudo apt install git-all -y

Now clone the repository

git clone https://github.com/notAperson535/OneClick-macOS-Simple-KVM.git

Now cd into the newly created folder

cd OneClick-macOS-Simple-KVM

Step 3 (installing qemu and virtualization capabilities)
Run the included windows installer

./windows-install.sh

Once you get to the menu (looks like this) image Go to Virtualization and make sure your system processor type is selected, mine is Intel image Then keep clicking exit, and save the configuration

Now run these commands to make sure virtualization works

kvm-ok
cat /sys/module/kvm_intel/parameters/nested

If the first command returns KVM acceleration can be used and the second command returns Y, then you are good to go. If the first command returns Y but the second command return something like no, than go to the bottom of the page for troubleshooting.

Now cd into the OneClick-macOS-Simple-KVM directory, replacing the WINDOWS_USER_NAME with the your Windows username, not the Linux one.

cd /mnt/c/users/WINDOWS_USER_NAME/Documents/OneClick-macOS-Simple-KVM

And run ./setup.sh to finish the setup and run the macOS VM!

(Note that the max OS you can run is Big Sur, because of some TSC restrictions. I am working on this issue and when it is resolved I will post a message in the Discord Server.)

This now fixed and you can run Monterey and up on Windows

Once setup.sh finsishes , press ctrl+c and run sudo HEADLESS=1 ./basic.sh. Once this is done, download VNC Viewer, here, then type localhost:5900 into the top to connect to the vm using vnc.

Whenever you want to load up the machine again, run sudo HEADLESS=1 ./basic.sh, NOT ./setup.sh.

You're done!
Don't close the terminal when the QEMU window is open, as it will shut down the VM and may cause data loss.

Now head over to installing macOS for instructions on correctly installing macOS
Troubleshooting
cat /sys/module/kvm_intel/parameters/nested returns N, but KVM-OK Returns KVM acceleration can be used
Edit these commands in .wslconfig, which is located in your Windows user directory, replacing the WINDOWS_USER_NAME with the your Windows username, not the Linux one.

nestedVirtualization=true
kernel=C:\\Users\\WINDOWS_USER_NAME\\bzImage
debugConsole=true
pageReporting=true
kernelCommandLine=intel_iommu=on iommu=pt kvm.ignore_msrs=1 kvm-intel.nested=1 kvm-intel.ept=1 kvm-intel.emulate_invalid_guest_state=0 kvm-intel.enable_shadow_vmcs=1 kvm-intel.enable_apicv=1</pre>
</div>
<div tags="" title="onlyoffice integration plugins">
<pre>https://api.onlyoffice.com/editors/plugins</pre>
</div>
<div tags="" title="OnlyOffice server docker supports arm64 v6">
<pre>Tutorial: https://helpcenter.onlyoffice.com/installation/docs-community-install-docker.aspx


```
sudo docker run -i -t -d -p 80:80 onlyoffice/documentserver

sudo docker exec ddd89b4a38c1 sudo supervisorctl start ds:example
```

Run without security token (might help with integration of filestash):


```
sudo docker run -i -t -d -p 80:80 --restart=always -e JWT_ENABLED=false onlyoffice/documentserver:latest
```


OR

```
sudo docker run -i -t -d -p 80:80 --restart=always onlyoffice/documentserver
```

Works with filestash.
Use home IPs (not Tailscale) ex. 192.168.3.233

!!To fix error: The document security token is not correctly formed

Add in env:

JWT_ENABLED false

Source: https://github.com/mickael-kerjean/filestash/issues/516

!! To fix download error

No solution yet


!!Alternative

When prompted ''Install with docker'', press ''Y''

```
wget https://download.onlyoffice.com/install/workspace-install.sh

sudo bash workspace-install.sh -ims false
```

Sources: https://helpcenter.onlyoffice.com/installation/workspace-install-docker.aspx

https://forum.onlyoffice.com/t/the-document-security-token-is-not-correctly-formed/3568</pre>
</div>
<div tags="" title="OnlyOffice windows server manual v1">
<pre>Source: https://helpcenter.onlyoffice.com/installation/docs-community-install-windows.aspx

!!Download and install:

```
Erlang (otp_win64)
RabbitMQ (rabbitmq-server)
PostgreSQL (postgresql-15.2-2-windows-x64)
```
!!PostgreSQL setup 

Set PostgreSQL password when installing.


```
cd "%ProgramFiles%\PostgreSQL\15\bin"
psql -U postgres
```

Enter password set during installation

Run cmd

Enter following commands

```
CREATE USER onlyoffice WITH PASSWORD 'onlyoffice';

CREATE DATABASE onlyoffice OWNER onlyoffice;

exit
```

!!OnlyOffice setup 
Install OnlyOffice-documentserver

first prompt password: ''onlyoffice''

second prompt password: ''guest''

In web browser

http://127.0.0.1

!!Autorun OnlyOffice server

Run ''cmd ''as administrator


```
net start DsExampleSvc
```

In web browser

http://127.0.0.1/example/

If works make it permanenet in administrative cmd:


```
sc config DsExampleSvc start=auto
```
</pre>
</div>
<div tags="" title="open ports OpenWrt ImmortalWrt">
<pre>Luci GUI/Network/Firewall/Zones/WAN/Incoming traffic - ''ACCEPT''</pre>
</div>
<div tags="" title="OpenMediaVault OMV v4">
<pre>!!Default web credentials


```
admin

openmediavault
```

OMV-extras (docker etc):
https://wiki.omv-extras.org/


```
wget -O - https://github.com/OpenMediaVault-Plugin-Developers/packages/raw/master/install | bash
```

Install lm-sensors to get Temp and Battery info:


```
apt install lm-sensors
```

!!To get sensors info in terminal:


```
sensors
```

Output example:


```
coretemp-isa-0000
Adapter: ISA adapter
Package id 0:  +55.0°C  (high = +100.0°C, crit = +100.0°C)
Core 0:        +55.0°C  (high = +100.0°C, crit = +100.0°C)
Core 1:        +51.0°C  (high = +100.0°C, crit = +100.0°C)

acpitz-acpi-0
Adapter: ACPI interface
temp1:        +53.0°C  (crit = +120.0°C)

BAT0-acpi-0
Adapter: ACPI interface
in0:          12.32 V
```


Netstat:


```
apt install net-tools
```

Netdata (port 19999):


```
apt install netdata

cp /etc/netdata/netdata.conf{,.backup}

nano /etc/netdata/netdata.conf
```

Change 127.0.0.1 to desired external IP of the server (ex. allow access from any IP)


```
 bind socket to IP = *
```


Restart netdata service

```
systemctl restart netdata
```

Check netdata port is opened:


```
netstat -tulpan |grep 19999
```


!! Ignore sleep on lid close:

I edited:

```
nano /etc/systemd/logind.conf
```




and added following:

```
HandleLidSwitch=ignore
```

Then reboot

Source: https://forum.openmediavault.org/index.php?thread/24741-prevent-laptop-suspend-shutdown-when-closing-the-lid/</pre>
</div>
<div tags="" title="OpenWRT (original ext4) resize partition on the fly v5">
<pre>!!Working:


```
fdisk -l
```

output:


```
Device         Boot  Start     End Sectors Size Id Type
/dev/mmcblk0p1 *     65536  167935  102400  50M 83 Linux
/dev/mmcblk0p2      196608 2301951 2105344   1G 83 Linux
```

Run:

```
 cfdisk /dev/mmcblk0
```

Select &gt;&gt;  /dev/mmcblk0''p2 '' / resize / write / type ''yes'' / quite

!!Troubleshoot:

If desired partition is not appearing last press ''S'' for Sort

For check on reboot

```
touch /forcefsck
```

Reboot:


```
reboot
```

Check partition for errors after reboot:


```
tune2fs -O^resize_inode /dev/mmcblk0p2 #Remove reserved GDT blocks
```


In LUCI web GUI: System/Mount point/Add/ UUID: mmcblk0''p2 ''/Mount Point/Overlay/Save and Apply



Image source: https://downloads.openwrt.org/snapshots/targets/rockchip/armv8/openwrt-rockchip-armv8-friendlyarm_nanopi-r4s-ext4-sysupgrade.img.gz


!!Old

```
opkg update
```


```
opkg install tune2fs resize2fs 
```



```
mount -o remount,ro / #Remount root as ReadOnly
```


```
tune2fs -O^resize_inode /dev/mmcblk0p2 #Remove reserved GDT blocks
```


```
fsck.ext4 /dev/mmcblk0p2 #Fix part, answer yes to remove GDT blocks remnants
```


#reboot

```
resize2fs /dev/mmcblk0p2
```


!!!Optionally 

use on same or another computer

```
cfdisk /dev/mmcblk0
```
Reize / write  (type yes when prompted) / quit


```
fsck.ext4 /dev/mmcblk0p2 #Fix part, answer yes to remove GDT blocks remnants
```

```
tune2fs -O^resize_inode /dev/mmcblk0p2 #Remove reserved GDT blocks
```

```
resize2fs /dev/mmcblk0p2
```

!!Sources: 

https://forum.openwrt.org/t/expanding-the-squashfs-file-system/97099/4

https://openwrt.org/docs/guide-user/installation/installation_methods/sd_card


!!Alternatively for windows 
use DiskGenius\RMB partition\Extend partition\OK to repair</pre>
</div>
<div tags="" title="OpenWRT AP wireless access point guide">
<pre>link: https://openwrt.org/docs/guide-user/network/wifi/dumbap</pre>
</div>
<div tags="" title="OpenWRT BTRFS v4">
<pre>Useful info: https://www.unixmen.com/install-btrfs-tools-on-ubuntu-linux-to-manage-btrfs-operations/


check disk's location:

```
lsblk -f
```

Output:


```
NAME        FSTYPE FSVER LABEL    UUID                                 FSAVAIL FSUSE% MOUNTPOINT
sda
└─sda1      btrfs
```

unmount disk:


```
umount /dev/sda1
```

Format disk to BTRFS:


```
mkfs.btrfs -f /dev/sda1
```

in Luci GUI: ''System / Mount points / Mount attached devices''

If not mounting automatically then:

in Luci GUI: ''System / Mount points / Mount points sections / Add (ex. /mnt/sda1)''

For btrfs change type from auto to btrfs and use special mounting parameters 


```
autodefrag,noatime,nodatacow,space_cache 
```


Or manually:


```
mount -t btrfs -o autodefrag,noatime,nodatacow,space_cache /dev/sda1 /media/usb/
```



To share in SAMBA:

in Luci GUI: S''ystem / NAS / Network shares / Shared Directories section / Add / Provide name and path (ex. /mnt/sda1)''

!!Enter luci GUI/NAS/Network resources

Template tab

mask:


```
	#invalid users = root
```

Save and apply changes

In ssh set samba password for user root:


```
smbpasswd -a root
```

To test which shares are enabled, on OpenWRT maching run:


```
smbclient -L 127.0.0.1
```
</pre>
</div>
<div tags="" title="OpenWRT custom DNS">
<pre>Example DNS 1.1.1.1 and 1.0.0.1


If you want OpenWrt to forward to 1.1.1.1, go to Luci &gt; Network &gt; Interfaces &gt; wan &gt; Advanced Settings &gt; Use custom DNS servers.

If you want clients to receive IP 1.1.1.1 as DNS, go to Luci &gt; Network &gt; Interfaces &gt; lan &gt; DHCP Server &gt; Advanced Settings &gt; DHCP-Options &gt; 6,1.1.1.1,1.0.0.1.

https://www.reddit.com/r/openwrt/comments/hr6xig/how_to_set_openwrt_to_use_1111_dns_for_example/</pre>
</div>
<div tags="" title="OpenWRT custom image generator R4S v2">
<pre>https://firmware-selector.openwrt.org/?version=22.03.0&amp;target=rockchip%2Farmv8&amp;id=friendlyarm_nanopi-r4s

Click on: ''Customize installed packages''

Add packages such as luci luci-ssl  kmod-usb-net-rtl8152 #for usb 2.5gbe rtl8156</pre>
</div>
<div tags="" title="openwrt docker fix">
<pre>!!Error:  

docker0: iptables: No chain/target/match by that name.
 (exit status 1)).

!!Fix

```
iptables -t filter -F
iptables -t filter -X
/etc/init.d dockerd restat
```
</pre>
</div>
<div tags="" title="OpenWRT docker host network working v2">
<pre>!!Install docker packages:


```
opkg update

opkg install dockerd docker docker-compose kmod-veth uxc procd-ujail
```

Open OpenWRT firewal outside for docker:


```
cp  /etc/config/dockerd  /etc/config/dockerd.backup

vi /etc/config/dockerd  
```
Unmark last line (remove #): 


```
option extra_iptables_args '--match conntrack ! --ctstate RELATED,ESTABLISHED' # allow outbound connections
```

Run dockerd

```
dockerd &amp;
```


Install ariang docker with ''host network'' (ports cannot be redirected): 


```
docker run -d --name ariang --net=host  -p 8080:8080 hurlenko/aria2-ariang
```

Check ping in the ariang docker:

```
docker exec ariang ping 8.8.8.8
```

Access airng docker on port 8080 in web browser


```
http://YourOpenwrtIP:8080
```


Install portainer:

```
docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --net=host --restart=always    -v /var/run/docker.sock:/var/run/docker.sock   -v portainer_data:/data portainer/portainer-ce:latest
```

And portainer agent

```
docker run -d -p 9001:9001 --name portainer_agent --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/docker/volumes:/var/lib/docker/volumes portainer/agent:2.9.3 --net=host
```
</pre>
</div>
<div tags="" title="openwrt enable wan access (administration from internet)">
<pre>Source:

https://forum.openwrt.org/t/access-web-interface-on-wan/128919/8


```
uci add firewall rule
uci set firewall.@rule[-1].name='Allow-Admin'
uci set firewall.@rule[-1].enabled='true'
uci set firewall.@rule[-1].src='wan'
uci set firewall.@rule[-1].proto='tcp'
uci set firewall.@rule[-1].dest_port='22 80 443'
uci set firewall.@rule[-1].target='ACCEPT'
uci commit firewall
service firewall restart
```
</pre>
</div>
<div tags="" title="openwrt file browsers v4">
<pre>List of browsers: https://reddit.com/r/selfhosted/comments/ayy3mc/web_based_file_browsermanager/


h5ai not working natively, only in docker https://hub.docker.com/r/awesometic/h5ai).


```
docker pull awesometic/h5ai
```

Set /h5ai volume bind to /media/usb

To set ''user ''and ''password ''run in console:


```
docker run -it --name=h5ai \
-p 80:80 \
-v /media/usb:/h5ai \
-e PUID=$UID \
-e PGID=$GID \
-e TZ=Asia/Jerusalem \
-e HTPASSWD=true \
-e HTPASSWD_USER=sharicov \
awesometic/h5ai

```


Can edit word documents in browsers if google "office editing for docs" extension installed (https://chrome.google.com/webstore/detail/office-editing-for-docs-s/gbkeegbaiigmenfmjfclcdgdpimamgkj?hl=en)

droppy (working natively, 2 years old) https://github.com/silverwind/droppy


```
opkg install node-npm
```
vi droppy.conf

Add:


```
{
  "listeners" : [
    {
      "host": ["0.0.0.0", "::"],
      "port": 8989,
      "protocol": "http"
    }
  ],
  "public": false,
  "timestamps": true,
  "linkLength": 5,
  "linkExtensions": false,
  "logLevel": 2,
  "maxFileSize": 0,
  "updateInterval": 1000,
  "pollingInterval": 0,
  "keepAlive": 20000,
  "allowFrame": false,
  "readOnly": false,
  "ignorePatterns": [],
  "watch": true,
  "headers": {}
}
```


```
npm install -g droppy
droppy start -c droppy.conf -f /mnt/usb --daemon
```


IFM is working https://github.com/misterunknown/ifm

IFM dependencies:


```
opkg install php8-mod-fileinfo php8-mod-mbstring php8-mod-phar php8-mod-zip 

```

Optional IFM dependencies:

```
bz2
curl (for remote upload)
fileinfo
json
ldap (only if LDAP based authentication is used)
mbstring
openssl (for remote uploads from https sources)
phar
posix
zip
zlib
```


```
wget https://github.com/misterunknown/ifm/releases/download/v2.6.3/ifm.php
```


```
cp ifp.php /www/
```


!!!To set php server install php 


```
opkg update

opkg install php8 php8-cli php8-cgi
```



!!!Run php server:


```
php-cli -S 192.168.2.1:8888 -t /www
```


Enter http://192.168.2.1:8888

PHP manual: https://openwrt.org/docs/guide-user/services/webserver/php</pre>
</div>
<div tags="" title="OpenWRT format disk in GUI (BTRFS) v2">
<pre>ssh to router

Run:


```
 wget -O luci-app-diskman_v0.2.11_all.ipk https://github.com/lisaac/luci-app-diskman/releases/download/v0
.2.11/luci-app-diskman_v0.2.11_all.ipk

opkg update

opkg install luci-app-diskman_v0.2.11_all.ipk
```

Re-login into Luci

''Luci GUI / System / Disk man''

Options to mount disk / format BTRFS </pre>
</div>
<div tags="" title="OpenWRT generate x86 64bit image v1">
<pre>Install build packages

```
sudo apt install -y build-essential libncurses5-dev libncursesw5-dev zlib1g-dev gawk git gettext libssl-dev xsltproc rsync wget unzip python ncdu atop python2{{exec}}
```


Download stable version of image builder for x86 64bit architecture:

```
wget https://downloads.openwrt.org/releases/22.03.0/targets/x86/64/openwrt-imagebuilder-22.03.0-x86-64.Linux-x86_64.tar.xz{{exec}}
```


Extract and enter working directory:
tar -J -x -f openwrt-imagebuilder-*.tar.xz 


```
cd openwrt-imagebuilder-*/
```{{exec}}
```


!!!Optional: to see available profiles:

```
`make info`{{exec}}
```


!!!Set size of OpenWRT partition (ex.304MB without docker/504 with docker/1.4G max for killercoda - RAM limitation):

!!! Choose one option (304MB without docker/504MB with docker/1.4GB max for killercoda - RAM limitation):

!!! Option 1 - 304MB without docker

```
`sed -i 's/CONFIG_TARGET_ROOTFS_PARTSIZE=.*/CONFIG_TARGET_ROOTFS_PARTSIZE=304/' .config`{{exec}}
```


!!! Option 2 - 504MB with docker

```
`sed -i 's/CONFIG_TARGET_ROOTFS_PARTSIZE=.*/CONFIG_TARGET_ROOTFS_PARTSIZE=504/' .config`{{exec}}
```


!!! Option 3 - 1.4GB max for killercoda - RAM limitation

```
`sed -i 's/CONFIG_TARGET_ROOTFS_PARTSIZE=.*/CONFIG_TARGET_ROOTFS_PARTSIZE=1504/' .config`{{exec}}
```

!!! Add custom ipk package (ex. Disk Man):

```
`wget -P packages -O luci-app-diskman_v0.2.11_all.ipk https://github.com/lisaac/luci-app-diskman/releases/download/v0.2.11/luci-app-diskman_v0.2.11_all.ipk`{{exec}} 
```



```
`cp luci-app-diskman_v0.2.11_all.ipk packages/`{{exec}}
```


!!! Run the build process:

```
`make image PROFILE="generic" PACKAGES="base-files busybox ca-bundle dnsmasq dropbear e2fsprogs firewall4 fstools kmod-amazon-ena kmod-amd-xgbe kmod-bnx2 kmod-button-hotplug kmod-e1000 kmod-e1000e kmod-forcedeth kmod-fs-vfat kmod-igb kmod-igc kmod-ixgbe kmod-nft-offload kmod-r8169 kmod-tg3 libc libgcc libustream-wolfssl logd mkf2fs mtd netifd nftables odhcp6c odhcpd-ipv6only opkg partx-utils ppp ppp-mod-pppoe procd procd-seccomp procd-ujail uci uclient-fetch urandom-seed urngd luci iperf3 kmod-usb-net-rtl8152 luci-app-samba4 samba4-server ntfs-3g block-mount luci-app-ttyd luci-app-dockerman kmod-usb-storage kmod-usb-storage-uas usbutils luci-app-aria2 aria2 fdisk lsblk htop kmod-iwlwifi iwlwifi-firmware-ax200 iwlwifi-firmware-ax210 iwlwifi-firmware-iwl9000 btrfs-progs cfdisk gdisk pciutils tune2fs resize2fs wpa-supplicant netdata iwlwifi-firmware-iwl7260 dockerd docker docker-compose kmod-veth uxc procd-ujail samba4-client ncdu rsync screen lm-sensors kmod-tun parted smartmontools blkid qemu-bridge-helper qemu-x86_64-softmmu kmod-kvm-intel" `{{exec}}
```


!!! Find all created images:


```
`find . -name *.gz`{{exec}}
```


!!! Browse files in bin/targets/x86/64:


```
`python2 -m SimpleHTTPServer 8080`{{exec}}
```


[Browse files]({{TRAFFIC_HOST1_8080}})

!!! Or manually copy to local PC (use https://whatismyip.com to get your local IP address):


```
`scp bin/targets/x86/64/openwrt-22.03.0-x86-64-generic-ext4-combined-efi.img.gz user@HomeMachineIP:/Directory`{{exec}}
```


!!! Flash to USB with Rufus: https://github.com/pbatard/rufus/releases/download/v3.20/rufus-3.20p.exe

!!! Username: root
!!! Password(no password):</pre>
</div>
<div tags="" title="OpenWRT ImmortalWRT expose docker to internent WAN">
<pre>Luci GUI / Docker / Settings / DockerMan / Allowed access interfaces

In addition to br-lan add:


```
eth1
```

Dockerman luci package name: 


```
luci-app-dockerman
```
</pre>
</div>
<div tags="" title="OpenWrt ImmortalWrt samba v1">
<pre>```
opkg update
opkg install samba36-server luci-app-samba
smbpasswd -a root
cp /etc/samba/smb.conf{,.backup}
```

Change config if required (optional)

```
nano /etc/samba/smb.conf
/etc/init.d/samba restart
```

Set permissions on working directory:

```
chmod -R 0777 /mnt/sda1/ 
```

Map drive in windows:


```
net use r: \\192.168.2.1\sda1 /user:root
```

</pre>
</div>
<div tags="" title="OpenWRT in Unraid v12">
<pre>!!Download .gz ''EFI'' image to UNRAID share

In UNRAID GUI open terminal/switch to share directory.

```
cd /mnt/user/isos

wget https://downloads.openwrt.org/releases/22.03.2/targets/x86/64/openwrt-22.03.2-x86-64-generic-squashfs-combined-efi.img.gz
```



Extract with:


```
gzip -d openwrt-*.img.gz
```

Create default linux machine with manual disk.

Primary vDisk 
''Manual''

Location:	
/mnt/disk1/isos/openwrt-22.03.0-x86-64-generic-ext4-combined-efi_1.4GB_docker_wifi_samba_diskman_2.5Gbe_tools_root_nopassword.img

Normally openwrt will start in 192.168.1.1 but if this address is occupied you can change it in vnc console of openwrt vm

 vi /etc/config/network 

change 192.168.1.1 to 192.168.3.3 for example 

save (ESC : w q) and reboot

sources:

https://www.jwtechtips.top/creating-openwrt-vm-on-unraid/

https://www.jwtechtips.top/edit-openwrt-lan-ip-address/

!!To enable multiple ethernet ports:

Install plugin: 

https://raw.githubusercontent.com/Skitals/unraid-vfio-pci/master/plugins/vfio.pci.plg

Click on it and select Ethernet ports you want openwrt to control (''not the WAN port'')

!!OpenWRT settings for internet access

In openwrt GUI add ethernet devices to LAN:

Network/Interface/WAN - delete (openWRT treats ethernet devices as WAN)

Network/devices/br-lan/configure/bridge ports/add all LAN ethernet ports ''not the WAN''

Network/Interface/br-lan/configure/general settings/ add gateway (router ex. 192.168.3.1)

Network/Interface/br-lan/configure/advanced settings/custom DNS (ex. 8.8.8.8)

Source: 

https://www.youtube.com/watch?v=bs4h4_iW_5c

vfio.pci.plg code:



```

&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;!DOCTYPE PLUGIN [
&lt;!ENTITY name "vfio.pci"&gt;
&lt;!ENTITY author "Justin Nolan / Skitals"&gt;
&lt;!ENTITY version "2020.01.20a"&gt;
&lt;!ENTITY md5 "ac741514fa0dcca9351a93e688dbd274"&gt;
&lt;!ENTITY launch "Settings/VfioPci"&gt;
&lt;!ENTITY plugdir "/usr/local/emhttp/plugins/&amp;name;"&gt;
&lt;!ENTITY github "Skitals/unraid-vfio-pci"&gt;
&lt;!ENTITY pluginURL "https://raw.githubusercontent.com/&amp;github;/master/plugins/&amp;name;.plg"&gt;
]&gt;
&lt;PLUGIN name="&amp;name;" author="&amp;author;" version="&amp;version;" launch="&amp;launch;" pluginURL="&amp;pluginURL;" icon="microchip" min="6.7.0" support="https://forums.unraid.net/topic/87411-plugin-vfio-pci-config/"&gt;
&lt;CHANGES&gt;
###2020.01.20a
- Update USB routine.

###2020.01.20
- Now shows if a device is currently bound to the vfio-pci driver.

###2020.01.18
- Implemented Reboot Notification API from Community Applications 2020.01.18+
- Added Undo option usable before reboot.

###2020.01.15b
- Fix usb display.

###2020.01.15a
- Display usb devices attached to each usb controller.

###2020.01.15
- First release.
&lt;/CHANGES&gt;
&lt;FILE Run="/bin/bash"&gt;
&lt;INLINE&gt;
# Remove old 'source' files
rm -f $(ls /boot/config/plugins/&amp;name;/&amp;name;*.txz 2&amp;gt;/dev/null | grep -v '&amp;version;')
&lt;/INLINE&gt;
&lt;/FILE&gt;
  &lt;!--
The 'source' file.
--&gt;
&lt;FILE Name="/boot/config/plugins/&amp;name;/&amp;name;-&amp;version;-x86_64-1.txz" Run="upgradepkg --install-new"&gt;
&lt;URL&gt;https://raw.github.com/&amp;github;/master/archive/&amp;name;-&amp;version;-x86_64-1.txz&lt;/URL&gt;
&lt;MD5&gt;&amp;md5;&lt;/MD5&gt;
&lt;/FILE&gt;
  &lt;!--
The 'post-install' script
--&gt;
&lt;FILE Run="/bin/bash"&gt;
&lt;INLINE&gt;
echo ""
echo "----------------------------------------------------"
echo " &amp;name; has been installed."
echo " Copyright 2020, Justin Nolan"
echo " Version: &amp;version;"
echo "----------------------------------------------------"
echo ""
&lt;/INLINE&gt;
&lt;/FILE&gt;
  &lt;!--
The 'remove' script.
--&gt;
&lt;FILE Run="/bin/bash" Method="remove"&gt;
&lt;INLINE&gt;
echo "Removing VFIO-PCI Config"
echo ""
removepkg &amp;name;-&amp;version;-x86_64-1
rm -rf &amp;plugdir;
rm -rf /boot/config/plugins/&amp;name;
echo ""
echo "VFIO-PCI Config Removed"
&lt;/INLINE&gt;
&lt;/FILE&gt;
&lt;/PLUGIN&gt;

```

</pre>
</div>
<div tags="" title="openwrt in unraid vm">
<pre>source: https://www.jwtechtips.top/creating-openwrt-vm-on-unraid/\

get latest openwrt release from https://mirror-03.infra.openwrt.org/releases/

ex.


```
wget https://mirror-03.infra.openwrt.org/releases/23.05.3/targets/x86/64/openwrt-23.05.3-x86-64-generic-ext4-combined-efi.img.gz
```

extract with

gzip -d openwrt-23.05.3-x86-64-generic-ext4-combined-efi.img.gz

copy to /mnt/user/isos

When creating vm in unraid set disk as ''manual ''and path

Select uefi in vm</pre>
</div>
<div tags="" title="OpenWRT in virtualbox v1">
<pre>https://simplificandoredes.com/en/openwrt-in-virtualbox/

Extract .gz:

```
gzip -d openwrt-*x86-64-combined*.img.gz
```

Convert .img to .vdi:

```
VBoxManage convertfromraw --format VDI openwrt-*x86-64-combined*.img openwrt.vdi
```

</pre>
</div>
<div tags="" title="openwrt kvm host">
<pre>https://openwrt.org/docs/guide-user/virtualization/qemu_host</pre>
</div>
<div tags="" title="OpenWRT KVM server">
<pre>&lt;&lt;&lt;
https://openwrt.org/docs/guide-user/virtualization/qemu_host

OpenWrt as QEMU/KVM host server
Introduction
It's possible to use OpenWrt as a QEMU host and run guests on it. If you want to run OpenWrt as a QEMU guest itself, see OpenWrt in QEMU.

OpenWrt provides QEMU packages for ARM and x86 platforms. This article focuses on the x86 target, the networking is done via qemu-bridge-helper.

Installing QEMU
You need the following packages on your device: kmod-tun, qemu-bridge-helper. Depending on the guest architecture, install qemu-x86_64-softmmu or qemu-arm-softmmu. If your hardware supports it, also install kmod-kvm-amd or kmod-kvm-intel for better performance.

Example for an Intel system and a x86_64 guest:

opkg install kmod-tun qemu-bridge-helper qemu-x86_64-softmmu kmod-kvm-intel
After the first installation, reboot your device.

Running a guest
For the guest OS, use a distribution that comes with virtio drivers by default (Debian or Fedora for example).

The following QEMU command uses a physical disk, but you can use a disk image as well. Below are explanations of the networking options.

qemu-system-x86_64 -enable-kvm -cpu host -smp 2 -m 2G \
    -drive file=/dev/sda,cache=none,if=virtio,format=raw \
    -device virtio-net-pci,mac=E2:F2:6A:01:9D:C9,netdev=br0 \
    -netdev bridge,br=br-lan,id=br0
Line 3 creates a virtio net device with a fixed MAC address that is told to use the network backend with id=br0, which gets created in line 4. The network backend is of type bridge and br=br-lan tells QEMU to connect to the bridge network br-lan of the OpenWrt host. For that qemu-bridge-helper will automatically create the needed TUN/TAP interfaces. If your guest uses DHCP it should now receive an address by the server running in br-lan.

You can choose any other bridge interface available on your OpenWrt host as well. See Network basics on how to configure networking interfaces. If you want to change which networks QEMU is allowed to connect to, you can do so via /etc/qemu/bridge.conf.

Installing Debian as guest OS
If you don't have a prepared disk image, you can install a guest OS directly on your OpenWrt device. There are several guides available on how to install a Linux distribution on a QEMU image: Debian for example. A quick way is to install Debian using the kernel and initrd of a Debian netboot installer.

Create a disk image
qemu-img create -f qcow2 debian.img 4G
More details on disk images: https://en.wikibooks.org/wiki/QEMU/Images

Download installer files
wget https://ftp.debian.org/debian/dists/stable/main/installer-amd64/current/images/netboot/debian-installer/amd64/linux
wget https://ftp.debian.org/debian/dists/stable/main/installer-amd64/current/images/netboot/debian-installer/amd64/initrd.gz
Both files can be savely removed after finishing the installation.

Run the installer
The following command will launch the Debian installer inside QEMU, debian.img will appear as /dev/vda

qemu-system-x86_64 -enable-kvm -cpu host -smp 2 -m 2G \
	-initrd initrd.gz \
	-kernel linux \
	-append "root=/dev/ram console=ttyS0" \
	-drive file=debian.img,if=virtio \
	-device virtio-net-pci,mac=E2:F2:6A:01:9D:C9,netdev=br0 \
	-netdev bridge,br=br-lan,id=br0 \
	-nographic
Follow the installation instructions and install GRUB on /dev/vda. It's also useful to install sshd (enabled by default).

Run the new guest
After finishing the installation, you can launch the new installation with QEMU:

qemu-system-x86_64 -enable-kvm -cpu host -smp 2 -m 2G \
	-drive file=debian.img,if=virtio \
	-device virtio-net-pci,mac=E2:F2:6A:01:9D:C9,netdev=br0 \
	-netdev bridge,br=br-lan,id=br0 \
	-nographic
You should now be able to reach the VM via SSH from within br-lan. If you want to control the VM using the command line, you have to enable a serial console. To do this, edit the GRUB entry during boot and add console=ttyS0 to the kernel command line. After the VM finished booting, edit /etc/default/grub and add console=ttyS0 to GRUB_CMDLINE_LINUX_DEFAULT as well. After that run update-grub.

Init script
To automatically start the VM at boot and shut it down cleanly using QMP, create an init script like the one below.

Be careful with copying the heredoc part. This code block is left unindented on purpose to avoid problems with whitespaces. If you want, you can indent the lines with tabs and use &lt;&lt;-QMP instead of &lt;&lt;QMP, but since tabs are printed as whitespaces in dokuwiki code blocks, this example is used without indentation. You can read more about here documents in the advanced bash-scripting guide

/etc/init.d/qemu
#!/bin/sh /etc/rc.common
 
START=99
STOP=1
 
qemu_pidfile="/var/run/qemu.pid"
 
start() {
qemu-system-x86_64 -enable-kvm -cpu host -smp 2 -m 2G \
	-drive file=/dev/sda,cache=none,if=virtio,format=raw \
	-device virtio-net-pci,mac=E2:F2:6A:01:9D:C9,netdev=br0 \
	-netdev bridge,br=br-lan,id=br0 \
	-qmp tcp:127.0.0.1:4444,server,nowait \
	-daemonize &amp;&gt; /var/log/qemu.log
 
/usr/bin/pgrep qemu-system-x86_64 &gt; $qemu_pidfile
echo "QEMU: Started VM with PID $(cat $qemu_pidfile)."
}
 
stop() {
echo "QEMU: Sending 'system_powerdown' to VM with PID $(cat $qemu_pidfile)."
nc localhost 4444 &lt;&lt;QMP 
{ "execute": "qmp_capabilities" } 
{ "execute": "system_powerdown" } 
QMP
 
if [ -e $qemu_pidfile ]; then
	if [ -e /proc/$(cat $qemu_pidfile) ]; then
		echo "QEMU: Waiting for VM shutdown."
		while [ -e /proc/$(cat $qemu_pidfile) ]; do sleep 1s; done
		echo "QEMU: VM Process $(cat $qemu_pidfile) finished."
	else
		echo "QEMU: Error: No VM with PID $(cat $qemu_pidfile) running."
	fi
 
	rm -f $qemu_pidfile
else
	echo "QEMU: Error: $qemu_pidfile doesn't exist."
fi
}
Test the the script by running /etc/init.d/qemu start and look for errors in /var/log/qemu.log. If the script works as desired, enable it for every boot: /etc/init.d/qemu enable

&lt;&lt;&lt;
</pre>
</div>
<div tags="" title="OpenWRT Live USB x86 and net commands v14">
<pre>https://firmware-selector.openwrt.org/?version=22.03.0&amp;target=x86%2F64&amp;id=generic

Choose PC model (ex. x86 64)

Choose build (stable ex. 22.0.3 or nightly - snapshot)

Standard packages:


```
base-files busybox ca-bundle dnsmasq dropbear e2fsprogs firewall4 fstools kmod-amazon-ena kmod-amd-xgbe kmod-bnx2 kmod-button-hotplug kmod-e1000 kmod-e1000e kmod-forcedeth kmod-fs-vfat kmod-igb kmod-igc kmod-ixgbe kmod-nft-offload kmod-r8169 kmod-tg3 libc libgcc libustream-wolfssl logd mkf2fs mtd netifd nftables odhcp6c odhcpd-ipv6only opkg partx-utils ppp ppp-mod-pppoe procd procd-seccomp procd-ujail uci uclient-fetch urandom-seed urngd luci iperf3 kmod-usb-net-rtl8152 luci-app-samba4 samba4-server ntfs-3g block-mount luci-app-ttyd luci-app-dockerman kmod-usb-storage kmod-usb-storage-uas usbutils luci-app-aria2 aria2 fdisk lsblk htop kmod-iwlwifi iwlwifi-firmware-ax200 btrfs-progs cfdisk gdisk pciutils tune2fs resize2fs wpa-supplicant netdata iwlwifi-firmware-iwl7260 iwlwifi-firmware-iwl9000 dockerd docker docker-compose kmod-veth uxc procd-ujail samba4-client ncdu rsync screen
```



Add packages such as 

```
luci iperf3 kmod-usb-net-rtl8152 luci-app-samba4 samba4-server ntfs-3g block-mount luci-app-ttyd luci-app-dockerman docker-ce kmod-usb-storage kmod-usb-storage-uas usbutils luci-app-aria2 aria2 fdisk lsblk htop kmod-iwlwifi iwlwifi-firmware-ax200 wpa-supplicant iwlwifi-firmware-iwl7260  dockerd docker docker-compose kmod-veth uxc procd-ujail samba4-client
```

Optional if image size allows (format BTRFS, partition tools, resize partition):

```
btrfs-progs cfdisk gdisk pciutils tune2fs resize2fs netdata

```


kmod-usb-net-rtl8152 #for usb 2.5gbe rtl8156

kmod-iwlwifi iwlwifi-firmware-ax200 iwlwifi-firmware-iwl7260 #for intel wifi chips



procd-ujail-console docker related, not installing

Click on: ''Request build''

Download ''COMBINED-EFI (EXT4)''

Write to USB with Rufus (balena cannot handle .gz)

On windows side 2.5 full duplex needs to be forced otherwise connection is 1Gbps ''control panel / network and internet / adapter properties / configure / advanced / speed &amp; duplex''

Access on 192.168.1.1

User/pwd: root/password

Network and disk commands:


```
uci show network

vi /etc/config/network

service network restart

uci set network.lan.ipaddr='192.168.2.1'

uci commit

service network restart

/etc/init.d/samba4 restart

lsblk -f

lsusb -t


smbpasswd -a root

smbclient -L 127.0.0.1
```

!!Test speed:

Client (connected pc):


```
iperf3 -c 192.168.1.1 -t 20 -P 2
```

Server (openwrt machine):


```
iperf3 -s
```

!! Initial setup


```
ssh root@192.168.1.1

passwd

fdisk -l

mkdir -p /media/usb

mount -t btrfs  -o autodefrag,noatime,nodatacow,space_cache /dev/sdb1 /media/usb/
```


Enter Luci/Network Shares/Edit Template tab

mask invalid users=root with ''#'' to be:


```
 #invalid users = root
```

Luci switch tab to General Settings/Shared directories

Add:

Name: USB

Path: /media/usb

Allowed users: root

Uncheck: Allow guests

Press: ''Save and Apply''

In ssh terminal on OpenWRT machine set samba password and see available shares:

```
smbpasswd -a root

smbclient -L 127.0.0.1
```

!!On windows machine

```
net use
```

If any old shares with 192.168.1.1 appear:


```
net use DISK_LETTER: /delete
```

Map network drive:

```
net use DISK_LETTER: \\192.168.1.1\USB
```

If there are errors mapping, try to reboot ''windows'' machine.</pre>
</div>
<div tags="" title="Openwrt r4s klever1988 samba">
<pre>Install samba tools (klever uses ksmbd):


```
opkg install ksmbd-utils
```

```
ksmbd.adduser -a user
```

Create password 

add /dev/sda1 in services/network shares

change permissions on USB disk recursively:


```
chmod -R 0777 /mnt/sda1/ 
```
</pre>
</div>
<div tags="" title="openwrt resize partition on the fly with docker v7">
<pre>!!Automatic way (klever1988 github):


```
 wget -qO- https://github.com/klever1988/nanopi-openwrt/raw/master/scripts/autoupdate-bash.sh | bash
```

!!Manual way:

Install cfdisk


```
opkg update &amp;&amp; opkg install cfdisk
```



```
cfdisk /dev/mmcblk1
```


Choose partition 2 (600MB) 

choose to resize to maximum size

write

reboot


!!autoupdate with docker:


```
wget -qO- https://github.com/klever1988/nanopi-openwrt/raw/master/scripts/autoupdate.sh | ver=-with-docker bash
```

Then install portainer:


```
docker pull portainer/portainer-ce:latest
```


```
docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:latest
```

Connect to host:

http://192.168.2.1:9000

FAQ: https://github-com.translate.goog/klever1988/nanopi-openwrt/issues?q=samba&amp;_x_tr_sl=auto&amp;_x_tr_tl=en&amp;_x_tr_hl=en-US&amp;_x_tr_pto=wapp</pre>
</div>
<div tags="" title="Openwrt set DNS">
<pre>GUI/Network/Intarfeces/WAN/Edit/Advanced/Uncheck use DNS servers advertised by peer

Set custom DNS in ''Use custom DNS servers line'' (use + to add more than one

Save</pre>
</div>
<div tags="" title="openwrt wifi ax210 MT7922">
<pre>Site: https://mans0n.github.io/2023/01/24/diy-6ghz-ap/


!!AX210
At the time of purchasing the AX210, I simply knew that Intel wireless LAN cards did not support AP mode [4] , but in reality, it was more complicated.


```
$ iw phy phy0 info | grep -A8 "Supported interface modes:" 
	Supported interface modes: 
		 * IBSS 
		 * managed 
		 * AP 
		 * AP/VLAN 
		 * monitor 
		 * P2P-client 
		 * P2P-GO 
		 * P2P-device
```


```
iw reg get | grep -C1 country
```


```
global
country KR: DFS-JP
        (2400 - 2483 @ 40), (N/A, 23), (N/A)
--
phy#0 (self-managed)
country IL: DFS-UNSET
        (2402 - 2437 @ 40), (6, 22), (N/A), AUTO-BW, NO-HT40MINUS, NO-80MHZ, NO-160MHZ
```
```
iw phy phy0 info | grep -A1 "Frequencies"
```
```

                Frequencies:
                        * 2412 MHz [1] (22.0 dBm)

                Frequencies:
                        * 5180 MHz [36] (22.0 dBm) (no IR)

                Frequencies:
                        * 5955 MHz [1] (22.0 dBm) (no IR)

```


!!Install wireless LAN card driver and firmware

AX210:


```
opkg install kmod-iwlwifi iwlwifi-firmware-ax210
```


```
wpad-openssl
```

Reboot

The uci settings
below are just examples. ''/etc/config/network''

You should also set it appropriately.

''/etc/config/wireless (AP)''

```
config wifi-device 'radio0' 
	option type 'mac80211' 
	option path 'pci0000:00/0000:00:1c.0/0000:01:00.0' 
	option channel '85' 
	option band '6g' 
	option htmode 'HE160' 
	option country 'KR' 
	option txpower '14' config wifi-iface 'default_radio0' 	option device 'radio0' 	option network 'lan' 	option mode 'ap' 	option ssid 'wlan-6g' 	option encryption 'sae' 	option key 'password'

```








''/etc/config/wireless (STA)''

```
config wifi-device 'radio0' 
	option type 'mac80211' 
	option path 'pci0000:00/0000:00:1c.1/0000:02:00.0' 
	option htmode 'HE160' 
	option country 'KR' 
	option txpower '14' config wifi -iface 'default_radio0' 	option device 'radio0' 	option network 'wan' 	option mode 'sta' 	option ssid 'wlan-6g' 	option encryption 'sae' 	option key 'password'

```









```
service network restart

```

I don't know if it's just the AX210, but finding and connecting to a 6GHz AP is slow, sometimes taking several minutes. iw dev phy0-sta0 scan | grep SSID:If you perform an AP scan with , connection may be faster.

We confirmed that Arch Linux and Windows 11 work well with the 6GHz AP made this way.</pre>
</div>
<div tags="" title="OpenWRT x86 custom image build v9">
<pre>Automatic builder (104MB partition size limitation): 

https://firmware-selector.openwrt.org/?version=22.03.0&amp;target=x86%2F64&amp;id=generic


Linux machine can be found here: https://killercoda.com/

Source1: https://openwrt.org/docs/guide-user/additional-software/imagebuilder

Source2: https://forum.openwrt.org/t/image-builder-filesize-out-of-space/110797/2

Source3 (docker): https://openwrt.org/docs/guide-user/virtualization/docker_host

```
sudo apt install -y build-essential libncurses5-dev libncursesw5-dev zlib1g-dev gawk git gettext libssl-dev xsltproc rsync wget unzip python ncdu atop

```

For ''stable ''version builder:


```
wget https://downloads.openwrt.org/releases/22.03.0/targets/x86/64/openwrt-imagebuilder-22.03.0-x86-64.Linux-x86_64.tar.xz
```

!!!OR

For ''snapshot ''version builder(2.5Gbe not working, syncing only on 1Gbps):

```
wget https://downloads.openwrt.org/snapshots/targets/x86/64/openwrt-imagebuilder-x86-64.Linux-x86_64.tar.xz
```


!!Extract image and enter the working directory:

```
tar -J -x -f openwrt-imagebuilder-*.tar.xz 

cd openwrt-imagebuilder-*/

make info #shows available profiles
```

!!Resize openwrt partition size to fit all the packages  (304MB without docker, 504 with docker):

Note: UP TO RAM SIZE OF BUILDING MACHINE!!!

```
sed -i 's/CONFIG_TARGET_ROOTFS_PARTSIZE=.*/CONFIG_TARGET_ROOTFS_PARTSIZE=504/' .config
```

!!!Optional: change boot partition size:

```
sed -i 's/CONFIG_TARGET_KERNEL_PARTSIZE=.*/CONFIG_TARGET_KERNEL_PARTSIZE=18/' .config
```

For manual manipulation with build config:

```
nano .config
```

Change 

CONFIG_TARGET_ROOTFS_PARTSIZE=104 to larger size (ex. 304)


!!!Optional: Add custom package - not working

To add custom package, put it in the packages subdirectory:

```
wget -P packages -O luci-app-diskman_v0.2.11_all.ipk https://github.com/lisaac/luci-app-diskman/releases/download/v0.2.11/luci-app-diskman_v0.2.11_all.ipk 
```


!!Run the build process:

```
make image PROFILE="generic" PACKAGES="base-files busybox ca-bundle dnsmasq dropbear e2fsprogs firewall4 fstools kmod-amazon-ena kmod-amd-xgbe kmod-bnx2 kmod-button-hotplug kmod-e1000 kmod-e1000e kmod-forcedeth kmod-fs-vfat kmod-igb kmod-igc kmod-ixgbe kmod-nft-offload kmod-r8169 kmod-tg3 libc libgcc libustream-wolfssl logd mkf2fs mtd netifd nftables odhcp6c odhcpd-ipv6only opkg partx-utils ppp ppp-mod-pppoe procd procd-seccomp procd-ujail uci uclient-fetch urandom-seed urngd luci iperf3 kmod-usb-net-rtl8152 luci-app-samba4 samba4-server ntfs-3g block-mount luci-app-ttyd luci-app-dockerman kmod-usb-storage kmod-usb-storage-uas usbutils luci-app-aria2 aria2 fdisk lsblk htop kmod-iwlwifi iwlwifi-firmware-ax200 btrfs-progs cfdisk gdisk pciutils tune2fs resize2fs wpa-supplicant netdata iwlwifi-firmware-iwl7260 iwlwifi-firmware-iwl9000 dockerd docker docker-compose kmod-veth uxc procd-ujail samba4-client ncdu rsync screen lm-sensors" 
```

Find all created images:

```
find . -name *.gz
```

Copy to local PC: 

Stable:

```
scp bin/targets/x86/64/openwrt-22.03.0-x86-64-generic-ext4-combined-efi.img.gz user@HomeMachineIP:/Directory
```

Or Snapshot:

```
scp bin/targets/x86/64/openwrt-x86-64-generic-ext4-combined-efi.img.gz user@HomeMachineIP:/Directory
```


Notes:

procd-ujail-console packet not installing (docker related)</pre>
</div>
<div tags="" title="opkg upgrade all packages openwrt v2">
<pre>```
opkg update
opkg list-upgradable | cut -f 1 -d ' ' | xargs -r opkg upgrade  
```
</pre>
</div>
<div tags="" title="opnsense adguard home installation v1">
<pre>Source: https://broadbandforum.co/threads/installing-adguard-home-on-pfsense.205884/

Today I will show how to install AdGuard Home on PFSense. While I haven’t tested this on OPNSense. The binary for FreeBSD (PFSense) may work on HardendBSD (OPNSense).
Why use AdGuard Home?​
Screenshot-2020-10-13-102928.png

Pretty UI: While PFBlockerNG can do DNS Blocking, it has a much more complex UI.
AdGuard Home UI is easier to use
Built in Encrypted DNS: AdGuard Home supports build in encrypted DNS (DNS over TLS, DNS over HTTPS).
Different methods of querying: AdGuard Home supports Parallel Querying where multiple servers are queried at once. This is especially good if you have a unreliable network.
FreeBSD Support: AdGuard Home supports FreeBSD so you won’t have to virtualize anything.
Modify DNS TTL to keep DNS Records in cache for longer.
Screenshot-2020-10-13-103046.png
Step 1: Change the Port of your PFSense DNS Resolver​

1.png
2.png

Login to your PFSense Firewall web UI and go to Service&gt; DNS Resolver and change the "Listen Port" from port 53 to some other port, I chose 6666. Set Network Interfaces to localhost, there is no need for the pfsense resolver to listen on LAN interface.

To enable rDNS lookups and hostname lookups for devices on your LAN, enable " DHCP Registration" and " Static DHCP" in DNS Resolver settings.
Step 2: Go to AdGuard home releases page and get the FreeBSD Version:​
adguardreleases.png

Go to Releases · AdguardTeam/AdGuardHome

Then get the latest version of AdGuard for FreeBSD (as PFSense runs on FreeBSD). Most likely you will have 64Bit version of PFSense so you need AdGuardHome_freebsd_amd64.tar.gz . However if you have 32 Bit PFSense you need AdGuardHome_freebsd_386.tar.gz.

Step 3: SSH into your PFSense box​
Right click and copy the link of the release.

SSH into your PFSense box using Putty or SSH on WSL and enter the following commands:

Code:

```
cd /
mkdir opt
cd opt
fetch https://github.com/AdguardTeam/AdGuardHome/releases/download/v0.104.0-beta2/AdGuardHome_freebsd_amd64.tar.gz
```


Make sure to change the url in fetch to the one you got on Step 2 to get latest version.
Code:

```
tar -xvf AdGuardHome_freebsd_amd64.tar.gz
cd AdGuardHome
./AdGuardHome
```


This command executes AdGuardHome so that we can do initial configuration in the browser.

Step 4: Initial Configuration​ ''(in chrome!!!)''

Screenshot-2020-10-13-113123.png
Go to your router URL with port 3000 on your browser. In my case its http://192.168.5.1:3000 . Replace 192.168.5.1 to your PFSense Address.

It should open the web interface of AdGuard Home.

Click on Get Started.

Now you will see a screen asking to setup interfaces for AdGuard UI and Resolver to run on. You need to set both the Admin Interface and DNS Server Interface to your LAN Interface. In my case it is igb3. It will also show the IP of the Interface next to it to help you identify easily. In my case it is 192.168.5.1 which is the IP Address of my router.
Screenshot-2021-01-07-134022.png
Set the same interface for DNS Server.

Also, make sure to change the Port of web interface from 80 to something that is unlikely to be used on the network. Lets say port 12838. Choose any high port that isn’t likely to conflict with your other applications.

Next enter a username and password for your AdGuard Home. Make sure to use a strong password.

Click on Next and then Open Dashboard.

Now that initial configuration of AdGuard is done. Go back to PFSense SSH and terminate AdGuard using Ctrl+C.

Step 5: Installing some extra packages:​
​
To make sure that AdGuard gets filters without errors, you will need to install ca_root_nss

Run this command on the PFSense SSH
Code:
pkg install ca_root_nss

Next you will need to install screen so that you can run AdGuard even when ssh is closed.

Code:

```
pkg install screen

```

Lets also install nano text editor so we can write and edit simple text files.

Code:

```
pkg install nano
```


Install shellcmd PFSense Package from WebUI. Its under System&gt;Package Manager&gt;Installed Packages:
Screenshot-2020-11-14-103402.png

Step 6: Making AdGuard Home start on boot:​
Go to Services&gt;shellcmd and click Add

Command:

```
 /usr/local/bin/screen -S AdGuardHome_screen -d -m /opt/AdGuardHome/AdGuardHome
Shellcmd Type: shellcmd
Description: AdGuard
```


Screenshot-2020-11-14-104100.png
Click Save
Reboot PFSense and AdGuardHome will start up.

Step 7: Set Filters and DNS Resolvers for AdGuard Home:​


Go to the Web UI of AdGuard Home. It is at http://192.168.5.1:12838 . Where 192.168.5.1 is the IP of your PFSense and 12838 is the Port of Web Interface of AdGuard which we set in Step 4.

Login with your username and password which you set in Step 4.

Now go to Settings&gt;DNS Settings

Use the upstream DNS Server of your choice. These are my resolvers

Code:
https://dns10.quad9.net/dns-query
tls://dns.google
tls://1.1.1.1
https://doh.opendns.com/dns-query
Screenshot-2020-10-13-120812.png
Find more Encrypted DNS Resolvers at DNS Privacy Public Resolvers - DNS Privacy Project - Global Site

Set the query mode to “Parralel Requests” for faster queries.

By default AdGuard Home only uses “AdGuard DNS filter” however you can add your own filters such as

https://www.malwaredomainlist.com/hostslist/hosts.txt

https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts

and enable the filters Disabled by default.

However, keep in mind, higher the number of domains higher the likelihood of false positives.

Step 8: Set PFSense to use the AdGuard DNS:​

Go to System&gt; General Setup in PFSense Web Interface and set the DNS Server to 192.168.5.1 and remove any other resolvers.
Screenshot-2020-10-13-121135.png
That’s it AdGuard Home is up and running on PFSense


Step 9: Test AdGuard​


Go to your PFSense SSH and type in:

Code:
dig @192.168.5.1 google.com

Where 192.168.5.1 is the IP of your router

It should output the IP Address of Google.
dig @192.168.5.1 google.com

; &lt;&lt;&gt;&gt; DiG 9.16.1-Ubuntu &lt;&lt;&gt;&gt; @192.168.5.1 google.com
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 946
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;google.com. IN A

;; ANSWER SECTION:
google.com. 10 IN A 74.125.130.147

;; Query time: 0 msec
;; SERVER: 192.168.5.1#53(192.168.5.1)
;; WHEN: Thu Jan 07 16:34:08 IST 2021
;; MSG SIZE rcvd: 44

On Windows you can do

Code:
nslookup google.com 192.168.5.1

to test the resolver
</pre>
</div>
<div tags="" title="opnsense resize partition v2">
<pre>Done automatically not required.

Manual way(not tested):

https://mricher.fr/post/freebsd-opnsense-grow-partition/

I was playing with a small OPNsense VM when, during a major upgrade, the disk was suddenly full. If you ever create a OPNsense VM, here are the spec you should set :

2 vCPU
1GB RAM
5GB disk
Boot is BIOS/MBR, in my case the disk was emulated SCSI. The network interface can use virtio.

Commands brief
Resize the disk on the hypervisor side, then reboot the VM or use ''camcontrol rescan all'' to refresh the SCSI bus (untested).

Now we’re ready for the resize dance:


```
# let's look at the partition layout
gpart show
# fix GPT partition table after disk extend
gpart recover da0
# now extend the partition to all available space
gpart resize -i 3 da0
# and grow the UFS filesystem
growfs /dev/gpt/rootfs
```

UFS is a bit confused if you specify the partition path, so be careful to use the mountpoint so it can detect the mounted partition and do an online grow.


```
growfs /dev/da0p3 # error
growfs /dev/gpt/rootfs # ok
```

More information on the FreeBSD doc: https://www.freebsd.org/doc/handbook/disks-growing.html</pre>
</div>
<div tags="" title="opnsense speedtest install v1">
<pre>https://www.reddit.com/r/OPNsenseFirewall/comments/lvctz7/speedtest_plugin_for_opnsense/

Sharing a byproduct of my awkward learning of OPNSense plugin development: mihakralj/opnsense-speedtest: speedtest plugin for OPNsense (github.com)

You can find the compiled .txz package in the /work/pkg directory. Install it with

sudo pkg install -y libidn2

sudo pkg add https://github.com/mihakralj/opnsense-speedtest/raw/main/work/pkg/os-speedtest-devel-0.11_2.txz

and remove it with

pkg delete os-speedtest-devel

Explanation: speedtest depends on libidn2 library that might not be available on OPNsense and should be installed from a known/trusted repo. Os-speedtest-devel package is not yet in repo, it needs to be installed directly with pkg add (instead of pkg install) - kinda sideloading a package to BSD without an appstore. Pkg add is not auto-installing dependencies, pkg install is. Once we move speedtest to one of repos and switch installation to pkg install (or to GUI-based plugin install), this separate manual installation of libidn2 will no longer be required.</pre>
</div>
<div tags="" title="OSX hackintosh in UNRAID v2">
<pre>https://github.com/SpaceinvaderOne/Macinabox


!!GPU passthrough is not working at the moment, only VNC console

On UNRAID host install: 


```
APPS/ User scripts

APPS/ macinabox
```

Specify OSX version to install, leave the rest default.

Run docker: 


```
Docker/Macinabox
```

Wait till it stopes (can see log as well in the docker GUI/kef-click macinabox docker icon

Run vm creation script:


```
Settings/User Scripts/1_macinabox_helper
```


Go to VMs and start new OSX vm

Another manual, not checked: https://github.com/Pavo-IM/Hackinabox
</pre>
</div>
<div tags="" title="OSX in docker">
<pre>https://github.com/sickcodes/Docker-OSX


```
docker run \
    --device /dev/kvm \
    -e AUDIO_DRIVER=pa,server=unix:/tmp/pulseaudio.socket \
    -v "/run/user/$(id -u)/pulse/native:/tmp/pulseaudio.socket" \
    -v /tmp/.X11-unix:/tmp/.X11-unix \
    sickcodes/docker-osx
```
</pre>
</div>
<div tags="" title="Overclocking and benchmarking CPU v5">
<pre>''Throtlestop'' to set pl1 pl2 (short termand long term cpu tdp power) https://www.techpowerup.com/download/techpowerup-throttlestop/ (TPL/Uncheck disable control/set pl1 and pl2 carefuly, then run aida64 stability test)

''Aida64 free beta'' Stability test and benchmarking: https://www.aida64.com/user-manual/tools/system-stability-test (aida64/tools/system stability test)

See results in ''unified ''tab of the benchmark (temp/W/clock)

''HWINFO ''view current pl1 and pl2 in hwinfo/cpu https://www.hwinfo.com/download/ 

n100 pl1 6w pl2 25w

aida64 radxa x4 stress test results


```
6w fpu only test 57C
20w fpu only test 92C
```

Trottlestop video: https://www.youtube.com/watch?v=RUxIUHYnx28</pre>
</div>
<div tags="" title="Overlay HUD AMD alternative">
<pre>https://www.reddit.com/r/buildapc/comments/155tm8i/alternatives_to_amd_adrenalin_osd_overlay/

CapframeX

NVIDIA Frameview</pre>
</div>
<div tags="" title="owncloud commands">
<pre>in portainer enter console as www-data
Trusted domains
show:


```
./occ config:system:get trusted_domains
```


add:


```
./occ config:system:set trusted_domains 2 --value=SERVER_IPADDRESS
```



Maintenance mode:



```
occ config:system:set maintenance  --value=false --type=boolean
```




source: https://doc.owncloud.com/server/admin_manual/configuration/server/occ_command/config_commands.html</pre>
</div>
<div tags="" title="Pair bluetooth speaker to google nest">
<pre>https://support.google.com/googlenest/answer/7672356?hl=en

Play music on Bluetooth speakers or headphones
Stream music that plays on your Google Nest or Home speaker or display to your favorite Bluetooth speakers or headphones.

Note: All media playback will play on the external speaker that’s paired with the Google Nest or Home device. Alarms, timers and Google Assistant's responses will play on your Google Nest or Home device.

Step 1. Pair and connect a Bluetooth speaker and Google Nest or Home device
Complete these steps if it’s the first time you’re connecting your speaker to your Google Nest or Home device.

Turn on your Bluetooth speaker and make sure it’s in pairing mode. Press the pairing button on your Bluetooth speaker, if possible.
Open the Google Home app Google Home app.
Make sure you're in the right home. The name of the home is at the top of the screen. To change homes, tap the arrow next to the home name.
Touch and hold your device's tile.
At the top right, tap Settings  and then Audio.
If this is your first time to use Bluetooth on this device, tap Paired Bluetooth devices and then Enable pairing mode and then go back to Audio.
Tap Default music speaker and then Pair Bluetooth speaker. Your Google Nest or Home device will then scan for Bluetooth devices.
Tap the Bluetooth device once it appears on the screen and then Done.
Your Bluetooth device will now pair with your Google Nest or Home device.
Tips to pair and connect devices
You can only have one connected Bluetooth speaker or headphones to play music through at a time.
Once you pair and connect your Bluetooth speaker to a Google Nest or Home device, it will auto-connect unless the speaker gets disconnected or turned off.
You can pair a Google Nest or Home device to multiple Bluetooth enabled speakers or headphones, but it will only connect to the most recently connected device.
Check which mobile devices are connected to your Google Nest or Home device.
Step 2. Play music
Once your Bluetooth speaker is paired and connected to your Google Nest or Home device, use basic and advanced music commands to listen to music and playlists.

Using audio groups
If you use speaker groups to listen to media like music, podcasts and audiobooks from multiple speakers at once, you can continue to do that with your Bluetooth speaker. Just add the Google Nest or Home device that's connected to the Bluetooth speaker to any speaker group. Learn how to create or add your speaker to an audio group.

Note: You may need to adjust for the playback delay that can happen when you use a Bluetooth device. Learn how to correct group playback delay.

Disconnect Bluetooth speaker and Google Nest or Home device
You can disconnect a Bluetooth speaker from a Google Nest or Home device but leave it paired.

Using the Google Home app
Using your voice
Reconnect a Bluetooth speaker and Google Nest or Home device
Once you pair and connect your Bluetooth speaker to a Google Nest or Home device using the steps above, the Google Nest or Home device will automatically reconnect unless the Bluetooth speaker gets disconnected or turned off.

If your Bluetooth speaker doesn't auto-connect, complete these steps:

Using the Google Home app
Using your voice
Unpair a speaker and Google Nest or Home device
This will remove your Bluetooth speaker from the paired device list. You'll need to pair and connect this speaker to use it again.

Open the Google Home app Google Home app.
Touch and hold the Google Nest or Home device you want to unpair.
At the top right, tap Settings  and then Audio and then Paired Bluetooth devices.
Tap the X next to the device you want to unpair and then Unpair.</pre>
</div>
<div tags="" title="parsec install on linux (client only) using flatpak">
<pre>```
sudo apt update
sudo apt upgrade
```
```
sudo apt install flatpak
```

```
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

sudo flatpak install flathub com.parsecgaming.parsec
```

```
flatpak list
```

```
flatpak run com.parsecgaming.parsec
```

!!!Troubleshooting - session restart can be needed
</pre>
</div>
<div created="20210512174425895" modified="20210512174608623" tags="" title="Parsec remote Linux acceleration fix">
<pre>Run in terminal:


```
export LIBVA_DRIVER_NAME=i965 
parsecd
```
</pre>
</div>
<div tags="" title="parsec web access">
<pre>https://web.parsec.app/</pre>
</div>
<div tags="" title="Partition types GUID">
<pre>https://www.freedesktop.org/wiki/Specifications/DiscoverablePartitionsSpec/</pre>
</div>
<div tags="" title="Passthrough USB device to LXC keeping the path /dev/bus/usb/00x/00y">
<pre>https://forum.proxmox.com/threads/passthrough-usb-device-to-lxc-keeping-the-path-dev-bus-usb-00x-00y.127774/

''Proxmox host:''

Bash:

```
# lsusb
Bus 002 Device 002: ID 18d1:9302 Google Inc.
Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
```

```
nano /etc/pve/lxc/[your guest id].conf
```
Add


```
lxc.cgroup2.devices.allow: c 189:* rwm

lxc.mount.entry: /dev/bus/usb/002 dev/bus/usb/002 none bind,optional,create=dir
```

''LXC guest:''

Bash:

```
$ ls -la /dev/bus/usb/002/
total 0
drwxr-xr-x 2 root root       80 Sep 20 13:46 .
drwxr-xr-x 3 root root       60 Sep 20 13:55 ..
crw-rw-r-- 1 root root 189, 128 Sep 20 13:46 001
crw-rw-r-- 1 root root 189, 129 Sep 20 13:46 002
```
Another source:

https://forum.proxmox.com/threads/pass-usb-device-to-unprivileged-lxc.145825/</pre>
</div>
<div tags="" title="PCSX2 PS2 emulator download covers">
<pre>PCSX2 Cover Downloader: The emulator itself has a built-in tool for downloading cover images. You can find it under the "Tools" menu in PCSX2 (version 1.7.3329 or higher). Simply paste the URL for the desired cover type (e.g., default or 3D covers) and start the download

Default Covers:

```
https://raw.githubusercontent.com/xlenore/ps2-covers/main/covers/default/${serial}.jpg
```


3D Covers:

```
https://raw.githubusercontent.com/xlenore/ps2-covers/main/covers/3d/${serial}.png
```

Replace ${serial} with the game's serial number (e.g., SLUS-12345). These links are part of the PS2 Covers Collection on GitHub, which is a reliable source for cover images.

Let me know if you need help setting this up!

</pre>
</div>
<div tags="" title="PDFGear pdf convertor translator with AI">
<pre>Download: https://www.pdfgear.com/pdfgear-for-windows/

Can summarize pdf, OCR, convert to ppt and doc</pre>
</div>
<div created="20210504090733167" modified="20210504092515900" tags="manual" title="PhotoPrism self hosted Google Photos replacement">
<pre>Unofficial android app: https://play.google.com/store/apps/details?id=ua.com.radiokot.photoprism&amp;authuser=0


raspberry docker setup:


```
wget https://dl.photoprism.org/docker/arm64/docker-compose.yml

sudo docker-compose up -d
```

User/password: `admin` / `insecure`

!! To edit initial parameteres (like password):


```
nano docker-compose.yml

docker-compose up -d
```


!! To see current config:
Enter console via docker:


```
photoprism config
```


!! Connect to nextcloud:

http://YourIp:2342/settings/sync

Add:

https://YourHostname/remote.php/dav/files/`USERNAME`/</pre>
</div>
<div tags="" title="pi-hole (pihole) AgGuardHome alternative v14">
<pre>!!Native Installation

''Port 80 and 8443'' on unraid ''8155''

Access link: http://IP/admin/


```
mkdir pi-hole
cd pi-hole
curl -sSL https://install.pi-hole.net | bash
```

!!!Note:

Server running pi-hole should have ''Static IP''

In the router set ''only DNS'' to be pi-hole DNS IP

Make sure DNS port ''53'' is not occupied by alternative solution (ex. AdGuard Home)

!!Currently only shows clients separately if DNS is ''set manually on each client''

!!To show all requests from the whole home network. Only clients set manually with DNS will be shown separately, other will appear with external address.

1. Disable DMZ on the router

2. Set pihle IP as DNS in the router LAN settings

3. Do ''NOT'' open (forward) port ''53'' in router, so home network won't respond to DNS requests from outside world

4. In settings/DNS/Interface settings/ Permit all origins (direct access: /admin/settings.php?tab=dns)


Access web admin console:

http://YourServerIP:YourPort/admin

!!Change web admin port
Change web admin port to required:


```
nano /etc/pihole/pihole.toml
```

''Default port settings''(''o'' for optional, if busy uses other port from list)


```
 port = "80o,8443os,[::]:80o,[::]:8443os" ### CHANGED, default = "80o,443os,[::]:80o,[::]:443os"
```


!!Obsolete - no lighttpd in pihole 6+

!!!Change web admin port
Change web admin port to required:


```
nano /etc/lighttpd/lighttpd.conf
```
Change to whatever you wish

```
server.port                 = 80
```
Restart lighttpd


```
systemctl status lighttpd.service

systemctl restart lighttpd.service
```

!!Change pihole password


```
pihole setpassword
```

Set new password

!!Update

```
pihole -up
```

!!Uninstall


```
pihole uninstall
```

!!Troubleshooting lighttpd not starting

Check lighttpd status

```
systemctl status lighttpd.service
```

If getting error, more info can be found using following commands

```
journalctl -u lighttpd.service

journalctl -f

journalctl -xe
```

Try restarting lighttpd service

```
systemctl restart lighttpd.service
```
And see status again

```
systemctl status lighttpd.service
```
If there is still error 

Backup config file

```
cp /etc/lighttpd/lighttpd.conf{,.backup}
```

Try changing server port in config file


Find available port (ex 8088)

```
netstat -tulpan |grep 8088
```

If not occupied there will be ''no output''

Edit configuration file

```
nano  /etc/lighttpd/lighttpd.conf
```


Change to non-used port (ex. 8088)

```
server.port                 = 8088
```

Try restarting lighttpd service

```
systemctl restart lighttpd.service
```
And see status again

```
systemctl status lighttpd.service
```
If there is still error 

Reinstall lighttpd

```
apt purge lighttpd
apt install lighttpd
systemctl status lighttpd.service
```
You can check differences between old and new configuration files

```
 diff /etc/lighttpd/lighttpd.conf /etc/lighttpd/lighttpd.conf.backup
```


```
nano /etc/lighttpd/lighttpd.conf

```

change server.port from 80 to ''8088''

To access pihole web gui use http, custom port and ''/admin'' in the address:

http://YourIP:8088/admin

If getting error, change server port and restart service again as described above

!!Documentation

https://docs.pi-hole.net/main/uninstall/

!!Documentation on setting Huawei router:

https://www.reddit.com/r/pihole/comments/pnzxf0/howto_set_your_pihole_as_dns_on_huawei_ax3/

!!unbound - recursive DNS on pihole server

https://docs.pi-hole.net/guides/dns/unbound/

!Logging

Enable logs in GUI/setting/enable query logging


```
pihole -t
```

!!Blacklist repositories:
 https://www.reddit.com/r/pihole/comments/ua8v0a/block_lists/

!!Usage

!!!To move domains from top lists to database (hide from GUI)

Pi-hole/tools/audit log 

OR

http://IP:port/admin/auditlog.php

press on audit on desired domain

!!! To show domains in the DB


```
sudo sqlite3 /etc/pihole/gravity.db -header -column "Select * from domain_audit;"
```

Example output

```
id  domain                date_added
--  --------------------  ----------
1   catalog.gamepass.com  1711612931
```


!!!To remove domains with ''id 1'' from DB

```
sudo sqlite3 /etc/pihole/gravity.db "Delete from domain_audit where id =1;"
```

Source: https://discourse.pi-hole.net/t/what-does-the-audit-log-do/39532/3</pre>
</div>
<div tags="" title="pialert pi alert shows online devices with port scanner v2">
<pre>alternative to [[whosinmylan watchyourlan alternative v2]] and watchmylan [[watch your lan on proxmox]]

includes port scanning

site: https://github.com/leiweibau/Pi.Alert/

Install on proxmox: 


```
bash -c "$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/ct/pialert.sh)"
```

Update (in terminal)


```
mkdir /root/pialert

curl -sSL https://github.com/pucherot/Pi.Alert/raw/main/install/pialert_update.sh | bash
```

</pre>
</div>
<div created="20210504064007046" modified="20210504095442137" tags="manual" title="Pigallery 2 google photo replacement best">
<pre>Project site: https://github.com/bpatrik/pigallery2

Docker: https://hub.docker.com/r/bpatrik/pigallery2/tags/?page=1&amp;ordering=last_updated

Port: 80

Default user/pwd: `admin` `admin`

Add new administrative user on first login:

Settings/users

Re-login with new user and delete admin.

Bind `/app/data/images` to InstantUpload folder

Bind `/app/data/temp` to external disk


!! To add additional folders (ex. map `Camera Uploads` to `InstantUpload` folder named as `Camera`(not working):


```
ln -s /media/usb1/Yandex.Disk.Backup/Camera\ Uploads /media/usb1/InstantUpload/Camera
```
</pre>
</div>
<div tags="" title="pihole docker v3">
<pre>!!Installation


Ports: 


```
53 - DNS
67 - DHCP server (optional)
80 -web admin (optionally, remap to 8088)
```

Docker:


```
pihole/pihole
```

Access web interface with web admin port ''/admin''

Example:

http://192.168.1.12:8088/admin

''Note'': password is in the container ''logs ''(left icon in portainer/container line)

Manual:

https://hub.docker.com/r/pihole/pihole

!!Configuration

''Note'': do not forward 53 port in router otherwise it will resolve names for the whole world!

 In ''settings/DNS/Interface settings/ Permit all origins''/''Save'' (direct access: /admin/settings.php?tab=dns)

!!Change pihole password

```
 pihole setpassword
```

Set new password

!!Set as secondary DNS in router internet settings and in the clients

!!Update - not working in docker, native only

```
pihole -up
```


!!Troubleshooting

Error 500 on docker start with port 53

Check who uses port 53

```
lsof -i :53
```

Output:


```
dnsmasq 1534 libvirt-dnsmasq    5u  IPv4  14196      0t0  UDP 192.168.122.1:domain
dnsmasq 1534 libvirt-dnsmasq    6u  IPv4  14197      0t0  TCP 192.168.122.1:domain (LISTEN)
```

Kill this service

```
killlall libvirt-dnsmasq
```


Source: 

https://discourse.pi-hole.net/t/docker-unable-to-bind-to-port-53/45082/8

https://serverfault.com/questions/351962/disable-dhcp-service-in-dnsmasq</pre>
</div>
<div tags="" title="PiKVM enable VNC v3">
<pre>Source: https://docs.pikvm.org/vnc/

Port: ''5900''

```
rw

systemctl enable --now kvmd-vnc

ro
```


Username and password will be same as in web access

For iOS and Android the recommended application is ''bVNC''


!!Unsupported clients
''RealVNC ''- Does not support most widely used open VNC protocol extensions.

''Remmina ''- Slightly imperfect algorithms for matching settings with the server, we are working on it.

''Guacamole ''- Incorrectly implements vencrypt, no JPEG compression.

''Vinagre ''- Incorrectly implements vencrypt, dead.</pre>
</div>
<div created="20210519151229776" modified="20210606121005842" tags="" title="PiKVM manual v8">
<pre>!! Credentials: 

Ssh root:root 

Web/VNC admin:admin 

Update:


```
rw
pacman -Syy
pacman -Su
reboot
```


Reduce CPU load:


```
systemctl disable rngd
```

Permanent ISO image:

Backup configuration file:


```
rw
cp /etc/kvmd/override.yaml{,.backup}
```


Edit configuration file:


```
nano /etc/kvmd/override.yaml
```

Add:

```
kvmd:
    msd:
        initial:
            image: os-image.iso
            cdrom: true

```

Switch fille system back to read-only:


```
ro
```

!! Troubleshoot configuration:

```
journalctl -u kvmd
```

!! Configuration file:


```
/etc/kvmd/override.yaml
```

Restart kvmd, or reboot:


```
systemctl restart kvmd
```


!! Wifi troublshooting: 

Comment whole line in config.txt in order to connect keyboard/ethernet adapter (gadgets won’t be available while commented 

#dtoverlay=dwc2 

Login locally (or SSH over Ethernet) as user:root password:root 

Check adapters and connnectivity 

Ifconfig 

iwconfig 

If wlan0 present run wifi menu 

rw 

systemctl enable netctl-auto@wlan0.service 

wifi-menu –o 

Select desired network, give name to the profile and provide password. 

Several network profiles can be created (pikvm will connect one of the available networks 

Install tailscale to have permanent IP 

su root (password root)

rw

# pacman -Syy 

# pacman -S tailscale-pikvm 

# systemctl enable --now tailscaled.service

# tailscale up 

Follow the link to authorize this installation. 

After success, perform soft reboot using reboot command to make sure that everything will work correctly. 

Perform command ip addr show tailscale0 to view the Tailscale IP address. 

On the workstation side 

Download and install tailscale for your OS: https://tailscale.com/download 

Check the page https://login.tailscale.com/admin/machines to view your VPN network. 

Follow the URL in the web browser: https://&lt;tailscale_kvm_ip&gt; and you will see Pi-KVM web interface. 

!!! Enable the gadget mode by removing # in config.txt (dtoverlay=dwc2 line) 

Sources: 

https://github.com/pikvm/pikvm/blob/master/pages/wifi_config.md 

https://github.com/pikvm/pikvm/issues/194 

https://github.com/pikvm/pikvm/blob/master/pages/tailscale.md 

 

Disable ATX in web GUI: 

Add to /etc/kvmd/override.yaml 

kvmd: 

    atx: 

        type: disabled 

 

Enable VNC (use BVNC client for android): 

Switch file system to read/write:


```
rw
```


Uncomment in /etc/kvmd/override.yaml  


```
vnc: 
    auth: 
        vncauth: 
            enabled: true 
```


To set passphrases edit file /etc/kvmd/vncpasswd. 

Enable kvmd-vnc daemon. VNC will be available on the port 5900:  


```
systemctl enable --now kvmd-vnc
```

Switch filesystem back to readonly:


```
ro
```


Configuring the client 

We recommend TigerVNC for a better experience on desktop. Here are our recommended settings for TigerVNC: 

 Compression tab: 

Choose Tight encoding as preferred and color-level Full. 

Disable automatic quality adjust settings Auto Select. 

Enable Allow JPEG compression. 

Security tab: 

Enable None, X.509 TLS and Anonymous TLS encryption (or choose one preferred mode). 

Enable Username and password authentication. 

!! Create writable USB


```
ssh root@pikvm
```

Check available space 


```
df -h
```

Remount image partitition for write


```
kvmd-helper-otgmsd-remount rw
```


Create 16GB bin image:


```
dd if=/dev/zero of=/var/lib/kvmd/msd/images/usb.bin bs=1M count=16000 status=progress
```

Mark image as valid for pikvm


```
touch /var/lib/kvmd/msd/meta/usb.bin.complete
```

Fix permissions


```
chown kvmd:kvmd /var/lib/kvmd/msd/images/*
```



```
chown kvmd:kvmd /var/lib/kvmd/msd/meta/*

```

Mount USB image


```
kvmd-otgmsd -i 0 --set-rw=1 --set-cdrom=0 --set-image=/var/lib/kvmd/msd/images/usb.bin
```


Reboot host computer

!! Optional (not working)

Mount in web GUI as flash (read only cdrom)

After finished with USB make read only (ventoy etc)

kvmd-helper-otgmsd-remount ro

!! Upload images directly to microSD card: 

Mount third partition of the microSD card (the largest one). 

ISO: Copy iso image to images directory and create an empty file in meta directory with the same name and extension with .complete at the end (use sudo to copy and touch ...complete) 

Mass storage: Create .bin image in images with dd and .complete in meta  

Check available space: df –h (let’s assume 40GB are available) 

Create .bin file sized 40GB in the images directory: 

sudo dd if=/dev/zero of=image_dir/filename.bin bs=1M count=40000 status=progress 

sudo touch meta_dir/filename.bin.complete  

Insert microSD into pikvm, boot, choose image.bin as flash disk and then install ventoy on the bin file from the host computer  (ventoy download: https://github.com/ventoy/Ventoy/releases extract with tar xvzf), quick format ventoy exfat partition to NTFS (in order to boot from VHD files) 

Possibly permissions need to fixed on pikvm itself: 

 kvmd-helper-otgmsd-remount rw 

chown kvmd:kvmd /var/lib/kvmd/msd/images/* 

chown kvmd:kvmd /var/lib/kvmd/msd/meta/* 

kvmd-helper-otgmsd-remount ro 

 

Mass storage manual commands for rw flash in case of issues (-i 0 for web gui device): 

kvmd-helper-otgmsd-remount rw 

kvmd-otgmsd -i 0 --set-rw=1 --set-cdrom=0 --set-image=/var/lib/kvmd/msd/images/ventoy.bin 

kvmd-otgmsd -i 0 --unlock --eject 

Host might be needed to be rebooted when changing media types from CDROM to Hard Drive 

Also “kvmd-helper-otgmsd-remount rw” should be switched to ro and back to rw 

See in windows disk manager on the host computer that the type is disk and it’s not read only 

Web interface for flash only connects .bin as CDROM 

How to enable extra drives: 

 Switch the root filesystem to rw mode. 

Edit /etc/kvmd/override.yaml (remove {} if this your first configuration entry) and add these lines: 

otg: 

    devices: 

        drives: 

            enabled: true  # Set it to true to enable 

            count: 1  # +1 drive, default value 

            default:  # Default configuration for the all extra drives 

                cdrom: false  # Default value (false for the generic flash drive) 

                rw: false # Read-only by default 

 

If you specify count: N, you will create N additional drives configured the same way, as described in the default section. 

Reboot. 

Source: https://github.com/pikvm/pikvm/blob/master/pages/cookbook.md#create-a-microsoft-windows-based-flash-disk-image 

 

 

 

Login over ssh(default password root): 

sh root@pikvm 

Add user: 

sudo useradd -m sharicov 

Allow wheel group: 

nano /etc/sudoers 

Uncomment  

%wheel ALL=(ALL) ALL 

Add user to wheel group 

usermod --append --groups wheel sharicov 

 

Mass storage gadget (only manual way works): 

https://github.com/pikvm/pikvm/blob/master/pages/cookbook.md#create-a-microsoft-windows-based-flash-disk-image 

https://github.com/pikvm/pikvm/blob/master/pages/cookbook.md#mass-storage-drives 

 

Experimental extrase (partially working) 

Mass Storage Drives 

Specifically to v2. Unless explicitly disabled by default, Pi-KVM creates only one drive for Mass Storage emulation. However, you can create additional drives and manage them manually via the terminal. This is useful if you want to boot the server from a ISO CD (specified in the web interface), then connect a virtual flash drive to the server and download some files from to Pi-KVM from it. 

❗ The presence of an additional Mass Storage device should not interfere with the boot, but for reasons of compatibility paranoia, this is disabled by default. We recommend setting up the drives in advance, making sure that booting from the ISO CD is still working, and then using the drives as needed. 

How to enable extra drives: 

Switch the root filesystem to rw mode. 

Edit /etc/kvmd/override.yaml (remove {} if this your first configuration entry) and add these lines: 

otg: 

    devices: 

        drives: 

            enabled: true  # Set it to true to enable 

            count: 1  # +1 drive, default value 

            default:  # Default configuration for the all extra drives 

                cdrom: false  # Default value (false for the generic flash drive) 

                rw: false # Read-only by default 

If you specify count: N, you will create N additional drives configured the same way, as described in the default section. 

Reboot. 

How to create RW flash drive: 

Switch the root filesystem to rw mode:# rw 

Create the empty image file of the desire size (1Gb in this example).# dd if=/dev/zero of= /var/lib/kvmd/msd/images/flash.img bs=1024 count=8 

# chown kvmd:kvmd /var/lib/kvmd/msd/images/flash.img# touch /var/lib/kvmd/msd/meta/windows10-2004.bin.complete 

Connect it to the drive 1: 

# kvmd-otgmsd -i 1 --set-rw=1 --set-cdrom=0 --set-image= /var/lib/kvmd/msd/images/flash.img 

After that you will have access to the flash drive from the server. 
❗ Drive 0 represents a drive that is controlled via a web interface and API. Don't use it with kvmd-otgmsd if you don't know exactly what you're doing. 

View the driver state: 

# kvmd-otgmsd -i 1Image file: /var/lib/kvmd/msd/images/flash.img CD-ROM flag: noRW flag:     yes 

To disable the flash drive and view the files on it from the KVM, run: 

# kvmd-otgmsd -i 1 --unlock --eject 

❗ This command will interrupt the current IO operation on ALL DRIVES including the one that is managed via the web interface. The same result is achieved by clicking the disable media button in the web interface. Right now, the Linux kernel does not allow to distinguish between internal threads that manage different drives. It is recommended to eject the media when you know that this will not cause problems for the other media. 

Don't forget to remount the root filesystem to read-only mode:# ro 

You can download the resulting image via SCP or mount it as a loop device on the Pi-KVM. 

 

 

Bluetooth setup( https://github.com/pikvm/pikvm/blob/b489f9741246c04c14edc33f444d919480ff2429/pages/bluetooth_hid.md ): 

Bluetooth HID (pikvm emulates BT keyboard) 

Pi-KVM is able to emulate a Bluetooth keyboard &amp; mouse. This is not the main case of using Pi-KVM since you still need it to pair with a remote host, but can be used for something like mobile KVM. 

❗ Using Bluetooth HID requires additional configuration of the operating system. For v2, this means losing the UART port, since it will be used by Bluetooth. Also, Bluetooth operation was tested only on RPi4 and v2 platform. Other boards may require different system service settings. 

❗ Bluetooth mouse can work only in relative mode. The reason is that many Bluetooth host drivers do not correctly implement HID descriptors. Horizontal scrolling is not supported for the same reason. 

Configuring the OS 

Switch filesystem to RW-mode, perform update and install some packages:h 

# rw# pacman -Syu# pacman -S bluez bluez-utils raspberrypi-bluetoot 

Edit /boot/config.txt and comment these lines: 

#enable_uart=1#dtoverlay=disable-bt 

 

Create an empty directory /var/lib/bluetooth and add mountpoint to /etc/fstab: 

# mkdir /var/lib/bluetooth# echo 'tmpfs /var/lib/bluetooth tmpfs nodev,nosuid,mode=0755 0 0' &gt;&gt; /etc/fstab 

 

Override and enable the services: 

# mkdir /etc/systemd/system/bluetooth.service.d# cat &lt;&lt; EOF &gt; /etc/systemd/system/bluetooth.service.d/override.conf[Service]ExecStart=ExecStart=/usr/lib/bluetooth/bluetoothd --noplugin=*EOF 

# systemctl enable bluetooth# systemctl enable raspberrypi-btuart 

 

Override kvmd service: 

# mkdir /etc/systemd/system/kvmd.service.d# cat &lt;&lt; EOF &gt; /etc/systemd/system/kvmd.service.d/override.conf[Service]AmbientCapabilities=CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_ADMIN CAP_SETUID CAP_SETGID CAP_CHOWNCapabilityBoundingSet=CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_ADMIN CAP_SETUID CAP_SETGID CAP_CHOWNEOF 

Add following lines to /etc/kvmd/override.yaml: 

kvmd:    hid:        type: bt 

 

Perform reboot: 

reboot 

Using Bluetooth HID (pikvm pretending to be a Bluetooth keyboard and mouse) 

After a reboot, the Pi-KVM will be ready for detection and pairing with no auth. You will see the Pi-KVM HID device. 

Once the server is connected, Pi-KVM will no longer be discoverable and pairable to other clients until you unpair the server. 

If something went wrong, use the web menu System -&gt; Reset keyboard &amp; mouse. This will cause unpair the device and switch the Pi-KVM to public mode before the first client is connected. 

 

 

 

 

 

 

 

 

 

 

==================== 

NOT yet WORKING: https://www.tech-knowhow.com/2016/06/raspberry-pi-3-bluetooth-arch-linux/ 

Install bluetooth stack(https://archlinuxarm.org/forum/viewtopic.php?f=65&amp;t=11413): 

pacman -S bluez-utils bluez bluez-utils-compat 

Make buetooth rasberry package: 

 

Start bluetooth: 

modprobe btusb 

systemctl start bluetooth 

Enter bluetooth console: 

bluetoothctl 

 

Arch mirrors (official list):https://archlinux.org/mirrorlist/all/

To change: 

```
nano /etc/pacman.d/mirrorlist
```
</pre>
</div>
<div tags="" title="pikvm mass storage v1">
<pre>```
su -

kvmd-helper-otgmsd-remount rw


cd /var/lib/kvmd/msd/

dd if=/dev/zero of=/var/lib/kvmd/msd/ventoy.img bs=100M count=190 status=progress

chown kvmd:kvmd /var/lib/kvmd/msd/ventoy.img

wget https://yer.dl.sourceforge.net/project/ventoy/v1.0.97/ventoy-1.0.97-linux.tar.gz


tar zxvf ventoy-1.0.97-linux.tar.gz

losetup -f ventoy.img

losetup -l | grep ventoy (To locate which loop device was used)

sh ventoy-1.0.97/Ventoy2Disk.sh -i /dev/loopXX (This will make a loopXXp1 and a loopXXp2 and will format both partitions

cd /media/XXX (Usually your login)

mkdir ventoy

sudo mount /dev/loopXXp1 /media/XXX/ventoy
```

</pre>
</div>
<div tags="" title="pikvm mount image as writable flash v4">
<pre>Use ''USBTree ''to restart USB port with Pikvm (make sure Pikvm has additional power connected not to reboot it)

USBTree download link: https://www.uwe-sieber.de/usbtreeview_e.html#download

!!Old
''Note:'' Pikvm web GUI option doesn't let to mount writable image 

Enter as root (only needed from web terminal)


```
su -
```

Mount oikvm partition with images as writable


```
kvmd-helper-otgmsd-remount rw
```

Mount ventoy.img image as writable flash drive 


```
kvmd-otgmsd -i 0 --set-rw=1 --set-cdrom=0 --set-image=/var/lib/kvmd/msd/ventoy.img
```

See image status (rw/ro flash/cdrom)

```
kvmd-otgmsd -i 0
```

Eject image from PC

```
kvmd-otgmsd -i 0 --unlock --eject
```

''Note'': Drive letter needs to be assigned in windows disk manager in order to operate

Source: https://docs.pikvm.org/msd/#multiple-drives

!!Mount image on start

Add to /etc/kvmd/override.yaml


```
kvmd:
    msd:
        initial:
            image: os-image.iso
            cdrom: true
```

''Note'': image name ''without path''

Source:

https://github.com/pikvm/pikvm/issues/208

!!Troubleshooting 

Fix pernissions

Make sure all isos and images permission are set to ''kvmd''

```
chown kvmd:kvmd /var/lib/kvmd/msd/images/*
chown kvmd:kvmd /var/lib/kvmd/msd/meta/*
```

</pre>
</div>
<div tags="" title="pikvm networking ethernet gadget v5">
<pre>Source: https://docs.pikvm.org/usb_ethernet/#basic-configuration

!Ethernet-over-USB network
!!Basic configuration
Specifically to V2+. When combined with configuring a DNS server, FTP, or SMB (for example), this is a powerful way to extend the capabilities of PiKVM.

''USB limitations''

 By default, you can add only one additional device to choose from, such as USB Ethernet, or USB Serial, or an extra Mass Storage Drive.

There is a hardware limit on the number of devices that can be emulated at the same time. Each USB device uses so-called endpoints to communicate with the host. Depending on the type, the device consumes a different number of endpoints, while their total number is limited by the capabilities of the chip, for Raspberry Pi it is 8.

It is quite difficult to calculate the number of endpoints used, but in the case of PiKVM, you can focus on the following numbers:

|myclass anotherClass|k
|Devices table |c
|Keyboard, mouse|1 for each |
|Mass Storage Drive|2 for each|
|USB Ethernet, USB Serial|3 for each|
|Device|Endpoints|h


	
V2 and V3 emulates one mouse by default, V4 emulates two mouses. Thus, V2 and V3 use 4 endpoints, and V4 uses 5 by default.

Creating an axtra Mass Storage Drive consumes additional endpoints, as well as USB Serial and USB Ethernet, so only a limited number of devices can be selected for the final configuration, for example, one USB Ethernet.

If you need something more non-standard, you can disable the regular Mass Storage Drive and the additional mouse (on V4) to free up some extra endpoints.

The kvmd-otg service is responsible for setting up USB emulation. If the endpoint limit is exceeded, the service will not be able to start and no emulated USB device will work.

In the log it looks something like this:


```
# journalctl -u kvmd-otg
```


```
kvmd-otg[382]: kvmd.apps.otg                     INFO --- ===== Preparing complete =====
kvmd-otg[382]: kvmd.apps.otg                     INFO --- Enabling the gadget ...
kvmd-otg[382]: kvmd.apps.otg                     INFO --- WRITE --- /sys/kernel/config/usb_gadget/kvmd/UDC
kvmd-otg[382]: OSError: [Errno 524] Unknown error 524
kvmd-otg[382]: During handling of the above exception, another exception occurred:
kvmd-otg[382]: Traceback (most recent call last):
kvmd-otg[382]:   File "/usr/bin/kvmd-otg", line 9, in &lt;module&gt;
kvmd-otg[382]:     main()
kvmd-otg[382]:   File "/usr/lib/python3.10/site-packages/kvmd/apps/otg/__init__.py", line 348, in main
kvmd-otg[382]:     options.cmd(config)
kvmd-otg[382]:   File "/usr/lib/python3.10/site-packages/kvmd/apps/otg/__init__.py", line 278, in _cmd_start
kvmd-otg[382]:     _write(join(gadget_path, "UDC"), udc)
kvmd-otg[382]:   File "/usr/lib/python3.10/site-packages/kvmd/apps/otg/__init__.py", line 83, in _write
kvmd-otg[382]:     with open(path, "w") as file:
kvmd-otg[382]: OSError: [Errno 524] Unknown error 524
systemd[1]: kvmd-otg.service: Main process exited, code=exited, status=1/FAILURE
systemd[1]: kvmd-otg.service: Failed with result 'exit-code'.
systemd[1]: Failed to start PiKVM - OTG setup.
```

In this case, you need to disable some of the previously enabled devices and restart PiKVM.

Edit'' /etc/kvmd/override.yaml'' and add these lines:


```
otg:
    devices:
        ethernet:
            enabled: true
            driver: ecm
            host_mac: 48:6f:73:74:50:43
            kvm_mac: 42:61:64:55:53:42
```

The host_mac address will be used on the server's network interface. The kvm_mac means the address that will be assigned to the local interface on the PiKVM. The KVM interface will be called usb0network interface. If the host_mac or kvm_mac is not specified, a random value will be used. The driver parameter means the protocol that will be used for the USB network. The default value is ecm so it can be passed it this example. Other possible values are eem, ncm, rndis and rndis5.

!!Driver compatibility:

Driver	Operating System

|ecm|	Linux macOS|
|eem|	Linux|
|rndis5|	Windows XP to Windows 71 Linux &gt; 2.6.13|
|rndis	|Windows 7 and later2 Linux &gt; 2.6.13|
|ncm	|Windows 10 and later Linux &gt; 2.6.37 macOS|

1: Manual driver installation is required. Download RNDIS 5 Windows
2: Automatic driver installation since kvmd-3.53

To automatically configure the USB network on the server recommended using the service kvmd-otgnet. It configures the firewall, assigns an address to the local PiKVM interface usb0 and starts DHCP so the managed server can get the IPv4 address. By default, the address ''172.30.30.0/24'' to interface'' usb0'' will be assigned. One of the other addresses from the network ''172.30.30.0/24'' will be assigned to the server when it requests it via DHCP. For security reasons, all incoming connections from the server to the PiKVM side are blocked (except for ICMP and UDP port 67 which is used for DHCP). If you want to allow access from the server to the PiKVM interface, then you need to add ports 80 and 443 to the whitelist using ''/etc/kvmd/override.yaml'' file like this:


```
otgnet:
    firewall:
        allow_tcp: [80, 443, 22]
```

To view other available configuration parameters, use the command kvmd -m.

To enable the service, use the command

```
 systemctl enable kvmd-otgnet
```

Restart ssh server service

```
systemctl restart sshd
```


Perform ''reboot''.

!Routing via PiKVM
By default, kvmd-otgnet will configure network connection between PiKVM and the server host only. The server host will not be able to reach other hosts beyond PiKVM. If the full network access is required from the server host through the USB-Ethernet feature (access all hosts PiKVM can access), additional settings are needed in ''/etc/kvmd/override.yaml''.

Run 

```
echo "net.ipv4.ip_forward = 1" &gt; /etc/sysctl.d/99-kvmd-extra.conf.
```


Add network interface to forward requests to (default gateway) by adding a line ''forward_iface: interface name'' under firewall:. Typically it would be ''eth0 ''if the built-in ethernet port is used:



```
otgnet:
    firewall:
        forward_iface: eth0
```





Add DNS server to provide host name resolution service. For example, adding 8.8.8.8 as DNS server requires addition of dnsmasq dhcp options. This can be done by adding following lines to /etc/kvmd/override.yaml:


```
otgnet:
    commands:
        post_start_cmd_append:
        - "--dhcp-option=6,8.8.8.8"
```

Combining above two together::


```
otgnet:
    firewall:
        forward_iface: eth0
    commands:
        post_start_cmd_append:
        - "--dhcp-option=6,8.8.8.8"
```

5. To enable internet access for the server host, add the following to the otgnet configuration::

```
 otgnet:
    iface:
        net: 10.65.0.0/28
```

The 'net' parameter defines the network address range of the ''usb0 ''network. The server host will automatically receive an IP address within this network including the DNS servers defined under 'post_start_cmd_append'. Note: This network should not be same as the network PiKVM is connected to.
Don't forget to reboot.

An example of what the config would look like for a server host that can access PiKVM and has internet access:

```
otgnet:
    firewall:
        allow_tcp: [80, 443]
        forward_iface: wlan0
    commands:
        post_start_cmd_append:
            - "--dhcp-option=6,1.1.1.1,1.0.0.1"
    iface:
        ip_cmd:
            - /usr/bin/ip
        net: 10.65.0.0/28
```

!!To autostart network on boot

Make system writable

```
rw
```

Create new service

```
nano /etc/systemd/system/autoexec.service
```

Add

```
[Service]

Type=exec

ExecStart=/etc/autoexec.sh

User=root

Group=root

[Unit]

Requires=kvmd-otg.service

After=kvmd-otg.service

[Install]

WantedBy=multi-user.target
```

Create autoexec.sh

```
nano /etc/autoexec.sh
```

Add

```
#!/bin/bash
systemctl enable kvmd-otgnet
```

Make script bootable

```
chmod a+x /etc/autoexec.sh
```

Start service

```
systemctl enable autoexec
```

Make system read only

```
ro
```</pre>
</div>
<div tags="" title="Pikvm raspberry pi zero 2w manual v1">
<pre>!!Default user password

SSH:'' root root''

web-kvm:'' admin admin''

!!Flash rom documentation: 
https://docs.pikvm.org/flashing_os/

Download image: https://files.pikvm.org/images/v2-hdmi-zero2w-latest.img.xz

Download flash utility (RPI Imager for windows: https://github.com/raspberrypi/rpi-imager/releases

Run RPI Imager, enter setting and make sure it's all blank by pressing ''CTRL+SHIFT+X''

''Device: Filter off / Operating system: Use custom / Storage : Change the correct device for microSD reader''

''Next / No for customization''

!!Wifi settings and initialization documentation: 
https://docs.pikvm.org/on_boot_config/

In windows disk manager add letter to first FAT storage partition (256 MB) 

OR

Physically eject microSD card and insert it again / mount first FAT storage partition (256 MB) 

Edit or create pikvm.txt file

it should content the following (set wifi SSD and passwords as required):

''NOTE'': SSID and Password are both ''CASE SENSITIVE''!!!

```

FIRST_BOOT=1

WIFI_ESSID='mynet'
WIFI_PASSWD='p@s$$w0rd'
```


''Note'': on zero 2 W only 2.4GHz are supported (no 5GHz), DHCI is set by defaul

If mounted with adding letter in disk manager, than remove letter from the partition in the disk manager before ejecting physically

Eject / insert into Raspberry Pi and boot it


!!First power on: 
https://docs.pikvm.org/first_steps/#getting-access-to-pikvm

Find the IP from the router connected devices.

To determine the IP address of your PiKVM, use one of the following methods:


```
Common way: Open the web interface of your router and find the list of issued IP addresses there.
Linux-only: Use command arp-scan --localnet.
Linux, MacOS, Windows: Download and run Angry IP Scanner.
Windows PowerShell: Use command arp -a.
In order to find PiKVM using the ARP commands, you need to look for the following MACs: B8:27:EB, DC:A6:32 or E4:5F:01.
```


When connecting Pi USB data port (not USB power port) to PC, in USB Device Tree Viewer should show PiKVM device connected to USB port

''Note'': it takes several minutes for the pikvm to initialize for the first time

!!Initial update:

access web-kvm via https://pikvm using admin admin / choose terminal option


```
su root

# initial root password is root

pikvm-update
```


System will reboot upon finalizing the update /access https://pikvm to reconnect after several minutes

!!Change passwords


```
[root@pikvm ~]# rw
[root@pikvm ~]# passwd root
[root@pikvm ~]# kvmd-htpasswd set admin
[root@pikvm ~]# ro
```


''Bonus'': KVM configuration for multi-PC control: https://docs.pikvm.org/xh_hk4401/</pre>
</div>
<div tags="" title="pikvm restart pikvm os without reboot">
<pre>```
systemctl restart kvmd
```
</pre>
</div>
<div tags="" title="pikvm start on boot v3">
<pre>Make system writable


```
rw
```

!!Example 1

Create the following file: /etc/systemd/system/autoexec.service

with following contents: (if you have nano installed, you can use 

```
nano /etc/systemd/system/autoexec.service 
```



```
[Service]

Type=exec

ExecStart=/etc/autoexec.sh

User=root

Group=root

[Unit]

Requires=kvmd-otg.service

After=kvmd-otg.service

[Install]

WantedBy=multi-user.target
```


You can of course add other required services instead of kvmd-otg.service

And then create the autoexec.sh file in'' /etc ''with following contents:


```
#!/bin/bash

echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.conf

echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.conf

sudo sysctl -p /etc/sysctl.conf
```


Or whatever you want to run.

change the permissions for ''/etc/autoexec.sh ''to be executable 

```
chmod a+x /etc/autoexec.sh
```


and then enable your service


```
systemctl enable autoexec
```


And you're done! Hope this helps.

Source: https://www.reddit.com/r/pikvm/comments/vf3zaq/how_to_automatically_run_commands_at_startup/

!!Example 2

I’ve had an issue where I wasn’t sure if my dynamic DNS provider registered properly. I then realized that I have a piKVM attached to one of my servers that boots on powerup, even if the server does not. I could utilize this piKVM to help me out.

Thanks to inspiration from Chris Dzombak I was able to whip up a little script that runs on startup. This script waits 5 minutes to allow for my firewall and modem to boot up, then sends a pushover notification to let me know the piKVM is online and what its external IP address is.

To get it working on the piKVM I had to enter into RW mode, write and save the script, add execute permissions to the script, then configure a systemd service to run the script at startup.

Here is the script, saved under /root/boot-pushover.sh


```
#!/usr/bin/env bash
set -eu



#Wait 5 minutes to allow router bootup
sleep 300

TOKEN="PUSHOVER_APPLICATION_TOKEN"
USER="PUSHOVER_USER_TOKEN"
EXTERNAL_IP="$(curl ifconfig.me)"
MESSAGE="$(hostname) is online. External IP: $EXTERNAL_IP"

#Send pushover command to alert it's up and send its external IP
curl -s \
  --form-string "token=$TOKEN" \
  --form-string "user=$USER" \
  --form-string "message=$MESSAGE" \
  https://api.pushover.net/1/messages.json
Set executable: chmod +x /root/boot-pushover.sh

Here is the systemd service, saved under /etc/systemd/system/boot-pushover-notification.service

[Service]
Type=oneshot
ExecStart=/root/boot-pushover.sh
RemainAfterExit=yes
User=root
Group=root
RestartSec=15
Restart=on-failure

[Unit]
Wants=network.target
After=network.target nss-lookup.target

[Install]
WantedBy=multi-user.target
```

Reload daemons &amp; enable startup:


```
systemctl daemon-reload
systemctl enable boot-pushover-notification.service
```

Test by exiting rw mode and rebooting the piKVM:


```
ro
reboot
```

It works really well!

Source: https://techblog.jeppson.org/2022/03/pikvm-pushover-startup-script/</pre>
</div>
<div tags="" title="pikvm tailscale">
<pre>https://docs.pikvm.org/tailscale/#configuring-the-pikvm

Configuring the PiKVM¶
Update OS:

Updating PiKVM OS
To update, run following commands under the root user:

[root@pikvm ~]# pikvm-update
If you encounter an error like:

[root@pikvm ~]# pikvm-update
bash: pikvm-update: command not found
It's most likely you have an old OS release. You can update the OS as follows:

[root@pikvm ~]# curl https://files.pikvm.org/update-os.sh | bash
Next time you will be able to use the usual method with pikvm-update.

Install the Tailscale client, run tailscaled service and register it in the network:

[root@pikvm ~]# rw
[root@pikvm ~]# pacman -S tailscale-pikvm
[root@pikvm ~]# systemctl enable --now tailscaled
[root@pikvm ~]# tailscale up
Follow the link to authorize this installation. You likely want to disable key expiry!

After authorization success, reboot to make sure that everything works correctly:

[root@pikvm ~]# reboot
Now, you can view the IP address of the Tailscale network interface:

[root@pikvm ~]# ip addr show tailscale0
If everything is successful, PiKVM will become a member of your VPN network.

Do not update Tailscale if you don't have access to PiKVM without VPN

Unfortunately, sometimes, updating the Tailscale client can cause problems due to breaking changes. These are compatibility issues on the Tailscale side. Remember this when updating.</pre>
</div>
<div tags="" title="pikvm USB CD switch without reboot windows">
<pre>In pikvm web gui select ''Drive/Image/Flash/RW/Connect''

Use USB Tree Viewer as administrator

Select ''"The Linux Foundation PiKVM Composite KVM Device - G:\, Keyboard, Mouse"''

''Right click'' it and press ''Restart device''

Then in the In pikvm web gui select ''Drive/Image/Flash/RW/Connect''

Then ventoy can be installed for PC, or just use pikvm as regular USB drive</pre>
</div>
<div tags="" title="PiKVM with KVM switch - remote switch">
<pre>https://www.reddit.com/r/pikvm/comments/11thuuu/cheap_kvm_switch_confirmed_working_with_pikvm/

Cheap KVM Switch confirmed working with piKVM
I wanted a cheap way to be able to control two servers with a single piKVM but rather than pull the trigger on the $125+ ezCoo KVM switch that is confirmed working with piKVM, I decided to try a cheaper option first. This $25 generic HDMI KVM switch works great for me so far. I got mine for $18 used.

https://www.amazon.com/dp/B092Q42VPS

There is also a 4 system unit that has 4 separate buttons, which would actually work even better since you could probably assign each of the 4 wires to a specific gpio pin so you can deterministically switch to a specific device.

https://www.amazon.com/dp/B092PWBV1D

The reason I chose it is that it has a little plug in remote wire "key" as a way to switch sources, in addition to the button on top.

The remote key is a micro-usb connector. It simply shorts the D+ and G of a standard usb cable. So I took an old cable and stripped out the two wires and connected them into my atx controller in place of the reset button.

So now, to switch sources, I just press the reset button and it switches without issue. You can also create custom gpio menus for this, but I just went with a quick option for now.

Hope this helps out someone else.</pre>
</div>
<div created="20210504080045062" modified="20210504080647011" tags="manual" title="Piwigo google photos replacement">
<pre>Yunohost installation (not fully working)

In yunohost add app piwigo

To administrate piwigo enter:

https://YourIP/piwigo/admin.php

lxc passthrough directory (container `ynh`, device `InstantUpload`):

```
lxc config device add ynh InstantUpload disk source=/media/usb1/InstantUpload/ path=/InstantUpload

chmod -R 777 /media/usb1/InstantUpload
```

To show all devices of `ynh` container:

```
lxc config device show ynh
```

To delete `InstantUpload` device:

```
lxc config device rm ynh InstantUpload
```
</pre>
</div>
<div tags="" title="Play ps2 games in web browser online">
<pre>https://playjs.purei.org/</pre>
</div>
<div tags="" title="PLoP boot manager VMWare boot from USB">
<pre>Iso to boot from USB on unsupported PCs and VMWare

Download: https://www.plop.at/en/bootmanager/download.html</pre>
</div>
<div tags="" title="podman commands">
<pre>See running processes


```
podman ps -a
```

Remove container


```
podman rename &lt;container name&gt;
```

Example


```
podman rm -f ubuntu22
```

fixing error

error creating container starage the container name ubuntu22 is already in use by you have to remove that container to be able to reuse that name that name is already in use</pre>
</div>
<div tags="" title="Port scanning">
<pre>!!Angry scanner - IP scanner: 

https://sourceforge.net/projects/ipscan/

!!Most scanned ports: 


```
20;21-23,25,53,80,110-111,135,139,143,443,445,993,995,1723,3306,3389,5900,8080
```

!!Nmap scanner

https://nmap.org/download.html#windows

!!Nmap scanner manual

https://nmap.org/book/zenmap-results.html

!!More info on ports: 
https://securitytrails.com/blog/top-scanned-ports

Targets:

https://iknowwhatyoudownload.com/</pre>
</div>
<div tags="" title="Portable VirtualBox and other portable apps">
<pre>https://www.fcportables.com/</pre>
</div>
<div tags="" title="portainer r4s immortalwrt v2">
<pre>Droppy (port 8989): silverwind/droppy:latest

Jjirafeau(port 80) : mtrelins/jirafeau:latest

Filestash (sshfs to web port 8334): gprst/filestash:latest

FreshRSS: linuxserver/freshrss:latest

Netdata (system monitoring with web 
interface): netdata/netdata</pre>
</div>
<div tags="" title="Porteus kiosk changelog v8">
<pre>!!shellinabox web terminal:

usage:

http://127.0.0.1:4200



!!rclone - mount/manipulate cloud storages

usage (mount requires fuse): 


```
rclone config

rclone lsd yandex:/

rclone mount yandex:/ /media/yandex
```

!!ventoy 1.0.61 - multiboot USB

usage:


```
/usr/ventoy/VentoyWeb.sh
```

!!7zz - extracts all compressed formats

usage:

```
7zz x archive.ext
```

!!dpkg - unpack deb files to create xzm modules

usage:


```
dpkg -x package.deb folder
```
!! Tailscale VPN

usage:


```
tailscaled &amp;

tailscaled &amp;

tailscale up&amp;
```

Login using proposed in terminal link:

https://login.tailscale.com/...

See all connected computers:

https://login.tailscale.com/

!!squashfs - creates xzm module

usage:


```
mksquashfs squashfs-root module_name.xzm -comp xz -b 256K -Xbcj x86 -noappend

```
copy xzm module to xzm directory in the ISO


To extract existing module:

```
unsquashfs module_name.xzm
```

!!Aria2c - download manager

usage:

works with aria2 chrome extension

mcedit /root/aria2.conf

Add:


```
dir=/media                                                                                                                                                                                    
max-overall-upload-limit=100K                                                                                                                                                                 
disk-cache=200M                                                                                                                                                                                  
#file-allocation=trunc                                                                                                                                                                        
file-allocation=none                                                                                                                                                                        
seed-time=0                                                                                                                                                                                   
check-integrity=true                                                                                                                                                                          
realtime-chunk-checksum=true                                                                                                                                                                  
always-resume=true                                                                                                                                                                            
auto-file-renaming=false                                                                                                                                                                      
continue=true                                                                                                                                                                                 
remote-time=true                                                                                                                                                                              
#daemon                                                                                                                                                                                       
log=/media/aria2c.log                                                                                                                                                                         
log-level=error                                                                                                                                                                               
bt-exclude-tracker="*"
```


Start aria2c (autorun: mcedit squashfs-root/etc/xdg/openbox/autostart)


```
aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -D --conf-path=/root/aria2.conf 
```

!! Gparted - partition manager

usage:


```
gparted
```


!Chrome extensions:

setting file: 
''/etc/opt/chrome/policies/managed/chrome.json
''

!!Chrome airng extension:

```
mcedit /etc/opt/chrome/policies/managed/chrome.json
```

add:


```
"ExtensionInstallWhitelist": [ "mpkodccbngfoacfalldjimigbofkhgjn", ...
```

install extension from here:

https://chrome.google.com/webstore/detail/aria2-for-chrome/mpkodccbngfoacfalldjimigbofkhgjn/related?hl=en

setup in airang extension settings window in browser


!!Office editing chrome extension (google):
add:


```
mcedit /etc/opt/chrome/policies/managed/chrome.json
```

Add:

```
"ExtensionInstallWhitelist": [ "gbkeegbaiigmenfmjfclcdgdpimamgkj", ...
```


Manual installation of the extension  here:

https://chrome.google.com/webstore/detail/office-editing-for-docs-s/gbkeegbaiigmenfmjfclcdgdpimamgkj?hl=en&amp;utm_source=pocket_mylist

!!Google input tools (multi language)
add:


```
"ExtensionInstallWhitelist": [ "mclkkofklkfljcocdinagocijmpgbhab", ...
```

https://chrome.google.com/webstore/detail/google-input-tools/mclkkofklkfljcocdinagocijmpgbhab/related

!!Auto install extensions on boot:


```
"ExtensionInstallForcelist": [ "mclkkofklkfljcocdinagocijmpgbhab", "mpkodccbngfoacfalldjimigbofkhgjn", "gbkeegbaiigmenfmjfclcdgdpimamgkj"], 
```




!!Chrome permissions and settings:


```
"URLWhitelist": [ "chrome://settings",
"DownloadDirectory": "/media",
"HomepageLocation": "https://google.com",                                                                                                                                                     
"RestoreOnStartupURLs": [ "https://google.com", ], 

```

!Iso mastering

usage:

reinject USB drive

mkdir /mnt/cdrom

mkdir /tmp/kiosk_ISO

mount -o loop XXX.iso /mnt/cdrom

cp -a /mnt/cdrom/* /tmp/kiosk_ISO

umount /mnt/cdrom

Copy xzm modules into /tmp/kiosk_ISO/xzm directory

cp XXXX.xzm /tmp/kiosk_ISO/xzm

cd /tmp/kiosk_ISO

bash make_iso.sh

cp /tmp/PorteusKiosk.iso /media

!Useful terminal commands:

!!Brightness (intel GPU):



```
echo 2000 &gt; /sys/class/backlight/intel_backlight/brightness
```

!!Manual wifi connect

Note: make sure to enable wifi in first wizard when creating the ISO


```
iwconfig

iwlist wlan0 scanning |grep ESSID

wpa_passphrase NetworkESSID P@SSWORD &gt; wpa_supplicant.conf

wpa_supplicant -iwlan0 -c wpa_supplicant.conf
```


Note: -i without space after it!!!

If not connected:


```
ifconfig wlan0 down

ifconfig wlan0 up
```

!!Battery status in percentage:


```
cat /sys/class/power_supply/BAT0/capacity
```

</pre>
</div>
<div tags="" title="Porteus kiosk changelog v9">
<pre>anydesk remote desktop management

usage:


```
su guest

anydesk
```


Note: if crashes, run again</pre>
</div>
<div tags="" title="Porteus kiosk chrome extensions v3">
<pre>!!aria2ng

/root/aria2.conf

Add:


```
dir=/media                                                                                                                                                                                    
max-overall-upload-limit=100K                                                                                                                                                                 
disk-cache=200M                                                                                                                                                                                  
#file-allocation=trunc                                                                                                                                                                        
file-allocation=none                                                                                                                                                                        
seed-time=0                                                                                                                                                                                   
check-integrity=true                                                                                                                                                                          
realtime-chunk-checksum=true                                                                                                                                                                  
always-resume=true                                                                                                                                                                            
auto-file-renaming=false                                                                                                                                                                      
continue=true                                                                                                                                                                                 
remote-time=true                                                                                                                                                                              
#daemon                                                                                                                                                                                       
log=/media/aria2c.log                                                                                                                                                                         
log-level=error                                                                                                                                                                               
bt-exclude-tracker="*"
```


Start aria2c (autorun: mcedit squashfs-root/etc/xdg/openbox/autostart)


```
aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -D --conf-path=/root/aria2.conf 
```


!!Chrome airng extension:


```
mcedit /etc/opt/chrome/policies/managed/chrome.json
```


add:

```
"ExtensionInstallWhitelist": [ "mpkodccbngfoacfalldjimigbofkhgjn", ...
"URLWhitelist": [ "chrome://settings",
"DownloadDirectory": "/media",
"HomepageLocation": "https://google.com",                                                                                                                                                     
"RestoreOnStartupURLs": [ "https://google.com", ], 
```


install extension from here:

https://chrome.google.com/webstore/detail/aria2-for-chrome/mpkodccbngfoacfalldjimigbofkhgjn/related?hl=en

setup in airang extension settings window in browser

''Not working: 

copy to xzm squashfs-root/home/guest/.config/google-chrome/Default/Extensions/mpkodccbngfoacfalldjimigbofkhgjn/''


!!Office editing chrome extension (google):
add:

```
mcedit /etc/opt/chrome/policies/managed/chrome.json
```


```
"ExtensionInstallWhitelist": [ "gbkeegbaiigmenfmjfclcdgdpimamgkj", ...
```


install extension from here:

https://chrome.google.com/webstore/detail/office-editing-for-docs-s/gbkeegbaiigmenfmjfclcdgdpimamgkj?hl=en&amp;utm_source=pocket_mylist

!!Google input tools (multi language) 
add:


```
"ExtensionInstallWhitelist": [ "mclkkofklkfljcocdinagocijmpgbhab", ...
```


https://chrome.google.com/webstore/detail/google-input-tools/mclkkofklkfljcocdinagocijmpgbhab/related</pre>
</div>
<div tags="" title="porteus kiosk module mastering (tilda example)">
<pre>Connect to shellinabox

http://127.0.0.1:4200


```
mkdir master

cd master

wget ...

dpkg -x tilda...deb tilda

mkdir tilda/squashfs-root

mkdir -p tilda/squashfs-root/usr/bin

mkdir -p tilda/squashfs-root/usr/lib64

cp tilda/usr/bin/* tilda/squashfs-root/usr/bin/

cp tilda/usr/lib/x86_64-linux-gnu/* tilda/squashfs-root/usr/lib64/
```


Run tilda and configure with F1 - right-click configure, 

Set animated pooldown and trigger key Ctrl+tilda


```
mkdir - p tilda/squashfs-root/root/.config/tilda/

cp /root/.config/tilda/config_0 tilda/squashfs-root/root/.config/tilda/

cd tilda

mksquashfs squashfs-root tilda.xzm -comp xz -b 256K -Xbcj x86 -noappend

cd /media

mkdir /mnt/cdrom

mkdir /tmp/kiosk_ISO

mount -o loop XXX.iso /mnt/cdrom

cp -a /mnt/cdrom/* /tmp/kiosk_ISO

umount /mnt/cdrom

Copy xzm modules into /tmp/kiosk_ISO/xzm directory

cp XXXX.xzm /tmp/kiosk_ISO/xzm

cd /tmp/kiosk_ISO

bash make_iso.sh
```



To test locally before creating iso:


```
cp tilda/usr/bin/*  /usr/bin/

cp tilda/usr/lib/x86_64-linux-gnu/* /usr/lib64/
```


run: tilda

Note: if libs are missing search here:(bullseye - package contents - amd64): https://packages.debian.org/search?suite=bullseye&amp;section=all&amp;arch=any&amp;searchon=contents&amp;keywords=libconfuse.so.2</pre>
</div>
<div tags="" title="Porteus_Kiosk_remastering v8">
<pre>NOTE: use PowerISO to remaster in windows (UltraISO corrupts image)
NOTE2: In vmware run arp -a and search for 192.168.230.X to find the IP of the guest
NOTE3: libraries go to /usr/lib64 and binaries to /usr/bin
NOTE4: module must reside in squashfs-root directory before compressing

Manuals: https://porteus-kiosk.org/parameters.html#run_command

!Prequisites:

Boot from porteus kiosk iso (ventoy) 

Go through setup wizard 

Enable ssh, vnc, right-click, screen off, wifi, media show 

Save as ISO 

Re-insert USB to see it in target menu to save the ISO 

 

Boot from configured iso (ventoy) 

Connect to linux server running shellianbox and ssh back to the machine (find IP in router). 



!Squahfs create xzm module 

 

Enter source directory contains binaries extracted from deb: Debian -- Package Download Selection -- liblz4-1_1.9.3-2_amd64.deb 

Create squashfs-root directory and usr inside of it.

chmod 755 -R squashfs-root

Copy necessary libraries into local usr/lib64 directory and binaries to usr/bin directory

 
Run: 

mksquashfs squashfs-root local-settings.xzm -comp xz -b 256K -Xbcj x86 -noappend

chmod 0700 local-settings.xzm 

to see current permission in octal run:

stat local-settings.xzm 

Add to xzm directory of the iso. 

create iso using .sh script insode porteus kisk iso, or with poweriso

!Tailscale vpn standalone install 

 


Enter usb with tailscale files (extracted from tar.gz with 7zip) and libbpf.so.0.3.0 extracted from libbpf0 deb package (/usr/lib/x86.../) and renamed it to libbpf.so 

Enter /media/TAILSCALE_DIR/ 

Copy libbpf.so to /usr/lib/ 

Run: 

tailscaled&amp;

Run (in other window) 

tailscale up 

Click on login link 

Start using (ssh to the tailscale IP from outside) 

Troubleshoot: if tailscaled fails run again (/dev/tun error)

Packages download from here: Debian -- Package Search Results -- search (serach package contents) 

 

!Shellinabox 

No SSL run in background 

Shellinaboxd –t -b 

connect: http://127.0.0.1:4200


!Remaster ISO from within porteus-kiosk

copy configured ISO into running porteus environment (winsshfs can be used): https://github.com/billziss-gh/sshfs-win

mkdir /mnt/cdrom

mkdir /tmp/kiosk_ISO

mount -o loop kiosk.iso /mnt/cdrom

cp -a /mnt/cdrom/* /tmp/kiosk_ISO

umount /mnt/cdrom

Copy xzm modules into /tmp/kiosk_ISO/xzm directory

cp module.xzm /tmp/kiosk_ISO/xzm

cd /tmp/kiosk_ISO

bash make_iso.sh

export from running enviroment (with win sshfs)

copy to USB and boot with ventoy

!Alternatively, create usb:

make bios on uefi compatible with syslinux

BIOS version:

isohybrid /tmp/Porteus-Kiosk.iso

UEFI version:

isohybrid /tmp/Porteus-Kiosk.iso

Flash to usb:

dd if=Porteus-Kiosk.iso of=/dev/sdX

 

!Brightness:

echo  0 &gt; /sys/class/backlight/acpi_video0/brightness

 For intel GPU: 

echo 2000 &gt; /sys/class/backlight/intel_backlight/brightness  

write permissions to USB:
run_command=sed -i 's/MOPT="ro"/MOPT="rw"/g' /sbin/udev-automount-disabled

!Settings and autorun

unsquashfs 003-settings.xzm

mcedit squashfs-root/etc/xdg/openbox/autostart

===== Example add at the end of autostart ==============

# Reduce brightness

echo 2000 &gt; /sys/class/backlight/intel_backlight/brightness

#Run shellinabox server

shellinaboxd -b -t

#enable USB rw

sed -i 's/MOPT="ro"/MOPT="rw"/g' /sbin/udev-automount

===============End of autostart =================


mksquashfs squashfs-root 003-settings.xzm -comp xz -b 256K -Xbcj x86 -noappend

chmod 0700 003-settings.xzm 


!Manual wifi connect

Note: make sure to enable wifi in first wizard when creating the ISO

iwconfig

iwlist wlan0 scanning |grep ESSID

wpa_passphrase NetworkESSID P@SSWORD &gt; wpa_supplicant.conf

wpa_supplicant -iwlan0 -c wpa_supplicant.conf

Note: -i without space after it!!!

</pre>
</div>
<div tags="" title="power off shutdown windows from remote desktop session">
<pre>Run cmd as administrator


```
shutdown /s /t 0
```
</pre>
</div>
<div tags="" title="Powertoys -  open window where the mouse is">
<pre>Fancy zone / move newly created window to active monitor (Experimental)</pre>
</div>
<div tags="" title="progress for rsync tqdm and pv v5">
<pre>!!Install tqdm


```
pip install tqdm 
```

If getting ''externally managed'' error run


```
pip install tqdm --break-system-packages
```

!!Run rsync with tqdm

Example


```
rsync -avh /media/2TB/InstantUpload/* /media/n5105/16TB/InstantUpload | tqdm --unit_scale | wc -l
```
will show iterations per second, total iterations and total time ETA

Source: https://askubuntu.com/questions/609303/how-can-i-view-a-progress-bar-when-running-rsync

!!Using the pv command to monitor progress of rsync command
Prerequisite
By default, pv command may not be installed on your system. Hence, use the apk command on Alpine Linux, dnf command/yum command on RHEL &amp; co, apt command/apt-get command on Debian, Ubuntu &amp; co, zypper command on SUSE/OpenSUSE, pacman command on Arch Linux to install the pv.
The pv command allows you to see the progress of data through a pipeline. It provides the following info:
Time elapsed
Percentage completed (with progress bar)
Current throughput rate
Total data transferred
ETA
The syntax is:


```
rsync options source dest | pv -lpes Number-Of-Files
```

So if you have ''42 ''files in /tmp/software and you would like to copy them to /nas10, enter:


```
rsync -vrltD --stats --human-readable /tmp/software /nas10 | pv -lep -s 42
```

OR


```
rsync -vrltD --stats --human-readable /tmp/software /nas10 | pv -lep -s 42 &gt;/dev/null
```

Source: https://www.cyberciti.biz/faq/show-progress-during-file-transfer/</pre>
</div>
<div tags="" title="project elixir miatoll redmi note 9s v2">
<pre>Office, calls, call records working.

No honor band sync issue.

```
fastboot.exe devices

fastboot boot TWRP-miatoll-12.1-13-MIUI13-FBEv1-04102022.img

adb sideload ProjectElixir_3.4_miatoll-13.0-20221226-1607-OFFICIAL.zip
```
</pre>
</div>
<div tags="" title="Proxmox AMD Radeon fix">
<pre>Source: https://www.nicksherlock.com/2020/11/working-around-the-amd-gpu-reset-bug-on-proxmox/

Working around the AMD GPU Reset bug on Proxmox using vendor-reset
Most modern AMD GPUs suffer from the AMD Reset Bug: The card cannot be reset properly, so it can only be used once per host power-on. The second time the card is tried to be used Linux will attempt to reset it and fail, causing the VM launch to fail, or the guest, host or both to hang.

This is especially a problem if you only have one GPU in your system, because it will be your primary GPU and so be initialised by the host UEFI during boot, rendering it unusable for passthrough even a single time.

gnif’s new vendor-reset project is an attempt to work around this AMD reset issue by replacing AMD’s missing FLR support with vendor-specific reset quirks.

The current lineup of supported GPUs includes various Polaris, Vega and Navi models, including GPUs in the same series as the RX 480, RX 540, RX 580, Vega 56/64, Radeon VII, 5500XT, 5700XT, Pro 5600M (see the repo for the full list of supported chipsets).

Installing vendor-reset on Proxmox
First, update the kernel to the latest version and reboot (i.e. apt update &amp;&amp; apt dist-upgrade). Otherwise the kernel headers fetched by pve-headers won’t match the currently-running kernel, and dkms will fail to build the package.

Now you can install vendor-reset like so:

# Get latest Proxmox kernel headers:
apt install pve-headers

# Did that fail? If so make sure you have Proxmox repository set up properly! https://pve.proxmox.com/wiki/Package_Repositories

# Get required build tools:
apt install git dkms build-essential

# Perform the build:
git clone https://github.com/gnif/vendor-reset.git
cd vendor-reset
dkms install .

# Enable vendor-reset to be loaded automatically on startup:
echo "vendor-reset" &gt;&gt; /etc/modules
update-initramfs -u

# Reboot to load the module:
shutdown -r now
Now when you start a VM that uses an AMD GPU, you’ll see messages like this appear in your dmesg output, showing that the new reset procedure is being used:

vfio-pci 0000:03:00.0: AMD_POLARIS10: version 1.0
vfio-pci 0000:03:00.0: AMD_POLARIS10: performing pre-reset
vfio-pci 0000:03:00.0: AMD_POLARIS10: performing reset
vfio-pci 0000:03:00.0: AMD_POLARIS10: GPU pci config reset
vfio-pci 0000:03:00.0: AMD_POLARIS10: performing post-reset
vfio-pci 0000:03:00.0: AMD_POLARIS10: reset result = 0
Unfortunately, with my RX 580, this module didn’t solve the reset issue for me, at least with macOS guests. However on a bunch of newer AMD GPUs, vendor-reset is the answer to your prayers!

(Before adding vendor-reset, I got errors like this reported from the PCIe root port the second time the card was initted by a macOS guest:)

pcieport 0000:00:02.0: AER: Uncorrected (Non-Fatal) error received: 0000:00:02.0
pcieport 0000:00:02.0: AER: PCIe Bus Error: severity=Uncorrected (Non-Fatal), type=Transaction Layer, (Requester ID)
pcieport 0000:00:02.0: AER: device [8086:3c04] error status/mask=00004000/00000000
pcieport 0000:00:02.0: AER: [14] CmpltTO (First)
pcieport 0000:00:02.0: AER: Device recovery successful
After that the host’s kernel threads started reporting soft lockups until the whole host was brought down.

Now I no longer see those AER messages, but I still get “DMAR: DRHD: handling fault status reg 40”, followed by soft lockups that kill the host.</pre>
</div>
<div tags="" title="Proxmox BIOS, secure boot, boot order, ISO mount">
<pre>Enter VM bios with ESC

Secure boot can be disabled in ''BIOS/Device Manager/Uncheck Activate Secure boot
''

Boot order can be selected from Bios/Boot menu

ISO can be mapped in running VM only if CDRom set as SCSI in Proxmox (in Hardware tab)</pre>
</div>
<div tags="" title="proxmox change IP to DHCI v2">
<pre>''Port 8006''

''user: root''

Get interface names


```
ip a
```


Example output: ''enp89s0''

set dhcp on ''enp89s0''


```
nano /etc/network/interfaces
```


Edit to be :

```
iface enp89s0 inet manual

auto vmbr0
iface vmbr0 inet dhcp
    bridge-ports enp89s0
    bridge-stp off
bridge-fd 0
```


Restart network


```
ifreload -a
```


Show new IP (will show for vmbr0)


```
ip a

```

Update new IP in /etc/hosts


```
nano /etc/hosts

```

replace IP in second line with the new IP

Access proxmox host using port 8006

Example:

https://192.168.3.137:8006



!!Sources:

https://forum.proxmox.com/threads/set-a-dynamic-address-to-pve.119847/

https://www.servethehome.com/how-to-change-primary-proxmox-ve-ip-address/

https://forum.proxmox.com/threads/where-can-i-found-the-new-name-of-my-network-cards.98577/</pre>
</div>
<div tags="" title="proxmox cli commands">
<pre>Source: https://pve.proxmox.com/wiki/Command_Line_Tools</pre>
</div>
<div tags="" title="Proxmox disk commands and performance tweaks v3">
<pre>```
pvs

vgs

lvs

lvdisplay pve/vm-100-disk-0

```


Detailed info:


```
pvdisplay 

vgdisplay

lvdisplay
```

Additional info on LVM manipulations: https://pve.proxmox.com/wiki/Logical_Volume_Manager_(LVM)

Performance tweaks:

https://pve.proxmox.com/wiki/Performance_Tweaks</pre>
</div>
<div tags="" title="proxmox fix realtek rtl8152 usb 2.5gbps network adapter">
<pre>Sources:

https://forum.proxmox.com/threads/realtek-usb-2-5-gbe-random-usb-disconnect.138253/

https://bugzilla.kernel.org/show_bug.cgi?id=198931

On proxmox host run


```
 dmesg |grep rtl81
```


output


```
 r8152 3-1:1.0: load rtl8156b-2 v3 10/20/23 successfully
```

Edit grub parameters

```
nano /etc/defaults/grub
```


Add to ''GRUB_CMDLINE_LINUX_DEFAULT=''

''usbcore.autosuspend=-1 usbcore.quirks=0bda:8156:k''

Example:


```
GRUB_CMDLINE_LINUX_DEFAULT="quiet usbcore.autosuspend=-1 usbcore.quirks=0bda:8156:k"
```


Save and ''reboot ''the proxmox host

After reboot device will be shown in proxmox ''GUI/VM/Add/USB'' as ''USB 3.0'' device (on right of the name)

Also, USB speed can be checked in USB Tree Viewer: https://www.uwe-sieber.de/usbtreeview_e.html#download 

Click on USB device from the list/Device connection speed should be ''SuperSpeed''</pre>
</div>
<div tags="" title="Proxmox GPU passthrough short version working v7">
<pre>```
nano /etc/default/grub
```


For Intel CPUs:


```
GRUB_CMDLINE_LINUX_DEFAULT="quiet intel_iommu=on" 
```


For AMD CPUs:


```
GRUB_CMDLINE_LINUX_DEFAULT="quiet amd_iommu=on" 
```



```
update-grub
```



```
nano /etc/modules 
```


Add


```
vfio vfio_iommu_type1 vfio_pci vfio_virqfd 
```


Blacklist

For NVIDIA


```
echo "blacklist nvidia" &gt;&gt; /etc/modprobe.d/blacklist.conf
```


For AMD


```
echo "blacklist radeon" &gt;&gt; /etc/modprobe.d/blacklist.conf 
```



```
update-initramfs -u 
```


''reboot'' host

Notes:

1. When creating VM add PCI device (GPU) only, HDMI audio won't pass this way, use USB audio

2. In VM settings check mark all options of PCI device (primary GPU, all functions, pcix)

3. Set Display to none in VM settings

4. HW/Network / advanced - disconnect to set local user when starting up windows for the first time

!!Enabling audio from the GPU

Source: https://forum.proxmox.com/threads/x2apic-irq-remapping-doesnt-support-x2apic-mode.118349/

https://www.reddit.com/r/VFIO/comments/592f0l/vfiopci_binding_audio_but_not_gpu/

Edit grub


```
nano /etc/default/grub
```


add

```
GRUB_CMDLINE_LINUX_DEFAULT="quiet amd_iommu=on iommu=pt nox2apic intremap=no_x2apic_optout rd.modules-load=vfio-pci"
```

Update grub


```
update-grub
```

Reboot proxmox host

```
 echo "options vfio_iommu_type1 allow_unsafe_interrupts=1" &gt; /etc/modprobe.d/iommu_unsafe_interrupts.conf

echo "options kvm ignore_msrs=1" &gt; /etc/modprobe.d/kvm.conf
lspci -v |grep -i audio
 lspci -n -s  0c:00
echo "options vfio-pci ids=1002:73af,1002:ab28 disable_vga=1"&gt; /etc/modprobe.d/vfio.conf

update-initramfs -u
```

Reboot proxmox host



```
dmesg | grep -e DMAR -e IOMMU
```

Output: not AMD-VI IOMMU ''supported''

```
[    0.881043] pci 0000:00:00.2: AMD-Vi: IOMMU performance counters supported
[    0.882317] pci 0000:00:00.2: AMD-Vi: Found IOMMU cap 0x40
[    0.882538] perf/amd_iommu: Detected AMD IOMMU #0 (2 banks, 4 counters/bank).
```


```
dmesg | grep 'remapping'
```
Output


```
AMD-Vi: Interrupt remapping enabled
```


!!If adrenaline not starting delete folder


```
 %AppData%\Local\AMD\CN
```
</pre>
</div>
<div tags="" title="Proxmox GPU passthrough v2">
<pre>Guide:

https://www.reddit.com/r/homelab/comments/b5xpua/the_ultimate_beginners_guide_to_gpu_passthrough/

Video tutorial: 

https://www.youtube.com/watch?v=S6jQx4AJlFw

Win11 won't boot because of the TPM, to solve run in main proxmox console:


```
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/garjones/gareth.com/master/vTPM-install.sh)"
```

Source: https://gareth.com/index.php/2021/09/16/proxmox-secure-boot-for-windows-11-clients/</pre>
</div>
<div tags="" title="Proxmox GPU Passthrough working v2">
<pre>Tested on GX701GX asus laptop with intel iGPU and Nvidia dGPU

if g-sync turned on on laptop (aura crate from physical disk), both HDMI and internal monitor are working, but iGPU is not available even in proxmox host

To get video on HDM monitor ONLY passthrough NVidia GPU to the VM (no intel iGPU)

Source: https://pve.proxmox.com/wiki/PCI_Passthrough#Verifying_IOMMU_parameters

https://www.reddit.com/r/homelab/comments/b5xpua/the_ultimate_beginners_guide_to_gpu_passthrough/


Ultimate Beginner's Guide to Proxmox GPU Passthrough
Welcome all, to the first installment of my Idiot Friendly tutorial series! I'll be guiding you through the process of configuring GPU Passthrough for your Proxmox Virtual Machine Guests. This guide is aimed at beginners to virtualization, particularly for Proxmox users. It is intended as an overall guide for passing through a GPU (or multiple GPUs) to your Virtual Machine(s). It is not intended as an all-exhaustive how-to guide; however, I will do my best to provide you with all the necessary resources and sources for the passthrough process, from start to finish. If something doesn't work properly, please check /r/Proxmox, /r/Homelab, r/VFIO, or /r/linux4noobs for further assistance from the community.

Before We Begin (Credits)
This guide wouldn't be possible without the fantastic online Proxmox community; both here on Reddit, on the official forums, as well as other individual user guides (which helped me along the way, in order to help you!). If I've missed a credit source, please let me know! Your work is appreciated.

Disclaimer: In no way, shape, or form does this guide claim to work for all instances of Proxmox/GPU configurations. Use at your own risk. I am not responsible if you blow up your server, your home, or yourself. Surgeon General Warning: do not operate this guide while under the influence of intoxicating substances. Do not let your cat operate this guide. You have been warned.

Let's Get Started (Pre-configuration Checklist)
It's important to make note of all your hardware/software setup before we begin the GPU passthrough. For reference, I will list what I am using for hardware and software. This guide may or may not work the same on any given hardware/software configuration, and it is intended to help give you an overall understanding and basic setup of GPU passthrough for Proxmox only.

Your hardware should, at the very least, support: VT-d, interrupt mapping, and UEFI BIOS.

My Hardware Configuration:

Motherboard: Supermicro X9SCM-F (Rev 1.1 Board + Latest BIOS)

CPU: LGA1150 Socket, Xeon E3-1220 (version 2) 1

Memory: 16GB DDR3 (ECC, Unregistered)

GPU: 2x GTX 1050 Ti 4gb, 2x GTX 1060 6gb 2

My Software Configuration:

Latest Proxmox Build (5.3 as of this writing)

Windows 10 LTSC Enterprise (Virtual Machine) 3

Notes:

1On most Xeon E3 CPUs, IOMMU grouping is a mess, so some extra configuration is needed. More on this later.

2It is not recommended to use multiple GPUs of the same exact brand/model type. More on this later.

3Any Windows 10 installation ISO should work, however, try to stick to the latest available ISO from Microsoft.

Configuring Proxmox
This guide assumes you already have at the very least, installed Proxmox on your server and are able to login to the WebGUI and have access to the server node's Shell terminal. If you need help with installing base Proxmox, I highly recommend the official "Getting Started" guide and their official YouTube guides.

Step 1: Configuring the Grub

Assuming you are using an Intel CPU, either SSH directly into your Proxmox server, or utilizing the noVNC Shell terminal under "Node", open up the /etc/default/grub file. I prefer to use nano, but you can use whatever text editor you prefer.

nano /etc/default/grub
Look for this line:

GRUB_CMDLINE_LINUX_DEFAULT="quiet"
Then change it to look like this:

For Intel CPUs:

GRUB_CMDLINE_LINUX_DEFAULT="quiet intel_iommu=on"
For AMD CPUs:

GRUB_CMDLINE_LINUX_DEFAULT="quiet amd_iommu=on"
IMPORTANT ADDITIONAL COMMANDS

You might need to add additional commands to this line, if the passthrough ends up failing. For example, if you're using a similar CPU as I am (Xeon E3-12xx series), which has horrible IOMMU grouping capabilities, and/or you are trying to passthrough a single GPU.

These additional commands essentially tell Proxmox not to utilize the GPUs present for itself, as well as helping to split each PCI device into its own IOMMU group. This is important because, if you try to use a GPU in say, IOMMU group 1, and group 1 also has your CPU grouped together for example, then your GPU passthrough will fail.

Here are my grub command line settings:

GRUB_CMDLINE_LINUX_DEFAULT="quiet intel_iommu=on iommu=pt pcie_acs_override=downstream,multifunction nofb nomodeset video=vesafb:off,efifb:off"
For more information on what these commands do and how they help:

A. Disabling the Framebuffer: video=vesafb:off,efifb:off

B. ACS Override for IOMMU groups: pcie_acs_override=downstream,multifunction

When you finished editing /etc/default/grub run this command:

update-grub
Step 2: VFIO Modules

You'll need to add a few VFIO modules to your Proxmox system. Again, using nano (or whatever), edit the file /etc/modules

nano /etc/modules
Add the following (copy/paste) to the /etc/modules file:

vfio
vfio_iommu_type1
vfio_pci
vfio_virqfd
Then save and exit.

Step 3: IOMMU interrupt remapping

I'm not going to get too much into this; all you really need to do is run the following commands in your Shell:

echo "options vfio_iommu_type1 allow_unsafe_interrupts=1" &gt; /etc/modprobe.d/iommu_unsafe_interrupts.conf
echo "options kvm ignore_msrs=1" &gt; /etc/modprobe.d/kvm.conf
Step 4: Blacklisting Drivers

We don't want the Proxmox host system utilizing our GPU(s), so we need to blacklist the drivers. Run these commands in your Shell:

echo "blacklist radeon" &gt;&gt; /etc/modprobe.d/blacklist.conf
echo "blacklist nouveau" &gt;&gt; /etc/modprobe.d/blacklist.conf
echo "blacklist nvidia" &gt;&gt; /etc/modprobe.d/blacklist.conf
Step 5: Adding GPU to VFIO

Run this command:

lspci -v
Your shell window should output a bunch of stuff. Look for the line(s) that show your video card. It'll look something like this:

01:00.0 VGA compatible controller: NVIDIA Corporation GP104 [GeForce GTX 1070] (rev a1) (prog-if 00 [VGA controller])

01:00.1 Audio device: NVIDIA Corporation GP104 High Definition Audio Controller (rev a1)

Make note of the first set of numbers (e.g. 01:00.0 and 01:00.1). We'll need them for the next step.

Run the command below. Replace 01:00 with whatever number was next to your GPU when you ran the previous command:

lspci -n -s 01:00
Doing this should output your GPU card's Vendor IDs, usually one ID for the GPU and one ID for the Audio bus. It'll look a little something like this:

01:00.0 0000: 10de:1b81 (rev a1)

01:00.1 0000: 10de:10f0 (rev a1)

What we want to keep, are these vendor id codes: 10de:1b81 and 10de:10f0.

Now we add the GPU's vendor id's to the VFIO (remember to replace the id's with your own!):

echo "options vfio-pci ids=10de:1b81,10de:10f0 disable_vga=1"&gt; /etc/modprobe.d/vfio.conf
Finally, we run this command:

update-initramfs -u
And restart:

reset
Now your Proxmox host should be ready to passthrough GPUs!

Configuring the VM (Windows 10)
Now comes the 'fun' part. It took me many, many different configuration attempts to get things just right. Hopefully my pain will be your gain, and help you get things done right, the first time around.

Step 1: Create a VM

Making a Virtual Machine is pretty easy and self-explanatory, but if you are having issues, I suggest looking up the official Proxmox Wiki and How-To guides.

For this guide, you'll need a Windows ISO for your Virtual Machine. Here's a handy guide on how to download an ISO file directly into Proxmox. You'll want to copy ALL your .ISO files to the proper repository folder under Proxmox (including the VirtIO driver ISO file mentioned below).

Example Menu Screens

General =&gt; OS =&gt; Hard disk =&gt; CPU =&gt; Memory =&gt; Network =&gt; Confirm

IMPORTANT: DO NOT START YOUR VM (yet)

Step 1a (Optional, but RECOMMENDED): Download VirtIO drivers

If you follow this guide and are using VirtIO, then you'll need this ISO file of the VirtIO drivers to mount as a CD-ROM in order to install Windows 10 using VirtIO (SCSI).

For the CD-Rom, it's fine if you use IDE or SATA. Make sure CD-ROM is selected as the primary boot device under the Options tab, when you're done creating the VM. Also, you'll want to make sure you select VirtIO (SCSI, not VirtIO Block) for your Hard disk and Network Adapter.

Step 2: Enable OMVF (UEFI) for the VM

Under your VM's Options Tab/Window, set the following up like so:

Boot Order: CD-ROM, Disk (scsi0)
SCSI Controller: VirtIO SCSI Single
BIOS: OMVF (UEFI)
Don't Forget: When you change the BIOS from SeaBIOS (Default) to OMVF (UEFI), Proxmox will say something about adding an EFI disk. So you'll go to your Hardware Tab/Window and do that. Add &gt; EFI Disk.

Step 3: Edit the VM Config File

Going back to the Shell window, we need to edit /etc/pve/qemu-server/&lt;vmid&gt;.conf, where &lt;vmid&gt; is the VM ID Number you used during the VM creation (General Tab).

nano /etc/pve/qemu-server/&lt;vmid&gt;.conf
In the editor, let's add these command lines (doesn't matter where you add them, so long as they are on new lines. Proxmox will move things around for you after you save):

machine: q35
cpu: host,hidden=1,flags=+pcid
args: -cpu 'host,+kvm_pv_unhalt,+kvm_pv_eoi,hv_vendor_id=NV43FIX,kvm=off'
Save and exit the editor.

Step 4: Add PCI Devices (Your GPU) to VM

r/homelab - Look at all those GPUs
Look at all those GPUs
Under the VM's Hardware Tab/Window, click on the Add button towards the top. Then under the drop-down menu, click PCI Device.

Look for your GPU in the list, and select it. On the PCI options screen, you should only need to configure it like so:

All Functions: YES
Rom-Bar: YES
Primary GPU: NO
PCI-Express: YES (requires 'machine: q35' in vm config file)
Here's an example image of what your Hardware Tab/Window should look like when you're done creating the VM.

r/homelab - Oopsies, make sure “All Functions” is CHECKED. 
Oopsies, make sure “All Functions” is CHECKED.
Step 4a (Optional): ROM File Issues

In the off chance that things don't work properly at the end, you MIGHT need to come back to this step and specify the ROM file for your GPU. This is a process unto itself, and requires some extra steps, as outlined below.

Step 4a1:

Download your GPU's ROM file

OR

Dump your GPU's ROM File:

cd /sys/bus/pci/devices/0000:01:00.0/
echo 1 &gt; rom
cat rom &gt; /usr/share/kvm/&lt;GPURomFileName&gt;.bin
echo 0 &gt; rom
Alternative Methods to Dump ROM File:

a. Using GPU-Z (recommended)

b. Using NVFlash

Step 4a2: Copy the ROM file (if you downloaded it) to the /usr/share/kvm/ directory.

You can use SFTP for this, or directly through Windows' Command Prompt:

scp /path/to/&lt;romfilename&gt;.rom myusername@proxmoxserveraddress:/usr/share/kvm/&lt;romfilename&gt;.rom
Step 4a3: Add the ROM file to your VM Config (EXAMPLE):

hostpci0: 01:00,pcie=1,romfile=&lt;GTX1050ti&gt;.rom
NVIDIA USERS: If you're still experiencing issues, or the ROM file is causing issues on its own, you might need to patch the ROM file (particularly for NVIDIA cards). There's a great tool for patching GTX 10XX series cards here: https://github.com/sk1080/nvidia-kvm-patcher and here https://github.com/Matoking/NVIDIA-vBIOS-VFIO-Patcher. It only works for 10XX series though. If you have something older, you'll have to patch the ROM file manually using a hex editor, which is beyond the scope of this tutorial guide.

r/homelab - Example of the Hardware Tab/Window, Before Windows 10 Installation.
Example of the Hardware Tab/Window, Before Windows 10 Installation.
Step 5: START THE VM!

We're almost at the home stretch! Once you start your VM, open your noVNC / Shell Tab/Window (under the VM Tab), and you should see the Windows installer booting up. Let's quickly go through the process, since it can be easy to mess things up at this junction.

Final Setup: Installing / Configuring Windows 10
r/homelab - Copyright(c) Jon Spraggins (https://jonspraggins.com)
Copyright(c) Jon Spraggins (https://jonspraggins.com)
If you followed the guide so far and are using VirtIO SCSI, you'll run into an issue during the Windows 10 installation, when it tries to find your hard drive. Don't worry!

r/homelab - Copyright(c) Jon Spraggins (https://jonspraggins.com)
Copyright(c) Jon Spraggins (https://jonspraggins.com)
Step 1: VirtIO Driver Installation

Simply go to your VM's Hardware Tab/Window (again), double click the CD-ROM drive file (it should currently have the Windows 10 ISO loaded), and switch the ISO image to the VirtIO ISO file.

r/homelab - Copyright(c) Jon Spraggins (https://jonspraggins.com)
Copyright(c) Jon Spraggins (https://jonspraggins.com)
Tabbing back to your noVNC Shell window, click Browse, find your newly loaded VirtIO CD-ROM drive, and go to the vioscsi &gt; w10 &gt; amd64 sub-directory. Click OK.

Now the Windows installer should do its thing and load the Red Hat VirtIO SCSI driver for your hard drive. Before you start installing to the drive, go back again to the VirtIO CD-Rom, and also install your Network Adapter VirtIO drivers from NetKVM &gt; w10 &gt; amd64 sub-directory.

r/homelab - Copyright(c) Jon Spraggins (https://jonspraggins.com)
Copyright(c) Jon Spraggins (https://jonspraggins.com)
IMPORTANT #1: Don't forget to switch back the ISO file from the VirtIO ISO image to your Windows installer ISO image under the VM Hardware &gt; CD-Rom.

When you're done changing the CD-ROM drive back to your Windows installer ISO, go back to your Shell window and click Refresh. The installer should then have your VM's hard disk appear and have windows ready to be installed. Finish your Windows installation.

IMPORTANT #2: When Windows asks you to restart, right click your VM and hit 'Stop'. Then go to your VM's Hardware Tab/Window, and Unmount the Windows ISO from your CD-Rom drive. Now 'Start' your VM again.

Step 2: Enable Windows Remote Desktop

If all went well, you should now be seeing your Windows 10 VM screen! It's important for us to enable some sort of remote desktop access, since we will be disabling Proxmox's noVNC / Shell access to the VM shortly. I prefer to use Windows' built-in Remote Desktop Client. Here's a great, simple tutorial on enabling RDP access.

NOTE: While you're in the Windows VM, make sure to make note of your VM's Username, internal IP address and/or computer name.

Step 3: Disabling Proxmox noVNC / Shell Access

To make sure everything is properly configured before we get the GPU drivers installed, we want to disable the built-in video display adapter that shows up in the Windows VM. To do this, we simply go to the VM's Hardware Tab/Window, and under the Display entry, we select None (none) from the drop-down list. Easy. Now 'Stop' and then 'Start' your Virtual Machine.

NOTE: If you are not able to (re)connect to your VM via Remote Desktop (using the given internal IP address or computer name / hostname), go back to the VM's Hardware Tab/Window, and under the PCI Device Settings for your GPU, checkmark Primary GPU**. Save it, then 'Stop' and 'Start' your VM again.**

Step 4: Installing GPU Drivers

At long last, we are almost done. The final step is to get your GPU's video card drivers installed. Since I'm using NVIDIA for this tutorial, we simply go to http://nvidia.com and browse for our specific GPU model's driver (in this case, GTX 10XX series). While doing this, I like to check Windows' Device Manager (under Control Panel) to see if there are any missing VirtIO drivers, and/or if the GPU is giving me a Code 43 Error. You'll most likely see the Code 43 error on your GPU, which is why we are installing the drivers. If you're missing any VirtIO (usually shows up as 'PCI Device' in Device Manager, with a yellow exclamation), just go back to your VM's Hardware Tab/Window, repeat the steps to mount your VirtIO ISO file on the CD-Rom drive, then point the Device Manager in Windows to the CD-Rom drive when it asks you to add/update drivers for the Unknown device.

Sometimes just installing the plain NVIDIA drivers will throw an error (something about being unable to install the drivers). In this case, you'll have to install using NVIDIA's crappy GeForce Experience(tm) installer. It sucks because you have to create an account and all that, but your driver installation should work after that.

Congratulations!
After a reboot or two, you should now be able to see NVIDIA Control Panel installed in your Windows VM, as well as Device Manager showing no Code 43 Errors on your GPU(s). Pat yourself on the back, do some jumping jacks, order a cake! You've done it!

r/homelab - Multi-GPU Passthrough, it CAN be done!
Multi-GPU Passthrough, it CAN be done!</pre>
</div>
<div tags="" title="Proxmox GUI on host X11 not working">
<pre>Source: https://pve.proxmox.com/wiki/Developer_Workstations_with_Proxmox_VE_and_X11


```
apt update &amp;&amp; apt dist-upgrade

apt install xfce4 chromium lightdm

 adduser NewUserName

systemctl start lightdm

```


</pre>
</div>
<div tags="" title="Proxmox host connect to samba share">
<pre>Datacenter (Your Proxmox server) =&gt; Storage =&gt; Add (CIFS), then enter credentials for your Freenas server, Select smb directory from the Share drop down. Make sure you check ISO image in Content. It will create necessary directories under your smb share. The iso image will be located in &lt;smb share&gt;\template\iso directory.</pre>
</div>
<div tags="" title="Proxmox iGPU Intel 630 gpu passthrough v3 not working">
<pre>Working with settings as for NVidia card below, without grub i915, without intel blacklist with latest Intel drivers as for 25.2.24

Rom-BAR, PCI express, All functions enabled

HDMI connected monitor shows boot screen and then goes black. Internal laptop monitor is black all the time.

!!Not working:

Source: https://forum.proxmox.com/threads/intel-gvt-g-questions.82165/

This is the steps I took to get GVT-g working on my machine.

Code:

```
nano /etc/default/grub
```


Find the line that starts with GRUB_CMDLINE_LINUX_DEFAULT and make that line to look like this:

Code:

```
GRUB_CMDLINE_LINUX_DEFAULT="quiet intel_iommu=on i915.enable_gvt=1"
```


Update the grub config:

Code:

```
update-grub
```


After that add the following modules to /etc/modules:

Code:

```
vfio
vfio_iommu_type1
vfio_pci
vfio_virqfd
kvmgt
```


Regenerate initramfs:
Code:

```
update-initramfs -u -k all
```


Reboot the server.

After reboot check if you get any output with this command again:

Code:

```
ls /sys/bus/pci/devices/0000\:00\:02.0/mdev_supported_types/
```


Should show something like:
i915-GVTg_V5_4 i915-GVTg_V5_8


Show all video adapters:


```
lspci -vv |grep "VGA compatible"
```


For intel GPU


```
lspci -n -s 02:00

```

Example output


```
02:00.0 0108: 144d:a808
```


update-initramfs -u

Reboot

echo "options  vfio-pci ids=144d:a808 disable_vga=1"&gt; /etc/modprobe.d/vfio.conf


If it does, now you can add a new PCI device to your vm from the gui and the GPU will show as a mediated device.

I think that you need to run a Q35 vm machine with ovmf bios to get it working properly. I can be wrong on this one, but anyway, that is what I'm running. :)
Also make sure all virtualization options is enabled in your bios such VT-d and that virtualization is enabled, but that have you already proably done. :)

This steps worked for me on my I3 10100 and also on my I7 10700K. :)</pre>
</div>
<div tags="" title="Proxmox install Openwrt v11">
<pre>Source: https://tteck.github.io/Proxmox/

Run console from proxmox GUI

```
bash -c "$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/vm/openwrt.sh)"
```

Choose advanced if you want to change default setting (256MB RAM/512MB storage)

Web admin on WAN is enabled by default

Find OpenWRT IP on router

Or connect to VM's console and run


```
ip addr
```

Then change root password in console or GUI


```
passwd
```

!!Configuration

Passthrough ethernet ports to VM [[n5105 passthrough v1]]

Set bridge br-lan

''GUI/Network/Interfaces/Devices/Add device configuration''


```
Device type: Bridge device

Device name: br-lan

Bridge ports: add eth0 and physical ports
```

''Save/Save and apply''

''GUI/Network/Interfaces/Edit LAN''


```
Device: br-lan
```

!!Connecting VMs to OpenWRT VM on the same proxmox host

Add network device to VM with VLAN Tagging 999 (same as LAN interface device in OpenWRT VM

Note DHCP range on OpenWRT VM in OpenWRT GUI/ Network/Interface/LAN/Edit/ IPv4 Adress (ex. 192.168.1.250)

Then DHCP tab/start address 251/ limit 4 

Explanation: Openwrt LAN address for connected clients will be 192.168.1.250 and it will provide up to 4 addresses from 251 to 254

Please make sure it doesn't overlap with main router (on main router range should be 192.168.1.2-249) 

!!Wireless setup

For ''ax210 ''wifi card

install intel ax210 drivers


```
opkg install iwlwifi-firmware-ax210
```

&lt;&lt;&lt;

Manual way -not recommended

Download intel drivers from here: https://www.intel.com/content/www/us/en/support/articles/000005511/wireless.html


```
wget https://wireless.wiki.kernel.org/_media/en/users/drivers/iwlwifi-ty-59.601f3a66.0.tgz
```

Extract and copy to firmware directory


```
tar -xvzf iwlwifi-ty-59.601f3a66.0.tgz

cp -r iwlwifi-ty-59.601f3a66.0 /lib/firmware/
```

&lt;&lt;&lt;


In'' GUI/Software/update list
''
Install 


```
pciutils
iwlwifi 
nano
hostapd
```

Run 


```
lspci
```


Example output will include ''AX210 ''card


```
00:1c.0 Network controller: Intel Corporation Wi-Fi 6 AX210/AX211/AX411 160MHz (rev 1a)
```

Note the ''00:1c.0'' at the beginning of the line

''Reboot''

After reboot ''iwinfo ''will show the interface

Example:

wlan0     ESSID: unknown
          Access Point: XXXXXXX
          Mode: Client  Channel: unknown (unknown)  HT Mode: NOHT
          Center Channel 1: unknown 2: unknown
          Tx-Power: 0 dBm  Link Quality: unknown/70
          Signal: unknown  Noise: unknown
          Bit Rate: unknown
          Encryption: unknown
          Type: nl80211  HW Mode(s): 802.11ac/ax/b/g/n
          Hardware: XXXXX
[Generic MAC80211]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: phy0

Configuration file will be created automatically.

To check

Login into openwrt


```
cat /etc/config/wireless

```


```
config wifi-device 'radio0'
        option type 'mac80211'
        option path 'pci0000:00/0000:00:1c.0'
        option channel 'auto'
        option macaddr '4c:03:4f:03:e6:8a'
        list ht_capab 'SHORT-GI-20'
        list ht_capab 'SHORT-GI-40'
        list ht_capab 'TX-STBC'
        list ht_capab 'RX-STBC1'
        list ht_capab 'DSSS_CCK-40'
        option band '5g'
        option cell_density '0'
        option htmode 'VHT20'


config wifi-iface 'wifinet1'
        option device 'radio0'
        option mode 'sta'
        option ssid 'Gamer'
        option encryption 'psk2'
        option key 'YourWifiPassword'
```

Wifi will appear in ''GUI/Network/Wireless''


&lt;&lt;&lt;
Manual - not working

go to the ''/sys/bus/pci/devices'', and you will see the device id. You should find the "0000:00:1c.0"
enter the directory and use pwd command to get the absolute path.

Example:


```
/sys/bus/pci/devices/0000:00:1c.0
```


edit the ''/etc/config/wireless''

```
nano /etc/config/wireless
```



```
config wifi-device 'radio0'
        option type 'mac80211'
        option country 'US'
        option cell_density '0'
        option path 'pci0000:00/0000:00:1d.0/0000:03:00.0'

config wifi-device 'radio1'
        option type 'mac80211'
        option path 'pci0000:00/0000:00:1d.0/0000:03:00.0'
        option band '5g'
        option htmode 'HE80'
        option cell_density '0'
        option country 'US'
```

reboot ! And you will find the driver works well.
&lt;&lt;&lt;


Source: https://forum.openwrt.org/t/set-up-ax210-step-by-step/134415

!!Or manually

Source: https://i12bretro.github.io/tutorials/0405.html

Run an OpenWRT VM on Proxmox VE
What is OpenWRT?
OpenWrt is an open-source project for embedded operating systems based on Linux, primarily used on embedded devices to route network traffic. The main components are Linux, util-linux, musl, and BusyBox. All components have been optimized to be small enough to fit into the limited storage and memory available in home routers. -https://en.wikipedia.org/wiki/OpenWrt
Creating the VM
Open a web browser and navigate to the ProxMox web UI https://ProxMoxDNSorIP:8006/
Click the Create VM button at the top right
On the General tab, name the VM OpenWRT and set a VM ID (123 in this example) &gt; click Next
On the OS tab select Do not use any media and set the Guest OS Type to Linux and Version to 5.x - 2.6 Kernel &gt; click Next
On the System tab click Next
On the Hard Disk tab set the Disk size to 0.001 &gt; click Next
On the CPU tab set the number of CPU cores and the Type to host &gt; click Next
On the Memory tab set the amount of memory to 256 MiB &gt; click Next
On the Network tab set the Model field to VirtIO (paravirtualized), Uncheck the Firewall box &gt; click Next
On the Confirm tab review the settings and click Finish
Select the newly created OpenWRT VM from the left navigation panel
Select Hardware from the left sub-navigation menu
Click the Hard Disk to select it
Click the Detach button at the top of the main content window to detach the hard disk from the VM
Click the Unused disk to select it
Click the Remove button at the top of the main content window to permanently delete it
Click the Add button &gt; Network Device
Set the Model field to VirtIO (paravirtualized), Uncheck the Firewall box &gt; Click Add
Setting Up the OpenWRT Disk
Select the Proxmox node name in the left navigation menu
Click Shell in the left sub-navigation
Run the following commands in the terminal


!!Not working


```
# lookup the latest stable version number
regex='&lt;strong&gt;Current Stable Release - OpenWrt ([^/]*)&lt;\/strong&gt;' &amp;&amp; response=$(curl -s https://openwrt.org) &amp;&amp; [[ $response =~ $regex ]] &amp;&amp; stableVersion="${BASH_REMATCH[1]}"
# download openwrt image
wget -O openwrt.img.gz https://downloads.openwrt.org/releases/$stableVersion/targets/x86/64/openwrt-$stableVersion-x86-64-generic-ext4-combined.img.gz
```




Get link to lates OpenWRT'' efi x64'' buid ex.: https://downloads.openwrt.org/releases/23.05.2/targets/x86/64/openwrt-23.05.2-x86-64-generic-ext4-combined-efi.img.gz

In Proxmox shell:





```
wget https://downloads.openwrt.org/releases/23.05.2/targets/x86/64/openwrt-23.05.2-x86-64-generic-ext4-combined-efi.img.gz

mv openwrt* openwrt img
```






```

# extract the openwrt img
gunzip ./openwrt.img.gz
# rename the extracted img
mv ./openwrt*.img ./openwrt.raw
# increase the raw disk to 512 MB
qemu-img resize -f raw ./openwrt.raw 512M
# import the disk to the openwrt vm
# update the vm id and storage device as needed
# usage: qm importdisk
qm importdisk 123 openwrt.raw local-lvm
```


Once the disk import completes, select the OpenWRT VM from the left navigation menu &gt; Hardware

Double click the Unused Disk &gt; Click the Add button

Select Options from the left sub-navigation menu

Double click Boot Order
Check the Enabled box next to the hard disk
Drag the Hard disk up in the boot order as needed, typically below the CD-ROM device
Click OK

Double click Use tablet pointer &gt; Uncheck the Enabled box &gt; Click OK

Click the Start button in the top right of the screen

Click the Console link to watch the boot process

Wait for the text to stop scrolling and press Enter

Run the following command to change/set the root password
passwd

Type a new root password twice to set it
Continue the configuration by running the following commands

Not needed (leave dhcp as is)

```
# set the lan ip address, use something in the same subnet as your LAN
uci set network.lan.ipaddr='10.10.27.151'

# restart network services
service network restart
```



```
# update openwrt packages
opkg update
# install the luci web ui
opkg install luci
```


Open a new browser tab and navigate to http://IPofVM, http://10.10.27.151 in the example
At the login screen, enter the username root and the password set above &gt; Click the Login button
Enjoy OpenWRT running in Proxmox
 
Join Us on Discordi12bretro on GithubOfficial SubredditFollow i12bretro on TwitterOfficial WordPress Sitei12bretro on YouTubei12bretro Tools, Gadgets and Peripheralsi12bretro RSS Feed</pre>
</div>
<div tags="" title="Proxmox install windows VM NAS v3">
<pre>Create new Windows VM

Uncheck TPM

Add Strelec iso as CD

Add virtio drivers iso as CD2

After creating VM enter HW and add windows installation iso as CD3

4GB RAM minimal 3GB
64GB disk
All defaults

Boot

In device manager of strelec update SCSI driver poiniting to virtio cd

In minitool partition wizard Switch MBR to GPT/create primary 100MB FAT32 partition/Change type to system EFI partition/change letter to H

Create NTFS primary partition on remaining space and change it's letter to C .

In WinntSetup choose windows installation CD -&gt; ''sources''/H for boot/C for system installation

Choose to install windows pro

Add virtio CD in drivers drop menue

Modify tweaks as you with

Install and reboot

During first boot disconnect network adapter in Proxmox/VM/Hardware to set up local windows account

Recommended to install virtio setup from virtio cd after windows boot (to make sure baloon driver for dynamic memory is installed)</pre>
</div>
<div tags="" title="Proxmox LXC container resize volume disk v3">
<pre>!!Enlarge  

"Datacenters" -&gt; selected 101 (dev) container -&gt; opened "Resources" tab -&gt; Choose disk "Volume action" on top -&gt; "Resize" and typed "40G" (additional size) to make total of "100GB"

!!Shrink

List the containers:

```
pct list
```


Example Container''999'' resize to ''10GB''

Stop the particular container you want to resize:

```
pct stop 999
```


Find out it's path on the node:

```
lvdisplay | grep "LV Path\|LV Size"
```


For good measure one can run a file system check:

```
e2fsck -fy /dev/pve/vm-999-disk-0
```


Resize the file system:

```
resize2fs /dev/pve/vm-999-disk-0 10G
```


Resize the local volume

```
lvreduce -L 10G /dev/pve/vm-999-disk-0
```


Edit the container's conf, look for the rootfs line and change accordingly:

```
nano /etc/pve/lxc/999.conf
```



&lt;&lt;&lt;
rootfs: local-lvm:vm-999-disk-0,size=32G &gt;&gt; rootfs: local-lvm:vm-999-disk-0,size=10G
&lt;&lt;&lt;


Start it:

```
pct start 999
```


Enter it and check the new size:

```
pct enter 999
```


```
df -h

du -Sh / | sort -rh | head -5
```


Source: https://forum.proxmox.com/threads/resize-lxc-disk-on-proxmox.68901/
</pre>
</div>
<div tags="" title="Proxmox LXC containers v1">
<pre>https://pve.proxmox.com/wiki/Linux_Container

Through the GUI you can click on your storage -&gt; CT Templates -&gt; Templates -&gt; select a template -&gt; Download. 

They should show up as an option when creating a new LXC container once you do that.

https://forum.proxmox.com/threads/empty-container-template-list-solved.76751/</pre>
</div>
<div tags="" title="Proxmox LXC create service for autostart v1">
<pre>!!Autosatart Jdownloader on container boot

To autostart JDownloader on boot

Create new service


```
nano /etc/systemd/system/jdownloader.service
```

Add


```
[Service]

#Type=exec

Type=simple

WorkingDirectory=/root

ExecStart=/root/jdownloader.sh

RemainAfterExit=yes

User=root

#Group=root

[Unit]

Description=JDownloader service

[Install]

WantedBy=multi-user.target
```

Create jdownloder.sh


```
nano /etc/jdownloader.sh
```

Add


```
#!/bin/bash
java -jar JDownloader.jar &amp;
```


Make script bootable


```
chmod a+x /etc/jdownloader.sh
```


Start service


```
systemctl enable jdownloader
```

!!Troubleshooting service


```
systemctl daemon-reload

systemctl enable jdownloader #make autostart

systemctl start jdownloader

 systemctl status jdownloader

 journalctl -u jdownloader

 ps -aux |grep -i jdownloader

```


Sources:

https://wiki.debian.org/systemd/Services

https://unix.stackexchange.com/questions/762073/systemd-killed-my-vetcore-service-deactivated-succesfully</pre>
</div>
<div tags="" title="proxmox lxc docker">
<pre>https://www.reddit.com/r/Proxmox/comments/g3wozs/best_way_to_run_docker_in_proxmox/</pre>
</div>
<div tags="" title="Proxmox LXC docker and GPU passthrough">
<pre>Source: https://docs.google.com/document/d/1VDvX_1q7b7t4gaujYVdPmx1E6U5i73PgE0jWWmlnZ6A/edit


Proxmox Docker on LXC Debian

Download CT Template for debian 10
Create CT
4Gb RAM
2 cores
32 GBs disk

IMPORTANT: Make sure Container is Privileged
Otherwise you’re gonna need to edit the config later using pve Shell
/etc/pve/lxc/&lt;lxcNumber&gt;.conf

Nano is a very easy to use editor, install then edit
apt-get nano
nano /etc/pve/lxc/&lt;lxcNumber&gt;.conf
Add:
unprivileged = 0

Set the Network to use DHCP for IP4

Start the LXC
Login using root and the password set during configuration
Probably: docker

apt-get update
apt-get upgrade
To update and upgrade all packages

apt install curl
To install curl

Use the scripts
https://docs.docker.com/engine/install/debian/#install-using-the-convenience-script
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

Install Docker Compose
https://docs.docker.com/compose/install/
curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

Allow nesting for Proxmox


Verify working correctly
docker run hello-world

Install and run Portainer for future container management
docker run -d -p 9000:9000 -p 9443:9443 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v /mnt/docker/portainer:/data portainer/portainer-ce

Updating Portainer in future
docker stop portainer
docker rm portainer
docker pull portainer/portainer-ce:latest
Then run the command above to run latest version of Portainer

Create a Mount Point virtual disk on the LXC container

This is where we will store all the Docker Configs (on the NAS)


This means inside our LXC container we now have /dockerConfigs/

We need to change the permissions to allow anyone to read/write these files so we can share them
https://chmodcommand.com/chmod-777/
chmod -R 777 dockerConfigs



Now we can share the /dockerConfigs/ folder via SAMBA to access over the network.

Install a SAMBA docker container so we can share this Docker share over the network (for manually editing files, as well as taking backups on the NAS.

We need to manually create somewhere for the mapped /data directory

See the samba.yml docker-compose Stacks code.

After creation we’ll need to create the config.yml file manually using vi or nano
It’s a PITA, but this is what it needs to look like;

auth:
  - user: dockerSamba
    group: grp
    uid: 1000
    gid: 1000
    password: dockerpwd


share:
  - name: dockerConfigs
    comment: Public
    path: /dockerConfigs
    browsable: yes
    readonly: no
    guestok: yes
    veto: no



This will create a share at \\190.168.1.190\dockerConfigs\
You’ll need to use the user name and password specified above.

So now we have access to create/edit/delete config folders for all containers.
And we can do it from our machine :)

This folder can be mapped by containers using the volume in docker compose (Portainer Stacks) eg;
    volumes:
      - /dockerConfigs/transmission/config:/config

Environment variables will be required for read/write access;
    environment:
      - PUID=1000
      - PGID=1000


iGPU Passthrough

On the Proxmox Node Console we’ll need to install Video Adapter Info
apt install vainfo
Then typing vainfo will give you the card and driver info


We need to check the renderer device details to passthrough
ls -l /dev/dri



Now we have the details to modify the LXC container conf file
/etc/pve/lxc/&lt;lxcNumber&gt;.conf
We need to add some details for the passthrough;
lxc.cgroup2.devices.allow: c 226:* rwm
lxc.mount.entry: /dev/dri/card0 dev/dri/card0 none bind,optional,create=file,mode=0666
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file

My final Proxmox conf file for the LXC

arch: amd64
cores: 2
features: keyctl=1,nesting=1
hostname: Docker
memory: 4096
mp0: local-lvm:vm-103-disk-1,mp=/dockerConfigs/,backup=1,size=12G
net0: name=eth0,bridge=vmbr0,firewall=1,hwaddr=9A:B0:AF:9A:2E:64,ip=dhcp,type=veth
onboot: 1
ostype: debian
rootfs: local-lvm:vm-103-disk-0,size=32G
swap: 1024
unprivileged: 0
lxc.cgroup2.devices.allow: c 226:* rwm
lxc.mount.entry: /dev/dri/card0 dev/dri/card0 none bind,optional,create=file,mode=0666
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file



Restart the LXC Container.

Go to the container console and install vainfo there to confirm the GPU is passed through.


</pre>
</div>
<div tags="" title="Proxmox on arm64 raspberry pi 4 v4">
<pre>Port ''8006''

Default password should be set manually


```
sudo su

passwd
```


Source: https://github.com/jiangcuo/Proxmox-Port/wiki/Install-Proxmox-VE-on-Debian-bookworm

Download Debian light image arm 64 from here: https://www.raspberrypi.com/software/operating-systems/#raspberry-pi-os-64-bit

Flash to USB/MicroSD using Raspberry imager tool: https://www.raspberrypi.com/software/

In tool set up ssh access, username etc.

Boot raspberry

Connect with ssh

Set /etc/host ''MANDATORY STEP''


```
nano /etc/hosts
```

Add (example, make sure to change 127.0.1.1 to actual pi4 IP)


```
192.168.1.4     PiProxmox prox4m1
```


Install proxmox


```
echo 'deb [arch=arm64] https://mirrors.apqa.cn/proxmox/debian/pve bookworm port'&gt;/etc/apt/sources.list.d/pveport.list

curl -L https://mirrors.apqa.cn/proxmox/debian/pveport.gpg -o /etc/apt/trusted.gpg.d/pveport.gpg 

apt update &amp;&amp; apt full-upgrade

apt install ifupdown2

apt install proxmox-ve postfix open-iscsi
```
Access proxmox webgui: https://youripaddress:8006/

Recommended to use useful proxmox scripts for post install:

https://tteck.github.io/Proxmox/

Raspberry Pi specific settings:


```
nano  /boot/firmware/cmdline.txt
```


add at the beginnig of the line


```
kernel=kernel8.img
```

Reboot raspberry</pre>
</div>
<div tags="" title="Proxmox on raspberry pi 4 linux vm working">
<pre>```
wget -P /root http://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-arm64.img
```



```
qm create 102 --name qemuvm --ostype l26 --cpu host --cores 1 --memory 1024 --scsihw virtio-scsi-pci --net0 virtio,bridge=vmbr0 --bios ovmf --efidisk0 local:0,efitype=4m,size=64M,format=qcow2 --serial0 socket --scsi0 local:0,import-from=/root/jammy-server-cloudimg-arm64.img,format=qcow2 --scsi1 local:cloudinit --ciuser root --cipassword rootroot --ipconfig0 ip=dhcp --boot order=scsi0
   48  qm create 102 --name qemuvm --ostype l26 --cpu host --cores 1 --memory 1024 --scsihw virtio-scsi-pci --net0 virtio,bridge=vmbr0 --bios ovmf --efidisk0 local:0,efitype=4m,size=64M,format=qcow2 --serial0 socket --scsi0 local:0,import-from=/root/jammy-server-cloudimg-arm64.img,format=qcow2 --ciuser root --cipassword rootroot --ipconfig0 ip=dhcp --boot order=scsi0
```


```
qm start 102
```
</pre>
</div>
<div tags="" title="Proxmox on raspberry pi4 network fix">
<pre>In Proxmox Gui/proxmox node/network/create/Linux Bridge/IPv4 - actual IP (ex. 192.168.1.4/24/ Gateway - Router IP (ex. 192.168.1.1)/Bridge port - physical network device (ex. eth0)/Autostart

nano /etc/network/interfaces

Add

auto vmbr0
iface vmbr0 inet static
        address 192.168.1.4/24
        gateway 192.168.1.1
        bridge-ports enp6s0
        bridge-stp off
        bridge-fd 0

Start vmbr0

ifup vmbr0

In Proxmox GUI vmbr0 should appear as Active (yes)

Reboot proxmox host

Now you can add network to VMs (vmbr0/paravirtualized-needs virtio drivers)</pre>
</div>
<div tags="" title="Proxmox onboard devices passthrough crashes host">
<pre>Source: https://forum.proxmox.com/threads/proxmox-got-freezed-pc-when-gpu-passthrough-at-pci-e-16x-pciex4.130945/#post-574905

Only the X570 and X570S have proper IOMMU isolation on all PCIe slots and (most) onboard devices. All other AM4 motherboards can only do passthough on the one x16 slot and the one M.2 slot (4 lanes) that use PCIe lanes directly from the CPU (and onboard devices that come from the CPU as well) . All other slots are in one big "chipset IOMMU group". The X470 and X370 can additionally split that x16 slot into two times x8 (which look like x16 for compatibility) that work with passthrough. Sometimes motherboard BIOS versions break passthrough as well.</pre>
</div>
<div tags="" title="Proxmox passthrough disk">
<pre>Source: 
https://pve.proxmox.com/wiki/Passthrough_Physical_Disk_to_Virtual_Machine_(VM)

Show available to proxmox host disks:


```
lsblk |awk 'NR==1{print $0" DEVICE-ID(S)"}NR&gt;1{dev=$1;printf $0" ";system("find /dev/disk/by-id -lname \"*"dev"\" -printf \" %p\"");print "";}'|grep -v -E 'part|lvm'
```

Hot-Plug/Add physical device as new virtual SCSI disk (ex. vm number 592)

```
qm set 592 -scsi2 /dev/disk/by-id/ata-ST3000DM001-1CH166_Z1F41BLC

update VM 592: -scsi2 /dev/disk/by-id/ata-ST3000DM001-1CH166_Z1F41BLC
```

Hot-Unplug/Remove virtual disk


```
qm unlink 592 --idlist scsi2

update VM 592: -delete scsi2
```

Check Configuration File

```
grep Z1F41BLC /etc/pve/qemu-server/592.conf
scsi2: /dev/disk/by-id/ata-ST3000DM001-1CH166_Z1F41BLC,size=2930266584K
```
</pre>
</div>
<div tags="" title="Proxmox repositories fix v1">
<pre>Backup sources list


```
cp /etc/apt/sources.list{,.backup}
```


Add proxmox VE no-subscription repository


```
nano /etc/apt/sources.list
```


Add


```
# Proxmox VE pve-no-subscription repository provided by proxmox.com,
# NOT recommended for production use
deb http://download.proxmox.com/debian/pve bookworm pve-no-subscription
```

Disable subscription Ceph repositories and add non subscription 


```
nano /etc/apt/sources.list.d/ceph.list
```


Comment existing line and add additional line 
 with # to be as follows 


```
#deb https://enterprise.proxmox.com/debian/ceph-reef bookworm enterprise

deb http://download.proxmox.com/debian/ceph-reef bookworm no-subscription
```

Disable Proxmox VE enterprise repository (subscription)

nano /etc/apt/sources.list.d/pve-enterprise.list

Comment line with ''#'' to be like follows


```
#deb https://enterprise.proxmox.com/debian/pve bookworm pve-enterprise
```



!!Firmware repository

Starting with Debian Bookworm (Proxmox VE 8) non-free firmware (as defined by DFSG) has been moved to the newly created Debian repository component non-free-firmware.

Enable this repository if you want to set up Early OS Microcode Updates or need additional Runtime Firmware Files not already included in the pre-installed package pve-firmware.

To be able to install packages from this component, run editor'' /etc/apt/sources.list'', append ''non-free-firmware'' to the end of each ''.debian.org ''repository line and run apt update.

Source: https://pve.proxmox.com/pve-docs/pve-admin-guide.html#sysadmin_package_repositories_ceph</pre>
</div>
<div tags="" title="proxmox show VM image disk info on the host">
<pre>```
fdisk -l /dev/pve/vm-1[Tab]
```

Example:


```
fdisk -l /dev/pve/vm-105-disk-1
```

Output


```
isk /dev/pve/vm-105-disk-1: 32 GiB, 34359738368 bytes, 67108864 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 65536 bytes / 65536 bytes
Disklabel type: gpt
Disk identifier: 4A4425C8-C952-405B-C884-E5629C5F311D

Device                      Start      End  Sectors Size Type
/dev/pve/vm-105-disk-1p1     2048 67043287 67041240  32G Microsoft basic data
/dev/pve/vm-105-disk-1p2 67043288 67108823    65536  32M Microsoft basic data
```
</pre>
</div>
<div tags="" title="Proxmox storage types for snapshots">
<pre>https://pve.proxmox.com/pve-docs/chapter-pvesm.html#_storage_types</pre>
</div>
<div tags="" title="proxmox temperature monitoring on status screen - Not workingv1">
<pre>Source: https://www.reddit.com/r/homelab/comments/rhq56e/displaying_cpu_temperature_in_proxmox_summery_in/

[img[https://i.ibb.co/gR3h7db/Proxmox-temps.png]]

Enter proxmox terminal


```
apt-get update
apt-get install lm-sensors
```

Check sensors working


```
sensors
```


Output


```
coretemp-isa-0000
Adapter: ISA adapter
Package id 0:  +54.0°C  (high = +105.0°C, crit = +105.0°C)
Core 0:        +51.0°C  (high = +105.0°C, crit = +105.0°C)
Core 1:        +51.0°C  (high = +105.0°C, crit = +105.0°C)
Core 2:        +51.0°C  (high = +105.0°C, crit = +105.0°C)
Core 3:        +51.0°C  (high = +105.0°C, crit = +105.0°C)

nvme-pci-0200
Adapter: PCI adapter
Composite:    +65.8°C  (low  = -273.1°C, high = +84.8°C)
                       (crit = +89.8°C)
```

Backup config and edit


```
cp /usr/share/perl5/PVE/API2/Nodes.pm{,.backup}

nano /usr/share/perl5/PVE/API2/Nodes.pm{,.backup}
```

Next, you can press F6 to search for ''my $dinfo'' and press Enter

The code should look like this:


```
  $res-&gt;{pveversion} = PVE::pvecfg::package() . "/" .
             PVE::pvecfg::version_text();
 
         my $dinfo = df('/', 1);     # output is bytes
```

We are going to add the following line of code in between:'' $res-&gt;{thermalstate} = \sensors\;''

So the final result should look like this:


```
 $res-&gt;{pveversion} = PVE::pvecfg::package() . "/" .
            PVE::pvecfg::version_text();

        $res-&gt;{thermalstate} = `sensors`;

        my $dinfo = df('/', 1);     # output is bytes

```

Save with ''CTRL+X''

3) Making space for the new information
Next we will need to edit another file, So once again we will use Nano

Type the following command into your shell: 

```
cp /usr/share/pve-manager/js/pvemanagerlib.js{,.backup}

nano /usr/share/pve-manager/js/pvemanagerlib.js
```


Once in press F6 to search for my ''widget.pveNodeStatus'' and press Enter

You will get a snippit of code that looks like this:


```
     Ext.define('PVE.node.StatusView', {
     extend: 'PVE.panel.StatusView',
     alias: 'widget.pveNodeStatus',
 
     height: 300,
     bodyPadding: '5 15 5 15',
 
     layout: {
         type: 'table',
         columns: 2,
         tableAttrs: {
             style: {
                 width: '100%'
             }
         }
     },
```

Next change the bodyPadding: '5 15 5 15', to bodyPadding: '20 15 20 15',

As well as height: 300, to height: 360,

Dont close the file this time!

4) Final part to edit
Ok so you know the drill by now press F6 to search for ''Manager Version'' and press Enter

You will see a section of code like this:


```
         {
             itemId: 'version',
             colspan: 2,
             printBar: false,
             title: gettext('Manager Version'),
             textField: 'pveversion',
             value: ''
         }
```

Ok now we need to add some code after this part. The code is:


```
        {
            itemId: 'thermal',
            colspan: 2,
            printBar: false,
            title: gettext('CPU Thermal State'),
            textField: 'thermalstate',
            renderer:function(value){
                const c0 = value.match(/Core 0.*?\+([\d\.]+)Â/)[1];
                const c1 = value.match(/Core 1.*?\+([\d\.]+)Â/)[1];
                const c2 = value.match(/Core 2.*?\+([\d\.]+)Â/)[1];
                const c3 = value.match(/Core 3.*?\+([\d\.]+)Â/)[1];
                return `Core 0: ${c0} ℃ | Core 1: ${c1} ℃ | Core 2: ${c2} ℃ | Core 3: ${c3} ℃`
            }
        }
```

Now we can finally press Ctrl+O to save and Ctrl+X to exit.

4)Restart the summery page
To do this you will have to type in the following command:


```
systemctl restart pveproxy
```


If you got kicked out of the shell or it froze, dont worry this is normal! As the final step, either refresh your webpage with F5 or ideally close you browser and open proxmox again.</pre>
</div>
<div tags="" title="proxmox temperatures in terminal v1">
<pre>```
apt-get update
apt-get install lm-sensors
```

Check sensors working


```
watch sensors
```</pre>
</div>
<div tags="" title="proxmox upload large ISOs using scp">
<pre>scp imagen.iso root@ProxmoxIP:/var/lib/vz/template/iso/</pre>
</div>
<div tags="" title="Proxmox USB passthrough optimization">
<pre>On proxmox host

VM/HW/Add USB/Use USB Port (not vendor/device ID)</pre>
</div>
<div tags="" title="Proxmox useful scripts">
<pre>https://tteck.github.io/Proxmox/</pre>
</div>
<div tags="" title="proxomox ZFS NAS v5">
<pre>Video tutorial: https://www.youtube.com/watch?v=-GHONmT7Y8o

Example of USB disks connected to proxmox host with samba in LXC

Please note, that client computer can be connected with multiple ehternet ports to the proxmox host, samba will aggregate those links automatically with no sttings needed.

Tested 2x2.5Gbpe links connected with 4GB RAM Samba container and USB WD portable 4TB HDD (100+MBps), getting speeds of 120-170 MBps file transfer write to the HDD without SSD caching. 300-500MBps writing on Samsung T3 SSD

In general. ''zfs doesn't support SSD write caching'' becaus of the data loss risk!

!!Create container

Connect proxmox web GUI

''Node name/Disks/select disks and press wipe
''

''Node name/Disks/ZFS/Create ZFS/Enter Name(ex. HDD_Pool)/Single disk''

''Top right/Create CT''

''General/Enter Name(ex. samba)/set password/keep unprovileged''

''Template/select debian 12 template (if empty download template)''

''Note:'' to download template: Through the GUI you can click on your storage -&gt; CT Templates -&gt; Templates -&gt; select a template -&gt; Download.

''Disk/local-lvm/16GB''

Note: recommended to create container in regular pool and not zfs pool that will be used for samba data storage. If zfs pool is removed and container resides on it, the container will become unusable

''CPU/4 cores''

''Memory 4096/Swap 0''

''Network'' Set vlan tag to 999 if using internal SW network switch such as Openwrt LXC container with internal network tagged as 999 for 2.5GBps ethernet passthrough/IPv4 DHCP

''Confirm/Finish''

Choose samba container in the proxmox GUI

''Network'' Add/add additional network interface eth1 if you have two networks (created samba container with tag 999 - you may need this one for internet access for example.

''Resources/Add mountpoint/your pool name (ex. HDD_Pool)/Disk size in GB (ex. 4000 for 4 TB)/patth (ex. /HDD_Pool)''

''Press Create''

!!Samba setup

Start the samba container

Go to console 

''proxmox GUI/Container/Console''

Login as root with chosen previously password

Check internal IPs


```
ip a | grep 192
```

Install samba package and update system

```
apt update; apt upgrade -y

apt install samba

```

Create system and samba user (ex. sharicov)


```
adduser sharicov
```


enter new samba username(ex. sharicov)/create new password


```
smbpasswd -a sharicov
```


create samba password (can be different from user's password)


Fix permissions

```
chown -R sharicov:sharicov /HDD_Pool
```

Configure samba


```
mv /etc/samba/smb.conf{,.backup}

nano /etc/samba/smb.conf
```



```
[ZFS]
comment = ZFS test pool
path = /HDD_Pool
read only = no
writable = yes
browsable = yes
guest ok = no
valid users = sharicov

[home]
browsable = no

[sharicov]
browsable = no

[nobody]
browsable = no
```

Restart samba service

```
systemctl restart smbd
```


!!SSD cache 

Show available ZFS pools

```
zpool status
```
Output


```
config:

        NAME                                        STATE     READ WRITE CKSUM
        HDD_Pool                                    ONLINE       0     0     0
          ata-WDC_WD40NMZW-11GX6S1_WD-WX11D957KAKU  ONLINE       0     0     0
```



Show HDD_Pool specific info

```
zpool status HDD_Pool
```

Look for SSD drive (ex. /dev/sde)

```
fdisk -l 
```

Add SSD as cache to HDD_Pool

```
zpool add HDD_Pool cache /dev/sde
```

Check it's added

```
zpool status HDD_Pool
```

Output

```
config:

        NAME                                        STATE     READ WRITE CKSUM
        HDD_Pool                                    ONLINE       0     0     0
          ata-WDC_WD40NMZW-11GX6S1_WD-WX11D957KAKU  ONLINE       0     0     0
        cache
          sde                                       ONLINE       0     0     0
```

See pool statistics in real time

```
watch -n1 zpool iostat -vl HDD_Pool
```

!!Use partitions of SSD for ZFS Log and Cache

Rather than full SSD, it's partitions can be used.

Create two partitions on SSD (ex. /dev/sda)


```
parted /dev/sda mklabel gpt

parted /dev/sda mkpart primary ext4 0% 50%

parted /dev/sda mkpart primary ext4 51% 100%
```

Add partitions as cache and log to existing zfs pool (ex. HDD_Pool)


```
zpool add HDD_Pool cache /dev/sda1

zpool add HDD_Pool log /dev/sda2
```



More info
https://forum.proxmox.com/threads/adding-ssd-cache-to-existing-sata-zfs-pool.84835/

https://www.reddit.com/r/zfs/comments/n35jde/how_to_speed_up_the_write_on_zfs/</pre>
</div>
<div tags="" title="proxy server for old browsers (IE 5, windows NT)">
<pre>!wrp proxy

!!!Note:
Requires ''chrome browser'' installed on host PC

Download : https://github.com/tenox7/wrp/releases

In guest computer set proxy

Example of 86box with slirp:


```
Control panel/internet options/lan/proxy/10.0.2.2:8080
```

Go instructs browser to navigate to the url or perform search

Bk is History Back

St is Stop, also re-capture screenshot without refreshing page, for example if page render takes a long time or it changes periodically

Re is Reload

W is width in pixels, adjust it to get rid of horizontal scroll bar

H is height in pixels, adjust it to get rid of vertical scroll bar. ''It can also be set to 0 to produce one very tall image and use client scroll. ''This 0 size is experimental, buggy and should be used with PNG and lots of memory on a client side.

Z is zoom or scale

C is colors, for GIF images only (unused in PNG, JPG)

K is keystroke input, you can type some letters in it and when you click Go it will be typed in the remote browser.

Bs is backspace

Rt is return / enter

&lt; ^ v &gt; are arrow keys, typically for navigating a map, buggy.

!!Optional (didn't work with 86box
https://github.com/ttalvitie/browservice

To allow connection from any address run: 

```
browservice.exe --vice-opt-http-listen-addr=0.0.0.0:8080
```
</pre>
</div>
<div tags="" title="PSX and Duckstaion covers downloader">
<pre>https://github.com/xlenore/psx-covers</pre>
</div>
<div tags="" title="Put games into vhd containers and mount from SMB network for faster move v5">
<pre>!!!Check size of the game folder pressing'' right click and properties'' on it or Alt+Enter

!!!Create a new vhd of the same size + 5% using WinNTSetup/VHD/Create/size/instant

WinNTSetup download link: https://mega.nz/folder/ObATya7C#oR2t79bT-4MGjKxOAYwkbQ

New vhd file will be mounted as disk Z: upon creation.

Copy game folder into disk Z: 

After using the disk unmount it using Right click/Eject

Copy vhd file to SAMBA server.

To map it locally from SMB server:


```
  mount-vhd -path \\NASorServerNameorIP\ShareName\data.vhd
```

!!To create vhd manually in WinNTSetup using terminal run:


```
WinNTSetup_x64.exe VHD-CREATE -file:"filename.vhd" -size:20GB -type:expandable -label:"VHD"
```


https://www.nucleustechnologies.com/blog/ways-to-mount-and-unmount-vhd-vhdx-files/

Disk manager/action/attach vhd

Make sure cmd/net use is mapped as administrator

start/cmd/as admin/


```
net use w:  \\192.168.1.1\user-pool.Games_Pool /persistent:yes
```
</pre>
</div>
<div tags="" title="PXE boot and DHCP server windows">
<pre>Download link: https://bitbucket.org/phjounin/tftpd64/downloads/

Info: https://pjo2.github.io/tftpd64/</pre>
</div>
<div tags="" title="pydio arm64 collabora v3">
<pre>First install mariadb
apt install mariadb-server

$ mariadb -u root -p
CREATE DATABASE pydio;
CREATE USER 'pydio'@'localhost' IDENTIFIED BY 'Id...';
GRANT ALL ON pydio.* TO 'pydio'@'localhost';
mysql -u pydio -p
Ctrl+D

To change password of user pydio
mysql -u pydio -p
SET PASSWORD FOR 'pydio'@'localhost' = PASSWORD('Id...');
Ctrl+D


wget https://download.pydio.com/pub/cells/dev/linux-arm64/cells
chmod +x cells
./cells configure

If needed open ports 
 yunohost firewall allow TCP 8008
 yunohost firewall allow TCP 3306

Choose web install

Connect from other PC (https):
https://192.168.3.70:8008

In database select user pydio and database pydio (as created initially)

Admin user: choose your username and password

For collabora office server install in docker: collabora/code (port 9980)


CODE Docker image
Install Docker on a server.

docker pull collabora/code
docker run -t -d -p 9980:9980 -e "extra_params=-o:ssl.enable=true" collabora/code
keep ssl is enabled to avoid errors http over https


WAIT TILL https://192.168.3.70:9980 shows OK

You can find all of the information about the docker image, such as the env variables, etc... Docker CODE official documentation.

Configure Pydio Plugin to connect to CODE
Go to Cells Console &gt; Application Parameters &gt; All Plugins and enable the Collabora Online plugin.

Change the plugin parameters to:

Libre office ssl: ''true ''if you want secured communication between collabora and pydio or false (false causes errors)

Libre office Host: host where CODE is running


Libre office Port:  CODE instance port
 usually it is running on 9980

Remember to save.

Test and start editing docs
Switch to a workspace and right-click to display a pop-up menu from which you can create a new document.

Double-click on the new file to edit. You are now able to edit it directly in Pydio Cells using the Collabora online editor!



!! To start pydio after reboot run:



```
./cell start
```





!! To add physical directory (/media/usb1)

Cells console

Storage

Data Source

Import Existing data

choose folder (example: mkdir pydiotest ; chown www-data pydiotest; ln -s  /media/usb1 pydiotest)

press on folder+ icon to create workspace

''Add read/write permission'' for workspace to appear in workspaces

restart pydio (ctrl+c in console) and ./cell start

Install guide: https://pydio.com/en/docs/v8/installation-guide
https://computingforgeeks.com/install-and-configure-pydio-file-sharing-server-on-ubuntu-18-04-lts/
https://pydio.com/en/docs/cells/v1/collabora-online</pre>
</div>
<div tags="" title="qbittorrent dark theme">
<pre>Download: (code/download zip) https://github.com/Carve/qbittorrent-webui-cjratliff.com?tab=readme-ov-file

Under Tools-&gt;Preferences-&gt;WebUI enable Use alternative WebUI.
Choose a location that points to a WebUI-compatible folder location.
Restart qBittorrent or refresh your browser for changes to take effect.</pre>
</div>
<div tags="" title="qbittorrent link adder chrome extension add magnet on right click v2">
<pre>Remote Torrent Adder Options

for ''qbittorrent ''webui choose 


```
Add server/qbittorrent v4.1 + WEBGUI
```


https://chromewebstore.google.com/detail/remote-torrent-adder/oabphaconndgibllomdcjbfdghcmenci?hl=en

Source: https://forum.qbittorrent.org/viewtopic.php?t=8403</pre>
</div>
<div tags="" title="Qbittorrent with Jdownloader in LXC container on Proxmox v8">
<pre>!!Install qBittorrent LXC container using Proxmox useful scripts

```
bash -c "$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/ct/qbittorrent.sh)"
```

Advanced/Privileged/128GB (otherwise SAMBA share won't work)


```
pct list |grep qbittorrent
```

''Example ''container id ''104''

```
pct enter 104
```



```
mkdir /Downloads
```


In qBittorrent WebUI 

''Disable'':  Enable Cross-Site Request Forgery (CSRF) protection

!!Mount SAMBA to download remotely

!!! SAMBA: 

Install SAMBA packages:

```
sudo apt-get install samba samba-common-bin
```
!!! Create samba user (same username as existing one) 


```
smbpasswd -a root
```


Configure samba: 

```
mv /etc/samba/smb.conf{,.backup} 

nano /etc/samba/smb.conf 
```
!!!!Add: 
```
[qbittorrent] 

Comment = qbittorrent NAS Download

Path = /Downloads

Browseable = yes 

Writeable = Yes 

only guest = no 

create mask = 0777 

directory mask = 0777 

Public = yes 

#Guest ok = yes 
```
Restart samba: 


```
systemctl restart smbd 
```


Check IP/hostname: 

```
hostname

ip a
```

!!Remote Torrent Adder
Chrome extension 
https://github.com/bogenpirat/remote-torrent-adder/

!!Add to Nginx Proxy Manager

''Enable ''WebSocket support


!!JDownloader

Create user on jdownloader site

https://my.jdownloader.org/index.html#dashboard

In LXC container run


```
apt update; apt upgrade -y

apt-cache search openjdk

apt-get install openjdk-17-jre #smaller version of jdk

wget http://installer.jdownloader.org/JDownloader.jar
```

Start JDownloader installation


```
java -jar JDownloader.jar -norestart
```

Run several times until prompted for jdownloader user and password

Login in web

https://my.jdownloader.org/index.html#dashboard

Enter settings

''Default Download Folder'' change to ''/Downloads''

''Archive extractor: Disable''

!!Change device name
 settings -&gt; advanced settings -&gt; "MyJDownloaderSettings: Device Name

If not changed

In LXC container find the configuration file


```
find / -name org.jdownloader.api.myjdownloader.MyJDownloaderSettings.json
```
Change name to desired

nano /root/cfg/org.jdownloader.api.myjdownloader.MyJDownloaderSettings.json

Search for ''name'' using CTRL+W

Replace and restart JDownloader


```
 ps -aux |grep -i jdownloader

kill IDofTheJavaProcess

java -jar JDownloader.jar &amp;
```

!!Autostart as a service 

[[Proxmox LXC create service for autostart v1]]
</pre>
</div>
<div tags="" title="R4S apps used 14GB yunohost">
<pre>freshrss

netdata

shellinabox

h5ai

opennote

lufi

IFM

emby

tailscale

rclone

docker

linuxserver/freshrss:latest

hurlenko/aria2-ariang:latest (including torrserver)

martadinata666/nextcloud-smb:latest	
portainer/portainer-ce

======================================

Rclone: sync.sh


```
#!/bin/sh
echo Backup HPE to Yandex
rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/

echo Yandex to Local backup
rclone copy -u --progress Yandex: /media/usb/Yandex.Disk.Backup/

echo Backup Documents from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Documents mailru:/Documents

echo Backup Tools from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Tools mailru:/Tools

echo Mail.ru Tools to Local backup
rclone copy -u --progress mailru:/Tools /media/usb/Yandex.Disk.Backup/Tools

echo Backup Yandex photos to Mail.ru
rclone copy Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

echo Backup local InstantUpload to Mail.ru
rclone copy /media/usb/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G
```

=====================================


```
sudo crontab -e 
```



```
*/30 * * * * sh /root/sync.sh &gt;/dev/null 2&lt;&amp;1 
```
</pre>
</div>
<div bag="default" created="20210415140628464" creator="sharicov" modified="20210415181354890" modifier="sharicov" revision="14" tags="ynh yunohost manual nanopi r4s" title="R4S Yunohost installation from scratch" type="text/vnd.tiddlywiki">
<pre>!!!Download Armbian image for R4S
{{Download link}}

!!! Extract Armbian image locally
{{ Extract .xz image}}

!!! Flash image to the SD card
{{Write image to SSD}}

SSH connect to 

```
ssh root@IP
```

password: 1234
Set a new password
Ctrl+C on create new user
apt update &amp; apt upgrade
apt install -y htop atop iotop ncdu mc lxd docker.io screen samba samba-common-bin usbmount

USB disks (if connected)
mkdir /media/usb1
mkdir /media/usb2

mount /dev/sda1 /media/usb1
mount /dev/sdb1 /media/usb2

Note: disks/partitions can be different, check with: fdisk -l | grep sd

Automount on boot:
add to /etc/fstab
/dev/sdb1 /media/usb1 ext4 defaults,noatime 0 1
Or for specific disk to be mounted to /media/usb1:
blkid |grep sd
Copy PARTUUID="XXXXXX" to /etc/fstab
 PARTUUID="XXXXXX" /media/usb1 ext4 defaults,noatime 0 1

Samba share 
Create new password, user must be existent:
smbpasswd -a root
mv /etc/samba/smb.conf{,.backup}
nano /etc/sambe/smb.conf

Add:
======START========
[R4S_USB1]
Comment = Home NAS
Path = /media/usb1
Browseable = yes 
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = yes
Guest ok = yes

[R4S_USB2]
Comment = Home NAS
Path = /media/usb2
Browseable = yes
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = yes
Guest ok = yes
=======END=========

systemctl restart smbd 
hostname -I
smbclient -L 127.0.0.1

Rclone (sync between clouds):
curl https://rclone.org/install.sh | sudo bash 
rclone configure
n
choose provider
all defaults besides NO autoconfig (authentication on another PC with GUI with SAME version of rclone)
create sync.sh in home directory
Add:
=====Start======
#!/bin/sh
echo Backup HPE to Yandex 
rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/ 

echo Yandex to Local backup 
rclone copy -u --progress Yandex: /media/usb1/Yandex.Disk.Backup/ 

echo Backup Documents from Yandex to Mail.ru 
rclone copy -u --progress Yandex:/Documents mailru:/Documents 

echo Backup Tools from Yandex to Mail.ru 
rclone copy -u --progress Yandex:/Tools mailru:/Tools 
=====End=======
chmod +x sync.sh

Run rclone script every 30 min 
sudo crontab -e 
Add
*/30 * * * * sh /root/sync.sh &gt;/dev/null 2&lt;&amp;1 

Docker:
docker volume create portainer_data
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce 

access in web browser IP:9000 to configure
Select Docker, then Connect
Note: If cannot connect look for open ports on r4s:
lsof -i -P -n | grep LISTEN

In portainer page create new password
Endpoint/Local/Public IP -&gt; Set r4s ip to fix 0.0.0.0

Aria2-ariang container for torrents:
Containers/Add container
Give a name
In image field add hurlenko/aria2-ariang
Publish a new network port
8080 -&gt; 8080
6800 -&gt; 6800

Restart policy / Unless stopped

Volumes
/aria2/data #Bind
/media/usb1/Downloads

Run the aria2-ariang container
enter command prompt &gt;_ select /bin/ash
vi conf/aria2.conf
change prealloc to falloc
Disconnect
Restart the container

Access aria2-airng server vi web browser IP:8080

talescale vpn install:

curl -fsSL https://pkgs.tailscale.com/stable/debian/bullseye.gpg | sudo apt-key add -

curl -fsSL https://pkgs.tailscale.com/stable/debian/bullseye.list | sudo tee /etc/apt/sources.list.d/tailscale.list

apt update
apt install tailscale
sudo tailscale up

#or tailscale up --advertise-exit-node # to use as an exit node to internet from other pears of the private network

Enable IP routing on R4S:
echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.conf
echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p /etc/sysctl.conf

Check the page https://login.tailscale.com/admin/machines to view your VPN network.

If IP routing required, enable it on the site, press on 3 dots menu (...)
Review route settings
Use as exit node -&gt; ON

Yunohost in lxd (lxc) container name *ynh*:

lxd init (choose 30GB, BTRFS)
lxc launch images:debian/buster ynh
lxc config device add ynh myport80 proxy listen=tcp:0.0.0.0:80 connect=tcp:127.0.0.1:80
lxc config device add ynh myport443 proxy listen=tcp:0.0.0.0:443 connect=tcp:127.0.0.1:443
lxc config set ynh boot.autostart true
lxc list --columns ns4
lxc exec ynh bash
apt update
apt upgrade 
apt install curl
curl https://install.yunohost.org | bash
If you have backup to restore from BEFORE connecting from web or running postinstall 
copy backup to home directory from the r4s main system (host) into lxd container:
Run in the lxd container
mkdir /home/yunohost.backup
mkdir /home/yunohost.backup/archives

 scp root@10.122.31.1:/media/usb1/Backup/yunohost_configs_backup/yunohost.backup/archives/20210413-131004_r4s.noho.st_certificate.*/home/yunohost.backup/archives

yunohost backup restore 20210413-131004_r4s.noho.st_certificate

Create new user:
yunohost user create &lt;username&gt;

Note: when loading from backup several users can be restored, please note wich is administarative user in nextcloud (no app addition possible for non administrative user).
It is better only to restore system backup with certificates and not the full application backup (transmittion was not restored at all, freshrss didn't keep rss feeds etc...)

Bonus:
Yunohost themes:
Show available:
 ls /usr/share/ssowat/portal/assets/themes/
Change:
Then you can use nano /etc/ssowat/conf.json.persistent to enable the theme you choose like this:

{"theme": "clouds"}

FreshRSS extensions:

cd /var/www/FreshRSS/extensions/
wget https://github.com/kevinpapst/freshrss-youtube/archive/master.zip
unzip master.zip
mv freshrss-youtube-master/xExtension-YouTube .
rm -rf freshrss-youtube-master/

In nextcloud add external folders (samba) InstantUpload and .Contacts-Backup (to upload photos and contacts from the phone via nextcloud app)
If .Contacts-Backup already exists delete it using Settings gear (bottom left/show hidden files)
In nextcloud android app set auto apload: camera folder to sync / three vertical dots for settings of the folder and check use subfolders (per month); uncheck "also upload existing files"

Find duplicates:
apt install fdupes
fdupes -rd /media/usb1/
type help to get a manual

Emby:
run on r4s host (not container)
lxc config device add ynh myport8096 proxy listen=tcp:0.0.0.0:8096 connect=tcp:127.0.0.1:8096
lxc config device add ynh myport8920 proxy listen=tcp:0.0.0.0:8920 connect=tcp:127.0.0.1:8920
lxc config device add ynh vartest disk source=/media/usb1/Movies path=/media

</pre>
</div>
<div bag="default" created="20210415140628464" creator="sharicov" modified="20210604060903951" modifier="sharicov" revision="14" tags="ynh yunohost manual nanopi r4s" title="R4S Yunohost installation from scratch v12" type="text/vnd.tiddlywiki">
<pre>!!!Download Armbian image for R4S
{{Download link}}

!!! Extract Armbian image locally
{{ Extract .xz image}}

!!! Flash image to the SD card
{{Write image to SSD}}

Or in windows, delete all partitions of microsd with minitool partition wizard and flash with win32DiskImager

SSH connect to 

```
ssh root@IP
```

password: 1234
Set a new password
Ctrl+C on create new user
apt update &amp; apt upgrade
apt install -y htop atop iotop ncdu mc lxd docker.io screen samba samba-common-bin usbmount

USB disks (if connected)
mkdir /media/usb1
mkdir /media/usb2

mount /dev/sda1 /media/usb1
mount /dev/sdb1 /media/usb2

Note: disks/partitions can be different, check with: fdisk -l | grep sd

Automount on boot:
add to `/etc/fstab`

`/dev/sdb1 /media/usb1 ext4 defaults,noatime 0 1`

Or for specific disk to be mounted to /media/usb1:


```
blkid |grep sd
```

Copy `PARTUUID="XXXXXX"` to` /etc/fstab`
 

```
PARTUUID="XXXXXX" /media/usb1 ext4 defaults,noatime 0 1
```

mkdir /media/usb1

mount -a

ls /media/usb1

!! Samba share 

SAMBA:


```
apt update &amp;&amp; apt upgrade -y
apt install samba samba-common-bin –y 
```


Create new password, user must be existent (default root):

```
smbpasswd -a root
mv /etc/samba/smb.conf{,.backup}
nano /etc/samba/smb.conf
```


Add:

```
[R4S_USB1]
Comment = Home NAS
Path = /media/usb1
Browseable = yes 
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = no
Guest ok = no

[R4S_USB2]
Comment = Home NAS
Path = /media/usb2
Browseable = yes
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = no
Guest ok = no
```


```
systemctl restart smbd 
hostname -I
smbclient -L 127.0.0.1
```


!! Rclone (sync between clouds):

```
curl https://rclone.org/install.sh | sudo bash 
```


```
rclone configure
```


n
choose provider
all defaults besides NO autoconfig (authentication on another PC with GUI with SAME version of rclone)

Create `sync.sh` in ''home ''directory
Add:



```
#!/bin/sh
echo Backup HPE to Yandex
rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/

echo Yandex to Local backup
rclone copy -u --progress Yandex: /media/usb1/Yandex.Disk.Backup/

echo Backup Documents from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Documents mailru:/Documents

echo Backup Tools from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Tools mailru:/Tools

echo Backup Yandex photos to Mail.ru
rclone copy Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

echo Backup loca InstantUpload to Mail.ru
rclone copy /media/usb1/InstantUpload/ mailru:/Photos/InstantUpload


```
Make executable:

```
chmod +x sync.sh
```





!! Run rclone script every 30 min 


```
sudo crontab -e 
```

Add

`*/30 * * * * sh /root/sync.sh &gt;/dev/null 2&lt;&amp;1 `

!! Docker:

```
docker volume create portainer_data
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce 
```


access in web browser `IP:9000 `to configure

Select `Docker`, then `Connect`

`Note:` If cannot connect look for open ports on r4s:

```
lsof -i -P -n | grep LISTEN
```


In portainer page create new password

`Endpoint/Local/Public IP -&gt; Set r4s ip to fix 0.0.0.0`

!! Update portainer

Delete portainer and persistent volume

```
docker rm portainer
docker volume rm  portainer_data
```

Reinstall portainer


```
docker volume create portainer_data

docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce
```



!! Aria2-ariang container for torrents:
`Containers`/`Add container`

Give a name

In image field add `hurlenko/aria2-ariang`


```
Publish a new network port
8080 -&gt; 8080
6800 -&gt; 6800
```



```
Restart policy` / `Unless stopped
```

```
Volumes
/aria2/data #Bind
/media/usb1/Downloads

```

Run the aria2-ariang container

enter command prompt `&gt;_` select `/bin/ash`


```
vi conf/aria2.conf
```

change `prealloc `to `falloc`

`Disconnect `from console

Restart the container

Access aria2-airng server vi web browser `IP:8080`

!! talescale vpn install:


```
curl -fsSL https://pkgs.tailscale.com/stable/debian/bullseye.gpg | sudo apt-key add -
curl -fsSL https://pkgs.tailscale.com/stable/debian/bullseye.list | sudo tee /etc/apt/sources.list.d/tailscale.list
apt update
apt install tailscale
sudo tailscale up

```

Or `tailscale up --advertise-exit-node` to use as an `exit node to internet` from other pears of the private network

!!! Enable IP routing on R4S:

```
echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.conf
echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p /etc/sysctl.conf
```


Check the page https://login.tailscale.com/admin/machines to view your VPN network.

If IP routing required, enable it on the site above, press on 3 dots menu (`...`)

`Review route settings`

`Use as exit node -&gt; ON`

!! Yunohost in lxd (lxc) container name *ynh*:


```
lxd init (choose 30GB, BTRFS)
lxc launch images:debian/buster ynh
lxc config device add ynh myport80 proxy listen=tcp:0.0.0.0:80 connect=tcp:127.0.0.1:80
lxc config device add ynh myport443 proxy listen=tcp:0.0.0.0:443 connect=tcp:127.0.0.1:443
lxc config set ynh boot.autostart true
lxc list --columns ns4
lxc exec ynh bash
apt update
apt upgrade 
apt install curl
curl https://install.yunohost.org | bash
```

!! Lxc snpshot take/restore:

Show info on existing snapshots (`ynh` container):

```
lxc info ynh
```

Take snapshot (`ynh` container; snapshot name `snapshot01`):

```
lxc snapshot ynh snapshot01
```

Restore snapshot:

```
lxc restore ynh snapshot01
```
!! Yunohost backup 

If you have backup to restore from ''BEFORE'' connecting from web or running postinstall 

copy backup to home directory from the r4s main system (host) into lxd container:

Enter lxc container named ynh:


```
lxc exec ynh bash
```
Run in the lxd container:


```
mkdir /home/yunohost.backup
mkdir /home/yunohost.backup/archives
```

Copy backup:

```
 scp root@10.122.31.1:/media/usb1/Backup/yunohost_configs_backup/yunohost.backup/archives/20210413-131004_r4s.noho.st_certificate.*/home/yunohost.backup/archives
```
Restore the backup:


```
yunohost backup restore 20210413-131004_r4s.noho.st_certificate
```


Create new user:


```
yunohost user create &lt;username&gt;
```


Note: when loading from backup several users can be restored, please note wich is administarative user in nextcloud (no app addition possible for non administrative user).
It is better only to restore system backup with certificates and not the full application backup (transmittion was not restored at all, freshrss didn't keep rss feeds etc...)

!! Bonus:

!!! Manual update yunohost:


```
# Fetch available updates
yunohost tools update

# Upgrade all system packages
yunohost tools upgrade --system

# Upgrade all apps
yunohost tools upgrade --apps

# Upgrade a specific application
yunohost app upgrade wordpress
```


!!! Yunohost themes:

Show available:

```
 ls /usr/share/ssowat/portal/assets/themes/
```

Change:
Then you can use nano /etc/ssowat/conf.json.persistent to enable the theme you choose like this:

`{"theme": "clouds"}`

!!! FreshRSS extensions:


```
cd /var/www/FreshRSS/extensions/
wget https://github.com/kevinpapst/freshrss-youtube/archive/master.zip
unzip master.zip
mv freshrss-youtube-master/xExtension-YouTube .
rm -rf freshrss-youtube-master/
```


In nextcloud add external folders (samba) InstantUpload and .Contacts-Backup (to upload photos and contacts from the phone via nextcloud app)
If .Contacts-Backup already exists delete it using Settings gear (bottom left/show hidden files)
In nextcloud android app set auto apload: camera folder to sync / three vertical dots for settings of the folder and check use subfolders (per month); uncheck "also upload existing files"

!!! Find duplicates:

```
apt install fdupes
fdupes -rd /media/usb1/
type help to get a manual
```


!!! Emby:
run on r4s host (not container)

```
lxc config device add ynh myport8096 proxy listen=tcp:0.0.0.0:8096 connect=tcp:127.0.0.1:8096
lxc config device add ynh myport8920 proxy listen=tcp:0.0.0.0:8920 connect=tcp:127.0.0.1:8920
lxc config device add ynh vartest disk source=/media/usb1/Movies path=/media
```


</pre>
</div>
<div bag="default" created="20210415140628464" creator="sharicov" modified="20210604060903951" modifier="sharicov" revision="14" tags="ynh yunohost manual nanopi r4s" title="R4S Yunohost installation from scratch v9" type="text/vnd.tiddlywiki">
<pre>!!!Download Armbian image for R4S
{{Download link}}

!!! Extract Armbian image locally
{{ Extract .xz image}}

!!! Flash image to the SD card
{{Write image to SSD}}

Or in windows, delete all partitions of microsd with minitool partition wizard and flash with win32DiskImager

SSH connect to 

```
ssh root@IP
```

password: 1234
Set a new password
Ctrl+C on create new user
apt update &amp; apt upgrade
apt install -y htop atop iotop ncdu mc lxd docker.io screen samba samba-common-bin usbmount

USB disks (if connected)
mkdir /media/usb1
mkdir /media/usb2

mount /dev/sda1 /media/usb1
mount /dev/sdb1 /media/usb2

Note: disks/partitions can be different, check with: fdisk -l | grep sd

Automount on boot:
add to `/etc/fstab`

`/dev/sdb1 /media/usb1 ext4 defaults,noatime 0 1`

Or for specific disk to be mounted to /media/usb1:


```
blkid |grep sd
```

Copy `PARTUUID="XXXXXX"` to` /etc/fstab`
 

```
PARTUUID="XXXXXX" /media/usb1 ext4 defaults,noatime 0 1
```


!! Samba share 
Create new password, user must be existent:

```
smbpasswd -a root
mv /etc/samba/smb.conf{,.backup}
nano /etc/sambe/smb.conf
```


Add:

```
[R4S_USB1]
Comment = Home NAS
Path = /media/usb1
Browseable = yes 
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = yes
Guest ok = yes

[R4S_USB2]
Comment = Home NAS
Path = /media/usb2
Browseable = yes
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = yes
Guest ok = yes
```


```
systemctl restart smbd 
hostname -I
smbclient -L 127.0.0.1
```


!! Rclone (sync between clouds):

```
curl https://rclone.org/install.sh | sudo bash 
```


```
rclone configure
```


`n
choose provider
all defaults besides NO autoconfig `(authentication on another PC with GUI with SAME version of rclone)

Create `sync.sh` in ''home ''directory
Add:



```
#!/bin/sh
echo Backup HPE to Yandex
rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/

echo Yandex to Local backup
rclone copy -u --progress Yandex: /media/usb1/Yandex.Disk.Backup/

echo Backup Documents from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Documents mailru:/Documents

echo Backup Tools from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Tools mailru:/Tools

echo Backup Yandex photos to Mail.ru
rclone copy Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

echo Backup loca InstantUpload to Mail.ru
rclone copy /media/usb1/InstantUpload/ mailru:/Photos/InstantUpload


```
Make executable:

```
chmod +x sync.sh
```





!! Run rclone script every 30 min 


```
sudo crontab -e 
```

Add

`*/30 * * * * sh /root/sync.sh &gt;/dev/null 2&lt;&amp;1 `

!! Docker:

```
docker volume create portainer_data
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce 
```


access in web browser `IP:9000 `to configure

Select `Docker`, then `Connect`

`Note:` If cannot connect look for open ports on r4s:

```
lsof -i -P -n | grep LISTEN
```


In portainer page create new password

`Endpoint/Local/Public IP -&gt; Set r4s ip to fix 0.0.0.0`

!! Update portainer

Delete portainer and persistent volume

```
docker rm portainer
docker volume rm  portainer_data
```

Reinstall portainer


```
docker volume create portainer_data

docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce
```



!! Aria2-ariang container for torrents:
`Containers`/`Add container`

Give a name

In image field add `hurlenko/aria2-ariang`


```
Publish a new network port
8080 -&gt; 8080
6800 -&gt; 6800
```



```
Restart policy` / `Unless stopped
```

```
Volumes
/aria2/data #Bind
/media/usb1/Downloads

```

Run the aria2-ariang container

enter command prompt `&gt;_` select `/bin/ash`


```
vi conf/aria2.conf
```

change `prealloc `to `falloc`

`Disconnect `from console

Restart the container

Access aria2-airng server vi web browser `IP:8080`

!! talescale vpn install:


```
curl -fsSL https://pkgs.tailscale.com/stable/debian/bullseye.gpg | sudo apt-key add -
curl -fsSL https://pkgs.tailscale.com/stable/debian/bullseye.list | sudo tee /etc/apt/sources.list.d/tailscale.list
apt update
apt install tailscale
sudo tailscale up

```

Or `tailscale up --advertise-exit-node` to use as an `exit node to internet` from other pears of the private network

!!! Enable IP routing on R4S:

```
echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.conf
echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p /etc/sysctl.conf
```


Check the page https://login.tailscale.com/admin/machines to view your VPN network.

If IP routing required, enable it on the site above, press on 3 dots menu (`...`)

`Review route settings`

`Use as exit node -&gt; ON`

!! Yunohost in lxd (lxc) container name *ynh*:


```
lxd init (choose 30GB, BTRFS)
lxc launch images:debian/buster ynh
lxc config device add ynh myport80 proxy listen=tcp:0.0.0.0:80 connect=tcp:127.0.0.1:80
lxc config device add ynh myport443 proxy listen=tcp:0.0.0.0:443 connect=tcp:127.0.0.1:443
lxc config set ynh boot.autostart true
lxc list --columns ns4
lxc exec ynh bash
apt update
apt upgrade 
apt install curl
curl https://install.yunohost.org | bash
```

!! Lxc snpshot take/restore:

Show info on existing snapshots (`ynh` container):

```
lxc info ynh
```

Take snapshot (`ynh` container; snapshot name `snapshot01`):

```
lxc snapshot ynh snapshot01
```

Restore snapshot:

```
lxc restore ynh snapshot01
```
!! Yunohost backup 

If you have backup to restore from ''BEFORE'' connecting from web or running postinstall 

copy backup to home directory from the r4s main system (host) into lxd container:

Enter lxc container named ynh:


```
lxc exec ynh bash
```
Run in the lxd container:


```
mkdir /home/yunohost.backup
mkdir /home/yunohost.backup/archives
```

Copy backup:

```
 scp root@10.122.31.1:/media/usb1/Backup/yunohost_configs_backup/yunohost.backup/archives/20210413-131004_r4s.noho.st_certificate.*/home/yunohost.backup/archives
```
Restore the backup:


```
yunohost backup restore 20210413-131004_r4s.noho.st_certificate
```


Create new user:


```
yunohost user create &lt;username&gt;
```


Note: when loading from backup several users can be restored, please note wich is administarative user in nextcloud (no app addition possible for non administrative user).
It is better only to restore system backup with certificates and not the full application backup (transmittion was not restored at all, freshrss didn't keep rss feeds etc...)

!! Bonus:

!!! Manual update yunohost:


```
# Fetch available updates
yunohost tools update

# Upgrade all system packages
yunohost tools upgrade --system

# Upgrade all apps
yunohost tools upgrade --apps

# Upgrade a specific application
yunohost app upgrade wordpress
```


!!! Yunohost themes:

Show available:

```
 ls /usr/share/ssowat/portal/assets/themes/
```

Change:
Then you can use nano /etc/ssowat/conf.json.persistent to enable the theme you choose like this:

`{"theme": "clouds"}`

!!! FreshRSS extensions:


```
cd /var/www/FreshRSS/extensions/
wget https://github.com/kevinpapst/freshrss-youtube/archive/master.zip
unzip master.zip
mv freshrss-youtube-master/xExtension-YouTube .
rm -rf freshrss-youtube-master/
```


In nextcloud add external folders (samba) InstantUpload and .Contacts-Backup (to upload photos and contacts from the phone via nextcloud app)
If .Contacts-Backup already exists delete it using Settings gear (bottom left/show hidden files)
In nextcloud android app set auto apload: camera folder to sync / three vertical dots for settings of the folder and check use subfolders (per month); uncheck "also upload existing files"

!!! Find duplicates:

```
apt install fdupes
fdupes -rd /media/usb1/
type help to get a manual
```


!!! Emby:
run on r4s host (not container)

```
lxc config device add ynh myport8096 proxy listen=tcp:0.0.0.0:8096 connect=tcp:127.0.0.1:8096
lxc config device add ynh myport8920 proxy listen=tcp:0.0.0.0:8920 connect=tcp:127.0.0.1:8920
lxc config device add ynh vartest disk source=/media/usb1/Movies path=/media
```


</pre>
</div>
<div tags="" title="RAM cache">
<pre>```
sysctl -a | grep dirty
vm.dirty_background_bytes = 0
vm.dirty_background_ratio = 1
vm.dirty_bytes = 0
vm.dirty_expire_centisecs = 3000
vm.dirty_ratio = 2
vm.dirty_writeback_centisecs = 500
vm.dirtytime_expire_seconds = 43200
```

I understand why the vm.dirty_background ratio is 1% and vm.dirty_ratio is 2% (that is what I set them to  awhile back to prevent out-of-memory issues) but the vm-dirtytime_expire_seconds of 43200 is 12 hours!  That says the data could sit there for 12 hours before it is forced to disk...


```
vm.dirty_expire_centisecs = 3000
```

This is the one about max time before flush, so 30 secs.

Source: https://forums.unraid.net/topic/84100-unraid-not-using-ram-cache/

!!To set dirty rate


```
sysctl vm.dirty_ratio=20
```


You could install the ''Tips and Tweaks Plugin'' and raise the ''vm.dirty_ratio to 50% ''to use 50% of your free RAM as your writing cache (linux default is 20%):

https://forums.unraid.net/topic/47457-tips-and-tweaks-page/?tab=comments#comment-468078

 

By default Linux will use 100% of your free RAM as your read cache.

 

More infos in #7 of my guide:

https://forums.unraid.net/topic/97165-smb-performance-tuning/</pre>
</div>
<div tags="" title="Raspberry boot from USB and GUI raspbian lite">
<pre>Boot into raspberry lite (user:pi)
sudo su
apt get update &amp;&amp; apt get upgrade
apt autoremove
reboot

rpi-eeprom-update -d -a
raspi-config

Advanced options / Boot order / USB boot

GUI:
raspi-config

Performance / alternative opengl driver
Performance / video memory set to 256MB
Advanced / enable xcom

apt-get install -y raspberrypi-ui-mods rpi-chromium-mods
reboot

If you want autologin you have to run raspi-config again and select "Boot option"-&gt;"Desktop / CLI"-&gt;"Desktop autologin"

Xinit (optional)
If you do not want autologin but want to be able to start the gui manually sudo apt-get install --no-install-recommends xinit so that you can boot to the console start the desktop as required using the command startx.

https://gist.github.com/kmpm/8e535a12a45a32f6d36cf26c7c6cef51</pre>
</div>
<div bag="default" created="20210416145721673" creator="sharicov" modified="20210416145948283" modifier="sharicov" revision="1" tags="manual" title="Raspberry Pi4 wifi auto connect" type="text/vnd.tiddlywiki">
<pre> sudo raspi-config
System Options/S1 Wireless LAN
Enter SSID
Enter password

Raspberry will connect automatically each time wifi present

Can be used as backup link to phone hotspot in case of Ethernet failure</pre>
</div>
<div tags="" title="raspbery nextcloud distro nextcloudpi v1">
<pre>Debian image for raspberry: 
 https://raspi.debian.net/tested-images/

nextcloudpi site: https://ownyourbits.com/nextcloudpi/

root (empty password, local only)


```
/etc/ssh/sshd_config
```

Unmark:


```
PermitRootLogin yes
```

Restart ssh service

```
/etc/init.d/ssh restart
```



```
apt update
```



```
apt install curl
```



```
curl -sSL https://raw.githubusercontent.com/nextcloud/nextcloudpi/master/install.sh | bash
```
</pre>
</div>
<div tags="" title="rclone config file move to another computer">
<pre>Show rclone config file location:


```
 rclone config file 
```

From new computer:


```
scp root@IP_of_OLD_PC:/root/.config/rclone/rclone.conf /root/.config/rclone/rclone.conf
```

</pre>
</div>
<div tags="" title="rclone install/update v2">
<pre>Check current version

```
rclone --version
```

Latest version on web: 
https://rclone.org/downloads/

!!Install/update
```
sudo -v ; curl https://rclone.org/install.sh | sudo bash
```

Source: https://rclone.org/install/</pre>
</div>
<div tags="" title="rclone mailru setup cloud.mail.ru v3">
<pre>login mail.ru in web browser.

Navigate to https://account.mail.ru/user/2-step-auth/passwords/

Press Add

Provide recognizable name (ex. rclone)

Enter mail.ru password

Copy generated password to clipboard

configure rclone with


```
rclone config
```

edit/mailru/user-no/password/...

Paste the generated password when prompted.

Quit the configuration dialog

Type:


```
rclone lsd mailru:/
```


Output should list directories on cloud.mail.ru

To fix ''ERROR : : error listing: invalid character '&lt;' looking for beginning of value'' error add 

```
--tpslimit 10
```

 to rclone command when syncing with mail.ru


To debug connection use 


```
-vv --dump responses
```

More info: https://github.com/rclone/rclone/issues/7768

!!Logging mail.ru connections history

https://e.mail.ru/settings/actions?utm_source=gmailer_mkt&amp;utm_medium=email&amp;utm_campaign=auto_chekup&amp;utm_term=garage

</pre>
</div>
<div tags="" title="re-negotiate network speed linux">
<pre>!Check net speed on router:

http://192.168.3.1/html/index.html#/more/wansettings


!!Find out network port(ex. ''eth0'')

```
ip addr show| grep eth |grep mtu
```


!!Look for possible issues

```
dmesg  |grep eth0
```

!!Force speed negotiation


```
mii-tool -r eth0
```

or


```
ethtool -r eth0
```

</pre>
</div>
<div tags="" title="Realtek 8152 USB Ethernet network adapter OpenWRT v1">
<pre>opkg install kmod-usb-net-rtl8152</pre>
</div>
<div tags="" title="Realtek RTL8125 USB 2.5Gbps windows drivers 10.72 official with RSS support v3">
<pre>Driver version ''1156.15.20.327''

Getting 820MBps/250MBps Write/Read to/from Unraid cache (exclusive)
Getting 500+MBps/250 Write/Read to/from Unraid cache (regular)


```
hdparm -tT /dev/nvme0n1
```


Gives 701MBps on unraid itself

Things to try to fix download from unraid 230MBps speed (vs 820MBps upload):

On windows client side in network adapter advanced settings:

```
Transmit Buffers: 128 - resetting on write to unraid, same speed of read
Transmit URBs: 64 - resetting on write to unraid, same speed of read
ARP Offload: Disabled  same speed of read
NS Offload: Disabled same speed of read
```


On unraid side:

```
Jumbo Frame: 9000
Samba extra options:
```



```
???server multi channel support = yes
aio read size = 1
aio write size = 1
interfaces = "192.168.137.247;capability=RSS,speed=2500000000" 
```


Manual:
RSS = Receive-Side Scaling (for multithread on SINGLE PORT)

2.5Gbpe USB driver
Win11 Auto Installation Program (NetAdapterCx) 1156
https://www.realtek.com/Download/Overview?menu_id=276

RSS for onboard 1Gbps adapter
Win10/Win11 Auto Installation Program (NDIS) - Not Support Power Saving https://www.realtek.com/Download/List?cate_id=584

Description https://www.realtek.com/Product/Index?id=3962

To check in windows in powershell as admin

Get-SmbClientNetworkInterface

Discussion: https://www.reddit.com/r/UsbCHardware/comments/13gzbvo/any_reliable_usbc_25g_nics_not_based_on_realtek/


Power management: Uncheck ''"Allow the computer to turn off this device to save power"''


```
IPV6: Disabled

Driver version (downloaded from Realtek): 1156.13.20.420 (20/04/2023)

Advanced settings

Adaptive Link Speed: Disabled

Advanced EEE: Disabled

ARP Offload: Enabled (Disabled)

Battery Mode Link Speed: Not Speed Down

EEE Max Support Speed: 2.5 Gbps Full Duplex

Energy-Efficient Ethernet: Disabled

Flow Control: Disabled

Gigabit Lite: Disabled

Green Ethernet: Disabled

Idle power down restriction: Only when user is not active

Idle Power Saving: Disabled

IPv4 Checksum Offload: Rx &amp; Tx Enabled

Jumbo Frame: 9014 (Disabled)

Large Send Offload v2 (IPv4): Enabled

Large Send Offload v2 (IPv6): Enabled

Miscellaneous Transfer Settings: Disabled

Network Address: Not Present

NS Offload: Enabled (Disabled)

Priority &amp; VLAN: Priority &amp; VLAN Disabled

Receive Buffers: 128

Receive URBs: 64

Recv Segment Coalescing (IPv4): Enabled

Recv Segment Coalescing (IPv6): Enabled

Shutdown Wake-On-Lan: Enabled

Speed &amp; Duplex: Auto Negotiation

TCP Checksum Offload (IPv4): Rx &amp; Tx Enabled

TCP Checksum Offload (IPv6): Rx &amp; Tx Enabled

Transmit Buffers: 64

Transmit URBs: 32

UDP Checksum Offload (IPv4): Rx &amp; Tx Enabled

UDP Checksum Offload (IPv6): Rx &amp; Tx Enabled

VLAN ID: Not Present

Wake on link change: Enabled

Wake on Magic Packet: Enabled

Wake on pattern match: Enabled

WOL &amp; Shutdown Link Speed: 10 Mbps First
```
</pre>
</div>
<div created="20210430095719318" modified="20210509114528157" tags="manual" title="redmi twrp v6">
<pre>To fix "Press any key to shutdown" in fastboot (amd fix):
Create and run as ADMIN following bat in windows:


```
@echo off
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "osvc" /t REG_BINARY /d "0000" /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "SkipContainerIdQuery" /t REG_BINARY /d "01000000" /f
reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\18D1D00D0100" /v "SkipBOSDescriptorQuery" /t REG_BINARY /d "01000000" /f

pause

```

Source: https://www.maketecheasier.com/install-twrp-recovery-android-no-root/

Manuals for redmi 4 prime:

https://4pda.ru/forum/index.php?showtopic=783994&amp;st=180#entry56648605

Download platform tools:

https://4pda.ru/forum/dl/post/21297028/tools_r30.0.5-windows.zip

Enable developer mode on the phone itself by clicking 5 times on kernel number in about screen, then settings, developer, USB debug `ON`

Check device is connected over USB and run (in the tools folder);


```
adb devices
```


On the phone `accept client`

Reboot phone to fastboot mode:


```
adb reboot bootloader
```


Check boot unlocked:


```
fastboot devices 
fastboot oem device-info
fastboot reboot
```

Sould be unlocked `true`

Download twrp for your device: (example redmi 4 prime)

https://4pda.ru/forum/index.php?showtopic=794653&amp;st=30640


Example: twrp-3.2.3-0-`markw`_mod+treble_reload.img


Boot to twrp from windows without flashing:


```
fastboot boot twrp.img
```



Sideload rom zip:

On phone twrp enter advanced/ `adb sideload mode`

On PC run

To install rom:

```
adb sideload NameOfTheImage.zip
```
Example: crDroidAndroid-11.0-20210501-`markw`-v7.5.zip

To disable disk encryption:

Download script:

https://drive.google.com/file/d/1As6z5v7NEIfOk67jXHBX34cbnFZdEjy9/view

Run on PC:


```
adb sideload Disable-Force-Encryption-Treble.zip
```



To install google apps:

download here: https://sourceforge.net/projects/nikgapps/files/Releases/NikGapps-R/

Run on PC:

```
adb sideload NameOfTheImage.zip
```

To root the phone (not working):

Download magisk from here: https://magiskmanager.com/

Rename .apk to .zip

```
adb sideload NameOfTheImage.zip
```

TWRP install is from the twrp utility itself

Reboot 


Troubleshooting enter password in twrp:

my twrp worked with this solution :
-reboot into recovery
-cancel the password require screen
-swipe to unlock
- wipe all
-reboot into recover again
now no password require anymore , everything should work as usual

Flash twrp permanently (working)

Phone in fastboot:

On pc run

```
fastboot flash recovery twrp-3.1.X-XXX.img
```


fastboot flashing unlock

fastboot reboot</pre>
</div>
<div tags="" title="remmina vnc html">
<pre>Docker: https://hub.docker.com/r/linuxserver/remmina

Custom user for session:

add environment value:


```
PASSWORD and your password
```

User will be ''abc''

Custom user name can be set with environment value "CUSTOM_USER" (not working)</pre>
</div>
<div tags="" title="Remote desktop win 11">
<pre>Settings &gt; RemoteDesktop &gt; On

Remote desktop users &gt; Select existing users ''with password''

gpedit.msc

Computer Configuration &gt; Administrative Templates &gt; System &gt; Credentials Delegation

Double click ''Restrict delegation of credentials to the remote servers''

Select ''Disable''

Note: only user with password allowed.

</pre>
</div>
<div tags="manual" title="Remote desktop without password (blank empty password)">
<pre>Click Start, point to Run, type gpedit.msc, and then click OK to start the Group Policy Editor.
Open Computer Configuration\Windows Settings\Security Settings\Local Policies\Security Options\Accounts: Limit local account use of blank passwords to console logon only.
Double-click Limit local account use of blank passwords to console logon only.
Click Disabled, and then click OK.
Quit Group Policy Editor.

Source: https://newbedev.com/remote-desktop-without-a-password</pre>
</div>
<div tags="" title="Remote PC monitoring on android">
<pre>Remote system monitoring

Server download (Windows): 

https://www.trigonesoft.com/

Client download (android): 

https://play.google.com/store/apps/details?id=com.trigonesoft.rsm

FPS monitoring via RTSS server:

https://www.guru3d.com/files-details/rtss-rivatuner-statistics-server-download.html</pre>
</div>
<div tags="" title="remote restart windows PC over powershell">
<pre>```
Restart-Computer -ComputerName 192.168.137.1 -Force
```


```
shutdown.exe /m \\192.168.3.5 /r /t 0 /f
```
</pre>
</div>
<div tags="" title="remount as write to fix ext4 fsck v3">
<pre>Check dmesg for EXT4-fs errors.

Example:


```
[   71.578919] EXT4-fs error (device mmcblk0p2): ext4_free_inode:345: comm php-fpm: bit already cleared for inode 330886
```



check mounted partitions (ex microSD card):

```
mount |grep mmc
```
Example of corrupted /dev/mmcblk0p2

```
e2fsck -Dy /dev/mmcblk0p2
```


```
reboot
```


!!Optional (not working):

```
mount -o remount,rw /dev/mmcblk0p2 /
```

fsck.ext4 /dev/mmcblk0p2


```
touch /forcefsck
```


```
reboot
```

After reboot check if file exists and delete it:


```
ls -al /forcefsck
rm /forcefsck
```</pre>
</div>
<div tags="" title="Remove managed by your organization Edge policies v2">
<pre>Source (working): https://winaero.com/remove-managed-by-your-organization-from-microsoft-edge/


Source: https://www.thewindowsclub.com/your-browser-is-managed-by-your-organization-edge


```
rd /s /q "%WinDir%\System32\GroupPolicyUsers"
```


```
rd /s /q "%WinDir%\System32\GroupPolicy"
```


```
gpupdate /force
```
</pre>
</div>
<div tags="" title="Remove or reinstall docker and network from OpenWRT v6">
<pre>!!Docker commands:
 https://docs.docker.com/engine/reference/commandline/docker/

!!Docker host configuration for OpenWRT:

https://openwrt.org/docs/guide-user/virtualization/docker_host

!!To remove docker from OpenWRT system:

```
opkg remove foo –force-removal-of-dependent-packages luci-app-dockerman

opkg remove foo –force-removal-of-dependent-packages docker-compose

opkg remove foo –force-removal-of-dependent-packages dockerd

opkg remove foo –force-removal-of-dependent-packages docker
```

To reinstall:


```
opkg install docker dockerd docker-compose luci-app-dockerman
```

Run dockerd service:


```
dockerd
```

!!Troubleshooting

Stop the dockerd service:

/etc/init.d/dockerd stop

Start dockerd


```
dockerd
```


In another ssh terminal window look for running containers:


```
docker ps
```

Install portainer:

```
docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --restart=always    -v /var/run/docker.sock:/var/run/docker.sock   -v portainer_data:/data portainer/portainer-ce:latest
```


Restart portainer container


```
docker restart portainer

docker ps
```

Install ariang container:

```
docker run -d -p 8080:8080 --name=ariang --restart=always    -v /var/run/docker.sock:/var/run/docker.sock  hurlenko/aria2-ariang
```


Run ping from ariang container:


```
docker exec ariang ping 8.8.8.8
```

Troubleshooting docker0 interface:


```
opkg update; opkg install tcpdump; tcpdump -i docker0 -vn tcp port 9000
```
</pre>
</div>
<div tags="" title="Remove restore notification from Edge">
<pre>First, double-check if the ''Startup boost ''option is ''disabled ''in Settings &gt; System.


```
%AppData%\Local\Microsoft\Edge\User Data\Default
```

1. Go to this path and look for the file "''Preferences''"

2. drag the file to Notepad to open its contents

3. Press Ctrl + F to and find'' exit_type''. The value should be Crashed, change it to ''none''

4. Press Ctrl + S to save then exit the notepad

5. Right-click on the "Preferences" file then select Properties.
6. Put a check on ''Read-only ''so MS Edge won't change its value

Source: https://answers.microsoft.com/en-us/microsoftedge/forum/all/how-to-completely-disable-restore-pages-pop-out-in/02c02721-b135-422e-ba6b-0ee01ec3f2c9

</pre>
</div>
<div tags="" title="Rename Wazuh agent">
<pre>On wazuh agent PC

```
/var/ossec/bin/agent-auth -m ServerIP -A NewName

systemctl start wazuh-agent
```

''Note'': The disadvantage of this process is that the agent will have a new ID after this process.

Source: https://groups.google.com/g/wazuh/c/ULoiDDy5Br0</pre>
</div>
<div tags="" title="renew IP from dhcp one line">
<pre>Example eth0

```
sudo dhclient -r eth0; sudo dhclient eth0
```
</pre>
</div>
<div tags="" title="renew release ip address in linux dhclient">
<pre>Get interface name:


```
ip a |grep 192
```


Renew ip address (example interface ''wlp7s0'')


```
sudo dhclient -v -r wlp7s0
```
</pre>
</div>
<div tags="" title="repair or copy bcd from running windows to another partition">
<pre>run partition tool like minitool partition wizard

set drive letter for target efi partition (ex. I:)

Copy BCD from current windows to target EFI partition (ex. I)


```
bcdboot c:\windows /S c:
```

Check current BCD


```
bcdedit
```
</pre>
</div>
<div tags="" title="reset disk smart s.m.a.r.t. health status in hard disk sentinel">
<pre>In SMART tab in error line enter offset which is negative value in decimal of hexa data columt

Example for C8 it is -200

Source: https://www.hdsentinel.com/hard_disk_case_communication_error.php</pre>
</div>
<div tags="" title="Reset Portainer password (user admin)">
<pre># stop the existing Portainer container

```
docker container stop portainer
```


# run the helper using the same bind-mount/volume for the data volume

```
docker run --rm -v portainer_data:/data portainer/helper-reset-password
```

2020/06/04 00:13:58 Password succesfully updated for user: ''admin''
2020/06/04 00:13:58 Use the following password to login: ''&amp;_4#\3^5V8vLTd)E"NWiJBs26G*9HPl1''

# restart portainer and use the password above to login

```
docker container start portainer
```

Source: https://github.com/portainer/helper-reset-password</pre>
</div>
<div tags="" title="Reset windows login password v2">
<pre>Source: http://www.chntpw.com/reset-windows-local-password-with-parted-magic/

Download tool: http://www.chntpw.com/download/

How to Reset Windows Local Password with Parted Magic?

Download the ISO image of Parted Magic and use your favorite burning software (for instance, ISO2Disc) to burn it to an empty CD (or USB thumb drive).
Boot your computer from the Parted Magic LiveCD. The first screen you’ll see a list of options. Select the default option as it works with most computers.
parted-magic-boot-options

When booted to the desktop, click on the Parted Magic button located at the left bottom corner. Select Rescue and then click Change Windows Password.
parted-magic-desktop

You’ll be prompted to pick a method to change or reset your password, click the “Not Hibernated – Windows PC was Shut Down” option.
windows-password-reset-methods

Next select your Windows installation that was detected by Parted Magic.
select-windows-installation

This will start the built-in chntpw utility. Type 1 and press Enter to select “Edit user data and passwords“.
chntpw-main-menu

You’ll see all Windows user names shown on the screen. Type the RID of that account you want to reset password for, and hit Enter.
select-local-account

Type 1 and hit Enter if you want to remove the password for your selected user.
reset-windows-local-password

Now that you’ve cleared the local password. Type q to exit the User Edit Menu.
exit-user-edit-menu

Type q to quite the chntpw program.
quit-chntpw

Type y to save your password reset changes back to disk.
write-registry-hive

Reboot your computer and eject Parted Magic LiveCD, you can then log in to Windows local account without a password! That’s it!

Alternatives:

http://www.cdslow.org.ru/en/ntpwedit/

https://www.lazesoft.com/download.html

https://4sysops.com/archives/reset-a-windows-10-password/

https://www.top-password.com/blog/reset-forgotten-windows-11-password-with-utilman/

Kon-boot (old version 2.5 in strelec) Paid, bypasses rather than resetting password: https://kon-boot.com/</pre>
</div>
<div tags="" title="resize microSD openwrt v2">
<pre>!!Example with microSD at /dev/sda


```
sudo su
```


Find correct drive (ex. sda2 marked as sd reader)


```
fdisk -l
```

Resize partition sda2 (last before free space)


```
cfdisk /dev/sda
```


Resize sda2 /yes/write/quite

Fix errors

```
e2fsck -f /dev/sda2
```


```
tune2fs -O^resize_inode /dev/sda2

resize2fs /dev/sda2
```

Take out microSD card and put it back in the device (R4S)

Boot device, enter terminal (TTYD or ssh)

Resize the partition on the fly

```
fsck.ext4 /dev/mmcblk0p2 #Fix part, answer yes to remove GDT blocks remnants
```
</pre>
</div>
<div tags="" title="RetroArch allow accessing smb in nobara">
<pre>```
flatpak override --user --filesystem=/run/user/1000/kio-fuse-nGNVSI/smb/n5105.local/n5105/ org.libretro.RetroArch
```

Run RetroArch</pre>
</div>
<div tags="" title="Retroarch update core (dolphin example) v2">
<pre>Source: https://www.reddit.com/r/RetroArch/comments/16cwax7/how_do_i_get_dolphin_core_to_run/

RetroArch (Windows, linux, macOS, android, iOS, ...) [opensource]

https://retroarch.com/?page=platforms [pls, use the most updated version]

open RetroArch, 'Online Updater', choose:

update installed cores;

update core info files;

update assets;

update controller profiles;

update database;

restart RetroArch;

open RetroArch, 'Online Updater', 'Core System Files Downloader':

Dolphin.zip

open RetroArch, 'Online Updater', 'Core Downloader':

Nintendo - GameCube / Wii (Dolphin)

done!

more info:

The Dolphin core supports OpenGL, Vulkan, and Direct3D 11 rendering.

retroarch, settings, drivers, video: d3d11, vulkan, glcore, gl

supported file extensions: .elf .iso .gcm .dol .tgc .wbfs .ciso .gcz .wad .rvz

source: https://docs.libretro.com/library/dolphin/

Dolphin Emultador - Compatibility List Page

https://dolphin-emu.org/compat/

I don't remember using BIOS... but there is the option.

https://docs.libretro.com/library/dolphin/#bios

!!Troubleshooting

If menu theme not changing in ''settings/interface/menu + restart'' 

Switch video driver settings to d12 or d11 in ''settings/driver/video/d12''</pre>
</div>
<div tags="" title="robocopy v2">
<pre>source: https://www.reddit.com/r/unRAID/comments/wga6r8/windows_transfer_of_small_files_is_painfully_slow/

```
Robocopy.exe /E /MT:16 'd:\source'   'w:\target'  /V /R:1 /W:5 /ETA
```

That will copy 16 files at the same time. Change the number as you wish.

Summary will show speed and time taken.

Output example:


```
 Options : *.* /V /S /E /DCOPY:DA /COPY:DAT /ETA /MT:16 /R:1 /W:5

   Speed :           251,949,067 Bytes/sec.
   Speed :            14,416.642 MegaBytes/min.
   Ended : Thursday, May 16, 2024 11:31:47 AM
```


!! GUI
https://adamtheautomator.com/robocopy-gui/

https://github.com/Cinchoo/ChoEazyCopy

!!Troubleshooting
Try the file copy command for unbuffered IO:

xcopy /J
robocopy /J</pre>
</div>
<div tags="" title="Route all traffic (passthrough) from one port to another on unraid v7">
<pre>!!Topology

wan ------&gt; [eth0 (UNRAID) bond1]&lt;----[2x USB 2.5GBPs eth (PC)]

DNS server (pi-hole) 192.168.1.96

wan (router) 192.168.1.1

Unraid eth0 (DHCP) 192.168.1.13

Unraid bond (Static) 192.168.137.247

PC upper link  (Static) 192.168.137.250

PC link2  (Static) 192.168.137.251

PC link3  (Static) 192.168.137.252

PC Gateway (all ports) 192.168.137.247

PC DNS  (all ports) 192.168.1.96

!!In Unraid GUI 

''Settings/Network
''

```
Eth0

Enable bonding no

Enable bridging no

```


```
Eth1

Enable bonding yes

Bonding menbers of bond1 eth1/eth2/eth3

IPv4 address assignment: Static

IPv4 address 192.168.137.247
```


!!In unraid terminal


```
echo 1 &gt;&gt; /proc/sys/net/ipv4/ip_forward

iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

iptables -A FORWARD -i eth0 -o bond1 -m state --state RELATED,ESTABLISHED -j ACCEPT

iptables -A FORWARD -i bond1 -o eth0 -j ACCEPT
```

!!On windows PC

Set getway on both links 192.168.137.247

Set DNS 192.168.1.96

Source: 

https://serverfault.com/questions/991306/how-can-i-route-all-traffic-through-one-interface-to-another-interface-but-sen

Source 2:

https://serverfault.com/questions/453254/routing-between-two-networks-on-linux

!!To make route permanent

Install user scripts unraid plugin

UNRAID GUI/Plugins/user scripts

Create new script

UNRAID GUI/Settings/user scripts/Add new script/give a name ex. routing passthrough

Click on gear on the left of script name and then click on edit script


!!! or Manually, not recommended

&lt;&lt;&lt;

paste script

```
 nano /boot/config/plugins/user.scripts/scripts/routing_passthrough/script 
```
&lt;&lt;&lt;


Add


```
echo 1 &gt;&gt; /proc/sys/net/ipv4/ip_forward

iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

iptables -A FORWARD -i eth0 -o bond1 -m state --state RELATED,ESTABLISHED -j ACCEPT

iptables -A FORWARD -i bond1 -o eth0 -j ACCEPT
```

Press ''Save changes'' button on the ''top''.

!!To delete user script manually, not recommended


```
 rm -rf /boot/config/plugins/user.scripts/scripts/routing\ passthrough
```

!!If bridging is used on UNRAID eth0 (for vm host networking) 

Replace ''eth0 ''with ''br0 ''and set ''br0 ''in VMs

Script should look as follows

```
echo 1 &gt;&gt; /proc/sys/net/ipv4/ip_forward

iptables -t nat -A POSTROUTING -o br0 -j MASQUERADE

iptables -A FORWARD -i br0 -o bond1 -m state --state RELATED,ESTABLISHED -j ACCEPT

iptables -A FORWARD -i bond1 -o br0 -j ACCEPT
```</pre>
</div>
<div tags="" title="RPCS3 game updates download link">
<pre>https://cabconmodding.com/threads/gt6-update-pkg-links-all-regions.379/</pre>
</div>
<div bag="default" created="20210417192328826" creator="sharicov" modified="20210417192853677" modifier="sharicov" revision="1" tags="manual" title="Rsync automatic on change inotifywait" type="text/vnd.tiddlywiki">
<pre>!! Rsync yandex disk(recommended to use rclone instead, separate manual): 

Simulation: 


```
sudo rsync –dry-run –razu --progress /media/usbdown/yandex.disk.online/ /media/usbdown/Yandex.Disk.Backup/ 

```

Real sync: 


```
nano yandex_sync 
```

Add:

```
rsync -razu --progress /media/usbdown/yandex.disk.online/ /media/usbdown/Yandex.Disk.Backup/ 

```

Run:

```
cmode +x yandex_sync 
screen –t yandex_sync 
```


Rsync each time souce changed: 


```
sudo apt install inotify-tools 

nano  /home/admin/sync_yandex.sh 
```

Add:

```
#!/usr/bin/bash 
while inotifywait -r -e modify,create,delete /media/usbdown/yandex.disk.online 
do 
rsync -razu /media/usbdown/yandex.disk.online/ /media/usbdown/Yandex.Disk.Backup/ 
done 

```
Run:


```
chmod +x sync_yandex.sh 
```

</pre>
</div>
<div tags="" title="rsync delete source files after sync">
<pre>```
-remove-source-files 
```


Example (in screen from D SMB share to disk5 for unraid):


```
screen -S VM_D_sync -d -m bash -c "rsync -ahvP /mnt/remotes/192.168.122.195_shares/D/* /mnt/disk5/n5105" -remove-source-files 
```
</pre>
</div>
<div tags="" title="rsync move files">
<pre>```
rsync -avPR -X /source /destination/
```

Add '' --dry-run'' to only see changes without deleting/moving

Note: ''don't put ''slash after ''source'' directory and ''put ''/ after ''destination '' directory</pre>
</div>
<div tags="" title="rsync over ssh">
<pre>Example with progress (-P):


```
rsync -avhP root@192.168.1.5:"/mnt/user/n5105/Downloads/*" /media/usb/Downloads
```

Note: Use " after : otherwise will give a ''zsh: no matches found'' error</pre>
</div>
<div tags="" title="rsync v4">
<pre>Working:

Over ssh:

```
rsync -avhe ssh --info=progress2 source target
```

Local:

```
rsync -avh --info=progress2 source target
```

Dry run - test with no actual change to files:


```
–dry-run
```

Overwrite based on checksum


```
--checksum
```


-z option compresses the traffic but it's an overkill for source machine (actually slows down the process

-progress option doesn't work, nor -P

Old:

```
rsync -avzhe ssh --progress source target
```



```
rsync -avze ssh --include 'R*' --exclude '*' 
```



```
rsync --remove-source-files -zvh 
```


source: https://www.tecmint.com/rsync-local-remote-file-synchronization-commands/</pre>
</div>
<div tags="" title="run history delete windows 11/10 v2">
<pre>Run ''regedit''

HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\RunMRU

delete any values besides ''Default''

Source: https://www.thewindowsclub.com/how-to-clear-run-command-history-in-windows-10</pre>
</div>
<div tags="" title="run wetty in docker once">
<pre>```
docker run --rm -p 3000:3000 wettyoss/wetty --ssh-host=192.168.3.96
```

to access:


```
http://192.168.3.96:3000/wetty
```
</pre>
</div>
<div tags="" title="running vhd created in WinNTSetup in hyperv">
<pre>!!Convert VHD to VHDX

Create new ''Gen1''virtual machine with winntsetup vhd attached

VM settings/Disk/Edit/Convert/vhdx name and path/Finish

!!Start hyper-v VM with vhdx

Create ''Gen2'' virtual machine and attach vhdx to it

!!!Tips 

For better performance set number of vCPU to 8 (no less than 4)

Firmware/Hard Drive on top of the list

Security/Enable Secure Boot



Source: https://www.bdrsuite.com/blog/how-to-convert-vhd-to-vhdx-using-hyper-v-manager-and-powershell/


To make vhdx bootable start vm with bootable iso like ''Strelec'' with correct OS (Strelec 11 for windows11.vhd or 10 for windows10.vhd)

Make sure G is the boot drive (one labeled ''ESP'')

in cmd run


```
bcdboot C:\Windows /s G: /f UEFI
```
</pre>
</div>
<div tags="" title="rustdesk remote desktop - self hosted anydesk/teamviewer alternative v3">
<pre>'Ports: 

```
TCP (21115, 21116, 21117, 21118, 21119)

UDP (21116)
```

!!!Note: Headless servers are ''NOT ''supported
!!!Note 2: Web console (port 21114) became PRO only feature
!!Download site: 

Server download;
https://github.com/rustdesk/rustdesk-server/releases

Download ''both  ''''hbbs '' and ''hbbr '' versions

Client download:
https://github.com/rustdesk/rustdesk/releases/tag/1.2.3


!!Installation (arm64 example)

On a ''server'' side

```
mkdir rustdesk; cd rustdesk

wget https://github.com/rustdesk/rustdesk-server/releases/download/1.1.10-3/rustdesk-server-hbbs_1.1.10-3_arm64.deb

wget rustdesk-server-hbbr_1.1.10-3_arm64.deb

dpkg -i rust*.deb

```

On a ''router '' side


```
Enable NAT forward for ports 21115-21119 (TCP) and  21116 (UDP) if needed

```

On a ''client ''side

Run rustdesk client


```
Click on 3 dots near ID/Network/Fill in ID server:21116/Apply

```

!!Set encryption keys

Get key on the server from running folder


```
cat ./id_ed25519.pub
```



Put it in all clients' setting

!!Manual: 
https://rustdesk.com/docs/en/self-host/rustdesk-server-oss/install/#set-up-your-own-server-instance-manually

!!Manual start server service


```
hbbs
```


!!Troubleshooting

Error: Address in use (os error 98)

Check rustedesk ports:


```
netstat -ltnp | grep -w ':21115'
netstat -ltnp | grep -w ':21116'
netstat -ltnp | grep -w ':21118'
```


Source: https://www.reddit.com/r/rustdesk/comments/yg0xzh/error_address_in_use_os_error_98/
</pre>
</div>
<div tags="" title="Samba tuning RAM and cache v2">
<pre>!!Working parameters:


```
mount -t btrfs -o autodefrag,noatime,nodatacow,space_cache /dev/sda1 /media/usb/
```

!!Experimental (not resultative):
sources:

https://kelerus-livejournal-com.turbopages.org/kelerus.livejournal.com/s/10298.html?utm_source=pocket_mylist

https://forums.unraid.net/topic/97165-smb-performance-tuning/?utm_source=pocket_mylist

https://onformix.blogspot.com/2015/07/swap-and-cache-tune.html?m=1&amp;utm_source=pocket_mylist


use ''atop'' and'' iotop -o ''to find bottlenecks


```
watch -n1 "cat /proc/interrupts"
```



```
watch -n1 "cat /proc/meminfo"
```


Set 50% of RAM as write cache (default 20):


```
sysctl vm.dirty_ratio

sysctl -w vm.dirty_ratio=50

sysctl -p
```

Page size in bytes (ex. 5GB)

```
sysctl vm.dirty_bytes=5000000000
```

Distage to swap (default 60):


```
sysctl vm.swappiness

sysctl vm.swappiness=10
```


Default 100

```
sysctl vm.vfs_cache_pressure

sysctl vm.vfs_cache_pressure=10
```

Multichanel link aggregation for several links connected:

https://blog.chaospixel.com/linux/2016/09/samba-enable-smb-multichannel-support-on-linux.html</pre>
</div>
<div tags="" title="SAMBA tuning UNRAID v2">
<pre>https://forums.unraid.net/topic/97165-smb-performance-tuning/


BTRFS CoW (copy on write) is a must to recover disk's failure

https://forums.unraid.net/topic/173223-slow-smb-transfer-to-nvme-cache/

Changed all the settings on Windows NIC (flow control disabled, RSS enabled, enabled all the offload options, etc.). These settings worked for the 700MB/s test transfer.

https://forums.unraid.net/topic/97165-smb-performance-tuning/

RSS and multichannel are good for SSD, but BAD for HDD (multiple sectors read at once from magnetic media)

RSS = Receive Side Scaling 

- disabled IPv6 on the server and on the client

Enable SAMBA multi channel support: https://unraid.net/blog/how-to-beta-test-smb-multi-channel-support

Check multichannel support (https://bugzilla.samba.org/show_bug.cgi?id=14824): 

smbtorture //172.31.9.163/ipc\$ -U% smb2.multichannel.generic.interface_info -d1

Install SMB Direct (RDMA) on windows side (windows features)


https://forums.unraid.net/bug-reports/stable-releases/slow-smb-performance-r566/page/8/

There are different solutions to enhance performance (impact descending): 

enable SMB Multichannel + RSS (this enables multi-threading, which allows transferring multiple files simultaneously instead of only one by one, which is the default in Windows, but not with Linux)
use Disk Shares instead of User Shares (which avoids Unraid's "FUSE (sshfs) overhead", which can be massive)
enable case-sensitivity (this allows co-existence of "photo.jpg" and "Photo.jpg" in the same directory, but makes SMB much faster handling a huge amount of files)
upload to an SSD Cache Pool instead of the Array (&gt;1Gbit/s vs ~0.5Gbit/s)
install more RAM and raise the Write-Cache with Tips &amp; Tweaks Plugin to 50 - 80%
use a faster CPU
do not use encryption
do not use a CoW filesystem like BTRFS or ZFS (write amplification = slower than usual filesystems)
 
Setting on client side: https://forums.unraid.net/topic/126952-smb-browsing-extremely-slow-have-tried-caching-and-rss-tuning/

Dirty ration manual:
https://lonesysadmin.net/2013/12/22/better-linux-disk-caching-performance-vm-dirty_ratio/

CPU comparison n5105 vs n100
https://www.cpubenchmark.net/compare/3103vs4412vs5157/Intel-i3-8100-vs-Intel-Celeron-N5105-vs-Intel-N100

Direct share to cache: https://forums.unraid.net/topic/97165-smb-performance-tuning/?tab=comments#comment-895985

Restart samba from terminal:

samba restart

Enable RSS

I'm using Unraid for a while now and collected some experience to boost the SMB transfer speeds:

 

Donate?  🤗

 

1.) Choose the right CPU
The most important part is to understand that SMB is single-threaded. This means SMB uses only one CPU core to transfer a file. This is valid for the server and the client. Usually this is not a problem as SMB does not fully utilize a CPU core (except of real low powered CPUs). But Unraid adds, because of the ability to split shares across multiple disks, an additional process called SHFS and its load raises proportional to the transfer speed, which could overload your CPU core. So the most important part is, to choose the right CPU. At the moment I'm using an i3-8100 which has 4 cores and 2257 single thread passmark points:

1033404946_2020-09-2411_14_32.png.5e5b280b2dbd081129bbc079d6d5cc34.png

 

And since I have this single thread power I'm able to use the full bandwith of my 10G network adapter which was not possible with my previous Intel Atom C3758 (857 points) although both have comparable total performance. I even was not able to reach 1G speeds while a parallel Windows Backup was running (see next section to bypass this limitation). Now I'm able to transfer thousands of small files and parallely transfer a huge file with 250 MB/s.

 

With this experience I suggest a CPU that has around 1400 single thread passmark points to fully utilize a 1G ethernet port. As an example: The smallest CPU I would suggest for Unraid is an Intel Pentium Silver J5040. P.S. Passmark has a list sorted by single thread performance for desktop CPUs and server CPUs.

 

2.) Bypass single-thread limitation

The single-thread limitation of SMB and SHFS can be bypassed through opening multiple connections to your server. This means connecting to "different" servers. The easiest way to accomplish that, is to use the ip-address of your server as a "second" server while using the same user login:

\\tower\sharename -&gt; best option for user access through file explorer as it is automatically displayed

\\10.0.0.2\sharename -&gt; best option for backup softwares, you could map it as a network drive

 

If you need more connections, you can add multiple entries to your windows hosts file (Win+R and execute "notepad c:\windows\system32\drivers\etc\hosts"):

10.0.0.2 tower2
10.0.0.2 tower3

 

Results

If you now download a file from your Unraid server through \\10.0.0.2 while a backup is running  on \\tower, it will reach the maximum speed while a download from \\tower is massively throttled:

113948681_2020-09-2411_25_42.thumb.png.1fca131dbb3214c6e0b0dfaf8d73af7b.png

 

3.) Bypass Unraid's SHFS process

If you enable access directly to the cache disk and upload a file to //tower/cache, this will bypass the SHFS process. Beware:

Do not move/copy files between the cache disk and shares as this could cause data loss!
The eligible user account will be able to see all cached files, even those from other users.
 

Temporary Solution or "For Admins only"

As Admin or for a short test you could enable "disk shares" under Settings -&gt; Global Share Settings:

773041874_2020-09-2412_05_59.png.6061b4848f77c146852e495f17a26ac7.png


By that all users can access all array and cache disks as SMB shares. As you don't want that, your first step is to click on each Disk in the WebGUI &gt; Shares and forbid user access, except for the cache disk, which gets read/write access only for your "admin" account. Beware:

Do not create folders in the root of the cache disk as this will create new SMB Shares
 

Safer Permanent Solution

Use this explanation.

 

Results

In this thread you can see the huge difference between copying to a cached share or copying directly to the cache disk.

 

4.) Enable SMB Multichannel + RSS

SMB Multichannel is a feature of SMB3 that allows splitting file transfers across multiple NICs (Multichannel) and create multiple TCP connection depending on the amount of CPU Cores (RSS) since Windows 8. This will raise your throughput depending on your amount of NICs, NIC bandwidth, CPU and used settings:

823079717_5226.image_0D51752B(1).png.9a4f708867a76b362eeaac6a578d6d21.png

 

This feature is experimental

SMB Multichannel is considered experimental since its release with Samba 4.4. The main bug for this state is resolved in Samba 4.13. The Samba developers plan to resolve all bugs with 4.14. Unraid 6.8.3 contains Samba 4.11. This means you use Multichannel on your own risk!

 

Multichannel for Multiple NICs

Lets say your mainboard has four 1G NICs and your Client has a 2.5G NIC. Without Multichannel the transfer speed is limited to 1G (117,5 MByte/s). But if you enable Multichannel it will split the file transfer across the four 1G NICs boosting your transfer speed to 2.5G (294 MByte/s):

1327988968_2020-09-2509_52_24_2.png.e7e59c8be2c6459e5a2dedf0b76d9ec2.png

 

Additionally it uses multiple CPU Cores which is useful to avoid overloading smaller CPUs. To enable Multichannel you need to open the Unraid Webterminal and enter the following (the file is usually empty, so do not wonder):

nano /boot/config/smb-extra.conf
And add the following to it:

        server multi channel support = yes
Press "Enter+X" and confirm with "Y" and "Enter" to save the file. Then restart the Samba service with this command:

samba restart
Eventually you need to reboot your Windows Client, but finally its enabled and should work.

 

Multichannel + RSS for Single and Multiple NICs

But what happens if you're server has only one NIC. Now Multichannel is not able to split something, but it has a sub-feature called RSS which is able to split file transfers across multiple TCP connections with a single NIC:

8713.image_thumb_6CA58A23.png.9a8962d6596b3ba087fe39ff8b6a6976.png.3ee838e73139e553d8416578a4239e6c.png

 

Of course this feature works with multiple NICs, too:

3513.image_610FCCE4.png.33732409725f80817c8345ffe784aa42.png

 

But this requires RSS capability on both sides. You need to check your servers NIC by opening the Unraid Webterminal and entering this command (could be obsolete with Samba 4.13 as they built-in an RSS autodetection )

egrep 'CPU|eth*' /proc/interrupts
 

It must return multiple lines (each for one CPU core) like this:

egrep 'CPU|eth0' /proc/interrupts
            CPU0       CPU1       CPU2       CPU3       
 129:   29144060          0          0          0  IR-PCI-MSI 524288-edge      eth0
 131:          0   25511547          0          0  IR-PCI-MSI 524289-edge      eth0
 132:          0          0   40776464          0  IR-PCI-MSI 524290-edge      eth0
 134:          0          0          0   17121614  IR-PCI-MSI 524291-edge      eth0
 

Now you can check your Windows 8 / Windows 10 client by opening Powershell as Admin and enter this command:

Get-SmbClientNetworkInterface
 

It must return "True" for "RSS Capable":

Interface Index RSS Capable RDMA Capable Speed   IpAddresses      Friendly Name
--------------- ----------- ------------ -----   -----------      -------------
11              True        False        10 Gbps {10.0.0.10}      Ethernet 3
 

Now, after you are sure that RSS is supported on your server, you can enable Multichannel + RSS by opening the Unraid Webterminal and enter the following (the file is usually empty, so do not wonder):

nano /boot/config/smb-extra.conf
 

Add the following and change 10.10.10.10 to your Unraid servers IP and speed to "10000000000" for 10G adapter or to "1000000000" for a 1G adapter:

        server multi channel support = yes
        interfaces = "10.10.10.10;capability=RSS,speed=10000000000"
 

If you are using multiple NICs the syntax looks like this (add RSS capability only for supporting NICs!):

        interfaces = "10.10.10.10;capability=RSS,speed=10000000000" "10.10.10.11;capability=RSS,speed=10000000000"
Press "Enter+X" and confirm with "Y" and "Enter" to save the file.

 

Now restart the SMB service:

samba restart
 

Does it work?

After rebooting your Windows Client (seems to be a must), download a file from your server (so connection is established) and now you can check if Multichannel + RSS works by opening Windows Powershell as Admin and enter this command:

Get-SmbMultichannelConnection -IncludeNotSelected
 

It must return a line similar to this (a returned line = Multichannel works) and if you want to benefit from RSS then "Client RSS Cabable" must be "True":

Server Name   Selected Client IP      Server IP     Client Interface Index Server Interface Index Client RSS Capable Client RDMA Capable
-----------   -------- ---------      ---------     ---------------------- ---------------------- ------------------ -------------------
tower         True     10.10.10.100   10.10.10.10   11                     13                     True               False
 

In Linux you can verify RSS through this command which returns one open TCP connection per CPU core (in this case we see 4 connections as my client has only 4 CPU cores, altough my server has 6):

netstat -tnp | grep smb
tcp        0      0 192.168.178.8:445       192.168.178.88:55975    ESTABLISHED 3195/smbd
tcp        0      0 192.168.178.8:445       192.168.178.88:55977    ESTABLISHED 3195/smbd
tcp        0      0 192.168.178.8:445       192.168.178.88:55976    ESTABLISHED 3195/smbd
tcp        0      0 192.168.178.8:445       192.168.178.88:55974    ESTABLISHED 3195/smbd
 

Note: Sadly Samba does not create multiple smbd processes, which means we still need a CPU with high single thread performance to benefit from RSS. This is even mentioned in the presentation:

image.png.346a5c32e5451e98fc80825478365f39.png

 

If you are interested in test results, look here.</pre>
</div>
<div bag="default" created="20210417195404217" creator="sharicov" modified="20210417195430802" modifier="sharicov" revision="2" tags="manual" title="SAMBA v6" type="text/vnd.tiddlywiki">
<pre>!!! SAMBA: 

Prepare directory to mount:


```
mkdir /media/usb
```

Mount USB disk:


```
mount /dev/sda1 /media/usb
```


Install SAMBA packages:

```
sudo apt-get install samba samba-common-bin –y 
```
!!! Create samba user (same username as existing one) 


```
sudo smbpasswd -a root
```


Configure samba: 

```
sudo mv /etc/samba/smb.conf{,.backup} 
sudo nano /etc/samba/smb.conf 
```
!!!!Add: 
```

server multi channel support = yes 

aio read size = 1 

aio write size = 1

[usb] 

Comment = Home NAS 

Path = /media/usb 

Browseable = yes 

Writeable = Yes 

only guest = no 

create mask = 0777 

directory mask = 0777 

Public = yes 

#Guest ok = yes 
```
Restart samba: 


```
sudo systemctl restart smbd 
```


Check IP/hostname: 

```
hostname –I 
```
!!!!On client windows: 
```
net use z: \\192.168.3.3\nas /user:root 
```
To connect directly go to wifi properties, share, than connect with ethernet cable to raspberry and get the address:

```
arp –a 
```
!!!!Ping to both sides might be required for computers to recognize each other 

Check connected clients: 

```
sudo smbstatus –shares 
```


!!''Make share show in Windows (discovery, advertise, announce):''

[A] Win10 uses something called WS-Discovery ( WSD ) to discover hosts. Samba doesn't do WSD but with a bit of work you can make it work:

Download the folder:


```
wget https://github.com/christgau/wsdd/archive/master.zip
```

UnZip it:


```
unzip master.zip
```

Rename the python script:


```
sudo mv wsdd-master/src/wsdd.py wsdd-master/src/wsdd
```

Copy it to bin:


```
sudo cp wsdd-master/src/wsdd /usr/bin
```

Copy the systemd service file to /etc/systemd/system:


```
sudo cp wsdd-master/etc/systemd/wsdd.service /etc/systemd/system
```

Reload the service:


```
sudo systemctl daemon-reload
```

Start the service:


```
sudo systemctl start wsdd
```

Enable the service so it starts at boot:


```
sudo systemctl enable wsdd
```



!!SAMBA Troubleshooting


```
sudo systemctl unmask smbd
sudo systemctl enable smbd
sudo systemctl restart smbd
smbclient -L 127.0.0.1
```

To unmout mounted USB disk:

Stop SAMBA:


```
sudo systemctl stop smbd
```

Unmount disk:


```
umount /dev/sda1
```


Start SAMBA:

```
sudo systemctl start smbd
```

!!Multichanel network - aggregates multiple network ports

```
sudo nano /etc/samba/smb.conf 
```

Add if not there

```
server multi channel support = yes 
aio read size = 1 
aio write size = 1
```

Restart SAMBA:

```
sudo systemctl restart smbd
```</pre>
</div>
<div tags="" title="scan all open ports in local network and show protocols">
<pre>```
nmap  -Sv 192.168.1.0/24
```
</pre>
</div>
<div tags="" title="Scan LAN and get Windows host names">
<pre>nmap -sn --system-dns 192.168.3.1-255</pre>
</div>
<div tags="" title="scrcpy android phone show in windows v8">
<pre>Download: https://github.com/Genymobile/scrcpy/releases

!!Enable USB Debugging on the phone 

1. About/click many times on build number till it will be shown - developer mode enabled

2. Search for USB debugging in settings and enable it

!!Control with mouse and keyboard only without screen mirroring


```
scrcpy --no-video --no-audio --keyboard=uhid --mouse=uhid
```

To ''capture ''mouse click on android window, to ''release ''press'' left alt''

To paste press in android ''ALT+V''

!!More control commands: 
https://github.com/Genymobile/scrcpy/blob/master/doc/control.md

!!Android shortcuts with physical keyboard and mouse

https://github.com/Genymobile/scrcpy/blob/master/doc/shortcuts.md


!!Run virtual screen additional to main


```
scrcpy --new-display=1920x1080
scrcpy --new-display=1920x1080/420  # force 420 dpi
scrcpy --new-display         # use the main display size and density
scrcpy --new-display=/240    # use the main display size and 240 dpi
```

Run specific app in additional screen


```
scrcpy --new-display=1920x1080 --start-app=org.videolan.vlc
```

List installed apps


```
scrcpy --list-apps
```

Run app with partial name


```
scrcpy --start-app=?firefox
```


!!Create batch file
create file with.vbs extension with the flowing content:


```
strCommand = "cmd /c scrcpy.exe --max-size 1024 --always-on-top  --stay-awake --tcpip=192.168.3.174"

For Each Arg In WScript.Arguments
    strCommand = strCommand &amp; " """ &amp; replace(Arg, """", """""""""") &amp; """"
Next

CreateObject("Wscript.Shell").Run strCommand, 0, false

```
parameters description:

Prevent crash on some phones like BISON

```
--max-size 1024
```

Always on top:


```
--always-on-top
```

Prevent sleep while connected:


```
 --stay-awake
```

Alternative awake:
to prevent sleep when connected to USB:
in developer options check on stay awake option

Connect over wifi:

Enable wifi debuging and check ip address in wifi settings of the phone

```
--tcpip=192.168.3.174
```

!!Optional:

Create .bat file in the scrcpy folder:


```
scrcpy --max-size 1024 --tcpip=192.168.3.174 --always-on-top  --stay-awake
```

!!Troubleshoot not connecting after PC reboot with following error: 


&lt;&lt;&lt;
No connection could be made because the target machine actively refused it. (10061)
&lt;&lt;&lt;


On pc in scrcpy folder run:


```
adb.exe tcpip 5555
```

!!Troubleshoot could not read ok from adb server

run cmd as administrator


```
net stop winnat
adb.exe start-server
net start winnat
adb.exe tcpip 5555
scrcpy --max-size 1024 --tcpip=192.168.3.174 --always-on-top  --stay-awake
```


Source:
https://github.com/Genymobile/scrcpy#always-on-top
</pre>
</div>
<div tags="" title="scrcpy docker v3">
<pre>On server run


```
xhost + local:docker
```


Specify graphic types: intel / amd / nvidia


```
docker run --rm -i -t --privileged \
    -v /dev/bus/usb:/dev/bus/usb \
    -v /tmp/.X11-unix:/tmp/.X11-unix \
    -e DISPLAY=$DISPLAY \
    pierlo1/scrcpy:&lt;graphics type&gt;
```

!!Running scrcpy

Inside the container, verify you can see your Android device with:


```
adb devices
```


Note: make sure the adb daemon is not running on the host (adb kill-server) to view devices in the container.

And finally, run scrcpy:


```
scrcpy --serial=localhost:5555
```



Source and parameters: https://github.com/pierlon/scrcpy-docker</pre>
</div>
<div tags="" title="scrcpy in docker (Arch linux) v2">
<pre>Install webtop arch container from:


```
lscr.io/linuxserver/webtop:arch-xfce
```


Set ''Port'' 3000:3000

Add docker environment


```
PASSWORD
```


With ''value'': Your desired password

default user is ''abc''

Connect arch in browser:

http://YourIP:3000


```
sudo pacman -Sy scrcpy iputils #for ping

```

go to phone/settings/about

click on about build multiple times to enable developere menu

''Enable wireless debugging'' and ''accept trusting device''

Press on ''Pair device with pairing code''

In arch run, specifying phone's IP and port as appears on phone's wireless debugging screen


```
adb connect ipaddr:port

```

Enter ''code ''as appearing on the phone

Run scrcpy over IP with the same port specified on wireless debugging screen (not the default 555) - must be on the same WIFI or over tailscale VPN


```
scrcpy --tcpip=PhoneIP:PhonePort

```

Sources:

https://docs.linuxserver.io/images/docker-webtop/#version-tags

https://github.com/Genymobile/scrcpy/blob/master/doc/linux.md

https://android.gadgethacks.com/how-to/set-up-wireless-debugging-android-11-send-adb-commands-without-usb-cable-0302898/

https://docs.linuxserver.io/images/docker-webtop/#application-setup</pre>
</div>
<div bag="default" created="20210417191240847" creator="sharicov" modified="20210418175549684" modifier="sharicov" revision="2" tags="manual" title="Screen command v3" type="text/vnd.tiddlywiki">
<pre>!! Screen command with examples

https://kapeli.com/cheat_sheets/screen.docset/Contents/Resources/Documents/index : 

Full shortcut list: https://www.computerhope.com/unix/screen.htm 

To fix ''Cannot find terminfo entry for 'vt100'.''

Type in each terminal you getting the error:


```
export TERM=xterm
```


To exit stopping commands running in screen: `CTRL+D `

To exit without closing (so commands are still running) `CTRL+a d` or just close the window, or type exit 

Show running screens: 


```
screen -ls 
```


To reattach existing screen:  


```
screen -r 
```


Multi-user (without detaching): 


```
screen –x 
```


Split screen: 


```
CTRL+a S 
```


Switch regions: 

`CTRL+a TAB `

New window: 

`CTRL+A c `

Screen example (opening two horisontal screen: upper with htop and bottom with iotop, detaching and reattaching): 

```
screen –S monitoring (create screen session with lable monitoring) 
```

Run:

```
Htop or bpytop 
```


`CTRL+a A` (change window lable) type in htop 

`CTRL+a | `(split vertically) 

`CTRL+a TAB `(switch to the new created window) 

`CTRL+a c` (create new window) 


```
sudo tail –f /var/log/messages 
```


`CTRL+a A` (change window label) type in logs 

`CTRL+a TAB` (switch back to htop region) 

`CTRL+a S `(split horisontaly) 

`CTRL+a TAB` (switch to the new created window) 

`CTRL+a c` (create new window) 


```
sudo itop 
```


`CTRL+a A `(change window lable) type in iotop 

Or: 


```
 iostat -x -m 3 
```


Or: 


```
duf (like htop for disk) 
```


To close any region switch to it with `CTRL+a TAB` and press `CTRL+a X `

To switch content of each region switch to it with` CTRL+a TAB` and then `CTRL+a “ `

And choose from dropdown list with arrows or using respective numeric values of the menu `0,1,2`... 

Disconnect without stopping: 

`CTRL+a d `


```
screen –ls 
```



```
screen –r 
```


`CTRL+a S` 

`CTRL+a TAB` 

`CTRL+a “ `

`1 `

Close splitted window: 

`CTRL+A X` 

Rename existing screen (example of screen -ls returning 597.test): 


```
screen -S 597.test -X sessionname monitoring 
```


Or `CTRL+a A` and then type in new session name 

Show owners of running screen sessions: 


```
ls -R /var/run/screen 
```


Lock screen(unlocks with admin password): 

`CTRL+a x `

Record all scroll buffer to file: 

`CTRL+a : `

`hardcopy –h /path/filename `


Detach attached screen:

`screen -D`

!!Examples


```
screen -S sync -d -m bash -c "./sync.sh"

screen -r sync
```

```
screen -S wetty -d -m bash -c "nvm install 16.0.0 ; yarn global add wetty ; wetty"

access with YourIP:3000
```
</pre>
</div>
<div bag="default" created="20210417182846508" creator="sharicov" modified="20210417182911380" modifier="sharicov" revision="2" tags="manual" title="Script backup" type="text/vnd.tiddlywiki">
<pre>Script: 

```
echo Backing up settings 

echo transmission 



cp /var/lib/transmission-daemon/.config/transmission-daemon/settings.json /home/admin/yunohost_backup/settings.json.`date +"%d-%m-%Y"` 



echo nextcloud 



cp /var/www/nextcloud/lib/private/Installer.php /home/admin/yunohost_backup/Installer.php.`date +"%d-%m-%Y"` 



echo rc.local 



cp /etc/rc.local /home/admin/yunohost_backup/rc.local.`date +"%d-%m-%Y"` 



echo squid 

cp /etc/squid/squid.conf /home/admin/yunohost_backup/squid.conf.`date +"%d-%m-%Y"` 

echo fstab 

cp /etc/fstab /home/admin/yunohost_backup/fstab.`date +"%d-%m-%Y"` 

echo smb.conf 

cp /etc/samba/smb.conf /home/admin/yunohost_backup/smb.conf.`date +"%d-%m-%Y"` 

#echo davfs2 secrets 

#cp /etc/davfs2/secrets /home/admin/yunohost_backup/secrets.`date +"%d-%m-%Y"` 

echo sync script 

cp sync /home/admin/yunohost_backup/sync.`date +"%d-%m-%Y"` 

echo log2ram.conf 

cp /etc/log2ram.conf  /home/admin/yunohost_backup/log2ram.conf.`date +"%d-%m-%Y"` 

#sync hostapd 

#cp /etc/hostapd/hostapd.conf /home/admin/yunohost_backup/conf.`date +"%d-%m-%Y"` 

echo sync aria2.conf 

cp aria2.conf /home/admin/yunohost_backup/aria2.conf.`date +"%d-%m-%Y"` 

  

echo removing old archived logs 

rm -vf /home/admin/yunohost_backup/*.zip 

  

echo compressing new logs 

zip /home/admin/yunohost_backup/yunohost_backup_`date +"%d-%m-%Y"`.zip /home/admin/yunohost_backup/* 

  

echo Removing uncompressed logs before uploading to cloud 

`rm -vf /home/admin/yunohost_backup/!(*.zip)` 

  

echo Backing up configuration to Yandex /Tools/Manuals/yunohost_backup/ 

rclone copy -u --progress /home/admin/yunohost_backup/  Yandex:/Tools/Manuals/yunohost_backup/ 

  

echo copy yunohost backups to Local repository 

cp /home/yunohost.backup/archives/* /media/usbdown/Backup/yunohost_configs_backup/yunohost.backup/archives/ 

  

echo Backing up nextcloud contacts to Yandex /Documents/Contacts/ 

sudo rclone copy -u --progress /home/yunohost.app/nextcloud/data/sharicov/files/.Contacts-Backup/ Yandex:/Documents/Contacts/ 

  

echo Backup HPE to Yandex 

rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/ 

#rclone copy -u --progress Yandex: mailru: 

  

echo Yandex to Local backup 

rclone copy -u --progress Yandex: /media/usbdown/Yandex.Disk.Backup/ 

  

echo Backup Tools from Yandex to Mail.ru 

rclone copy -u --progress Yandex:/Tools mailru:/Tools 

  

echo Backup Documents from Yandex to Mail.ru 

rclone copy -u --progress Yandex:/Documents mailru:/Documents 

  

  

echo Backup all Yandex to Mail.ru 

  

rclone copy -u --progress Yandex: mailru: --exclude '*.JPG' --exclude '*.jpg' --exclude '*.MP4' --exclude '*.PNG' --exclude '*.jpeg' --exclude '*.mp4' --exclude '*.MOV' 

```
</pre>
</div>
<div tags="" title="Scripts v16">
<pre>YNH installation (Debian buster only or lxc)

```
curl https://raw.githubusercontent.com/YunoHost/install_script/buster/install_yunohost | bash
```

For Debian 11 (bullseye):

curl https://raw.githubusercontent.com/YunoHost/install_script/main/bullseye_do_not_install_it_in_prod | sudo bash

Tailscale:

```
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.gpg | apt-key add -
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.list | tee /etc/apt/sources.list.d/tailscale.list
apt update
apt upgrade
apt install tailscale
tailscale up


```
Or:

```


tailscale up --accept-dns=false --advertise-routes=10.0.0.0/24 --advertise-exit-node

 # to use as an exit node to internet from other pears of the private network

Enable IP routing on R4S: echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.conf echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.conf sudo sysctl -p /etc/sysctl.conf
```
Check the page https://login.tailscale.com/admin/machines to view your VPN network.

If IP routing required, enable it on the site, press on 3 dots menu (...) Review route settings Use as exit node -&gt; ON


Rclone:

```
curl https://rclone.org/install.sh | sudo bash 
rclone configure
```


Docker:

```
curl -fsSL https://get.docker.com | bash

docker volume create portainer_data
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce 

```
Update portainer
Delete portainer and persistent volume

```
docker rm portainer
docker volume rm  portainer_data

```
Reinstall portainer



```
docker volume create portainer_data
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce
```

Monitorix - system monitoring with web gui


```
apt install monitorix
```


Access:

YOURIP:8080/monitorix

Pi-hole:

```
curl -sSL https://install.pi-hole.net | bash
```

Torrentserver by Yurok:

In aria2 docker:

Install aria2ng docker

Add port mapping 8090 -&gt;8090

Run

Enter hurlenko/aria2-ariang console in portainer as

/bin/ash


```
wget https://github.com/YouROK/TorrServer/releases/download/MatriX.104/TorrServer-linux-arm64

chmod +x TorrServer-linux-arm64

echo '' &gt;&gt; start.sh
echo 'cp /aria2/config.db /aria2/data/' &gt;&gt; start.sh

echo '' &gt;&gt; start.sh

echo 'su-exec $userid:$groupid /aria2/TorrServer-linux-arm64 &amp;' &gt;&gt; start.sh
```

Old manual way
vi start.sh

Add before the end

```
cp /aria2/config.db /aria2/data/
su-exec $userid:$groupid /aria2/TorrServer-linux-arm64 &amp;
```

Fix portainer t open ports from the GUI:

Endpoints/local/Public IP/ local IP of the docker server

Restart the container.

Open in browser IP:8090


!!USB Server by VirtualHere (USB sharing over IP):

Note: don't forget to open 7575 port if running on yunohost server or behind firewall


```
 yunohost firewall allow TCP 7575
```
Or


```
ufw allow 7575
```

Automatic install:

Free


```
curl https://raw.githubusercontent.com/virtualhere/script/main/install_server | sudo sh
```

Paid - more than 1 device and processor optimized by architecture:


```
curl https://raw.githubusercontent.com/virtualhere/script/main/install_server | sudo sh
```

List of architectures:

https://www.virtualhere.com/usb_server_software

Uninstall:


```
curl https://raw.githubusercontent.com/virtualhere/script/main/uninstall_server | sudo sh
```

Stop virtualhere server (arm64 exampe):


```
 killall vhusbdarm64
```

Script site: https://github.com/virtualhere/script
Manual installation:

Download USB server 
Free version (not optimized


```
https://virtualhere.com/sites/default/files/usbserver/vhusbdarm64

chmod +x vhusbdarm64

./vhusbdarm64
```


arm64 (R4S optimized - license required):

```
wget https://virtualhere.com/sites/default/files/usbserver/vhusbdarm64a72a53

chmod +x vhusbdarm64a72a53

./vhusbdarm64a72a53
```

Ignored devices are written in config.ini
To remove:
Stop server
edit config ini removing ignored device line completely

Location on config.ini

Automatic install:

```
nano /usr/local/etc/virtualhere/config.ini
```


Manual install

```
nano /root/config.ini
```

!! USB over Network by fabulatech

Download:

```
wget https://www.usb-over-network.com/usb-over-network-linux-packages/ftusbnet-6.0.21-arm64.tar.gz
```

Extract

```
tar -zxvf ftusbnet-6.0.21-arm64.tar.gz -C /opt
```

Copy config file to etc

```
cp /opt/ftusbnet/doc/ftusbnet.conf /etc
```

Open port:

```
yunohost firewall allow TCP 33000
```

Run

```
/opt/ftusbnet/sbin/ftusbnetd
```

Show available USB devices:

```
/opt/ftusbnet/bin/ftusbnetctl list
```

Enable USB device for sharing example:

```
/opt/ftusbnet/bin/ftusbnetctl share 0402
```

Eject USB in the client PC before killing the server and only then kill the server:

```
killall ftusbnetd
```

Uninstall ftusbnet:


```
rm -r /opt/ftusbnet
rm /etc/ftusnet.conf
```


!!!Not working, physical:

```
wget https://github.com/YouROK/TorrServer/releases/download/MatriX.102/TorrServer-linux-arm64
chmod +x TorrServer-linux-arm64
```


Autostart 

config.db will be stored in /media/usb/config.db

```
nano /etc/rc.local
```

add before ''exit 0''

```
/root/TorrServer-linux-arm64 -d /media/usb &amp;
```
</pre>
</div>
<div tags="" title="Scripts v2">
<pre>YNH installation (Debian buster only or lxc)

```
curl https://raw.githubusercontent.com/YunoHost/install_script/buster/install_yunohost | bash
```


Tailscale:

```
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.gpg | apt-key add -
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.list | tee /etc/apt/sources.list.d/tailscale.list
apt update
apt upgrade
apt install tailscale
tailscale up

or tailscale up –advertise-exit-node # to use as an exit node to internet from other pears of the private network

Enable IP routing on R4S: echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.conf echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.conf sudo sysctl -p /etc/sysctl.conf

Check the page https://login.tailscale.com/admin/machines to view your VPN network.

If IP routing required, enable it on the site, press on 3 dots menu (...) Review route settings Use as exit node -&gt; ON
```

Rclone:

```
curl https://rclone.org/install.sh | sudo bash 
rclone configure
```


Docker:

```
curl -fsSL https://get.docker.com -o get-docker.sh
```

Pi-hole:

```
curl -sSL https://install.pi-hole.net | bash
```
</pre>
</div>
<div tags="" title="Scripts v9">
<pre>YNH installation (Debian buster only or lxc)

```
curl https://raw.githubusercontent.com/YunoHost/install_script/buster/install_yunohost | bash
```


Tailscale:

```
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.gpg | apt-key add -
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.list | tee /etc/apt/sources.list.d/tailscale.list
apt update
apt upgrade
apt install tailscale
tailscale up

or tailscale up –advertise-exit-node # to use as an exit node to internet from other pears of the private network

Enable IP routing on R4S: echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.conf echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.conf sudo sysctl -p /etc/sysctl.conf

Check the page https://login.tailscale.com/admin/machines to view your VPN network.

If IP routing required, enable it on the site, press on 3 dots menu (...) Review route settings Use as exit node -&gt; ON
```

Rclone:

```
curl https://rclone.org/install.sh | sudo bash 
rclone configure
```


Docker:

```
curl -fsSL https://get.docker.com | bash

docker volume create portainer_data
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce 

```
Update portainer
Delete portainer and persistent volume

```
docker rm portainer
docker volume rm  portainer_data

```
Reinstall portainer



```
docker volume create portainer_data
docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce
```


Pi-hole:

```
curl -sSL https://install.pi-hole.net | bash
```

Torrentserver by Yurok:

In aria2 docker:

Install aria2ng docker

Add port mapping 8090 -&gt;8090

Run

Enter hurlenko/aria2-ariang console in portainer as

/bin/ash


```
wget https://github.com/YouROK/TorrServer/releases/download/MatriX.102/TorrServer-linux-arm64

chmod +x TorrServer-linux-arm64

vi start.sh
```

Add before the end


```
cp /aria2/config.db /aria2/data/
su-exec $userid:$groupid /aria2/TorrServer-linux-arm64 &amp;
```

Fix portainer t open ports from the GUI:

Endpoints/local/Public IP/ local IP of the docker server

Restart the container.

Open in browser IP:8090


USB Server by VirtualHere (USB sharing over IP):

Note: don't forget to open 7575 port if running on yunohost server or behind firewall


```
 yunohost firewall allow TCP 7575
```
Or


```
ufw allow 7575
```

Automatic install:

Free


```
curl https://raw.githubusercontent.com/virtualhere/script/main/install_server | sudo sh
```

Paid - more than 1 device and processor optimized by architecture:


```
curl https://raw.githubusercontent.com/virtualhere/script/main/install_server | sudo sh
```

List of architectures:

https://www.virtualhere.com/usb_server_software

Uninstall:


```
curl https://raw.githubusercontent.com/virtualhere/script/main/uninstall_server | sudo sh
```


Script site: https://github.com/virtualhere/script
Manual installation:

Download USB server 
Free version (not optimized


```
https://virtualhere.com/sites/default/files/usbserver/vhusbdarm64

chmod +x vhusbdarm64

./vhusbdarm64
```


arm64 (R4S optimized - license required):

```
wget https://virtualhere.com/sites/default/files/usbserver/vhusbdarm64a72a53

chmod +x vhusbdarm64a72a53

./vhusbdarm64a72a53
```




Not working, physical:

```
wget https://github.com/YouROK/TorrServer/releases/download/MatriX.102/TorrServer-linux-arm64
chmod +x TorrServer-linux-arm64
```


Autostart 


```
nano /etc/rc.local
```

add before ''exit 0''

```
/root/TorrServer-linux-arm64 &amp;
```
</pre>
</div>
<div tags="" title="security tools v1">
<pre>''pestudio'': scan single file with virustotal and others https://www.winitor.com/download2

''anvir task manager'': startup disable including registry, virustotal scan, realtime quaranty applications https://www.anvir.com/

Autoruns

Process explorer

procmon64 shows historical cpu/network/disk usage https://learn.microsoft.com/en-us/sysinternals/downloads/procmon

HxD - 6:00
Comodo Free Firewall - 7:11
Bitdefender and Kaspersky - 9:11
Bitwarden - 10:17

video: https://www.youtube.com/watch?v=clHMz_Vs5WE

Glasswire client with network usage 

Crowdsec https://github.com/crowdsecurity/crowdsec</pre>
</div>
<div tags="" title="selfhost r4s useful programs">
<pre>```
freshrss
h5ai
lufi
ifm
shellinabox
netdata
embyserver
opennote
docker
nextcloud + 
aria2-ariang (hurlenko)
portainer
TorrServer MatriX.109
Filestash
```
</pre>
</div>
<div tags="" title="Selfhosted list">
<pre>https://github.com/awesome-selfhosted/awesome-selfhosted/blob/master/README.md</pre>
</div>
<div tags="" title="Serveo.Net and dataplicity access local ports from remote server">
<pre>http://serveo.net/


```
ssh -R 1492:localhost:1492 serveo.net
```

!! Alternative:
https://www.dataplicity.com/
</pre>
</div>
<div tags="" title="Set MTU in windows (tailscale) OpenWRT and Realtek 2.5 Gbps USB Jumbo Frames tuning">
<pre>Run CMD as administrator

!!To show current MTUs:

In CMD run


```
netsh interface ipv4 show subinterfaces
```

!!To set MTU:

netsh interface ipv4 set subinterface “Tailscale” mtu=1500 store=persistent


Default tailscale MTU is 1280

To check correct MTU:


```
ping google.com -f -l 1472
```


try increasing the number, if packets are still passing than greatest number that works +28 is the MTU, otherwise it's 1500=1472+28

Source: https://www.youtube.com/watch?v=RK2PHpKI9M4

!!OpenWRT


```
In Network/Firewall enable sw and hw offload 
```


```
In Network/Interfaces set MTU 9000 (for Lan and optionally for WAN)
```



```
!!Windows - install realtek drivers from windows insider 11 then adapter/configuration/advanced/jumbo frame set to 9014
```
</pre>
</div>
<div tags="" title="set permission in command prompt windows">
<pre>To grant John full control over the D:\test folder and sub-folders:


```
icacls "D:\test" /grant John:(OI)(CI)F /T
```

!!!Explanation:

F = Full Control
CI = Container Inherit, subordinate containers/folders will inherit
OI = Object Inherit, subordinate files will inherit
/T = Apply recursively to existing files and sub-folders, as OI and CI only apply to new files and sub-folders.
For complete documentation, you may run "icacls" with no arguments or see the documentation for Icacls.

Source: https://superuser.com/questions/1789769/set-folder-permissions-through-cmd-ms-windows</pre>
</div>
<div tags="" title="set power button to put pc to sleep mode">
<pre>To do this on Windows 10, open Settings and go to System &gt; Power &amp; sleep. On the right side, choose Additional power settings; expand the window horizontally if you don't see this. Clicking this will open the Power Options section of the Control Panel.

On Windows 11, type "control" into the Start menu and open the Control Panel item. In the top-right, change Category to Small icons if needed, then choose Power Options from the list.

On either platform, click Choose what the power buttons do on the left side.

</pre>
</div>
<div tags="" title="share clipboard for collaborative work updating in real-time">
<pre>https://live-clipboard.netlify.app/</pre>
</div>
<div tags="" title="share several disks in one folder windows v1">
<pre>1. Go in to the Disk Management MMC

2. Right click on the relevant partition

3. Select Change Drive Letter And Paths

4. Click the Add Button, select the Mount In The Following Empty NTFS Folder radio button

5. Clicking the Browse button to select the folder you want the disk to be mounted to. 

You can also use the Microsoft SysInternals Junction utility to do the same thing from the command line. In case you dont want the root level of the 2nd disk to be mounted in a subdirectory of the 1st disk, you can use this utility to create a junction between subdirectories on different disks (or the same disk).

https://technet.microsoft.com/en-us/sysinternals/bb896768.aspx


Manual: 
https://superuser.com/questions/1152073/single-network-share-with-directories-from-multiple-drives</pre>
</div>
<div tags="" title="Share text and scripts in github like pastebin">
<pre>https://gist.github.com/sharicov

Press + on top right

Add filename and text

Change to public on bottom

Click create

Press row on top right

copy link

Download using 


```
curl -o filename.sh LINK
```
</pre>
</div>
<div tags="" title="Sharicov Essential fresh boot tools 11/23 iso">
<pre>https://cloud.mail.ru/public/oVA6/mtFtwFqZP

https://mega.nz/file/RR5EVTZK#PWxyKWf_g-hZqTXooyftVPVdG5rw82ZwruAeF1dxNRQ

https://terabox.com/s/18WnZorsihXdHVYuCGSjf_g</pre>
</div>
<div tags="" title="show all connected users in linux">
<pre>The 'w' command in Linux displays information about the users currently logged into the system and their processes.</pre>
</div>
<div bag="default" created="20210417193157648" creator="sharicov" modified="20210417194012285" modifier="sharicov" revision="4" tags="manual" title="Show all installed packages in linux (yunohost)" type="text/vnd.tiddlywiki">
<pre>All installed packages: 


```
sudo apt list --installed 

```

Date taken on `sharicov.noho.st`:  ''09.02.2021''

```
acl/stable,now 2.2.53-4 armhf [installed,automatic] 

adduser/stable,now 3.118 all [installed] 

alsa-utils/stable,now 1.1.8-2 armhf [installed,automatic] 

apt-listchanges/stable,now 3.19 all [installed] 

apt-transport-https/stable,now 1.8.2.2 all [installed] 

apt-utils/stable,now 1.8.2.2 armhf [installed] 

apt/stable,now 1.8.2.2 armhf [installed] 

aria2/stable,now 1.34.0-4 armhf [installed] 

at/stable,now 3.1.23-1 armhf [installed,automatic] 

attr/stable,now 1:2.4.48-4 armhf [installed,automatic] 

autoconf-archive/stable,now 20180313-1 all [installed,automatic] 

autoconf/stable,now 2.69-11 all [installed,automatic] 

autogen-doc/stable,now 1:5.18.12-4 all [installed,automatic] 

autogen/stable,now 1:5.18.12-4 armhf [installed,automatic] 

automake/stable,now 1:1.16.1-4 all [installed,automatic] 

autopoint/stable,now 0.19.8.1-9 all [installed,automatic] 

autotools-dev/stable,now 20180224.1 all [installed,automatic] 

avahi-daemon/stable,now 0.7-4+b1 armhf [installed] 

base-files/stable,now 10.3+rpi1+deb10u8 armhf [installed] 

base-passwd/stable,now 3.5.46 armhf [installed] 

bash-completion/stable,now 1:2.8-6 all [installed] 

bash/stable,now 5.0-4 armhf [installed] 

bc/stable,now 1.07.1-2 armhf [installed,automatic] 

bind9-host/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

bind9utils/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

binutils-arm-linux-gnueabihf/stable,now 2.31.1-16+rpi2 armhf [installed,automatic] 

binutils-common/stable,now 2.31.1-16+rpi2 armhf [installed,automatic] 

binutils/stable,now 2.31.1-16+rpi2 armhf [installed,automatic] 

bluez-firmware/testing,now 1.2-4+rpt8 all [installed,automatic] 

bluez/testing,now 5.50-1.2~deb10u1+rpt2 armhf [installed,automatic] 

bozon-ynh-deps/now 2.4.18~ynh1 all [installed,local] 

bpytop/stable,now 1.0.61 all [installed] 

bsdmainutils/stable,now 11.1.2 armhf [installed] 

bsdutils/stable,now 1:2.33.1-0.1 armhf [installed] 

build-essential/stable,now 12.6 armhf [installed] 

busybox/stable,now 1:1.30.1-4 armhf [installed,automatic] 

bzip2/stable,now 1.0.6-9.2~deb10u1 armhf [installed,automatic] 

ca-certificates/stable,now 20200601~deb10u2 all [installed] 

cgroupfs-mount/stable,now 1.4 all [installed,automatic] 

cifs-utils/stable,now 2:6.8-2 armhf [installed] 

cmake-data/stable,now 3.13.4-1 all [installed,automatic] 

cmake/stable,now 3.13.4-1 armhf [installed,automatic] 

console-setup-linux/stable,now 1.193~deb10u1 all [installed,automatic] 

console-setup/stable,now 1.193~deb10u1 all [installed] 

containerd.io/buster,now 1.4.3-1 armhf [installed,automatic] 

coreutils/stable,now 8.30-3 armhf [installed] 

cpio/stable,now 2.12+dfsg-9 armhf [installed] 

cpp-8/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

cpp/stable,now 4:8.3.0-1+rpi2 armhf [installed,automatic] 

crda/stable,now 3.18-1 armhf [installed] 

cron/stable,now 3.0pl1-134+deb10u1 armhf [installed] 

ctop/stable,now 1.0.0-2 all [installed] 

curl/stable,now 7.64.0-4+deb10u1 armhf [installed] 

dash/stable,now 0.5.10.2-5 armhf [installed] 

db-util/stable,now 5.3.1+nmu1 all [installed,automatic] 

db5.3-util/stable,now 5.3.28+dfsg1-0.5 armhf [installed,automatic] 

dbus/stable,now 1.12.20-0+deb10u1 armhf [installed,automatic] 

dc/stable,now 1.07.1-2 armhf [installed,automatic] 

debconf-i18n/stable,now 1.5.71 all [installed] 

debconf-utils/stable,now 1.5.71 all [installed] 

debconf/stable,now 1.5.71 all [installed] 

debhelper/testing,now 13.2~bpo10+1 all [installed] 

debianutils/stable,now 4.8.6.1 armhf [installed] 

device-tree-compiler/stable,now 1.4.7-4 armhf [installed,automatic] 

dh-autoreconf/stable,now 19 all [installed] 

dh-python/stable,now 3.20190308 all [installed,automatic] 

dh-strip-nondeterminism/stable,now 1.1.2-1 all [installed,automatic] 

dhcpcd5/testing,now 1:8.1.2-1+rpt1 armhf [installed] 

diffutils/stable,now 1:3.7-3 armhf [installed] 

dirmngr/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

distro-info-data/stable,now 0.41+deb10u3 all [installed,automatic] 

dmidecode/stable,now 3.2-1 armhf [installed] 

dmsetup/stable,now 2:1.02.155-3 armhf [installed] 

dns-root-data/stable,now 2019031302 all [installed,automatic] 

dnsmasq-base/testing,now 2.80-1+rpt1+deb10u1 armhf [installed,automatic] 

dnsmasq/testing,now 2.80-1+rpt1+deb10u1 all [installed,automatic] 

dnsutils/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

docker-ce-cli/buster,now 5:20.10.3~3-0~raspbian-buster armhf [installed,automatic] 

docker-ce/buster,now 5:20.10.3~3-0~raspbian-buster armhf [installed] 

docker-compose/stable,now 1.21.0-3 all [installed] 

dosfstools/stable,now 4.1-2 armhf [installed] 

dovecot-antispam/stable,now 2.0+20171229-1+b6 armhf [installed,automatic] 

dovecot-core/stable,now 1:2.3.4.1-5+deb10u6 armhf [installed,automatic] 

dovecot-imapd/stable,now 1:2.3.4.1-5+deb10u6 armhf [installed,automatic] 

dovecot-ldap/stable,now 1:2.3.4.1-5+deb10u6 armhf [installed,automatic] 

dovecot-lmtpd/stable,now 1:2.3.4.1-5+deb10u6 armhf [installed,automatic] 

dovecot-managesieved/stable,now 1:2.3.4.1-5+deb10u6 armhf [installed,automatic] 

dovecot-sieve/stable,now 1:2.3.4.1-5+deb10u6 armhf [installed,automatic] 

dphys-swapfile/testing,now 20100506-5+rpt2 all [installed] 

dpkg-dev/stable,now 1.19.7 all [installed,automatic] 

dpkg/stable,now 1.19.7 armhf [installed] 

duf/stable,now 0.6.0 armhf [installed] 

dwz/stable,now 0.12-3 armhf [installed,automatic] 

e2fsprogs/stable,now 1.44.5-1+deb10u3 armhf [installed] 

ed/stable,now 1.15-1 armhf [installed] 

emby-server/now 4.4.2.0 armhf [installed,local] 

equivs/stable,now 2.2.0 all [installed,automatic] 

ethtool/stable,now 1:4.19-1 armhf [installed] 

fail2ban/stable,now 0.10.2-2.1 all [installed,automatic] 

fake-hwclock/testing,now 0.11+rpt1 all [installed] 

fakeroot/stable,now 1.23-1 armhf [installed,automatic] 

fbset/stable,now 2.1-30 armhf [installed] 

fdisk/stable,now 2.33.1-0.1 armhf [installed] 

ffmpeg/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

file/stable,now 1:5.35-4+deb10u2 armhf [installed,automatic] 

findutils/stable,now 4.6.0+git+20190209-2 armhf [installed] 

firmware-amd-graphics/testing,now 1:20190114-1+rpt11 all [installed,automatic] 

firmware-atheros/testing,now 1:20190114-1+rpt11 all [installed] 

firmware-brcm80211/testing,now 1:20190114-1+rpt11 all [installed] 

firmware-libertas/testing,now 1:20190114-1+rpt11 all [installed] 

firmware-linux-free/stable,now 3.4 all [installed,automatic] 

firmware-linux-nonfree/testing,now 1:20190114-1+rpt11 all [installed,automatic] 

firmware-misc-nonfree/testing,now 1:20190114-1+rpt11 all [installed] 

firmware-realtek/testing,now 1:20190114-1+rpt11 all [installed] 

flashrom/stable,now 1.0-1 armhf [installed,automatic] 

fontconfig-config/stable,now 2.13.1-2 all [installed,automatic] 

fontconfig/stable,now 2.13.1-2 armhf [installed,automatic] 

fonts-dejavu-core/stable,now 2.37-1 all [installed,automatic] 

fonts-droid-fallback/stable,now 1:6.0.1r16-1.1 all [installed,automatic] 

fonts-glyphicons-halflings/stable,now 1.009~3.4.1+dfsg-1 all [installed,automatic] 

fonts-noto-mono/stable,now 20181227-1 all [installed,automatic] 

freeipmi-common/stable,now 1.6.3-1.1 all [installed,automatic] 

fuse/stable,now 2.9.9-1+deb10u1 armhf [installed,automatic] 

g++-8/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

g++/stable,now 4:8.3.0-1+rpi2 armhf [installed,automatic] 

galera-3/stable,now 25.3.25-2 armhf [installed,automatic] 

gawk/stable,now 1:4.2.1+dfsg-1 armhf [installed,automatic] 

gcc-4.9-base/stable,now 4.9.4-2+rpi1+b19 armhf [installed] 

gcc-5-base/stable,now 5.5.0-8 armhf [installed] 

gcc-6-base/stable,now 6.5.0-1+rpi1+b1 armhf [installed] 

gcc-7-base/stable,now 7.3.0-19 armhf [installed] 

gcc-8-base/stable,now 8.3.0-6+rpi1 armhf [installed] 

gcc-8/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

gcc/stable,now 4:8.3.0-1+rpi2 armhf [installed,automatic] 

gdb/stable,now 8.2.1-2 armhf [installed] 

gdbm-l10n/stable,now 1.18.1-4 all [installed] 

geoip-database/stable,now 20181108-1 all [installed,automatic] 

gettext-base/stable,now 0.19.8.1-9 armhf [installed,automatic] 

gettext/stable,now 0.19.8.1-9 armhf [installed,automatic] 

ghostscript/stable,now 9.27~dfsg-2+deb10u4 armhf [installed,automatic] 

gir1.2-glib-2.0/stable,now 1.58.3-2 armhf [installed,automatic] 

git-man/stable,now 1:2.20.1-2+deb10u3 all [installed,automatic] 

git/stable,now 1:2.20.1-2+deb10u3 armhf [installed] 

gnupg-l10n/stable,now 2.2.12-1+rpi1+deb10u1 all [installed] 

gnupg-utils/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

gnupg/stable,now 2.2.12-1+rpi1+deb10u1 all [installed] 

gnustep-base-common/stable,now 1.26.0-4+deb10u1 all [installed,automatic] 

gnustep-base-runtime/stable,now 1.26.0-4+deb10u1 armhf [installed,automatic] 

gnustep-common/stable,now 2.7.0-4 armhf [installed,automatic] 

golang-docker-credential-helpers/stable,now 0.6.1-2 armhf [installed,automatic] 

gpg-agent/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

gpg-wks-client/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

gpg-wks-server/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

gpg/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

gpgconf/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

gpgsm/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

gpgv/stable,now 2.2.12-1+rpi1+deb10u1 armhf [installed] 

grep/stable,now 3.3-1 armhf [installed] 

groff-base/stable,now 1.22.4-3 armhf [installed] 

gsfonts/stable,now 1:8.11+urwcyr1.0.7~pre44-4.4 all [installed,automatic] 

guile-2.0-libs/stable,now 2.0.13+1-5.1 armhf [installed,automatic] 

guile-2.2-libs/stable,now 2.2.4+1-2+deb10u1 armhf [installed,automatic] 

gzip/stable,now 1.9-3 armhf [installed] 

hardlink/stable,now 0.3.2 armhf [installed] 

haveged/stable,now 1.9.1-7 armhf [installed,automatic] 

hdparm/stable,now 9.58+ds-1 armhf [installed] 

hicolor-icon-theme/stable,now 0.17-2 all [installed,automatic] 

hostapd/stable,now 2:2.7+git20190128+0c1e29f-6+deb10u2 armhf [installed] 

hostname/stable,now 3.21 armhf [installed] 

htop/stable,now 2.2.0-1 armhf [installed] 

ibverbs-providers/stable,now 22.1-1 armhf [installed,automatic] 

idn2/stable,now 2.0.5-1+deb10u1 armhf [installed,automatic] 

ifupdown/stable,now 0.8.35 armhf [installed] 

imagemagick-6-common/stable,now 8:6.9.10.23+dfsg-2.1+deb10u1 all [installed,automatic] 

imagemagick-6.q16/stable,now 8:6.9.10.23+dfsg-2.1+deb10u1 armhf [installed,automatic] 

imagemagick/stable,now 8:6.9.10.23+dfsg-2.1+deb10u1 armhf [installed,automatic] 

info/stable,now 6.5.0.dfsg.1-4+b1 armhf [installed] 

init-system-helpers/stable,now 1.56+nmu1 all [installed] 

init/stable,now 1.56+nmu1 armhf [installed] 

initramfs-tools-core/stable,now 0.133+deb10u1 all [installed,automatic] 

initramfs-tools/stable,now 0.133+deb10u1 all [installed,automatic] 

insserv/stable,now 1.18.0-2 armhf [installed] 

install-info/stable,now 6.5.0.dfsg.1-4+b1 armhf [installed] 

intltool-debian/stable,now 0.35.0+20060710.5 all [installed,automatic] 

iotop/stable,now 0.6-24-g733f3f8-1 armhf [installed] 

iproute2/stable,now 4.20.0-2+deb10u1 armhf [installed] 

iptables/stable,now 1.8.2-4 armhf [installed] 

iputils-ping/stable,now 3:20180629-2+deb10u1 armhf [installed] 

isc-dhcp-client/stable,now 4.4.1-2 armhf [installed] 

isc-dhcp-common/stable,now 4.4.1-2 armhf [installed] 

iso-codes/stable,now 4.2-1 all [installed,automatic] 

iw/stable,now 5.0.1-1 armhf [installed,automatic] 

javascript-common/stable,now 11 all [installed,automatic] 

jellyfin-ffmpeg/now 4.3.1-3-buster armhf [installed,local] 

jellyfin-server/now 10.6.4-1 armhf [installed,local] 

jellyfin-web/now 10.6.4-1 all [installed,local] 

jellyfin-ynh-deps/now 10.6.4~ynh3 all [installed,local] 

jellyfin/now 10.6.4-1 all [installed,local] 

jq/stable,now 1.5+dfsg-2+b1 armhf [installed,automatic] 

kbd/stable,now 2.0.4-4 armhf [installed,automatic] 

keyboard-configuration/stable,now 1.193~deb10u1 all [installed] 

keyutils/stable,now 1.6-6 armhf [installed,automatic] 

klibc-utils/stable,now 2.0.6-1+rpi1 armhf [installed,automatic] 

kmod/stable,now 26-1 armhf [installed] 

ldap-utils/stable,now 2.4.47+dfsg-3+rpi1+deb10u5 armhf [installed,automatic] 

less/stable,now 487-0.1 armhf [installed] 

libaacs0/stable,now 0.9.0-2 armhf [installed,automatic] 

libacl1/stable,now 2.2.53-4 armhf [installed] 

libaio1/stable,now 0.3.112-3 armhf [installed,automatic] 

libalgorithm-diff-perl/stable,now 1.19.03-2 all [installed,automatic] 

libalgorithm-diff-xs-perl/stable,now 0.04-5+b1 armhf [installed,automatic] 

libalgorithm-merge-perl/stable,now 0.08-3 all [installed,automatic] 

libaom0/stable,now 1.0.0-3 armhf [installed,automatic] 

libapparmor1/stable,now 2.13.2-10 armhf [installed] 

libapt-inst2.0/stable,now 1.8.2.2 armhf [installed] 

libapt-pkg5.0/stable,now 1.8.2.2 armhf [installed] 

libarchive-cpio-perl/stable,now 0.10-1 all [installed,automatic] 

libarchive-zip-perl/stable,now 1.64-1 all [installed,automatic] 

libarchive13/stable,now 3.3.3-4+deb10u1 armhf [installed,automatic] 

libargon2-1/stable,now 0~20171227-0.2 armhf [installed] 

libaria2-0-dev/stable,now 1.34.0-4 armhf [installed] 

libaria2-0/stable,now 1.34.0-4 armhf [installed] 

libaria2/stable,now 2.8.0+repack-1.2 armhf [installed] 

libasan5/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

libasound2-data/testing,now 1.1.8-1+rpt1 all [installed,automatic] 

libasound2/testing,now 1.1.8-1+rpt1 armhf [installed,automatic] 

libass9/stable,now 1:0.14.0-2 armhf [installed,automatic] 

libassuan0/stable,now 2.5.2-1 armhf [installed] 

libasyncns0/stable,now 0.8-6 armhf [installed,automatic] 

libatomic1/stable,now 8.3.0-6+rpi1 armhf [installed] 

libattr1/stable,now 1:2.4.48-4 armhf [installed] 

libaudit-common/stable,now 1:2.8.4-3 all [installed] 

libaudit1/stable,now 1:2.8.4-3 armhf [installed] 

libauthen-sasl-perl/stable,now 2.1600-1 all [installed,automatic] 

libavahi-client3/stable,now 0.7-4+b1 armhf [installed,automatic] 

libavahi-common-data/stable,now 0.7-4+b1 armhf [installed,automatic] 

libavahi-common3/stable,now 0.7-4+b1 armhf [installed,automatic] 

libavahi-core7/stable,now 0.7-4+b1 armhf [installed,automatic] 

libavc1394-0/stable,now 0.5.4-5 armhf [installed,automatic] 

libavcodec58/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libavdevice58/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libavfilter7/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libavformat58/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libavresample4/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libavutil56/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libbabeltrace1/stable,now 1.5.6-2+deb10u1 armhf [installed,automatic] 

libbdplus0/stable,now 0.1.2-3 armhf [installed,automatic] 

libbind9-161/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

libbinutils/stable,now 2.31.1-16+rpi2 armhf [installed,automatic] 

libblkid1/stable,now 2.33.1-0.1 armhf [installed] 

libbluetooth3/testing,now 5.50-1.2~deb10u1+rpt2 armhf [installed,automatic] 

libbluray2/stable,now 1:1.1.0-1 armhf [installed,automatic] 

libboost-atomic1.67.0/stable,now 1.67.0-13+deb10u1 armhf [installed,automatic] 

libboost-iostreams1.58.0/stable,now 1.58.0+dfsg-5.1+rpi1+b4 armhf [installed] 

libboost-iostreams1.67.0/stable,now 1.67.0-13+deb10u1 armhf [installed,automatic] 

libboost-regex1.67.0/stable,now 1.67.0-13+deb10u1 armhf [installed,automatic] 

libboost-system1.67.0/stable,now 1.67.0-13+deb10u1 armhf [installed,automatic] 

libboost-thread1.67.0/stable,now 1.67.0-13+deb10u1 armhf [installed,automatic] 

libbrotli1/stable,now 1.0.7-2+deb10u1 armhf [installed,automatic] 

libbs2b0/stable,now 3.1.0+dfsg-2.2 armhf [installed,automatic] 

libbsd0/stable,now 0.9.1-2 armhf [installed] 

libbz2-1.0/stable,now 1.0.6-9.2~deb10u1 armhf [installed] 

libc-ares2/stable,now 1.14.0-1 armhf [installed,automatic] 

libc-bin/stable,now 2.28-10+rpi1 armhf [installed] 

libc-client2007e/stable,now 8:2007f~dfsg-6 armhf [installed,automatic] 

libc-dev-bin/stable,now 2.28-10+rpi1 armhf [installed,automatic] 

libc-l10n/stable,now 2.28-10+rpi1 all [installed,automatic] 

libc6-dbg/stable,now 2.28-10+rpi1 armhf [installed,automatic] 

libc6-dev/stable,now 2.28-10+rpi1 armhf [installed,automatic] 

libc6/stable,now 2.28-10+rpi1 armhf [installed] 

libcaca0/stable,now 0.99.beta19-2.1 armhf [installed,automatic] 

libcairo2/testing,now 1.16.0-4+rpt1 armhf [installed,automatic] 

libcap-ng0/stable,now 0.7.9-2 armhf [installed] 

libcap2-bin/stable,now 1:2.25-2 armhf [installed] 

libcap2/stable,now 1:2.25-2 armhf [installed] 

libcc1-0/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

libcdio-cdda2/stable,now 10.2+0.94+2-4 armhf [installed,automatic] 

libcdio-paranoia2/stable,now 10.2+0.94+2-4 armhf [installed,automatic] 

libcdio18/stable,now 2.0.0-2 armhf [installed,automatic] 

libcephfs2/stable,now 12.2.11+dfsg1-2.1+rpi1 armhf [installed,automatic] 

libcgi-fast-perl/stable,now 1:2.13-1 all [installed,automatic] 

libcgi-pm-perl/stable,now 4.40-1 all [installed,automatic] 

libchromaprint1/stable,now 1.4.3-3 armhf [installed,automatic] 

libcodec2-0.8.1/stable,now 0.8.1-2 armhf [installed,automatic] 

libcom-err2/stable,now 1.44.5-1+deb10u3 armhf [installed] 

libconfig-inifiles-perl/stable,now 3.000001-1 all [installed,automatic] 

libconvert-asn1-perl/stable,now 0.27-2 all [installed,automatic] 

libcroco3/stable,now 0.6.12-3 armhf [installed,automatic] 

libcryptsetup12/stable,now 2:2.1.0-5+deb10u2 armhf [installed] 

libcups2/stable,now 2.2.10-6+deb10u4 armhf [installed,automatic] 

libcupsfilters1/testing,now 1.21.6-5+rpt1 armhf [installed,automatic] 

libcupsimage2/stable,now 2.2.10-6+deb10u4 armhf [installed,automatic] 

libcurl3-gnutls/stable,now 7.64.0-4+deb10u1 armhf [installed,automatic] 

libcurl4/stable,now 7.64.0-4+deb10u1 armhf [installed,automatic] 

libdaemon0/stable,now 0.14-7 armhf [installed,automatic] 

libdata-dump-perl/stable,now 1.23-1 all [installed,automatic] 

libdatrie1/stable,now 0.2.12-2 armhf [installed,automatic] 

libdb5.3/stable,now 5.3.28+dfsg1-0.5 armhf [installed] 

libdbd-ldap-perl/stable,now 0.20-1 all [installed,automatic] 

libdbd-mysql-perl/stable,now 4.050-2 armhf [installed,automatic] 

libdbi-perl/stable,now 1.642-1+deb10u2 armhf [installed,automatic] 

libdbus-1-3/stable,now 1.12.20-0+deb10u1 armhf [installed,automatic] 

libdc1394-22/stable,now 2.2.5-1 armhf [installed,automatic] 

libde265-0/stable,now 1.0.3-1+rpi1+b9 armhf [installed,automatic] 

libdebconfclient0/stable,now 0.249 armhf [installed] 

libdebhelper-perl/testing,now 13.2~bpo10+1 all [installed,automatic] 

libdevmapper1.02.1/stable,now 2:1.02.155-3 armhf [installed] 

libdigest-bubblebabble-perl/stable,now 0.02-2 all [installed,automatic] 

libdigest-hmac-perl/stable,now 1.03+dfsg-2 all [installed,automatic] 

libdjvulibre-text/stable,now 3.5.27.1-10 all [installed,automatic] 

libdjvulibre21/stable,now 3.5.27.1-10 armhf [installed,automatic] 

libdns-export1104/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed] 

libdns1104/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

libdpkg-perl/stable,now 1.19.7 all [installed,automatic] 

libdrm-amdgpu1/testing,now 2.4.100-4+rpi1~bpo10+1 armhf [installed,automatic] 

libdrm-common/testing,now 2.4.100-4+rpi1~bpo10+1 all [installed,automatic] 

libdrm-nouveau2/testing,now 2.4.100-4+rpi1~bpo10+1 armhf [installed,automatic] 

libdrm-radeon1/testing,now 2.4.100-4+rpi1~bpo10+1 armhf [installed,automatic] 

libdrm2/testing,now 2.4.100-4+rpi1~bpo10+1 armhf [installed,automatic] 

libdw1/stable,now 0.176-1.1 armhf [installed,automatic] 

libecap3/stable,now 1.0.1-3.2+rpi1 armhf [installed,automatic] 

libedit2/stable,now 3.1-20181209-1 armhf [installed,automatic] 

libelf1/stable,now 0.176-1.1 armhf [installed] 

libencode-locale-perl/stable,now 1.05-1 all [installed,automatic] 

liberror-perl/stable,now 0.17027-2 all [installed,automatic] 

libestr0/stable,now 0.1.10-2.1 armhf [installed] 

libevent-2.1-6/stable,now 2.1.8-stable-4 armhf [installed,automatic] 

libevent-core-2.1-6/stable,now 2.1.8-stable-4 armhf [installed,automatic] 

libevent-pthreads-2.1-6/stable,now 2.1.8-stable-4 armhf [installed,automatic] 

libexpat1-dev/stable,now 2.2.6-2+deb10u1 armhf [installed,automatic] 

libexpat1/stable,now 2.2.6-2+deb10u1 armhf [installed,automatic] 

libext2fs2/stable,now 1.44.5-1+deb10u3 armhf [installed] 

libexttextcat-2.0-0/stable,now 3.4.5-1 armhf [installed,automatic] 

libexttextcat-data/stable,now 3.4.5-1 all [installed,automatic] 

libfakeroot/stable,now 1.23-1 armhf [installed,automatic] 

libfastjson4/stable,now 0.99.8-2 armhf [installed] 

libfcgi-perl/stable,now 0.78-2+b2 armhf [installed,automatic] 

libfdisk1/stable,now 2.33.1-0.1 armhf [installed] 

libffi6/stable,now 3.2.1-9 armhf [installed] 

libfftw3-double3/stable,now 3.3.8-2 armhf [installed,automatic] 

libfftw3-single3/stable,now 3.3.8-2 armhf [installed,automatic] 

libfile-fcntllock-perl/stable,now 0.22-3+b4 armhf [installed,automatic] 

libfile-listing-perl/stable,now 6.04-1 all [installed,automatic] 

libfile-stripnondeterminism-perl/stable,now 1.1.2-1 all [installed,automatic] 

libfl2/stable,now 2.6.4-6.2 armhf [installed,automatic] 

libflac8/stable,now 1.3.2-3 armhf [installed,automatic] 

libflite1/stable,now 2.1-release-3 armhf [installed,automatic] 

libfont-afm-perl/stable,now 1.20-2 all [installed,automatic] 

libfontconfig1/stable,now 2.13.1-2 armhf [installed,automatic] 

libfreeipmi17/stable,now 1.6.3-1.1 armhf [installed,automatic] 

libfreetype6-dev/stable,now 2.9.1-3+deb10u2 armhf [installed] 

libfreetype6/stable,now 2.9.1-3+deb10u2 armhf [installed,automatic] 

libfribidi0/stable,now 1.0.5-3.1+deb10u1 armhf [installed,automatic] 

libfstrm0/stable,now 0.4.0-1 armhf [installed,automatic] 

libftdi1-2/stable,now 1.4-1+b2 armhf [installed,automatic] 

libfuse2/stable,now 2.9.9-1+deb10u1 armhf [installed,automatic] 

libgc1c2/stable,now 1:7.6.4-0.4 armhf [installed,automatic] 

libgcc-8-dev/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

libgcc1/stable,now 1:8.3.0-6+rpi1 armhf [installed] 

libgcrypt20/stable,now 1.8.4-5 armhf [installed] 

libgd3/stable,now 2.2.5-5.2 armhf [installed,automatic] 

libgdbm-compat4/stable,now 1.18.1-4 armhf [installed,automatic] 

libgdbm6/stable,now 1.18.1-4 armhf [installed] 

libgdk-pixbuf2.0-0/stable,now 2.38.1+dfsg-1 armhf [installed,automatic] 

libgdk-pixbuf2.0-bin/stable,now 2.38.1+dfsg-1 armhf [installed,automatic] 

libgdk-pixbuf2.0-common/stable,now 2.38.1+dfsg-1 all [installed,automatic] 

libgeoip1/stable,now 1.6.12-1 armhf [installed,automatic] 

libgfapi0/stable,now 5.5-3 armhf [installed,automatic] 

libgfrpc0/stable,now 5.5-3 armhf [installed,automatic] 

libgfxdr0/stable,now 5.5-3 armhf [installed,automatic] 

libgirepository-1.0-1/stable,now 1.58.3-2 armhf [installed,automatic] 

libgl1-mesa-dri/testing,now 19.3.2-1~bpo10+1~rpt3 armhf [installed,automatic] 

libgl1/testing,now 1.3.0-7~bpo10+1 armhf [installed,automatic] 

libglapi-mesa/testing,now 19.3.2-1~bpo10+1~rpt3 armhf [installed,automatic] 

libglib2.0-0/stable,now 2.58.3-2+deb10u2 armhf [installed,automatic] 

libglib2.0-data/stable,now 2.58.3-2+deb10u2 all [installed,automatic] 

libglusterfs0/stable,now 5.5-3 armhf [installed,automatic] 

libglvnd0/testing,now 1.3.0-7~bpo10+1 armhf [installed,automatic] 

libglx-mesa0/testing,now 19.3.2-1~bpo10+1~rpt3 armhf [installed,automatic] 

libglx0/testing,now 1.3.0-7~bpo10+1 armhf [installed,automatic] 

libgme0/stable,now 0.6.2-1 armhf [installed,automatic] 

libgmp10/stable,now 2:6.1.2+dfsg-4 armhf [installed] 

libgnustep-base1.26/stable,now 1.26.0-4+deb10u1 armhf [installed,automatic] 

libgnutls30/stable,now 3.6.7-4+deb10u6 armhf [installed] 

libgomp1/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

libgpg-error0/stable,now 1.35-1 armhf [installed] 

libgpgme11/stable,now 1.12.0-6 armhf [installed,automatic] 

libgpm2/stable,now 1.20.7-5 armhf [installed,automatic] 

libgraphite2-3/stable,now 1.3.13-7 armhf [installed,automatic] 

libgs9-common/stable,now 9.27~dfsg-2+deb10u4 all [installed,automatic] 

libgs9/stable,now 9.27~dfsg-2+deb10u4 armhf [installed,automatic] 

libgsasl7/stable,now 1.8.0-8+b1 armhf [installed,automatic] 

libgsm1/stable,now 1.0.18-2 armhf [installed,automatic] 

libgssapi-krb5-2/stable,now 1.17-3+deb10u1 armhf [installed,automatic] 

libgssapi-perl/stable,now 0.28-3+b1 armhf [installed,automatic] 

libgudev-1.0-0/stable,now 232-2+rpi1 armhf [installed,automatic] 

libharfbuzz0b/stable,now 2.3.1-1 armhf [installed,automatic] 

libhavege1/stable,now 1.9.1-7 armhf [installed,automatic] 

libheif1/stable,now 1.3.2-2~deb10u1 armhf [installed,automatic] 

libhiredis0.14/stable,now 0.14.0-3 armhf [installed,automatic] 

libhogweed4/stable,now 3.4.1-1 armhf [installed] 

libhtml-form-perl/stable,now 6.03-1 all [installed,automatic] 

libhtml-format-perl/stable,now 2.12-1 all [installed,automatic] 

libhtml-parser-perl/stable,now 3.72-3+b2 armhf [installed,automatic] 

libhtml-tagset-perl/stable,now 3.20-3 all [installed,automatic] 

libhtml-template-perl/stable,now 2.97-1 all [installed,automatic] 

libhtml-tree-perl/stable,now 5.07-2 all [installed,automatic] 

libhttp-cookies-perl/stable,now 6.04-1 all [installed,automatic] 

libhttp-daemon-perl/stable,now 6.01-3 all [installed,automatic] 

libhttp-date-perl/stable,now 6.02-1 all [installed,automatic] 

libhttp-message-perl/stable,now 6.18-1 all [installed,automatic] 

libhttp-negotiate-perl/stable,now 6.01-1 all [installed,automatic] 

libibverbs1/stable,now 22.1-1 armhf [installed,automatic] 

libice6/stable,now 2:1.0.9-2 armhf [installed,automatic] 

libicu63/stable,now 63.1-6+deb10u1 armhf [installed,automatic] 

libident/stable,now 0.22-3.1 armhf [installed] 

libidn11/stable,now 1.33-2.2 armhf [installed] 

libidn2-0/stable,now 2.0.5-1+deb10u1 armhf [installed] 

libiec61883-0/stable,now 1.2.0-3 armhf [installed,automatic] 

libijs-0.35/stable,now 0.35-14 armhf [installed,automatic] 

libilmbase23/stable,now 2.2.1-2 armhf [installed,automatic] 

libintl-perl/stable,now 1.26-2 all [installed,automatic] 

libintl-xs-perl/stable,now 1.26-2+b3 armhf [installed,automatic] 

libio-html-perl/stable,now 1.001-1 all [installed,automatic] 

libio-socket-ssl-perl/stable,now 2.060-3 all [installed,automatic] 

libip4tc0/stable,now 1.8.2-4 armhf [installed] 

libip6tc0/stable,now 1.8.2-4 armhf [installed] 

libipmimonitoring-dev/stable,now 1.6.3-1.1 armhf [installed,automatic] 

libipmimonitoring6/stable,now 1.6.3-1.1 armhf [installed,automatic] 

libiptc0/stable,now 1.8.2-4 armhf [installed] 

libirs161/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

libisc-export1100/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed] 

libisc1100/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

libisccc161/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

libisccfg163/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

libisl19/stable,now 0.20-2 armhf [installed,automatic] 

libiw30/stable,now 30~pre9-13 armhf [installed,automatic] 

libjack-jackd2-0/stable,now 1.9.12~dfsg-2 armhf [installed,automatic] 

libjansson4/stable,now 2.12-1 armhf [installed,automatic] 

libjbig0/stable,now 2.1-3.1+b2 armhf [installed,automatic] 

libjbig2dec0/stable,now 0.16-1 armhf [installed,automatic] 

libjemalloc2/stable,now 5.1.0-3 armhf [installed,automatic] 

libjim0.77/stable,now 0.77+dfsg0-3 armhf [installed,automatic] 

libjpeg62-turbo/stable,now 1:1.5.2-2+deb10u1 armhf [installed,automatic] 

libjq1/stable,now 1.5+dfsg-2+b1 armhf [installed,automatic] 

libjs-bootstrap/stable,now 3.4.1+dfsg-1 all [installed,automatic] 

libjs-d3/stable,now 3.5.17-2 all [installed,automatic] 

libjs-jquery/stable,now 3.3.1~dfsg-3 all [installed,automatic] 

libjs-requirejs/stable,now 2.3.6-1 all [installed,automatic] 

libjs-sphinxdoc/stable,now 1.8.4-1 all [installed,automatic] 

libjs-underscore/stable,now 1.9.1~dfsg-1 all [installed,automatic] 

libjson-c3/stable,now 0.12.1+ds-2+deb10u1 armhf [installed] 

libjsoncpp1/stable,now 1.7.4-3 armhf [installed,automatic] 

libjudy-dev/stable,now 1.0.5-5 armhf [installed,automatic] 

libjudydebian1/stable,now 1.0.5-5 armhf [installed,automatic] 

libjxr-tools/stable,now 1.1-6 armhf [installed,automatic] 

libjxr0/stable,now 1.1-6 armhf [installed,automatic] 

libk5crypto3/stable,now 1.17-3+deb10u1 armhf [installed,automatic] 

libkeyutils1/stable,now 1.6-6 armhf [installed,automatic] 

libklibc/stable,now 2.0.6-1+rpi1 armhf [installed,automatic] 

libkmod2/stable,now 26-1 armhf [installed] 

libkrb5-3/stable,now 1.17-3+deb10u1 armhf [installed,automatic] 

libkrb5support0/stable,now 1.17-3+deb10u1 armhf [installed,automatic] 

libksba8/stable,now 1.3.5-2 armhf [installed] 

libkyotocabinet16v5/stable,now 1.2.76-4.2+rpi1 armhf [installed,automatic] 

liblcms2-2/stable,now 2.9-3 armhf [installed,automatic] 

libldap-2.4-2/stable,now 2.4.47+dfsg-3+rpi1+deb10u5 armhf [installed] 

libldap-common/stable,now 2.4.47+dfsg-3+rpi1+deb10u5 all [installed] 

libldb1/stable,now 2:1.5.1+really1.4.6-3 armhf [installed,automatic] 

liblilv-0-0/stable,now 0.24.2~dfsg0-2 armhf [installed,automatic] 

libllvm7/stable,now 1:7.0.1-8+rpi3+deb10u2 armhf [installed,automatic] 

libllvm9/testing,now 1:9.0.1-6+rpi1~bpo10+1 armhf [installed,automatic] 

liblmdb0/stable,now 0.9.22-1 armhf [installed,automatic] 

liblocale-gettext-perl/stable,now 1.07-3+b3 armhf [installed] 

liblognorm5/stable,now 2.0.5-1 armhf [installed] 

liblqr-1-0/stable,now 0.4.2-2.1 armhf [installed,automatic] 

libltdl-dev/stable,now 2.4.6-9 armhf [installed,automatic] 

libltdl7/stable,now 2.4.6-9 armhf [installed,automatic] 

liblua5.1-0/stable,now 5.1.5-8.1+b1 armhf [installed,automatic] 

liblua5.3-0/stable,now 5.3.3-1.1 armhf [installed,automatic] 

libluajit-5.1-2/stable,now 2.1.0~beta3+dfsg-5.1 armhf [installed,automatic] 

libluajit-5.1-common/stable,now 2.1.0~beta3+dfsg-5.1 all [installed,automatic] 

liblwp-mediatypes-perl/stable,now 6.02-1 all [installed,automatic] 

liblwp-protocol-https-perl/stable,now 6.07-2 all [installed,automatic] 

liblwres161/stable,now 1:9.11.5.P4+dfsg-5.1+deb10u2 armhf [installed,automatic] 

liblz1/stable,now 1.11-3 armhf [installed,automatic] 

liblz4-1/stable,now 1.8.3-1 armhf [installed] 

liblz4-dev/stable,now 1.8.3-1 armhf [installed,automatic] 

liblzma5/stable,now 5.2.4-1 armhf [installed] 

liblzo2-2/stable,now 2.10-0.1 armhf [installed,automatic] 

libmagic-mgc/stable,now 1:5.35-4+deb10u2 armhf [installed,automatic] 

libmagic1/stable,now 1:5.35-4+deb10u2 armhf [installed,automatic] 

libmagickcore-6.q16-6-extra/stable,now 8:6.9.10.23+dfsg-2.1+deb10u1 armhf [installed,automatic] 

libmagickcore-6.q16-6/stable,now 8:6.9.10.23+dfsg-2.1+deb10u1 armhf [installed,automatic] 

libmagickwand-6.q16-6/stable,now 8:6.9.10.23+dfsg-2.1+deb10u1 armhf [installed,automatic] 

libmail-sendmail-perl/stable,now 0.80-1 all [installed,automatic] 

libmail-spf-perl/stable,now 2.9.0-4 all [installed,automatic] 

libmailtools-perl/stable,now 2.18-1 all [installed,automatic] 

libmailutils5/stable,now 1:3.5-4 armhf [installed,automatic] 

libmariadb3/stable,now 1:10.3.27-0+deb10u1 armhf [installed,automatic] 

libmbim-glib4/stable,now 1.18.0-1 armhf [installed,automatic] 

libmbim-proxy/stable,now 1.18.0-1 armhf [installed,automatic] 

libmemcached11/stable,now 1.0.18-4.2 armhf [installed,automatic] 

libmemcachedutil2/stable,now 1.0.18-4.2 armhf [installed,automatic] 

libminiupnpc17/stable,now 2.1-1+ynh10 armhf [installed,automatic] 

libmm-glib0/stable,now 1.10.0-1 armhf [installed,automatic] 

libmnl-dev/stable,now 1.0.4-2 armhf [installed] 

libmnl0/stable,now 1.0.4-2 armhf [installed] 

libmodule-find-perl/stable,now 0.13-1 all [installed,automatic] 

libmodule-scandeps-perl/stable,now 1.27-1 all [installed,automatic] 

libmount1/stable,now 2.33.1-0.1 armhf [installed] 

libmp3lame0/stable,now 3.100-2+b1 armhf [installed,automatic] 

libmpc3/stable,now 1.1.0-1 armhf [installed,automatic] 

libmpdec2/stable,now 2.4.2-2 armhf [installed,automatic] 

libmpfr6/stable,now 4.0.2-1 armhf [installed,automatic] 

libmpg123-0/stable,now 1.25.10-2 armhf [installed,automatic] 

libmtp-common/stable,now 1.1.16-2 all [installed,automatic] 

libmtp-runtime/stable,now 1.1.16-2 armhf [installed] 

libmtp9/stable,now 1.1.16-2 armhf [installed,automatic] 

libmysofa0/stable,now 0.6~dfsg0-3+deb10u1 armhf [installed,automatic] 

libnatpmp1/stable,now 20150609-7 armhf [installed,automatic] 

libncurses6/stable,now 6.1+20181013-2+deb10u2 armhf [installed] 

libncursesw5/stable,now 6.1+20181013-2+deb10u2 armhf [installed,automatic] 

libncursesw6/stable,now 6.1+20181013-2+deb10u2 armhf [installed] 

libndp0/stable,now 1.6-1 armhf [installed,automatic] 

libnet-dns-perl/stable,now 1.19-1 all [installed] 

libnet-dns-sec-perl/stable,now 1.11-1 armhf [installed,automatic] 

libnet-http-perl/stable,now 6.18-1 all [installed,automatic] 

libnet-ip-perl/stable,now 1.26-2 all [installed,automatic] 

libnet-ldap-perl/stable,now 1:0.6500+dfsg-1 all [installed,automatic] 

libnet-libidn-perl/stable,now 0.12.ds-3+b1 armhf [installed,automatic] 

libnet-smtp-ssl-perl/stable,now 1.04-1 all [installed,automatic] 

libnet-ssleay-perl/stable,now 1.85-2+b1 armhf [installed,automatic] 

libnetaddr-ip-perl/stable,now 4.079+dfsg-1+b3 armhf [installed,automatic] 

libnetfilter-conntrack3/stable,now 1.0.7-1 armhf [installed] 

libnetpbm10/stable,now 2:10.0-15.3 armhf [installed,automatic] 

libnettle6/stable,now 3.4.1-1 armhf [installed] 

libnewt0.52/stable,now 0.52.20-8 armhf [installed,automatic] 

libnfnetlink0/stable,now 1.0.1-3 armhf [installed] 

libnfsidmap2/stable,now 0.25-5.1 armhf [installed,automatic] 

libnftnl11/stable,now 1.1.2-2 armhf [installed] 

libnghttp2-14/stable,now 1.36.0-2+deb10u1 armhf [installed,automatic] 

libnginx-mod-http-auth-pam/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-cache-purge/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-dav-ext/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-echo/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-fancyindex/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-geoip/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-headers-more-filter/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-image-filter/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-lua/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-ndk/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-perl/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-subs-filter/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-uploadprogress/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-upstream-fair/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-http-xslt-filter/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-mail/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-nchan/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnginx-mod-stream/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

libnl-3-200/stable,now 3.4.0-1 armhf [installed,automatic] 

libnl-genl-3-200/stable,now 3.4.0-1 armhf [installed,automatic] 

libnl-route-3-200/stable,now 3.4.0-1 armhf [installed,automatic] 

libnm0/stable,now 1.14.6-2+deb10u1 armhf [installed,automatic] 

libnode64/stable,now 10.23.1~dfsg-1~deb10u1 armhf [installed,automatic] 

libnorm1/stable,now 1.5.8+dfsg2-1 armhf [installed,automatic] 

libnpth0/stable,now 1.6-1 armhf [installed] 

libnspr4/stable,now 2:4.20-1 armhf [installed,automatic] 

libnss-ldapd/stable,now 0.9.10-2 armhf [installed,automatic] 

libnss-mdns/stable,now 0.14.1-1+b5 armhf [installed,automatic] 

libnss-myhostname/stable,now 241-7~deb10u6+rpi1 armhf [installed,automatic] 

libnss3/stable,now 2:3.42.1-1+deb10u3 armhf [installed,automatic] 

libntfs-3g883/stable,now 1:2017.3.23AR.3-3 armhf [installed,automatic] 

libntlm0/stable,now 1.5-1+deb10u1 armhf [installed,automatic] 

libobjc4/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

libodbc1/stable,now 2.3.6-0.1 armhf [installed,automatic] 

libogg0/stable,now 1.3.2-1+b2 armhf [installed,automatic] 

libonig5/stable,now 6.9.1-1 armhf [installed,automatic] 

libopenal-data/stable,now 1:1.19.1-1 all [installed,automatic] 

libopenal1/stable,now 1:1.19.1-1 armhf [installed,automatic] 

libopendbx1-sqlite3/stable,now 1.4.6-13+b1 armhf [installed,automatic] 

libopendbx1/stable,now 1.4.6-13+b1 armhf [installed,automatic] 

libopendkim11/stable,now 2.11.0~alpha-12 armhf [installed,automatic] 

libopenexr23/stable,now 2.2.1-4.1 armhf [installed,automatic] 

libopenjp2-7/stable,now 2.3.0-2+deb10u1 armhf [installed,automatic] 

libopenmpt0/stable,now 0.4.3-1+deb10u1 armhf [installed,automatic] 

libopts25-dev/stable,now 1:5.18.12-4 armhf [installed,automatic] 

libopts25/stable,now 1:5.18.12-4 armhf [installed,automatic] 

libopus0/stable,now 1.3-1 armhf [installed,automatic] 

libp11-kit0/stable,now 0.23.15-2+deb10u1 armhf [installed] 

libpam-chksshpwd/testing,now 1.3.1-5+rpt2 armhf [installed] 

libpam-ldapd/stable,now 0.9.10-2 armhf [installed,automatic] 

libpam-modules-bin/testing,now 1.3.1-5+rpt2 armhf [installed] 

libpam-modules/testing,now 1.3.1-5+rpt2 armhf [installed] 

libpam-runtime/testing,now 1.3.1-5+rpt2 all [installed] 

libpam-systemd/stable,now 241-7~deb10u6+rpi1 armhf [installed,automatic] 

libpam0g/testing,now 1.3.1-5+rpt2 armhf [installed] 

libpango-1.0-0/stable,now 1.42.4-8~deb10u1 armhf [installed,automatic] 

libpangocairo-1.0-0/stable,now 1.42.4-8~deb10u1 armhf [installed,automatic] 

libpangoft2-1.0-0/stable,now 1.42.4-8~deb10u1 armhf [installed,automatic] 

libpaper-utils/stable,now 1.1.28 armhf [installed,automatic] 

libpaper1/stable,now 1.1.28 armhf [installed,automatic] 

libparted2/stable,now 3.2-25 armhf [installed,automatic] 

libpcap0.8/stable,now 1.8.1-6 armhf [installed,automatic] 

libpci3/stable,now 1:3.5.2-1 armhf [installed,automatic] 

libpcre2-8-0/stable,now 10.32-5 armhf [installed,automatic] 

libpcre2-posix0/stable,now 10.32-5 armhf [installed,automatic] 

libpcre3/stable,now 2:8.39-12 armhf [installed] 

libpcsclite1/stable,now 1.8.24-1 armhf [installed,automatic] 

libperl5.28/stable,now 5.28.1-6 armhf [installed,automatic] 

libpgm-5.2-0/stable,now 5.2.122~dfsg-3 armhf [installed,automatic] 

libpipeline1/stable,now 1.5.1-2 armhf [installed] 

libpixman-1-0/testing,now 0.36.0-1+rpt1 armhf [installed,automatic] 

libpng-dev/stable,now 1.6.36-6 armhf [installed,automatic] 

libpng-tools/stable,now 1.6.36-6 armhf [installed,automatic] 

libpng12-0/stable,now 1.2.54-6 armhf [installed,automatic] 

libpng16-16/stable,now 1.6.36-6 armhf [installed,automatic] 

libpolkit-agent-1-0/testing,now 0.105-25+rpt1 armhf [installed,automatic] 

libpolkit-backend-1-0/testing,now 0.105-25+rpt1 armhf [installed,automatic] 

libpolkit-gobject-1-0/testing,now 0.105-25+rpt1 armhf [installed,automatic] 

libpopt0/stable,now 1.16-12 armhf [installed] 

libpostproc55/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libpq5/stable,now 11.10-0+deb10u1 armhf [installed,automatic] 

libproc-processtable-perl/stable,now 0.56-1 armhf [installed,automatic] 

libprocps7/stable,now 2:3.3.15-2 armhf [installed] 

libprotobuf-c1/stable,now 1.3.1-1+b1 armhf [installed,automatic] 

libpsl5/stable,now 0.20.2-2 armhf [installed,automatic] 

libpulse0/testing,now 12.2-4+deb10u1+rpi3 armhf [installed,automatic] 

libpython-all-dev/stable,now 2.7.16-1 armhf [installed,automatic] 

libpython-dev/stable,now 2.7.16-1 armhf [installed,automatic] 

libpython-stdlib/stable,now 2.7.16-1 armhf [installed,automatic] 

libpython2-dev/stable,now 2.7.16-1 armhf [installed,automatic] 

libpython2-stdlib/stable,now 2.7.16-1 armhf [installed,automatic] 

libpython2.7-dev/stable,now 2.7.16-2+deb10u1 armhf [installed,automatic] 

libpython2.7-minimal/stable,now 2.7.16-2+deb10u1 armhf [installed,automatic] 

libpython2.7-stdlib/stable,now 2.7.16-2+deb10u1 armhf [installed,automatic] 

libpython2.7/stable,now 2.7.16-2+deb10u1 armhf [installed,automatic] 

libpython3-dev/stable,now 3.7.3-1 armhf [installed,automatic] 

libpython3-stdlib/stable,now 3.7.3-1 armhf [installed,automatic] 

libpython3.7-dev/stable,now 3.7.3-2+deb10u2 armhf [installed,automatic] 

libpython3.7-minimal/stable,now 3.7.3-2+deb10u2 armhf [installed,automatic] 

libpython3.7-stdlib/stable,now 3.7.3-2+deb10u2 armhf [installed,automatic] 

libpython3.7/stable,now 3.7.3-2+deb10u2 armhf [installed,automatic] 

libqmi-glib5/stable,now 1.22.0-1.2 armhf [installed,automatic] 

libqmi-proxy/stable,now 1.22.0-1.2 armhf [installed,automatic] 

librados2/stable,now 12.2.11+dfsg1-2.1+rpi1 armhf [installed,automatic] 

libraspberrypi-bin/testing,now 1.20210201-1 armhf [installed] 

libraspberrypi-dev/testing,now 1.20210201-1 armhf [installed] 

libraspberrypi-doc/testing,now 1.20210201-1 armhf [installed] 

libraspberrypi0/testing,now 1.20210201-1 armhf [installed] 

libraw1394-11/stable,now 2.1.2-1+b1 armhf [installed,automatic] 

librbl1/stable,now 2.11.0~alpha-12 armhf [installed,automatic] 

libreadline5/stable,now 5.2+dfsg-3 armhf [installed,automatic] 

libreadline6/stable,now 6.3-9 armhf [installed] 

libreadline7/stable,now 7.0-5 armhf [installed] 

librhash0/stable,now 1.3.8-1 armhf [installed,automatic] 

librsvg2-2/stable,now 2.44.10-2.1+rpi1 armhf [installed,automatic] 

librsvg2-common/stable,now 2.44.10-2.1+rpi1 armhf [installed,automatic] 

librtmp1/stable,now 2.4+20151223.gitfa8646d.1-2 armhf [installed,automatic] 

librubberband2/stable,now 1.8.1-7 armhf [installed,automatic] 

libsamplerate0/stable,now 0.1.9-2 armhf [installed,automatic] 

libsasl2-2/stable,now 2.1.27+dfsg-1+deb10u1 armhf [installed] 

libsasl2-modules-db/stable,now 2.1.27+dfsg-1+deb10u1 armhf [installed] 

libsasl2-modules/stable,now 2.1.27+dfsg-1+deb10u1 armhf [installed,automatic] 

libsdl2-2.0-0/testing,now 2.0.9+dfsg1-1+rpt1 armhf [installed,automatic] 

libseccomp2/stable,now 2.3.3-4 armhf [installed] 

libsecret-1-0/stable,now 0.18.7-1 armhf [installed,automatic] 

libsecret-common/stable,now 0.18.7-1 all [installed,automatic] 

libselinux1/stable,now 2.8-1+b1 armhf [installed] 

libsemanage-common/stable,now 2.8-2 all [installed] 

libsemanage1/stable,now 2.8-2 armhf [installed] 

libsensors-config/stable,now 1:3.5.0-3 all [installed,automatic] 

libsensors5/stable,now 1:3.5.0-3 armhf [installed,automatic] 

libsepol1/stable,now 2.8-1 armhf [installed] 

libserd-0-0/stable,now 0.28.0~dfsg0-1 armhf [installed,automatic] 

libshine3/stable,now 3.1.1-2+b1 armhf [installed,automatic] 

libsigc++-1.2-5c2/stable,now 1.2.7-2+b1 armhf [installed] 

libsigsegv2/stable,now 2.12-2 armhf [installed,automatic] 

libslang2/stable,now 2.3.2-2 armhf [installed,automatic] 

libsm6/stable,now 2:1.2.3-1 armhf [installed,automatic] 

libsmartcols1/stable,now 2.33.1-0.1 armhf [installed] 

libsmbclient/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed,automatic] 

libsnappy1v5/stable,now 1.1.7-1 armhf [installed,automatic] 

libsndfile1/stable,now 1.0.28-6 armhf [installed,automatic] 

libsndio7.0/stable,now 1.5.0-3 armhf [installed,automatic] 

libsocket6-perl/stable,now 0.29-1+b1 armhf [installed,automatic] 

libsodium23/stable,now 1.0.17-1 armhf [installed,automatic] 

libsord-0-0/stable,now 0.16.0~dfsg0-1+b1 armhf [installed,automatic] 

libsort-naturally-perl/stable,now 1.03-2 all [installed,automatic] 

libsoxr0/stable,now 0.1.2-3 armhf [installed,automatic] 

libspeex1/stable,now 1.2~rc1.2-1+b2 armhf [installed,automatic] 

libsqlite0/stable,now 2.8.17-15 armhf [installed,automatic] 

libsqlite3-0/stable,now 3.27.2-3+deb10u1 armhf [installed] 

libsratom-0-0/stable,now 0.6.0~dfsg0-1 armhf [installed,automatic] 

libss2/stable,now 1.44.5-1+deb10u3 armhf [installed] 

libssh-gcrypt-4/stable,now 0.8.7-1+deb10u1 armhf [installed,automatic] 

libssh2-1/stable,now 1.8.0-2.1 armhf [installed,automatic] 

libssl-dev/testing,now 1.1.1d-0+deb10u4+rpt1 armhf [installed,automatic] 

libssl1.1/testing,now 1.1.1d-0+deb10u4+rpt1 armhf [installed] 

libstdc++-8-dev/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

libstdc++6/stable,now 8.3.0-6+rpi1 armhf [installed] 

libstemmer0d/stable,now 0+svn585-1 armhf [installed,automatic] 

libswresample3/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libswscale5/testing,now 7:4.1.6-1~deb10u1+rpt1 armhf [installed,automatic] 

libsys-hostname-long-perl/stable,now 1.5-1 all [installed,automatic] 

libsystemd0/stable,now 241-7~deb10u6+rpi1 armhf [installed] 

libtalloc2/stable,now 2.1.14-2 armhf [installed,automatic] 

libtasn1-6/stable,now 4.13-3 armhf [installed] 

libtdb1/stable,now 1.3.16-2+b1 armhf [installed,automatic] 

libteamdctl0/stable,now 1.28-1 armhf [installed,automatic] 

libterm-readkey-perl/stable,now 2.38-1 armhf [installed,automatic] 

libtevent0/stable,now 0.9.37-1 armhf [installed,automatic] 

libtext-charwidth-perl/stable,now 0.04-7.1+b1 armhf [installed] 

libtext-iconv-perl/stable,now 1.7-5+b10 armhf [installed] 

libtext-wrapi18n-perl/stable,now 0.06-7.1 all [installed] 

libthai-data/stable,now 0.1.28-2 all [installed,automatic] 

libthai0/stable,now 0.1.28-2 armhf [installed,automatic] 

libtheora0/stable,now 1.1.1+dfsg.1-15 armhf [installed,automatic] 

libtidy5deb1/stable,now 2:5.6.0-10 armhf [installed,automatic] 

libtiff5/stable,now 4.1.0+git191117-2~deb10u1 armhf [installed,automatic] 

libtimedate-perl/stable,now 2.3000-2+deb10u1 all [installed,automatic] 

libtinfo5/stable,now 6.1+20181013-2+deb10u2 armhf [installed] 

libtinfo6/stable,now 6.1+20181013-2+deb10u2 armhf [installed] 

libtirpc-common/stable,now 1.1.4-0.4 all [installed,automatic] 

libtirpc3/stable,now 1.1.4-0.4 armhf [installed,automatic] 

libtool/stable,now 2.4.6-9 all [installed,automatic] 

libtry-tiny-perl/stable,now 0.30-1 all [installed,automatic] 

libtwolame0/stable,now 0.3.13-4 armhf [installed,automatic] 

libubsan1/stable,now 8.3.0-6+rpi1 armhf [installed,automatic] 

libuchardet0/stable,now 0.0.6-3 armhf [installed] 

libudev0/stable,now 175-7.2 armhf [installed] 

libudev1/stable,now 241-7~deb10u6+rpi1 armhf [installed] 

libunbound8/stable,now 1.9.0-2+deb10u2 armhf [installed,automatic] 

libunistring2/stable,now 0.9.10-1 armhf [installed] 

libunwind8/stable,now 1.2.1-10~deb10u1 armhf [installed,automatic] 

liburi-perl/stable,now 1.76-1 all [installed,automatic] 

libusb-0.1-4/stable,now 2:0.1.12-32 armhf [installed,automatic] 

libusb-1.0-0/stable,now 2:1.0.22-2 armhf [installed,automatic] 

libutempter0/stable,now 1.1.6-3 armhf [installed,automatic] 

libuuid1/stable,now 2.33.1-0.1 armhf [installed] 

libuv1-dev/stable,now 1.24.1-1 armhf [installed,automatic] 

libuv1/stable,now 1.24.1-1 armhf [installed,automatic] 

libv4l-0/stable,now 1.16.3-3 armhf [installed,automatic] 

libv4l2rds0/stable,now 1.16.3-3 armhf [installed,automatic] 

libv4lconvert0/stable,now 1.16.3-3 armhf [installed,automatic] 

libva-drm2/stable,now 2.4.0-1 armhf [installed,automatic] 

libva-x11-2/stable,now 2.4.0-1 armhf [installed,automatic] 

libva2/stable,now 2.4.0-1 armhf [installed,automatic] 

libvbr2/stable,now 2.11.0~alpha-12 armhf [installed,automatic] 

libvdpau-va-gl1/stable,now 0.4.2-1+b1 armhf [installed,automatic] 

libvdpau1/stable,now 1.1.1-10 armhf [installed,automatic] 

libvidstab1.1/stable,now 1.1.0-2 armhf [installed,automatic] 

libvorbis0a/stable,now 1.3.6-2 armhf [installed,automatic] 

libvorbisenc2/stable,now 1.3.6-2 armhf [installed,automatic] 

libvorbisfile3/stable,now 1.3.6-2 armhf [installed,automatic] 

libvpx5/stable,now 1.7.0-3+deb10u1 armhf [installed,automatic] 

libwavpack1/stable,now 5.1.0-6 armhf [installed,automatic] 

libwayland-client0/stable,now 1.16.0-1 armhf [installed,automatic] 

libwayland-cursor0/stable,now 1.16.0-1 armhf [installed,automatic] 

libwayland-egl1/stable,now 1.16.0-1 armhf [installed,automatic] 

libwbclient0/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed,automatic] 

libwebp6/stable,now 0.6.1-2 armhf [installed,automatic] 

libwebpmux3/stable,now 0.6.1-2 armhf [installed,automatic] 

libwmf0.2-7/stable,now 0.2.8.4-14 armhf [installed,automatic] 

libwrap0/stable,now 7.6.q-28 armhf [installed,automatic] 

libwww-perl/stable,now 6.36-2 all [installed,automatic] 

libwww-robotrules-perl/stable,now 6.02-1 all [installed,automatic] 

libx11-6/stable,now 2:1.6.7-1+deb10u1 armhf [installed,automatic] 

libx11-data/stable,now 2:1.6.7-1+deb10u1 all [installed,automatic] 

libx11-xcb1/stable,now 2:1.6.7-1+deb10u1 armhf [installed,automatic] 

libx264-155/stable,now 2:0.155.2917+git0a84d98-2+rpi1 armhf [installed,automatic] 

libx265-165/stable,now 2.9-4 armhf [installed,automatic] 

libxau6/stable,now 1:1.0.8-1+b2 armhf [installed,automatic] 

libxcb-dri2-0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-dri3-0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-glx0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-present0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-render0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-shape0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-shm0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-sync1/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb-xfixes0/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcb1/stable,now 1.13.1-2 armhf [installed,automatic] 

libxcursor1/stable,now 1:1.1.15-2 armhf [installed,automatic] 

libxdamage1/stable,now 1:1.1.4-3+b3 armhf [installed,automatic] 

libxdmcp6/stable,now 1:1.1.2-3 armhf [installed,automatic] 

libxext6/stable,now 2:1.3.3-1+b2 armhf [installed,automatic] 

libxfixes3/stable,now 1:5.0.3-1 armhf [installed,automatic] 

libxi6/stable,now 2:1.7.9-1 armhf [installed,automatic] 

libxinerama1/stable,now 2:1.1.4-2 armhf [installed,automatic] 

libxkbcommon0/stable,now 0.8.2-1 armhf [installed,automatic] 

libxml2/stable,now 2.9.4+dfsg1-7+deb10u1 armhf [installed,automatic] 

libxmuu1/stable,now 2:1.1.2-2+b3 armhf [installed,automatic] 

libxpm4/stable,now 1:3.5.12-1 armhf [installed,automatic] 

libxrandr2/stable,now 2:1.5.1-1 armhf [installed,automatic] 

libxrender1/stable,now 1:0.9.10-1 armhf [installed,automatic] 

libxshmfence1/stable,now 1.3-1 armhf [installed,automatic] 

libxslt1.1/stable,now 1.1.32-2.2~deb10u1 armhf [installed,automatic] 

libxss1/stable,now 1:1.2.3-1 armhf [installed,automatic] 

libxtables12/stable,now 1.8.2-4 armhf [installed] 

libxtst6/stable,now 2:1.2.3-1 armhf [installed,automatic] 

libxv1/stable,now 2:1.0.11-1 armhf [installed,automatic] 

libxvidcore4/stable,now 2:1.3.5-1 armhf [installed,automatic] 

libxxf86vm1/stable,now 1:1.1.4-1+b2 armhf [installed,automatic] 

libyaml-0-2/stable,now 0.2.1-1 armhf [installed,automatic] 

libzip4/stable,now 1.5.1-4 armhf [installed,automatic] 

libzmq5/stable,now 4.3.1-4+deb10u2 armhf [installed,automatic] 

libzstd1/stable,now 1.3.8+dfsg-3+rpi1 armhf [installed] 

libzvbi-common/stable,now 0.2.35-16 all [installed,automatic] 

libzvbi0/stable,now 0.2.35-16 armhf [installed,automatic] 

links/stable,now 2.18-2 armhf [installed] 

linux-base/stable,now 4.6 all [installed,automatic] 

linux-libc-dev/stable,now 4.18.20-2+rpi1 armhf [installed,automatic] 

localepurge/stable,now 0.7.3.5 all [installed] 

locales-all/stable,now 2.28-10+rpi1 armhf [installed,automatic] 

locales/stable,now 2.28-10+rpi1 all [installed] 

log2ram/stable,now 1.6.0 all [installed] 

login/stable,now 1:4.5-1.1 armhf [installed] 

logrotate/stable,now 3.14.0-4 armhf [installed] 

lsb-base/stable,now 10.2019051400+rpi1 all [installed] 

lsb-release/stable,now 10.2019051400+rpi1 all [installed] 

lsof/stable,now 4.91+dfsg-1 armhf [installed,automatic] 

lua-bitop/stable,now 1.0.2-5 armhf [installed,automatic] 

lua-cjson/stable,now 2.1.0+dfsg-2.1 armhf [installed,automatic] 

lua-event/stable,now 0.4.6-1 armhf [installed,automatic] 

lua-expat/stable,now 1.3.0-4 armhf [installed,automatic] 

lua-filesystem/stable,now 1.6.3-1 armhf [installed,automatic] 

lua-json/stable,now 1.3.4-2 all [installed,automatic] 

lua-ldap/stable,now 1.2.5-1 armhf [installed,automatic] 

lua-lpeg/stable,now 1.0.0-2 armhf [installed,automatic] 

lua-rex-pcre/stable,now 2.7.2-4+b1 armhf [installed,automatic] 

lua-sec/stable,now 0.7-1 armhf [installed,automatic] 

lua-socket/stable,now 3.0~rc1+git+ac3201d-4 armhf [installed,automatic] 

lua-zlib/stable,now 0.2+git+1+9622739-2.1 armhf [installed,automatic] 

lua5.1/stable,now 5.1.5-8.1+b1 armhf [installed] 

luajit/stable,now 2.1.0~beta3+dfsg-5.1 armhf [installed] 

lychee-ynh-deps/now 4.0.8~ynh2 all [installed,local] 

m4/stable,now 1.4.18-2 armhf [installed,automatic] 

mailutils-common/stable,now 1:3.5-4 all [installed,automatic] 

mailutils/stable,now 1:3.5-4 armhf [installed,automatic] 

make/stable,now 4.2.1-1.2 armhf [installed,automatic] 

man-db/stable,now 2.8.5-2 armhf [installed] 

manpages-dev/stable,now 4.16-2 all [installed] 

manpages/stable,now 4.16-2 all [installed,automatic] 

mariadb-client-10.3/stable,now 1:10.3.27-0+deb10u1 armhf [installed,automatic] 

mariadb-client-core-10.3/stable,now 1:10.3.27-0+deb10u1 armhf [installed,automatic] 

mariadb-common/stable,now 1:10.3.27-0+deb10u1 all [installed,automatic] 

mariadb-server-10.3/stable,now 1:10.3.27-0+deb10u1 armhf [installed,automatic] 

mariadb-server-core-10.3/stable,now 1:10.3.27-0+deb10u1 armhf [installed,automatic] 

mariadb-server/stable,now 1:10.3.27-0+deb10u1 all [installed,automatic] 

matomo-ynh-deps/now 3.14.1~ynh1 all [installed,local] 

mawk/stable,now 1.3.3-17 armhf [installed] 

mc-data/stable,now 3:4.8.22-1 all [installed,automatic] 

mc/stable,now 3:4.8.22-1 armhf [installed] 

mesa-va-drivers/testing,now 19.3.2-1~bpo10+1~rpt3 armhf [installed,automatic] 

mesa-vdpau-drivers/testing,now 19.3.2-1~bpo10+1~rpt3 armhf [installed,automatic] 

metronome/stable,now 3.14.1+ynh10-1 armhf [installed,automatic] 

mime-support/stable,now 3.62 all [installed,automatic] 

mlock/stable,now 8:2007f~dfsg-6 armhf [installed,automatic] 

modemmanager/stable,now 1.10.0-1 armhf [installed,automatic] 

moulinette/stable,now 4.1.4 all [installed,automatic] 

mount/stable,now 2.33.1-0.1 armhf [installed] 

multiarch-support/stable,now 2.28-10+rpi1 armhf [installed] 

mysql-common/stable,now 5.8+1.0.5 all [installed,automatic] 

nano/stable,now 3.2-3 armhf [installed] 

ncdu/stable,now 1.13-1 armhf [installed] 

ncurses-base/stable,now 6.1+20181013-2+deb10u2 all [installed] 

ncurses-bin/stable,now 6.1+20181013-2+deb10u2 armhf [installed] 

ncurses-term/stable,now 6.1+20181013-2+deb10u2 all [installed,automatic] 

needrestart/stable,now 3.4-5 all [installed,automatic] 

net-tools/stable,now 1.60+git20180626.aebd88e-1 armhf [installed] 

netbase/stable,now 5.6 all [installed] 

netcat-openbsd/stable,now 1.195-2 armhf [installed] 

netcat-traditional/stable,now 1.10-41.1 armhf [installed] 

netdata-ynh-deps/now 1.29.0~ynh1 all [installed,local] 

netpbm/stable,now 2:10.0-15.3 armhf [installed,automatic] 

network-manager/stable,now 1.14.6-2+deb10u1 armhf [installed] 

nextcloud-ynh-deps/now 20.0.4~ynh1 all [installed,local] 

nfs-common/stable,now 1:1.3.4-2.5+deb10u1 armhf [installed] 

nginx-common/stable,now 1.14.2-2+deb10u3 all [installed,automatic] 

nginx-extras/stable,now 1.14.2-2+deb10u3 armhf [installed,automatic] 

nodejs-doc/stable,now 10.23.1~dfsg-1~deb10u1 all [installed,automatic] 

nodejs/stable,now 10.23.1~dfsg-1~deb10u1 armhf [installed,automatic] 

nrclient/now 2.3-1.4360 armhf [installed,local] 

nrserver/now 2.3-1.4360 armhf [installed,local] 

nslcd-utils/stable,now 0.9.10-2 all [installed,automatic] 

nslcd/stable,now 0.9.10-2 armhf [installed,automatic] 

ntfs-3g/stable,now 1:2017.3.23AR.3-3 armhf [installed] 

ntp/stable,now 1:4.2.8p12+dfsg-4 armhf [installed,automatic] 

opendkim-tools/stable,now 2.11.0~alpha-12 armhf [installed,automatic] 

openssh-client/stable,now 1:7.9p1-10+deb10u2 armhf [installed,automatic] 

openssh-server/stable,now 1:7.9p1-10+deb10u2 armhf [installed,automatic] 

openssh-sftp-server/stable,now 1:7.9p1-10+deb10u2 armhf [installed,automatic] 

openssl/testing,now 1.1.1d-0+deb10u4+rpt1 armhf [installed,automatic] 

p7zip-full/stable,now 16.02+dfsg-6 armhf [installed] 

p7zip/stable,now 16.02+dfsg-6 armhf [installed,automatic] 

parted/stable,now 3.2-25 armhf [installed] 

partimage-server/stable,now 0.6.9-6 armhf [installed] 

passwd/stable,now 1:4.5-1.1 armhf [installed] 

patch/stable,now 2.7.6-3+deb10u1 armhf [installed,automatic] 

paxctld/stable,now 1.2.1-1 armhf [installed] 

pciutils/stable,now 1:3.5.2-1 armhf [installed] 

perl-base/stable,now 5.28.1-6 armhf [installed] 

perl-modules-5.28/stable,now 5.28.1-6 all [installed,automatic] 

perl-openssl-defaults/stable,now 3 armhf [installed,automatic] 

perl/stable,now 5.28.1-6 armhf [installed,automatic] 

php-apcu-bc/stable,now 1.0.4-4 armhf [installed,automatic] 

php-apcu/stable,now 5.1.17+4.0.11-1 armhf [installed,automatic] 

php-common/stable,now 2:69 all [installed,automatic] 

php-gettext/stable,now 1.0.12-0.1 all [installed,automatic] 

php-igbinary/stable,now 3.0.0-1 armhf [installed,automatic] 

php-imagick/stable,now 3.4.3-4.1 armhf [installed,automatic] 

php-mbstring/stable,now 2:7.3+69 all [installed,automatic] 

php-mysql/stable,now 2:7.3+69 all [installed,automatic] 

php-pear/stable,now 1:1.10.6+submodules+notgz-1.1+deb10u1 all [installed,automatic] 

php-php-gettext/stable,now 1.0.12-0.1 all [installed,automatic] 

php-redis/stable,now 4.2.0-1 armhf [installed,automatic] 

php-smbclient/stable,now 0.9.0-3+b1 armhf [installed,automatic] 

php-tidy/stable,now 2:7.3+69 all [installed,automatic] 

php-xml/stable,now 2:7.3+69 all [installed,automatic] 

php7.3-bcmath/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-bz2/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-cli/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-common/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-curl/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-fpm/stable,now 7.3.19-1~deb10u1 armhf [installed] 

php7.3-gd/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-gmp/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-imap/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-intl/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-json/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-ldap/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-mbstring/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-mysql/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-opcache/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-readline/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-sqlite3/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-tidy/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-xml/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

php7.3-zip/stable,now 7.3.19-1~deb10u1 armhf [installed,automatic] 

pi-bluetooth/testing,now 0.1.15 all [installed] 

pigz/stable,now 2.4-1 armhf [installed,automatic] 

pihole-ynh-deps/now 3.3.1~ynh6 all [installed,local] 

pinentry-curses/stable,now 1.1.0-2 armhf [installed] 

pkg-config/stable,now 0.29-6 armhf [installed] 

po-debconf/stable,now 1.0.21 all [installed,automatic] 

policykit-1/testing,now 0.105-25+rpt1 armhf [installed] 

poppler-data/stable,now 0.4.9-2 all [installed,automatic] 

postfix-ldap/stable,now 3.4.14-0+deb10u1 armhf [installed,automatic] 

postfix-pcre/stable,now 3.4.14-0+deb10u1 armhf [installed,automatic] 

postfix-policyd-spf-perl/stable,now 2.011-1 all [installed,automatic] 

postfix/stable,now 3.4.14-0+deb10u1 armhf [installed] 

postgresql-11/stable,now 11.10-0+deb10u1 armhf [installed,automatic] 

postgresql-client-11/stable,now 11.10-0+deb10u1 armhf [installed,automatic] 

postgresql-client-common/stable,now 200+deb10u4 all [installed,automatic] 

postgresql-common/stable,now 200+deb10u4 all [installed,automatic] 

postgresql-contrib/stable,now 11+200+deb10u4 all [installed,automatic] 

postsrsd/stable,now 1.5-2+deb10u1 armhf [installed,automatic] 

powermgmt-base/stable,now 1.34 all [installed,automatic] 

ppp/stable,now 2.4.7-2+4.1+deb10u1 armhf [installed,automatic] 

procmail/stable,now 3.22-26 armhf [installed,automatic] 

procps/stable,now 2:3.3.15-2 armhf [installed] 

psmisc/stable,now 23.2-1 armhf [installed] 

publicsuffix/stable,now 20190415.1030-1 all [installed,automatic] 

python-all-dev/stable,now 2.7.16-1 armhf [installed,automatic] 

python-all/stable,now 2.7.16-1 armhf [installed,automatic] 

python-apt-common/stable,now 1.8.4.3 all [installed,automatic] 

python-argcomplete/stable,now 1.8.1-1 all [installed,automatic] 

python-asn1crypto/stable,now 0.24.0-1 all [installed,automatic] 

python-bottle/stable,now 0.12.15-2+deb10u1 all [installed,automatic] 

python-bson/stable,now 3.7.1-1.1 armhf [installed,automatic] 

python-certifi/stable,now 2018.8.24-1 all [installed,automatic] 

python-cffi-backend/stable,now 1.12.2-1 armhf [installed,automatic] 

python-chardet/stable,now 3.0.4-3 all [installed,automatic] 

python-configparser/stable,now 3.5.0b2-1 all [installed,automatic] 

python-crypto/stable,now 2.6.1-9+b1 armhf [installed,automatic] 

python-cryptography/stable,now 2.6.1-3+deb10u2 armhf [installed,automatic] 

python-dbus/stable,now 1.2.8-3 armhf [installed,automatic] 

python-dev/stable,now 2.7.16-1 armhf [installed,automatic] 

python-dnspython/stable,now 1.16.0-1 all [installed,automatic] 

python-egenix-mxdatetime/stable,now 3.2.9-1 armhf [installed,automatic] 

python-egenix-mxtools/stable,now 3.2.9-1 armhf [installed,automatic] 

python-entrypoints/stable,now 0.3-1 all [installed,automatic] 

python-enum34/stable,now 1.1.6-2 all [installed,automatic] 

python-gevent-websocket/stable,now 0.9.3-1 all [installed,automatic] 

python-gevent/stable,now 1.3.7-1 armhf [installed,automatic] 

python-gi/stable,now 3.30.4-1 armhf [installed,automatic] 

python-gpg/stable,now 1.12.0-6 armhf [installed,automatic] 

python-greenlet/stable,now 0.4.15-2 armhf [installed,automatic] 

python-gridfs/stable,now 3.7.1-1.1 all [installed,automatic] 

python-idna/stable,now 2.6-1 all [installed,automatic] 

python-ipaddress/stable,now 1.0.17-1 all [installed,automatic] 

python-jinja2/stable,now 2.10-2 all [installed,automatic] 

python-keyring/stable,now 17.1.1-1 all [installed,automatic] 

python-keyrings.alt/stable,now 3.1.1-1 all [installed,automatic] 

python-ldap/stable,now 3.1.0-2+b1 armhf [installed,automatic] 

python-ldb/stable,now 2:1.5.1+really1.4.6-3 armhf [installed,automatic] 

python-markupsafe/stable,now 1.1.0-1 armhf [installed,automatic] 

python-minimal/stable,now 2.7.16-1 armhf [installed,automatic] 

python-miniupnpc/stable,now 2.1-1+ynh10 armhf [installed,automatic] 

python-mysqldb/stable,now 1.3.10-2+b1 armhf [installed,automatic] 

python-openssl/stable,now 19.0.0-1 all [installed,automatic] 

python-packaging/stable,now 19.0-1 all [installed,automatic] 

python-pip-whl/testing,now 18.1-5+rpt1 all [installed,automatic] 

python-pip/testing,now 18.1-5+rpt1 all [installed,automatic] 

python-pkg-resources/stable,now 40.8.0-1 all [installed,automatic] 

python-psutil/stable,now 5.5.1-1 armhf [installed,automatic] 

python-psycopg2/stable,now 2.7.7-1 armhf [installed,automatic] 

python-publicsuffix/stable,now 1.1.0-2 all [installed,automatic] 

python-pyasn1-modules/stable,now 0.2.1-0.2 all [installed,automatic] 

python-pyasn1/stable,now 0.4.2-3 all [installed,automatic] 

python-pymongo/stable,now 3.7.1-1.1 armhf [installed,automatic] 

python-pyparsing/stable,now 2.2.0+dfsg1-2 all [installed,automatic] 

python-requests/stable,now 2.21.0-1 all [installed,automatic] 

python-rpi.gpio/testing,now 0.7.0-0.1~bpo10+4 armhf [installed] 

python-samba/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed,automatic] 

python-secretstorage/stable,now 2.3.1-2 all [installed,automatic] 

python-setuptools/stable,now 40.8.0-1 all [installed,automatic] 

python-six/stable,now 1.12.0-1 all [installed,automatic] 

python-talloc/stable,now 2.1.14-2 armhf [installed,automatic] 

python-tdb/stable,now 1.3.16-2+b1 armhf [installed,automatic] 

python-toml/stable,now 0.10.0-1 all [installed,automatic] 

python-tz/stable,now 2019.1-1 all [installed,automatic] 

python-urllib3/stable,now 1.24.1-1 all [installed,automatic] 

python-wheel/stable,now 0.32.3-2 all [installed,automatic] 

python-xdg/stable,now 0.25-5 all [installed,automatic] 

python-yaml/stable,now 3.13-2 armhf [installed,automatic] 

python2-dev/stable,now 2.7.16-1 armhf [installed,automatic] 

python2-minimal/stable,now 2.7.16-1 armhf [installed,automatic] 

python2.7-dev/stable,now 2.7.16-2+deb10u1 armhf [installed,automatic] 

python2.7-minimal/stable,now 2.7.16-2+deb10u1 armhf [installed,automatic] 

python2.7/stable,now 2.7.16-2+deb10u1 armhf [installed,automatic] 

python2/stable,now 2.7.16-1 armhf [installed,automatic] 

python3-apt/stable,now 1.8.4.3 armhf [installed,automatic] 

python3-asn1crypto/stable,now 0.24.0-1 all [installed,automatic] 

python3-cached-property/stable,now 1.5.1-3 all [installed,automatic] 

python3-certifi/stable,now 2018.8.24-1 all [installed,automatic] 

python3-cffi-backend/stable,now 1.12.2-1 armhf [installed,automatic] 

python3-chardet/stable,now 3.0.4-3 all [installed,automatic] 

python3-crypto/stable,now 2.6.1-9+b1 armhf [installed,automatic] 

python3-cryptography/stable,now 2.6.1-3+deb10u2 armhf [installed,automatic] 

python3-dbus/stable,now 1.2.8-3 armhf [installed,automatic] 

python3-debconf/stable,now 1.5.71 all [installed,automatic] 

python3-dev/stable,now 3.7.3-1 armhf [installed,automatic] 

python3-distro-info/stable,now 0.21 all [installed,automatic] 

python3-distutils/stable,now 3.7.3-1 all [installed,automatic] 

python3-docker/stable,now 3.4.1-4 all [installed,automatic] 

python3-dockerpty/stable,now 0.4.1-1 all [installed,automatic] 

python3-dockerpycreds/stable,now 0.3.0-1 all [installed,automatic] 

python3-docopt/stable,now 0.6.2-2 all [installed,automatic] 

python3-entrypoints/stable,now 0.3-1 all [installed,automatic] 

python3-gi/stable,now 3.30.4-1 armhf [installed,automatic] 

python3-idna/stable,now 2.6-1 all [installed,automatic] 

python3-jsonschema/stable,now 2.6.0-4 all [installed,automatic] 

python3-keyring/stable,now 17.1.1-1 all [installed,automatic] 

python3-keyrings.alt/stable,now 3.1.1-1 all [installed,automatic] 

python3-lib2to3/stable,now 3.7.3-1 all [installed,automatic] 

python3-minimal/stable,now 3.7.3-1 armhf [installed,automatic] 

python3-pip/testing,now 18.1-5+rpt1 all [installed,automatic] 

python3-pkg-resources/stable,now 40.8.0-1 all [installed,automatic] 

python3-ply/stable,now 3.11-3 all [installed,automatic] 

python3-pyinotify/stable,now 0.9.6-1 all [installed,automatic] 

python3-requests/stable,now 2.21.0-1 all [installed,automatic] 

python3-secretstorage/stable,now 2.3.1-2 all [installed,automatic] 

python3-setuptools/stable,now 40.8.0-1 all [installed,automatic] 

python3-six/stable,now 1.12.0-1 all [installed,automatic] 

python3-systemd/stable,now 234-2+b1 armhf [installed,automatic] 

python3-texttable/stable,now 1.6.0-1 all [installed,automatic] 

python3-urllib3/stable,now 1.24.1-1 all [installed,automatic] 

python3-websocket/stable,now 0.53.0-1 all [installed,automatic] 

python3-wheel/stable,now 0.32.3-2 all [installed,automatic] 

python3-xdg/stable,now 0.25-5 all [installed,automatic] 

python3-yaml/stable,now 3.13-2 armhf [installed,automatic] 

python3.7-dev/stable,now 3.7.3-2+deb10u2 armhf [installed,automatic] 

python3.7-minimal/stable,now 3.7.3-2+deb10u2 armhf [installed,automatic] 

python3.7/stable,now 3.7.3-2+deb10u2 armhf [installed,automatic] 

python3/stable,now 3.7.3-1 armhf [installed,automatic] 

python/stable,now 2.7.16-1 armhf [installed] 

raspberrypi-bootloader/testing,now 1.20210201-1 armhf [installed] 

raspberrypi-kernel/testing,now 1.20210201-1 armhf [installed] 

raspberrypi-net-mods/testing,now 1.3.0 all [installed] 

raspberrypi-sys-mods/testing,now 20210208 armhf [installed] 

raspbian-archive-keyring/stable,now 20120528.2 all [installed] 

raspi-config/testing,now 20210119 all [installed] 

raspi-copies-and-fills/testing,now 0.13 armhf [installed] 

rclone/stable,now 1.54.0 armhf [installed] 

readline-common/stable,now 7.0-5 all [installed] 

redis-server/stable,now 5:5.0.3-4+deb10u2 armhf [installed,automatic] 

redis-tools/stable,now 5:5.0.3-4+deb10u2 armhf [installed,automatic] 

resolvconf/stable,now 1.79 all [installed] 

rfkill/stable,now 2.33.1-0.1 armhf [installed,automatic] 

rng-tools/stable,now 2-unofficial-mt.14-1 armhf [installed] 

rpcbind/stable,now 1.2.5-0.3+deb10u1 armhf [installed,automatic] 

rpi-eeprom/testing,now 11.6-1 armhf [installed] 

rpi-update/testing,now 20200409 all [installed] 

rpi.gpio-common/testing,now 0.7.0-0.1~bpo10+4 armhf [installed,automatic] 

rspamd/stable,now 1.8.1-2+b1 armhf [installed,automatic] 

rsync/stable,now 3.1.3-6 armhf [installed] 

rsyslog/stable,now 8.1901.0-1 armhf [installed] 

samba-common-bin/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed] 

samba-common/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 all [installed,automatic] 

samba-dsdb-modules/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed,automatic] 

samba-libs/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed,automatic] 

samba-vfs-modules/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed,automatic] 

samba/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed] 

screen/stable,now 4.6.2-3 armhf [installed] 

sed/stable,now 4.7-1 armhf [installed] 

sensible-utils/stable,now 0.0.12 all [installed] 

shared-mime-info/stable,now 1.10-1 armhf [installed,automatic] 

shellinabox/stable,now 2.21 armhf [installed] 

slapd/stable,now 2.4.47+dfsg-3+rpi1+deb10u5 armhf [installed,automatic] 

smbclient/stable,now 2:4.9.5+dfsg-5+deb10u1+rpi1 armhf [installed,automatic] 

sntp/stable,now 1:4.2.8p12+dfsg-4 armhf [installed,automatic] 

socat/stable,now 1.7.3.2-2 armhf [installed,automatic] 

speedtest-cli/stable,now 2.0.2-1+deb10u1 all [installed] 

sqlite3/stable,now 3.27.2-3+deb10u1 armhf [installed,automatic] 

sqlite/stable,now 2.8.17-15 armhf [installed,automatic] 

squid-common/stable,now 4.6-1+deb10u4 all [installed,automatic] 

squid-langpack/stable,now 20190110-1 all [installed,automatic] 

squid3-ynh-deps/now 1.0~ynh2 all [installed,local] 

squid3/stable,now 4.6-1+deb10u4 all [installed,automatic] 

squid/stable,now 4.6-1+deb10u4 armhf [installed,automatic] 

ssh-import-id/stable,now 5.7-1 all [installed] 

ssh/stable,now 1:7.9p1-10+deb10u2 all [installed] 

ssl-cert/stable,now 1.0.39 all [installed,automatic] 

ssowat/stable,now 4.1.3 all [installed,automatic] 

strace/stable,now 4.26-0.2 armhf [installed] 

sudo-ldap/stable,now 1.8.27-1+deb10u3 armhf [installed,automatic] 

sysstat/stable,now 12.0.3-2 armhf [installed,automatic] 

systemd-sysv/stable,now 241-7~deb10u6+rpi1 armhf [installed] 

systemd/stable,now 241-7~deb10u6+rpi1 armhf [installed] 

sysvinit-utils/stable,now 2.93-8 armhf [installed] 

tar/stable,now 1.30+dfsg-6 armhf [installed] 

tasksel-data/stable,now 3.53 all [installed] 

tasksel/stable,now 3.53 all [installed] 

tdb-tools/stable,now 1.3.16-2+b1 armhf [installed,automatic] 

telnet/stable,now 0.17-41.2 armhf [installed] 

traceroute/stable,now 1:2.1.0-2 armhf [installed] 

transmission-cli/stable,now 2.94-2+deb10u2 armhf [installed,automatic] 

transmission-common/stable,now 2.94-2+deb10u2 all [installed,automatic] 

transmission-daemon/stable,now 2.94-2+deb10u2 armhf [installed,automatic] 

transmission-ynh-deps/now 1.0~ynh3 all [installed,local] 

triggerhappy/stable,now 0.5.0-1 armhf [installed,automatic] 

ttf-dejavu-core/stable,now 2.37-1 all [installed,automatic] 

ttrss-ynh-deps/now 20200916~ynh2 all [installed,local] 

tzdata/stable,now 2021a-0+deb10u1 all [installed] 

ucf/stable,now 3.0038+nmu1 all [installed,automatic] 

udev/stable,now 241-7~deb10u6+rpi1 armhf [installed] 

unar/stable,now 1.10.1-2+b4 armhf [installed,automatic] 

unattended-upgrades/stable,now 1.11.2 all [installed,automatic] 

unrar-free/stable,now 1:0.0.1+cvs20140707-4 armhf [installed] 

unscd/stable,now 0.53-1+b2 armhf [installed,automatic] 

unzip/stable,now 6.0-23+deb10u2 armhf [installed] 

usb-modeswitch-data/stable,now 20170806-2 all [installed,automatic] 

usb-modeswitch/stable,now 2.5.2+repack0-2 armhf [installed] 

usb.ids/stable,now 2019.07.27-0+deb10u1 all [installed,automatic] 

usbutils/stable,now 1:010-3 armhf [installed] 

util-linux/stable,now 2.33.1-0.1 armhf [installed] 

uuid-dev/stable,now 2.33.1-0.1 armhf [installed,automatic] 

v4l-utils/stable,now 1.16.3-3 armhf [installed] 

va-driver-all/stable,now 2.4.0-1 armhf [installed,automatic] 

vdpau-driver-all/stable,now 1.1.1-10 armhf [installed,automatic] 

vim-common/stable,now 2:8.1.0875-5 all [installed] 

vim-tiny/stable,now 2:8.1.0875-5 armhf [installed] 

vl805fw/testing,now 0.2 all [installed] 

wallabag2-ynh-deps/now 2.3.8~ynh2 all [installed,local] 

wget/stable,now 1.20.1-1.1 armhf [installed] 

whiptail/stable,now 0.52.20-8 armhf [installed] 

whois/stable,now 5.4.3 armhf [installed,automatic] 

wireless-regdb/testing,now 2018.05.09-0~rpt1 all [installed,automatic] 

wireless-tools/stable,now 30~pre9-13 armhf [installed] 

wpasupplicant/stable,now 2:2.7+git20190128+0c1e29f-6+deb10u2 armhf [installed] 

x11-common/stable,now 1:7.7+19 all [installed,automatic] 

xauth/stable,now 1:1.0.10-1 armhf [installed,automatic] 

xdg-user-dirs/stable,now 0.17-2 armhf [installed,automatic] 

xkb-data/stable,now 2.26-2 all [installed,automatic] 

xxd/stable,now 2:8.1.0875-5 armhf [installed] 

xz-utils/stable,now 5.2.4-1 armhf [installed,automatic] 

yunohost-admin/stable,now 4.1.4 all [installed] 

yunohost/stable,now 4.1.7.1 all [installed] 

zip/stable,now 3.0-11 armhf [installed] 

zlib1g-dev/stable,now 1:1.2.11.dfsg-1 armhf [installed,automatic] 

zlib1g/stable,now 1:1.2.11.dfsg-1 armhf [installed] 
```
</pre>
</div>
<div tags="" title="show all lines that are not hashed (#)">
<pre>!!Example of ''glances.conf''

```
grep "^[^#;]"  $(locate glances.conf)
```
</pre>
</div>
<div tags="" title="Show container size and location with container name">
<pre>Create script

```
nano container_size.sh
```

Add to script

```
#!/bin/bash
echo -e "CONTAINER NAME\tIMAGE\tSIZE\tLOCATION"
docker ps --format "{{.Names}}\t{{.Image}}" | while read line; do
  container_name=$(echo $line | awk '{print $1}')
  image=$(echo $line | awk '{print $2}')
  image_id=$(docker images --format "{{.Repository}}:{{.Tag}}\t{{.ID}}" | grep $image | awk '{print $2}')
  size=$(docker images --format "{{.ID}}\t{{.Size}}" | grep $image_id | awk '{print $2}')
  location=$(docker inspect --format '{{.GraphDriver.Data.MergedDir}}' $container_name)
  echo -e "$container_name\t$image\t$size\t$location"
done
```

Make script executable

```
chmod +x container_size.sh
```

Run script

```
./container_size.sh
```
</pre>
</div>
<div tags="" title="show open ports Linux v2">
<pre>Show all open ports:


```
netstat -tuwanp4

netstat -tulpan 

cat /etc/services
```


Search for specific port if it's open:


```
netstat -tulpan |grep PortNumber

cat /etc/services |grep PortNumber
```


Source: https://www.cyberciti.biz/faq/how-to-check-open-ports-in-linux-using-the-cli/</pre>
</div>
<div tags="" title="show open ssh sessions">
<pre>```
w -h

who -a

 ss -t -a|grep ssh
```

source: https://www.tutorialspoint.com/how-to-list-all-connected-ssh-sessions-on-linux#:~:text=The%20who%20command%20is%20a,in%20through%20the%20system%20console.</pre>
</div>
<div tags="" title="show set routing table in windows v2">
<pre>!! To show routing table
run cmd as admin

```
route print | more
```

!!To set routing table permanently


```
route add -p 0.0.0.0 mask 0.0.0.0 default gateway
```


```
route add -p 0.0.0.0 mask 0.0.0.0 192.168.3.1
```


!!!Source

https://kevincurran.org/com320/labs/routing.html</pre>
</div>
<div tags="" title="Show tray on non main monitor windows 10/11">
<pre>Install Windhawk 

https://windhawk.net/

install primary taskbar on secondary monitor plugin https://windhawk.net/mods/taskbar-primary-on-secondary-monitor

press fork

change monitor number at the beginning of the script to desired monitor

compile

Exit editor

disable/enable</pre>
</div>
<div tags="" title="shutdown host from docker">
<pre>source: https://stackoverflow.com/questions/63266824/how-to-shutdown-the-host-ubuntu-inside-a-docker-container


```
docker run -it --rm -v /bin/systemctl:/bin/systemctl -v /run/systemd/system:/run/systemd/system -v /var/run/dbus/system_bus_socket:/var/run/dbus/system_bus_socket -v /sys/fs/cgroup:/sys/fs/cgroup debian:10 systemctl --no-pager status

```

Then:


```
 shutdown/halt/poweroff/reboot
```
</pre>
</div>
<div tags="" title="SMB performance tuning">
<pre>https://forums.unraid.net/topic/97165-smb-performance-tuning/

!!Write Cache for Uploads

Linux uses by default 20% of your free RAM to cache writes, before they are written to the disk. You can use the Tips and Tweaks Plugin to change this value or add this to your Go file (with the Config Editor Plugin)


```
sysctl vm.dirty_ratio=20
```

 

But before changing this value, you need to be sure to understand the consequences:

Never use your NAS without an UPS if you use write caching as this could cause huge data loss!
The bigger the write cache, the smaller the read cache (so using 100% of your RAM as write cache is not a good idea!)
If you upload files to your server, they are 30 seconds later written to your disk (vm.dirty_expire_centisecs)
Without SSD Cache: If your upload size is generally higher than your write cache size, it starts to cleanup the cache and in parallel write the transfer to your HDD(s) which could result in slow SMB transfers. Either you raise your cache size, so its never filled up, or you consider totally disabling the write cache.
With SSD Cache: SSDs love parallel transfers (read #6 of this Guide), so a huge writing cache or even full cache is not a problem.
 

But which dirty_ratio value should you set? This is something you need to determine by yourself as its completely individual:

At first you need to think about the highest RAM usage that is possible. Like active VMs, Ramdisks, Docker containers, etc. By that you get the smallest amount of free RAM of your server:

Total RAM size - Reserved RAM through VMs - Used RAM through Docker Containers - Ramdisks = Free RAM
 

Now the harder part: Determine how much RAM is needed for your read cache. Do not forget that VMs, Docker Containers, Processes etc load files from disks and they are all cached as well. I thought about this and came to this command that counts hot files:

find /mnt/cache -type f -amin -86400 ! -size +1G -exec du -bc {} + | grep total$ | cut -f1 | awk '{ total += $1 }; END { print total }' | numfmt --to=iec-i --suffix=B
It counts the size of all files on your SSD cache that are accessed in the last 24 hours (86400 seconds)
The maximum file size is 1GiB to exclude VM images, docker containers, etc
This works only if you hopefully use your cache for your hot shares like appdata, system, etc
Of course you could repeat this command on several days to check how it fluctuates.
This command must be executed after the mover has finished its work
This command isn't perfect as it does not count hot files inside a VM image
 

Now we can calculate:

100 / Total RAM x (Free RAM - Command Result) = vm.dirty_ratio
 

If your calculated "vm.dirty_ratio" is

lower than 5% (or even negative), you should lower it to 5 and buy more RAM.
between 5% and 20%, set it accordingly, but you should consider buying more RAM.
between 20% and 90%, set it accordingly
If your calculated "vm.dirty_ratio" is higher than 90%, you are probably not using your SSD cache for hot shares (as you should) or your RAM is huge as hell (congratulation ^^). I suggest not to set a value higher than 90.
 

Of course you need to recalcuate this value if you add more VMs or Docker Containers.</pre>
</div>
<div tags="" title="SMR check by serial number">
<pre>https://nascompares.com/answer/list-of-wd-cmr-and-smr-hard-drives-hdd/</pre>
</div>
<div tags="" title="SMR tests in linux">
<pre>https://www.reddit.com/r/DataHoarder/comments/14nz7ow/extensive_testing_smr_results_with_raid_rebuild/</pre>
</div>
<div tags="" title="snapshot vm unraid">
<pre>source: https://www.reddit.com/r/unRAID/comments/xbemmq/i_didnt_realise_snapshotting_virtual_machines_on/

!Commands
!!List Virtual Machines
virsh list --all

!!List Snapshots
virsh snapshot-list &lt;vm-name&gt;

!!Create Snapshot
virsh snapshot-create &lt;vm-name&gt;

!!Create Snapshot With Name
virsh snapshot-create-as &lt;vm-name&gt; --name &lt;snapshot-name&gt;

!!Shutdown Virtual Machine
virsh shutdown &lt;vm-name&gt;

Shutting down the virtual machine before snapshotting is recommended, but not required.

!!Revert Snapshot
virsh snapshot-revert &lt;vm-name&gt; &lt;snapshot-name&gt;

!!Delete Snapshot
virsh snapshot-delete &lt;vm-name&gt; &lt;snapshot-name&gt;

You must delete all snapshots before removing the VM through unRAID as it throws an error and won't let you delete the VM.

Snapshot Info</pre>
</div>
<div tags="" title="speed test internet netspeed in terminal v4">
<pre>!!Uninstall speedtest and install speedtest-cli


```
apt remove speedtest

apt install speedtest-cli

speedtest-cli
```



!Old - not working

!!Installation speed test


```
npm install --global speed-test
```


!!To run


```
speed-test
```


!!Installation OOKLA (not working)


```
sudo apt-get install curl

curl -s https://packagecloud.io/install/repositories/ookla/speedtest-cli/script.deb.sh | sudo bash

sudo apt-get install speedtest
```



!!Uninstall


```
sudo rm /etc/apt/sources.list.d/speedtest.list

sudo apt-get remove speedtest-cli speedtest
```


Source: https://www.speedtest.net/apps/cli</pre>
</div>
<div tags="" title="SSH android phone (ssh server) v1">
<pre>!!Install terminux on phone

In termux


```
pkg install root-repo
pkg upgrade
pkg install dropbear
passwd
dropbear -p 2222
```


Option (for debugging):

```
dropbear -F -p 2222 #for foreground on port 2222
```


ssh from pc to android:


```
ssh user@PhoneIP -p 2222
```


!!To get phone ip:

From android wifi/advanced/IP, or from terminux: ip a |grep inet 

OR 

in termux on the phone

```
curl ifconfig.me
```



OR

create hotspot on phone and connect to it from the pc
then on pc run:


```
ipconfig #ip will appear as Gateway
```
</pre>
</div>
<div bag="default" created="20210417185315014" creator="sharicov" modified="20210417185345421" modifier="sharicov" revision="2" tags="manual" title="ssh autologin RSA v2" type="text/vnd.tiddlywiki">
<pre>!! SSH keys exchange to login without password: 

Replace USER with correct username (ex. root)

On windows client(no passphrase needed): 


```
ssh-keygen 
scp C:\Users\sharicov\.ssh\id_rsa.pub USER@IP:/root/
```

On yunohost: 


```
sudo ssh-copy-id -f -i id_rsa.pub USER@127.0.0.1
```
</pre>
</div>
<div tags="" title="ssh rsa key auto login OpenWrt ImmortalWrt">
<pre>In windows client:

!!Step 1:

If rsa public key already exists open it in notepad:

```
notepad C:\Users\sharicov/.ssh/id_rsa.pub
```

Copy whole content (single line) and paste into the OpenWrt/System/Management/SSH-Keys

!!Step: 2

To create rsa public key run in windows:

```
ssh-keygen
```

Answer yes to all prompts

Go to step 1</pre>
</div>
<div tags="" title="ssh server and run mc in single line">
<pre>```
ssh -t root@10.0.0.1 "mc /mnt/user/n5105"
```
</pre>
</div>
<div tags="" title="Steam Library on network drive">
<pre>You can choose network location for Steam downloads if it's been mapped as a network drive. With a couple more steps, everything will work.

Map your NAS as a network drive

Add the mapped drive as a download location in Steam

Install your games normally

Map your NAS as a network drive again as ''administrator''


```
use w: \\IP\user-pool.Games_Pool /persistent:yes
```


Play your games

Source: https://www.anardil.net/2019/steam-library-on-network-attached-storage.html</pre>
</div>
<div tags="" title="Steam Linux windows game install">
<pre>In order to install windows games in Linux Steam 

Steam/Settings/Compatibility/Run other titles with: GE-Proton

Restart Steam</pre>
</div>
<div tags="" title="sunshine for linux (parsec alternative)">
<pre>```
sudo apt update
sudo apt upgrade
sudo apt install libboost-log1.74.0

wget https://github.com/LizardByte/Sunshine/releases/download/v0.21.0/sunshine-debian-bookworm-amd64.deb

sudo dpkg -i sunshine-debian-bookworm-amd64.deb
```

Configure:  https://localhost:47990

Project site: https://github.com/LizardByte/Sunshine/

For client use Moonlight: https://moonlight-stream.org/</pre>
</div>
<div tags="" title="Swappiness swap tuning v3">
<pre>!!For proxmox lxc container

Edit LXC container configuration on proxmox host (example of LXC container ''104'')

```
 nano /etc/pve/lxc/104.conf
```

Change swap to 0

```
swap: 0
```

Reboot the LXC container


!!Solution below not working for proxmox LXC container
Check how aggressive swap is

```
cat /proc/sys/vm/swappiness
```

Output


```
60
```

Edit swapiness


```
nano /etc/sysctl.conf
```

Add/change


```
vm.swappiness = 1
```

Update settings (may not work, then reboot required)


```
 sysctl -p
```

Check current memory use to make sure there is enough free RAM


```
free -h
```

Cycle swap (disable and enable)


```
#Check swap status
swapon -s 

# Disable swap: 
$ swapoff -a 

# Wait approx until release the command. (use watch -n 1 "free -h" to see the amount of swap used/available decrease over time)

# Finally Enable swap: 
$ swapon -a 

#Check swap status
swapon -s 
```

Source: https://zakirpcs.medium.com/how-to-move-live-swap-process-to-physical-memory-ab124e55905c</pre>
</div>
<div tags="" title="sync android phone photos over ssh (filestash) v2">
<pre>https://www.filestash.app/2021/09/06/android-backup/

Install termux on the phone and give it necessary permissions


```
settings -&gt; apps -&gt; permission -&gt; permission -&gt; storage -&gt; termux -&gt; allow
```


Run: 


```
pkg install cronie
pkg install rsync
```


Generate RSA key:


```
ssh-keygen -t rsa
```


Copy key to server:


```
ssh-copy-id username@example.com
```

Run chron:


```
crond
```

Add sync task (each hour in the example):


```
crontab -e
```


Add: 


```
0 * * * * rsync -avz /storage/dcim/DSLRCamera/ username@example.com:~/incoming/
```

Tip:
Can be combined with tailscale for secure access to the ssh server</pre>
</div>
<div tags="" title="sync.sh x96 backup v6">
<pre>!!Current 16.05.2024

x96 has 2 disks: 


&lt;&lt;&lt;
SSD mounted in /media/usb
HDD mounted in /media/2TB

n5105 mounted in /media/n5105
&lt;&lt;&lt;


```
#!/bin/sh
echo Backup HPE to Yandex
rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/

echo Yandex to Local backup
rclone copy -u --progress Yandex: /media/usb/Yandex.Disk.Backup/

echo Backup Documents from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Documents mailru:/Documents

echo Backup Tools from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Tools mailru:/Tools

echo Backup Yandex photos to Mail.ru
rclone copy Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

echo Backup local InstantUpload to Mail.ru
rclone copy --progress --tpslimit 5 /media/2TB/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G

echo Backup Tools to Local Backup
rclone copy -u --progress mailru:/Tools /media/2TB/Tools

echo Backup Local shared to mail.ru
rclone copy -u --progress /media/usb/shared mailru:/Tools/shared

echo Backup Local Backup to mail.ru
rclone copy -u --progress /media/2TB/Backup mailru:/Backup

echo Backup x96 ISO folder to n5105 ISOs
rsync -avh --info=progress2 /media/2TB/ISO/* /media/n5105/16TB/ISOs
```



!!Old


```
echo Backup HPE to Yandex
rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/

echo Yandex to Local backup
rclone copy -u --progress Yandex: /media/usb/Yandex.Disk.Backup/

echo Backup Documents from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Documents mailru:/Documents

echo Backup Tools from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Tools mailru:/Tools

echo Backup Yandex photos to Mail.ru
rclone copy Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

echo Backup local InstantUpload to Mail.ru
rclone copy /media/usb/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G

echo Backup Tools to Local Backup
rclone copy -u --progress mailru:/Tools /media/usb/Yandex.Disk.Backup/Tools

echo Backup Local shared to mail.ru
rclone copy -u --progress /media/usb/shared mailru:/Tools/shared

echo Backup Local Backup to mail.ru
rclone copy -u --progress /media/usb/Backup mailru:/Backup
```
</pre>
</div>
<div tags="" title="Syncfolders fast syncronize folders in Windows with scheduler">
<pre>Download: https://www.syncfolders.elementfx.com/home.html

!!To customize rule
Right-click rule/Edit/Filters /Folder Filter/Folder Tree

Example of excluded folders for Documents synchronization on backup drive:


```
\Local\0install.net
\Local\3DClouds
\Local\AcSdkInsLog
\Local\Adaware
\Local\AMD
\Local\AMD_Common
\Local\AMDSoftwareInstaller
\Local\Apps
\Local\Ashampoo
\Local\Ashampoo Backup PB
\Local\ASUS
\Local\ATI
\Local\cache
\Local\D3DSCache
\Local\ElevatedDiagnostics
\Local\Google
\Local\Microsoft\CLR_v2.0
\Local\Microsoft\CLR_v2.0_32
\Local\Microsoft\CLR_v4.0
\Local\Microsoft\CLR_v4.0_32
\Local\Microsoft\Credentials
\Local\Microsoft\Edge
\Local\Microsoft\EDP
\Local\Microsoft\Excel
\Local\Microsoft\Feeds
\Local\Microsoft\Feeds Cache
\Local\Microsoft\fluency
\Local\Microsoft\FontCache
\Local\Microsoft\FORMS
\Local\Microsoft\GFWLive
\Local\Microsoft\IdentityCache
\Local\Microsoft\input
\Local\Microsoft\InstallService
\Local\Microsoft\Internet Explorer
\Local\Microsoft\Massive
\Local\Microsoft\Media Player
\Local\Microsoft\MSOIdentityCRL
\Local\Microsoft\NetTraces
\Local\Microsoft\Office
\Local\Microsoft\OneAuth
\Local\Microsoft\OneDrive
\Local\Microsoft\Outlook
\Local\Microsoft\PenWorkspace
\Local\Microsoft\PlayReady
\Local\Microsoft\PowerPoint
\Local\Microsoft\SquirrelTemp
\Local\Microsoft\TaskSchedulerConfig
\Local\Microsoft\Teams
\Local\Microsoft\TeamsMeetingAddin
\Local\Microsoft\TeamsPresenceAddin
\Local\Microsoft\Terminal Server Client
\Local\Microsoft\TextPrediction
\Local\Microsoft\TokenBroker
\Local\Microsoft\UAR
\Local\Microsoft\UIR
\Local\Microsoft\Vault
\Local\Microsoft\Visio
\Local\Microsoft\Windows
\Local\Microsoft\Windows Media
\Local\Microsoft\Windows Sidebar
\Local\Microsoft\WindowsApps
\Local\Microsoft\Word
\Local\Microsoft Help
\Local\NVIDIA
\Local\NVIDIA Corporation
\Local\Opera Software
\Local\Packages
\Local\Programs\balena-etcher
\Local\Programs\Opera
\Local\Temp
\LocalLow\AMD
\LocalLow\Microsoft
\LocalLow\WebEx
\Roaming\Microsoft
\Roaming\NVIDIA
\Roaming\Opera Software
\Roaming\webex
\Roaming\Zoom
```
</pre>
</div>
<div tags="" title="Syncthing v11">
<pre>!!Installation

Windows download link: https://syncthing.net/downloads/

Autostart in windows:

create shortcut to syncthing exe at following path:

```
%APPDATA%\Microsoft\Windows\Start Menu\Programs\Startup
```

Add following parameters in the shortcut (after the .exe):


```
--no-console --no-browser
```


Autostart for other OSes:

https://docs.syncthing.net/users/autostart.html

!!Headless linux:

```
sudo curl -s -o /usr/share/keyrings/syncthing-archive-keyring.gpg https://syncthing.net/release-key.gpg

echo "deb [signed-by=/usr/share/keyrings/syncthing-archive-keyring.gpg] https://apt.syncthing.net/ syncthing stable" | sudo tee /etc/apt/sources.list.d/syncthing.list

sudo apt-get update

sudo apt-get install syncthing

sudo apt-get upgrade ca-certificates
```

Here and below ''root.service ''represent service started as ''root ''user:

```
sudo systemctl enable syncthing@root.service

sudo systemctl start syncthing@root.service

 nano .config/syncthing/config.xml
```
Change address 127.0.0.1 to 0.0.0.0


```
&lt;gui enabled="true" tls="false" debugging="false"&gt;
    &lt;address&gt;0.0.0.0:8384&lt;/address&gt;
    &lt;apikey&gt;...&lt;/apikey&gt;
    &lt;theme&gt;default&lt;/theme&gt;
&lt;/gui&gt;
```

Restart service:

```
sudo systemctl restart syncthing@root.service
```

access over port 8384

!!Change user/password 
in GUI/Actions/Settings/GUI


!!Change destination folder on one of the computers

Edit'' folder defaults ''to /media/usb (in GUI)

Keep destination web GUI opened when adding a folder so it prompts to accept syncing and there you can specify destination folder.

!!!Or manually, not recommended

After syncing folder for the first time destination folder location can be changed in the config file 


```
 nano .config/syncthing/config.xml
```

create marker in new destination folder (ex. /media/usb/Backup/):

```
touch /media/usb/Backup/.stfolder
```

Restart syncthing service

```
sudo systemctl restart syncthing@root.service
```

!!Folders to sync:


```
C:\Users\sharicov\AppData\ [Send and receive]

D:\Backup\Documents [Send only]

/storage/emulated/0/DCIM
```

!!!Ignored Patterns:


```
tdata
*Cache*
*sync-conflict*
*Microsoft.ListSync*
*.log
*.exe
*.tmp
Temp
Outlook
Teams
Edge
Chrome
Office
Internet*
UnistoreDB
UsrClass.dat*
WebCache*
NVIDIA*Corporation/
DXCACHE
NvBackend
Microsoft.Windows.StartMenuExperienceHost*
Microsoft.WindowsTerminal*
Microsoft.YourPhone*
MicrosoftWindows.*
Microsoft.Windows.Photos*
INetCache
LOCK
logs
Google
CrashReports
Software Reporter Tool
attachments
metadata
reports
settings.dat
CLR_v2.0_32
CLR_v4.0
NGenDisable.txt
UsageLogs
CLR_v4.0_32
UsageLogs
CoauthLastAccepted.json
Credentials
EDP
Recovery
Input
Output
Excel
BloomFilter
LinkedEntityBloomFilter
Finance_dce6b7bc99684509897ab6a26c05f173.data
Geographic_2a1a98f23b16478f90b00d39cc08695d.data
CatalogCacheMetaData.xml
Metadata
FORMS
FRMDATA64.DAT
Outlook-zeldin@hpe.com
Feeds
Feeds Cache
FontCache
Catalog
Microsoft.AAD.BrokerPlugin*
*ArmouryCrate*
Packages
CrashDumps
Temp
balena*
D3DSCache
PowerShell
Zoom
*Client
*Extensions
```

!!Other folders to exclude from backup:

```
AppData/Local/Apps
AppData/Local/Microsoft
AppData/Local/Yandex
AppData/Local/Programs
AppData/Local/ESET
AppData/Local/CrashDumps
AppData/Local/Opera Software
AppData/Local/Steam
AppData/Local/Packages

AppData/Roaming/Ryujinx
AppData/Roaming/Terabox
AppData/Roaming/Telegram Desktop
AppData/Roaming/Yuzu
AppData/Roaming/Opera Software
AppData/Roaming/Microsoft

```

Sizes of backup folders can be checked with ''ncdu'' in Linux, or ''gdu'' in windows
Source: https://theselfhostingblog.com/posts/how-to-set-up-a-headless-syncthing-network/#</pre>
</div>
<div tags="" title="systemd commands failed degraded services v3">
<pre>!!Show failed services

```
systemctl list-units --failed

```

''htop ''shows number of failed services

!!Show active services


```
 systemctl list-units --state=ACTIVE
```


!!Show details of service status (ex. netdata)


```
service netdata status

```

!!Start the service (ex. netdata)


```
service netdata start
```

Restart failed service


```
 sudo systemctl restart ServiceName
```
</pre>
</div>
<div tags="" title="Tailscale access to home subnets Unraid or 96 v5">
<pre>Source: https://www.youtube.com/watch?v=tCsl9OXQ3q8

!!Example

Let unraid provide access to internal home networks (192.168.1.X and 192.168.137.X) over tailscale connection.

On unraid host run


```
tailscale up --advertise-routes=192.168.1.0/24,192.168.137.0/24 --accept-dns=false

```

Approve subnets in tailscale admin web gui:

https://login.tailscale.com/admin/machines

Select unraid machine/ 3 dots on right/Edit route settings/Check subnet box/Save


!!For x96


```
tailscale up --accept-dns=false --advertise-routes=192.168.1.0/24,10.0.0.0/24 
```


!!Exit node 

Exit node can be added with following parameter at the end of the command


```
--advertise-exit-node
```

!!!Troubleshooting

If complains run with ''reset ''parameter


```
--reset
```

!To check if exit node affects local connection speed (even on local network if tailscale on, it slows down the transfers).
</pre>
</div>
<div tags="" title="tailscale fix windows">
<pre>Run cmd as admin
del %LOCALAPPDATA%\Tailscale\*
Login
Fixed</pre>
</div>
<div tags="" title="tailscale install armbian x96">
<pre>```
curl -fsSL https://tailscale.com/install.sh | sh
```

```
tailscale up --accept-dns=false --advertise-routes=10.0.0.0/24 --advertise-exit-node
```


</pre>
</div>
<div tags="" title="Tailscale integration into docker container v2">
<pre>Each container has its own Tailscale IP

Source: https://github.com/tailscale-dev/docker-mod

Video: https://www.youtube.com/watch?v=uznDiFPlvvM


The Tailscale universal Docker mod
This Docker mod lets you slipstream Tailscale into linuxserver.io containers. This lets you have applications join your tailnet.

!!Configuration
The Docker mod exposes a bunch of environment variables that you can use to configure it.

|Environment Variable	|Description	|Example|
|DOCKER_MODS|	The list of additional mods to layer on top of the running container, separated by pipes.	|ghcr.io/tailscale-dev/docker-mod:main|
|TAILSCALE_STATE_DIR|	The directory where the Tailscale state will be stored, this should be pointed to a Docker volume. If it is not, then the node will set itself as ephemeral, making the node disappear from your tailnet when the container exits.	|/var/lib/tailscale|
|TAILSCALE_AUTHKEY	|The authkey for your tailnet. You can create one in the [[admin panel |https://login.tailscale.com/admin/settings/keys]]. See [[here |https://tailscale.com/kb/1085/auth-keys/]] for more information about authkeys and what you can do with them.	|tskey-auth-hunter2CNTRL-hunter2hunter2|
|TAILSCALE_HOSTNAME	|The hostname that you want to set for the container. If you don't set this, the hostname of the node on your tailnet will be a bunch of random hexadecimal numbers, which many humans find hard to remember.|	wiki|
|TAILSCALE_USE_SSH	|Set this to 1 to enable SSH access to the container.	|1|
|TAILSCALE_SERVE_PORT|	The port number that you want to expose on your tailnet. This will be the port of your DokuWiki, Transmission, or other container.	|80|
|TAILSCALE_SERVE_MODE|	The mode you want to run Tailscale serving in. This should be https in most cases, but there may be times when you need to enable tls-terminated-tcp to deal with some weird edge cases like HTTP long-poll connections. See [[here |https://tailscale.com/kb/1242/tailscale-serve/]] for more information.	|https|
|TAILSCALE_FUNNEL|	Set this to `true`, `1`, or `t` to enable [[funnel |https://tailscale.com/kb/1243/funnel/]]. For more information about the accepted syntax, please read the[[ strconv.ParseBool |https://pkg.go.dev/strconv#ParseBool]] documentation in the Go standard library.|	on|

Something important to keep in mind is that you really should set up a separate volume for Tailscale state. Here is how to do that with the docker commandline:

```
docker volume create dokuwiki-tailscale
```

Then you can mount it into a container by using the volume name instead of a host path:


```
docker run \
  ... \
  -v dokuwiki-tailscale:/var/lib/tailscale \
  ...
```

When using a docker composed file, you will need to declare the volumes in the top level volumes section:


```
volumes:
  dokuwiki-tailscale:
```

Then use it in a container:


```
services:
  dokuwiki:
    volumes:
      - dokuwiki-tailscale:/var/lib/tailscale
```

If you don't do this, all Tailscale state will be lost when the container reboots. This can range from inconvenience to annoying because you can breach your Let's Encrypt rate limits with this.



</pre>
</div>
<div tags="" title="tailscale on openwrt fusionwrt v12">
<pre>```
wget -O openwrt-tailscale-enabler-v1.36.1-autoupdate.tgz https://github.com/adyanth/openwrt-tailscale-enabler/releases/download/v1.36.1-fb2f6cf-autoupdate/openwrt-tailscale-enabler-v1.36.1-fb2f6cf-autoupdate.tgz
```



```
tar x -zvC / -f openwrt-tailscale-enabler-v1.36.1-autoupdate.tgz
```




```
 opkg update

```


```
opkg install ca-bundle kmod-tun

```


```
/etc/init.d/tailscale start

```


```
 tailscale up --accept-dns=false --advertise-routes=10.0.0.0/24 --advertise-exit-node

```

Toubleshooting:
If getting kmod-tun error on tailscale up install and remove tailscale via openwrt software (comes with older version 18.x)

After removal install again with wget and tar as described above.

Source: https://github.com/adyanth/openwrt-tailscale-enabler

Auto start on boot


```
Luci/System/StartUp/Tailscale - Enable
```
</pre>
</div>
<div tags="" title="Temperature monitoring Linux terminal v11">
<pre>Source:  https://www.tecmint.com/monitor-cpu-and-gpu-temperature-in-ubuntu/

!!!Glances Native

```
curl -L https://bit.ly/glances | /bin/bash

```
or

```
wget -O- https://bit.ly/glances | /bin/bash
```

Run

```
glances
```

!!!Sensors


```
while true; do sensors; sleep 5; clear; done
```

!!!Hardinfo


```
hardinfo -rma devices.so
```

!!Glances docker


```
docker pull nicolargo/glances:latest-full

docker run --rm -v /var/run/docker.sock:/var/run/docker.sock:ro --pid host --network host -it nicolargo/glances:latest-full
```

Press ''h'' for help screen ''d'' for temperatures


!!Create glances alias


```
alias glances=docker run --rm -v /var/run/docker.sock:/var/run/docker.sock:ro --pid host --network host -it nicolargo/glances:latest-full"
```

!!To preserve alias between boots add to /etc/profiles


```
vim /etc/profiles
```


add:


```
alias glances="docker run --rm -v /var/run/docker.sock:/var/run/docker.sock:ro --pid host --network host -it nicolargo/glances:latest-full"
```


Manual: https://github.com/nicolargo/glances#installation

!!Troubleshooting

If getting ''externally-managed-environment'' error,

run

```
pip install pip==23.1.2 --break-system-packages
```

and then install glances again

to upgrade python run:

```
python3 -m pip install --upgrade pip
```
</pre>
</div>
<div tags="" title="Terminal messages disable Linux">
<pre>```
dmesg - n 1
```
</pre>
</div>
<div tags="" title="test">
<pre></pre>
</div>
<div bag="default" created="20210417184721353" creator="sharicov" modified="20210417184751267" modifier="sharicov" revision="2" tags="manual" title="Test disk speed" type="text/vnd.tiddlywiki">
<pre>!!! Test disk speed: 

```
sudo pv -ptebar /dev/sda1 &gt; /dev/null 

sudo hdparm –tT /dev/sdX 
```
</pre>
</div>
<div tags="" title="TiddlyWiki on Github manual v3">
<pre>!!Example ''sharicov ''github ''manuals ''repository

!!Download TiddlyWiki manually 

https://tiddlywiki.com/#GettingStarted

and rename it to index.html

!!On personal github page go to 

repositories/new/Enter Repository Name/Public/create repository

Quick setup/ uploading an existing file / upload index.html / commit changes

Settings/Pages/Branch/main/root/Save

Wait couple of minutes

Enter site, once ready on top of same page will appear: 

Your site is live at https://''sharicov''.github.io/''manuals''/

!!Token security setup to be able to save the wiki topics

https://github.com/settings/tokens

Click on specific token

Press ''regenerate token ''button

Enter again your wiki page

https://''sharicov''.github.io/''manuals''/

Gear (Settings-Control Panel)/Saving/GitHub saver

Copy and paste to My TiddlyWiki settings gear/Password field

Username: ''sharicov''

Password, OAUTH token, or personal access token (see GitHub help page for details)	

`•••••••••••••••••••`

Target repository (e.g. Jermolene/TiddlyWiki5)	

''sharicov/manuals''

Target branch for saving	

''main''

Path to target file (e.g. /wiki/)	

''/''

Filename of target file (e.g. index.html)	

''index.html''

Server API URL	

https://api.github.com


Sources: 
https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site

https://kookma.github.io/Tiddlywiki-and-GitHub-Pages/</pre>
</div>
<div tags="" title="timestamp to a file">
<pre>add

```
 `date +\%Y\%m\%d\%H\%M\%S` 
```

to the name

example in cronetab -e


```
30 2 * * * docker exec -t immich_postgres pg_dumpall -c -U postgres | gzip &gt; "/media/2TB/InstantUpload/immich_`date +\%Y\%m\%d\%H\%M\%S`.dump.sql.gz"
```
</pre>
</div>
<div tags="" title="tiny11 tiny10 windows 10GB">
<pre>Download script to make tiny11 from windows 11 iso: https://github.com/ntdevlabs/tiny11builder

Download compiled 

tiny11 iso: https://archive.org/download/tiny-11-NTDEV

tiny10 iso: https://archive.org/download/tiny-10-23-h2

Works with WinNTSetup</pre>
</div>
<div bag="default" created="20210416140752339" creator="sharicov" modified="20210416140805831" modifier="sharicov" revision="1" tags="manual" title="tinycore_2021_v1" type="text/vnd.tiddlywiki">
<pre>TC image x64 with uefi and ventoy support: http://www.tinycorelinux.net/12.x/x86_64/release/ 

TinyCorePure64 with GUI (first option) 

CorePure64 text only 

X server (frame buffer): 

tce-load –wi Xfbdev flwm flwm_topside aterm 

xsetup.sh 
startx 

 

NTFS mount r 

tce-load –wi ntfs-3g 

fdisk –l 

sudo ntfs-3g /dev/nvme0n1p1 /mnt/nvme0n1p1  

 

File managers 

tce-load –wi mc xfe 

 

VMWare force EFI mode: 

Edit machine’s vmx in notepad. Add: 

firmware = "efi" 

 

Install (in VMWare use SATA and Fixed disk/ VirtualBox not loading into EFI): 

Boot into tc (first option with graphics) 

tce-load –wi tc-install-GUI tc-install mc ntfs-3g htop wireless_tools firmware-rtlwifi graphics-5.10.3-tinycore64 Xorg-7.7 alsamixergui dropbear parted chromium-browser sshfs samba screen xfe openssl-1.1.1 curl ezremaster lshw ncdu 

cp -u /mnt/sr0/cde/* /tmp/tce/optional/ 

tce-install 

Frugal/Whole Disk/sda/install boot loader/proceed 

Set /tmp/tce for Extensions installation directory 

Reboot 

VMDK to VHD convert (fixed size): 

c:\Program Files\Oracle\VirtualBox&gt;VBoxManage.exe clonehd "D:\VMs\TinyCore_VMWare\TinyCorePure64.vmdk" "D:\VMs\TinyCore_VMWare\TinyCorePure64.vhd" -format VHD --variant Fixed 

Note: use small vmdk file (1KB) 

Note: VHD automatically added to virtualbox’s virtual media manager, so remove it from there if changes are needed. 

Rename .vhd to .vhd.vtoy for Ventoy usage 

Source: http://forum.tinycorelinux.net/index.php/topic,23085.15.html 

 

 

Optional: 

FIX UEFI (EFI not working in virtualbox – legacy only) 

Boot in legacy mode (virtual box setting / system / efi unchecked 

curl –O –k https://distro.ibiblio.org/tinycorelinux/12.x/x86_64/release/TinyCorePure64-12.0.iso 

sudo mkdir /mnt/iso 

sudo mkdir /boot 

sudo mount -o loop TinyCorePure64-12.0.iso /mnt/iso 

sudo cp –r /mnt/iso/boot/* /boot/ 

 

 

 </pre>
</div>
<div tags="" title="To monitor each interface of bond0 in real time">
<pre>Installation

```
sudo dnf install bwm-ng iftop nload
```



```
watch -n1 "sudo bwm-ng -o plain -c1 -t1000 -T bond0,enp14s0f3u3,enp2s0f0u1,enp2s0f0u2 2&gt;/dev/null"
```



```
iftop -i bond0
```


```
nload #use up/down arrows to switch between interfaces
```
</pre>
</div>
<div tags="" title="Top AI sites of 2023">
<pre>[img[https://sun9-6.userapi.com/impf/2fbRLAzg2y2CoEjwvP39ASVMmZNnlYN662YVPw/JhvvGNYsgHA.jpg?size=680x807&amp;quality=95&amp;sign=4c52c4845eeae6300df01ae5885eafd3&amp;c_uniq_tag=HSmDIkQgaGxsaa1RuHUPrUCMHkjTWHUGLezRFMLf6TE&amp;type=album]]]</pre>
</div>
<div tags="" title="TPlink revert to original firmware (stripping) v1">
<pre>!!Example WR710n-V2

working with lede 17.01

LEDE Reboot 17.01.5 r3919-38e704be71 / LuCI lede-17.01 branch (git-18.180.55366-b78664c)
TP-Link TL-WR710N v2

Strip original firmware:

On any linux PC:




```
wget https://static.tp-link.com/res/down/soft/TL-WR710N_V2_150818.zip

unzip TL-WR710N_V2_150818.zip


dd if=wr710nv2_eu_3_16_12_up_boot\(150818\).bin of=tplink.bin skip=257 bs=512

mtd -r write /tmp/tplink.bin firmware
```

Connect to: http://192.168.0.254


```
admin
admin
```


Source: https://www.gargoyle-router.com/phpbb/viewtopic.php?t=4816
Firmware (V2): https://www.tp-link.com/en/support/download/tl-wr710n/v2/#Firmware</pre>
</div>
<div tags="" title="Troubleshooting proxmox no VMs after power shutdown">
<pre>See existing disk images:

''Proxmox GUI/Proxmox node name on left in the tree view/Local-lvm''

Note ''sizes ''of the volumes to set it back in the new machine's ''configuration files''

Create new VM (ex. 110) in GUI, that ''not overlapping ''with the existing once make sure disks are ''SCSI ''(after crash proxmox create IDE as default for new VMs) and network to be ''VirtIO''

Backup and Edit its configuration to add existing disks (example node name proxmox)


```
 cp /etc/pve/nodes/proxmox/qemu-server/110.conf{,.backup}

nano /etc/pve/nodes/proxmox/qemu-server/110.conf
```


!!Example configuration Win11 NAS 

Set correct disk sizes

passthrough usb drives

In VM create c:\shares\folders with disk names then in windows disk manager map usb disks to both letter and c:\shares\folders disk names) 

Take MAC addresses from main router and OpenWRT VM Static Leases and set Network cards in ''Proxmox/NAS/Hardware/Network ''accordingly:

```
balloon: 2048
bios: ovmf
boot: order=scsi0;ide2;net0
cores: 4
cpu: x86-64-v2-AES
efidisk0: local-lvm:vm-100-disk-0,efitype=4m,pre-enrolled-keys=1,size=4M
ide2: none,media=cdrom
machine: pc-q35-8.1
memory: 4096
meta: creation-qemu=8.1.5,ctime=1713449066
name: NAS
net0: virtio=BC:24:11:B1:B0:1B,bridge=vmbr0,firewall=1
numa: 0
ostype: win11
scsi0: local-lvm:vm-100-disk-1,iothread=1,size=64G
scsihw: virtio-scsi-single
smbios1: uuid=53609c0a-5e3a-4665-bb70-21d3a8b59d61
sockets: 1
vmgenid: f70fc4bc-1efa-4b73-a419-d8290f28658f
```




!!Example configuration OpenWRT 

Set correct disk sizes. passthrough physical network adapters

Install with useful proxmox scripts

```
boot: order=scsi0
cores: 4
efidisk0: local-lvm:vm-101-disk-0,efitype=4m,size=4M
hostpci0: 0000:03:00
hostpci1: 0000:04:00
hostpci2: 0000:05:00
hostpci3: 0000:01:00
memory: 256
meta: creation-qemu=8.1.5,ctime=1713450059
name: openwrt
net0: virtio=02:23:C6:57:D9:87,bridge=vmbr0,tag=999
net1: virtio=02:93:7B:6C:2E:97,bridge=vmbr0
onboot: 1
ostype: l26
scsi0: local-lvm:vm-101-disk-1,size=512M
scsihw: virtio-scsi-pci
smbios1: uuid=d7ca6943-9f17-4294-b8ee-96704a32d84c
tablet: 0
vmgenid: 3d7f34a1-6900-45d3-8db4-aa3d012be442
```


!!Example qbittorent 

Set correct disk sizes. create with useful proxmox script on non-overlaying ID not to destroy existing disk image in local-lvm

Take MAC address from OpenWRT static lease in 

''Luci GUI/Network/DHCP/Static Leases/Edit''

Add CIFS in Proxmox/qbittorrent-lxc/Options/Features


```
arch: amd64
cores: 2
features: mount=nfs;cifs,nesting=1
hostname: qbittorrent
memory: 2048
net0: name=eth0,bridge=vmbr0,hwaddr=BC:24:11:81:57:EA,ip=dhcp,tag=999,type=veth
onboot: 1
ostype: debian
rootfs: local-lvm:vm-104-disk-0,size=128G
swap: 512
tags: proxmox-helper-scripts
lxc.cgroup2.devices.allow: a
lxc.cap.drop:
lxc.cgroup2.devices.allow: c 188:* rwm
lxc.cgroup2.devices.allow: c 189:* rwm
lxc.mount.entry: /dev/serial/by-id  dev/serial/by-id  none bind,optional,create=dir
lxc.mount.entry: /dev/ttyUSB0       dev/ttyUSB0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyUSB1       dev/ttyUSB1       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM0       dev/ttyACM0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM1       dev/ttyACM1       none bind,optional,create=file
```


!!Example jellyfin 

Install using useful proxmox scripts

Options fuse, nfs, cifs, nesting

Wet MAC according to router's static leases (main router) 

Change disk to existing


```
arch: amd64
cores: 2
features: nesting=1
hostname: jellyfin
memory: 2048
net0: name=eth0,bridge=vmbr0,hwaddr=BC:24:11:A9:AF:2A,ip=dhcp,type=veth
onboot: 0
ostype: ubuntu
rootfs: local-lvm:vm-103-disk-1,size=8G
swap: 512
tags: proxmox-helper-scripts
lxc.cgroup2.devices.allow: a
lxc.cap.drop:
lxc.cgroup2.devices.allow: c 188:* rwm
lxc.cgroup2.devices.allow: c 189:* rwm
lxc.mount.entry: /dev/serial/by-id  dev/serial/by-id  none bind,optional,create=dir
lxc.mount.entry: /dev/ttyUSB0       dev/ttyUSB0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyUSB1       dev/ttyUSB1       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM0       dev/ttyACM0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM1       dev/ttyACM1       none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.cgroup2.devices.allow: c 29:0 rwm
lxc.mount.entry: /dev/fb0 dev/fb0 none bind,optional,create=file
lxc.mount.entry: /dev/dri dev/dri none bind,optional,create=dir
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file
features: fuse=1,mount=nfs;cifs,nesting=1
```

CIFS mapping in /etc/fstab may not work

Check IPs are correct, possibly mount manually using

mount -a

And rescan library in Jellyfin GUI

!!Restoring VMID to original

After all VMs and LXCs configure you can restore back the original VMIDs

Examples:


```
 mv /etc/pve/nodes/proxmoxn5105/lxc/114.conf /etc/pve/nodes/proxmoxn5105/lxc/104.conf

mv /etc/pve/nodes/proxmoxn5105/qemu-server/111.conf /etc/pve/nodes/proxmoxn5105/qemu-server/101.conf
```





Additional commands

 qm list
 pct list
pvecm status

Error: Corosync config '/etc/pve/corosync.conf' does not exist - is this node part of a cluster?

If 2 nodes shoing, first is non-existing proxmox and another is correc one, remove unexisting:

ls /etc/pve/nodes/

rm -rf /etc/pve/nodes/old-hostname/

And reboot the proxmox host

qm rescan

 qm rescan --vmid 100

Output:

rescan volumes...
Configuration file 'nodes/proxmoxn5105/qemu-server/100.conf' does not exist

 ls /etc/pve/nodes/proxmoxn5105/

Output
lxc  openvz  priv  pve-ssl.key  pve-ssl.pem  qemu-server

cat  /etc/pve/storage.cfg

Output

dir: local
        path /var/lib/vz
        content iso,backup,vztmpl

lvmthin: local-lvm
        thinpool data
        vgname pve
        content rootdir,images

  pvesm status

Output:

Name             Type     Status           Total            Used       Available        %
local             dir     active        98497780        21536544        71911688   21.87%
local-lvm     lvmthin     active       855855104       186490827       669364276   21.79%

</pre>
</div>
<div tags="" title="TrueNAS tips v2">
<pre>Only one network interface can be set as DHCP client

Fix wipe disk error (cannot access MBR)


```
packages/middlewared/plugins/disk_/format.py", line 21, in format raise CallError(f'Failed to wipe disk {disk}:
```


In shell type as root


```
sysctl -w kern.geom.debugflags=16
```
</pre>
</div>
<div tags="" title="Try Winaero Twеaker now!  Desktop gadgets and sidebar for Windows 10/11">
<pre>Visit GadgetsRevived and get the installer from the following page: Download the Sidebar. http://gadgetsrevived.com/download-sidebar/

Follow the setup wizard, it will take you through a few simple steps.
Close the setup wizard, and right click the desktop. The Gadgets item will be there.
Add your favorite gadgets or download more from the GadgetsRevived desktop gadget gallery. http://gadgetsrevived.com/
You are done. Enjoy.

Source: https://winaero.com/desktop-gadgets-and-sidebar-for-windows-10/?utm_source=software&amp;utm_medium=in-app&amp;utm_campaign=winaerotweaker&amp;utm_content=getgadgets</pre>
</div>
<div tags="" title="Turn On or Off &quot;Always show all icons and notifications on the taskbar&quot; in Control Panel">
<pre>Press the Win + R keys to open Run, copy and paste the shell:::{05d7b0f4-2121-4eff-bf6b-ed3f69b894d9} command into Run, and click/tap on OK to open the "Notification Area Icons" Control Panel item.</pre>
</div>
<div tags="" title="Twinkle tray brightness control fix KVM switch refresh v2">
<pre>In order for twinkle tray to refresh monitors automatically when switching computers with KVM


```
Twinkle tray/settings/DDC/CI Features/Get current brightness/on
```

Source: https://github.com/xanderfrangos/twinkle-tray/issues/413
</pre>
</div>
<div tags="" title="ubuntu clean old snaps versions">
<pre>Source: https://sites.google.com/site/installationubuntu/home/cleanup-snaps


```
nano clean-snap.sh
```

Add


```
#!/bin/bash

# Removes old revisions of snaps

# CLOSE ALL SNAPS BEFORE RUNNING THIS

set -eu

snap list --all | awk '/disabled/{print $1, $3}' |

    while read snapname revision; do

        snap remove "$snapname" --revision="$revision"

    done
```

Make script executible


```
chmod +x clean-snap.sh
```

Run the script:


```
./clean-snap.sh
```


</pre>
</div>
<div tags="" title="ubuntu release upgrade">
<pre>```
apt update&amp;&amp;apt upgrade -y

apt install update-manager-core

do-release-upgrade
```
</pre>
</div>
<div tags="" title="ultrawide youtube v2">
<pre>!!Edge

Download extension

https://microsoftedge.microsoft.com/addons/detail/ultrawidify/lmpgpgechmkkkehkihpiddbcbgibokbi

To fit width press ''W''

!!!Troubleshooting

```
edge://flags/#use-angle
```

Choose ''D3D9''

!!Chrome

Download extension

https://chrome.google.com/webstore/detail/ultrawide-video/lngfncacljheahfpahadgipefkbagpdl</pre>
</div>
<div tags="" title="unattend-generator for winntsetup">
<pre>https://schneegans.de/windows/unattend-generator/</pre>
</div>
<div tags="" title="uninstall docker in linux">
<pre>```
dpkg -l | grep -i docker
```



```
apt-get purge -y docker-ce docker-ce-cli docker-compose  python3-docker python3-dockerpty
```



```
apt  autoremove -y --purge docker-ce docker-ce-cli docker-compose  python3-docker python3-dockerpty
```
</pre>
</div>
<div tags="" title="unraid 7 clean-empty disk using mover">
<pre>```
mover start -e diskN |&amp; logger &amp;  # where N is [1..28]
```


Source: https://docs.unraid.net/unraid-os/release-notes/7.0.0/</pre>
</div>
<div tags="" title="unraid add disk with data">
<pre>use a plugin called ''Unassigned Devices'' to mount drives without adding them to an array. This will let you copy over the data.

When it's done you just add that drive to the array!

Source: https://www.reddit.com/r/unRAID/comments/8w3ngj/how_do_i_add_a_drive_with_existing_data/</pre>
</div>
<div tags="" title="unraid aria2 fix download permissions">
<pre>ssh to Unraid server


```
chmod +w -R /mnt/user/Downloads
```
</pre>
</div>
<div tags="" title="unraid backup configuration v2">
<pre>UNRAID GUI / ''Main - Boot Device - Flash - Flash Device Settings - Flash backup''

zip file around 440 MB 

Configuration stored in 

Configurations are in ''config ''folder

Source:

https://forums.unraid.net/topic/69881-backup-of-unraid-array-configuration-other-critical-files/

!!Restore apps/dockers

Often it is recommended that the docker.img file be deleted and recreated to solve docker related issues; however, even if a docker container is simply removed without deleting the docker.img file, any and all previously installed docker containers can be reinstalled with ALL prior settings intact through the ''Previous Apps ''section in Community Applications (''Apps tab in the GUI'')

Source: https://forums.unraid.net/topic/58690-does-it-make-sense-to-backup-the-docker-image/</pre>
</div>
<div tags="" title="Unraid backup scripts v3">
<pre>!!Perquisites

#Install ''custom user script plugin''

#Mount x96 in main Unraid GUI tab and set mount to ''automount'' (gear on write of created mount)

!!rsync InstantUpload from x96

create new script named ''rsync InstantUpload from x96''

Edit script/add (ex. backup to disk5 directly)


```
rsync -avhP /mnt/remotes/192.168.1.96_x96/InstantUpload/* /mnt/disk3/n5105/InstantUpload/
```

Set schedule to ''Custom'' 

(ex. run at 3:00am)

```
0 3 * * *
```

Press ''save'' and ''apply''

!!rsync Backup from x96

create new script named ''rsync Backup from x96''

Edit script/add (ex. backup to disk5 directly)

```
rsync -avhP /mnt/remotes/192.168.1.96_x96/Backup/* /mnt/disk3/n5105/Backup/
```

Set schedule to ''Custom'' 

(ex. run at 5:00am)

```
0 5 * * *
```

Press ''save'' and ''apply''


!!rsync Backup to x96 without deleting files

create new script named ''rsync Backup to x96''

Script is data from ''n5105 ''share ''Backup '' folder ''including cached data''

```
rsync -rtuv /mnt/user/n5105/Backup/* /mnt/remotes/192.168.1.96_x96/Backup
```
Set schedule to ''Custom'' 

(ex. run at 5:20am)

```
20 5 * * *
```

Press ''save'' and ''apply''


!!Tip

Crontab time format can be generated on:

https://crontab.guru/</pre>
</div>
<div tags="" title="UNRAID benchmark Physical vs Virtual">
<pre>https://xtremeownage.com/2021/03/16/2021-server-and-gaming-pc-build/#benchmarks

!!Summary
~4% impact to single-threaded CPU performance.

~10% impact to multi-threaded CPU performance for their 4/8 core thread.

~50% impact to the 64 core test, which is expected, since VM is only allocated half of the cores.

The GPU benchmark actually did quite a bit better when virtualized.

HDD results are in line with the above HDD benchmarks.

Their RAM benchmark also performed better while virtualized.


!!Use Threadripper instead of Ryzen
While, I still technically can return everything and do so- If I were to repeat this build, I would use a thread ripper instead of a Ryzen. I estimate it would cost around 400-500$ more to do so, HOWEVER, I would gain a few KEY features for this build.

Quad channel DDR-4. This helps performance.
PCI-E Lanes.
Seriously- 20 PCIe lanes is not enough. Ideally- your GPU gets dedicated 16 lanes. But- 8 lanes still is not likely to affect performance.

Each PCIe NVMe uses 4 lanes. Remember the ASUS Hyper M.2 used in this build? Well- due to PCIe restrictions, I can only put a single SSD in it. I had to order another adaptor to squeeze my last NVMe into the bottom slot, which gets lanes from the chipset, instead of the CPU.

Want to add another GPU, for a second player to also use? Good luck, lanes are very limited on Ryzen.

However, if say, you spent the same amount on a Threadripper 1920x, you get a CPU with 12 cores, and 24 threads (up from 8/16), which gives you 64 pci-e lanes, instead of 20. Granted- this processor will perform overall- quite a bit worse, and it only supports PCI 3.0, instead of 4.0. But- the additional PCIe lanes will offer much greater room for expansion. I do expect this is why linus chose to use a server CPU/motherboard for this video.

The downside to using a thread ripper- it would cost quite a bit more. The motherboard is quite a bit more expensive, as is the CPU. In this case, it would have likely been a better decision due to my expansion constraints I have reached.</pre>
</div>
<div tags="" title="Unraid BTRFS disk check">
<pre>stop the array

click maintenance checkbox

start

in terminal

check disks


```
ls /dev/md*
```

output


```
 /dev/md1p1
```


example md1p1

repair


```
 btrfs check --repair /dev/md1p1
```


stop array and run normally (not in maintenance mode)</pre>
</div>
<div tags="" title="UNRAID btrfs unmountable fix v4">
<pre>In unget terminal (CLI)

!!Optional, if parted is not installed

Run

```
un-get update 
un-get install parted
fdisk -l 
```

May require un-get installation in

Plugins/Install


```
https://raw.githubusercontent.com/ich777/un-get/master/un-get.plg
```

!!If parted installed

Check required dev in fdisk -l and in the gui pressing on the disk

Example /dev/nvme0n1


```
parted /dev/nvme0n1
print

##rm # of partition if there are some

mklabel gpt

mkpart primary btrfs 0% 100%

print

quit
```



!!!Old - not working

```
parted /dev/nvme0n1 mklabel gpt
parted /dev/nvme0n1 mkpart primary btrfs 0% 100%
parted /dev/nvme0n1 name 1 NVME
blkid /dev/nvme0n1
mkfs.btrfs -f /dev/nvme0n1
```


In UNRAID GUI

''Main/Array/Stop/Add pool/cache slots 1/select nvme drive /start/Format nvme - yes/Format''
</pre>
</div>
<div tags="" title="unraid change ssd nvme in cache">
<pre>make sure there is no data in cache browsing in the web GUI (on the right each folder shows it's location: cache, disk1 etc)

stop array

click on cache (pool) in ''main tab''

delete cache

add pool

name it cache

add to it ssd/nvme

start array</pre>
</div>
<div tags="" title="Unraid check read speed of disk">
<pre>```
cat /dev/zero | pv &gt; /mnt/cache/n5105/Downloads/tmp
```
</pre>
</div>
<div tags="" title="Unraid check set WCE buffered writes v2">
<pre>!!See all the disks installed to get all /dev/sda, /dev/nvme etc


```
fdisk -l | grep Disk
```

Output example


```
Disk /dev/sdc: 4.55 TiB, 5000947302400 bytes, 9767475200 sectors
Disk model: Elements 2620  
```

!!Check WCE buffer is on

For SATA


```
hdparm -W /dev/sda
```

For NVME/SAS


```
sdparm --get=WCE /dev/nvmen0
```

Output example


```
/dev/sda:
 write-caching =  1 (on)
```

!!To set buffer (if it is ''off'')


```
hdparm -W 1 /dev/sdm
```


or

```
sdparm --set WCE=1 /dev/sda
```


Source: https://forums.unraid.net/topic/79966-enable-write-cache/

https://forums.unraid.net/topic/131199-writes-capped-to-60mbs-even-with-reconstruction-writes-enabled/</pre>
</div>
<div tags="" title="Unraid connect to VM for remote desktop or samba">
<pre>Install Active streams plugin in Unraid/Apps

Will appear in Unraid GUI/Tools/Active Streams

While VM writing/reading from the Unraid NAS look into active streams to find out internal IP (ex. 192168.122.195)

''Optional'' if VM password is blank: In VM enable empty passwords if necessary in gpedit.msc  ''Group Policy Editor. Open Computer Configuration\Windows Settings\Security Settings\Local Policies\Security Options\Accounts: Limit local account use of blank passwords to console logon only''. 

Create share folder in C in VM and subfolder named as disk or any descriptive name

Disk manager/right click on disk you want to share (ex. D:)/Change drive letter and path/Add/chose Shares folder and subfolder in it) / OK

In file explorer in vm right click subfolder in shares with disk content/ share/remove everyone and add existing user, check full permissions/ok

Un unraid/main add share with perviously found VM internal ip, user, password and share name

not you can find it in /mnt/remote/... for scripting</pre>
</div>
<div tags="" title="Unraid crack 6.11.1 v18">
<pre>```
wget https://github.com/NixOS/patchelf/releases/download/0.15.0/patchelf-0.15.0.tar.gz

scp root@46.121.28.127:/media/usb/Yandex.Disk.Backup/Tools/UNRAID/unRAIDServer-6.11.1-x86_64_fu11/cracked/unraider-main.rar .

apt update
apt install unrar libudev-dev autoreconf build-essential gcc

unrar x  unraider-main.rar

tar -xvzf patchelf-0.15.0-x86_64.tar.gz -C unraider-main/unraider/patchelf/


cd unraider-main/unraider

make all

scp unraider root@46.121.28.127:/media/usb/shared/

scp src/hook.so  root@46.121.28.127:/media/usb/shared/

scp src/trial.key root@46.121.28.127:/media/usb/shared/
```

Create USB using official tool ''Unraid USB Flash Creator'' with ''6.11.1 ''or ''6.11.3 ''option (same crack applies for ''6.11.3'')


```
Local version doesn't work

Filename: ''unRAIDServer-6.11.1-x86_64.zip''

to check make_bootable.bat on created USB: 

Run make_bootable.bat on USB ''as administrator''

or to extract zip manually to FA32 partition on USB drive
```


Write down UNRAID_GUID shown in the ''Unraid USB Flash Creator''

Boot server PC from USB once

Connect from remote computer to IP shown on server's PC boot screen

Set root password

Start trial (USB should not be used for Unraid trial before)

Install plugins if prompted (optional)

GUI/Dashboard/Power off

put 3 files (''unraider, hook.so, trial.key'') to  ''/config'' of the USB

!!Please note: 

&lt;&lt;&lt;
3 files to be copied to /config and in go file should appear as "/boot/config"
Do not create boot and config folders on the USB drive
&lt;&lt;&lt;


Edit go with proper USB GUID (from the installation tool)

Example:


```
#!/bin/bash
# Start the Management Utility
export UNRAID_GUID=090C-1000-0374-720070003924
export UNRAID_NAME=Tower
export UNRAID_DATE=1654646400
export UNRAID_VERSION=Pro
/lib64/ld-linux-x86-64.so.2 /boot/config/unraider
/usr/local/sbin/emhttp &amp; 
```

!!To upgrade:

GUI/Plugins/Install Plugin/Add

https://s3.amazonaws.com/dnld.lime-technology.com/stable/unRAIDServer.plg

Press Install

6.11.3 will be installed automatically


Latest crack news: https://softoroom.org/ptopic89043.html

!!USB Ethernet 2.5Gbps support (Realtek 8152): 

Download and replace according to Unraid version used: 

https://drive.google.com/drive/folders/1wA9UNejVllZfBTjDQ-pquJ-Bx4Tlqluk</pre>
</div>
<div tags="" title="unraid crystal mark benchmark 1pass 512MB Seq">
<pre>To run, map as administrator using net use ...


```
Rog laptop i7 8gen 4 cores in VMWare
zfs with compression zpool 3 devices from nvme - 125MBps/175MBps R/W
zfs without compression zpool 3 devices from nvme - 129MBps/174MBps R/W
zfs with compression stripe 3 devices from nvme - 165MBps/273MBps R/W
zfs without compression stripe 3 devices from nvme - 169MBps/268MBps R/W
btrfs with compression raid0 3 devices from nvme - 155MBps/322MBps R/W
btrfs without compression raid0 3 devices from nvme - 168MBps/301MBps R/W
```
</pre>
</div>
<div tags="" title="unraid dhcp server">
<pre>https://forums.unraid.net/topic/3656-howto-dnsmasq-use-your-unraid-as-your-local-dhcp-amp-dns-server/


Now for the HowTo part - it's quite straightforward really:

 

1. You'll need to configure a static IP address for your unRAID box if you're currently using DHCP, so do this now via the web interface and save your settings.

 

2. Connect via telnet to your unRAID server on it's new IP address and download dnsmasq - I store my packages in '/boot/packages/', my instructions assume you do, too:

cd /boot/packages
wget http://www.mirrorservice.org/sites/ftp.slackware.com/pub/slackware/slackware-12.1/slackware/n/dnsmasq-2.41-i486-1.tgz
 

3. Make a 'dnsmasq' directory so we can make the configuration 'stick' across reboots

mkdir /boot/packages/dnsmasq
 

4. Install dnsmasq:

installpkg /boot/packages/dnsmasq-2.41-i486-1.tgz
 

5. Configure dnsmasq - you're going to need to work out what options suit you best, but here's an example of my /etc/dnsmasq.conf file:

domain-needed
bogus-priv
local=/lan/
expand-hosts
domain=lan
dhcp-range=192.168.1.10,192.168.1.100,255.255.255.0,72h
dhcp-option=option:router,192.168.1.254
dhcp-option=option:domain-search,lan

dhcp-leasefile=/boot/packages/dnsmasq/dnsmasq.leases
dhcp-authoritative
local-ttl=60
 

I highly recommend you read through the default /etc/dnsmasq.conf file yourself and work out what options you want or need - every available option is included in the file with comments explaining what they all do.  If you're in a pinch, the above will get you a reasonable config that assumes an IP range of '192.168.1.0' for your machines.

 

One thing that is important to note is the following line:

dhcp-leasefile=/boot/packages/dnsmasq/dnsmasq.leases
 

That will make our dhcp leases survive across reboots - it's not mandatory, but it's nice to do.  However, if not burning out the write cycles of your USB stick is important, don't do it.. it'll work fine trashing the DHCP leases on reboot, really :)

 

6. Copy the dnsmasq.conf somewhere it will survive a reboot:

cp /etc/dnsmasq.conf /boot/packages/dnsmasq
 

7. You'll need to edit your /etc/hosts file so that you don't get an invalid lookup for your unRAID server name (there's a neater way of doing this, actually, but this is quick &amp; dirty) - since the file is generated at boot you'll also need to overwrite it on each boot, so edit your hosts file so it looks like this:

# Generated
127.0.0.1	localhost
192.168.1.1     oracle
 

Replace 192.168.1.1 with your actual server IP address - what you've done is moved the server name ('oracle' in my case) from 127.0.0.1 to it's real IP address.

 

Now back that file up:

cp /etc/hosts /boot/packages/dnsmasq
 

8. Now add the following lines to your /boot/config/go file (or /boot/config/go2 for you BubbaRAID folks):

## load dnsmasq here

installpkg /boot/packages/dnsmasq-2.41-i486-1.tgz
cp /boot/packages/dnsmasq/dnsmasq.conf /etc
cp /boot/packages/dnsmasq/hosts /etc
/usr/sbin/dnsmasq
 

9. Now start dnsmasq - you only need to do this now because you've not rebooted yet:

/usr/sbin/dnsmasq
 

If you need to debug anything, watch /var/log/syslog:

tail -f /var/log/syslog
 

And you're good to go!  Local LAN clients will get their IP via DHCP on the unRAID box, and will be able to perform name lookups for anything on the lan, and DNS lookups for remote hosts will be forwarded to whatever you have listed in /etc/resolv.conf (configured via the unRAID GUI - most likely your router or ISP DNS servers).

 

 

If nobody reports any problems with the above, I'll add it to the Wiki :)</pre>
</div>
<div tags="" title="unraid docker fix">
<pre>Delete all folders in

''/mnt/user/appdata''

To reset all setting from previous intallations</pre>
</div>
<div tags="" title="Unraid docker operations in CLI">
<pre>Show current containers with status

```
docker ps --format '{{.Names}}' | xargs -I {} docker inspect --format='{{.Name}}: {{.State.Status}}' {}
```

Start/stop/pull/rm containers

```
docker pull &lt;container_name&gt;
docker stop &lt;container_name&gt;
docker rm &lt;container_name&gt;
docker run &lt;options&gt; &lt;container_name&gt;
```
</pre>
</div>
<div tags="" title="Unraid exclusive share and delete folders forecefuly">
<pre>To make share exclusive (importing speed of access) share can be set to exclusive.

For that:

Stop the array

''Settings/General share settings/Exclusive shares - Yes''

Share must be in cache pool without secondary storage

Start back the array on main tab

''Stop ''docker and vm engines in the ''Unraid GUI/settings''

''Unraid GUI/Shares/Click on share name
''
Exclusive share Yes will be set automatically once above conditions are satisfied

!! Troubleshooting

If exclusive share not appearing as yes

''Unraid GUI/Shares/Click on share name
''
Click on ''calculate'' on right of the share, will show disks that the share resides on (must be only cache pool)

If not, click on share, set ''secondary storage'' as ''array ''and ''mover ''action ''array -&gt; cache''

Run mover manually on'' Unraid GUI/Main'' button at the bottom.

Tip: In case of troubles, to ''stop ''mover, run  in CLI

```
mover stop
```

After mover had finished run again calculate step above

If still appears on a disk besides cache, delete
the folder on the specific disk shown in calculate screen

Make sure it's empty

For example if domains folder appears on cache and on ''disk1'' delete command in CLI will look like follows:


```
rm -rf /mnt/disk1/domains
```

If getting ''Device or resource is busy'' error and disk is ZFS formatted


```
zfs list -t all
```

Output will be 

```
disk1/domains
```

Delete domains on disk1

```
zfs destroy -r disk1/domains
```

Then delete the folder

```
rm -rf /mnt/disk1/domains
```
</pre>
</div>
<div tags="" title="unraid fdupes - duplicates find across disks">
<pre>```
screen -S duplicates -d -m bash -c "fdupes -rd /mnt/disk1 /mnt/disk2 /mnt/disk3 /mnt/disk4"
```
</pre>
</div>
<div tags="" title="Unraid find duplicate files fdupes and file integrityv2">
<pre>Install ''fdupes ''using ''Nerd tool ''plugin

Run in terminal (ex of 3 disks installed in array)


```
fdupes -rd /mnt/disk1 /mnt/disk2 /mnt/disk3
```

For unattended disk (not in raid)


```
fdupes -rd /mnt/disks
```

!!''File integrity'' plugin

Install plugin

select include duplicete file hashe in Find command

Press ''Build''</pre>
</div>
<div tags="" title="Unraid fine tuning v4">
<pre>Source: https://digitalspaceport.com/unraid-zfs-pools-configuration-and-benchmarking-unraid-6-12/

!!Settings to Enable
App Store &gt;  Tips and Tweaks plugin


```
Disable Flow Control &gt; Yes (on client machine also and switch)
Disable NIC Offload &gt; Yes (on client machine also)
Ethernet NIC RX &gt; 4096 (on client machine also)
Ethernet NIC TX &gt; 4096 (on client machine also)
NIC selection (you only want your NIC you are moving high speed over here)
Dirty BG Ratio &gt; 41% (this you need to tune while moving typical worksize on Unraid Shares)
Dirty Ratio &gt; 40% (1% less then BG ratio, RAM size dependent)
Turbo Boost Mode &gt; YES
Governor &gt; PERFORMANCE
Scheduler &gt; On Demand
Apply and reboot
```

''Main/Flash/Syslinux configuration
''

```
default menu.c32 
menu title Lime Technology, Inc. 
prompt 0 
timeout 50 
# allow testing with buffers up to 128MB
net.core.rmem_max=134217728
net.core.wmem_max=134217728
# increase Linux autotuning TCP buffer limit to 64MB
net.ipv4.tcp_rmem=4096 87380 67108864
net.ipv4.tcp_wmem=4096 65536 67108864
# testing bbr
net.ipv4.tcp_congestion_control=bbr
# jumbo frames up
net.ipv4.tcp_mtu_probing=1
# recommended to enable ‘fair queueing’
net.core.default_qdisc=fq
```

!!Settings/Global share settings

Permit exclusive shares: yes


Stop the array.
Navigate to Settings &gt; SMB Settings.
Add the following to the SMB Extra section:


```
server multi channel support = yes
aio read size = 1
aio write size = 1
```


Adding the two bolded lines and changing MTU on unraid to ''9000'' not 9014 like my windows client. (read that it can be an issue with linux...) gets me 10gig speeds for a few gigabytes then it drops for a bit. 960 evo nvme cache running out ?

I think this should be good enough now :) Its much more stable on the other end...

```
server multi channel support = yes
aio read size = 1
aio write size = 1
interfaces = "192.168.5.20;capability=RSS,speed=10000000000" "192.168.0.199;speed=1000000000"
```

Source: https://forums.unraid.net/topic/97165-smb-performance-tuning/page/3/#comment-1314783

</pre>
</div>
<div tags="" title="Unraid fix 	VM Autostart disabled due to vfio-bind error">
<pre>Source: https://www.reddit.com/r/unRAID/comments/15ctcvq/vm_autostart_disabled_due_to_vfiobind_error/

1. Enter each vm for inexisting devices (like USB disks, etc.) uncheck it.

2. GUI/Tools/System Devices/


&lt;&lt;&lt;
Solved it by going to System Devices. Tick an untick a device and then pressed bind selected to vfio at boot. Then the file is recreated and all unwanted entries are removed. Then reboot.
&lt;&lt;&lt;
</pre>
</div>
<div tags="" title="Unraid fix boot menu">
<pre>```
nano /boot/syslinux/syslinux.cfg
```


Boot menu should look like follows:


```
default menu.c32
menu title Lime Technology, Inc. 
prompt 0 
timeout 50

label Unraid OS
  kernel /bzimage append initrd=/bzroot
label Unraid OS GUI Mode
  menu default
  kernel /bzimage append initrd=/bzroot,/bzroot-gui
label Unraid OS Safe Mode (no plugins, no GUI)
  kernel /bzimage append initrd=/bzroot unraidsafemode
label Unraid OS GUI Safe Mode (no plugins)
  kernel /bzimage append initrd=/bzroot,/bzroot-gui unraidsafemode
label Memtest86+
  kernel /memtest
```
</pre>
</div>
<div tags="" title="Unraid fix docker image being corrupted">
<pre>!!Disable docker engine

''Unraid GUI/Settings/Docker/Enable docker: no''


Switch from btrfs to directory (make sure it's on SSD, or in SSD Cache pool

''Unraid GUI/Settings/Docker'' - switch from basic to ''Advanced ''in top right corner

Change BTRFS to ''directory''

!!Enable docker engine

''Unraid GUI/Settings/Docker/Enable docker: yes''

Tip, also removes 20GB cap

!!To restore dockers

''Unraid GUI/Apps/Previous apps''

Select desired docker containers to be restored and press ''install ''on top</pre>
</div>
<div tags="" title="Unraid fix mover not cleaning cache">
<pre>''Symptoms: ''Mover is running but cache is full

''GUI/Shares/Select Array pool ''(ex. n5105)

CHange array allocation method to ''Most free''
</pre>
</div>
<div tags="" title="unraid fix network eth0 does not exist v3">
<pre>Fixes eth0 error, setting new Network ID every boot, slow network speed (up to 1Gbps)

Enable ssh in unraid gui settings/access management/ssh:yes

ssh unraid host

copy network configuration


```
cp /boot/config/network-rules.cfg{,.backup}
```


```
nano /boot/config/network-rules.cfg
```

Make usb adapter to be eth1 and onboard to be eth0

Restart network


```
/etc/rc.d/rc.inet1  restart
```
install realtek r8152 drivers in unraid plugins


[[Unraid fix Realtek USB 2.5Gbpe r8152 r8156 v2]]

set up separate networks without bridging and bonding

if usb network adapter is 119 then put vm network to vmhost119 to see it's network</pre>
</div>
<div tags="" title="UNRAID fix permission qbittorrent jdownloader running in docker (UID/PUID) v2">
<pre>UNRAID fix permission qbittorrent jdownloader running in docker (UID/PUID)

In UNRAID CLI get user's ID (UID/PUID)

example user sharicov


```
id sharicov
```


output


```
uid=1000(sharicov) gid=100(users) groups=100(users)
```

Edit container settings/Show more/set PUID to user's UID (ex. 1000) 

!!Tip: see container's log for more info (such as generated password)</pre>
</div>
<div tags="" title="Unraid fix permissions">
<pre>''Settings/New Permissions/Share/Share name''</pre>
</div>
<div tags="" title="Unraid fix Realtek USB 2.5Gbpe r8152 r8156 v2">
<pre>https://forums.unraid.net/topic/141349-plugin-realtek-r8125-r8168-and-r81526-drivers/

The repo is: https://github.com/jinlife/unraid-r8125-r8152-driver


&lt;&lt;&lt;
Precaution:

Please be carefull about these drivers. You may lose the network if the driver is wrong.
If you have no idea what type of chip your network card is, please do NOT install this plugin. There are supported chips listed in the description of the plugin.
If you have no issues with Unraid built-in drivers, please ignore the nofitication from Fix Common Problems and keep using built-in drivers.
 

Instructions:

 Navigate to Tools -&gt; System  in the Unraid.
 If you see: Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8125 2.5GbE Controller
Then you will probably benefit from the "RTL8125" plugin
Same step goes to R8156 and R8168\R8111 plugins.
 

Scenario:

It is the driver for PCI 2.5G Realtek RTL8125 chip, PCI 1G Realtek RTL8168\8111 and for USB 2.5G Realtek RTL8152\6 chip network card.
If you have one of those network card and it is not working properly and is not full speed, you can try this plugin.
If you think the driver isn't good with your hardware, uninstallation can clean it completely.
 

Note:

Please only install the plugin for RTL8125, R8168\R8111 and RTL8152\6 chips.

Especially, if you have both RTL8168\8111 and RTL8125 network card, please install RTL8168\8111 and RTL8125 plugin together.
&lt;&lt;&lt;


!!Old way manual

Site: https://forums.unraid.net/topic/123638-unraid-6115-%E6%9C%80%E6%96%B0%E7%9A%84r8125%E5%92%8Cr8152%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8%E8%A1%A5%E4%B8%81/

Drivers: https://drive.google.com/drive/folders/1wA9UNejVllZfBTjDQ-pquJ-Bx4Tlqluk

Overwrite files from zip into UNRAID USB root 

!!Optional - not used:

```
echo "blacklist r8169" &gt; /boot/config/modprobe.d/r8169.conf
```


</pre>
</div>
<div tags="" title="unraid fix samba mount in linux">
<pre>add ''noserverino'' parameter to /etc/fstab</pre>
</div>
<div tags="" title="unraid fix screen error v2">
<pre>To fix ''Cannot find terminfo entry for 'vt100'. ''

Type in each terminal you getting the error:


```
export TERM=xterm
```
''Tip: '' To check available terminal types:


```
ls /usr/share/terminfo/x
```

Source: https://stackoverflow.com/questions/12345675/screen-cannot-find-terminfo-entry-for-xterm-256color

!!For permanent fix (needs reboot):

```
nano /boot/config/go
```


Add


```
echo "export TERM=xterm" &gt; /root/.bashrc
```

Source: https://forums.unraid.net/topic/13675-screen-cannot-find-terminfo-entry-for-vt100/</pre>
</div>
<div tags="" title="Unraid fix unraid retry unmounting user shares v4">
<pre>```
lsof /var/lib/docker

killall -lv docker

killall -lv containerd

umount -l /dev/loop2

umount /var/lib/docker

killall mc
```
</pre>
</div>
<div tags="" title="UNRAID GUI from CLI">
<pre>Run


```
slim
```

!!To set GUI to boot by default

you can set the default option at boot by click on the flash drive in main and setting default menu option in syslinux section.

 

Mine is set to OS click ''blue ball'' against OS ''GUI ''to set default.</pre>
</div>
<div tags="" title="Unraid hombrew custom images v7">
<pre>readme https://github.com/Lanjelin/unraid/blob/main/unraid-brew/README.md

Documentation on homebrew

https://brew.sh/

```
#!/bin/bash
# Where we store the actual bins -- should be on ssd/nvme
# Use drive directly, and not via /mnt/user/
# Makes a huge impact on performance
UNRAID_BREW_PATH=/mnt/services/appdata/linuxbrew
UNRAID_BASH=0
UNRAID_ZSH=0

_ub_install() {
  # Make the path if it doesn't exist
  mkdir -p "$UNRAID_BREW_PATH"

  # We want gcc -- unraid seems to already be shipped with procps curl file git
  if ! command -v gcc &gt;/dev/null 2&gt;&amp;1; then
    echo "Installing gcc"
    if [ ! -f "$UNRAID_BREW_PATH"/slackware64/d/gcc-14.2.0-x86_64-2.txz ]; then
      curl --output-dir "$UNRAID_BREW_PATH" -sO https://slackware.uk/slackware/slackware64-current/slackware64/d/gcc-14.2.0-x86_64-2.txz
    fi
    installpkg "$UNRAID_BREW_PATH"/slackware64/d/gcc-14.2.0-x86_64-2.txz &gt;/dev/null
  fi

  # Remove and relink home, instead of verifying everything
  rm /home/linuxbrew &gt;/dev/null 2&gt;&amp;1
  ln -s "$UNRAID_BREW_PATH" /home/linuxbrew

  # brew doctor says we want this
  chmod 755 /usr/local/lib

  # Create the user if it doesn't exist
  if ! id linuxbrew &gt;/dev/null 2&gt;&amp;1; then
    useradd --system --uid 95 --gid 100 --no-user-group --home-dir /home/linuxbrew linuxbrew
  fi

  # Install Homebrew if it doesn't exist
  if [ ! -f /home/linuxbrew/.linuxbrew/bin/brew ]; then
    cd /home/linuxbrew
    NONINTERACTIVE=1 su linuxbrew /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    cd - &gt;/dev/null
  fi
}

_ub_remove() {
  userdel linuxbrew
  rm /home/linuxbrew
  rm -r "$UNRAID_BREW_PATH"
}

_ub_rc() {
  echo '' &gt;&gt;/root/"$1"
  echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' &gt;&gt;/root/"$1"
  echo 'brew () {' &gt;&gt;/root/"$1"
  echo '  cd /home/linuxbrew' &gt;&gt;/root/"$1"
  echo '  su linuxbrew -s /home/linuxbrew/.linuxbrew/bin/brew -- "$@"' &gt;&gt;/root/"$1"
  echo '  cd - &gt; /dev/null' &gt;&gt;/root/"$1"
  echo '}' &gt;&gt;/root/"$1"
}

_main() {
  if [ "$1" ]; then
    if [ "$1" == "rm" ] ||
      [ "$1" == "del" ] ||
      [ "$1" == "remove" ] ||
      [ "$1" == "delete" ] ||
      [ "$1" == "uninstall" ]; then
      _ub_remove
      echo "Done removing homebrew!"
      exit 0
    elif [ "$1" == "bash" ] ||
      [ "$1" == "zsh" ]; then
      if [ "$1" == "bash" ]; then
        UNRAID_BASH=1
      fi
      if [ "$1" == "zsh" ]; then
        UNRAID_ZSH=1
      fi
    else
      echo "Unsupported argument $1"
      exit 1
    fi
  fi

  _ub_install
  echo
  if [ "$UNRAID_BASH" == 1 ]; then
    _ub_rc ".bashrc"
    echo "Setting up .bashrc"
  fi
  if [ "$UNRAID_ZSH" == 1 ]; then
    _ub_rc ".zshrc"
    echo "Setting up .zshrc"
  fi
  if [ -f /home/linuxbrew/.linuxbrew/bin/brew ]; then
    echo "Homebrew is ready to use!"
    exit 0
  else
    echo "Something went wrong during installation."
    exit 1
  fi
}

_main "$@"
```

!!Manual run


```
/root/.bashrc 

brew update

brew install ncdu
```

```
cd /home/linuxbrew
su linuxbrew -s /home/linuxbrew/.linuxbrew/bin/brew -- update
su linuxbrew -s /home/linuxbrew/.linuxbrew/bin/brew -- install ncdu
```

Installation location:


```
/home/linuxbrew/.linuxbrew/Cellar/
```

!!Add package permanently


```
nano /boot/config/go
```

Add ''/boot/extra ''to path

```
export PATH=$PATH:/home/linuxbrew/.linuxbrew/Cellar/ncdu/2.7/bin/
```

</pre>
</div>
<div tags="" title="Unraid in VMWare working v4">
<pre>!!Stage1
Create Windows 10 vm
CD: Strelec

Create virtual USB vmdk


```
"C:\Program Files (x86)\VMware\VMware Workstation\vmware-vdiskmanager.exe" -c -a buslogic -s 1GB -t 0 "D:\UnraidVM\vm-usb-key.vmdk"
```

Edit VM's vmx as follows (ex. folder=VM name= Strelec_Live)


```
ehci:7.present = "TRUE"
ehci:7.readonly = "FALSE"
ehci:7.deviceType = "disk"
ehci:7.fileName = "vm-usb-key.vmdk"
fileSearchPath = "D:\VM\Strelec_Live;."
```
Start VM, choose windows10 in strelec boot menu

Install Opera (Start/Internet/Opera)

Download Unraid installer:

https://releases.unraid.net/dl/stable/unraid-usb-creator-next/unraid-usb-creator-1.0.0.exe

Save on desktop of Strelec and install

Run

Choose virtual USB and desired build

!!Stage2
Create Custom Linux VM with 6.x kernel

Copy vm-usb-key.vmdk to VM's folder

Choose ''UEFI ''in VM's Settings/Options

Edit VM's vmx as follows (ex. folder=VM name= UnraidVM)


```
ehci:7.present = "TRUE"
ehci:7.readonly = "FALSE"
ehci:7.deviceType = "disk"
ehci:7.fileName = "vm-usb-key.vmdk"
fileSearchPath = "D:\VM\UnraidVM;."
```
Start VM

Press ESC during boot 

Choose USB

Enjoy

!!Troubleshotting

If there is no USB shown in VM boot menu (press ESC to show boot menu), then copy paste filename vm-usb-key.vmdk from file explorer to vmx file.

Replace vm-usb-key.vmdk file after each boot (each boot new random GUID generated)

Batch file can be used:

First create vm-usb-key.vmdk file copy (right drag and copy)

Batch file (replace.bat)


```
if exist "vm-usb-key - Copy.vmdk" del vm-usb-key.vmdk
copy "vm-usb-key - Copy.vmdk" vm-usb-key.vmdk
```
If filesystem.compression and disk order preserved, data remains intact after booting from new vm-usb-key.vmdk file and starting trial

Unraid can be signed up using temporary email service (ex. https://temp-mail.org/)

Add NVME type disks to VM in order it to be seen by Unraid

Set VM network to bridge, if it doesn't get proper IP, change it to NAT.

Use paravirtualized controllers in initial setup for best performance.

</pre>
</div>
<div tags="" title="Unraid initial tasks v6">
<pre>!!Set 
#Time for proper script activity 
#DNS
# Disable bridging and Bonding on eth0
# Set bonding/broadcast on remaining interfaces and set static ip for the bond (ex. 192.168.137.247)
# Mtu 9014 (jumbo frame) 
# Docker directory instead of image
# SMB multi port
# Routing script using user script plugin
# Disk setting default file system btrfs
# Users root password and create sharicov (Samba user) 
#access ssh server enable
#Schedule mover according to the need (monthly)</pre>
</div>
<div tags="" title="Unraid install custom docker containers from dockerHub">
<pre>if you type the container name in CA search box it likely won't find anything, but at the top right you'll have a ''"Click Here To Get More Results From DockerHub" ''link appear and you can have it autocreate a template for you. 

Source: https://forums.unraid.net/topic/127158-installing-a-docker-from-docker-hub/</pre>
</div>
<div tags="" title="unraid kvm auto connect usb keyboard and mouse">
<pre>!!Install USB Manager plugin

Disable usbip if getting error messages via

```
 plugins/usb manager/Enable USBIP: disable
```

In USB tab click on usb icon on the left for the device you want to auto connect, select vm name, 
AUTO CONNECT AT USB DEVICE PLUGIN and AUTO CONNECT TO VM AT VM START

!!Sources:
https://forums.unraid.net/topic/100511-plugin-usb_manager/

https://forums.unraid.net/topic/103498-using-a-kvm-switch-with-an-unraid-virtual-machine/

https://forums.unraid.net/topic/100511-plugin-usb_manager/</pre>
</div>
<div tags="" title="Unraid link aggregation - bond v2">
<pre>unraid GUI/setting/network

first port of the aggregated lonk/set static ip ex 192.168.137.247/24)

enable bonding - ''yes''

bonding mode - ''broadcast''

bonding members - all bonded ports (LAN) ex. eth1, eth2, eth3

mtu - ''9014''

Unraid GUI/settings/SMB/Enable SMB Multi Channel: ''Yes''</pre>
</div>
<div tags="" title="unraid lsof show open files">
<pre>```
watch -n1 lsof -Owl /mnt/user
```

Source: https://forums.unraid.net/topic/114162-100-cpu-usage-lsof/</pre>
</div>
<div tags="" title="unraid monitoring load (SMR write)">
<pre>```
watch -n time sync
```

If real is minutes, stop the write until stabilize back to ms</pre>
</div>
<div tags="" title="Unraid move data between disks v6">
<pre>!!Move folder/share from one disk to another

To move folder from one disk to another install ''unBALANCE'' and "fix common problems" plugins in ''apps''

Run it from plugins

Enable/WebGUI(left top)

Select source disk/folder/destination/disk

Plan

Fix permissions if needed in Tools/Docker Safe New Perms"

Go back to unBALANCE and ''uncheck dry run'' box/Move

!!Map share to specific disk

Specific share can be set to specific drive in click on share/share settings/included disks/select specific disk

!!If any subfolders remain on source disk

Run unBALANCE again/Play/Move

Video 1: https://www.youtube.com/watch?v=T83gqqh0D4E

Video 2: https://www.youtube.com/watch?v=nV5snitWrBk

!!Obsolete

Better use unBALANCE method

https://wiki.unraid.net/Transferring_Files_Within_the_unRAID_Server

Example:   


```
nohup mv /mnt/disk1/Movies/* /mnt/disk2/Movies &amp;
```

Same can be done with ''rsync -avrth''</pre>
</div>
<div tags="" title="Unraid mover customization v1">
<pre>Source: https://forums.unraid.net/topic/33129-would-like-mover-to-leave-certain-files-on-the-cache-drive-and-not-move-to-raid/


```
nano /usr/local/sbin/mover
```


</pre>
</div>
<div tags="" title="Unraid mover run manually v2">
<pre>Settings =&gt; Scheduler =&gt; Mover Settings =&gt; Move now

Or

Main =&gt; Move</pre>
</div>
<div tags="" title="Unraid n100 igpu passthrough without HDMI checked on clean 7.0.1">
<pre>Compatibility list: https://www.intel.com/content/www/us/en/support/articles/000093216/graphics/processor-graphics.html

Unraid plugin:

SR-IOV

Forums: 

https://forums.unraid.net/topic/154464-plugin-intel-igpu-sr-iov-support-page/

https://forums.unraid.net/topic/136621-unraid-plugin-for-igpu-sr-iov-support/

To use the SR-IOV plugin for Intel iGPUs on Unraid, follow these steps:

Install the Plugin:

Navigate to the Unraid web interface.

Go to the "Apps" section and search for the SR-IOV plugin (e.g., i915-SR-IOV).

Install the plugin and reboot your server.

Enable SR-IOV in BIOS:

Access your system BIOS settings.

Enable VT-d (Intel Virtualization Technology for Directed I/O).

Ensure SR-IOV support is enabled.

Configure the Plugin:

After rebooting, go to the plugin settings in the Unraid web interface.

You should see options to create Virtual Functions (VFs) for your Intel iGPU.

Specify the number of VFs you want to create and apply the changes. 1 per vm. 

Reboot if not storing in the menu after page refresh 

New GPU  will appear in Unraid GUI/Tools/System Devices (00:02.1 .2 etc) 

check it and press  bind to VFIO at boot  

reboot unraid


Assign VFs to VMs:

Go to the VM settings in Unraid.

Add the iGPU VF as a PCI device to your VM configuration -additional GPUs no 00:02.0. 

No audio passthrough available at this time

Save the settings and start the VM.

Install Drivers in the VM:

Inside the VM, install the appropriate Intel graphics drivers to ensure the iGPU VF works correctly.

Intel igpu rom download: https://github.com/patmagauran/i915ovmfPkg/releases/</pre>
</div>
<div tags="" title="UNRAID ncdu iotop">
<pre>install ''nerd tools ''in apps

Then 

''Unraid/Settings/Nerd Tools''

Add ncdu amd iotop

In UNRAID terminal run

Include caching


```
ncdu /mnt/user/&lt;Desired share&gt;
```


Without caching, only array disks


```
ncdu /mnt/user0/&lt;Desired share&gt;
```

Cache onlu


```
ncdu /mnt/cache
```


Disk1 only


```
ncdu /mnt/disk1
```

iotop - disk transfers speeds in realtime


```
iotop -o
```

</pre>
</div>
<div tags="" title="Unraid network adapter reset fix - not tested">
<pre>!!Can reduce network performance


```
ethtool -K eth0 gso off gro off tso off
```
add this to my Syslinux config:

```
pcie_aspm=off
```

Source: https://forums.unraid.net/topic/72923-network-drops-eth0-reset-adapter-unexpectedly/

https://serverfault.com/questions/616485/e1000e-reset-adapter-unexpectedly-detected-hardware-unit-hang
</pre>
</div>
<div tags="" title="Unraid network terminal commands">
<pre>```
/etc/rc.d/rc.inet1  stop

/etc/rc.d/rc.inet1  start

/etc/rc.d/rc.inet1  restart
```
</pre>
</div>
<div tags="" title="unraid pass gpu notes v5">
<pre>For AMD disable resizable bar in BIOS of the unraid host

On host when creating VM


```
set OVMF bios (not TPM)

chipset Q35 (7.2)

vm console: none

don't select onboard devices to passthrough (like onboard wifi/bt)

add strelec iso as boot (windows instllation iso can be taken from network or from usb)
add virtio iso with drivers
```


In VM


```
boot from strelec iso

Device manager / install scsi and ethernet drivers from virtio CD

map network drive

cmd

net use w: \\yourIP\sharename

minitool partition wizard/change disk from MBR to GPT/ create primary ntfs partition leaving 100+ MB at the end/create primary fat32 partition at the end of disk/change partition ID to EFI system

use winntsetup to install/add virtio drivers/ disable defender/disable sleep/disable reserved space

copy radeon drivers to installed drive (c:\) before rebooting vm

disconnect vm from the network

reboot vm

in strelec boot prompt press esc/bios/boot maintenance manager/boot options/change boot order/enter/windows boot manager/+ to put on top of the list/UEFI Misc Device/+ to put second option/enter/commit changes and exit/esc/esc/continue

set up local user and pwd

install radeon drivers (because default updated windows radeon drivers make black screen with no option to see the screen later)

```

connect back the network to VM and proceed with normal installation</pre>
</div>
<div tags="" title="unraid passthrough nvme">
<pre>!!Option 1

In CLI


```
ls /dev/disk/by-id/
```

In VM add 2nd Disk Location (plus sign on left from Disk)

Disk Location: ''Manual''

Path example

''/dev/disk/by-id/ata-Crucial_CT1050MX300SSD4''

!!Option 2

''Web GUI/Tools/System devices''

Select IOMMU group with NVME (ex group 14)

Press ''Boot selected to VFIO at boot''

Restart unraid

Go to VM tab/edit machine

NVME will appear in '' Other PCI Devices:''</pre>
</div>
<div tags="" title="Unraid passthrough nvme disk">
<pre>Video: https://www.youtube.com/watch?time_continue=983&amp;v=fnIn6GnA87c&amp;embeds_referring_euri=https%3A%2F%2Fforums.unraid.net%2F&amp;source_ve_path=MTM5MTE3LDI4NjYzLDEzNzcyMSwyODY2Ng

Unraid GUI/Tools/System Devices - Select nvme device and check it and press  bind to VFIO at boot  

go to vm settings 

disk will appear under othe vfio devises

check it,

set boot priority 1

 press update 

 boot vm</pre>
</div>
<div tags="" title="unraid remove 15 min lock on wrong password in WebGUI">
<pre>If getting error in WebGUI 


```
Too many invalid login attempts
```




ssh to unraid host

delete /var/log/pwfail/''last file''</pre>
</div>
<div tags="" title="unraid reset root pasword to empty v2">
<pre>Locally if you have a ssh access, or on USB on another computer change /boot/config/shadow as following:


```
nano /boot/config/shadow
```

On the first line you should see something such as:


```
root:\$&amp;\$&amp;%\*1112233484847648DHD\$%.:15477:0:99999:7:::
```


Change that line to the following (essentially delete the content between the first and second colons):


```
root::15477:0:99999:7:::
```


Password will become blank (no password)

reboot

login as root without password in CLI

run 


```
passwd
```

Set new password.

Now you can login WebGUI with root and new password


source: https://docs.unraid.net/unraid-os/manual/troubleshooting/#lost-root-password</pre>
</div>
<div tags="" title="unraid restart web GUI v3">
<pre>```
/etc/rc.d/rc.php-fpm restart
```
Source: https://forums.unraid.net/topic/100962-webgui-unresponsive-getting-500-internal-server-error/

Optional


```
/etc/rc.d/rc.nginx reload
```
</pre>
</div>
<div tags="" title="Unraid root share v2">
<pre>one share for all

Requires ''unassigned devices ''plugin

''Main/Add root share/share name/w/wo Pools
''

User shares only hides system shares (isos, domains etc.)</pre>
</div>
<div tags="" title="Unraid rsync with screen custom script example v2">
<pre>```
screen -S sync -d -m bash -c "rsync -avhP /mnt/disks/Games_16TB/_to_move/Emulators1/* /mnt/user/n5105/Emulators1"
```

Requires nerd tools plugin for ''screen'' and custom scripts plugin to populate the script in</pre>
</div>
<div tags="" title="Unraid set zfs arc size">
<pre>Sources:

https://forums.unraid.net/topic/141475-zfs-arc-cache-size/

https://forum.proxmox.com/threads/disable-zfs-arc-or-limiting-it.77845/

https://docs.unraid.net/unraid-os/release-notes/6.12.0/#zfs-pools

By default zfs_arc size is 1/8 of total RAM

Recommended 4-8GB

to set


```
nano /boot/config/modprobe.d/zfs.conf
```

add


```
 zfs_arc_max=8589934592
```

This example setting limits the usage to 8GB.

Note:
If your root file system is ZFS you must update your initramfs every time this value changes:

```
# update-initramfs -u
```

!!Not tested


```
 echo 3 &gt; /proc/sys/vm/drop_caches 
```


to clear the read-cache and make the RAM available again as ZFS’s ARC (disk cache) is growing in size and Proxmox ARC is not releasing this process automatically.</pre>
</div>
<div tags="" title="unraid shared folder for VM v5">
<pre>!On unraid server

!!Installation 

In ''APPS'' tab

Install ''Unassigned Devices'' and ''Unassigned Devices Plus''

In ''MAIN'' tab mount desired partition to be shared in the VM automatically.

In ''VM ''tab 

(Example mount named ''data'')

```
Edit desired VM/Unraid Share Mode/Virtionfs Mode / Manual

Unraid source Path /mnt/disks/data
```

!In windows guest

Download and install Winfsp with ''core''  option

Download link: https://github.com/billziss-gh/winfsp/releases

Install virtiofs driver and service from VirtIO-Win package from:

https://github.com/virtio-win/virtio-win-pkg-scripts/blob/master/README.md


Install virtiofs driver with Device Manager

Copy contents of  


```
virtio-win-0.1.229\viofs\w11\amd64

```

to 


```
C:\Program Files\virtiofs
```


cmd as ''administrator''

Setup virtiofs service by running


```
sc create VirtioFsSvc binPath="c:\Program Files\virtiofs\virtiofs.exe" start=auto depend=VirtioFsDrv
```

Start virtiofs service from the same administrative cmd prompt


```
sc start VirtioFsSvc
```

Share will appear in file explorer as disk ''Z:''

Source: https://github.com/virtio-win/kvm-guest-drivers-windows/wiki/Virtiofs:-Shared-file-system

!!Manual mount/unmount

!!!Mount
Mount virtiofs with tag mount_tag0 to Y:\:

```
"C:\Program Files (x86)\WinFsp\bin\launchctl-x64.exe" start virtiofs viofsY mount_tag0 Y:
```


Mount virtiofs with tag mount_tag1 to Z:\:

```
"C:\Program Files (x86)\WinFsp\bin\launchctl-x64.exe" start virtiofs viofsZ mount_tag1 Z:
```


Here viofsY and viofsZ are instance names for WinFsp.Launcher. They are selected arbitrary, but must differ between instances. 

!!!Unmount
Unmount is done by the instance name:

```
"C:\Program Files (x86)\WinFsp\bin\launchctl-x64.exe" stop virtiofs viofsY

"C:\Program Files (x86)\WinFsp\bin\launchctl-x64.exe" stop virtiofs viofsZ
```



!!Old depreciated 

Source: https://forums.unraid.net/topic/129247-unraid-os-version-6111-available/

!!!Go to VM/Edit machine by right-clicking on its logo


```
Unraid Share Mode:    Virtiofs Mode

Unraid Share:              Manual

Unraid Source Path:	/mnt/user/isos/

Unraid Mount Tag:	    Isos
```



!!!Switch to XML view (top right corner)

Change:

```
&lt;memoryBacking&gt; 
&lt;nosharepages/&gt;
&lt;/memoryBacking&gt;  

```

To:

```
&lt;memoryBacking&gt; 
&lt;source type='memfd'/&gt; 
&lt;access mode='shared'/&gt; &lt;/memoryBacking&gt;  

```

''For windows'' you need to install additional parts on the guest. (Device manager/install mass storage driver from virtio-win ISO)

Installing the virtiofs service
Run as administrator the Command Prompt and execute the following command in order to register virtiofs as a service which starts automatically when Windows loads.


```
C:\&gt; sc create VirtioFsSvc binpath="(your binary location)\virtiofs.exe" start=auto depend="WinFsp.Launcher/VirtioFsDrv" DisplayName="Virtio FS Service"
```

A manual service start is done with the following command:

```
C:\&gt; sc start VirtioFsSvc
```

virtiofs will use the first available drive letter starting with Z: and downward. Use the "-m" command line parameter to explicitly select a drive letter.

Link: https://virtio-fs.gitlab.io/howto-windows.html

 

''For a linux guest'' you just mount the share   sudo mount -t virtiofs unraidshare /mnt/unraiddata/
</pre>
</div>
<div tags="" title="Unraid SMR fix v3">
<pre>#UNRAID WebGUI/Settings/Disk/Tunable (md_write_method): ''reconstruct write''/Apply

#UNRAID WebGUI/Settings/Global Share/Tunable (enable Direct IO): ''Yes''


!!Optional - rsync parameters

''Not working
''
In order for SMR disk not to hang during rsync, add bandwidth limitation of 15MBps


```
--bwlimit=15M 
```

If it hangs after some times, stop the rsync process and start it again

To check: 


```
--fsync
```


Source:  https://superuser.com/questions/1289650/what-can-i-do-to-improve-performance-of-rsync-when-run-on-smr-drives-shingled-d

https://superuser.com/questions/109780/how-to-speed-up-rsync-between-two-local-disks

https://www.reddit.com/r/freebsd/comments/uirrdm/appalling_performance_on_external_usb_smr_drive/</pre>
</div>
<div tags="" title="Unraid stop mover">
<pre>In CLI

```
mover stop
```
</pre>
</div>
<div tags="" title="Unraid switch VMs script">
<pre>Install apps/user scripts

Create new script (settings/user scripts) as following (use correct VM names):


```
#!/bin/bash
virsh shutdown "Windows 11 22H2"
wait 10s
virsh start "Windows 11 insider" 
```

Script location:


```
/boot/config/plugins/user.scripts/scripts/switch_to_insider/script
```

</pre>
</div>
<div tags="" title="unraid tailscale or any custom linux v6">
<pre>https://tailscale.com/download/linux/static

use tailscale.../tailscale instead of tailscale

Name will depend on extracted folder

Get latest package here:

https://pkgs.tailscale.com/stable/#static

```
wget https://pkgs.tailscale.com/stable/tailscale_1.32.3_amd64.tgz

tar xvf tailscale_*.tgz

mv tailscale&lt;complete with tab&gt; tailscale

sudo tailscale/tailscaled --state=tailscaled.state &amp;

sudo tailscale/tailscale up

sudo tailscale/tailscale ip -4
```

!Tailscale is deleted each time unraid boots, so currently no native installation and autoboot available!

To automatic startup add to'' /etc/rc.d/rc.local'' OR ''/boot/go'' OR ''sudo crontab -e''

```
/root/tailscale/tailscaled --state=tailscaled.state &amp;
 
/root/tailscale/tailscale up &amp;
```

Note: sudo chrontab -e must start with * * * * * in every line</pre>
</div>
<div tags="" title="Unraid terminal commands install packages v11">
<pre>source: https://www.youtube.com/watch?v=ODWmMEqR30E

Install Apps / nerdtools

Right click to configure installed packages

Go to console (web or ssh - enable ssb access in settings/accessibility)

Install un-get:

Plugins / install plugin:


```
https://raw.githubusercontent.com/ich777/un-get/master/un-get.plg
```

Commands:


```
un-get update

un-get search atop

un-get install atop netdata rclone

un-get remove atop

un-get installed

un-get upgrade

un-get cleanup
```

!!Slackware 15.0 Repository
Test Slackware Repository for un-get, add this line to your'' /boot/config/plugins/un-get/sources.list'':


```
https://raw.githubusercontent.com/ich777/slackware/master/slackware64-15.0/slackware64/ ich777
```

!Useful repositories for UNRAID from ich777


```
https://github.com/ich777?tab=repositories
```

Radeon task manager


```
https://github.com/ich777/unraid-radeontop
```

!!Plugins

!!!To map disk and share it not in the array (setup in settings after install)
 
Apps/Install/''unassigned devices ''

!!!For exFAT support 
install'' unassigned devices Plus (Addon)''

!!!HW monitoring (setup in settings after install):

!!	Libvirt Hotplug USB
to add usb devices to VM on the fly

!!RTL8152/3/4/6 USB Drivers
for USB 2.5Gbps support

CoreFreq

Dynamix System Temp

Look more in ''ich777''

!!!Scripting:

User scripts

Nerdtools

Diskspeed (Benchmark disks docker)


	
CA Dynamix Unlimited Width

CoreFreq
	
Dynamix System Temperature

Dynamix System Information

Dynamix System Statistics

Dynamix System Temperature
	
Intel GPU TOP

Intel GVT-g

My Servers

NerdTools

Network Statistics

Snapshots

	
un-get

Unassigned Devices Plus

Unassigned Devices
	
unBALANCE

USB Manager

User Scripts


!!!Troubleshoot netdata

default port ''19999''

config location:

```
nano /etc/netdata/netdata.conf
```

allow all IPs access:

```
bind socket to IP = *
```

Optional: clear cache:

```
rm -rf  /var/cache/netdata/*
```

Optional: reinstall

```
un-get remove netdata ; un-get install netdata
```

Run in foreground for testing:


```
netdata -D
```
</pre>
</div>
<div tags="" title="Unraid trim mounted SSD pool">
<pre>Source: https://www.reddit.com/r/unRAID/comments/16301qw/how_does_trim_work/


```
fstrim -av
```
</pre>
</div>
<div tags="" title="unraid vm network settings v3">
<pre>On unraid side set vm with ''virbr0'' and ''virtio'' (not virtio-net)

On host side (windows) don't change anything. Guest IP will be  ''192.168.122.x'' and it will reach both WAN and LAN devices.

However with virbr0 speed will be same as router (normally 1Gbps) -// to check, may be actual read speed of the HDD in Unraid array.//

When unraid side of vm set to ''vrhost1'' vm guest can be pinged from LAN, but it cannot ping other PCs in the network including UNRAID host itself</pre>
</div>
<div tags="" title="Unraid write to specific disk">
<pre>If you set Split Level to ''Manual'', then Unraid will put the files on the disk that already contains its folder. Would require you to manage all the folders manually to get them on the disk you want.

Source: https://forums.unraid.net/topic/89029-having-certain-folders-write-to-a-specific-disk/
</pre>
</div>
<div tags="" title="unraid zfs check compression ratio">
<pre>```
zfs get compressratio 
```

source: https://www.nixcraft.com/t/how-to-show-compression-ratio-on-zfs/3665/3</pre>
</div>
<div tags="" title="Unraid ZFS creation and move data on running system v2">
<pre>stop all dockers and VMs 

stop docker and VMs services

intall ''unBallance ''and ''fix common problems'' plugins

Fix docker permissions just in case 
''settings/docker safe new permission/run''

Start unBallance from 
''settings/unballance/yes/webGUI''

pull and move all data from disk you want to convert including sub-directories to another disk in array ''EXCLUDING ''cache as target

verify there is no data on disk to be converted (calculate)

delete all folders on the drive to be converted

main/clear stats

stop the array in main tab

enter maintenance mode and start in main tab

press on disk in main tab

Erase the disk providing it's name ex.disk10

stop the array

add disk to the array

press on disk to be converted in main tab

choose filesystem (ex. zfs)

compression ''on''

apply/done

start the array

format the disk (checkbox  near format button to enable formating)

if there is parity disk, pless check in main tab to verify there are no parity errors

install zfs master plugin

in main tab zfs master will appear with datasets</pre>
</div>
<div tags="" title="unrar extract overwriting updated files only">
<pre>Use ''-u'' parameter

Example

```
unrar x -u ATARASHII\ Forgotten\ Universe.part001.rar /mnt/disk4/
```
</pre>
</div>
<div bag="default" created="20210416140458850" modified="20210416140458850" revision="1" title="Untitled" type="text/vnd.tiddlywiki">
<pre>New Tiddler</pre>
</div>
<div tags="" title="Update portainer v10">
<pre>```
docker stop portainer &amp;&amp; docker rm portainer &amp;&amp; docker pull portainer/portainer-ce:latest &amp;&amp; docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --restart=always    -v /var/run/docker.sock:/var/run/docker.sock   -v portainer_data:/data portainer/portainer-ce:latest
```

!!On OpenWRT only host network is working

add ''--net=host ''parameter


```
docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --net=host  --restart=always    -v /var/run/docker.sock:/var/run/docker.sock   -v portainer_data:/data portainer/portainer-ce:latest
```


Source: https://docs.portainer.io/v/ce-2.11/start/upgrade/docker

!! If agent installation is needed run:


```
docker run -d -p 9001:9001 --name portainer_agent --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/docker/volumes:/var/lib/docker/volumes portainer/agent:latest

```

!! Change 0.0.0.0 to external IP address


```
GUI (port 9000) Environment/local/Public IP

```

Source: https://docs.portainer.io/v/ce-2.9/start/install/agent/docker/linux

!!To install docker:

!!!ubuntu PC:

install in store

!!To run docker as user (not only root)

```
sudo addgroup --system docker
sudo adduser $USER docker
newgrp docker
sudo snap disable docker
sudo snap enable docker
```


Alternative (not working)

```
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

apt update

install -y docker-ce docker-ce-cli containerd.io
```

!!!Armbian:

armbian-docker</pre>
</div>
<div tags="" title="Upgrade debian 11 to 12 on x96 max plus v3">
<pre>Source: https://www.cyberciti.biz/faq/update-upgrade-debian-11-to-debian-12-bookworm/

The procedure is as follows:

Backup the system.

Update existing packages and reboot the Debian 11 system.
Edit the file'' /etc/apt/sources.list'' using a text editor and replace each instance of ''bullseye ''with ''bookworm''. Next find the update line, replace keyword bullseye-updates with bookworm-updates. Finally, search the security line, replace keyword bullseye-security with bookworm-security.

Update the packages index on Debian Linux, run:

```
sudo apt update
```


Prepare for the operating system minimal system upgrade, run:

```
sudo apt upgrade --without-new-pkgs
```


Finally, update Debian 11 to Debian 12 bullseye by running:

```
sudo apt full-upgrade
```


Reboot the Linux system so that you can boot into Debian 12 Bullseye

Verify that everything is working correctly.

!!After reboot

Update /etc/sources.list to look like follows:

```
deb http://deb.debian.org/debian bookworm main contrib non-free non-free-firmware
#deb-src http://deb.debian.org/debian bullseye main contrib non-free

deb http://deb.debian.org/debian bookworm-updates main contrib non-free non-free-firmware
#deb-src http://deb.debian.org/debian bullseye-updates main contrib non-free

deb http://deb.debian.org/debian bookworm-backports main contrib non-free non-free-firmware
#deb-src http://deb.debian.org/debian bullseye-backports main contrib non-free

deb http://security.debian.org/ bookworm-security main contrib non-free non-free-firmware
#deb-src http://security.debian.org/ bullseye-security main contrib non-free
```

Run update and upgrade:

```
apt update

apt upgrade
```

!!Update kernel to 6.1

```
armbian-update -k 6.1.33 -b no
```


!!Troubleshooting

If getting error on 

```
apt full-upgrade
```

try 

```
ping google.com
```

if getting error, edit resolve.conf

```
nano /etc/resolv.conf
```

Add

```
nameserver 8.8.8.8
nameserver 1.1.1.1
```

run ping again

```
ping google.com
```

if no errors proceed with full upgrade 

```
apt update

apt autoremove

apt full-upgrade
```
</pre>
</div>
<div tags="" title="uptime kuma monitor uptime of servers">
<pre>Proxmox installation script (from https://tteck.github.io/Proxmox/)


```
bash -c "$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/ct/uptimekuma.sh)"

```

uptime kuma site: https://github.com/louislam/uptime-kuma#uptime-kuma

!!Docker installation


```
docker run -d --restart=always -p 3001:3001 -v uptime-kuma:/app/data --name uptime-kuma louislam/uptime-kuma:1
```

</pre>
</div>
<div tags="" title="USB 2.5Gbps for unraid r8152">
<pre>source: https://forums.unraid.net/bug-reports/stable-releases/610-rc3-6115-realtek-rtl8156-usb-25gb-nic-not-working-r1919/page/2/

Add RTL8152 USB drivers from ich777 repository

https://raw.githubusercontent.com/ich777/unraid-r8152-driver/master/unraid-r8152.plg

!!Text version


```
&lt;?xml version='1.0' standalone='yes'?&gt;
&lt;!DOCTYPE PLUGIN [
  &lt;!ENTITY name      "r8152-driver"&gt;
  &lt;!ENTITY author    "ich777"&gt;
  &lt;!ENTITY version   "2023.02.08"&gt;
  &lt;!ENTITY gitURL    "https://raw.githubusercontent.com/&amp;author;/unraid-&amp;name;/master"&gt;
  &lt;!ENTITY pluginURL "&amp;gitURL;/unraid-r8152.plg"&gt;
  &lt;!ENTITY plugin    "/boot/config/plugins/&amp;name;"&gt;
  &lt;!ENTITY emhttp    "/usr/local/emhttp/plugins/&amp;name;"&gt;
  &lt;!ENTITY packages  "/boot/config/plugins/&amp;name;/packages"&gt;
]&gt;

&lt;PLUGIN  name="&amp;name;" author="&amp;author;" version="&amp;version;" pluginURL="&amp;pluginURL;" min="6.11.5" support="https://forums.unraid.net/topic/92865-support-ich777-amd-vendor-reset-coraltpu-hpsahba/"&gt;

&lt;CHANGES&gt;

###2023.02.08
- Added note how to enable 2.5Gbit/s speeds

###2023.02.07
- Initial release

&lt;/CHANGES&gt;

&lt;FILE Name="&amp;emhttp;/README.md"&gt;
&lt;INLINE&gt;
**RTL8152/3/4/6 USB Drivers**
  
This package contains the Realtek OOT Drivers and installs them, a reboot is required after installing the plugin (upgrading to a newer Unraid version maybe needs a second reboot too).
ATTENTION: To utilize 2.5Gbit/s speeds you have to add this line at the bottom to your 'go' file: 'ethtool -s eth0 autoneg on advertise 0x80000000002f' (without quotes and modify eth0 to the corresponding adapter in your system)!  
  
The following Chipsets are supported by this driver: RTL8152B, RTL8153/RTL8153B, RTL8154/RTL8154B, RTL8156/RTL8156B(S)(G)  

Source: https://github.com/wget/realtek-r8152-linux
&lt;/INLINE&gt;
&lt;/FILE&gt;

&lt;FILE Run="/bin/bash"&gt;
&lt;INLINE&gt;

download() {
# Download r8152 package
if wget -q -nc --show-progress --progress=bar:force:noscroll -O "&amp;packages;/${KERNEL_V%%-*}/${LAT_PACKAGE}" "${DL_URL}/${LAT_PACKAGE}" ; then
  wget -q -nc --show-progress --progress=bar:force:noscroll -O "&amp;packages;/${KERNEL_V%%-*}/${LAT_PACKAGE}.md5" "${DL_URL}/${LAT_PACKAGE}.md5"
  if [ "$(md5sum &amp;packages;/${KERNEL_V%%-*}/${LAT_PACKAGE} | awk '{print $1}')" != "$(cat &amp;packages;/${KERNEL_V%%-*}/${LAT_PACKAGE}.md5 | awk '{print $1}')" ]; then
    echo
    echo "---CHECKSUM ERROR!---"
    rm -rf &amp;plugin; &amp;emhttp;
    exit 1
  fi
  echo
  echo "-------------------Sucessfully downloaded RTL8152 package-------------------"
else
  echo
  echo "-----------------------Can't download RTL8152 package-----------------------"
  rm -rf &amp;plugin; &amp;emhttp;
  exit 1
fi
}

check() {
if ! ls -1 &amp;packages;/${KERNEL_V%%-*}/ | grep -q "${PACKAGE}" ; then
  LAT_PACKAGE="$(wget -qO- https://api.github.com/repos/ich777/unraid-r8152-driver/releases/tags/${KERNEL_V} | jq -r '.assets[].name' | grep "${PACKAGE}" | grep -E -v '\.md5$' | sort -V | tail -1)"
  echo
  echo "-----------------------Downloading RTL8152 package!-------------------------"
  echo "--------This could take some time, please don't close this window!----------"
  download
else
  echo
  echo "-----------------------RTL8152 package found locally------------------------"
fi
}

# Define Variables
KERNEL_V="$(uname -r)"
PACKAGE="r8152"
DL_URL="https://github.com/ich777/unraid-r8152-driver/releases/download/$KERNEL_V"

if [ ! -d "&amp;packages;/${KERNEL_V%%-*}" ]; then
  mkdir -p "&amp;packages;/${KERNEL_V%%-*}"
fi

# Check for old packages
rm -rf $(ls -d &amp;packages;/* | grep -v "${KERNEL_V%%-*}")

# Check if RTL8152 package is already downloaded and installed
check

if [ ! -f "&amp;plugin;/&amp;name;.png" ]; then
  wget -q -nc --show-progress --progress=bar:force:noscroll -O "&amp;plugin;/&amp;name;.png" "https://raw.githubusercontent.com/ich777/docker-templates/master/ich777/images/realtek.png"
fi

#Install icon
if [ ! -f "&amp;emhttp;/images/&amp;name;.png" ]; then
  if [ ! -d "&amp;emhttp;/images" ]; then
    mkdir -p &amp;emhttp;/images
  fi
  cp &amp;plugin;/&amp;name;.png &amp;emhttp;/images/
fi

if [[ $(modinfo r8152 | grep -w "version:" | cut -d 'v' -f3) == 2* ]]; then
  echo
  echo "-----------Nothing to do, OOT RTL8152 package already installed-------------"
  echo
else
  echo
  echo "-----------Please reboot your server to activate the OOT driver!------------"
  echo
fi


&lt;/INLINE&gt;
&lt;/FILE&gt;

&lt;FILE Run="/bin/bash" Method="remove"&gt;
&lt;INLINE&gt;

echo "--------------------------"
echo "---Uninstalling RTL8152---"
echo "--------------------------"
# Remove plugin related files
rm -rf &amp;emhttp;
rm -rf &amp;plugin;
echo
echo "-----------------------------------------------------"
echo "---RTL8152 uninstalled, please reboot your server!---"
echo "-----------------------------------------------------"
echo

&lt;/INLINE&gt;
&lt;/FILE&gt;
&lt;/PLUGIN&gt;
```
</pre>
</div>
<div bag="default" created="20210417195249457" creator="sharicov" modified="20210417195440700" modifier="sharicov" revision="2" tags="manual" title="USB disk mount (fstab) v7" type="text/vnd.tiddlywiki">
<pre>!!! Make share directory: 
```
sudo mkdir -m 1777 /media/usbdown 

```
!!! Mount USB disk to the directory:
```
sudo fdisk -l 
sudo mount /dev/sda1 /media/usbdown/ 
```
!!! Troubleshooting mount: 
```
sudo mount |grep sd 
sudo umount /dev/sda1 
```
!!! Permanent mount (fstab): 

!!!! Find PARTUUID: 


```
sudo fdisk -l 
sudo blkid |grep sda 
```
!!!!Add PARTUUID into fstab: 
```
sudo nano /etc/fstab 
```


For NTFS:

!!!!Add: 


```
PARTUUID="b6d690fd-025a-4dcb-a582-215ac9c29dba" /media/usbdown ntfs-3g  nofail,uid=1000,gid=1000  0  0 
```

For ext4:


```
PARTUUID="b6d690fd-025a-4dcb-a582-215ac9c29dba" /media/usbdown ext4 defaults,noatime 0 1
```

For btrfs:

with compression



```
PARTUUID="b6d690fd-025a-4dcb-a582-215ac9c29dba" /media/4TB btrfs defaults,compress=zstd,noatime 0 0
```

without comression

```
PARTUUID="b6d690fd-025a-4dcb-a582-215ac9c29dba" /media/usbdown btrfs defaults,noatime 0 0
```

Optional for anything connected to usb mounting first partition ''dev/sda1'':


```
 /dev/sda1 /media/usbdown btrfs defaults,noatime 0 0
```

To test fstab settings are working:


```
sudo umount /dev/sda1
```



```
ls /media/usbdown
```

Output should be empty


To reload fstab:

```
systemctl daemon-reload #was sudo mount -a in older Linux versions
```

To restart samba:


```
systemctl restart smbd
```

Simplest way:


```
nano /etc/fstab
```


Add:


```
/dev/sda1 /media/usb btrfs defaults,noatime 0 1
```
</pre>
</div>
<div bag="default" created="20210417181410220" creator="sharicov" modified="20210417185716387" modifier="sharicov" revision="5" tags="[[yunohost raspberry disk system samba yandex screen rsync ssh v17]] manual" title="usb disk uasp protocol" type="text/vnd.tiddlywiki">
<pre>!! Check usb disk uasp (scsi or old protocol): 


```
lsusb -t 
```


Supported should output 


```
Class=Mass Storage, Driver=uas 
```


Unsupported: 


```
Class=Mass Storage, Driver=usb-storage 
```


!!! To blacklist (disconnect problems, slow) for r4s:

```
lsusb -v | grep id
```

get vendorid and productid:
0x4 letters each, WD normally 0x1058

```
nano /boot/armbianEnv.txt
```

!!! Add to usb-storage.quirks=
`0x4letter_vendorID:0x4letter_productID:u` devided by ,

Reboot

!!! For raspberry pi no 0x needed:

```
sudo nano /boot/cmdline.txt
```

`4letter_vendorID:4letter_productID:u` devided by `,`

!!! Sources:
https://www.reddit.com/r/DataHoarder/comments/ho8zgn/one_quick_hack_to_double_wd_elements_drive/
https://www.raspberrypi.org/forums/viewtopic.php?t=245931
https://www.jeffgeerling.com/blog/2020/uasp-makes-raspberry-pi-4-disk-io-50-faster

</pre>
</div>
<div tags="" title="USB over IP sharing killercoda v2">
<pre>Using Incentive Pro USB redirector trial version: https://www.incentivespro.com/downloads.html#usb-redirector-linux

Server is the machine with USB in it

Client is machine to which the USB flash drive shared to.

in Killercoda machine (client):


```
wget https://www.incentivespro.com/usb-redirector-linux-x86_64.tar.gz

tar -xvzf usb-redirector-linux-x86_64.tar.gz 

cd usb-redirector-linux-x86_64

./installer.sh install-client
```

On remote machine install tailscale for ubuntu 20.04 - the killercoda version, to be able to connect to 32032 port directly:

```
curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/focal.noarmor.gpg | sudo tee /usr/share/keyrings/tailscale-archive-keyring.gpg &gt;/dev/null

curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/focal.tailscale-keyring.list | sudo tee /etc/apt/sources.list.d/tailscale.list

sudo apt update

sudo apt install tailscale

sudo tailscale up
```

Click on link displayed in terminal to authrize and connect you host (server) machine to tailscale as well.

All tailscale IPs can be found here:

https://login.tailscale.com/admin/machines

On machine with physical USB drive in it install redirector server (windows example): https://www.incentivespro.com/usb-redirector.zip

Run and right click on USB drive to share/''Share USB Device''

Get server external IP from tailscale tray: Click on This device to copy the IP

!!Or

If connecting without tailscale (make sure ports are opened on the server machine to the internet:

https://www.whatismyip.com/


On killercoda machine run:

usbclnt -add-server YourServerIPFromTailscaleTray'':32032''

On machine with physical USB (server): Remote Control/ Connect USB device to USB Client/Provide remote machine tailscale address.

On remote killercoda machine usb will appear as ''sda''


```
lsblk -f

fdisk -l /dev/sda

mkdir /media/usb

mount /dev/sda1 /media/usb

ls /media/usb
```

Test usb speed:


```
hdparm -tTv /dev/sda
```



!!Useful info:

To uninstall on linux:

```
/usr/local/usb-redirector/uninstall.sh uninstall
```

To install server and client uninstall first and then run:


```
./installer.sh install
```
</pre>
</div>
<div tags="" title="USB speed in linux">
<pre>```
lsusb -vv |grep -i bcdusb -a5
```
The bcdUSB line returns the USB version of the port.

Source: https://askubuntu.com/questions/162434/how-do-i-find-out-usb-speed-from-a-terminal</pre>
</div>
<div tags="" title="USB tree and power consumption linux">
<pre>```
lsusb -t
```



```
lsusb -v|egrep "^Bus|MaxPower"
```


Source: https://unix.stackexchange.com/questions/81508/get-power-consumption-of-a-usb-device</pre>
</div>
<div bag="default" created="20210416142310242" creator="sharicov" modified="20210416152307192" modifier="sharicov" revision="8" tags="manual" title="usbmount" type="text/vnd.tiddlywiki">
<pre>Automount USB on insert

sudo purge needrestart

sudo apt autoremove

sudo apt install usbmount

sudo nano /lib/systemd/system/systemd-udevd.service

Change: 
PrivateMounts=yes

To: 
PrivateMounts=no

Then  restart daemon, or reboot

sudo systemctl daemon-reexec

sudo service systemd-udevd restart

For NTFS mount:

sudo nano /etc/usbmount/usbmount.conf

FILESYSTEMS="vfat ntfs fuseblk ext2 ext3 ext4 hfsplus ntfs fuseblk"

Restart systemd and udev subprocesses (or simply reboot).

sudo systemctl daemon-reexec

sudo service systemd-udevd restart

[img[https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png]]

Source: https://raspberrypi.stackexchange.com/questions/41959/automount-various-usb-stick-file-systems-on-jessie-lite</pre>
</div>
<div tags="" title="Used disks prices">
<pre>https://diskprices.com/</pre>
</div>
<div tags="" title="useful containers">
<pre>```
adguard/adguardhome:latest
lscr.io/linuxserver/emulatorjs:latest
linuxserver/homeassistant:latest
linuxserver/chromium:latest
linuxserver/libreoffice:latest
linuxserver/remmina:latest
nextcloud:latest
portainer/portainer-ce:latest
portainer/portainer-ce:latest
lscr.io/linuxserver/kasm:latest
jellyfin/jellyfin:latest
machines/filestash:latest
onlyoffice/documentserver:latest
sigoden/dufs:latest
```
</pre>
</div>
<div tags="" title="Useful Linux commands v1">
<pre>atop refresh every second

```
atop -A -a 1
```


swap show

```
swapon -s
```


swap file create

```
dd if=/dev/zero of=/PATH/FILENAME bs=1024 count=SIZE
chmod 600 /PATH/FILENAME
mkswap /PATH/FILENAME
swapon /PATH/FILENAME
```
</pre>
</div>
<div tags="" title="Useful proxmox command for VMs and LXC container manipulation v2">
<pre>List the containers: 

```
pct list
```


Example Container''999'' resize to ''10GB''

Stop the particular container you want to resize:

```
pct stop 999
```



Start container or VM:

```
pct start 999
```


Edit container or VM configuration:

```
pct enter 999
```

Find out it's path on the node:


```
lvdisplay | grep "LV Path\|LV Size"
```

For good measure one can run a file system check:


```
e2fsck -fy /dev/pve/vm-999-disk-0
```

!!Remote torrent adder 
extension for chrome

https://github.com/bogenpirat/remote-torrent-adder/</pre>
</div>
<div tags="" title="useful qm proxmox CLI commands and Ubuntu 24.04 on raspberry proxmox arm64">
<pre>!!Preinstalled desktop edition (not bootable/ not working): 


```
wget https://cdimage.ubuntu.com/releases/24.04/release/ubuntu-24.04-preinstalled-desktop-arm64+raspi.img.xz
```



```
unxz ubuntu-24.04-preinstalled-desktop-arm64+raspi.img.xz
```



```
qm create 100 --name Ubuntu-24.04 --ostype l26 --cpu host --cores 4 --memory 4096 --scsihw virtio-scsi-pci --bios ovmf --efidisk0 local:0,efitype=4m,size=64M,format=qcow2 --serial0 socket --scsi0 local:0,import-from=/root/ubuntu-24.04-preinstalled-desktop-arm64+raspi.img,format=qcow2 --boot order=scsi0
```



```
qm start 100
```



!!CLI server edition (no GUI) ''can't login''

```
wget https://cloud-images.ubuntu.com/noble/current/noble-server-cloudimg-arm64.img

```


```
qm create 100 --name Ubuntu-24.04 --ostype l26 --cpu host --cores 4 --memory 4096 --scsihw virtio-scsi-pci --net0 virtio,bridge=vmbr0 --bios ovmf --efidisk0 local:0,efitype=4m,size=64M,format=qcow2 --serial0 socket --scsi0 local:0,import-from=/root/noble-server-cloudimg-arm64.img,format=qcow2 --ciuser root --cipassword rootroot --ipconfig0 ip=dhcp --boot order=scsi0
```


!!Additional useful commands


```
 qm set 100 --serial0 socket --vga serial0

 qm set 100 --agent enabled=1

 qm set 100 -ciuser sharicov

qm set 100 -cipassword 123456789

qm cloudinit dump 100 user

qm config 100

qm list

qm start 100
```


Note: network crashes the machine - remove network interface from VM hardware

!!qm cli commands: https://pve.proxmox.com/pve-docs/qm.1.html

Edit vm configuration:


```
 nano /etc/pve/nodes/PiProxmox/qemu-server/100.conf
```




https://medium.com/@AdminGuideEN/proxmox-a-few-commands-to-prepare-ubuntu-server-cloudinit-in-shell-6fd9df590911
</pre>
</div>
<div tags="" title="Useful Unraid plugins v23">
<pre>!!un-get custom packages installation

Install custom plugin https://raw.githubusercontent.com/ich777/un-get/master/un-get.plg

commands: un-get update/install/search etc. look for separate manual here

!!ApacheGuacamole
Remote http server for RDP and VNC clients

!!Appdata Backup
to backup dockers and Unraid USB flash to specific drive on schedule

!!Chromium
docker with chrome browser only to connect over http

!!Custom tab
to add additional tabs in the Unraid GUI for example for VMs, qbittorrent, Jdownloader and external sites

!!DiskSpeed
To check disks' read speed (runs on active array, doesn't desturbe data, or operations

!!Docker compose manager
to install containers not available in Unraid store (ex. original filestash with onlyoffice)

!!Dynamic Active Streams
to show clients' connections to Unraid in realtime

!!Dynamix System Stats
To show disk loads, network bandwidth, CPU load graphs over time in separate tab

!!Dynamix System Temp
to show temperatures on the buttom of Unraid web interface

!!File activity (not working)
to show iostat in gui/tools/file activity

!!Open files
to show open files by running processes

!!Fix Common Problems
to troubleshoot Unraid configuration

!!Jdownloader2
to download remotely from popular sharing sites use jlesage/jdownloader-2 repository

In configuration/more settings set download folder (ex. /mnt/users/n5105/Downloads), username, password for jdownloader and for web access locally including setting secure connection to 1, set device name, set user id same as your unraid user (not root, ex. 1000 run id sharicov to check)

!!Krusader
mc like file explorer to move files in background use ''binhex ''repository

''Troubleshooting:'' port ''5900 ''conflicts with jdownloader, change to ''5959''

!!!Disable krusader trash

''Krusasder -&gt; Settings -&gt; Configure Krusader-&gt; General Settings -&gt; Delete Mode''

Choose between "move to trash" vs "delete files".

!!!Empty krusader trash

''Tools -&gt; empty trash''

Trash location

''/home/.local/share/trash/files''

or

''/mnt/user/appdata/binhex-krusader/home/.local/share/trash''

Source: https://www.reddit.com/r/unRAID/comments/10qa70q/tip_empty_your_krusader_trash/

!!Mover Tuning
to trigger mover process from cache to array based on usage percentage, or other parameters

!!MSEdge docker from linuxserver

Edge only docker/edit as xml and add key PASSWORD with desired password and CUSTOM_USER with desired username. Default user ''abc''

!!Nerd tool - obsolete use hombrew unraid instead 
to install Linux apps not included in Unraid (ex. ncdu, iotop, python, rclone, screen. 

!!PortainerCE
to manage docker containers better, than Unraid docker configurator allows

!!qbittorrent (linuxserver)
torrent docker, can be set to download folder on SSD cache without mover to move it to array (create share on SSD called Download and set download folder in docker settings as /mnt/cache/Downloads).

To ''disable trash'' qbitorrent web gui/settings/advanced/Torrent Content Removing Mode - delete ''permanently''

Source: https://www.reddit.com/r/qBittorrent/comments/1fv7gzw/qbit_50_trash_folder/

 Set UID according to id user in terminal to fix permissions of downloaded files (see container's log for initial password, user: admin)

If password not shown in qbittorrent's log, enter container console and edit config as follows:


```
vi config/qBittorrent/qBittorrent.conf
```

Adding this line under [Preferences], in the config file, works, for setting the default password manually to: ''adminadmin''


```
WebUI\Password_PBKDF2="@ByteArray(ARQ77eY1NUZaQsuDHbIMCA==:0WMRkYTUWVT9wVvdDtHAjU9b3b7uB8NR1Gur2hmQCvCDpm39Q+PsJRJPaCU51dEiz+dTzh8qbPsL8WkFljQYFQ==)"
```

Source: https://www.reddit.com/r/unRAID/comments/180ou0b/psa_if_you_cant_login_to_qbittorrent_pass/#:~:text=If%20qBittorrent%20detects%20a%20password,it%20in%20the%20container%20log.

!!qdirstat
Show graphical representation of used capacity - like scanner

!!Taiscale
Install Tailscale ''(Plugin)'' - ''not docker''

Alternative- not recommended, depends on docker engine running 

tailscale vpn docker (privileged) to allow connaction to Unraid using tailscale client (see container's log to login to the service first time)

''Setup tailscale: ''In Unraid GUI/Settings/Network/Interface Extra/Include listening interfaces add ''tailscale0 ''

Source: https://www.reddit.com/r/unRAID/comments/11g56je/comment/jradi3c/?utm_source=embedv2&amp;utm_medium=comment_embed&amp;utm_content=whitespace&amp;embed_host_url=https%3A%2F%2Fforums.unraid.net%2Findex.php

!!Unassigned Devices
to map and share disk that not in the array, supports deleting and creating partitions and formating - use settings

Can be attached to docker container directly in the Container Path however set it as RW/Slave using edit button in the configuration

!!Unassigned Devices Plus (Addon)
for multiple formats support like HFS+, exFAT, apfs etc.

!!Unassigned device 
mounts into /mnt/disks

!!Unassigned Devices Preclear
to clean/erase disks in the array

!!unbalanced
to move data between array disks, to cache, from cache

!!Unlimited Width
to allow Unraid Web GUI stretch on wide monitors

!!USB manager
to attach USB devices to VMs on the fly and show USB device connection status in the dashboard

!!User scripts
to install Slack Linux packages in Unraid

Video: https://youtu.be/Wz4-YlH1lTk?si=Lf2R4RnR8Lv-Gj6a&amp;t=359

!!UpSnap
to wake up computers in home network
port ''8090'' to change get to edit/advanced view

!!WatchYourLAN 
catalogue of MACs in the network with device names - in ''Config tab/Scan settings/Interfaces'' add unraid wan interface (ex. ''eth0'')

!!ZFS Master
to manipulate ZFS partitions 

Must Have unRAID Plugins - Part 1 Disk Utility Plugins https://www.youtube.com/watch?v=su2miwZNuaU

Must Have unRAID Plugins - Part 2 Disk Utility Plugins https://www.youtube.com/watch?v=bBJ2MgbRg7U

Must Have unRAID Plugins - Part 3 Disk Utility Plugins https://www.youtube.com/watch?v=Wz4-YlH1lTk</pre>
</div>
<div tags="" title="v86 virtual machine in browser">
<pre>https://copy.sh/v86</pre>
</div>
<div tags="" title="Ventoy create image in Linux also for pikvm v3">
<pre>Source: https://docs.pikvm.org/msd/#create-a-drive-image-on-macos

!!To map as writable flash drive:

On pikvm run :

```
mount -o remount,rw /var/lib/kvmd/msd
```

!!!And reconnect USB to the PC to reinitialize from CDROM mode.

!!Install prequisites on source Linux machine where ventoy.img to be created 
(ex. Debian/Ubuntu):

```
apt install xz-utils dosfstools
```


!!In work directory

Create image file (ex. 19GB):

```
dd if=/dev/zero of=ventoy.img bs=100M count=190 status=progress
```


Download ventoy installation script:

```
 wget https://github.com/ventoy/Ventoy/releases/download/v1.0.80/ventoy-1.0.80-linux.tar.gz
```
Extract:

```
tar zxvf ventoy-1.0.80-linux.tar.gz
```

Mount ''ventoy.img'':

```
losetup -f ventoy.img
```

See which loop device used for mapping (normally ''loop0'' same in this example):

```
losetup -l | grep ventoy
```

Install ventoy (note: ''loop0'' used in this example, can be different in your setup):

```
sh ventoy-1.0.80/Ventoy2Disk.sh -i /dev/loop0
```

Options:

```
-I for force install
-u for update ventoy in existing image
```

See that ventoy.iso partitioned properly:


```
fdisk -l ventoy.iso
```

Output:


```
Disk ventoy.img: 18.55 GiB, 19922944000 bytes, 38912000 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x18814622

Device      Boot    Start      End  Sectors  Size Id Type
ventoy.img1 *        2048 38846463 38844416 18.5G  7 HPFS/NTFS/exFAT
ventoy.img2      38846464 38911999    65536   32M ef EFI (FAT-12/16/32)
```


Copy iso files inside ventoy partition(doesn't work copy directly to pikvm connected as flash drive:

```
mkdir ventoy
mount /dev/loop0p1 ventoy
```

!!Copy ventoy.img to pikvm:

On pikvm:


```
cd /var/lib/kvmd/msd
mount -o remount,rw /var/lib/kvmd/msd
touch /var/lib/kvmd/msd/meta/ventoy.img.complete
```

On source linux/windows machine with ventoy.img (ex pikvm IP 192.168.3.3 default password root):


```
scp w:\temp\ventoy.img root@192.168.3.3:/var/lib/kvmd/msd/
```
Mount ventoy.img as normal flash and select the PiKVM boot device, it should popup with the VenToy logo with the window.iso as a selection.

!!To create image of existing USB drive on pikvm:

Plug USB to pikvm port.

Find out on which drive pikvm recognized it (ex. sda)

```
dmsg
```
mount msd folder as read/write

```
kvmd-helper-otgmsd-remount rw
```

Create image of USB data PARTITION to an image file (ex. ventoy.img)


```
dd if=/dev/sda1 of=/var/lib/kvmd/msd/images/ventoy.img bs=8M status=progress

chown kvmd:kvmd /var/lib/kvmd/msd/images/ventoy.img

touch /var/lib/kvmd/msd/meta/ventoy.img.complete
```
Remount msd folder as read only:

```
kvmd-helper-otgmsd-remount ro
```
</pre>
</div>
<div tags="" title="virtio iso download for unraid and proxmox">
<pre>Source: https://pve.proxmox.com/wiki/Windows_VirtIO_Drivers#Using_the_ISO

Latest stable: https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/stable-virtio/virtio-win.iso

Most recent: https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/latest-virtio/virtio-win.iso

Archive: https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/</pre>
</div>
<div tags="" title="Virtual USB in VMWare v6">
<pre>Source:

https://fluentreports.com/blog/?p=1551

https://mikemartinezonline.com/blog/2019/12/27/virtual-usb-disks-on-vmware-guests/

https://onlinecomputertips.com/support-categories/software/vmware-workstation-virtual-usb/

Video: 

https://www.youtube.com/watch?v=bo2GYWrO8RA


```
"C:\Program Files (x86)\VMware\VMware Workstation\vmware-vdiskmanager.exe" -c -a buslogic -s 1GB -t 0 "D:\UnraidVM\vm-usb-key.vmdk"
```


Here is what the switches from the command do.


```
-c = create
-a = type of adapter
-s = size
-t = type
0 = dynamically sized virtual disk in one file
```


Edit'' .vmx ''of the machine

Check below lines exist (xx will be replaced with a number

```
ehci.present = “TRUE”
ehci.pciSlotNumber = “xx”
```

You should also see a line like
ehci.pciSlotNumber = “35”
Do not edit this line – instead simply delete it if you want to reset the port.
If you assign a “bad” port you will get obscure follow-up problems – so don’t do it.
Now to assign a VMDK as USB-device set this parameters

Append at the end of ''.vmx''


```
ehci:1.present = "TRUE"
ehci:1.readonly = "FALSE"
ehci:1.deviceType = "disk"
ehci:1.fileName = "D:\VM\UnraidVM\vm-usb-key.vmdk"
```
!!Example vmx


```
.encoding = "windows-1252"
config.version = "8"
virtualHW.version = "21"
mks.enable3d = "TRUE"
pciBridge0.present = "TRUE"
pciBridge4.present = "TRUE"
pciBridge4.virtualDev = "pcieRootPort"
pciBridge4.functions = "8"
pciBridge5.present = "TRUE"
pciBridge5.virtualDev = "pcieRootPort"
pciBridge5.functions = "8"
pciBridge6.present = "TRUE"
pciBridge6.virtualDev = "pcieRootPort"
pciBridge6.functions = "8"
pciBridge7.present = "TRUE"
pciBridge7.virtualDev = "pcieRootPort"
pciBridge7.functions = "8"
vmci0.present = "TRUE"
hpet0.present = "TRUE"
nvram = "Strelec_Live.nvram"
virtualHW.productCompatibility = "hosted"
powerType.powerOff = "soft"
powerType.powerOn = "soft"
powerType.suspend = "soft"
powerType.reset = "soft"
displayName = "Strelec_Live"
usb.vbluetooth.startConnected = "TRUE"
firmware = "efi"
sensor.location = "pass-through"
guestOS = "windows9-64"
tools.syncTime = "FALSE"
sound.autoDetect = "TRUE"
sound.virtualDev = "hdaudio"
sound.fileName = "-1"
sound.present = "TRUE"
numvcpus = "4"
cpuid.coresPerSocket = "4"
memsize = "16384"
mem.hotadd = "TRUE"
sata0.present = "TRUE"
nvme0.present = "TRUE"
nvme0:0.fileName = "Strelec_Live.vmdk"
sata0:1.deviceType = "cdrom-image"
sata0:1.fileName = "D:\WinPE11_10_8_Sergei_Strelec_x86_x64_2024.07.12_English.iso"
sata0:1.present = "TRUE"
usb.present = "TRUE"
ehci.present = "TRUE"
usb_xhci.present = "TRUE"
svga.graphicsMemoryKB = "8388608"
ethernet0.addressType = "generated"
ethernet0.virtualDev = "e1000e"
ethernet0.present = "TRUE"
extendedConfigFile = "Strelec_Live.vmxf"
floppy0.present = "FALSE"
ehci:1.present = "TRUE"
ehci:1.deviceType = "disk"
ehci:1.fileName = "D:\VM\UnraidVM\vm-usb-key.vmdk"
ehci:1.readonly = "FALSE"
vmxstats.filename = "Strelec_Live.scoreboard"
numa.autosize.cookie = "40042"
numa.autosize.vcpu.maxPerVirtualNode = "4"
uuid.bios = "56 4d 14 ec d9 69 82 b8-9a a2 0c f3 1c 8c 37 a7"
uuid.location = "56 4d 14 ec d9 69 82 b8-9a a2 0c f3 1c 8c 37 a7"
vm.genid = "-2044037546133768676"
vm.genidX = "8974694067719153598"
pciBridge0.pciSlotNumber = "17"
pciBridge4.pciSlotNumber = "21"
pciBridge5.pciSlotNumber = "22"
pciBridge6.pciSlotNumber = "23"
pciBridge7.pciSlotNumber = "24"
usb.pciSlotNumber = "32"
ethernet0.pciSlotNumber = "160"
sound.pciSlotNumber = "33"
ehci.pciSlotNumber = "34"
usb_xhci.pciSlotNumber = "192"
sata0.pciSlotNumber = "35"
nvme0.pciSlotNumber = "224"
nvme0:0.redo = ""
svga.vramSize = "268435456"
vmotion.checkpointFBSize = "134217728"
vmotion.checkpointSVGAPrimarySize = "268435456"
vmotion.svga.mobMaxSize = "1073741824"
vmotion.svga.graphicsMemoryKB = "8388608"
vmotion.svga.supports3D = "1"
vmotion.svga.baseCapsLevel = "9"
vmotion.svga.maxPointSize = "1"
vmotion.svga.maxTextureSize = "16384"
vmotion.svga.maxVolumeExtent = "2048"
vmotion.svga.maxTextureAnisotropy = "16"
vmotion.svga.lineStipple = "0"
vmotion.svga.dxMaxConstantBuffers = "14"
vmotion.svga.dxProvokingVertex = "0"
vmotion.svga.sm41 = "1"
vmotion.svga.multisample2x = "1"
vmotion.svga.multisample4x = "1"
vmotion.svga.msFullQuality = "1"
vmotion.svga.logicOps = "1"
vmotion.svga.bc67 = "9"
vmotion.svga.sm5 = "1"
vmotion.svga.multisample8x = "1"
vmotion.svga.logicBlendOps = "1"
vmotion.svga.maxForcedSampleCount = "16"
vmotion.svga.gl43 = "1"
ethernet0.generatedAddress = "00:0c:29:8c:37:a7"
ethernet0.generatedAddressOffset = "0"
vmci0.id = "478951335"
monitor.phys_bits_used = "45"
cleanShutdown = "FALSE"
softPowerOff = "FALSE"
usb:1.speed = "2"
usb:1.present = "TRUE"
usb:1.deviceType = "hub"
usb:1.port = "1"
usb:1.parent = "-1"
ehci:7.present = "TRUE"
ehci:7.readonly = "FALSE"
ehci:7.deviceType = "disk"
ehci:7.fileName = "vm-usb-key.vmdk"
fileSearchPath = "D:\VM\Strelec_Live;."
usb_xhci:4.present = "TRUE"
usb_xhci:4.deviceType = "hid"
usb_xhci:4.port = "4"
usb_xhci:4.parent = "-1"

```
</pre>
</div>
<div tags="" title="VM tools for VMWare with Vista support">
<pre>Just got to test this myself on an old Vista VM and it does indeed show the same confusing popup when trying to upgrade VMware Tools. This might be because of the certs, but as setup actually ran, I think it is more likely that it is a C runtime issue. Regardless of the cause, VMware Fusion (or Workstation) itself does no longer carry a VMware Tools you can install and you have to download the latest (after which it will nag you forever to upgrade)

The KB article that it points to has a reasonable clarification, but only if you are familiar with all of this.

https://kb.vmware.com/s/article/75163

I just verified that the 11.0.6 iso works (just like _Ender said)
Here's a direct link:

https://packages.vmware.com/tools/releases/11.0.6/windows/VMware-tools-windows-11.0.6-15940789.iso

You should connect the download via menu "Virtual Machine" -&gt; CD/DVD -&gt; "Choose Disk or Image..."
(I had to drag &amp; drop the downloaded iso to another location in order to be able to do that.. some Big Sur security helpful issue, as you are on Workstation I don't think you'll have that issue.)
Then do not forget to also "Virtual Machine" -&gt; CD/DVD -&gt; "Connect CD/DVD" and you should be able to run the vmware tools installer.
If it doesn't popup itself then go to the D:\ drive.

Note that the direct link above is for the 32 bit version of Vista, if you need the 64 bit version then you will have more work (unpacking the iso etc..)

--
Wil

| Author of Vimalin. The virtual machine Backup app for VMware Fusion, VMware Workstation and Player |</pre>
</div>
<div tags="" title="VMWare scsi controllers types">
<pre>Source: https://www.reddit.com/r/vmware/comments/v2qzc5/paravirtual_scsi_controller_vs_lsi_logic_sas/

''LSI SAS''
- can be a boot or secondary controller
- relatively low vHardware overhead
- fast, modern, widely supported by popular guest operating systems
- speed wise, is good for workloads doing up to 50,000 IOPs
- preferred if you are configuring multiple Windows VMs in an MS Fail Over Cluster configuration where the LSI controller connects to the cluster shared SCSI volumes

''VMware Paravirtual''
- can be a boot or secondary controller
- lowest vHardware overhead
- highest throughput and scales better. Use when you have workloads that need &gt;50,000 IOPs
- no native support in Windows. Add driver at install time or get driver via VMware tools
- native support in most Linux releases
- can be configured with longer I/O queues
- do not use for MS Fail Over Cluster shared volume access

''Similarities''
- You can have 4 SCSI HBAs max per VM regardless of the type
- Same maximum number and size of vDisks per controller
- Same features like Thin Disk SCSI UNMAP supported
- Generally no significant difference for lower I/O load VMs. In this case, use the one that you prefer.</pre>
</div>
<div tags="" title="VMWare workstation/fusion free download">
<pre>https://softwareupdate.vmware.com/cds/vmw-desktop/

Source: https://www.reddit.com/r/vmware/comments/1cskfg1/account_verification_is_pending_try_after_some/</pre>
</div>
<div tags="" title="vsftpd FTP server v4">
<pre>!!Installation:

```
apt update

apt install -y vsftpd

nano /etc/vsftpd.conf
```


Add/uncomment (example of landing default directory ''/media/usb''):


```
local_root=/media/usb
listen=NO
anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=022
dirmessage_enable=YES
use_localtime=YES
xferlog_enable=YES
connect_from_port_20=YES
#chroot_local_user=YES
secure_chroot_dir=/var/run/vsftpd/empty
pam_service_name=vsftpd
rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem
rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key
#ssl_enable=Yes
pasv_enable=Yes
pasv_min_port=10000
pasv_max_port=10100
#allow_writeable_chroot=YES
#ssl_tlsv1=YES
#ssl_sslv2=NO
#ssl_sslv3=NO
```

!!Optional: open ports


```
sudo ufw allow 20/tcp
sudo ufw allow 21/tcp
sudo ufw status
```

!!Start service:


```
sudo systemctl enable vsftpd.service
```

To run the VSFTPD service, issue the following command in Terminal:


```
sudo systemctl start vsftpd.service
```

If you need to restart the VSFTPD service after making any configuration changes, issue the following command in Terminal:


```
sudo systemctl restart vsftpd.service
```

To verify if the VSFTPD is active and running, issue the following command in Terminal:


```
sudo systemctl status vsftpd.service
```

Create user (''not root''):


```
sudo adduser &lt;username&gt;

sudo passwd &lt;username&gt;
```

Connect to the FTP server:


```
ftp &lt;ServerIP&gt;
```


Source: https://linuxhint.com/installing_ftp_server_linux_mint/</pre>
</div>
<div tags="" title="Wake on Lan v6">
<pre>Sources: https://www.pcmag.com/how-to/turn-on-computer-from-across-the-house-with-wake-on-lan

https://www.asus.com/support/FAQ/1045950/



Enable WOL in bios (advanced/APM)

In windows device manager network adpter/power/only power on on magic packet

Use wake on LAN app 

!!!Windows: https://www.nirsoft.net/utils/wake_on_lan.html)

!!!Linux: apt install wakeonlan


```
wakeonlan MACAddress
```

To find accessible MAC addresses


```
arp -a
```



!!Sleep windows from command prompt


```
%windir%\System32\rundll32.exe powrprof.dll,SetSuspendState 0,1,0

```

Sources: 
https://superuser.com/questions/463646/is-there-a-command-line-tool-to-put-windows-8-to-sleep/463652#463652

https://superuser.com/questions/42124/how-can-i-put-the-computer-to-sleep-from-command-prompt-run-menu


Batch file to manage PC power in windows:



```
@ECHO OFF
CLS
ECHO 1.Restart
ECHO 2.Shutdown
ECHO 3.Sleep
ECHO 4.Log off
ECHO 5.Standby
ECHO 6.Hybernate
ECHO 7.Exit
ECHO.

CHOICE /C 1234567 /M "Enter your choice:"

:: Note - list ERRORLEVELS in decreasing order
IF ERRORLEVEL 7 GOTO Exit
IF ERRORLEVEL 6 GOTO Hybernate
IF ERRORLEVEL 5 GOTO Standby
IF ERRORLEVEL 4 GOTO Logoff
IF ERRORLEVEL 3 GOTO Sleep
IF ERRORLEVEL 2 GOTO Shutdown
IF ERRORLEVEL 1 GOTO Restart

:Restart
ECHO Restart 
%windir%\System32\shutdown.exe -r
GOTO End

:Shutdown
ECHO Shutdown
%windir%\System32\shutdown.exe -s
GOTO End

:Sleep
ECHO Sleep
%windir%\System32\rundll32.exe powrprof.dll,SetSuspendState 0,1,0
GOTO End

:Logoff
ECHO Logoff 
%windir%\System32\shutdown.exe -l
GOTO End

:Standby
ECHO Standby
powercfg -hibernate off  &amp;&amp;  start /min "" %windir%\System32\rundll32.exe powrprof.dll,SetSuspendState Standby  &amp;&amp;  ping -n 3 127.0.0.1  &amp;&amp;  powercfg -hibernate on
GOTO End

:Hybernate
ECHO Hybernate
%windir%\System32\rundll32.exe powrprof.dll,SetSuspendState Hibernate
GOTO End

:Exit
ECHO Exit
GOTO End

:End
```



Source: https://stackoverflow.com/questions/9307512/create-a-batch-file-with-multiple-options</pre>
</div>
<div tags="" title="Wake on Lan WoL Sleep on Lan SoL on unraid v5">
<pre>!!Install ''UpSnap ''plugin in unraid

''Default port = 8090''

To change/get current port Unraid WebGUI/Docker/Upsnap/Edit/''Advanced view''

!!Set client's MAC 

To get MAC run on windows client

```
ipconfig /all
```

MAC is under physical address, replace ''- ''with'' :''

!!Enable ping in windows firewall on the client to allow correct monitoring of the client's status (sleep/awake) - see separate guide

!!To enable SoL (sleep on LAN)

Download Sleep on LAN: https://github.com/SR-G/sleep-on-lan

Download NNSM service installer: https://nssm.cc/download

Extract SoL to some permanent folder (ex. d:\portable\SoL)

extract nssm.exe to the same folder

Install SoL as service

default ports


```
HTTP 8009
UDP 9
```

!!Initial start to set up windows firewall
Run'' sol.exe ''once to enable network for public and private network

!!Install SoL as a service
Run as ''administrator ''in the working folder on client computer

```
nssm  install SleepOnLan d:\portable\sol\sol.exe
```
!!Start service
Go to services/SleepOnLan/right-click/start

!!Troubleshooting

1. Check in BIOS/Advanced/ACPI/Wake on LAN enabled and Hibernate disabled.
2 In windows, install ''vendor'' drivers (not Microsoft).
3. In Device manager/Network adapters/Your Specific Ethernet Adapter/Power Management/checkmark: both Allow option without only allow a magic packet.</pre>
</div>
<div tags="" title="Wakelock disable/ignore Android">
<pre>Source: https://www.xda-developers.com/stop-wakelocks-android-without-root/

Install better battery stats: https://forum.xda-developers.com/t/app-2-2-11-dec-2022-v3-1-betterbatterystats.1179809/

Enable permissions from PC (connect phone to PC with USB cable):


```
adb devices
adb shell
pm grant com.asksven.betterbatterystats_xdaedition android.permission.BATTERY_STATS
pm grant com.asksven.betterbatterystats_xdaedition android.permission.DUMP
pm grant com.asksven.betterbatterystats_xdaedition android.permission.PACKAGE_USAGE_STATS
```

In Partial Wakelocks see what apps causes most of wakelocks

Stop wakelocks per app (Snapchat example):
Name of app can be taken from BeterBatteryStats itself.

```

adb devices
adb shell
cmd appops set com.snapchat.android WAKE_LOCK ignore
```
</pre>
</div>
<div tags="" title="watch your lan on proxmox">
<pre>WhatchYourLAN shows connected devices with MAC addresses with option to tag
https://github.com/aceberg/WatchYourLAN

Default port: ''8840''

Install on proxmox (from https://tteck.github.io/Proxmox/)


```
bash -c "$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/ct/watchyourlan.sh)"
```

To check vendor by MAC address: https://macvendors.com/

</pre>
</div>
<div tags="" title="wazuh agent on proxmox host">
<pre>On proxmox host add following packages


```
apt install lsb-release sudo
```


Follow instructions on wazuh server in GUI /Agents/Deploy new agent/Deb</pre>
</div>
<div tags="" title="Wazuh appdata and Save Games monitoring for game saves changes v2">
<pre>In PowerShell as ''administrator'' on client run:


```
notepad "C:\Program Files (x86)\ossec-agent\ossec.conf"
```


Add


```
 &lt;directories report_changes="yes" check_all="yes"&gt;%appdata%&lt;/directories&gt;


 &lt;directories report_changes="yes" check_all="yes"&gt;%userprofile%\Saved Games&lt;/directories&gt;
```

In PowerShell as ''administrator'' restart wazuh agent service on client


```
 restart-service -name wazuh
```
</pre>
</div>
<div tags="" title="wazuh linux and windows file monitor integrity check in realtime using auditd v4">
<pre>Install auditd


```
apt-get install auditd

apt-get install audispd-plugins

systemctl restart auditd
```

Edit wazuh client configuration

```
sudo nano /var/ossec/etc/ossec.conf
```

add required folder to monitor (real time without realtime parameter)
under  ''syscheck''

Note:'' Do not put /'' at the end of the scanned folder

Note: For ''windows ''if whole drive should be monitored it should be added as D:\. (with dot at the end and it should be existent when agent starts and have at least one file in it besides the sub-folders) use ''realtime="yes"'' for windows rather than ''whodata (they are self replacable)''

```
&lt;directories check_all="yes" whodata="yes"&gt;/media/usb/Yandex.Disk.Backup&lt;/directories&gt;
```

Restart agent on the client


```
sudo systemctl restart wazuh-agent
```


!!Check monitoring rule was added

```
sudo auditctl -l | grep wazuh_fim
```

In wuzah GUI it will appear under ''Agents/ ''RequiredAgent/''Integrity monitoring/Inventory'' - can be searched for folder name (ex. Yandex)

Note: for large folders it will take a'' lot of time'' to do a first scan and only then it will appear in the Inventory of the agent.

Changes will be shown under ''Events ''tab in the same view

Source: https://documentation.wazuh.com/current/user-manual/capabilities/file-integrity/advanced-settings.html</pre>
</div>
<div tags="" title="wazuh security dashboard server x86 only v17">
<pre>!!Video review
https://www.youtube.com/watch?v=3CaG2GI1kn0&amp;t=783s

!Installation


```
git clone https://github.com/wazuh/wazuh-docker.git -b v4.7.2

cd wazuh-docker/

cd single-node/
 
docker-compose -f generate-indexer-certs.yml run --rm generator

docker-compose up -d
```

''https'' access port ''5601 ''(or ''443'')

!!Troubleshooting

if cannot access port 443, change in docker host port from 443 to 5601

default user/pwd

admin/ SecretPassword

Source: https://documentation.wazuh.com/current/deployment-options/docker/wazuh-container.html

!!Deploy agents

In wazuh GUI/agents/deploy ne agent - choose client type and follow the guidelines to install on the client 

!!List of agent packages:

https://documentation.wazuh.com/current/installation-guide/packages-list.html

!!Note ''aarch64 ''is for ''arm64''

!!Uninstall agents


```
apt-get remove wazuh-agent
```


https://documentation.wazuh.com/current/installation-guide/uninstalling-wazuh/agent.html#uninstalling-linux-agent

!!Troubleshooting Failed to execute 'removeChild' on 'Node'

Install local SSL certificates (use duckdns manual)


!!Wazuh server update in docker
 please use official site for the latest version https://documentation.wazuh.com/current/deployment-options/docker/upgrading-wazuh-docker.html

enter wazuh single node directory and run as follows:


```
cd /wazuh-docker/single-node

docker-compose down

 git checkout v4.7.3

 git config --global --add safe.directory /home/sharicov/wazuh-docker

docker-compose up -d
```

!!Test alerts are working

Enter server container and run tail -f on the log


```
docker ps

docker exec -it single-node-wazuh.manager-1 bash

tail -f /var/ossec/logs/alerts/alerts.log
```


!!Wazuh agent update command line

source: https://documentation.wazuh.com/current/user-manual/agents/remote-upgrading/upgrading-agent.html


Get to manager node of wazu

On host pc run


```
dock ps

docker exec -it single-node-wazuh.manager-1 bash
```


List connected agents with versions

```
/var/ossec/bin/agent_upgrade -l
```

Example output

```
ID    Name                                Version
001   PC1                               Wazuh v4.7.2
002   PC2                               Wazuh v4.7.2
003   PC3                          Wazuh v4.7.2
004   PC4                                 Wazuh v4.7.2
```

Execute remote agent update using ID as parameter (ex. ID 002)


```
/var/ossec/bin/agent_upgrade -a 002
```

Agent is automatically restarted upon upgrade, check it's version when it's back


```
/var/ossec/bin/agent_control -i 002
```

If remote way not working, update locally using following guide: https://documentation.wazuh.com/current/upgrade-guide/wazuh-agent/linux.html

!!Remove agent from WAZUH host

On host pc run


```
dock ps

docker exec -it single-node-wazuh.manager-1 bash

 /var/ossec/bin/manage_agents -l
```

To delete agent with specific ID number (example ID: 099)

```
/var/ossec/bin/manage_agents -r 099
```


!!Tips

!!Block non-existing user ssh access for 180 sec (rule 5710)

wazuh GUI/Management/Configuration/Edit Configuration

Search for Active-response ''inside the configuration frame''

Add:

to look like this (remove arrows before  &lt;!-- and after   --&gt;):


```

  &lt;active-response&gt;
  &lt;command&gt;firewall-drop&lt;/command&gt;
  &lt;location&gt;local&lt;/location&gt;
  &lt;rules_id&gt;5710&lt;/rules_id&gt;
  &lt;timeout&gt;180&lt;/timeout&gt;
    active-response options here
  &lt;/active-response&gt;

```

''Save ''and ''restart ''in the GUI

!!Turn on vulnerability-detector:

wazuh GUI/Management/Configuration/Edit Configuration

Search for vulnerability-detector ''inside the configuration frame'' and change it to ''yes'' to be like shown below

```
 &lt;vulnerability-detector&gt;
    &lt;enabled&gt;yes&lt;/enabled&gt;
    &lt;interval&gt;5m&lt;/interval&gt;
    &lt;min_full_scan_interval&gt;6h&lt;/min_full_scan_interval&gt;
    &lt;run_on_start&gt;yes&lt;/run_on_start&gt;
```

''Save ''and ''restart ''in the GUI

Current status can be seen in wazuh GUI/Management/Configuration/ ''Vulnerability detector status'' (enabled/disabled)


Restart wazuh agent on each client:

Linux:


```
sudo systemctl restart wazuh-agent
```


Windows (powershell admin)


```
restart-service -name wazuh
```

!!Real time file monitoring on windows client

See separate manual:
[[wazuh linux file monitor integrity check in realtime using auditdv2]]


Short in topic explanation

Edit agent configuration file on windows client (example of ''real-time'' monitoring'' d:\downloads'' folder)

Run as ''administrator''


```
notepad "C:\Program Files (x86)\ossec-agent\ossec.conf"
```

Or in linux


```
sudo nano /var/ossec/etc/ossec.conf
```


Search for ''syscheck''

Add under   ''&lt;!-- Default files to be monitored. --&gt;''


```
&lt;directories realtime="yes" report_changes="yes" check_all="yes"&gt;D:\Downloads&lt;/directories&gt;
```

Save and restart the agent

Run as administrator in PowerShell 


```
restart-service -name wazuh
```

Or in linux


```
sudo systemctl restart wazuh-agent
```


Then go to wazuh GUI/agent/integrity/events and you will see the changes

!!Password change (docker single node version) example for 4.7.3 see source site for updated instructions

source: https://documentation.wazuh.com/current/deployment-options/docker/wazuh-container.html#change-pwd-existing-usr

Note: only admin user's password should be changed.

enter wazuh directory and then single node directory and run all following commands from there

```
cd wazuh-docker/single-node
```

Stop docker and generate hash for a ''new'' password:


```
docker-compose down

docker run --rm -ti wazuh/wazuh-indexer:4.7.3 bash /usr/share/wazuh-indexer/plugins/opensearch-security/tools/hash.sh
```

Edit configuration file replacing existing hash with the new one:

sudo nano 

```
config/wazuh_indexer/internal_users.yml
```

Replace the hash:

```
...
admin:
  hash: "$2y$12$K/SpwjtB.wOHJ/Nc6GVRDuc1h0rM1DfvziFRNPtk27P.c4yDr9njO"
  reserved: true
  backend_roles:
  - "admin"
  description: "Demo admin user"

...
```

Edit docker-compose.yml

```
sudo nano docker-compose.yml
```

Change  INDEXER_PASSWORD= in ''two places'' in the file:


```
...
services:
  wazuh.manager:
    ...
    environment:
      - INDEXER_URL=https://wazuh.indexer:9200
      - INDEXER_USERNAME=admin
      - INDEXER_PASSWORD=SecretPassword
      - FILEBEAT_SSL_VERIFICATION_MODE=full
      - SSL_CERTIFICATE_AUTHORITIES=/etc/ssl/root-ca.pem
      - SSL_CERTIFICATE=/etc/ssl/filebeat.pem
      - SSL_KEY=/etc/ssl/filebeat.key
      - API_USERNAME=wazuh-wui
      - API_PASSWORD=MyS3cr37P450r.*-
  ...
  wazuh.dashboard:
    ...
    environment:
      - INDEXER_USERNAME=admin
      - INDEXER_PASSWORD=SecretPassword
      - WAZUH_API_URL=https://wazuh.manager
      - DASHBOARD_USERNAME=kibanaserver
      - DASHBOARD_PASSWORD=kibanaserver
      - API_USERNAME=wazuh-wui
      - API_PASSWORD=MyS3cr37P450r.*-
  ...
```

Start the deployment stack.



```
docker-compose up -d
```
Run docker ps and note the name of the first Wazuh indexer container. For example, single-node-wazuh.indexer-1, or multi-node-wazuh1.indexer-1.



Run docker exec -it &lt;WAZUH_INDEXER_CONTAINER_NAME&gt; bash to enter the container. For example:



```
docker exec -it single-node-wazuh.indexer-1 bash
```

Set the following variables:

```
export INSTALLATION_DIR=/usr/share/wazuh-indexer
CACERT=$INSTALLATION_DIR/certs/root-ca.pem
KEY=$INSTALLATION_DIR/certs/admin-key.pem
CERT=$INSTALLATION_DIR/certs/admin.pem
export JAVA_HOME=/usr/share/wazuh-indexer/jdk
```

Wait for the Wazuh indexer to initialize properly. The waiting time can vary from two to five minutes. It depends on the size of the cluster, the assigned resources, and the speed of the network. Then, run the securityadmin.sh script to apply all changes.

Single-node cluster

```
bash /usr/share/wazuh-indexer/plugins/opensearch-security/tools/securityadmin.sh -cd /usr/share/wazuh-indexer/opensearch-security/ -nhnv -cacert  $CACERT -cert $CERT -key $KEY -p 9200 -icl
```

Exit the Wazuh indexer container and login with the new credentials on the Wazuh dashboard.

!!Troubleshooting

If agent doesn't start

Getting error in


```
 journalctl -xeu wazuh-agent.service
```



```
Invalid server address found: 'MANAGER_IP'
```



Enter correct ip


```
nano /var/ossec/etc/ossec.conf
```


Find MANAGER_IP and replace it with the correct one

Restart agent service


```
sudo systemctl daemon-reload
sudo systemctl enable wazuh-agent
sudo systemctl start wazuh-agent
```
</pre>
</div>
<div tags="" title="wazuh time zone change">
<pre>/app/management/opensearch-dashboards/settings

on the left top of the gui press 3 horisontal line button/Stack management/advance settings

Look for Time Zone

Source: https://groups.google.com/g/wazuh/c/5VIx1zy4a3s
</pre>
</div>
<div tags="" title="wazuh troubleshooting">
<pre>source: https://documentation.wazuh.com/current/user-manual/wazuh-dashboard/troubleshooting.html

run in wazuh manager shell


```
filebeat test output
```

If there is authorization error, change content of ''/etc/filebeat/filebeat.yml'' to see if password is correct

If not update password as written in separate manual</pre>
</div>
<div tags="" title="wazuh troubleshooting file monitoring">
<pre>Source:
https://documentation.wazuh.com/current/user-manual/capabilities/file-integrity/advanced-settings.html

```
apt-get install auditd
apt-get install audispd-plugins
systemctl restart auditd
```

Edit the Wazuh agent /var/ossec/etc/ossec.conf configuration file and add the configuration below:


```
&lt;syscheck&gt;
   &lt;directories check_all="yes" whodata="yes"&gt;/etc&lt;/directories&gt;
&lt;/syscheck&gt;
```


```
systemctl restart wazuh-agent
auditctl -l | grep wazuh_fim

```

Output if working


```
auditctl -w /etc -p wa -k wazuh_fim
```



Source: https://www.reddit.com/r/Wazuh/comments/114dxk5/fim_just_dont_work/

When we enable ''report_changes="yes"'', the agent saves a snapshot of every file in its folder. For instance, this file:

C:\Program Files\Git\bin\git.exe

It's copied into:

C:\Program Files (x86)\ossec-agent\queue\diff\local\c\program files\git\bin\git.exe\last-entry.gz

So, the snapshot path is larger than the original. The limit is 260 bytes on Windows.

Regarding the file size warning, the agent has a one-gigabyte limit for monitored files. You can extend it up to 3.99 GiB by adding this line to local_internal_options.conf:

syscheck.file_max_size=4095
Then restart the agent.

!Advanced data monitoring:

https://documentation.wazuh.com/current/user-manual/capabilities/file-integrity/advanced-settings.html#who-data-monitoring-on-linux

https://groups.google.com/g/wazuh/c/_IlLNlaN6YY</pre>
</div>
<div tags="" title="wazuh windows startup monitoring">
<pre>On windows client 

powershell as administrator


```
notepad "C:\Program Files (x86)\ossec-agent\ossec.conf"
```


add


```
&lt;directories realtime="yes"&gt;%APPDATA%\Microsoft\Windows\Start Menu\Programs\Startup&lt;/directories&gt;
```


Restart in powershell as administrator


```
restart-service -name wazuh
```

</pre>
</div>
<div tags="" title="Web browser benchmarks">
<pre>http://chromium.github.io/octane/

http://browserbench.org/MotionMark/

http://browserbench.org/JetStream/

https://web.basemark.com/

http://browserbench.org/Speedometer2.0/

http://html5test.com/</pre>
</div>
<div tags="" title="web terminals v2">
<pre>''Wetty'': https://github.com/butlerx/wetty

To run in docker (specify address to be connected from)


```
docker run --rm -p 3000:3000 wettyoss/wetty --ssh-host=&lt;YOUR-IP&gt;
```

Port 3000

Access with http://YourIP:3000/wetty

''web-terminal ''(not updated since 2014): https://github.com/rabchev/web-terminal

''Shellinabox''(not updated since 2016): https://github.com/shellinabox/shellinabox</pre>
</div>
<div created="20210503133829584" modified="20210503143005094" tags="manual" title="webmin web based monitoring and management">
<pre>Download deb:

```
wget https://prdownloads.sourceforge.net/webadmin/webmin_1.974_all.deb
```

Install deb


```
dpkg -i webmin_1.974_all.deb

apt install -f

/etc/init.d/webmin restart
```


Connect on port `10000` via `http`

Source:

https://forum.virtualmin.com/t/solved-webmin-wont-start-after-updates/44796/4

Create certificate (not working):


```
openssl genrsa -des3 -out webmin.key 1024
openssl rsa -in webmin.key -out webmin.pem
openssl req -new -key webmin.key -out webmin.csr
openssl x509 -req -days 365 -in webmin.csr -signkey webmin.key -out webmin.crt
cat webmin.crt &gt;&gt; webmin.pem
cp webmin.pem /etc/webmin/miniserv.pem
/etc/init.d/webmin restart
```
</pre>
</div>
<div tags="" title="webtop web gui linuxes in docker sandbox using guacamole v7">
<pre>docker 

```
lscr.io/linuxserver/webtop
```

port ''3000''

Default distro: alpine with xfce

usr/pwd ''abc/abc
''
For ubuntu with kde ubuntu-kde tag should be used as following:


```
docker lscr.io/linuxserver/webtop:ubuntu-kde
```

!!Manual installation:


```
 docker run -i -t -d -p 3000:3000 --restart=always lscr.io/linuxserver/webtop:ubuntu-kde
```


Docker.io: https://hub.docker.com/r/linuxserver/webtop/tags

Github: https://github.com/linuxserver/docker-webtop

For default alpine-xfce add to portainer stack:

```
version: "2.1"
services:
  webtop:
    image: lscr.io/linuxserver/webtop
    container_name: webtop
    security_opt:
      - seccomp:unconfined #optional
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - SUBFOLDER=/ #optional
      - KEYBOARD=en-us-qwerty #optional
    volumes:
      - /path/to/data:/config
      - /var/run/docker.sock:/var/run/docker.sock #optional
    ports:
      - 3000:3000
    devices:
#      - /dev/dri:/dev/dri #optional
    shm_size: "1gb" #optional
    restart: unless-stopped
```

!!Or in terminal:

```
docker run -d \
  --name=webtop \
  --security-opt seccomp=unconfined `#optional` \
  -e PUID=1000 \
  -e PGID=1000 \
  -e TZ=Europe/London \
  -e SUBFOLDER=/ `#optional` \
  -e KEYBOARD=en-us-qwerty `#optional` \
  -p 3000:3000 \
  -v /path/to/data:/config \
  -v /var/run/docker.sock:/var/run/docker.sock `#optional` \
  --device /dev/dri:/dev/dri `#optional` \
  --shm-size="1gb" `#optional` \
  --restart unless-stopped \
  lscr.io/linuxserver/webtop
```

!!__''Note:''__ ''dri ''can be problematic, better to remove:

```
  --device /dev/dri:/dev/dri `#optional` \
```


!!If you want to use host user and password:

For correct ''PUID'' anf ''PGID'' on the host machine run (ex. root user):


```
id root
```


add program:

```
sudo apk add
```

Alpine manual: https://wiki.alpinelinux.org/wiki/Package_management

Youtube review: https://www.youtube.com/watch?v=v3TyDSpW6bw

Requirements:

alpine-xfce (default): 1GB Disk; 800MB RAM
alpine-kde: 2GB Disk; 800MB RAM

!! __''Note:''__ different versions of webtop are not working together at the same time (using same volumes) - tuning needed</pre>
</div>
<div tags="" title="wget opera windows version">
<pre>```
wget https://download3.operacdn.com/pub/opera/desktop/104.0.4944.36/win/Opera_104.0.4944.36_Setup_x64.exe
```
</pre>
</div>
<div tags="" title="whatsapp link to chat (api and web)">
<pre>!!API (whatsapp app)
https://api.whatsapp.com/send?phone=972502132700&amp;text=%D7%A9%D7%9C%D7%95%D7%9D%20%D7%94%D7%92%D7%A2%D7%AA%D7%99%20%D7%9E%D7%94%D7%90%D7%AA%D7%A8%20%D7%91%D7%9E%D7%A8%D7%95%D7%9E%D7%99%D7%95%20%D7%A2%D7%91%D7%95%D7%93%D7%95%D7%AA%20%D7%91%D7%92%D7%95%D7%91%D7%94%2C%20%D7%90%D7%A9%D7%9E%D7%97%20%D7%9C%D7%A7%D7%91%D7%9C%20%D7%9E%D7%99%D7%93%D7%A2%20%D7%A2%D7%9C%20%D7%94%D7%A9%D7%99%D7%A8%D7%95%D7%AA%D7%99%D7%9D%20%D7%A9%D7%9C%D7%9B%D7%9D.

!!Web

https://web.whatsapp.com/send/?phone=972502132700&amp;text=%D7%A9%D7%9C%D7%95%D7%9D+%D7%94%D7%92%D7%A2%D7%AA%D7%99+%D7%9E%D7%94%D7%90%D7%AA%D7%A8+%D7%91%D7%9E%D7%A8%D7%95%D7%9E%D7%99%D7%95+%D7%A2%D7%91%D7%95%D7%93%D7%95%D7%AA+%D7%91%D7%92%D7%95%D7%91%D7%94%2C+%D7%90%D7%A9%D7%9E%D7%97+%D7%9C%D7%A7%D7%91%D7%9C+%D7%9E%D7%99%D7%93%D7%A2+%D7%A2%D7%9C+%D7%94%D7%A9%D7%99%D7%A8%D7%95%D7%AA%D7%99%D7%9D+%D7%A9%D7%9C%D7%9B%D7%9D.

</pre>
</div>
<div tags="" title="whosinmylan watchyourlan alternative v2">
<pre>Home site: https://github.com/1RandomDev/whosinmylan/tree/master

Port: ''8484''

Allows mapping (naming mac addresses on local network)nig'' ignoring IP addresses for identification''
Minimal configuration

''CSV export/import''

!!Installation in docker

In portainer add new container

Name whosinmylan

Image: ghcr.io/1randomdev/whosinmylan:latest

Network: ''Host''

Environments:

INTERFACE: wlp7s0 (get actual network interface with ifconfig)

WEBUI_PASSWORD SetYourPassword

WEBUI_PORT: 8484

Volumes - ''bind ''(to save all data: data.db):

/home/sharicov/.data /data

!!Example ''docker-compose.yml''

```
version: "3.4"

services:
  whosinmylan:
    container_name: whosinmylan
    image: ghcr.io/1randomdev/whosinmylan:latest
    network_mode: host
    volumes:
      - ./data:/data
    environment:
      - TZ=&lt;timezone&gt;
      - INTERFACE=eth0
      - SCAN_INTERVAL=60
      - WEBUI_URL=https://whosinmylan.myserver.de
      - WEBUI_PORT=8484
      - WEBUI_PASSWORD=&lt;my_password&gt;
      - WEBUI_JWT_KEY=&lt;long_random_string&gt;
      - GOTIFY_URL=https://gotify.myserver.de
      - GOTIFY_TOKEN=&lt;gotify_token&gt;
      - GOTIFY_PRIORITY=10
    restart: unless-stopped
```

Source: https://github.com/1RandomDev/whosinmylan/blob/master/docker-compose.yml

https://www.reddit.com/r/selfhosted/comments/wwhijk/watchyourlanv06/</pre>
</div>
<div tags="" title="wifi speed test android analyzer v1">
<pre>Description: https://rsload.net/mobile/android/39736-speed-test-wifi-analyzer.html


[img width=1164 class="tc-image" [https://rsload.net/images6/Speed%20Test%20WiFi%20Analyzer.jpg]]

</pre>
</div>
<div tags="" title="Window server core add explorer device manager and other">
<pre>In powershell run(run again if getting errors):


```
Add-WindowsCapability -Online -Name ServerCore.AppCompatibility~~~~0.0.1.0
```


Operating system components that are available as part of the Server Core App Compatibility FOD include:


```
Microsoft Management Console (mmc.exe)

Event Viewer (Eventvwr.msc)

Performance Monitor (PerfMon.exe)

Resource Monitor (Resmon.exe)

Device Manager (Devmgmt.msc)

File Explorer (Explorer.exe)

Windows PowerShell (Powershell_ISE.exe)

Disk Management (Diskmgmt.msc)

Failover Cluster Manager (CluAdmin.msc)
```

!!Device manager: 


```
devmgmt.msc
```


!!Wireless: 


```
Get-WindowsFeature *Wireless*

Install-WindowsFeature -Name Wireless-Networking

```

https://woshub.com/enable-wireless-wi-fi-windows-server/

!!Audio: 

Enter: 


```
Services/Windows Audio/Auto/Start
```


https://www.vultr.com/docs/enable-windows-audio-on-a-windows-server-instance/



!!Windows Admin center for web management (''services'', ''features''):

Download: https://docs.microsoft.com/en-us/windows-server/manage/windows-admin-center/understand/windows-admin-center

For offline installation get: Windows Server Languages and Optional Features ISO

Source:
https://github.com/MicrosoftDocs/windowsserverdocs/blob/main/WindowsServerDocs/get-started/server-core-app-compatibility-feature-on-demand.md</pre>
</div>
<div tags="" title="Windows 10 interface improvement add blur v3">
<pre>Menus blur: https://github.com/ALTaleX531/TranslucentFlyouts

Start menu blur (TranslucentTB) Microsoft store: https://apps.microsoft.com/detail/9PF4KZ2VN4W9?hl=en-US&amp;gl=US

Or direct: https://github.com/TranslucentTB/TranslucentTB

Portable TranslucentTB only works in ''windows 11'' 

Use alt app installer on enterprise windows without Microsoft store: https://github.com/m-jishnu/alt-app-installer/releases

should be extracted into permanent folder and should be started twice if crashes: https://github.com/TranslucentTB/TranslucentTB/issues/958</pre>
</div>
<div tags="" title="Windows 10 low RAM memory script win10debloat.ps1 v2">
<pre>```
iwr -useb https://git.io/JJ8R4 | iex
```
OR

```
iex ((New-Object System.Net.WebClient).DownloadString('https://git.io/JJ8R4'))
```

Sources:

https://github.com/ChrisTitusTech/win10script

https://christitus.com/debloat-windows-10-2020/

https://www.reddit.com/r/Windows10/comments/o6v95o/the_lowest_ram_consumption_record_ive_ever/

https://www.youtube.com/watch?v=V27McA7ch6w

Or run O&amp;O shutup with recommended settings:

https://www.oo-software.com/en/shutup10?msclkid=7ad21ee5b8a411ecb076ee19eb36e351</pre>
</div>
<div tags="" title="windows 11 fix ping not working between windows machines">
<pre>Win+I settings/network/ethernet(or wifi)/private network/configure firewal/yes/Private network/turn off (on all windows PCs)</pre>
</div>
<div tags="" title="Windows 11 link aggregation in PowerShell">
<pre>how to do NIC Teaming on windows 11?
NIC Teaming, also known as Load Balancing and Failover (LBFO), isn't officially supported in Windows 11. However, you can still set it up using PowerShell. Here's a step-by-step guide:

Check NIC Compatibility:

Open PowerShell as an administrator.

Run the following command to check if your NICs support teaming:

powershell

```
Get-NetAdapterAdvancedProperty -Name "*TeamingMode*" | Select-Object -Property DisplayName, DisplayValue
```

Install Required Features:

Ensure that the necessary features are installed. You can do this by running:

powershell

```
Install-WindowsFeature -Name "RSAT-Network-Load-Balancing"
```

Create a New NIC Team:

Use the following command to create a new NIC team:

powershell

```
New-NetSwitchTeam -Name "MyNICTeam" -TeamMembers "NIC1","NIC2" -TeamingMode SwitchIndependent -LoadBalancingAlgorithm Dynamic
```

Replace "NIC1" and "NIC2" with the names of your network adapters.

Verify NIC Team Configuration:

Check the status of your NIC team with:

powershell

```
Get-NetSwitchTeam
```

Configure NIC Team Properties:

You can further configure the properties of your NIC team as needed.</pre>
</div>
<div tags="" title="windows 11 live subtitles captions">
<pre>''Press Windows logo key  + Ctrl + L''


More info: 
https://support.microsoft.com/en-us/windows/use-live-captions-to-better-understand-audio-b52da59c-14b8-4031-aeeb-f6a47e6055df</pre>
</div>
<div tags="" title="windows center any window multi monitor">
<pre>Winlister: https://www.nirsoft.net/utils/winlister.html

Right click running app, press center window</pre>
</div>
<div tags="" title="windows cursor shadow and other effects">
<pre>Run


```
SystemPropertiesPerformance
```


Source: https://www.elevenforum.com/t/enable-or-disable-mouse-pointer-shadow-in-windows-11.8474/</pre>
</div>
<div tags="" title="windows datacenter server 2022 tips">
<pre>Install datacenter desktop edition for full experience (wifi etc).

!!i226-v drivers 

Device manager/update driver/list/network/intel (not intel corp) i226-v /choose ''-LM'' option

!!Enable Wifi
Install wireless ''feature'' and enable wireless service


```
Install-WindowsFeature -Name WirelessNetworking

net start WlanSvc
```

Source: https://learn.microsoft.com/en-us/answers/questions/822600/windows-server-2022-wifi-is-not-working

!!Remote Desktop

Roles/Remote Desktop Services/RDSH


!!AMD Chipset driver download (select the latest)

https://support.hpe.com/connect/s/softwaredetails?language=en_US&amp;softwareId=MTX_0f091500e44a4255ad3ffb28d5


!!To enable disk graph in task manager
Run in powershell ''diskperf -y'' (creates additional load on filing system and overall performance. Better use resource monitor in performance tab. (''diskperf -n'' to disable and restart task manager).</pre>
</div>
<div tags="" title="Windows drivers search on MS site">
<pre>https://www.catalog.update.microsoft.com/Search.aspx?q=Realtek%208852BE%20</pre>
</div>
<div tags="" title="windows eth port bonding aggregating virtual switch v3">
<pre>!!To create windows based router

Example with 4 ports (eth0-eth3)

!!!1. Let's make eth3 to be WAN port 

Just connect cable from the router/modem to it and rename it WAN for convenience.

!!!2. Bond other 3 ports as LAN:

In powershell (as admin)

```
New-NetSwitchTeam -Name "LAN" -TeamMembers "Ethernet","Ethernet 2","Ethernet 3"
```

!!!To add additional ethernet interface


```
Add-NetSwitchTeamMember -Team "LAN" -Name "2.5_2_Switch"
```
!!!To remove network switch


```
 Remove-NetSwitchTeam -name "LAN"
```


!!!3. Share internet from WAN to LAN

Right click on WAN port/share tab/choose LAN

!!!!4. Run dhcp server on windows start 

tftpd can be used https://pjo2.github.io/tftpd64/
 
In tftpd DHCP settings:

1. Set IP range from ''192.168.137.2'' and default router as ''192.168.137.1''

2. Bind DHCP to this address: ''192.168.137.1''

Source: 

https://linustechtips.com/topic/1003888-nic-teaming-windows-10-works/</pre>
</div>
<div tags="" title="Windows firewalls">
<pre>FAB Firewall app blocker - simple firewall 2022

https://www.sordum.org/downloads/?firewall-app-blocker

Fort Firewall - interactive Realtime on github actual in 2024

https://github.com/tnodir/fort</pre>
</div>
<div tags="" title="Windows games in Linux - Bottle">
<pre>https://usebottles.com/
Like wine bottles</pre>
</div>
<div tags="" title="windows in docker v4">
<pre>Source windows intel/amd: https://github.com/dockur/windows/pkgs/container/windows

Source windows arm: https://github.com/dockur/windows-arm/

Video: https://www.youtube.com/watch?v=xhGYobuG508

''Default port: 8006''

create folder and docker-compose.yml

```
mkdir windows-docker

cd windows-docker

nano docker-compose.yml
```
Add 


```
version: "3"
services:
  windows:
    image: dockurr/windows
    container_name: windows
    devices:
      - /dev/kvm
    cap_add:
      - NET_ADMIN
    ports:
      - 8006:8006
      - 3389:3389/tcp
      - 3389:3389/udp
    stop_grace_period: 2m
    restart: on-failure
```

Start docker:


```
docker run -it --rm --name windows -p 8006:8006 --device=/dev/kvm --cap-add NET_ADMIN --stop-timeout 120 dockurr/windows
```

connect port 8006

http://YourIp:8006

By default, Windows 11 will be installed. But you can add the VERSION environment variable to your compose file, in order to specify an alternative Windows version to be downloaded:

!!Docker run windows 10 example:



```
docker run -e VERSION=win10 -it --rm --name windows -p 8006:8006 --device=/dev/kvm --cap-ad
d NET_ADMIN --stop-timeout 120 dockurr/windows
```

!!Custom iso boot example:

create /''home/sharicov/windows-docker/iso'' folder and add iso there named ''custom.iso''

Boot from it

```
docker run -v /home/sharicov/windows-docker/iso:/storage -it --rm --name windows -p 8006:8006 --device=/dev/kvm --cap-add NET_ADMIN --stop-timeout 120 dockurr/windows
```



!!Other useful info from source:

```
environment: VERSION: "win11"
```

Value	Description	Source	Transfer	Size
win11	Windows 11 Pro	Microsoft	Fast	6.4 GB
win10	Windows 10 Pro	Microsoft	Fast	5.8 GB
ltsc10	Windows 10 LTSC	Microsoft	Fast	4.6 GB
win81	Windows 8.1 Pro	Microsoft	Fast	4.2 GB
win7	Windows 7 SP1	Bob Pony	Medium	3.0 GB
vista	Windows Vista SP2	Bob Pony	Medium	3.6 GB
winxp	Windows XP SP3	Bob Pony	Medium	0.6 GB
2022	Windows Server 2022	Microsoft	Fast	4.7 GB
2019	Windows Server 2019	Microsoft	Fast	5.3 GB
2016	Windows Server 2016	Microsoft	Fast	6.5 GB
2012	Windows Server 2012 R2	Microsoft	Fast	4.3 GB
2008	Windows Server 2008 R2	Microsoft	Fast	3.0 GB
core11	Tiny 11 Core	Archive.org	Slow	2.1 GB
tiny11	Tiny 11	Archive.org	Slow	3.8 GB
tiny10	Tiny 10	Archive.org	Slow	3.6 GB
To install ARM64 versions of Windows use dockur/windows-arm.

How do I increase the amount of CPU or RAM?
By default, 2 CPU cores and 4 GB of RAM are allocated to the container, as those are the minimum requirements of Windows 11.

To increase this, add the following environment variables:

environment:
  RAM_SIZE: "8G"
  CPU_CORES: "4"
How do I change the size of the disk?
To expand the default size of 64 GB, add the DISK_SIZE setting to your compose file and set it to your preferred capacity:

environment:
  DISK_SIZE: "256G"
This can also be used to resize the existing disk to a larger capacity without any data loss.

How do I change the storage location?
To change the storage location, include the following bind mount in your compose file:

volumes:
  - /var/win:/storage
Replace the example path /var/win with the desired storage folder.

How do I share files with the host?
Open File Explorer and click on the Network section, you will see a computer called host.lan, double-click it and it will show a folder called Data.

Inside this folder you can access any files that are placed in /storage/shared (see above) on the host.

How do I install a custom image?
In order to download a custom ISO image, start a clean container with the URL of the ISO specified in the VERSION environment variable:

environment:
  VERSION: "https://example.com/win.iso"
Alternatively, you can also rename a local file to custom.iso and place it in an empty /storage folder to skip the download.

How do I perform a manual installation?
It's best to use the automatic installation, as it optimizes various settings for use with this container.

However, if you insist on performing the installation manually, start a clean container with the following environment variable:

environment:
  MANUAL: "Y"
Then follow these steps:

Start the container and connect to port 8006 of the container in your web browser. After the download is finished, you will see the Windows installation screen.

Start the installation by clicking Install now. On the next screen, press 'OK' when prompted to Load driver and select the VirtIO SCSI driver from the list that matches your Windows version. So for Windows 11, select D:\amd64\w11\vioscsi.inf and click 'Next'.

Accept the license agreement and select your preferred Windows edition, like Home or Pro.

Choose Custom: Install Windows only (advanced), and click Load driver on the next screen. Select 'Browse' and navigate to the D:\NetKVM\w11\amd64 folder, and click 'OK'. Select the VirtIO Ethernet Adapter from the list and click 'Next'.

Select Drive 0 and click 'Next'.

Wait until Windows finishes copying files and completes the installation.

Once you see the desktop, open File Explorer and navigate to the CD-ROM drive (E:). Double-click on virtio-win-gt-x64.msi and proceed to install the VirtIO drivers.

Enjoy your brand new machine, and don't forget to star this repo!

How do I assign an individual IP address to the container?
By default, the container uses bridge networking, which shares the IP address with the host.

If you want to assign an individual IP address to the container, you can create a macvlan network as follows:

docker network create -d macvlan \
    --subnet=192.168.0.0/24 \
    --gateway=192.168.0.1 \
    --ip-range=192.168.0.100/28 \
    -o parent=eth0 vlan
Be sure to modify these values to match your local subnet.

Once you have created the network, change your compose file to look as follows:

services:
  windows:
    container_name: windows
    ..&lt;snip&gt;..
    networks:
      vlan:
        ipv4_address: 192.168.0.100

networks:
  vlan:
    external: true
An added benefit of this approach is that you won't have to perform any port mapping anymore, since all ports will be exposed by default.

Please note that this IP address won't be accessible from the Docker host due to the design of macvlan, which doesn't permit communication between the two. If this is a concern, you need to create a second macvlan as a workaround.

How can Windows acquire an IP address from my router?
After configuring the container for macvlan (see above), it is possible for Windows to become part of your home network by requesting an IP from your router, just like a real PC.

To enable this mode, add the following lines to your compose file:

environment:
  DHCP: "Y"
device_cgroup_rules:
  - 'c *:* rwm'
Please note that in this mode, the container and Windows will each have their own separate IPs. The container will keep the macvlan IP, and Windows will use the DHCP IP.

How do I pass-through a disk?
It is possible to pass-through disk devices directly by adding them to your compose file in this way:

environment:
  DEVICE: "/dev/sda"
  DEVICE2: "/dev/sdb"
devices:
  - /dev/sda
  - /dev/sdb
Use DEVICE if you want it to become your main drive, and use DEVICE2 and higher to add them as secondary drives.

How do I pass-through a USB device?
To pass-through a USB device, first lookup its vendor and product id via the lsusb command, then add them to your compose file like this:

environment:
  ARGUMENTS: "-device usb-host,vendorid=0x1234,productid=0x1234"
devices:
  - /dev/bus/usb
How do I verify if my system supports KVM?
To verify if your system supports KVM, run the following commands:

sudo apt install cpu-checker
sudo kvm-ok
If you receive an error from kvm-ok indicating that KVM acceleration can't be used, check the virtualization settings in the BIOS.

Is this project legal?
Yes, this project contains only open-source code and does not distribute any copyrighted material. Any product keys found in the code are just generic placeholders provided by Microsoft for trial purposes. So under all applicable laws, this project would be considered legal.</pre>
</div>
<div tags="" title="windows insider iso download official">
<pre>https://www.microsoft.com/en-us/software-download/windowsinsiderpreviewiso</pre>
</div>
<div tags="" title="windows sandbox customization v7">
<pre>!!To install sandbox run (Win+R)

```
optionalfeatures
```

Select ''windows sandbox'' and reboot when prompted

!!To mount d:\downloads folder read/write

create .wsb file with following text:


```
&lt;Configuration&gt;
&lt;VGpu&gt;Default&lt;/VGpu&gt;
&lt;Networking&gt;Default&lt;/Networking&gt;
&lt;MappedFolders&gt;
   &lt;MappedFolder&gt;
     &lt;HostFolder&gt;D:\Downloads&lt;/HostFolder&gt;
     &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;
   &lt;/MappedFolder&gt;
   &lt;MappedFolder&gt;
     &lt;HostFolder&gt;D:\portable&lt;/HostFolder&gt;
     &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;
   &lt;/MappedFolder&gt;
&lt;/MappedFolders&gt;
&lt;LogonCommand&gt;
   &lt;Command&gt;explorer.exe C:\users\WDAGUtilityAccount\Desktop\Downloads&lt;/Command&gt;
&lt;/LogonCommand&gt;
&lt;/Configuration&gt;
```

Double-click created .wsb file.

!!vhdx location

Can be found in resource management/disk usage


```
C:\ProgramData\Microsoft\Windows\Containers\ContainerStorages
```


More examples: https://techcommunity.microsoft.com/t5/itops-talk-blog/customize-windows-sandbox/ba-p/2301354

https://www.itechtics.com/customize-windows-sandbox/</pre>
</div>
<div tags="" title="windows server 2022 ati drivers">
<pre>!Working

Download radeon pro drivers

Extract with 7-zip

From device manager/display adapter/Microsoft basic/updated driver/let me choose from list/have a disk/browse to extracted folder .inf/choose AMD Radeon pro W6800 (equivalent of 6900 xt)

!Alternative - not working 

!!Get windows build version in cmd

```
systeminfo | findstr /B /C:"OS Name" /B /C:"OS Version
```
!!Modify the driver by yourself via editing .inf file 

(Packages\Drivers\Display\WT6A_INF\)

locate the block [Manufacturer] and edit the following string:


```
%ATI% = ATI.Mfg, NTamd64.10.0.1..16299, NTamd64.10.0.1, NTamd64.6.0.1, NTamd64.6.1.1, NTamd64.6.2.1, NTamd64.6.3.1

```

To be (example of build ''20348'')


```
%ATI% = ATI.Mfg, NTamd64.10.0...20348, NTamd64.10.0, NTamd64.6.0.1, NTamd64.6.1.1, NTamd64.6.2.1, NTamd64.6.3.1
```

Please note that I edited "NTamd64.10.0.1" with "NTamd64.10.0". I'm not sure if that's necessary, but I did it just to be sure it wil work.

Also, you should change the name of [ATI.Mfg.NTamd64.10.0.1..16299] block as well, so it should look like this:

[ATI.Mfg.NTamd64.10.0...20348]

Please note, that editing this file will broke driver digital signature, so you'll need to disable driver signature cheks by rebooting into windows recovery with pressed down shift button, choosing Advanced options -&gt; Startup Settings -&gt; Restart -&gt; Press F7 (or via bcdedit - if that suites you (bcdedit /set testsigning off), and install that .inf file via device manager by SELECTING IT DIRECTLY and not by auto-searching for it (Update driver -&gt; Find drivers on this PC -&gt; Choose the driver from the list... -&gt; Install from disk -&gt; Browse)



Source: https://www.reddit.com/r/buildapc/comments/rnrj9f/amd_drivers_installation_error_184_on_windows/?rdt=34915


OR Download radeon pro driver</pre>
</div>
<div created="20210604055941956" modified="20210607100903496" tags="manual" title="Windows Server 2022 settings v1">
<pre>!! Enable audio service in `services.msc`

In Add roles and features add wireless LAN for Bluetooth and WiFi.

!! Disable server manager on start: in server manger: 

Manage/ properties/ do not start

!! To enable disk graph in task manager 

Run in powershell `diskperf -y` (creates additional load on filing system and overall performance.
Better use resource monitor in performance tab. (`diskperf -n` to disable and restart task manager).

!! To disable CTRL-ALT-DEL on boot:
Server manager/ Tools/ Local Security/ Local policies/ Security options/ Interactive logon ctrl/ Enabled

!! Additional settings

Win+X system/ Advanced/ :

Visual Effects tab:
Settings/ Best experience

Advanced tab:
Programs
Change/ disable automatically/ No paging for disk C/ Set

!! To install MS store item 

Go to MS Store site:

https://www.microsoft.com/en-us/p/xodo-pdf/9wzdncrdjxp4?activetab=pivot:overviewtab

Search for app and copy the link address

Paste into:

https://store.rg-adguard.net/

Download `.AppxBundle` or `.Emsixbundle` file.

Install from powershell:

```
Add-AppxPackage -Path  5E8FC25E.XODODOCS_4.5.16.70_neutral___3v3sf0k6w2rec.Emsixbundle
```

!! Fixing OneDrive shell context menu
Uninstall onedrive

Download installer:

https://www.microsoft.com/en-gb/microsoft-365/onedrive/download

Install as admin with `/Allusers` parameter

!! Useful apps:

Xodo

Daily picture

!! Linux subsystem


```
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
```

Download Linux for Windows manually from here:
https://docs.microsoft.com/en-us/windows/wsl/install-manual

Install package


```
Add-AppxPackage -Path .\Ubuntu_2004.2020.424.0_x64.appx
```
</pre>
</div>
<div tags="" title="windows server programs and tips v1">
<pre>Remote system monitoring

qbtorrent

HFS server (file server over http server)

share several disks in one folder

windows eth port bonding virtual switch on multiple ports

HWMonitor

winntsetup (for vhd containers creation)</pre>
</div>
<div tags="" title="Windows shortcuts v1">
<pre>Shift+Win+S snip screenshot
Win+V smart clipboard
Win+P project screen</pre>
</div>
<div tags="" title="Windows startup folder">
<pre>In file explorer enter

```
shell:startup
```
</pre>
</div>
<div tags="" title="windows switch to safe mode">
<pre>!!Best way to us bootice (winntsetup)/BCD/Easy/boot entry/change normal mode to safe mode

!!Batch file (will always boot in safe mode)


```
bcdedit /set {current} safeboot minimal
```
</pre>
</div>
<div tags="" title="WinNTSetup multiboot from WIM fix">
<pre>If crashes with "''Applying System image failed!''" error 
add following to WinNTSetup.ini next to WinNTSetup_x64.exe


```
[WimHost]
RunAsTI=0
```

Source: https://msfn.org/board/topic/149612-winntsetup-v533/page/187/#comment-1254369

!!Download links

https://mega.nz/folder/ObATya7C#oR2t79bT-4MGjKxOAYwkbQ

https://www.mediafire.com/folder/53um6k2nmhvd5/</pre>
</div>
<div tags="" title="Wireless display (Miracast) Windows 10/11 server projection server v7">
<pre>!!Installation
!!!On server side

''Start/Search for Optional Features/Add a feature/Wireless Display/Check/Add
''

Run server

```
Start/connect
```


!!!On client side

''Win+P /Wireless display''

''Note'': GPU and Wi-Fi HW must support Miracast protocol

''Win+K to enable remote control''

!!To check if wireless adapter supports the Graphic protocol


```
netsh wlan show driver
```

!!!Output


```
 Wireless Display Supported: Yes (Graphics Driver: Yes, Wi-Fi Driver: Yes)
```


''Note'': Mouse/keyboard inputs won't work for Android client

!!Troubleshooting topics

https://www.reddit.com/r/Intune/comments/tnx62n/ms_wireless_display_adapters/

https://www.tenforums.com/tutorials/157692-install-uninstall-connect-wireless-display-feature-windows-10-a.html

https://www.leonsitblog.com/2020/01/resolving-wifi-display-connection.html</pre>
</div>
<div tags="" title="Wolcen Lords of Mayhem fix screen resolution">
<pre>1. Make sure firewall is running to block app from accessing internet.

2. Run the game and use MultiMonitorTool from NirSoft to switch the game window to another screen. 

MultiMonitorTool download link: https://www.nirsoft.net/utils/multi_monitor_tool.html

3. Navigate to settings and switch to BORDERLESS screen.

4. If mouse not working, connect gamepad.

5. Using MultiMonitorTool switch the game back to main screen</pre>
</div>
<div tags="" title="Write cache topic WD">
<pre>I was able to enable write cache without using RAID card. The key is, you need to enable ATA command to enable write cache.

hdparm -w -W1 /dev/sdg
/dev/sdg:
setting drive write-caching to 1 (on)
write-caching = 0 (off)

smartctl -s wcache-sct,ata,p /dev/sdg
smartctl 7.2 2020-12-30 r5155 [x86_64-linux-5.15.0-48-generic] (local build)
Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org 12

=== START OF ENABLE/DISABLE COMMANDS SECTION ===
Write cache SCT Feature Control is set to: Controlled by ATA (persistent)

hdparm -W /dev/sdg
/dev/sdg:
write-caching = 0 (off)

hdparm -W1 /dev/sdg
/dev/sdg:
setting drive write-caching to 1 (on)
write-caching = 1 (on)

Source: https://community.wd.com/t/unable-to-activate-write-caching-on-several-drives/17723/4</pre>
</div>
<div bag="default" created="20210415145655128" creator="sharicov" modified="20210416140312173" modifier="sharicov" revision="4" tags="manual" title="Write image to SSD" type="text/vnd.tiddlywiki">
<pre>```
sudo dd if=[ImageFileName] of=/dev/[sdX] bs=1M status=progress
```
[[Disk info]]</pre>
</div>
<div tags="" title="WSL directx">
<pre>https://devblogs.microsoft.com/directx/directx-heart-linux/</pre>
</div>
<div tags="" title="x96 /etc/rc.local v6">
<pre>```
/root/TorrServer-linux-arm64 -d /media/usb &amp;
aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all -D --conf-path=/root/aria2.conf &amp;
python3 -m http.server 7777 -d /root &amp;
/root/filestash/filestash &amp;
/usr/bin/miniflux -c /etc/miniflux.conf &amp;
java -jar /root/JDownloader.jar &amp;
exit 0
```


!!Ports:

```
aria: 7777
filestash: 8334
syncthing: 8384
miniflux: 80
```

!!Configuration files:

aria.conf


```
dir=/media/usb/Downloads
max-overall-upload-limit=100K
disk-cache=200M
#file-allocation=trunc
file-allocation=falloc
seed-time=0
check-integrity=true
realtime-chunk-checksum=true
always-resume=true
auto-file-renaming=false
continue=true
remote-time=true
#daemon
#log=/media/aria2c.log
#log-level=error
bt-exclude-tracker="*"
```

/etc/miniflux.conf


```
# See https://miniflux.app/docs/configuration.html

RUN_MIGRATIONS=1
LISTEN_ADDR=IP_of_the_machine:80
DATABASE_URL=user=miniflux password=miniflux_password dbname=miniflux sslmode=disable
```

/etc/fstab (with mergefs)


```
UUID=ff796518-a44f-4d31-a5c4-02dc05797423  /        ext4     defaults,noatime,errors=remount-ro     0 1
LABEL=BOOT_EMMC      /boot    vfat                    defaults                  0 2
tmpfs                /tmp     tmpfs                   defaults,rw,nosuid,nodev,noexec,relatime           0 0
#/dev/sda1 /media/usb btrfs defaults,noatime 0 0
#/dev/sda1 /media/usb btrfs autodefrag,noatime,nodatacow,space_cache=v2 0 0
#/dev/sda1 /media/usb ext4 defaults,noatime 0 1
PARTUUID="33ee58df-f993-446a-96bd-2fcd2f7830db" /media/usb ext4 defaults,noatime 0 1
#/media/usb/swap   none    swap    sw    0   0
PARTUUID="577520f8-e4c9-4c15-9a9e-0727d576ac01" /media/2TB ext4 defaults,noatime 0 1
#PARTUUID="7f63b221-52e5-4f25-951f-743111666fdf" /media/4TB btrfs defaults,noatime 0 0
/media/2TB:/media/usb /media/x96 mergerfs cache.files=partial,dropcacheonclose=true,category.create=mfs 0 0
#//192.168.1.5/n5105 /media/n5105/ cifs username=sharicov,password=mis.tic.pwd,iocharset=utf8,file_mode=0777,dir_mode=0777,iocharset=utf8
#//192.168.1.69/qbittorrent /media/qbittorrent cifs username=root,password=mis.tic.pwd,iocharset=utf8,file_mode=0777,dir_mode=0777
```

/root/sync.sh


```
#!/bin/sh
echo Backup HPE to Yandex
rclone copy -u --progress HPE:/ Yandex:/Documents/HPE/

echo Yandex to Local backup
rclone copy -u --progress Yandex: /media/usb/Yandex.Disk.Backup/

echo Backup Documents from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Documents mailru:/Documents

echo Backup Tools from Yandex to Mail.ru
rclone copy -u --progress Yandex:/Tools mailru:/Tools

echo Backup Yandex photos to Mail.ru
rclone copy Yandex:/Camera\ Uploads mailru:/Photos/Camera\ Uploads

echo Backup local InstantUpload to Mail.ru
rclone copy /media/usb/InstantUpload/ mailru:/Photos/InstantUpload --max-size 2G

echo Backup Tools to Local Backup
rclone copy -u --progress mailru:/Tools /media/usb/Yandex.Disk.Backup/Tools
```

crontab -e # to run sync.sh every 30 minutes


```
*/30 * * * * sh /root/sync.sh &gt;/dev/null 2&lt;&amp;1
```
</pre>
</div>
<div tags="" title="x96 dockers and ports">
<pre>```
portainer      9000
Immich         2283
ngproxymanager 81
filestash      8123
dufs           5000
wetty          4200
```
</pre>
</div>
<div tags="" title="x96max-plus2 v8">
<pre>Image download link: https://github.com/ophub/amlogic-s9xxx-armbian

to enable 1Gbps ethernet install on eMMC


```
armbian-install
```


if not booting from microSD, reflash with 2.2.4 Amlogic USB Burning Tool using original fw 1005

To install docker(select LAN access during the installation process: press h):


```
armbian-docker
```


to configure armbian (install X server, reconfigure ssh etc.)


```
armbian-install
```

To install additional software:


```
armbian-software
```

Software list here:

https://github.com/ophub/amlogic-s9xxx-armbian/blob/main/documents/armbian_software.md


!!Enable LED screen

Prepare config file (ex. x96 max plus ID 12):

```
cp /usr/share/openvfd/conf/x96maxplus.conf /usr/share/openvfd/conf/diy.conf
```

Enable LED screen once:

```
armbian-openvfd 99
```

!!If successful enable LED screen on start:

```
sed -i 's|^#*openvfd_enable=.*|openvfd_enable="yes"|g' /etc/custom_service/start_service.sh

sed -i 's|^#*openvfd_boxid=.*|openvfd_boxid="12"|g' /etc/custom_service/start_service.sh
```

Source: https://github.com/ophub/amlogic-s9xxx-armbian/blob/main/build-armbian/documents/led_screen_display_control.md</pre>
</div>
<div tags="" title="xenia fix forza horizon xbox 360 emulator crash v5">
<pre>download latest xenia canary (23.09.22 or later). https://github.com/xenia-canary/xenia-canary/releases

Run and close to create config file.

edit xenia-canary.config.toml with notepad

replace 


```
mount_cache = false  
```


with


```
mount_cache = true  
```

!!Optional, to enable all DLCs:


```
license_mask = 1 
```

Apply patches: https://github.com/xenia-canary/game-patches

Reddit discussion: https://www.reddit.com/r/xenia/

Diablo 3 saves fix version (2019): https://www4.zippyshare.com/d/WUl4FCYu/1094/xeniadiablo.rar</pre>
</div>
<div tags="" title="xpra html web server for x11 forwarding x windows - not workingv1">
<pre>!Not working

site: https://github.com/Xpra-org/xpra

html5: https://github.com/Xpra-org/xpra-html5

To install: 


```
apt install xpra
```


Example usage: https://github.com/alidock/alidock/issues/110


```
xpra start --bind-tcp=0.0.0.0:14500 --html=on
```

Bonus (not working):

```
git clone https://github.com/Xpra-org/xpra-html5
```
</pre>
</div>
<div tags="" title="Yazi - terminal file browser Linux/Windows v10">
<pre>Documentation: https://yazi-rs.github.io/docs/image-preview

Recommended windows terminal: https://github.com/microsoft/terminal

!!Windows installation: 
download zip from releases

https://github.com/sxyazi/yazi/releases

!!Linux installation:

Install brew


```
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

```

Add brew to linux path


```
echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' &gt;&gt; ~/.bashrc

eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"

```


Install yazi


```
brew install yazi
```


Optional with extras

```
brew install yazi ffmpeg sevenzip jq poppler fd ripgrep fzf zoxide imagemagick 

brew install --cask font-symbols-only-nerd-font
```


https://github.com/Homebrew/homebrew-core/pkgs/container/core%2Fyazi

!!Alternative for arm, involves compilation


```
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

export PATH="$HOME/.cargo/bin:$PATH"

source ~/.zshrc

cargo --version


git clone https://github.com/sxyazi/yazi.git
cd yazi
cargo build --release --locked

sudo mv target/release/yazi /usr/local/bin/
sudo mv target/release/ya /usr/local/bin/

```

!!Troubleshooting

If build fails run


```
cargo install --path yazi-fm; cargo install --path yazi-cli
```

Alternative install (docker)
</pre>
</div>
<div tags="" title="yunohost avalable and requested apps">
<pre>Available packages: https://yunohost.org/it/apps

Requested self host packages (wishlist):
https://yunohost.org/it/apps_wishlist</pre>
</div>
<div tags="manual" title="yunohost buster lxc tailscale">
<pre>```
apt install gnupg2
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.gpg | apt-key add -
curl -fsSL https://pkgs.tailscale.com/stable/debian/buster.list | tee /etc/apt/sources.list.d/tailscale.list
apt update
apt upgrade
apt install tailscale
tailscale up
```</pre>
</div>
<div tags="" title="yunohost cli commands v2">
<pre>Change admin password 

```
yunohost user update admin -p
```

Show users


```
yunohost user list 
```

</pre>
</div>
<div tags="" title="yunohost in wsl windows in separate wsl instance v5">
<pre>Source: https://yunohost.org/de/install/hardware:wsl

!!Installation of separate Debian using export/import

Open a Windows Terminal

Install a Debian instance: 


```
wsl --install -d Debian
```


!!!Export it : 


```
wsl --export Debian debian.tar
```


!!!Reimport it as YunoHost: 


```
wsl --import YunoHost .\YunoHost debian.tar
```


Log into YunoHost: 


```
wsl -d YunoHost
```

!!Show all working WSL status with version

```
wsl -l -v
```

!!Stop any WSL by name

```
wsl --terminate NAME
```

!!Yunohost installation

then, follow the usual YunoHost installation step with curl | bash method: 


```
curl https://raw.githubusercontent.com/YunoHost/install_script/main/bookworm | bash -d unstable
```

To get WSL ip run:


```
 hostname -I
```

!!Troubleshooting

If getting ''postfix ''installation error 75 run:


```
apt purge postfix
apt install postix
```


Chose ''no configuration''

If there is ''sudo ''remove error, set root password:

```
sudo passwd
```


!!To check status and version of WSL (systemd is only in WSL2)


```
wsl -l -v
```

!!Optional - does nothing (originally to run systemd in a bottle)

!!Install systemd-genie

add repository:


```
sudo -s

wget -O /etc/apt/trusted.gpg.d/wsl-transdebian.gpg https://arkane-systems.github.io/wsl-transdebian/apt/wsl-transdebian.gpg

chmod a+r /etc/apt/trusted.gpg.d/wsl-transdebian.gpg

cat &lt;&lt; EOF &gt; /etc/apt/sources.list.d/wsl-transdebian.list
deb https://arkane-systems.github.io/wsl-transdebian/apt/ $(lsb_release -cs) main
deb-src https://arkane-systems.github.io/wsl-transdebian/apt/ $(lsb_release -cs) main
EOF

apt update

 sudo apt install -y systemd-genie
```</pre>
</div>
<div created="20210416140522745" creator="sharicov" modified="20210417210828529" modifier="sharicov" revision="41" tags="manual" title="yunohost raspberry disk system samba yandex screen rsync ssh v17" type="text/vnd.tiddlywiki">
<pre>!!! Open port in yunohost firewall: 
```
sudo yunohost firewall allow TCP 445 
```
{{USB disk mount (fstab)}}
```
{{SAMBA}}


{{Check NTFS disk in Linux}}
```

{{Free space in Linux}}


 

!!! Restart web gui: 


```
sudo systemctl restart yunohost-api 
```


{{Test disk speed}}

 

{{usb disk uasp protocol}}


!!! Show used capacity per folder: 


```
sudo ncdu / --exclude /media --exclude /dev/ --exclude /proc/ 
```


{{Linux processes and services}}

{{ssh autologin}}

{{aria2 torrent native}}

{{dav2fs mount yandex}}


Rclone installation: 


```
curl https://rclone.org/install.sh | sudo bash 
```


Rclone script(run with sudo for config backup to work) running parameters: 


```
screen -S sync sudo ./sync 
```


{{Script backup}}

{{Screen command}}

{{Rsync automatic on change}}
 

!!! Check disk usage by process: 


```
sudo fuser –mv /media/usbdown/yandex.disk online 
```


Output: 


```
                     USER        PID ACCESS COMMAND 

/media/usbdown/yandex.disk.online: 

                     root     kernel mount /media/usbdown/yandex.disk.online 

                     nextcloud   2609 f.... php7.3 

```

Check process info: 


```
Sudo ps –aef | grep 2609 
```


{{Certificate install (yunohost dyndns)}}

 

{{Log2RAM}}
 

{{Linux Swap setup}}

 

Offline app installation: 

If you are only talking about installing apps without internet connection, you can copy apps you needed to your server with the command git clone repository and then install them with sudo yunohost app install /path/to/the/app. 

 

[[Experimental not working]]


 

[[Show all installed packages in linux (yunohost)]]

 </pre>
</div>
<div bag="default" created="20210416140429809" creator="sharicov" modified="20210419122024314" modifier="sharicov" revision="1" tags="manual" title="yunohost raspberry general v5" type="text/vnd.tiddlywiki">
<pre>Yunohost apps: https://github.com/YunoHost-Apps 

Samba – separate manual 

Aria2 – separate manual 

Emby multimedia server - https://github.com/YunoHost-Apps/emby_ynh 

Custom folders directories on USB: 

Cache (squid) 

InstandUpload (nextcloud photo upload) 

Downloads (aria2c) 

Yandex.Disk.Backup (rclone) 

Movies (emby) 

temp 

Useful apps: 

FreshRSS with FocusReader android client (profile user&amp;password), blue lagune theme for locked feeds menu, access with: https://hostIP/rss/api/greader.php then user and password 

Tiny Tiny RSS (glitchy) – like Feedly (with feedme android integration requres enabing API in preferences). Enable youtube and other plugins in settings. Install videoframes plugin https://github.com/tribut/ttrss-videoframes unzip and copy videoframes folder to /var/www/ttrss/plugins and enable in settings 

Netdata – remote comprehensive monitoring (with cloud option) 

https:\\app.netdata.cloud (login with gmail) 

Add node in web (More; general; manage war room; node) and copy commmand from the site on raspberry: 

sudo /opt/netdata/usr/sbin/netdata-claim.sh -token=XXXXX -url=https://app.netdata.cloud 

Monitorix – local graphical monitoring 

Phpsysinfo – HW status – like CPUz or HWinfo 

Shellinabox – web based SSH terminal (alternative: wetty_ynh https://github.com/YunoHost-Apps/wetty_ynh) 

Transmission – torrent client (change in sudo nano /var/lib/transmission-daemon/.config/transmission-daemon/settings.json  [/etc/transmission-daemon/settings.json]  [/etc/yunohost/apps/transmission/conf/settings.json] watch directory to /media/usbdown/Downloads) 

Lufi/Bozon/Droppy/Jirafeau - paste bin for file sharing simple/users/time limit&amp;PWD (/var/www/jirafeau/lib/config.local.php) 

Jellyfin – emby video server better alternative 

Nextcloud –to upload photos from phone create External Storage named InstantUpload in nextcloud home directory 

Wallabag – getpocket 

Lychee – google photo alternative 

Carnet – nextcloud – best notes with android app 

Talk – nextcloud – skype/whatsapp self hosted alternative 

Pi-hole - blocks ads in the network settings:  https://discourse.pi-hole.net/t/how-do-i-configure-my-devices-to-use-pi-hole-as-their-dns-server/245 enable logs in settings to see the statistics, add external dns and on each computer set dns ip as raspberry local ip. 

Settings to avoid external dns requests on port 53: 

 

Doesn’t work: Pi-hole manual update/install: 

curl -sSL https://install.pi-hole.net | bash 

 

If squid is used from PC client, Pi-hole automatically filters the requests (no dns settings needed on the PC client) 

Squid proxy server https://github.com/YunoHost-Apps/squid3_ynh (port 8095, user/pwd are yunohost users/pwds)  

Config file: /etc/squid/squid.conf   

Default Cache dir:  /var/spool/squid 10000 16 256 (10GB 16 folders 256 subfolders) 

Add: 

cache_dir aufs /media/usbdown/Cache 10000 16 256 

sudo service squid status 

sudo service squid restart 

Check size of used cache: 

sudo du -ch /var/spool/squid 

Squid manual: https://wiki.squid-cache.org/SquidFaq/ConfiguringSquid#What_.27.27cache_dir.27.27_size_should_I_use.3F 

Squid config parameters: http://break-people.ru/cmsmade/index.php?page=translate_squid_reference_tag_auth_param 

Squid logs: 

/var/log/squid/access.log 

/var/log/squid/cache.log 

Redirect – custom link to site from yunohost portal (any site) 

================= 

Zdownloader – jdownloader replacement, command line, not integrated in yunohost https://github.com/sin2000/zdownloader 

Zdownloader settings: folder settings in .ini ; links to be populated in links.txt (txt location in ini) ./start_zd.sh (gdrive, megaup, zippyshare including uploads) 

Install 7zip for automatic extraction: sudo apt install p7z-full 

================== 

Aria2 with chrome extension: 

Open 6800 port: 

sudo yunohost firewall allow TCP 6800 

sudo apt install aria2c* 

screen –S aria aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all 

To exit 

Killall aria2c 

Aria2 extensions: 

https://chrome.google.com/webstore/detail/aria2-for-chrome/mpkodccbngfoacfalldjimigbofkhgjn/related?hl=en 

https://github.com/alexhua/Aria2-for-chrome 

https://www.crx4chrome.com/go.php?p=85196&amp;s=1&amp;l=https://clients2.googleusercontent.com/crx/blobs/QgAAAC6zw0qH2DJtnXe8Z7rUJP2iXC6eC5m5i8lOcrNuICsNqd05Y6AH2arfrw-guUwVKYZbW9loBHnm277d9SUq7v2ECcJ9kpIjfi4jSFeBdhbDAMZSmuXEU8IIL7xZ435lYw2bKdd2CnAqzQ/extension_1_5_0_0.crx 

In browser open extension screen copy camtd.crx extension from: https://github.com/jae-jae/Camtd/releases tp the extension screen – not capturing automatically 

In settings: AriaNG; RPC; enter ip and port (6800) 

Web version: https://github.com/ziahamza/webui-aria2 

htop replacement: bpytop 

Snap installation(Ubuntu, Kubuntu): 

sudo apt install snapd 

sudo snap install bpytop 

Troubleshooting(crash on lack of permissions): 

sudo snap connect bpytop:mount-observe 

sudo snap connect bpytop:network-control 

sudo snap connect bpytop:hardware-observe 

sudo snap connect bpytop:system-observe 

sudo snap connect bpytop:process-control 

sudo snap connect bpytop:physical-memory-observe 

 

 

 

 

Optional: 

Ghost – web hosting like WordPress 

Codimd – shared document creation server https://github.com/YunoHost-Apps/codimd_ynh/blob/master/README.md 

LuckySheet: shared spreadsheet creation server: https://github.com/YunoHost-Apps/luckysheet_ynh 

Diagramsnet: shared diagram creation server: https://github.com/YunoHost-Apps/diagramsnet_ynh/blob/master/README.md 

Pirate.box file sharing https://github.com/labriqueinternet/piratebox_ynh (to clear dns in windows: ipconfig /flushdns  in browser: chrome://net-internals/#dns) - hotspot doesn’t work 

Fallback host backs up to secondary server to start it if primary fails  https://github.com/YunoHost-Apps/fallback_ynh/blob/master/README.md 

H5ai web-based file server, read only https://github.com/YunoHost-Apps/h5ai_ynh/blob/master/README.md with preview manual in previous link and at https://larsjung.de/h5ai/ configuration in /var/www/documents/_h5ai/private/conf/options.json 

To make usb disk viewable vi h5ai run: 

sudo ln -s /media/usbdown/ /var/www/documents/usb 

================ 

Onlyoffice (arm64) in nextcloud add app; Office; Collabora Online - Built-in CODE Server (ARM64) and Collabora online 

If timeout error occures, ssh to yunohost( https://github.com/nextcloud/server/issues/19008 ): 

sudo nano /var/www/nextcloud/lib/private/Installer.php 

Search for 120 (CTRL+W) 

Replace with 3000 to look like this 

$timeout = $this-&gt;isCLI ? 0 : 3000; 

Embeded vesion option should appear in Collabora online settings 

Exit nextcloud maintenance mode: 

sudo -i 

cd /var/www/nextcloud 
sudo -u nextcloud php occ maintenance:mode --off 

Nextcloud logs location: 

Setting -&gt; search for logs (CTRL+F) 

Memory limit change php.ini (nextcloud collabora update error related): 

nano /etc/php/7.3/fpm/php.ini 

Find and replace: 

memory_limit=128M 

With: 

memory_limit=2048M 

Navidrome music server – better use emby (like spotify) https://www.navidrome.org/docs/installation/pre-built-binaries/ 

To change music folder: 

sudo nano /var/lib/navidrome/navidrome.toml 

Modify folder: 

MusicFolder = "/media/usbdown/Music" 

Restart Navidrome daemon: 

sudo systemctl restart navidrome.service 

CLI Nextcloud: 

List installed apps: 

sudo su 

sudo -i 
sudo -u nextcloud php7.3 /var/www/nextcloud/occ -V 

sudo -u nextcloud php7.3 /var/www/nextcloud/occ app:list 

Manual nextcloud occ installations 

 https://docs.nextcloud.com/server/15/admin_manual/configuration_server/occ_command.html 

sudo su 

sudo -i 
sudo -u nextcloud php7.3 /var/www/nextcloud/occ -V 

sudo -u nextcloud php7.3 /var/www/nextcloud/occ app:update richdocumentscode_arm64 

richdocumentscode_arm64 new version available: 6.4.14 

https://github.com/CollaboraOnline/richdocumentscode/issues/74 

https://github.com/nextcloud/richdocuments/issues/1136 

Manual update (working with collabora arm64): 

sudo -u nextcloud php7.3 /var/www/nextcloud/occ app:update richdocumentscode_arm64 

Then go to nextcloud page and click start update 

 

 

Manual tar.gz app installation in nextcloud: 

sudo su 

cp /media/usbdown/Images/RaspberryPi/yunohost/collabora_arm64/richdocumentscode_arm64.tar.gz /var/www/nextcloud/apps/ 

cd /var/www/nextcloud/apps/ 

 

 

https://help.nextcloud.com/t/collabora-integrated-code-server-cannot-start-not-workin-not-reachable-solved/90519 

Nextcloud useful apps: Carnet (notes), Talk (skype like), flow upload (upload big files with resume), extract (right click extract, apt install unrar-free) 

 

OLD ABSOLETE: 

Seafile – nextcloud alternative (no direct disk access, container only) 

Jdownloader https://github.com/YunoHost-Apps/jdownloader_ynh  

Jdownloader Installing guide 

App can be installed by YunoHost admin web-interface or by running following command: 

$ sudo yunohost app install https://github.com/YunoHost-Apps/jdownloader_ynh 

Create account : 

https://my.jdownloader.org/ 

Run JDownloader for Update : 

$ java -jar /opt/jdownloader/JDownloader.jar -norestart 

Connect JDownloader : 

$ java -jar /opt/jdownloader/JDownloader.jar -norestart in cli type y for connect with your mail and password 

Add to /etc/rc.local (before exit 0) 

java -jar /opt/jdownloader/JDownloader.jar -norestart 

Upgrade this package: 

   $ sudo yunohost app upgrade jdownloader -u https://github.com/YunoHost-Apps/jdownloader_ynh 

 

Wifi Hotspot - https://github.com/labriqueinternet/hotspot_ynh (separate manual works without password, DHCP configuration not studied) 

FreshRSS – like Feedly  

Rainloop – email client 

Alltube – download from youtube 

Shaarli – bookmarks, like Getpocket; material theme https://github.com/kalvn/Shaarli-Material extract to /var/www/shaarli/tpl 

Xdownloader https://github.com/YunoHost-Apps/xdownloader_ynh 

Etherpad – google keep (notes) - buggy, old 

Simple-torrent (slow freezes) 

Emby manual newer version – https://emby.media/linux-server.html download for armhf 

Laverna – notes no saves (google keep, evernote) https://github.com/YunoHost-Apps/laverna_ynh 

Office NOT WORKING – install nextcloud wopi app/plugin, in settings, office online add server: https://www.office.com/?flight=unauthrefresh&amp;auth=2 (previous login in www.office.com might be required in the same web browser) 

Piwigo – picture gallery (google photo) confog: https://sharicov.nohost.me/piwigo/admin.php 

Piwigo external disk setup: 

mkdir /home/yunohost.app/piwigo/galleries/usb 

sudo mount --bind /media/usbdown/InstantUpload /home/yunohost.app/piwigo/galleries/usb 

https://sharicov.nohost.me/piwigo/admin.php -&gt; Dashbpard -&gt; Quick Local Synchronization (down the screen) 

 

Nextcloud symlink experimental not working, educational 

sudo ln -s /media/usbdown/Photos/ /home/yunohost.app/nextcloud/data/sharicov/files/InstantUpload 

sudo chown -h nextcloud:nextcloud /home/yunohost.app/nextcloud/data/sharicov/files/InstantUpload 

 

Solution 2 

https://help.nextcloud.com/t/howto-change-move-data-directory-after-installation/17170/1 

This solution is far simpler and less risky in data corruption concerns, but it does NOT fulfil the security recommendations, e.g. mentioned in admin manual 532. So if you just need to move the data directory for storage reasons, not for security reasons, just create a symbolic link from old to new data directory location. For that you only need to be sure, that symbolic links are correctly handled by your webserver. Nginx should handle symlinks correctly by default, for apache the related option needs to be set in your Nextcloud vhost, as already given by the admin manual example: https://docs.nextcloud.com/server/13/admin_manual/installation/source_installation.html#apache-web-server-configuration 749 

  

&lt;Directory /path/to/nextcloud/&gt; 

  Options +FollowSymlinks 

  ... 

&lt;/Directory&gt; 

If so, then do: 

Steps are also given here: Is there a safe and reliable way to move data directory out of web root? 511 

 

1. sudo -u www-data php /path/to/nextcloud/occ maintenance:mode --on 

2. mkdir -p /new/path/to/data 

3. cp -a /path/to/data/. /new/path/to/data 

4. mv /path/to/data /path/to/dataBackup 

5. ln -s /new/path/to/data /path/to/data 

6. chown -h www-data:www-data /path/to/data # To set symlink ownership 

7. chown -R www-data:www-data /new/path/to/data # To set actual data dir ownership 

8. sudo -u www-data php /path/to/nextcloud/occ maintenance:mode --off 

Again, if everything works fine, you could remove /path/to/dataBackup or just keep it as regular backup. 

  

Note: If you want to adjust permissions of your new data folder, you need to chmod -R 777 /new/path/to/data, as chmod does not follow symlinks. 

 

 

Crontab https://forum.rclone.org/t/rclone-scheduling/642/36 

sudo crontab -e 

Run rclone script every 30 min 

*/30 * * * * sh /home/admin/sync &gt;/dev/null 2&lt;&amp;1 

Temp buffer: 

 sudo mkdir /home/yunohost.app/nextcloud/data/sharicov/files/test 

sudo chown -h nextcloud:nextcloud /home/yunohost.app/nextcloud/data/sharicov/files/test 

sudo chmod -R 777 /home/yunohost.app/nextcloud/data/sharicov/files/test 

sudo ls -alp /home/yunohost.app/nextcloud/data/sharicov/files 

sudo reboot </pre>
</div>
<div tags="" title="zfs debian manual">
<pre>https://wiki.debian.org/ZFS</pre>
</div>
<div tags="" title="ZFS SMR sync=disabled for better performance WIP v2">
<pre>```
zpool list
```


!!!Output


```
Name

disk1
disk2
disk3
```

!!Set async

```
zfs set sync=disabled disk3
```

!!Show sync status of the pool


```
zfs get sync disk3
```


This forces all writes to be asynchronous.  This doesn't risk data corruption, but it does risk the last 5 seconds of your data in the case of a power failure which could lead to data loss in some scenarios.  If you happen to be moving data to the array at the time - The sender has been told the data is moved so the source is deleted, but it won't actually get written to the destination for 0-5 seconds. 

You could see significant performance benefit on a busy pool though - particularly one seeing lots of small synchronous writes.

Source: 

https://forums.unraid.net/topic/41333-zfs-plugin-for-unraid/page/51/

https://serverfault.com/questions/796796/why-does-zfs-list-and-zpool-list-report-very-different-sizes-for-my-raidz2-p
</pre>
</div>


</div>


<!--~~ Library modules ~~-->
<div id="libraryModules" style="display:none;">
<script data-tiddler-library="yes" data-tiddler-title="$:/library/sjcl.js" data-tiddler-type="application/javascript" type="text/javascript">"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};
sjcl.cipher.aes=function(a){this.s[0][0][0]||this.O();var b,c,d,e,f=this.s[0][4],g=this.s[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new sjcl.exception.invalid("invalid aes key size");this.b=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255],0===a%b&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[c&
255]]};
sjcl.cipher.aes.prototype={encrypt:function(a){return t(this,a,0)},decrypt:function(a){return t(this,a,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var a=this.s[0],b=this.s[1],c=a[4],d=b[4],e,f,g,h=[],k=[],l,n,m,p;for(e=0;0x100>e;e++)k[(h[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!c[f];f^=l||1,g=k[g]||1)for(m=g^g<<1^g<<2^g<<3^g<<4,m=m>>8^m&255^99,c[f]=m,d[m]=f,n=h[e=h[l=h[f]]],p=0x1010101*n^0x10001*e^0x101*l^0x1010100*f,n=0x101*h[m]^0x1010100*m,e=0;4>e;e++)a[e][f]=n=n<<24^n>>>8,b[e][m]=p=p<<24^p>>>8;for(e=
0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)}};
function t(a,b,c){if(4!==b.length)throw new sjcl.exception.invalid("invalid aes block size");var d=a.b[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,k,l,n=d.length/4-2,m,p=4,r=[0,0,0,0];h=a.s[c];a=h[0];var q=h[1],v=h[2],w=h[3],x=h[4];for(m=0;m<n;m++)h=a[e>>>24]^q[f>>16&255]^v[g>>8&255]^w[b&255]^d[p],k=a[f>>>24]^q[g>>16&255]^v[b>>8&255]^w[e&255]^d[p+1],l=a[g>>>24]^q[b>>16&255]^v[e>>8&255]^w[f&255]^d[p+2],b=a[b>>>24]^q[e>>16&255]^v[f>>8&255]^w[g&255]^d[p+3],p+=4,e=h,f=k,g=l;for(m=
0;4>m;m++)r[c?3&-m:m]=x[e>>>24]<<24^x[f>>16&255]<<16^x[g>>8&255]<<8^x[b&255]^d[p++],h=e,e=f,f=g,g=b,b=h;return r}
sjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray.$(a.slice(b/32),32-(b&31)).slice(1);return void 0===c?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray.$(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===
b?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b=b&31;0<c&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1));return a},partial:function(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+0x10000000000*a},getPartial:function(a){return Math.round(a/0x10000000000)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var c=0,d;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===
c},$:function(a,b,c,d){var e;e=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1));return d},i:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]},byteswapM:function(a){var b,c;for(b=0;b<a.length;++b)c=a[b],a[b]=c>>>24|c>>>8&0xff00|(c&0xff00)<<8|c<<24;return a}};
sjcl.codec.utf8String={fromBits:function(a){var b="",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)0===(d&3)&&(e=a[d/4]),b+=String.fromCharCode(e>>>8>>>8>>>8),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(c&3)&&(b.push(d),d=0);c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};
sjcl.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\s|0x/g,"");d=a.length;a=a+"00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl.bitArray.clamp(c,4*d)}};
sjcl.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(a,b,c){var d=sjcl.codec.base32.BASE,e=sjcl.codec.base32.REMAINING,f="",g=0,h=sjcl.codec.base32.B,k=0,l=sjcl.bitArray.bitLength(a);c&&(h=sjcl.codec.base32.X);for(c=0;f.length*d<l;)f+=h.charAt((k^a[c]>>>g)>>>e),g<d?(k=a[c]<<d-g,g+=e,c++):(k<<=d,g-=d);for(;f.length&7&&!b;)f+="=";return f},toBits:function(a,b){a=a.replace(/\s|=/g,"").toUpperCase();var c=sjcl.codec.base32.BITS,
d=sjcl.codec.base32.BASE,e=sjcl.codec.base32.REMAINING,f=[],g,h=0,k=sjcl.codec.base32.B,l=0,n,m="base32";b&&(k=sjcl.codec.base32.X,m="base32hex");for(g=0;g<a.length;g++){n=k.indexOf(a.charAt(g));if(0>n){if(!b)try{return sjcl.codec.base32hex.toBits(a)}catch(p){}throw new sjcl.exception.invalid("this isn't "+m+"!");}h>e?(h-=e,f.push(l^n>>>h),l=n<<c-h):(h+=d,l^=n<<c-h)}h&56&&f.push(sjcl.bitArray.partial(h&56,l,1));return f}};
sjcl.codec.base32hex={fromBits:function(a,b){return sjcl.codec.base32.fromBits(a,b,1)},toBits:function(a){return sjcl.codec.base32.toBits(a,1)}};
sjcl.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.B,g=0,h=sjcl.bitArray.bitLength(a);c&&(f=f.substr(0,62)+"-_");for(c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c=[],d,e=0,f=sjcl.codec.base64.B,g=0,h;b&&(f=f.substr(0,62)+"-_");for(d=0;d<a.length;d++){h=f.indexOf(a.charAt(d));
if(0>h)throw new sjcl.exception.invalid("this isn't base64!");26<e?(e-=26,c.push(g^h>>>e),g=h<<32-e):(e+=6,g^=h<<32-e)}e&56&&c.push(sjcl.bitArray.partial(e&56,g,1));return c}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.b[0]||this.O();a?(this.F=a.F.slice(0),this.A=a.A.slice(0),this.l=a.l):this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.F=this.Y.slice(0);this.A=[];this.l=0;return this},update:function(a){"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this.A=sjcl.bitArray.concat(this.A,a);b=this.l;a=this.l=b+sjcl.bitArray.bitLength(a);if(0x1fffffffffffff<a)throw new sjcl.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!==typeof Uint32Array){var d=new Uint32Array(c),e=0;for(b=512+b-(512+b&0x1ff);b<=a;b+=512)u(this,d.subarray(16*e,
16*(e+1))),e+=1;c.splice(0,16*e)}else for(b=512+b-(512+b&0x1ff);b<=a;b+=512)u(this,c.splice(0,16));return this},finalize:function(){var a,b=this.A,c=this.F,b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.l/0x100000000));for(b.push(this.l|0);b.length;)u(this,b.splice(0,16));this.reset();return c},Y:[],b:[],O:function(){function a(a){return 0x100000000*(a-Math.floor(a))|0}for(var b=0,c=2,d,e;64>b;c++){e=!0;for(d=2;d*d<=c;d++)if(0===c%d){e=
!1;break}e&&(8>b&&(this.Y[b]=a(Math.pow(c,.5))),this.b[b]=a(Math.pow(c,1/3)),b++)}}};
function u(a,b){var c,d,e,f=a.F,g=a.b,h=f[0],k=f[1],l=f[2],n=f[3],m=f[4],p=f[5],r=f[6],q=f[7];for(c=0;64>c;c++)16>c?d=b[c]:(d=b[c+1&15],e=b[c+14&15],d=b[c&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+b[c&15]+b[c+9&15]|0),d=d+q+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(r^m&(p^r))+g[c],q=r,r=p,p=m,m=n+d|0,n=l,l=k,k=h,h=d+(k&l^n&(k^l))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f[0]=f[0]+h|0;f[1]=f[1]+k|0;f[2]=f[2]+l|0;f[3]=f[3]+n|0;f[4]=f[4]+m|0;f[5]=f[5]+p|0;f[6]=f[6]+r|0;f[7]=
f[7]+q|0}
sjcl.mode.ccm={name:"ccm",G:[],listenProgress:function(a){sjcl.mode.ccm.G.push(a)},unListenProgress:function(a){a=sjcl.mode.ccm.G.indexOf(a);-1<a&&sjcl.mode.ccm.G.splice(a,1)},fa:function(a){var b=sjcl.mode.ccm.G.slice(),c;for(c=0;c<b.length;c+=1)b[c](a)},encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,k=h.bitLength(c)/8,l=h.bitLength(g)/8;e=e||64;d=d||[];if(7>k)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;4>f&&l>>>8*f;f++);f<15-k&&(f=15-k);c=h.clamp(c,
8*(15-f));b=sjcl.mode.ccm.V(a,b,c,d,e,f);g=sjcl.mode.ccm.C(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),k=f.clamp(b,h-e),l=f.bitSlice(b,h-e),h=(h-e)/8;if(7>g)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;4>b&&h>>>8*b;b++);b<15-g&&(b=15-g);c=f.clamp(c,8*(15-b));k=sjcl.mode.ccm.C(a,k,c,l,e,b);a=sjcl.mode.ccm.V(a,k.data,c,d,e,b);if(!f.equal(k.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");
return k.data},na:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,k=h.i;d=[h.partial(8,(b.length?64:0)|d-2<<2|f-1)];d=h.concat(d,c);d[3]|=e;d=a.encrypt(d);if(b.length)for(c=h.bitLength(b)/8,65279>=c?g=[h.partial(16,c)]:0xffffffff>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,b),b=0;b<g.length;b+=4)d=a.encrypt(k(d,g.slice(b,b+4).concat([0,0,0])));return d},V:function(a,b,c,d,e,f){var g=sjcl.bitArray,h=g.i;e/=8;if(e%2||4>e||16<e)throw new sjcl.exception.invalid("ccm: invalid tag length");
if(0xffffffff<d.length||0xffffffff<b.length)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");c=sjcl.mode.ccm.na(a,d,c,e,g.bitLength(b)/8,f);for(d=0;d<b.length;d+=4)c=a.encrypt(h(c,b.slice(d,d+4).concat([0,0,0])));return g.clamp(c,8*e)},C:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.i;var k=b.length,l=h.bitLength(b),n=k/50,m=n;c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!k)return{tag:d,data:[]};for(g=0;g<k;g+=4)g>n&&(sjcl.mode.ccm.fa(g/
k),n+=m),c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,l)}}};
sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid("ocb iv must be 128 bits");var g,h=sjcl.mode.ocb2.S,k=sjcl.bitArray,l=k.i,n=[0,0,0,0];c=h(a.encrypt(c));var m,p=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4)m=b.slice(g,g+4),n=l(n,m),p=p.concat(l(c,a.encrypt(l(c,m)))),c=h(c);m=b.slice(g);b=k.bitLength(m);g=a.encrypt(l(c,[0,0,0,b]));m=k.clamp(l(m.concat([0,0,0]),g),b);n=l(n,l(m.concat([0,0,0]),g));n=a.encrypt(l(n,l(c,h(c))));
d.length&&(n=l(n,f?d:sjcl.mode.ocb2.pmac(a,d)));return p.concat(k.concat(m,k.clamp(n,e)))},decrypt:function(a,b,c,d,e,f){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=sjcl.mode.ocb2.S,h=sjcl.bitArray,k=h.i,l=[0,0,0,0],n=g(a.encrypt(c)),m,p,r=sjcl.bitArray.bitLength(b)-e,q=[];d=d||[];for(c=0;c+4<r/32;c+=4)m=k(n,a.decrypt(k(n,b.slice(c,c+4)))),l=k(l,m),q=q.concat(m),n=g(n);p=r-32*c;m=a.encrypt(k(n,[0,0,0,p]));m=k(m,h.clamp(b.slice(c),p).concat([0,
0,0]));l=k(l,m);l=a.encrypt(k(l,k(n,g(n))));d.length&&(l=k(l,f?d:sjcl.mode.ocb2.pmac(a,d)));if(!h.equal(h.clamp(l,e),h.bitSlice(b,r)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return q.concat(h.clamp(m,p))},pmac:function(a,b){var c,d=sjcl.mode.ocb2.S,e=sjcl.bitArray,f=e.i,g=[0,0,0,0],h=a.encrypt([0,0,0,0]),h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));c=b.slice(c);128>e.bitLength(c)&&(h=f(h,d(h)),c=e.concat(c,[-2147483648,0,0,0]));g=f(g,c);
return a.encrypt(f(d(f(h,d(h))),g))},S:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}};
sjcl.mode.gcm={name:"gcm",encrypt:function(a,b,c,d,e){var f=b.slice(0);b=sjcl.bitArray;d=d||[];a=sjcl.mode.gcm.C(!0,a,f,d,c,e||128);return b.concat(a.data,a.tag)},decrypt:function(a,b,c,d,e){var f=b.slice(0),g=sjcl.bitArray,h=g.bitLength(f);e=e||128;d=d||[];e<=h?(b=g.bitSlice(f,h-e),f=g.bitSlice(f,0,h-e)):(b=f,f=[]);a=sjcl.mode.gcm.C(!1,a,f,d,c,e);if(!g.equal(a.tag,b))throw new sjcl.exception.corrupt("gcm: tag doesn't match");return a.data},ka:function(a,b){var c,d,e,f,g,h=sjcl.bitArray.i;e=[0,0,
0,0];f=b.slice(0);for(c=0;128>c;c++){(d=0!==(a[Math.floor(c/32)]&1<<31-c%32))&&(e=h(e,f));g=0!==(f[3]&1);for(d=3;0<d;d--)f[d]=f[d]>>>1|(f[d-1]&1)<<31;f[0]>>>=1;g&&(f[0]^=-0x1f000000)}return e},j:function(a,b,c){var d,e=c.length;b=b.slice(0);for(d=0;d<e;d+=4)b[0]^=0xffffffff&c[d],b[1]^=0xffffffff&c[d+1],b[2]^=0xffffffff&c[d+2],b[3]^=0xffffffff&c[d+3],b=sjcl.mode.gcm.ka(b,a);return b},C:function(a,b,c,d,e,f){var g,h,k,l,n,m,p,r,q=sjcl.bitArray;m=c.length;p=q.bitLength(c);r=q.bitLength(d);h=q.bitLength(e);
g=b.encrypt([0,0,0,0]);96===h?(e=e.slice(0),e=q.concat(e,[1])):(e=sjcl.mode.gcm.j(g,[0,0,0,0],e),e=sjcl.mode.gcm.j(g,e,[0,0,Math.floor(h/0x100000000),h&0xffffffff]));h=sjcl.mode.gcm.j(g,[0,0,0,0],d);n=e.slice(0);d=h.slice(0);a||(d=sjcl.mode.gcm.j(g,h,c));for(l=0;l<m;l+=4)n[3]++,k=b.encrypt(n),c[l]^=k[0],c[l+1]^=k[1],c[l+2]^=k[2],c[l+3]^=k[3];c=q.clamp(c,p);a&&(d=sjcl.mode.gcm.j(g,h,c));a=[Math.floor(r/0x100000000),r&0xffffffff,Math.floor(p/0x100000000),p&0xffffffff];d=sjcl.mode.gcm.j(g,d,a);k=b.encrypt(e);
d[0]^=k[0];d[1]^=k[1];d[2]^=k[2];d[3]^=k[3];return{tag:q.bitSlice(d,0,f),data:c}}};sjcl.misc.hmac=function(a,b){this.W=b=b||sjcl.hash.sha256;var c=[[],[]],d,e=b.prototype.blockSize/32;this.w=[new b,new b];a.length>e&&(a=b.hash(a));for(d=0;d<e;d++)c[0][d]=a[d]^909522486,c[1][d]=a[d]^1549556828;this.w[0].update(c[0]);this.w[1].update(c[1]);this.R=new b(this.w[0])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){if(this.aa)throw new sjcl.exception.invalid("encrypt on already updated hmac called!");this.update(a);return this.digest(a)};sjcl.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]);this.aa=!1};sjcl.misc.hmac.prototype.update=function(a){this.aa=!0;this.R.update(a)};sjcl.misc.hmac.prototype.digest=function(){var a=this.R.finalize(),a=(new this.W(this.w[1])).update(a).finalize();this.reset();return a};
sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1E4;if(0>d||0>c)throw new sjcl.exception.invalid("invalid params to pbkdf2");"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));"string"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));e=e||sjcl.misc.hmac;a=new e(a);var f,g,h,k,l=[],n=sjcl.bitArray;for(k=1;32*l.length<(d||1);k++){e=f=a.encrypt(n.concat(b,[k]));for(g=1;g<c;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]^=f[h];l=l.concat(e)}d&&(l=n.clamp(l,d));return l};
sjcl.prng=function(a){this.c=[new sjcl.hash.sha256];this.m=[0];this.P=0;this.H={};this.N=0;this.U={};this.Z=this.f=this.o=this.ha=0;this.b=[0,0,0,0,0,0,0,0];this.h=[0,0,0,0];this.L=void 0;this.M=a;this.D=!1;this.K={progress:{},seeded:{}};this.u=this.ga=0;this.I=1;this.J=2;this.ca=0x10000;this.T=[0,48,64,96,128,192,0x100,384,512,768,1024];this.da=3E4;this.ba=80};
sjcl.prng.prototype={randomWords:function(a,b){var c=[],d;d=this.isReady(b);var e;if(d===this.u)throw new sjcl.exception.notReady("generator isn't seeded");if(d&this.J){d=!(d&this.I);e=[];var f=0,g;this.Z=e[0]=(new Date).valueOf()+this.da;for(g=0;16>g;g++)e.push(0x100000000*Math.random()|0);for(g=0;g<this.c.length&&(e=e.concat(this.c[g].finalize()),f+=this.m[g],this.m[g]=0,d||!(this.P&1<<g));g++);this.P>=1<<this.c.length&&(this.c.push(new sjcl.hash.sha256),this.m.push(0));this.f-=f;f>this.o&&(this.o=
f);this.P++;this.b=sjcl.hash.sha256.hash(this.b.concat(e));this.L=new sjcl.cipher.aes(this.b);for(d=0;4>d&&(this.h[d]=this.h[d]+1|0,!this.h[d]);d++);}for(d=0;d<a;d+=4)0===(d+1)%this.ca&&y(this),e=z(this),c.push(e[0],e[1],e[2],e[3]);y(this);return c.slice(0,a)},setDefaultParanoia:function(a,b){if(0===a&&"Setting paranoia=0 will ruin your security; use it only for testing"!==b)throw new sjcl.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=a},addEntropy:function(a,
b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.H[c],h=this.isReady(),k=0;d=this.U[c];void 0===d&&(d=this.U[c]=this.ha++);void 0===g&&(g=this.H[c]=0);this.H[c]=(this.H[c]+1)%this.c.length;switch(typeof a){case "number":void 0===b&&(b=1);this.c[g].update([d,this.N++,1,b,f,1,a|0]);break;case "object":c=Object.prototype.toString.call(a);if("[object Uint32Array]"===c){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(k=1),c=0;c<a.length&&!k;c++)"number"!==typeof a[c]&&
(k=1);if(!k){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e=e>>>1;this.c[g].update([d,this.N++,2,b,f,a.length].concat(a))}break;case "string":void 0===b&&(b=a.length);this.c[g].update([d,this.N++,3,b,f,a.length]);this.c[g].update(a);break;default:k=1}if(k)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[g]+=b;this.f+=b;h===this.u&&(this.isReady()!==this.u&&A("seeded",Math.max(this.o,this.f)),A("progress",this.getProgress()))},
isReady:function(a){a=this.T[void 0!==a?a:this.M];return this.o&&this.o>=a?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=a?this.J|this.u:this.u},getProgress:function(a){a=this.T[a?a:this.M];return this.o>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.D){this.a={loadTimeCollector:B(this,this.ma),mouseCollector:B(this,this.oa),keyboardCollector:B(this,this.la),accelerometerCollector:B(this,this.ea),touchCollector:B(this,this.qa)};if(window.addEventListener)window.addEventListener("load",
this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new sjcl.exception.bug("can't attach event");
this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",
this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(a,b){this.K[a][this.ga++]=b},removeEventListener:function(a,b){var c,d,e=this.K[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},la:function(){C(this,1)},oa:function(a){var b,c;try{b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0}catch(d){c=b=0}0!=b&&0!=c&&this.addEntropy([b,c],2,"mouse");C(this,0)},qa:function(a){a=
a.touches[0]||a.changedTouches[0];this.addEntropy([a.pageX||a.clientX,a.pageY||a.clientY],1,"touch");C(this,0)},ma:function(){C(this,2)},ea:function(a){a=a.accelerationIncludingGravity.x||a.accelerationIncludingGravity.y||a.accelerationIncludingGravity.z;if(window.orientation){var b=window.orientation;"number"===typeof b&&this.addEntropy(b,1,"accelerometer")}a&&this.addEntropy(a,2,"accelerometer");C(this,0)}};
function A(a,b){var c,d=sjcl.random.K[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function C(a,b){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?a.addEntropy(window.performance.now(),b,"loadtime"):a.addEntropy((new Date).valueOf(),b,"loadtime")}function y(a){a.b=z(a).concat(z(a));a.L=new sjcl.cipher.aes(a.b)}function z(a){for(var b=0;4>b&&(a.h[b]=a.h[b]+1|0,!a.h[b]);b++);return a.L.encrypt(a.h)}
function B(a,b){return function(){b.apply(a,arguments)}}sjcl.random=new sjcl.prng(6);
a:try{var D,E,F,G;if(G="undefined"!==typeof module&&module.exports){var H;try{H=require("crypto")}catch(a){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128),D=new Uint32Array((new Uint8Array(D)).buffer),sjcl.random.addEntropy(D,1024,"crypto['randomBytes']");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){F=new Uint32Array(32);if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(F);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(F);
else break a;sjcl.random.addEntropy(F,1024,"crypto['getRandomValues']")}}catch(a){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(a))}
sjcl.json={defaults:{v:1,iter:1E4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json,f=e.g({iv:sjcl.random.randomWords(4,0)},e.defaults),g;e.g(f,c);c=f.adata;"string"===typeof f.salt&&(f.salt=sjcl.codec.base64.toBits(f.salt));"string"===typeof f.iv&&(f.iv=sjcl.codec.base64.toBits(f.iv));if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||"string"===typeof a&&100>=f.iter||64!==f.ts&&96!==f.ts&&128!==f.ts||128!==f.ks&&192!==f.ks&&0x100!==f.ks||2>f.iv.length||
4<f.iv.length)throw new sjcl.exception.invalid("json encrypt: invalid parameters");"string"===typeof a?(g=sjcl.misc.cachedPbkdf2(a,f),a=g.key.slice(0,f.ks/32),f.salt=g.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.publicKey&&(g=a.kem(),f.kemtag=g.tag,a=g.key.slice(0,f.ks/32));"string"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));"string"===typeof c&&(f.adata=c=sjcl.codec.utf8String.toBits(c));g=new sjcl.cipher[f.cipher](a);e.g(d,f);d.key=a;f.ct="ccm"===f.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&
b instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.encrypt(g,b,f.iv,c,f.ts):sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return f},encrypt:function(a,b,c,d){var e=sjcl.json,f=e.ja.apply(e,arguments);return e.encode(f)},ia:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json;b=e.g(e.g(e.g({},e.defaults),b),c,!0);var f,g;f=b.adata;"string"===typeof b.salt&&(b.salt=sjcl.codec.base64.toBits(b.salt));"string"===typeof b.iv&&(b.iv=sjcl.codec.base64.toBits(b.iv));if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||"string"===
typeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&0x100!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)throw new sjcl.exception.invalid("json decrypt: invalid parameters");"string"===typeof a?(g=sjcl.misc.cachedPbkdf2(a,b),a=g.key.slice(0,b.ks/32),b.salt=g.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.secretKey&&(a=a.unkem(sjcl.codec.base64.toBits(b.kemtag)).slice(0,b.ks/32));"string"===typeof f&&(f=sjcl.codec.utf8String.toBits(f));g=new sjcl.cipher[b.cipher](a);f="ccm"===
b.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&b.ct instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.decrypt(g,b.ct,b.iv,b.tag,f,b.ts):sjcl.mode[b.mode].decrypt(g,b.ct,b.iv,f,b.ts);e.g(d,b);d.key=a;return 1===c.raw?f:sjcl.codec.utf8String.fromBits(f)},decrypt:function(a,b,c,d){var e=sjcl.json;return e.ia(a,e.decode(b),c,d)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");c+=d+'"'+
b+'":';d=",";switch(typeof a[b]){case "number":case "boolean":c+=a[b];break;case "string":c+='"'+escape(a[b])+'"';break;case "object":c+='"'+sjcl.codec.base64.fromBits(a[b],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return c+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");a=a.replace(/^\{|\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");
null!=d[3]?b[d[2]]=parseInt(d[3],10):null!=d[4]?b[d[2]]=d[2].match(/^(ct|adata|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4]):null!=d[5]&&(b[d[2]]="true"===d[5])}return b},g:function(a,b,c){void 0===a&&(a={});if(void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},sa:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},ra:function(a,
b){var c={},d;for(d=0;d<b.length;d++)void 0!==a[b[d]]&&(c[b[d]]=a[b[d]]);return c}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.pa={};sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc.pa,d;b=b||{};d=b.iter||1E3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=void 0===b.salt?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};
"undefined"!==typeof module&&module.exports&&(module.exports=sjcl);"function"===typeof define&&define([],function(){return sjcl});
</script>
</div>
<!--~~ Boot kernel prologue ~~-->
<div id="bootKernelPrefix" style="display:none;">
<script data-tiddler-title="$:/boot/bootprefix.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/bootprefix.js
type: application/javascript

This file sets up the globals that need to be available when JavaScript modules are executed in the browser. The overall sequence is:

# BootPrefix.js
# <module definitions>
# Boot.js

See Boot.js for further details of the boot process.

\*/

var _bootprefix = (function($tw) {

"use strict";

$tw = $tw || Object.create(null);
$tw.boot = $tw.boot || Object.create(null);

// Detect platforms
if(!("browser" in $tw)) {
	$tw.browser = typeof(window) !== "undefined" ? {} : null;
}
if(!("node" in $tw)) {
	$tw.node = typeof(process) === "object" ? {} : null;
}
if(!("nodeWebKit" in $tw)) {
	$tw.nodeWebKit = $tw.node && global.window && global.window.nwDispatcher ? {} : null;
}

// Set default boot tasks
$tw.boot.tasks = {
	trapErrors: !!($tw.browser && !$tw.node),
	readBrowserTiddlers: !!($tw.browser && !$tw.node)
};

/*
Information about each module is kept in an object with these members:
	moduleType: type of module
	definition: object, function or string defining the module; see below
	exports: exports of the module, filled in after execution

The `definition` can be of several types:

* An object can be used to directly specify the exports of the module
* A function with the arguments `module,require,exports` that returns `exports`
* A string function body with the same arguments

Each moduleInfo object is stored in two hashmaps: $tw.modules.titles and $tw.modules.types. The first is indexed by title and the second is indexed by type and then title
*/
$tw.modules = {
	titles: {}, // hashmap by module name of moduleInfo
	types: {} // hashmap by module type and then name of moduleInfo
};

/*
Define a JavaScript tiddler module for later execution
	moduleName: name of module being defined
	moduleType: type of module
	definition: module definition; see discussion above
*/
$tw.modules.define = function(moduleName,moduleType,definition) {
	// Create the moduleInfo
	var moduleInfo = {
		moduleType: moduleType,
		definition: definition,
		exports: undefined
	};
	// If the definition is already an object we can use it as the exports
	if(typeof moduleInfo.definition === "object") {
		moduleInfo.exports = definition;
	}
	// Store the module in the titles hashmap
	if(Object.prototype.hasOwnProperty.call($tw.modules.titles,moduleName)) {
		console.log("Warning: Redefined module - " + moduleName);
	}
	$tw.modules.titles[moduleName] = moduleInfo;
	// Store the module in the types hashmap
	if(!Object.prototype.hasOwnProperty.call($tw.modules.types,moduleType)) {
		$tw.modules.types[moduleType] = {};
	}
	if(Object.prototype.hasOwnProperty.call($tw.modules.types[moduleType],moduleName)) {
		console.log("Warning: Redefined module - " + moduleName);
	}
	$tw.modules.types[moduleType][moduleName] = moduleInfo;
};

/*
External JavaScript can populate this array before calling boot.js in order to preload tiddlers
*/
$tw.preloadTiddlers = $tw.preloadTiddlers || [];

/*
Convenience function for pushing a tiddler onto the preloading array
*/
$tw.preloadTiddler = function(fields) {
	$tw.preloadTiddlers.push(fields);
};

/*
Convenience function for pushing an array of tiddlers onto the preloading array
*/
$tw.preloadTiddlerArray = function(fieldsArray) {
	$tw.preloadTiddlers.push.apply($tw.preloadTiddlers,fieldsArray);
};

return $tw;

});

if(typeof(exports) === "undefined") {
	// Set up $tw global for the browser
	window.$tw = _bootprefix(window.$tw);
} else {
	// Export functionality as a module
	exports.bootprefix = _bootprefix;
}
</script>
</div>
<!--~~ Boot kernel ~~-->
<div id="bootKernel" style="display:none;">
<script data-tiddler-title="$:/boot/boot.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/boot.js
type: application/javascript

The main boot kernel for TiddlyWiki. This single file creates a barebones TW environment that is just sufficient to bootstrap the modules containing the main logic of the application.

On the server this file is executed directly to boot TiddlyWiki. In the browser, this file is packed into a single HTML file.

\*/

var _boot = (function($tw) {

/*jslint node: true, browser: true */
/*global modules: false, $tw: false */
"use strict";

// Include bootprefix if we're not given module data
if(!$tw) {
	$tw = require("./bootprefix.js").bootprefix();
}

$tw.utils = $tw.utils || Object.create(null);

/////////////////////////// Standard node.js libraries

var fs, path, vm;
if($tw.node) {
	fs = require("fs");
	path = require("path");
	vm = require("vm");
}

/////////////////////////// Utility functions

$tw.boot.log = function(str) {
	$tw.boot.logMessages = $tw.boot.logMessages || [];
	$tw.boot.logMessages.push(str);
}

/*
Check if an object has a property
*/
$tw.utils.hop = function(object,property) {
	return object ? Object.prototype.hasOwnProperty.call(object,property) : false;
};

/*
Determine if a value is an array
*/
$tw.utils.isArray = function(value) {
	return Object.prototype.toString.call(value) == "[object Array]";
};

/*
Check if an array is equal by value and by reference.
*/
$tw.utils.isArrayEqual = function(array1,array2) {
	if(array1 === array2) {
		return true;
	}
	array1 = array1 || [];
	array2 = array2 || [];
	if(array1.length !== array2.length) {
		return false;
	}
	return array1.every(function(value,index) {
		return value === array2[index];
	});
};

/*
Push entries onto an array, removing them first if they already exist in the array
	array: array to modify (assumed to be free of duplicates)
	value: a single value to push or an array of values to push
*/
$tw.utils.pushTop = function(array,value) {
	var t,p;
	if($tw.utils.isArray(value)) {
		// Remove any array entries that are duplicated in the new values
		if(value.length !== 0) {
			if(array.length !== 0) {
				if(value.length < array.length) {
					for(t=0; t<value.length; t++) {
						p = array.indexOf(value[t]);
						if(p !== -1) {
							array.splice(p,1);
						}
					}
				} else {
					for(t=array.length-1; t>=0; t--) {
						p = value.indexOf(array[t]);
						if(p !== -1) {
							array.splice(t,1);
						}
					}
				}
			}
			// Push the values on top of the main array
			array.push.apply(array,value);
		}
	} else {
		p = array.indexOf(value);
		if(p !== -1) {
			array.splice(p,1);
		}
		array.push(value);
	}
	return array;
};

/*
Determine if a value is a date
*/
$tw.utils.isDate = function(value) {
	return Object.prototype.toString.call(value) === "[object Date]";
};

/*
Iterate through all the own properties of an object or array. Callback is invoked with (element,title,object)
*/
$tw.utils.each = function(object,callback) {
	var next,f,length;
	if(object) {
		if(Object.prototype.toString.call(object) == "[object Array]") {
			for (f=0, length=object.length; f<length; f++) {
				next = callback(object[f],f,object);
				if(next === false) {
					break;
				}
		    }
		} else {
			var keys = Object.keys(object);
			for (f=0, length=keys.length; f<length; f++) {
				var key = keys[f];
				next = callback(object[key],key,object);
				if(next === false) {
					break;
				}
			}
		}
	}
};

/*
Helper for making DOM elements
tag: tag name
options: see below
Options include:
namespace: defaults to http://www.w3.org/1999/xhtml
attributes: hashmap of attribute values
style: hashmap of styles
text: text to add as a child node
children: array of further child nodes
innerHTML: optional HTML for element
class: class name(s)
document: defaults to current document
eventListeners: array of event listeners (this option won't work until $tw.utils.addEventListeners() has been loaded)
*/
$tw.utils.domMaker = function(tag,options) {
	var doc = options.document || document;
	var element = doc.createElementNS(options.namespace || "http://www.w3.org/1999/xhtml",tag);
	if(options["class"]) {
		element.className = options["class"];
	}
	if(options.text) {
		element.appendChild(doc.createTextNode(options.text));
	}
	$tw.utils.each(options.children,function(child) {
		element.appendChild(child);
	});
	if(options.innerHTML) {
		element.innerHTML = options.innerHTML;
	}
	$tw.utils.each(options.attributes,function(attribute,name) {
		element.setAttribute(name,attribute);
	});
	$tw.utils.each(options.style,function(value,name) {
		element.style[name] = value;
	});
	if(options.eventListeners) {
		$tw.utils.addEventListeners(element,options.eventListeners);
	}
	return element;
};

/*
Display an error and exit
*/
$tw.utils.error = function(err) {
	// Prepare the error message
	var errHeading = ( $tw.language == undefined ? "Internal JavaScript Error" : $tw.language.getString("InternalJavaScriptError/Title") ),
		promptMsg = ( $tw.language == undefined ? "Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser" : $tw.language.getString("InternalJavaScriptError/Hint") );
	// Log the error to the console
	console.error($tw.node ? "\x1b[1;31m" + err + "\x1b[0m" : err);
	if($tw.browser && !$tw.node) {
		// Display an error message to the user
		var dm = $tw.utils.domMaker,
			heading = dm("h1",{text: errHeading}),
			prompt = dm("div",{text: promptMsg, "class": "tc-error-prompt"}),
			message = dm("div",{text: err, "class":"tc-error-message"}),
			button = dm("div",{children: [dm("button",{text: ( $tw.language == undefined ? "close" : $tw.language.getString("Buttons/Close/Caption") )})], "class": "tc-error-prompt"}),
			form = dm("form",{children: [heading,prompt,message,button], "class": "tc-error-form"});
		document.body.insertBefore(form,document.body.firstChild);
		form.addEventListener("submit",function(event) {
			document.body.removeChild(form);
			event.preventDefault();
			return false;
		},true);
		return null;
	} else if(!$tw.browser) {
		// Exit if we're under node.js
		process.exit(1);
	}
};

/*
Use our custom error handler if we're in the browser
*/
if($tw.boot.tasks.trapErrors) {
	window.onerror = function(errorMsg,url,lineNumber) {
		$tw.utils.error(errorMsg);
		return false;
	};
}

/*
Extend an object with the properties from a list of source objects
*/
$tw.utils.extend = function(object /*, sourceObjectList */) {
	$tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
		if(source) {
			for (var p in source) {
				object[p] = source[p];
			}
		}
	});
	return object;
};

/*
Fill in any null or undefined properties of an object with the properties from a list of source objects. Each property that is an object is called recursively
*/
$tw.utils.deepDefaults = function(object /*, sourceObjectList */) {
	$tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
		if(source) {
			for (var p in source) {
				if(object[p] === null || object[p] === undefined) {
					object[p] = source[p];
				}
				if(typeof object[p] === "object" && typeof source[p] === "object") {
					$tw.utils.deepDefaults(object[p],source[p]);
				}
			}
		}
	});
	return object;
};

/*
Convert "&amp;" to &, "&nbsp;" to nbsp, "&lt;" to <, "&gt;" to > and "&quot;" to "
*/
$tw.utils.htmlDecode = function(s) {
	return s.toString().replace(/&lt;/mg,"<").replace(/&nbsp;/mg,"\xA0").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

/*
Get the browser location.hash. We don't use location.hash because of the way that Firefox auto-urldecodes it (see http://stackoverflow.com/questions/1703552/encoding-of-window-location-hash)
*/
$tw.utils.getLocationHash = function() {
	var href = window.location.href;
	var idx = href.indexOf('#');
	if(idx === -1) {
		return "#";
	} else if(idx < href.length-1 && href[idx+1] === '#') {
		// Special case: ignore location hash if it itself starts with a #
		return "#";
	} else {
		return href.substring(idx);
	}
};

/*
Pad a string to a given length with "0"s. Length defaults to 2
*/
$tw.utils.pad = function(value,length) {
	length = length || 2;
	var s = value.toString();
	if(s.length < length) {
		s = "000000000000000000000000000".substr(0,length - s.length) + s;
	}
	return s;
};

// Convert a date into UTC YYYYMMDDHHMMSSmmm format
$tw.utils.stringifyDate = function(value) {
	return value.getUTCFullYear() +
			$tw.utils.pad(value.getUTCMonth() + 1) +
			$tw.utils.pad(value.getUTCDate()) +
			$tw.utils.pad(value.getUTCHours()) +
			$tw.utils.pad(value.getUTCMinutes()) +
			$tw.utils.pad(value.getUTCSeconds()) +
			$tw.utils.pad(value.getUTCMilliseconds(),3);
};

// Parse a date from a UTC YYYYMMDDHHMMSSmmm format string
$tw.utils.parseDate = function(value) {
	if(typeof value === "string") {
		var negative = 1;
		if(value.charAt(0) === "-") {
			negative = -1;
			value = value.substr(1);
		}
		var year = parseInt(value.substr(0,4),10) * negative,
			d = new Date(Date.UTC(year,
				parseInt(value.substr(4,2),10)-1,
				parseInt(value.substr(6,2),10),
				parseInt(value.substr(8,2)||"00",10),
				parseInt(value.substr(10,2)||"00",10),
				parseInt(value.substr(12,2)||"00",10),
				parseInt(value.substr(14,3)||"000",10)));
		  d.setUTCFullYear(year); // See https://stackoverflow.com/a/5870822
		  return d;
	} else if($tw.utils.isDate(value)) {
		return value;
	} else {
		return null;
	}
};

// Stringify an array of tiddler titles into a list string
$tw.utils.stringifyList = function(value) {
	if($tw.utils.isArray(value)) {
		var result = new Array(value.length);
		for(var t=0, l=value.length; t<l; t++) {
			var entry = value[t] || "";
			if(entry.indexOf(" ") !== -1) {
				result[t] = "[[" + entry + "]]";
			} else {
				result[t] = entry;
			}
		}
		return result.join(" ");
	} else {
		return value || "";
	}
};

// Parse a string array from a bracketted list. For example "OneTiddler [[Another Tiddler]] LastOne"
$tw.utils.parseStringArray = function(value, allowDuplicate) {
	if(typeof value === "string") {
		var memberRegExp = /(?:^|[^\S\xA0])(?:\[\[(.*?)\]\])(?=[^\S\xA0]|$)|([\S\xA0]+)/mg,
			results = [], names = {},
			match;
		do {
			match = memberRegExp.exec(value);
			if(match) {
				var item = match[1] || match[2];
				if(item !== undefined && (!$tw.utils.hop(names,item) || allowDuplicate)) {
					results.push(item);
					names[item] = true;
				}
			}
		} while(match);
		return results;
	} else if($tw.utils.isArray(value)) {
		return value;
	} else {
		return null;
	}
};

// Parse a block of name:value fields. The `fields` object is used as the basis for the return value
$tw.utils.parseFields = function(text,fields) {
	fields = fields || Object.create(null);
	text.split(/\r?\n/mg).forEach(function(line) {
		if(line.charAt(0) !== "#") {
			var p = line.indexOf(":");
			if(p !== -1) {
				var field = line.substr(0, p).trim(),
					value = line.substr(p+1).trim();
				if(field) {
					fields[field] = value;
				}
			}
		}
	});
	return fields;
};

/*
Resolves a source filepath delimited with `/` relative to a specified absolute root filepath.
In relative paths, the special folder name `..` refers to immediate parent directory, and the
name `.` refers to the current directory
*/
$tw.utils.resolvePath = function(sourcepath,rootpath) {
	// If the source path starts with ./ or ../ then it is relative to the root
	if(sourcepath.substr(0,2) === "./" || sourcepath.substr(0,3) === "../" ) {
		var src = sourcepath.split("/"),
			root = rootpath.split("/");
		// Remove the filename part of the root
		root.splice(root.length-1,1);
		// Process the source path bit by bit onto the end of the root path
		while(src.length > 0) {
			var c = src.shift();
			if(c === "..") { // Slice off the last root entry for a double dot
				if(root.length > 0) {
					root.splice(root.length-1,1);
				}
			} else if(c !== ".") { // Ignore dots
				root.push(c); // Copy other elements across
			}
		}
		return root.join("/");
	} else {
		// If it isn't relative, just return the path
		if(rootpath) {
			var root = rootpath.split("/");
			// Remove the filename part of the root
			root.splice(root.length - 1, 1);
			return root.join("/") + "/" + sourcepath;
		} else {
			return sourcepath;
		}
	}
};

/*
Parse a semantic version string into its constituent parts -- see https://semver.org
*/
$tw.utils.parseVersion = function(version) {
	var match = /^v?((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?(?:\+([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?$/.exec(version);
	if(match) {
		return {
			version: match[1],
			major: parseInt(match[2],10),
			minor: parseInt(match[3],10),
			patch: parseInt(match[4],10),
			prerelease: match[5],
			build: match[6]
		};
	} else {
		return null;
	}
};

/*
Returns +1 if the version string A is greater than the version string B, 0 if they are the same, and +1 if B is greater than A.
Missing or malformed version strings are parsed as 0.0.0
*/
$tw.utils.compareVersions = function(versionStringA,versionStringB) {
	var defaultVersion = {
			major: 0,
			minor: 0,
			patch: 0
		},
		versionA = $tw.utils.parseVersion(versionStringA) || defaultVersion,
		versionB = $tw.utils.parseVersion(versionStringB) || defaultVersion,
		diff = [
			versionA.major - versionB.major,
			versionA.minor - versionB.minor,
			versionA.patch - versionB.patch
		];
	if((diff[0] > 0) || (diff[0] === 0 && diff[1] > 0) || (diff[0] === 0 & diff[1] === 0 & diff[2] > 0)) {
		return +1;
	} else if((diff[0] < 0) || (diff[0] === 0 && diff[1] < 0) || (diff[0] === 0 & diff[1] === 0 & diff[2] < 0)) {
		return -1;
	} else {
		return 0;
	}
};

/*
Returns true if the version string A is greater than the version string B. Returns true if the versions are the same
*/
$tw.utils.checkVersions = function(versionStringA,versionStringB) {
	return $tw.utils.compareVersions(versionStringA,versionStringB) !== -1;
};

/*
Register file type information
options: {flags: flags,deserializerType: deserializerType}
	flags:"image" for image types
	deserializerType: defaults to type if not specified
*/
$tw.utils.registerFileType = function(type,encoding,extension,options) {
	options = options || {};
	if($tw.utils.isArray(extension)) {
		$tw.utils.each(extension,function(extension) {
			$tw.config.fileExtensionInfo[extension] = {type: type};
		});
		extension = extension[0];
	} else {
		$tw.config.fileExtensionInfo[extension] = {type: type};
	}
	$tw.config.contentTypeInfo[type] = {encoding: encoding, extension: extension, flags: options.flags || [], deserializerType: options.deserializerType || type};
};

/*
Given an extension, always access the $tw.config.fileExtensionInfo
using a lowercase extension only.
*/
$tw.utils.getFileExtensionInfo = function(ext) {
	return ext ? $tw.config.fileExtensionInfo[ext.toLowerCase()] : null;
}

/*
Given an extension, get the correct encoding for that file.
defaults to utf8
*/
$tw.utils.getTypeEncoding = function(ext) {
	var extensionInfo = $tw.utils.getFileExtensionInfo(ext),
		type = extensionInfo ? extensionInfo.type : null,
		typeInfo = type ? $tw.config.contentTypeInfo[type] : null;
	return typeInfo ? typeInfo.encoding : "utf8";
};

/*
Run code globally with specified context variables in scope
*/
$tw.utils.evalGlobal = function(code,context,filename) {
	var contextCopy = $tw.utils.extend(Object.create(null),context);
	// Get the context variables as a pair of arrays of names and values
	var contextNames = [], contextValues = [];
	$tw.utils.each(contextCopy,function(value,name) {
		contextNames.push(name);
		contextValues.push(value);
	});
	// Add the code prologue and epilogue
	code = "(function(" + contextNames.join(",") + ") {(function(){\n" + code + "\n;})();\nreturn exports;\n})\n";
	// Compile the code into a function
	var fn;
	if($tw.browser) {
		fn = window["eval"](code + "\n\n//# sourceURL=" + filename);
	} else {
		fn = vm.runInThisContext(code,filename);
	}
	// Call the function and return the exports
	return fn.apply(null,contextValues);
};

/*
Run code in a sandbox with only the specified context variables in scope
*/
$tw.utils.evalSandboxed = $tw.browser ? $tw.utils.evalGlobal : function(code,context,filename) {
	var sandbox = $tw.utils.extend(Object.create(null),context);
	vm.runInNewContext(code,sandbox,filename);
	return sandbox.exports;
};

/*
Creates a PasswordPrompt object
*/
$tw.utils.PasswordPrompt = function() {
	// Store of pending password prompts
	this.passwordPrompts = [];
	// Create the wrapper
	this.promptWrapper = $tw.utils.domMaker("div",{"class":"tc-password-wrapper"});
	document.body.appendChild(this.promptWrapper);
	// Hide the empty wrapper
	this.setWrapperDisplay();
};

/*
Hides or shows the wrapper depending on whether there are any outstanding prompts
*/
$tw.utils.PasswordPrompt.prototype.setWrapperDisplay = function() {
	if(this.passwordPrompts.length) {
		this.promptWrapper.style.display = "block";
	} else {
		this.promptWrapper.style.display = "none";
	}
};

/*
Adds a new password prompt. Options are:
submitText: text to use for submit button (defaults to "Login")
serviceName: text of the human readable service name
noUserName: set true to disable username prompt
canCancel: set true to enable a cancel button (callback called with null)
repeatPassword: set true to prompt for the password twice
callback: function to be called on submission with parameter of object {username:,password:}. Callback must return `true` to remove the password prompt
*/
$tw.utils.PasswordPrompt.prototype.createPrompt = function(options) {
	// Create and add the prompt to the DOM
	var self = this,
		submitText = options.submitText || "Login",
		dm = $tw.utils.domMaker,
		children = [dm("h1",{text: options.serviceName})];
	if(!options.noUserName) {
		children.push(dm("input",{
			attributes: {type: "text", name: "username", placeholder: $tw.language.getString("Encryption/Username")}
		}));
	}
	children.push(dm("input",{
		attributes: {
			type: "password",
			name: "password",
			placeholder: ( $tw.language == undefined ? "Password" : $tw.language.getString("Encryption/Password") )
		}
	}));
	if(options.repeatPassword) {
		children.push(dm("input",{
			attributes: {
				type: "password",
				name: "password2",
				placeholder: $tw.language.getString("Encryption/RepeatPassword")
			}
		}));
	}
	if(options.canCancel) {
		children.push(dm("button",{
			text: $tw.language.getString("Encryption/Cancel"),
			attributes: {
				type: "button"
			},
			eventListeners: [{
					name: "click",
					handlerFunction: function(event) {
						self.removePrompt(promptInfo);
						options.callback(null);
					}
				}]
		}));
	}
	children.push(dm("button",{
		attributes: {type: "submit"},
		text: submitText
	}));
	var form = dm("form",{
		attributes: {autocomplete: "off"},
		children: children
	});
	this.promptWrapper.appendChild(form);
	window.setTimeout(function() {
		form.elements[0].focus();
	},10);
	// Add a submit event handler
	var self = this;
	form.addEventListener("submit",function(event) {
		// Collect the form data
		var data = {},t;
		$tw.utils.each(form.elements,function(element) {
			if(element.name && element.value) {
				data[element.name] = element.value;
			}
		});
		// Check that the passwords match
		if(options.repeatPassword && data.password !== data.password2) {
			alert($tw.language.getString("Encryption/PasswordNoMatch"));
		} else {
			// Call the callback
			if(options.callback(data)) {
				// Remove the prompt if the callback returned true
				self.removePrompt(promptInfo);
			} else {
				// Clear the password if the callback returned false
				$tw.utils.each(form.elements,function(element) {
					if(element.name === "password" || element.name === "password2") {
						element.value = "";
					}
				});
			}
		}
		event.preventDefault();
		return false;
	},true);
	// Add the prompt to the list
	var promptInfo = {
		serviceName: options.serviceName,
		callback: options.callback,
		form: form,
		owner: this
	};
	this.passwordPrompts.push(promptInfo);
	// Make sure the wrapper is displayed
	this.setWrapperDisplay();
	return promptInfo;
};

$tw.utils.PasswordPrompt.prototype.removePrompt = function(promptInfo) {
	var i = this.passwordPrompts.indexOf(promptInfo);
	if(i !== -1) {
		this.passwordPrompts.splice(i,1);
		promptInfo.form.parentNode.removeChild(promptInfo.form);
		this.setWrapperDisplay();
	}
}

/*
Crypto helper object for encrypted content. It maintains the password text in a closure, and provides methods to change
the password, and to encrypt/decrypt a block of text
*/
$tw.utils.Crypto = function() {
	var sjcl = $tw.node ? (global.sjcl || require("./sjcl.js")) : window.sjcl,
		currentPassword = null,
		callSjcl = function(method,inputText,password) {
			password = password || currentPassword;
			var outputText;
			try {
				if(password) {
					outputText = sjcl[method](password,inputText);
				}
			} catch(ex) {
				console.log("Crypto error:" + ex);
				outputText = null;
			}
			return outputText;
		};
	this.setPassword = function(newPassword) {
		currentPassword = newPassword;
		this.updateCryptoStateTiddler();
	};
	this.updateCryptoStateTiddler = function() {
		if($tw.wiki) {
			var state = currentPassword ? "yes" : "no",
				tiddler = $tw.wiki.getTiddler("$:/isEncrypted");
			if(!tiddler || tiddler.fields.text !== state) {
				$tw.wiki.addTiddler(new $tw.Tiddler({title: "$:/isEncrypted", text: state}));
			}
		}
	};
	this.hasPassword = function() {
		return !!currentPassword;
	}
	this.encrypt = function(text,password) {
		return callSjcl("encrypt",text,password);
	};
	this.decrypt = function(text,password) {
		return callSjcl("decrypt",text,password);
	};
};

/////////////////////////// Module mechanism

/*
Execute the module named 'moduleName'. The name can optionally be relative to the module named 'moduleRoot'
*/
$tw.modules.execute = function(moduleName,moduleRoot) {
	var name = moduleName;
	if(moduleName.charAt(0) === ".") {
		name = $tw.utils.resolvePath(moduleName,moduleRoot)
	}
	if(!$tw.modules.titles[name]) {
		if($tw.modules.titles[name + ".js"]) {
			name = name + ".js";
		} else if($tw.modules.titles[name + "/index.js"]) {
			name = name + "/index.js";
		} else if($tw.modules.titles[moduleName]) {
			name = moduleName;
		} else if($tw.modules.titles[moduleName + ".js"]) {
			name = moduleName + ".js";
		} else if($tw.modules.titles[moduleName + "/index.js"]) {
			name = moduleName + "/index.js";
		}
	}
	var moduleInfo = $tw.modules.titles[name],
		tiddler = $tw.wiki.getTiddler(name),
		_exports = {},
		sandbox = {
			module: {exports: _exports},
			//moduleInfo: moduleInfo,
			exports: _exports,
			console: console,
			setInterval: setInterval,
			clearInterval: clearInterval,
			setTimeout: setTimeout,
			clearTimeout: clearTimeout,
			Buffer: $tw.browser ? undefined : Buffer,
			$tw: $tw,
			require: function(title) {
				return $tw.modules.execute(title, name);
			}
		};

	Object.defineProperty(sandbox.module, "id", {
		value: name,
		writable: false,
		enumerable: true,
		configurable: false
	});

	if(!$tw.browser) {
		$tw.utils.extend(sandbox,{
			process: process
		});
	} else {
		/*
		CommonJS optional require.main property:
		 In a browser we offer a fake main module which points back to the boot function
		 (Theoretically, this may allow TW to eventually load itself as a module in the browser)
		*/
		Object.defineProperty(sandbox.require, "main", {
			value: (typeof(require) !== "undefined") ? require.main : {TiddlyWiki: _boot},
			writable: false,
			enumerable: true,
			configurable: false
		});
	}
	if(!moduleInfo) {
		// We could not find the module on this path
		// Try to defer to browserify etc, or node
		var deferredModule;
		if($tw.browser) {
			if(window.require) {
				try {
					return window.require(moduleName);
				} catch(e) {}
			}
			throw "Cannot find module named '" + moduleName + "' required by module '" + moduleRoot + "', resolved to " + name;
		} else {
			// If we don't have a module with that name, let node.js try to find it
			return require(moduleName);
		}
	}
	// Execute the module if we haven't already done so
	if(!moduleInfo.exports) {
		try {
			// Check the type of the definition
			if(typeof moduleInfo.definition === "function") { // Function
				moduleInfo.exports = _exports;
				moduleInfo.definition(moduleInfo,moduleInfo.exports,sandbox.require);
			} else if(typeof moduleInfo.definition === "string") { // String
				moduleInfo.exports = _exports;
				$tw.utils.evalSandboxed(moduleInfo.definition,sandbox,tiddler.fields.title);
				if(sandbox.module.exports) {
					moduleInfo.exports = sandbox.module.exports; //more codemirror workaround
				}
			} else { // Object
				moduleInfo.exports = moduleInfo.definition;
			}
		} catch(e) {
			if (e instanceof SyntaxError) {
				var line = e.lineNumber || e.line; // Firefox || Safari
				if (typeof(line) != "undefined" && line !== null) {
					$tw.utils.error("Syntax error in boot module " + name + ":" + line + ":\n" + e.stack);
				} else if(!$tw.browser) {
					// this is the only way to get node.js to display the line at which the syntax error appeared,
					// and $tw.utils.error would exit anyway
					// cf. https://bugs.chromium.org/p/v8/issues/detail?id=2589
					throw e;
				} else {
					// Opera: line number is included in e.message
					// Chrome/IE: there's currently no way to get the line number
					$tw.utils.error("Syntax error in boot module " + name + ": " + e.message + "\n" + e.stack);
				}
			} else {
				// line number should be included in e.stack for runtime errors
				$tw.utils.error("Error executing boot module " + name + ": " + JSON.stringify(e) + "\n\n" + e.stack);
			}
		}
	}
	// Return the exports of the module
	return moduleInfo.exports;
};

/*
Apply a callback to each module of a particular type
	moduleType: type of modules to enumerate
	callback: function called as callback(title,moduleExports) for each module
*/
$tw.modules.forEachModuleOfType = function(moduleType,callback) {
	var modules = $tw.modules.types[moduleType];
	$tw.utils.each(modules,function(element,title) {
		callback(title,$tw.modules.execute(title));
	});
};

/*
Get all the modules of a particular type in a hashmap by their `name` field
*/
$tw.modules.getModulesByTypeAsHashmap = function(moduleType,nameField) {
	nameField = nameField || "name";
	var results = Object.create(null);
	$tw.modules.forEachModuleOfType(moduleType,function(title,module) {
		results[module[nameField]] = module;
	});
	return results;
};

/*
Apply the exports of the modules of a particular type to a target object
*/
$tw.modules.applyMethods = function(moduleType,targetObject) {
	if(!targetObject) {
		targetObject = Object.create(null);
	}
	$tw.modules.forEachModuleOfType(moduleType,function(title,module) {
		$tw.utils.each(module,function(element,title,object) {
			targetObject[title] = module[title];
		});
	});
	return targetObject;
};

/*
Return a class created from a modules. The module should export the properties to be added to those of the optional base class
*/
$tw.modules.createClassFromModule = function(moduleExports,baseClass) {
	var newClass = function() {};
	if(baseClass) {
		newClass.prototype = new baseClass();
		newClass.prototype.constructor = baseClass;
	}
	$tw.utils.extend(newClass.prototype,moduleExports);
	return newClass;
};

/*
Return an array of classes created from the modules of a specified type. Each module should export the properties to be added to those of the optional base class
*/
$tw.modules.createClassesFromModules = function(moduleType,subType,baseClass) {
	var classes = Object.create(null);
	$tw.modules.forEachModuleOfType(moduleType,function(title,moduleExports) {
		if(!subType || moduleExports.types[subType]) {
			classes[moduleExports.name] = $tw.modules.createClassFromModule(moduleExports,baseClass);
		}
	});
	return classes;
};

/////////////////////////// Barebones tiddler object

/*
Construct a tiddler object from a hashmap of tiddler fields. If multiple hasmaps are provided they are merged,
taking precedence to the right
*/
$tw.Tiddler = function(/* [fields,] fields */) {
	this.fields = Object.create(null);
	this.cache = Object.create(null);
	for(var c=0; c<arguments.length; c++) {
		var arg = arguments[c],
			src = (arg instanceof $tw.Tiddler) ? arg.fields : arg;
		for(var t in src) {
			if(src[t] === undefined || src[t] === null) {
				if(t in this.fields) {
					delete this.fields[t]; // If we get a field that's undefined, delete any previous field value
				}
			} else {
				// Parse the field with the associated field module (if any)
				var fieldModule = $tw.Tiddler.fieldModules[t],
					value;
				if(fieldModule && fieldModule.parse) {
					value = fieldModule.parse.call(this,src[t]);
				} else {
					value = src[t];
				}
				// Freeze the field to keep it immutable
				if(value != null && typeof value === "object") {
					Object.freeze(value);
				}
				this.fields[t] = value;
			}
		}
	}
	// Freeze the tiddler against modification
	Object.freeze(this.fields);
	Object.freeze(this);
};

$tw.Tiddler.prototype.hasField = function(field) {
	return $tw.utils.hop(this.fields,field);
};

/*
Compare two tiddlers for equality
tiddler: the tiddler to compare
excludeFields: array of field names to exclude from the comparison
*/
$tw.Tiddler.prototype.isEqual = function(tiddler,excludeFields) {
	if(!(tiddler instanceof $tw.Tiddler)) {
		return false;
	}
	excludeFields = excludeFields || [];
	var self = this,
		differences = []; // Fields that have differences
	// Add to the differences array
	function addDifference(fieldName) {
		// Check for this field being excluded
		if(excludeFields.indexOf(fieldName) === -1) {
			// Save the field as a difference
			$tw.utils.pushTop(differences,fieldName);
		}
	}
	// Returns true if the two values of this field are equal
	function isFieldValueEqual(fieldName) {
		var valueA = self.fields[fieldName],
			valueB = tiddler.fields[fieldName];
		// Check for identical string values
		if(typeof(valueA) === "string" && typeof(valueB) === "string" && valueA === valueB) {
			return true;
		}
		// Check for identical array values
		if($tw.utils.isArray(valueA) && $tw.utils.isArray(valueB) && $tw.utils.isArrayEqual(valueA,valueB)) {
			return true;
		}
		// Check for identical date values
		if($tw.utils.isDate(valueA) && $tw.utils.isDate(valueB) && valueA.getTime() === valueB.getTime()) {
			return true;
		}
		// Otherwise the fields must be different
		return false;
	}
	// Compare our fields
	for(var fieldName in this.fields) {
		if(!isFieldValueEqual(fieldName)) {
			addDifference(fieldName);
		}
	}
	// There's a difference for every field in the other tiddler that we don't have
	for(fieldName in tiddler.fields) {
		if(!(fieldName in this.fields)) {
			addDifference(fieldName);
		}
	}
	// Return whether there were any differences
	return differences.length === 0;
};

/*
Register and install the built in tiddler field modules
*/
$tw.modules.define("$:/boot/tiddlerfields/modified","tiddlerfield",{
	name: "modified",
	parse: $tw.utils.parseDate,
	stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/created","tiddlerfield",{
	name: "created",
	parse: $tw.utils.parseDate,
	stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/color","tiddlerfield",{
	name: "color",
	editTag: "input",
	editType: "color"
});
$tw.modules.define("$:/boot/tiddlerfields/tags","tiddlerfield",{
	name: "tags",
	parse: $tw.utils.parseStringArray,
	stringify: $tw.utils.stringifyList
});
$tw.modules.define("$:/boot/tiddlerfields/list","tiddlerfield",{
	name: "list",
	parse: $tw.utils.parseStringArray,
	stringify: $tw.utils.stringifyList
});

/////////////////////////// Barebones wiki store

/*
Wiki constructor. State is stored in private members that only a small number of privileged accessor methods have direct access. Methods added via the prototype have to use these accessors and cannot access the state data directly.
options include:
enableIndexers - Array of indexer names to enable, or null to use all available indexers
*/
$tw.Wiki = function(options) {
	options = options || {};
	var self = this,
		tiddlers = Object.create(null), // Hashmap of tiddlers
		tiddlerTitles = null, // Array of tiddler titles
		getTiddlerTitles = function() {
			if(!tiddlerTitles) {
				tiddlerTitles = Object.keys(tiddlers);
			}
			return tiddlerTitles;
		},
		pluginTiddlers = [], // Array of tiddlers containing registered plugins, ordered by priority
		pluginInfo = Object.create(null), // Hashmap of parsed plugin content
		shadowTiddlers = Object.create(null), // Hashmap by title of {source:, tiddler:}
		shadowTiddlerTitles = null,
		getShadowTiddlerTitles = function() {
			if(!shadowTiddlerTitles) {
				shadowTiddlerTitles = Object.keys(shadowTiddlers);
			}
			return shadowTiddlerTitles;
		},
		enableIndexers = options.enableIndexers || null,
		indexers = [],
		indexersByName = Object.create(null);

	this.addIndexer = function(indexer,name) {
		// Bail if this indexer is not enabled
		if(enableIndexers && enableIndexers.indexOf(name) === -1) {
			return;
		}
		indexers.push(indexer);
		indexersByName[name] = indexer;
		indexer.init();
	};

	this.getIndexer = function(name) {
		return indexersByName[name] || null;
	};

	// Add a tiddler to the store
	this.addTiddler = function(tiddler) {
		if(!(tiddler instanceof $tw.Tiddler)) {
			tiddler = new $tw.Tiddler(tiddler);
		}
		// Save the tiddler
		if(tiddler) {
			var title = tiddler.fields.title;
			if(title) {
// Uncomment the following line for detailed logs of all tiddler writes
// console.log("Adding",title,tiddler)
				// Record the old tiddler state
				var updateDescriptor = {
					old: {
						tiddler: this.getTiddler(title),
						shadow: this.isShadowTiddler(title),
						exists: this.tiddlerExists(title)
					}
				}
				// Save the new tiddler
				tiddlers[title] = tiddler;
				// Check we've got it's title
				if(tiddlerTitles && tiddlerTitles.indexOf(title) === -1) {
					tiddlerTitles.push(title);
				}
				// Record the new tiddler state
				updateDescriptor["new"] = {
					tiddler: tiddler,
					shadow: this.isShadowTiddler(title),
					exists: this.tiddlerExists(title)
				}
				// Update indexes
				this.clearCache(title);
				this.clearGlobalCache();
				$tw.utils.each(indexers,function(indexer) {
					indexer.update(updateDescriptor);
				});
				// Queue a change event
				this.enqueueTiddlerEvent(title);
			}
		}
	};

	// Delete a tiddler
	this.deleteTiddler = function(title) {
// Uncomment the following line for detailed logs of all tiddler deletions
// console.log("Deleting",title)
		if($tw.utils.hop(tiddlers,title)) {
			// Record the old tiddler state
			var updateDescriptor = {
				old: {
					tiddler: this.getTiddler(title),
					shadow: this.isShadowTiddler(title),
					exists: this.tiddlerExists(title)
				}
			}
			// Delete the tiddler
			delete tiddlers[title];
			// Delete it from the list of titles
			if(tiddlerTitles) {
				var index = tiddlerTitles.indexOf(title);
				if(index !== -1) {
					tiddlerTitles.splice(index,1);
				}				
			}
			// Record the new tiddler state
			updateDescriptor["new"] = {
				tiddler: this.getTiddler(title),
				shadow: this.isShadowTiddler(title),
				exists: this.tiddlerExists(title)
			}
			// Update indexes
			this.clearCache(title);
			this.clearGlobalCache();
			$tw.utils.each(indexers,function(indexer) {
				indexer.update(updateDescriptor);
			});
			// Queue a change event
			this.enqueueTiddlerEvent(title,true);
		}
	};

	// Get a tiddler from the store
	this.getTiddler = function(title) {
		if(title) {
			var t = tiddlers[title];
			if(t instanceof $tw.Tiddler) {
				return t;
			} else if(title !== undefined && shadowTiddlers[title]) {
				return shadowTiddlers[title].tiddler;
			}
			return undefined;
		}
	};

	// Get an array of all tiddler titles
	this.allTitles = function() {
		return getTiddlerTitles().slice(0);
	};

	// Iterate through all tiddler titles
	this.each = function(callback) {
		var titles = getTiddlerTitles(),
			index,titlesLength,title;
		for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
			title = titles[index];
			callback(tiddlers[title],title);
		}
	};

	// Get an array of all shadow tiddler titles
	this.allShadowTitles = function() {
		return getShadowTiddlerTitles().slice(0);
	};

	// Iterate through all shadow tiddler titles
	this.eachShadow = function(callback) {
		var titles = getShadowTiddlerTitles(),
			index,titlesLength,title;
		for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
			title = titles[index];
			var shadowInfo = shadowTiddlers[title];
			callback(shadowInfo.tiddler,title);
		}
	};

	// Iterate through all tiddlers and then the shadows
	this.eachTiddlerPlusShadows = function(callback) {
		var index,titlesLength,title,
			titles = getTiddlerTitles();
		for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
			title = titles[index];
			callback(tiddlers[title],title);
		}
		titles = getShadowTiddlerTitles();
		for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
			title = titles[index];
			if(!tiddlers[title]) {
				var shadowInfo = shadowTiddlers[title];
				callback(shadowInfo.tiddler,title);
			}
		}
	};

	// Iterate through all the shadows and then the tiddlers
	this.eachShadowPlusTiddlers = function(callback) {
		var index,titlesLength,title,
			titles = getShadowTiddlerTitles();
		for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
			title = titles[index];
			if(tiddlers[title]) {
				callback(tiddlers[title],title);
			} else {
				var shadowInfo = shadowTiddlers[title];
				callback(shadowInfo.tiddler,title);
			}
		}
		titles = getTiddlerTitles();
		for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
			title = titles[index];
			if(!shadowTiddlers[title]) {
				callback(tiddlers[title],title);
			}
		}
	};

	// Test for the existence of a tiddler (excludes shadow tiddlers)
	this.tiddlerExists = function(title) {
		return !!$tw.utils.hop(tiddlers,title);
	};

	// Determines if a tiddler is a shadow tiddler, regardless of whether it has been overridden by a real tiddler
	this.isShadowTiddler = function(title) {
		return $tw.utils.hop(shadowTiddlers,title);
	};

	this.getShadowSource = function(title) {
		if($tw.utils.hop(shadowTiddlers,title)) {
			return shadowTiddlers[title].source;
		}
		return null;
	};

	// Get an array of all the currently recognised plugin types
	this.getPluginTypes = function() {
		var types = [];
		$tw.utils.each(pluginTiddlers,function(pluginTiddler) {
			var pluginType = pluginTiddler.fields["plugin-type"];
			if(pluginType && types.indexOf(pluginType) === -1) {
				types.push(pluginType);
			}
		});
		return types;
	};

	// Read plugin info for all plugins, or just an array of titles. Returns the number of plugins updated or deleted
	this.readPluginInfo = function(titles) {
		var results = {
			modifiedPlugins: [],
			deletedPlugins: []
		};
		$tw.utils.each(titles || getTiddlerTitles(),function(title) {
			var tiddler = tiddlers[title];
			if(tiddler) {
				if(tiddler.fields.type === "application/json" && tiddler.hasField("plugin-type") && tiddler.fields.text) {
					pluginInfo[tiddler.fields.title] = JSON.parse(tiddler.fields.text);
					results.modifiedPlugins.push(tiddler.fields.title);
				}
			} else {
				if(pluginInfo[title]) {
					delete pluginInfo[title];					
					results.deletedPlugins.push(title);
				}
			}
		});
		return results;
	};

	// Get plugin info for a plugin
	this.getPluginInfo = function(title) {
		return pluginInfo[title];
	};

	// Register the plugin tiddlers of a particular type, or null/undefined for any type, optionally restricting registration to an array of tiddler titles. Return the array of titles affected
	this.registerPluginTiddlers = function(pluginType,titles) {
		var self = this,
			registeredTitles = [],
			checkTiddler = function(tiddler,title) {
				if(tiddler && tiddler.fields.type === "application/json" && tiddler.fields["plugin-type"] && (!pluginType || tiddler.fields["plugin-type"] === pluginType)) {
					var disablingTiddler = self.getTiddler("$:/config/Plugins/Disabled/" + title);
					if(title === "$:/core" || !disablingTiddler || (disablingTiddler.fields.text || "").trim() !== "yes") {
						self.unregisterPluginTiddlers(null,[title]); // Unregister the plugin if it's already registered
						pluginTiddlers.push(tiddler);
						registeredTitles.push(tiddler.fields.title);
					}
				}
			};
		if(titles) {
			$tw.utils.each(titles,function(title) {
				checkTiddler(self.getTiddler(title),title);
			});
		} else {
			this.each(function(tiddler,title) {
				checkTiddler(tiddler,title);
			});
		}
		return registeredTitles;
	};

	// Unregister the plugin tiddlers of a particular type, or null/undefined for any type, optionally restricting unregistering to an array of tiddler titles. Returns an array of the titles affected
	this.unregisterPluginTiddlers = function(pluginType,titles) {
		var self = this,
			unregisteredTitles = [];
		// Remove any previous registered plugins of this type
		for(var t=pluginTiddlers.length-1; t>=0; t--) {
			var tiddler = pluginTiddlers[t];
			if(tiddler.fields["plugin-type"] && (!pluginType || tiddler.fields["plugin-type"] === pluginType) && (!titles || titles.indexOf(tiddler.fields.title) !== -1)) {
				unregisteredTitles.push(tiddler.fields.title);
				pluginTiddlers.splice(t,1);
			}
		}
		return unregisteredTitles;
	};

	// Unpack the currently registered plugins, creating shadow tiddlers for their constituent tiddlers
	this.unpackPluginTiddlers = function() {
		var self = this;
		// Sort the plugin titles by the `plugin-priority` field
		pluginTiddlers.sort(function(a,b) {
			if("plugin-priority" in a.fields && "plugin-priority" in b.fields) {
				return a.fields["plugin-priority"] - b.fields["plugin-priority"];
			} else if("plugin-priority" in a.fields) {
				return -1;
			} else if("plugin-priority" in b.fields) {
				return +1;
			} else if(a.fields.title < b.fields.title) {
				return -1;
			} else if(a.fields.title === b.fields.title) {
				return 0;
			} else {
				return +1;
			}
		});
		// Now go through the plugins in ascending order and assign the shadows
		shadowTiddlers = Object.create(null);
		$tw.utils.each(pluginTiddlers,function(tiddler) {
			// Extract the constituent tiddlers
			if($tw.utils.hop(pluginInfo,tiddler.fields.title)) {
				$tw.utils.each(pluginInfo[tiddler.fields.title].tiddlers,function(constituentTiddler,constituentTitle) {
					// Save the tiddler object
					if(constituentTitle) {
						shadowTiddlers[constituentTitle] = {
							source: tiddler.fields.title,
							tiddler: new $tw.Tiddler(constituentTiddler,{title: constituentTitle})
						};
					}
				});
			}
		});
		shadowTiddlerTitles = null;
		this.clearCache(null);
		this.clearGlobalCache();
		$tw.utils.each(indexers,function(indexer) {
			indexer.rebuild();
		});
	};

	if(this.addIndexersToWiki) {
		this.addIndexersToWiki();
	}
};

// Dummy methods that will be filled in after boot
$tw.Wiki.prototype.clearCache =
$tw.Wiki.prototype.clearGlobalCache =
$tw.Wiki.prototype.enqueueTiddlerEvent = function() {};

// Add an array of tiddlers
$tw.Wiki.prototype.addTiddlers = function(tiddlers) {
	for(var t=0; t<tiddlers.length; t++) {
		this.addTiddler(tiddlers[t]);
	}
};

/*
Define all modules stored in ordinary tiddlers
*/
$tw.Wiki.prototype.defineTiddlerModules = function() {
	this.each(function(tiddler,title) {
		if(tiddler.hasField("module-type")) {
			switch (tiddler.fields.type) {
				case "application/javascript":
					// We only define modules that haven't already been defined, because in the browser modules in system tiddlers are defined in inline script
					if(!$tw.utils.hop($tw.modules.titles,tiddler.fields.title)) {
						$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
					}
					break;
				case "application/json":
					$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],JSON.parse(tiddler.fields.text));
					break;
				case "application/x-tiddler-dictionary":
					$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],$tw.utils.parseFields(tiddler.fields.text));
					break;
			}
		}
	});
};

/*
Register all the module tiddlers that have a module type
*/
$tw.Wiki.prototype.defineShadowModules = function() {
	var self = this;
	this.eachShadow(function(tiddler,title) {
		// Don't define the module if it is overidden by an ordinary tiddler
		if(!self.tiddlerExists(title) && tiddler.hasField("module-type")) {
			// Define the module
			$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
		}
	});
};

/*
Enable safe mode by deleting any tiddlers that override a shadow tiddler
*/
$tw.Wiki.prototype.processSafeMode = function() {
	var self = this,
		overrides = [];
	// Find the overriding tiddlers
	this.each(function(tiddler,title) {
		if(self.isShadowTiddler(title)) {
			console.log(title);
			overrides.push(title);
		}
	});
	// Assemble a report tiddler
	var titleReportTiddler = "TiddlyWiki Safe Mode",
		report = [];
	report.push("TiddlyWiki has been started in [[safe mode|https://tiddlywiki.com/static/SafeMode.html]]. All plugins are temporarily disabled. Most customisations have been disabled by renaming the following tiddlers:")
	// Delete the overrides
	overrides.forEach(function(title) {
		var tiddler = self.getTiddler(title),
			newTitle = "SAFE: " + title;
		self.deleteTiddler(title);
		self.addTiddler(new $tw.Tiddler(tiddler, {title: newTitle}));
		report.push("* [[" + title + "|" + newTitle + "]]");
	});
	report.push()
	this.addTiddler(new $tw.Tiddler({title: titleReportTiddler, text: report.join("\n\n")}));
	// Set $:/DefaultTiddlers to point to our report
	this.addTiddler(new $tw.Tiddler({title: "$:/DefaultTiddlers", text: "[[" + titleReportTiddler + "]]"}));
};

/*
Extracts tiddlers from a typed block of text, specifying default field values
*/
$tw.Wiki.prototype.deserializeTiddlers = function(type,text,srcFields,options) {
	srcFields = srcFields || Object.create(null);
	options = options || {};
	var deserializer = $tw.Wiki.tiddlerDeserializerModules[options.deserializer],
		fields = Object.create(null);
	if(!deserializer) {
		deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
	}
	if(!deserializer && $tw.utils.getFileExtensionInfo(type)) {
		// If we didn't find the serializer, try converting it from an extension to a content type
		type = $tw.utils.getFileExtensionInfo(type).type;
		deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
	}
	if(!deserializer && $tw.config.contentTypeInfo[type]) {
		// see if this type has a different deserializer registered with it
		type = $tw.config.contentTypeInfo[type].deserializerType;
		deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
	}
	if(!deserializer) {
		// If we still don't have a deserializer, treat it as plain text
		deserializer = $tw.Wiki.tiddlerDeserializerModules["text/plain"];
	}
	for(var f in srcFields) {
		fields[f] = srcFields[f];
	}
	if(deserializer) {
		return deserializer.call(this,text,fields,type);
	} else {
		// Return a raw tiddler for unknown types
		fields.text = text;
		return [fields];
	}
};

/*
Register the built in tiddler deserializer modules
*/
var deserializeHeaderComment = function(text,fields) {
		var headerCommentRegExp = new RegExp($tw.config.jsModuleHeaderRegExpString,"mg"),
			match = headerCommentRegExp.exec(text);
		fields.text = text;
		if(match) {
			fields = $tw.utils.parseFields(match[1].split(/\r?\n\r?\n/mg)[0],fields);
		}
		return [fields];
	};
$tw.modules.define("$:/boot/tiddlerdeserializer/js","tiddlerdeserializer",{
	"application/javascript": deserializeHeaderComment
});
$tw.modules.define("$:/boot/tiddlerdeserializer/css","tiddlerdeserializer",{
	"text/css": deserializeHeaderComment
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tid","tiddlerdeserializer",{
	"application/x-tiddler": function(text,fields) {
		var split = text.split(/\r?\n\r?\n/mg);
		if(split.length >= 1) {
			fields = $tw.utils.parseFields(split[0],fields);
		}
		if(split.length >= 2) {
			fields.text = split.slice(1).join("\n\n");
		}
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tids","tiddlerdeserializer",{
	"application/x-tiddlers": function(text,fields) {
		var titles = [],
			tiddlers = [],
			match = /\r?\n\r?\n/mg.exec(text);
		if(match) {
			fields = $tw.utils.parseFields(text.substr(0,match.index),fields);
			var lines = text.substr(match.index + match[0].length).split(/\r?\n/mg);
			for(var t=0; t<lines.length; t++) {
				var line = lines[t];
				if(line.charAt(0) !== "#") {
					var colonPos= line.indexOf(":");
					if(colonPos !== -1) {
						var tiddler = $tw.utils.extend(Object.create(null),fields);
						tiddler.title = (tiddler.title || "") + line.substr(0,colonPos).trim();
						if(titles.indexOf(tiddler.title) !== -1) {
							console.log("Warning: .multids file contains multiple definitions for " + tiddler.title);
						}
						titles.push(tiddler.title);
						tiddler.text = line.substr(colonPos + 2).trim();
						tiddlers.push(tiddler);
					}
				}
			}
		}
		return tiddlers;
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/txt","tiddlerdeserializer",{
	"text/plain": function(text,fields,type) {
		fields.text = text;
		fields.type = type || "text/plain";
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/html","tiddlerdeserializer",{
	"text/html": function(text,fields) {
		fields.text = text;
		fields.type = "text/html";
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/json","tiddlerdeserializer",{
	"application/json": function(text,fields) {
		var isTiddlerValid = function(data) {
				// Not valid if it's not an object with a title property
				if(typeof(data) !== "object" || !$tw.utils.hop(data,"title")) {
					return false;
				}
				for(var f in data) {
					if($tw.utils.hop(data,f)) {
						// Check field name doesn't contain whitespace or control characters
						if(typeof(data[f]) !== "string" || /[\x00-\x1F\s]/.test(f)) {
							return false;
						}
					}
				}
				return true;
			},
			isTiddlerArrayValid = function(data) {
				for(var t=0; t<data.length; t++) {
					if(!isTiddlerValid(data[t])) {
						return false;
					}
				}
				return true;
			},
			data = JSON.parse(text);
		if($tw.utils.isArray(data) && isTiddlerArrayValid(data)) {
			return data;
		} else if(isTiddlerValid(data)) {
			return [data];
		} else {
			// Plain JSON file
			fields.text = text;
			fields.type = "application/json";
			return [fields];
		}
	}
});

/////////////////////////// Browser definitions

if($tw.browser && !$tw.node) {

/*
Decrypt any tiddlers stored within the element with the ID "encryptedArea". The function is asynchronous to allow the user to be prompted for a password
	callback: function to be called the decryption is complete
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
	var encryptedArea = document.getElementById("encryptedStoreArea");
	if(encryptedArea) {
		var encryptedText = encryptedArea.innerHTML,
			prompt = "Enter a password to decrypt this TiddlyWiki";
		// Prompt for the password
		if($tw.utils.hop($tw.boot,"encryptionPrompts")) {
			prompt = $tw.boot.encryptionPrompts.decrypt;
		}
		$tw.passwordPrompt.createPrompt({
			serviceName: prompt,
			noUserName: true,
			submitText: "Decrypt",
			callback: function(data) {
				// Attempt to decrypt the tiddlers
				$tw.crypto.setPassword(data.password);
				var decryptedText = $tw.crypto.decrypt(encryptedText);
				if(decryptedText) {
					var json = JSON.parse(decryptedText);
					for(var title in json) {
						$tw.preloadTiddler(json[title]);
					}
					// Call the callback
					callback();
					// Exit and remove the password prompt
					return true;
				} else {
					// We didn't decrypt everything, so continue to prompt for password
					return false;
				}
			}
		});
	} else {
		// Just invoke the callback straight away if there weren't any encrypted tiddlers
		callback();
	}
};

/*
Register a deserializer that can extract tiddlers from the DOM
*/
$tw.modules.define("$:/boot/tiddlerdeserializer/dom","tiddlerdeserializer",{
	"(DOM)": function(node) {
		var extractTextTiddlers = function(node) {
				var e = node.firstChild;
				while(e && e.nodeName.toLowerCase() !== "pre") {
					e = e.nextSibling;
				}
				var title = node.getAttribute ? node.getAttribute("title") : null;
				if(e && title) {
					var attrs = node.attributes,
						tiddler = {
							text: $tw.utils.htmlDecode(e.innerHTML)
						};
					for(var i=attrs.length-1; i >= 0; i--) {
						tiddler[attrs[i].name] = attrs[i].value;
					}
					return [tiddler];
				} else {
					return null;
				}
			},
			extractModuleTiddlers = function(node) {
				if(node.hasAttribute && node.hasAttribute("data-tiddler-title")) {
					var text = node.innerHTML,
						s = text.indexOf("{"),
						e = text.lastIndexOf("}");
					if(node.hasAttribute("data-module") && s !== -1 && e !== -1) {
						text = text.substring(s+1,e);
					}
					var fields = {text: text},
						attributes = node.attributes;
					for(var a=0; a<attributes.length; a++) {
						if(attributes[a].nodeName.substr(0,13) === "data-tiddler-") {
							fields[attributes[a].nodeName.substr(13)] = attributes[a].value;
						}
					}
					return [fields];
				} else {
					return null;
				}
			},
			t,result = [];
		if(node) {
			for(t = 0; t < node.childNodes.length; t++) {
					var childNode = node.childNodes[t],
						tiddlers = extractTextTiddlers(childNode);
					tiddlers = tiddlers || extractModuleTiddlers(childNode);
					if(tiddlers) {
						result.push.apply(result,tiddlers);
					}
			}
		}
		return result;
	}
});

$tw.loadTiddlersBrowser = function() {
	// In the browser, we load tiddlers from certain elements
	var containerIds = [
		"libraryModules",
		"modules",
		"bootKernelPrefix",
		"bootKernel",
		"styleArea",
		"storeArea",
		"systemArea"
	];
	for(var t=0; t<containerIds.length; t++) {
		$tw.wiki.addTiddlers($tw.wiki.deserializeTiddlers("(DOM)",document.getElementById(containerIds[t])));
	}
};

} else {

/////////////////////////// Server definitions

/*
Get any encrypted tiddlers
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
	// Storing encrypted tiddlers on the server isn't supported yet
	callback();
};

} // End of if($tw.browser && !$tw.node)

/////////////////////////// Node definitions

if($tw.node) {

/*
Load the tiddlers contained in a particular file (and optionally extract fields from the accompanying .meta file) returned as {filepath:,type:,tiddlers:[],hasMetaFile:}
*/
$tw.loadTiddlersFromFile = function(filepath,fields) {
	var ext = path.extname(filepath),
		extensionInfo = $tw.utils.getFileExtensionInfo(ext),
		type = extensionInfo ? extensionInfo.type : null,
		typeInfo = type ? $tw.config.contentTypeInfo[type] : null,
		data = fs.readFileSync(filepath,typeInfo ? typeInfo.encoding : "utf8"),
		tiddlers = $tw.wiki.deserializeTiddlers(ext,data,fields),
		metadata = $tw.loadMetadataForFile(filepath);
	if(metadata) {
		if(type === "application/json") {
			tiddlers = [{text: data, type: "application/json"}];
		}
		tiddlers = [$tw.utils.extend({},tiddlers[0],metadata)];
	}
	return {filepath: filepath, type: type, tiddlers: tiddlers, hasMetaFile: !!metadata};
};

/*
Load the metadata fields in the .meta file corresponding to a particular file
*/
$tw.loadMetadataForFile = function(filepath) {
	var metafilename = filepath + ".meta";
	if(fs.existsSync(metafilename)) {
		return $tw.utils.parseFields(fs.readFileSync(metafilename,"utf8") || "");
	} else {
		return null;
	}
};

/*
A default set of files for TiddlyWiki to ignore during load.
This matches what NPM ignores, and adds "*.meta" to ignore tiddler
metadata files.
*/
$tw.boot.excludeRegExp = /^\.DS_Store$|^.*\.meta$|^\..*\.swp$|^\._.*$|^\.git$|^\.hg$|^\.lock-wscript$|^\.svn$|^\.wafpickle-.*$|^CVS$|^npm-debug\.log$/;

/*
Load all the tiddlers recursively from a directory, including honouring `tiddlywiki.files` files for drawing in external files. Returns an array of {filepath:,type:,tiddlers: [{..fields...}],hasMetaFile:}. Note that no file information is returned for externally loaded tiddlers, just the `tiddlers` property.
*/
$tw.loadTiddlersFromPath = function(filepath,excludeRegExp) {
	excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
	var tiddlers = [];
	if(fs.existsSync(filepath)) {
		var stat = fs.statSync(filepath);
		if(stat.isDirectory()) {
			var files = fs.readdirSync(filepath);
			// Look for a tiddlywiki.files file
			if(files.indexOf("tiddlywiki.files") !== -1) {
				Array.prototype.push.apply(tiddlers,$tw.loadTiddlersFromSpecification(filepath,excludeRegExp));
			} else {
				// If not, read all the files in the directory
				$tw.utils.each(files,function(file) {
					if(!excludeRegExp.test(file) && file !== "plugin.info") {
						tiddlers.push.apply(tiddlers,$tw.loadTiddlersFromPath(filepath + path.sep + file,excludeRegExp));
					}
				});
			}
		} else if(stat.isFile()) {
			tiddlers.push($tw.loadTiddlersFromFile(filepath,{title: filepath}));
		}
	}
	return tiddlers;
};

/*
Load all the tiddlers defined by a `tiddlywiki.files` specification file
filepath: pathname of the directory containing the specification file
*/
$tw.loadTiddlersFromSpecification = function(filepath,excludeRegExp) {
	var tiddlers = [];
	// Read the specification
	var filesInfo = JSON.parse(fs.readFileSync(filepath + path.sep + "tiddlywiki.files","utf8"));
	// Helper to process a file
	var processFile = function(filename,isTiddlerFile,fields,isEditableFile) {
		var extInfo = $tw.config.fileExtensionInfo[path.extname(filename)],
			type = (extInfo || {}).type || fields.type || "text/plain",
			typeInfo = $tw.config.contentTypeInfo[type] || {},
			pathname = path.resolve(filepath,filename),
			text = fs.readFileSync(pathname,typeInfo.encoding || "utf8"),
			metadata = $tw.loadMetadataForFile(pathname) || {},
			fileTiddlers;
		if(isTiddlerFile) {
			fileTiddlers = $tw.wiki.deserializeTiddlers(path.extname(pathname),text,metadata) || [];
		} else {
			fileTiddlers =  [$tw.utils.extend({text: text},metadata)];
		}
		var combinedFields = $tw.utils.extend({},fields,metadata);
		$tw.utils.each(fileTiddlers,function(tiddler) {
			$tw.utils.each(combinedFields,function(fieldInfo,name) {
				if(typeof fieldInfo === "string" || $tw.utils.isArray(fieldInfo)) {
					tiddler[name] = fieldInfo;
				} else {
					var value = tiddler[name];
					switch(fieldInfo.source) {
						case "filename":
							value = path.basename(filename);
							break;
						case "filename-uri-decoded":
							value = decodeURIComponent(path.basename(filename));
							break;
						case "basename":
							value = path.basename(filename,path.extname(filename));
							break;
						case "basename-uri-decoded":
							value = decodeURIComponent(path.basename(filename,path.extname(filename)));
							break;
						case "extname":
							value = path.extname(filename);
							break;
						case "created":
							value = new Date(fs.statSync(pathname).birthtime);
							break;
						case "modified":
							value = new Date(fs.statSync(pathname).mtime);
							break;
					}
					if(fieldInfo.prefix) {
						value = fieldInfo.prefix + value;
					}
					if(fieldInfo.suffix) {
						value = value + fieldInfo.suffix;
					}
					tiddler[name] = value;
				}
			});
		});
		if(isEditableFile) {
			tiddlers.push({filepath: pathname, hasMetaFile: !!metadata && !isTiddlerFile, isEditableFile: true, tiddlers: fileTiddlers});
		} else {
			tiddlers.push({tiddlers: fileTiddlers});
		}
	};
	// Process the listed tiddlers
	$tw.utils.each(filesInfo.tiddlers,function(tidInfo) {
		if(tidInfo.prefix && tidInfo.suffix) {
			tidInfo.fields.text = {prefix: tidInfo.prefix,suffix: tidInfo.suffix};
		} else if(tidInfo.prefix) {
			tidInfo.fields.text = {prefix: tidInfo.prefix};
		} else if(tidInfo.suffix) {
			tidInfo.fields.text = {suffix: tidInfo.suffix};
		}
		processFile(tidInfo.file,tidInfo.isTiddlerFile,tidInfo.fields);
	});
	// Process any listed directories
	$tw.utils.each(filesInfo.directories,function(dirSpec) {
		// Read literal directories directly
		if(typeof dirSpec === "string") {
			var pathname = path.resolve(filepath,dirSpec);
			if(fs.existsSync(pathname) && fs.statSync(pathname).isDirectory()) {
				tiddlers.push.apply(tiddlers,$tw.loadTiddlersFromPath(pathname,excludeRegExp));
			}
		} else {
			// Process directory specifier
			var dirPath = path.resolve(filepath,dirSpec.path);
			if(fs.existsSync(dirPath) && fs.statSync(dirPath).isDirectory()) {
				var	files = fs.readdirSync(dirPath),
					fileRegExp = new RegExp(dirSpec.filesRegExp || "^.*$"),
					metaRegExp = /^.*\.meta$/;
				for(var t=0; t<files.length; t++) {
					var filename = files[t];
					if(filename !== "tiddlywiki.files" && !metaRegExp.test(filename) && fileRegExp.test(filename)) {
						processFile(dirPath + path.sep + filename,dirSpec.isTiddlerFile,dirSpec.fields,dirSpec.isEditableFile);
					}
				}
			} else {
				console.log("Warning: a directory in a tiddlywiki.files file does not exist.");
				console.log("dirPath: " + dirPath);	
				console.log("tiddlywiki.files location: " + filepath);
			}
		}
	});
	return tiddlers;
};

/*
Load the tiddlers from a plugin folder, and package them up into a proper JSON plugin tiddler
*/
$tw.loadPluginFolder = function(filepath,excludeRegExp) {
	excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
	var infoPath = filepath + path.sep + "plugin.info";
	if(fs.existsSync(filepath) && fs.statSync(filepath).isDirectory()) {
		// Read the plugin information
		if(!fs.existsSync(infoPath) || !fs.statSync(infoPath).isFile()) {
			console.log("Warning: missing plugin.info file in " + filepath);
			return null;
		}
		var pluginInfo = JSON.parse(fs.readFileSync(infoPath,"utf8"));
		// Read the plugin files
		var pluginFiles = $tw.loadTiddlersFromPath(filepath,excludeRegExp);
		// Save the plugin tiddlers into the plugin info
		pluginInfo.tiddlers = pluginInfo.tiddlers || Object.create(null);
		for(var f=0; f<pluginFiles.length; f++) {
			var tiddlers = pluginFiles[f].tiddlers;
			for(var t=0; t<tiddlers.length; t++) {
				var tiddler= tiddlers[t];
				if(tiddler.title) {
					pluginInfo.tiddlers[tiddler.title] = tiddler;
				}
			}
		}
		// Give the plugin the same version number as the core if it doesn't have one
		if(!("version" in pluginInfo)) {
			pluginInfo.version = $tw.packageInfo.version;
		}
		// Use "plugin" as the plugin-type if we don't have one
		if(!("plugin-type" in pluginInfo)) {
			pluginInfo["plugin-type"] = "plugin";
		}
		pluginInfo.dependents = pluginInfo.dependents || [];
		pluginInfo.type = "application/json";
		// Set plugin text
		pluginInfo.text = JSON.stringify({tiddlers: pluginInfo.tiddlers},null,4);
		delete pluginInfo.tiddlers;
		// Deserialise array fields (currently required for the dependents field)
		for(var field in pluginInfo) {
			if($tw.utils.isArray(pluginInfo[field])) {
				pluginInfo[field] = $tw.utils.stringifyList(pluginInfo[field]);
			}
		}
		return pluginInfo;
	} else {
			return null;
	}
};

/*
name: Name of the plugin to find
paths: array of file paths to search for it
Returns the path of the plugin folder
*/
$tw.findLibraryItem = function(name,paths) {
	var pathIndex = 0;
	do {
		var pluginPath = path.resolve(paths[pathIndex],"./" + name)
		if(fs.existsSync(pluginPath) && fs.statSync(pluginPath).isDirectory()) {
			return pluginPath;
		}
	} while(++pathIndex < paths.length);
	return null;
};

/*
name: Name of the plugin to load
paths: array of file paths to search for it
*/
$tw.loadPlugin = function(name,paths) {
	var pluginPath = $tw.findLibraryItem(name,paths);
	if(pluginPath) {
		var pluginFields = $tw.loadPluginFolder(pluginPath);
		if(pluginFields) {
			$tw.wiki.addTiddler(pluginFields);
			return;
		}
	}
	console.log("Warning: Cannot find plugin '" + name + "'");
};

/*
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
Returns an array of search paths
*/
$tw.getLibraryItemSearchPaths = function(libraryPath,envVar) {
	var pluginPaths = [path.resolve($tw.boot.corePath,libraryPath)],
		env = process.env[envVar];
	if(env) {
		env.split(path.delimiter).map(function(item) {
			if(item) {
				pluginPaths.push(item);
			}
		});
	}
	return pluginPaths;
};

/*
plugins: Array of names of plugins (eg, "tiddlywiki/filesystemadaptor")
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
*/
$tw.loadPlugins = function(plugins,libraryPath,envVar) {
	if(plugins) {
		var pluginPaths = $tw.getLibraryItemSearchPaths(libraryPath,envVar);
		for(var t=0; t<plugins.length; t++) {
			$tw.loadPlugin(plugins[t],pluginPaths);
		}
	}
};

/*
path: path of wiki directory
options:
	parentPaths: array of parent paths that we mustn't recurse into
	readOnly: true if the tiddler file paths should not be retained
*/
$tw.loadWikiTiddlers = function(wikiPath,options) {
	options = options || {};
	var parentPaths = options.parentPaths || [],
		wikiInfoPath = path.resolve(wikiPath,$tw.config.wikiInfo),
		wikiInfo,
		pluginFields;
	// Bail if we don't have a wiki info file
	if(fs.existsSync(wikiInfoPath)) {
		wikiInfo = JSON.parse(fs.readFileSync(wikiInfoPath,"utf8"));
	} else {
		return null;
	}
	// Save the path to the tiddlers folder for the filesystemadaptor
	var config = wikiInfo.config || {};
	if($tw.boot.wikiPath == wikiPath) {
		$tw.boot.wikiTiddlersPath = path.resolve($tw.boot.wikiPath,config["default-tiddler-location"] || $tw.config.wikiTiddlersSubDir);
	}
	// Load any parent wikis
	if(wikiInfo.includeWikis) {
		parentPaths = parentPaths.slice(0);
		parentPaths.push(wikiPath);
		$tw.utils.each(wikiInfo.includeWikis,function(info) {
			if(typeof info === "string") {
				info = {path: info};
			}
			var resolvedIncludedWikiPath = path.resolve(wikiPath,info.path);
			if(parentPaths.indexOf(resolvedIncludedWikiPath) === -1) {
				var subWikiInfo = $tw.loadWikiTiddlers(resolvedIncludedWikiPath,{
					parentPaths: parentPaths,
					readOnly: info["read-only"]
				});
				// Merge the build targets
				wikiInfo.build = $tw.utils.extend([],subWikiInfo.build,wikiInfo.build);
			} else {
				$tw.utils.error("Cannot recursively include wiki " + resolvedIncludedWikiPath);
			}
		});
	}
	// Load any plugins, themes and languages listed in the wiki info file
	$tw.loadPlugins(wikiInfo.plugins,$tw.config.pluginsPath,$tw.config.pluginsEnvVar);
	$tw.loadPlugins(wikiInfo.themes,$tw.config.themesPath,$tw.config.themesEnvVar);
	$tw.loadPlugins(wikiInfo.languages,$tw.config.languagesPath,$tw.config.languagesEnvVar);
	// Load the wiki files, registering them as writable
	var resolvedWikiPath = path.resolve(wikiPath,$tw.config.wikiTiddlersSubDir);
	$tw.utils.each($tw.loadTiddlersFromPath(resolvedWikiPath),function(tiddlerFile) {
		if(!options.readOnly && tiddlerFile.filepath) {
			$tw.utils.each(tiddlerFile.tiddlers,function(tiddler) {
				$tw.boot.files[tiddler.title] = {
					filepath: tiddlerFile.filepath,
					type: tiddlerFile.type,
					hasMetaFile: tiddlerFile.hasMetaFile,
					isEditableFile: config["retain-original-tiddler-path"] || tiddlerFile.isEditableFile || tiddlerFile.filepath.indexOf($tw.boot.wikiTiddlersPath) !== 0
				};
			});
		}
		$tw.wiki.addTiddlers(tiddlerFile.tiddlers);
	});
	if ($tw.boot.wikiPath == wikiPath) {
		// Save the original tiddler file locations if requested
		var output = {}, relativePath, fileInfo;
		for(var title in $tw.boot.files) {
			fileInfo = $tw.boot.files[title];
			if(fileInfo.isEditableFile) {
				relativePath = path.relative($tw.boot.wikiTiddlersPath,fileInfo.filepath);
				fileInfo.originalpath = relativePath;
				output[title] =
					path.sep === "/" ?
					relativePath :
					relativePath.split(path.sep).join("/");
			}
		}
		if(Object.keys(output).length > 0){
			$tw.wiki.addTiddler({title: "$:/config/OriginalTiddlerPaths", type: "application/json", text: JSON.stringify(output)});
		}
	}
	// Load any plugins within the wiki folder
	var wikiPluginsPath = path.resolve(wikiPath,$tw.config.wikiPluginsSubDir);
	if(fs.existsSync(wikiPluginsPath)) {
		var pluginFolders = fs.readdirSync(wikiPluginsPath);
		for(var t=0; t<pluginFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiPluginsPath,"./" + pluginFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	// Load any themes within the wiki folder
	var wikiThemesPath = path.resolve(wikiPath,$tw.config.wikiThemesSubDir);
	if(fs.existsSync(wikiThemesPath)) {
		var themeFolders = fs.readdirSync(wikiThemesPath);
		for(var t=0; t<themeFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiThemesPath,"./" + themeFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	// Load any languages within the wiki folder
	var wikiLanguagesPath = path.resolve(wikiPath,$tw.config.wikiLanguagesSubDir);
	if(fs.existsSync(wikiLanguagesPath)) {
		var languageFolders = fs.readdirSync(wikiLanguagesPath);
		for(var t=0; t<languageFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiLanguagesPath,"./" + languageFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	return wikiInfo;
};

$tw.loadTiddlersNode = function() {
	// Load the boot tiddlers
	$tw.utils.each($tw.loadTiddlersFromPath($tw.boot.bootPath),function(tiddlerFile) {
		$tw.wiki.addTiddlers(tiddlerFile.tiddlers);
	});
	// Load the core tiddlers
	$tw.wiki.addTiddler($tw.loadPluginFolder($tw.boot.corePath));
	// Load any extra plugins
	$tw.utils.each($tw.boot.extraPlugins,function(name) {
		if(name.charAt(0) === "+") { // Relative path to plugin
			var pluginFields = $tw.loadPluginFolder(name.substring(1));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		} else {
			var parts = name.split("/"),
				type = parts[0];
			if(parts.length  === 3 && ["plugins","themes","languages"].indexOf(type) !== -1) {
				$tw.loadPlugins([parts[1] + "/" + parts[2]],$tw.config[type + "Path"],$tw.config[type + "EnvVar"]);
			}			
		}
	});
	// Load the tiddlers from the wiki directory
	if($tw.boot.wikiPath) {
		$tw.boot.wikiInfo = $tw.loadWikiTiddlers($tw.boot.wikiPath);
	}
};

// End of if($tw.node)
}

/////////////////////////// Main startup function called once tiddlers have been decrypted

/*
Startup TiddlyWiki
*/
$tw.boot.initStartup = function(options) {
	// Get the URL hash and check for safe mode
	$tw.locationHash = "#";
	if($tw.browser && !$tw.node) {
		if(location.hash === "#:safe") {
			$tw.safeMode = true;
		} else {
			$tw.locationHash = $tw.utils.getLocationHash();
		}
	}
	// Initialise some more $tw properties
	$tw.utils.deepDefaults($tw,{
		modules: { // Information about each module
			titles: Object.create(null), // hashmap by module title of {fn:, exports:, moduleType:}
			types: {} // hashmap by module type of hashmap of exports
		},
		config: { // Configuration overridables
			pluginsPath: "../plugins/",
			themesPath: "../themes/",
			languagesPath: "../languages/",
			editionsPath: "../editions/",
			wikiInfo: "./tiddlywiki.info",
			wikiPluginsSubDir: "./plugins",
			wikiThemesSubDir: "./themes",
			wikiLanguagesSubDir: "./languages",
			wikiTiddlersSubDir: "./tiddlers",
			wikiOutputSubDir: "./output",
			jsModuleHeaderRegExpString: "^\\/\\*\\\\(?:\\r?\\n)((?:^[^\\r\\n]*(?:\\r?\\n))+?)(^\\\\\\*\\/$(?:\\r?\\n)?)",
			fileExtensionInfo: Object.create(null), // Map file extension to {type:}
			contentTypeInfo: Object.create(null), // Map type to {encoding:,extension:}
			pluginsEnvVar: "TIDDLYWIKI_PLUGIN_PATH",
			themesEnvVar: "TIDDLYWIKI_THEME_PATH",
			languagesEnvVar: "TIDDLYWIKI_LANGUAGE_PATH",
			editionsEnvVar: "TIDDLYWIKI_EDITION_PATH"
		},
		log: {}, // Log flags
		unloadTasks: []
	});
	if(!$tw.boot.tasks.readBrowserTiddlers) {
		// For writable tiddler files, a hashmap of title to {filepath:,type:,hasMetaFile:}
		$tw.boot.files = Object.create(null);
		// System paths and filenames
		$tw.boot.bootPath = options.bootPath || path.dirname(module.filename);
		$tw.boot.corePath = path.resolve($tw.boot.bootPath,"../core");
		// If there's no arguments then default to `--help`
		if($tw.boot.argv.length === 0) {
			$tw.boot.argv = ["--help"];
		}
		// Parse any extra plugin references
		$tw.boot.extraPlugins = $tw.boot.extraPlugins || [];
		while($tw.boot.argv[0] && $tw.boot.argv[0].indexOf("+") === 0) {
			$tw.boot.extraPlugins.push($tw.boot.argv[0].substring(1));
			$tw.boot.argv.splice(0,1);
		}
		// If the first command line argument doesn't start with `--` then we
		// interpret it as the path to the wiki folder, which will otherwise default
		// to the current folder
		if($tw.boot.argv[0] && $tw.boot.argv[0].indexOf("--") !== 0) {
			$tw.boot.wikiPath = $tw.boot.argv[0];
			$tw.boot.argv = $tw.boot.argv.slice(1);
		} else {
			$tw.boot.wikiPath = process.cwd();
		}
		// Read package info
		$tw.packageInfo = $tw.packageInfo || require("../package.json");
		// Check node version number
		if(!$tw.utils.checkVersions(process.version.substr(1),$tw.packageInfo.engines.node.substr(2))) {
			$tw.utils.error("TiddlyWiki5 requires node.js version " + $tw.packageInfo.engines.node);
		}
	}
	// Add file extension information
	$tw.utils.registerFileType("text/vnd.tiddlywiki","utf8",".tid");
	$tw.utils.registerFileType("application/x-tiddler","utf8",".tid");
	$tw.utils.registerFileType("application/x-tiddlers","utf8",".multids");
	$tw.utils.registerFileType("application/x-tiddler-html-div","utf8",".tiddler");
	$tw.utils.registerFileType("text/vnd.tiddlywiki2-recipe","utf8",".recipe");
	$tw.utils.registerFileType("text/plain","utf8",".txt");
	$tw.utils.registerFileType("text/css","utf8",".css");
	$tw.utils.registerFileType("text/html","utf8",[".html",".htm"]);
	$tw.utils.registerFileType("application/hta","utf16le",".hta",{deserializerType:"text/html"});
	$tw.utils.registerFileType("application/javascript","utf8",".js");
	$tw.utils.registerFileType("application/json","utf8",".json");
	$tw.utils.registerFileType("application/pdf","base64",".pdf",{flags:["image"]});
	$tw.utils.registerFileType("application/zip","base64",".zip");
	$tw.utils.registerFileType("application/x-zip-compressed","base64",".zip");
	$tw.utils.registerFileType("image/jpeg","base64",[".jpg",".jpeg"],{flags:["image"]});
	$tw.utils.registerFileType("image/jpg","base64",[".jpg",".jpeg"],{flags:["image"]});
	$tw.utils.registerFileType("image/png","base64",".png",{flags:["image"]});
	$tw.utils.registerFileType("image/gif","base64",".gif",{flags:["image"]});
	$tw.utils.registerFileType("image/webp","base64",".webp",{flags:["image"]});
	$tw.utils.registerFileType("image/heic","base64",".heic",{flags:["image"]});
	$tw.utils.registerFileType("image/heif","base64",".heif",{flags:["image"]});
	$tw.utils.registerFileType("image/svg+xml","utf8",".svg",{flags:["image"]});
	$tw.utils.registerFileType("image/vnd.microsoft.icon","base64",".ico",{flags:["image"]});
	$tw.utils.registerFileType("image/x-icon","base64",".ico",{flags:["image"]});
	$tw.utils.registerFileType("application/font-woff","base64",".woff");
	$tw.utils.registerFileType("application/x-font-ttf","base64",".woff");
	$tw.utils.registerFileType("application/font-woff2","base64",".woff2");
	$tw.utils.registerFileType("audio/ogg","base64",".ogg");
	$tw.utils.registerFileType("video/ogg","base64",[".ogm",".ogv",".ogg"]);
	$tw.utils.registerFileType("video/webm","base64",".webm");
	$tw.utils.registerFileType("video/mp4","base64",".mp4");
	$tw.utils.registerFileType("audio/mp3","base64",".mp3");
	$tw.utils.registerFileType("audio/mp4","base64",[".mp4",".m4a"]);
	$tw.utils.registerFileType("text/markdown","utf8",[".md",".markdown"],{deserializerType:"text/x-markdown"});
	$tw.utils.registerFileType("text/x-markdown","utf8",[".md",".markdown"]);
	$tw.utils.registerFileType("application/enex+xml","utf8",".enex");
	$tw.utils.registerFileType("application/vnd.openxmlformats-officedocument.wordprocessingml.document","base64",".docx");
	$tw.utils.registerFileType("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","base64",".xlsx");
	$tw.utils.registerFileType("application/vnd.openxmlformats-officedocument.presentationml.presentation","base64",".pptx");
	$tw.utils.registerFileType("text/x-bibtex","utf8",".bib",{deserializerType:"application/x-bibtex"});
	$tw.utils.registerFileType("application/x-bibtex","utf8",".bib");
	$tw.utils.registerFileType("application/epub+zip","base64",".epub");
	$tw.utils.registerFileType("application/octet-stream","base64",".octet-stream");
	// Create the wiki store for the app
	$tw.wiki = new $tw.Wiki();
	// Install built in tiddler fields modules
	$tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap("tiddlerfield");
	// Install the tiddler deserializer modules
	$tw.Wiki.tiddlerDeserializerModules = Object.create(null);
	$tw.modules.applyMethods("tiddlerdeserializer",$tw.Wiki.tiddlerDeserializerModules);
	// Call unload handlers in the browser
	if($tw.browser) {
		window.onbeforeunload = function(event) {
			event = event || {};
			var result;
			$tw.utils.each($tw.unloadTasks,function(task) {
				var r = task(event);
				if(r) {
					result = r;
				}
			});
			return result;
		}
	}
};
$tw.boot.loadStartup = function(options){

	// Load tiddlers
	if($tw.boot.tasks.readBrowserTiddlers) {
		$tw.loadTiddlersBrowser();
	} else {
		$tw.loadTiddlersNode();
	}
	// Load any preloaded tiddlers
	if($tw.preloadTiddlers) {
		$tw.wiki.addTiddlers($tw.preloadTiddlers);
	}
	// Give hooks a chance to modify the store
	$tw.hooks.invokeHook("th-boot-tiddlers-loaded");
}
$tw.boot.execStartup = function(options){
	// Unpack plugin tiddlers
	$tw.wiki.readPluginInfo();
	$tw.wiki.registerPluginTiddlers("plugin",$tw.safeMode ? ["$:/core"] : undefined);
	$tw.wiki.unpackPluginTiddlers();
	// Process "safe mode"
	if($tw.safeMode) {
		$tw.wiki.processSafeMode();
	}
	// Register typed modules from the tiddlers we've just loaded
	$tw.wiki.defineTiddlerModules();
	// And any modules within plugins
	$tw.wiki.defineShadowModules();
	// Make sure the crypto state tiddler is up to date
	if($tw.crypto) {
		$tw.crypto.updateCryptoStateTiddler();
	}
	// Gather up any startup modules
	$tw.boot.remainingStartupModules = []; // Array of startup modules
	$tw.modules.forEachModuleOfType("startup",function(title,module) {
		if(module.startup) {
			$tw.boot.remainingStartupModules.push(module);
		}
	});
	// Keep track of the startup tasks that have been executed
	$tw.boot.executedStartupModules = Object.create(null);
	$tw.boot.disabledStartupModules = $tw.boot.disabledStartupModules || [];
	// Repeatedly execute the next eligible task
	$tw.boot.executeNextStartupTask(options.callback);
}
/*
Startup TiddlyWiki
*/
$tw.boot.startup = function(options) {
	options = options || {};
	// Get the URL hash and check for safe mode
	$tw.boot.initStartup(options);
	$tw.boot.loadStartup(options);
	$tw.boot.execStartup(options);
};

/*
Add another unload task
*/
$tw.addUnloadTask = function(task) {
	if($tw.unloadTasks.indexOf(task) === -1) {
		$tw.unloadTasks.push(task);
	}
}

/*
Execute the remaining eligible startup tasks
*/
$tw.boot.executeNextStartupTask = function(callback) {
	// Find the next eligible task
	var taskIndex = 0, task,
		asyncTaskCallback = function() {
			if(task.name) {
				$tw.boot.executedStartupModules[task.name] = true;
			}
			return $tw.boot.executeNextStartupTask(callback);
		};
	while(taskIndex < $tw.boot.remainingStartupModules.length) {
		task = $tw.boot.remainingStartupModules[taskIndex];
		if($tw.boot.isStartupTaskEligible(task)) {
			// Remove this task from the list
			$tw.boot.remainingStartupModules.splice(taskIndex,1);
			// Assemble log message
			var s = ["Startup task:",task.name];
			if(task.platforms) {
				s.push("platforms:",task.platforms.join(","));
			}
			if(task.after) {
				s.push("after:",task.after.join(","));
			}
			if(task.before) {
				s.push("before:",task.before.join(","));
			}
			$tw.boot.log(s.join(" "));
			// Execute task
			if(!$tw.utils.hop(task,"synchronous") || task.synchronous) {
				task.startup();
				if(task.name) {
					$tw.boot.executedStartupModules[task.name] = true;
				}
				return $tw.boot.executeNextStartupTask(callback);
			} else {
				task.startup(asyncTaskCallback);
				return true;
			}
		}
		taskIndex++;
	}
	if(typeof callback === 'function') {
		callback();
	}
	return false;
};

/*
Returns true if we are running on one of the platforms specified in taskModule's
`platforms` array; or if `platforms` property is not defined.
*/
$tw.boot.doesTaskMatchPlatform = function(taskModule) {
	var platforms = taskModule.platforms;
	if(platforms) {
		for(var t=0; t<platforms.length; t++) {
			switch (platforms[t]) {
				case "browser":
					if ($tw.browser) {
						return true;
					}
					break;
				case "node":
					if ($tw.node) {
						return true;
					}
					break;
				default:
					$tw.utils.error("Module " + taskModule.name + ": '" + platforms[t] + "' in export.platforms invalid");
			}
		}
		return false;
	}
	return true;
};

$tw.boot.isStartupTaskEligible = function(taskModule) {
	var t;
	// Check that the platform is correct
	if(!$tw.boot.doesTaskMatchPlatform(taskModule)) {
		return false;
	}
	var name = taskModule.name,
		remaining = $tw.boot.remainingStartupModules;
	if(name) {
		// Fail if this module is disabled
		if($tw.boot.disabledStartupModules.indexOf(name) !== -1) {
			return false;
		}
		// Check that no other outstanding tasks must be executed before this one
		for(t=0; t<remaining.length; t++) {
			var task = remaining[t];
			if(task.before && task.before.indexOf(name) !== -1) {
				if($tw.boot.doesTaskMatchPlatform(task) || (task.name && $tw.boot.disabledStartupModules.indexOf(name) !== -1)) {
					return false;
				}
			}
		}
	}
	// Check that all of the tasks that we must be performed after has been done
	var after = taskModule.after;
	if(after) {
		for(t=0; t<after.length; t++) {
			if(!$tw.boot.executedStartupModules[after[t]]) {
				return false;
			}
		}
	}
	return true;
};

/*
Global Hooks mechanism which allows plugins to modify default functionality
*/
$tw.hooks = $tw.hooks || { names: {}};

/*
Add hooks to the  hashmap
*/
$tw.hooks.addHook = function(hookName,definition) {
	if($tw.utils.hop($tw.hooks.names,hookName)) {
		$tw.hooks.names[hookName].push(definition);
	}
	else {
		$tw.hooks.names[hookName] = [definition];
	}
};

/*
Invoke the hook by key
*/
$tw.hooks.invokeHook = function(hookName /*, value,... */) {
	var args = Array.prototype.slice.call(arguments,1);
	if($tw.utils.hop($tw.hooks.names,hookName)) {
		for (var i = 0; i < $tw.hooks.names[hookName].length; i++) {
			args[0] = $tw.hooks.names[hookName][i].apply(null,args);
		}
	}
	return args[0];
};

/////////////////////////// Main boot function to decrypt tiddlers and then startup

$tw.boot.boot = function(callback) {
	// Initialise crypto object
	$tw.crypto = new $tw.utils.Crypto();
	// Initialise password prompter
	if($tw.browser && !$tw.node) {
		$tw.passwordPrompt = new $tw.utils.PasswordPrompt();
	}
	// Preload any encrypted tiddlers
	$tw.boot.decryptEncryptedTiddlers(function() {
		// Startup
		$tw.boot.startup({callback: callback});
	});
};

/////////////////////////// Autoboot in the browser

if($tw.browser && !$tw.boot.suppressBoot) {
	$tw.boot.boot();
}

return $tw;

});

if(typeof(exports) !== "undefined") {
	exports.TiddlyWiki = _boot;
} else {
	_boot(window.$tw);
}
</script>
</div>
<!--~~ Raw markup for the bottom of the body section ~~-->

</body>
</html>
